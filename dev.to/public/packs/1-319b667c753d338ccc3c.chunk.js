webpackJsonp([1],Array(204).concat([
/* 204 */
/*!************************************************!*\
  !*** ./node_modules/twilio-video/es5/index.js ***!
  \************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar version = __webpack_require__(/*! ../package.json */ 219).version;\nvar Video = {};\n\nObject.defineProperties(Video, {\n  connect: {\n    enumerable: true,\n    value: __webpack_require__(/*! ./connect */ 262)\n  },\n  createLocalAudioTrack: {\n    enumerable: true,\n    value: __webpack_require__(/*! ./createlocaltrack */ 261).audio\n  },\n  createLocalTracks: {\n    enumerable: true,\n    value: __webpack_require__(/*! ./createlocaltracks */ 221)\n  },\n  createLocalVideoTrack: {\n    enumerable: true,\n    value: __webpack_require__(/*! ./createlocaltrack */ 261).video\n  },\n  isSupported: {\n    enumerable: true,\n    value: __webpack_require__(/*! ./util/support */ 379)()\n  },\n  LocalAudioTrack: {\n    enumerable: true,\n    value: __webpack_require__(/*! ./media/track/es5/localaudiotrack */ 216)\n  },\n  LocalDataTrack: {\n    enumerable: true,\n    value: __webpack_require__(/*! ./media/track/es5/localdatatrack */ 217)\n  },\n  LocalVideoTrack: {\n    enumerable: true,\n    value: __webpack_require__(/*! ./media/track/es5/localvideotrack */ 218)\n  },\n  version: {\n    enumerable: true,\n    value: version\n  }\n});\n\nmodule.exports = Video;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9pbmRleC5qcz80NGFiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGNBQWMsbUJBQU8sQ0FBQywwQkFBaUI7QUFDdkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBTyxDQUFDLG9CQUFXO0FBQzlCLEdBQUc7QUFDSDtBQUNBO0FBQ0EsV0FBVyxtQkFBTyxDQUFDLDZCQUFvQjtBQUN2QyxHQUFHO0FBQ0g7QUFDQTtBQUNBLFdBQVcsbUJBQU8sQ0FBQyw4QkFBcUI7QUFDeEMsR0FBRztBQUNIO0FBQ0E7QUFDQSxXQUFXLG1CQUFPLENBQUMsNkJBQW9CO0FBQ3ZDLEdBQUc7QUFDSDtBQUNBO0FBQ0EsV0FBVyxtQkFBTyxDQUFDLHlCQUFnQjtBQUNuQyxHQUFHO0FBQ0g7QUFDQTtBQUNBLFdBQVcsbUJBQU8sQ0FBQyw0Q0FBbUM7QUFDdEQsR0FBRztBQUNIO0FBQ0E7QUFDQSxXQUFXLG1CQUFPLENBQUMsMkNBQWtDO0FBQ3JELEdBQUc7QUFDSDtBQUNBO0FBQ0EsV0FBVyxtQkFBTyxDQUFDLDRDQUFtQztBQUN0RCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjIwNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHZlcnNpb24gPSByZXF1aXJlKCcuLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xudmFyIFZpZGVvID0ge307XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFZpZGVvLCB7XG4gIGNvbm5lY3Q6IHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiByZXF1aXJlKCcuL2Nvbm5lY3QnKVxuICB9LFxuICBjcmVhdGVMb2NhbEF1ZGlvVHJhY2s6IHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiByZXF1aXJlKCcuL2NyZWF0ZWxvY2FsdHJhY2snKS5hdWRpb1xuICB9LFxuICBjcmVhdGVMb2NhbFRyYWNrczoge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgdmFsdWU6IHJlcXVpcmUoJy4vY3JlYXRlbG9jYWx0cmFja3MnKVxuICB9LFxuICBjcmVhdGVMb2NhbFZpZGVvVHJhY2s6IHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiByZXF1aXJlKCcuL2NyZWF0ZWxvY2FsdHJhY2snKS52aWRlb1xuICB9LFxuICBpc1N1cHBvcnRlZDoge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgdmFsdWU6IHJlcXVpcmUoJy4vdXRpbC9zdXBwb3J0JykoKVxuICB9LFxuICBMb2NhbEF1ZGlvVHJhY2s6IHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiByZXF1aXJlKCcuL21lZGlhL3RyYWNrL2VzNS9sb2NhbGF1ZGlvdHJhY2snKVxuICB9LFxuICBMb2NhbERhdGFUcmFjazoge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgdmFsdWU6IHJlcXVpcmUoJy4vbWVkaWEvdHJhY2svZXM1L2xvY2FsZGF0YXRyYWNrJylcbiAgfSxcbiAgTG9jYWxWaWRlb1RyYWNrOiB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogcmVxdWlyZSgnLi9tZWRpYS90cmFjay9lczUvbG9jYWx2aWRlb3RyYWNrJylcbiAgfSxcbiAgdmVyc2lvbjoge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgdmFsdWU6IHZlcnNpb25cbiAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVmlkZW87XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMjA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///204\n");

/***/ }),
/* 205 */,
/* 206 */
/*!*****************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/index.js ***!
  \*****************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* globals mozRTCPeerConnection, RTCRtpTransceiver */\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar constants = __webpack_require__(/*! ./constants */ 208);\n\n/**\n * Return the given {@link LocalTrack} or a new {@link LocalTrack} for the\n * given MediaStreamTrack.\n * @param {LocalTrack|MediaStreamTrack} track\n * @param {object} options\n * @returns {LocalTrack}\n * @throws {TypeError}\n */\nfunction asLocalTrack(track, options) {\n  if (track instanceof options.LocalAudioTrack || track instanceof options.LocalVideoTrack || track instanceof options.LocalDataTrack) {\n    return track;\n  }\n  if (track instanceof options.MediaStreamTrack) {\n    return track.kind === 'audio' ? new options.LocalAudioTrack(track, options) : new options.LocalVideoTrack(track, options);\n  }\n  throw constants.typeErrors.INVALID_TYPE('track', 'LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack');\n}\n\n/**\n * Create a new {@link LocalTrackPublication} for the given {@link LocalTrack}.\n * @param {LocalTrack} track\n * @param {string} sid\n * @param {function(track: LocalTrackPublication): void} unpublish\n * @param {object} options\n */\nfunction asLocalTrackPublication(track, sid, unpublish, options) {\n  var LocalTrackPublication = {\n    audio: options.LocalAudioTrackPublication,\n    video: options.LocalVideoTrackPublication,\n    data: options.LocalDataTrackPublication\n  }[track.kind];\n  return new LocalTrackPublication(sid, track, unpublish, options);\n}\n\n/**\n * Capitalize a word.\n * @param {string} word\n * @returns {string} capitalized\n */\nfunction capitalize(word) {\n  return word[0].toUpperCase() + word.slice(1);\n}\n\n/**\n * Log deprecation warnings for the given events of an EventEmitter.\n * @param {string} name\n * @param {EventEmitter} emitter\n * @param {Map<string, string>} events\n * @param {Log} log\n */\nfunction deprecateEvents(name, emitter, events, log) {\n  var warningsShown = new Set();\n  emitter.on('newListener', function newListener(event) {\n    if (events.has(event) && !warningsShown.has(event)) {\n      log.deprecated(name + '#' + event + ' has been deprecated and scheduled for removal in twilio-video.js@2.0.0.' + (events.get(event) ? ' Use ' + name + '#' + events.get(event) + ' instead.' : ''));\n      warningsShown.add(event);\n    }\n    if (warningsShown.size >= events.size) {\n      emitter.removeListener('newListener', newListener);\n    }\n  });\n}\n\n/**\n * Finds the items in list1 that are not in list2.\n * @param {Array<*>|Map<*>|Set<*>} list1\n * @param {Array<*>|Map<*>|Set<*>} list2\n * @returns {Set}\n */\nfunction difference(list1, list2) {\n  list1 = Array.isArray(list1) ? new Set(list1) : new Set(list1.values());\n  list2 = Array.isArray(list2) ? new Set(list2) : new Set(list2.values());\n\n  var difference = new Set();\n\n  list1.forEach(function (item) {\n    if (!list2.has(item)) {\n      difference.add(item);\n    }\n  });\n\n  return difference;\n}\n\n/**\n * Filter out the keys in an object with a given value.\n * @param {object} object - Object to be filtered\n * @param {*} [filterValue] - Value to be filtered out; If not specified, then\n *   filters out all keys which have an explicit value of \"undefined\"\n * @returns {object} - Filtered object\n */\nfunction filterObject(object, filterValue) {\n  return Object.keys(object).reduce(function (filtered, key) {\n    if (object[key] !== filterValue) {\n      filtered[key] = object[key];\n    }\n    return filtered;\n  }, {});\n}\n\n/**\n * Map a list to an array of arrays, and return the flattened result.\n * @param {Array<*>|Set<*>|Map<*>} list\n * @param {function(*): Array<*>} [mapFn]\n * @returns Array<*>\n */\nfunction flatMap(list, mapFn) {\n  var listArray = list instanceof Map || list instanceof Set ? Array.from(list.values()) : list;\n\n  mapFn = mapFn || function mapFn(item) {\n    return item;\n  };\n\n  return listArray.reduce(function (flattened, item) {\n    var mapped = mapFn(item);\n    return flattened.concat(mapped);\n  }, []);\n}\n\n/**\n * Get the user agent string, or return \"Unknown\".\n * @returns {string}\n */\nfunction getUserAgent() {\n  return typeof navigator !== 'undefined' && navigator.userAgent ? navigator.userAgent : 'Unknown';\n}\n\n/**\n * Guess the browser.\n * @returns {?string} browser - \"chrome\", \"firefox\", \"safari\", or null\n */\nfunction guessBrowser() {\n  if (typeof webkitRTCPeerConnection !== 'undefined') {\n    return 'chrome';\n  } else if (typeof mozRTCPeerConnection !== 'undefined') {\n    return 'firefox';\n  } else if (typeof RTCPeerConnection !== 'undefined') {\n    if (getUserAgent().match(/AppleWebKit\\/(\\d+)\\./)) {\n      return 'safari';\n    }\n    // NOTE(mroberts): Could be Edge.\n  }\n  return null;\n}\n\n/**\n * Construct the SIP URI for a client.\n * @returns {string}\n */\nfunction makeClientSIPURI() {\n  /* eslint new-cap:0 */\n  return makeUUID() + '@' + constants.REGISTRAR_SERVER;\n}\n\n/**\n * Construct the SIP URI for the server.\n * @returns {string}\n */\nfunction makeServerSIPURI() {\n  /* eslint new-cap:0 */\n  return 'orchestrator@' + constants.REGISTRAR_SERVER;\n}\n\nfunction makeUUID() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0;\n    var v = c === 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n\n/**\n * Ensure that the given function is called once per tick.\n * @param {function} fn - Function to be executed\n * @returns {function} - Schedules the given function to be called on the next tick\n */\nfunction oncePerTick(fn) {\n  var timeout = null;\n\n  function nextTick() {\n    timeout = null;\n    fn();\n  }\n\n  return function scheduleNextTick() {\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    timeout = setTimeout(nextTick);\n  };\n}\n\nfunction promiseFromEvents(operation, eventEmitter, successEvent, failureEvent) {\n  return new Promise(function (resolve, reject) {\n    function onSuccess() {\n      var args = [].slice.call(arguments);\n      if (failureEvent) {\n        eventEmitter.removeListener(failureEvent, onFailure);\n      }\n      resolve.apply(undefined, _toConsumableArray(args));\n    }\n    function onFailure() {\n      var args = [].slice.call(arguments);\n      eventEmitter.removeListener(successEvent, onSuccess);\n      reject.apply(undefined, _toConsumableArray(args));\n    }\n    eventEmitter.once(successEvent, onSuccess);\n    if (failureEvent) {\n      eventEmitter.once(failureEvent, onFailure);\n    }\n    operation();\n  });\n}\n\n/**\n * Traverse down multiple nodes on an object and return null if\n * any link in the path is unavailable.\n * @param {Object} obj - Object to traverse\n * @param {String} path - Path to traverse. Period-separated.\n * @returns {Any|null}\n */\nfunction getOrNull(obj, path) {\n  return path.split('.').reduce(function (output, step) {\n    if (!output) {\n      return null;\n    }\n    return output[step];\n  }, obj);\n}\n\n/**\n * @typedef {object} Deferred\n * @property {Promise} promise\n * @property {function} reject\n * @property {function} resolve\n */\n\n/**\n * Create a {@link Deferred}.\n * @returns {Deferred}\n */\nfunction defer() {\n  var deferred = {};\n  deferred.promise = new Promise(function (resolve, reject) {\n    deferred.resolve = resolve;\n    deferred.reject = reject;\n  });\n  return deferred;\n}\n\n/**\n * Copy a method from a `source` prototype onto a `wrapper` prototype. Invoking\n * the method on the `wrapper` prototype will invoke the corresponding method\n * on an instance accessed by `target`.\n * @param {object} source\n * @param {object} wrapper\n * @param {string} target\n * @param {string} methodName\n * @returns {undefined}\n */\nfunction delegateMethod(source, wrapper, target, methodName) {\n  if (methodName in wrapper) {\n    // Skip any methods already set.\n    return;\n  } else if (methodName.match(/^on[a-z]+$/)) {\n    // Skip EventHandlers (these are handled in the constructor).\n    return;\n  }\n\n  var type = void 0;\n  try {\n    type = _typeof(source[methodName]);\n  } catch (error) {\n    // NOTE(mroberts): Attempting to check the type of non-function members\n    // on the prototype throws an error for some types.\n  }\n\n  if (type !== 'function') {\n    // Skip non-function members.\n    return;\n  }\n\n  /* eslint no-loop-func:0 */\n  wrapper[methodName] = function () {\n    var _target;\n\n    return (_target = this[target])[methodName].apply(_target, arguments);\n  };\n}\n\n/**\n * Copy methods from a `source` prototype onto a `wrapper` prototype. Invoking\n * the methods on the `wrapper` prototype will invoke the corresponding method\n * on an instance accessed by `target`.\n * @param {object} source\n * @param {object} wrapper\n * @param {string} target\n * @returns {undefined}\n */\nfunction delegateMethods(source, wrapper, target) {\n  for (var methodName in source) {\n    delegateMethod(source, wrapper, target, methodName);\n  }\n}\n\n/**\n * For each property name on the `source` prototype, add getters and/or setters\n * to `wrapper` that proxy to `target`.\n * @param {object} source\n * @param {object} wrapper\n * @param {string} target\n * @returns {undefined}\n */\nfunction proxyProperties(source, wrapper, target) {\n  Object.getOwnPropertyNames(source).forEach(function (propertyName) {\n    proxyProperty(source, wrapper, target, propertyName);\n  });\n}\n\n/**\n * For the property name on the `source` prototype, add a getter and/or setter\n * to `wrapper` that proxies to `target`.\n * @param {object} source\n * @param {object} wrapper\n * @param {string} target\n * @param {string} propertyName\n * @returns {undefined}\n */\nfunction proxyProperty(source, wrapper, target, propertyName) {\n  if (propertyName in wrapper) {\n    // Skip any properties already set.\n    return;\n  } else if (propertyName.match(/^on[a-z]+$/)) {\n    Object.defineProperty(wrapper, propertyName, {\n      value: null,\n      writable: true\n    });\n\n    target.addEventListener(propertyName.slice(2), function () {\n      wrapper.dispatchEvent.apply(wrapper, arguments);\n    });\n\n    return;\n  }\n\n  Object.defineProperty(wrapper, propertyName, {\n    enumerable: true,\n    get: function get() {\n      return target[propertyName];\n    }\n  });\n}\n\n/**\n * This is a function for turning a Promise into the kind referenced in the\n * Legacy Interface Extensions section of the WebRTC spec.\n * @param {Promise<*>} promise\n * @param {function<*>} onSuccess\n * @param {function<Error>} onFailure\n * @returns {Promise<undefined>}\n */\nfunction legacyPromise(promise, onSuccess, onFailure) {\n  if (onSuccess) {\n    return promise.then(function (result) {\n      onSuccess(result);\n    }, function (error) {\n      onFailure(error);\n    });\n  }\n  return promise;\n}\n\n/**\n * Build the {@link LogLevels} object.\n * @param {String|LogLevel} logLevel - Log level name or object\n * @returns {LogLevels}\n */\nfunction buildLogLevels(logLevel) {\n  if (typeof logLevel === 'string') {\n    return {\n      default: logLevel,\n      media: logLevel,\n      signaling: logLevel,\n      webrtc: logLevel\n    };\n  }\n  return logLevel;\n}\n\n/**\n * Get the {@link Track}'s derived class name\n * @param {Track} track\n * @param {?boolean} [local=undefined]\n * @returns {string}\n */\nfunction trackClass(track, local) {\n  local = local ? 'Local' : '';\n  return local + (track.kind || '').replace(/\\w{1}/, function (m) {\n    return m.toUpperCase();\n  }) + 'Track';\n}\n\n/**\n * Get the {@link TrackPublication}'s derived class name\n * @param {TrackPublication} publication\n * @param {?boolean} [local=undefined]\n * @returns {string}\n */\nfunction trackPublicationClass(publication, local) {\n  local = local ? 'Local' : '';\n  return local + (publication.kind || '').replace(/\\w{1}/, function (m) {\n    return m.toUpperCase();\n  }) + 'TrackPublication';\n}\n\n/**\n * Throw if the given track is not a {@link LocalAudioTrack}, a\n * {@link LocalVideoTrack} or a MediaStreamTrack.\n * @param {*} track\n * @param {object} options\n */\nfunction validateLocalTrack(track, options) {\n  if (!(track instanceof options.LocalAudioTrack || track instanceof options.LocalDataTrack || track instanceof options.LocalVideoTrack || track instanceof options.MediaStreamTrack)) {\n    throw constants.typeErrors.INVALID_TYPE('track', 'LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack');\n  }\n}\n\n/**\n * @typedef {'plan-b' | 'unified-plan'} SdpSemantics\n */\n/**\n * @typedef {'planb' | 'unified'} SdpFormat\n */\n\n/**\n * Use unified plan SDP format on Firefox\n * @param {?SdpSemantics} [sdpSemantics]\n * @returns {SdpFormat} SDP format\n */\nfunction getSdpFormat(sdpSemantics) {\n  var browser = guessBrowser();\n  if (browser === 'firefox') {\n    return 'unified';\n  }\n  if (browser === 'safari') {\n    return 'currentDirection' in RTCRtpTransceiver.prototype ? 'unified' : 'planb';\n  }\n  if (checkIfSdpSemanticsIsSupported()) {\n    return {\n      'plan-b': 'planb',\n      'unified-plan': 'unified'\n    }[sdpSemantics || 'plan-b'];\n  }\n  // NOTE(mmalavalli): Once Chrome stops supporting \"plan-b\" SDPs, it will\n  // ignore the \"sdpSemantics\" flag. So, in order to differentiate between\n  // versions of Chrome which support only \"plan-b\" SDPs and versions of Chrome\n  // which support only \"unified-plan\" SDPs, which check whether PeerConnection's\n  // addStream() method is present.\n  return RTCPeerConnection.prototype.addStream ? 'planb' : 'unified';\n}\n\n// NOTE(mroberts): We need to cache this result so that we don't create too many\n// RTCPeerConnections.\nvar sdpSemanticsIsSupported = void 0;\n\n/**\n * Check whether or not `sdpSemantics` is supported.\n * @returns {boolean}\n */\nfunction checkIfSdpSemanticsIsSupported() {\n  if (typeof sdpSemanticsIsSupported === 'boolean') {\n    return sdpSemanticsIsSupported;\n  }\n  if (typeof RTCPeerConnection === 'undefined') {\n    sdpSemanticsIsSupported = false;\n    return sdpSemanticsIsSupported;\n  }\n  try {\n    new RTCPeerConnection({ sdpSemantics: 'bogus' });\n    sdpSemanticsIsSupported = false;\n    return sdpSemanticsIsSupported;\n  } catch (error) {\n    sdpSemanticsIsSupported = true;\n    return sdpSemanticsIsSupported;\n  }\n}\n\nexports.constants = constants;\nexports.asLocalTrack = asLocalTrack;\nexports.asLocalTrackPublication = asLocalTrackPublication;\nexports.capitalize = capitalize;\nexports.deprecateEvents = deprecateEvents;\nexports.difference = difference;\nexports.filterObject = filterObject;\nexports.flatMap = flatMap;\nexports.getUserAgent = getUserAgent;\nexports.guessBrowser = guessBrowser;\nexports.makeClientSIPURI = makeClientSIPURI;\nexports.makeServerSIPURI = makeServerSIPURI;\nexports.makeUUID = makeUUID;\nexports.oncePerTick = oncePerTick;\nexports.promiseFromEvents = promiseFromEvents;\nexports.getOrNull = getOrNull;\nexports.defer = defer;\nexports.delegateMethods = delegateMethods;\nexports.proxyProperties = proxyProperties;\nexports.legacyPromise = legacyPromise;\nexports.buildLogLevels = buildLogLevels;\nexports.trackClass = trackClass;\nexports.trackPublicationClass = trackPublicationClass;\nexports.validateLocalTrack = validateLocalTrack;\nexports.getSdpFormat = getSdpFormat;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL2luZGV4LmpzPzY0ZWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDYTs7QUFFYixvR0FBb0csbUJBQW1CLEVBQUUsbUJBQW1CLDhIQUE4SDs7QUFFMVEsa0NBQWtDLDBCQUEwQiwwQ0FBMEMsZ0JBQWdCLE9BQU8sa0JBQWtCLEVBQUUsYUFBYSxFQUFFLE9BQU8sd0JBQXdCLEVBQUU7O0FBRWpNLGdCQUFnQixtQkFBTyxDQUFDLHNCQUFhOztBQUVyQztBQUNBLHFCQUFxQixpQkFBaUIsV0FBVyxpQkFBaUI7QUFDbEU7QUFDQSxXQUFXLDRCQUE0QjtBQUN2QyxXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQiw0QkFBNEIsZ0JBQWdCLGlCQUFpQjtBQUM5RSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsNkNBQTZDO0FBQ3hELFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsYUFBYTtBQUN4QixXQUFXLG9CQUFvQjtBQUMvQixXQUFXLElBQUk7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxXQUFXLHVCQUF1QjtBQUNsQyxXQUFXLHVCQUF1QjtBQUNsQyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLEVBQUUsMENBQTBDO0FBQ3ZEO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxJQUFJO0FBQ1A7O0FBRUE7QUFDQTtBQUNBLFdBQVcsdUJBQXVCO0FBQ2xDLFdBQVcsc0JBQXNCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxhQUFhLE9BQU87QUFDcEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsU0FBUztBQUN2QixjQUFjLFNBQVM7QUFDdkI7O0FBRUE7QUFDQSxhQUFhLGVBQWU7QUFDNUIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsWUFBWTtBQUN2QixXQUFXLGdCQUFnQjtBQUMzQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLGdCQUFnQjtBQUM5QixXQUFXLGdCQUFnQjtBQUMzQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCLFdBQVcsTUFBTTtBQUNqQixXQUFXLFNBQVM7QUFDcEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxFQUFFO0FBQ2xEO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsWUFBWSx1QkFBdUI7QUFDbkMsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxTQUFTO0FBQ3BCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsRUFBRTtBQUN4RDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLHNDQUFzQyxzQkFBc0I7QUFDNUQsSUFBSSxzQkFBc0I7QUFDMUIsV0FBVyxFQUFFO0FBQ2IsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWEsMEJBQTBCO0FBQ3ZDO0FBQ0E7QUFDQSxhQUFhLG9CQUFvQjtBQUNqQzs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHdCQUF3QjtBQUNuRDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjIwNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgbW96UlRDUGVlckNvbm5lY3Rpb24sIFJUQ1J0cFRyYW5zY2VpdmVyICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbnZhciBjb25zdGFudHMgPSByZXF1aXJlKCcuL2NvbnN0YW50cycpO1xuXG4vKipcbiAqIFJldHVybiB0aGUgZ2l2ZW4ge0BsaW5rIExvY2FsVHJhY2t9IG9yIGEgbmV3IHtAbGluayBMb2NhbFRyYWNrfSBmb3IgdGhlXG4gKiBnaXZlbiBNZWRpYVN0cmVhbVRyYWNrLlxuICogQHBhcmFtIHtMb2NhbFRyYWNrfE1lZGlhU3RyZWFtVHJhY2t9IHRyYWNrXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICogQHJldHVybnMge0xvY2FsVHJhY2t9XG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9XG4gKi9cbmZ1bmN0aW9uIGFzTG9jYWxUcmFjayh0cmFjaywgb3B0aW9ucykge1xuICBpZiAodHJhY2sgaW5zdGFuY2VvZiBvcHRpb25zLkxvY2FsQXVkaW9UcmFjayB8fCB0cmFjayBpbnN0YW5jZW9mIG9wdGlvbnMuTG9jYWxWaWRlb1RyYWNrIHx8IHRyYWNrIGluc3RhbmNlb2Ygb3B0aW9ucy5Mb2NhbERhdGFUcmFjaykge1xuICAgIHJldHVybiB0cmFjaztcbiAgfVxuICBpZiAodHJhY2sgaW5zdGFuY2VvZiBvcHRpb25zLk1lZGlhU3RyZWFtVHJhY2spIHtcbiAgICByZXR1cm4gdHJhY2sua2luZCA9PT0gJ2F1ZGlvJyA/IG5ldyBvcHRpb25zLkxvY2FsQXVkaW9UcmFjayh0cmFjaywgb3B0aW9ucykgOiBuZXcgb3B0aW9ucy5Mb2NhbFZpZGVvVHJhY2sodHJhY2ssIG9wdGlvbnMpO1xuICB9XG4gIHRocm93IGNvbnN0YW50cy50eXBlRXJyb3JzLklOVkFMSURfVFlQRSgndHJhY2snLCAnTG9jYWxBdWRpb1RyYWNrLCBMb2NhbFZpZGVvVHJhY2ssIExvY2FsRGF0YVRyYWNrLCBvciBNZWRpYVN0cmVhbVRyYWNrJyk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHtAbGluayBMb2NhbFRyYWNrUHVibGljYXRpb259IGZvciB0aGUgZ2l2ZW4ge0BsaW5rIExvY2FsVHJhY2t9LlxuICogQHBhcmFtIHtMb2NhbFRyYWNrfSB0cmFja1xuICogQHBhcmFtIHtzdHJpbmd9IHNpZFxuICogQHBhcmFtIHtmdW5jdGlvbih0cmFjazogTG9jYWxUcmFja1B1YmxpY2F0aW9uKTogdm9pZH0gdW5wdWJsaXNoXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICovXG5mdW5jdGlvbiBhc0xvY2FsVHJhY2tQdWJsaWNhdGlvbih0cmFjaywgc2lkLCB1bnB1Ymxpc2gsIG9wdGlvbnMpIHtcbiAgdmFyIExvY2FsVHJhY2tQdWJsaWNhdGlvbiA9IHtcbiAgICBhdWRpbzogb3B0aW9ucy5Mb2NhbEF1ZGlvVHJhY2tQdWJsaWNhdGlvbixcbiAgICB2aWRlbzogb3B0aW9ucy5Mb2NhbFZpZGVvVHJhY2tQdWJsaWNhdGlvbixcbiAgICBkYXRhOiBvcHRpb25zLkxvY2FsRGF0YVRyYWNrUHVibGljYXRpb25cbiAgfVt0cmFjay5raW5kXTtcbiAgcmV0dXJuIG5ldyBMb2NhbFRyYWNrUHVibGljYXRpb24oc2lkLCB0cmFjaywgdW5wdWJsaXNoLCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBDYXBpdGFsaXplIGEgd29yZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB3b3JkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBjYXBpdGFsaXplZFxuICovXG5mdW5jdGlvbiBjYXBpdGFsaXplKHdvcmQpIHtcbiAgcmV0dXJuIHdvcmRbMF0udG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSk7XG59XG5cbi8qKlxuICogTG9nIGRlcHJlY2F0aW9uIHdhcm5pbmdzIGZvciB0aGUgZ2l2ZW4gZXZlbnRzIG9mIGFuIEV2ZW50RW1pdHRlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlclxuICogQHBhcmFtIHtNYXA8c3RyaW5nLCBzdHJpbmc+fSBldmVudHNcbiAqIEBwYXJhbSB7TG9nfSBsb2dcbiAqL1xuZnVuY3Rpb24gZGVwcmVjYXRlRXZlbnRzKG5hbWUsIGVtaXR0ZXIsIGV2ZW50cywgbG9nKSB7XG4gIHZhciB3YXJuaW5nc1Nob3duID0gbmV3IFNldCgpO1xuICBlbWl0dGVyLm9uKCduZXdMaXN0ZW5lcicsIGZ1bmN0aW9uIG5ld0xpc3RlbmVyKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50cy5oYXMoZXZlbnQpICYmICF3YXJuaW5nc1Nob3duLmhhcyhldmVudCkpIHtcbiAgICAgIGxvZy5kZXByZWNhdGVkKG5hbWUgKyAnIycgKyBldmVudCArICcgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgc2NoZWR1bGVkIGZvciByZW1vdmFsIGluIHR3aWxpby12aWRlby5qc0AyLjAuMC4nICsgKGV2ZW50cy5nZXQoZXZlbnQpID8gJyBVc2UgJyArIG5hbWUgKyAnIycgKyBldmVudHMuZ2V0KGV2ZW50KSArICcgaW5zdGVhZC4nIDogJycpKTtcbiAgICAgIHdhcm5pbmdzU2hvd24uYWRkKGV2ZW50KTtcbiAgICB9XG4gICAgaWYgKHdhcm5pbmdzU2hvd24uc2l6ZSA+PSBldmVudHMuc2l6ZSkge1xuICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignbmV3TGlzdGVuZXInLCBuZXdMaXN0ZW5lcik7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgaXRlbXMgaW4gbGlzdDEgdGhhdCBhcmUgbm90IGluIGxpc3QyLlxuICogQHBhcmFtIHtBcnJheTwqPnxNYXA8Kj58U2V0PCo+fSBsaXN0MVxuICogQHBhcmFtIHtBcnJheTwqPnxNYXA8Kj58U2V0PCo+fSBsaXN0MlxuICogQHJldHVybnMge1NldH1cbiAqL1xuZnVuY3Rpb24gZGlmZmVyZW5jZShsaXN0MSwgbGlzdDIpIHtcbiAgbGlzdDEgPSBBcnJheS5pc0FycmF5KGxpc3QxKSA/IG5ldyBTZXQobGlzdDEpIDogbmV3IFNldChsaXN0MS52YWx1ZXMoKSk7XG4gIGxpc3QyID0gQXJyYXkuaXNBcnJheShsaXN0MikgPyBuZXcgU2V0KGxpc3QyKSA6IG5ldyBTZXQobGlzdDIudmFsdWVzKCkpO1xuXG4gIHZhciBkaWZmZXJlbmNlID0gbmV3IFNldCgpO1xuXG4gIGxpc3QxLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpZiAoIWxpc3QyLmhhcyhpdGVtKSkge1xuICAgICAgZGlmZmVyZW5jZS5hZGQoaXRlbSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZGlmZmVyZW5jZTtcbn1cblxuLyoqXG4gKiBGaWx0ZXIgb3V0IHRoZSBrZXlzIGluIGFuIG9iamVjdCB3aXRoIGEgZ2l2ZW4gdmFsdWUuXG4gKiBAcGFyYW0ge29iamVjdH0gb2JqZWN0IC0gT2JqZWN0IHRvIGJlIGZpbHRlcmVkXG4gKiBAcGFyYW0geyp9IFtmaWx0ZXJWYWx1ZV0gLSBWYWx1ZSB0byBiZSBmaWx0ZXJlZCBvdXQ7IElmIG5vdCBzcGVjaWZpZWQsIHRoZW5cbiAqICAgZmlsdGVycyBvdXQgYWxsIGtleXMgd2hpY2ggaGF2ZSBhbiBleHBsaWNpdCB2YWx1ZSBvZiBcInVuZGVmaW5lZFwiXG4gKiBAcmV0dXJucyB7b2JqZWN0fSAtIEZpbHRlcmVkIG9iamVjdFxuICovXG5mdW5jdGlvbiBmaWx0ZXJPYmplY3Qob2JqZWN0LCBmaWx0ZXJWYWx1ZSkge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KS5yZWR1Y2UoZnVuY3Rpb24gKGZpbHRlcmVkLCBrZXkpIHtcbiAgICBpZiAob2JqZWN0W2tleV0gIT09IGZpbHRlclZhbHVlKSB7XG4gICAgICBmaWx0ZXJlZFtrZXldID0gb2JqZWN0W2tleV07XG4gICAgfVxuICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgfSwge30pO1xufVxuXG4vKipcbiAqIE1hcCBhIGxpc3QgdG8gYW4gYXJyYXkgb2YgYXJyYXlzLCBhbmQgcmV0dXJuIHRoZSBmbGF0dGVuZWQgcmVzdWx0LlxuICogQHBhcmFtIHtBcnJheTwqPnxTZXQ8Kj58TWFwPCo+fSBsaXN0XG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCopOiBBcnJheTwqPn0gW21hcEZuXVxuICogQHJldHVybnMgQXJyYXk8Kj5cbiAqL1xuZnVuY3Rpb24gZmxhdE1hcChsaXN0LCBtYXBGbikge1xuICB2YXIgbGlzdEFycmF5ID0gbGlzdCBpbnN0YW5jZW9mIE1hcCB8fCBsaXN0IGluc3RhbmNlb2YgU2V0ID8gQXJyYXkuZnJvbShsaXN0LnZhbHVlcygpKSA6IGxpc3Q7XG5cbiAgbWFwRm4gPSBtYXBGbiB8fCBmdW5jdGlvbiBtYXBGbihpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW07XG4gIH07XG5cbiAgcmV0dXJuIGxpc3RBcnJheS5yZWR1Y2UoZnVuY3Rpb24gKGZsYXR0ZW5lZCwgaXRlbSkge1xuICAgIHZhciBtYXBwZWQgPSBtYXBGbihpdGVtKTtcbiAgICByZXR1cm4gZmxhdHRlbmVkLmNvbmNhdChtYXBwZWQpO1xuICB9LCBbXSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSB1c2VyIGFnZW50IHN0cmluZywgb3IgcmV0dXJuIFwiVW5rbm93blwiLlxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0VXNlckFnZW50KCkge1xuICByZXR1cm4gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCA/IG5hdmlnYXRvci51c2VyQWdlbnQgOiAnVW5rbm93bic7XG59XG5cbi8qKlxuICogR3Vlc3MgdGhlIGJyb3dzZXIuXG4gKiBAcmV0dXJucyB7P3N0cmluZ30gYnJvd3NlciAtIFwiY2hyb21lXCIsIFwiZmlyZWZveFwiLCBcInNhZmFyaVwiLCBvciBudWxsXG4gKi9cbmZ1bmN0aW9uIGd1ZXNzQnJvd3NlcigpIHtcbiAgaWYgKHR5cGVvZiB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gJ2Nocm9tZSc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1velJUQ1BlZXJDb25uZWN0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiAnZmlyZWZveCc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIFJUQ1BlZXJDb25uZWN0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChnZXRVc2VyQWdlbnQoKS5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vKSkge1xuICAgICAgcmV0dXJuICdzYWZhcmknO1xuICAgIH1cbiAgICAvLyBOT1RFKG1yb2JlcnRzKTogQ291bGQgYmUgRWRnZS5cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3QgdGhlIFNJUCBVUkkgZm9yIGEgY2xpZW50LlxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gbWFrZUNsaWVudFNJUFVSSSgpIHtcbiAgLyogZXNsaW50IG5ldy1jYXA6MCAqL1xuICByZXR1cm4gbWFrZVVVSUQoKSArICdAJyArIGNvbnN0YW50cy5SRUdJU1RSQVJfU0VSVkVSO1xufVxuXG4vKipcbiAqIENvbnN0cnVjdCB0aGUgU0lQIFVSSSBmb3IgdGhlIHNlcnZlci5cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIG1ha2VTZXJ2ZXJTSVBVUkkoKSB7XG4gIC8qIGVzbGludCBuZXctY2FwOjAgKi9cbiAgcmV0dXJuICdvcmNoZXN0cmF0b3JAJyArIGNvbnN0YW50cy5SRUdJU1RSQVJfU0VSVkVSO1xufVxuXG5mdW5jdGlvbiBtYWtlVVVJRCgpIHtcbiAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDA7XG4gICAgdmFyIHYgPSBjID09PSAneCcgPyByIDogciAmIDB4MyB8IDB4ODtcbiAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gIH0pO1xufVxuXG4vKipcbiAqIEVuc3VyZSB0aGF0IHRoZSBnaXZlbiBmdW5jdGlvbiBpcyBjYWxsZWQgb25jZSBwZXIgdGljay5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gRnVuY3Rpb24gdG8gYmUgZXhlY3V0ZWRcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn0gLSBTY2hlZHVsZXMgdGhlIGdpdmVuIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiB0aGUgbmV4dCB0aWNrXG4gKi9cbmZ1bmN0aW9uIG9uY2VQZXJUaWNrKGZuKSB7XG4gIHZhciB0aW1lb3V0ID0gbnVsbDtcblxuICBmdW5jdGlvbiBuZXh0VGljaygpIHtcbiAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICBmbigpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHNjaGVkdWxlTmV4dFRpY2soKSB7XG4gICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB9XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQobmV4dFRpY2spO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcm9taXNlRnJvbUV2ZW50cyhvcGVyYXRpb24sIGV2ZW50RW1pdHRlciwgc3VjY2Vzc0V2ZW50LCBmYWlsdXJlRXZlbnQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBvblN1Y2Nlc3MoKSB7XG4gICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgIGlmIChmYWlsdXJlRXZlbnQpIHtcbiAgICAgICAgZXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGZhaWx1cmVFdmVudCwgb25GYWlsdXJlKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUuYXBwbHkodW5kZWZpbmVkLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkZhaWx1cmUoKSB7XG4gICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgIGV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcihzdWNjZXNzRXZlbnQsIG9uU3VjY2Vzcyk7XG4gICAgICByZWplY3QuYXBwbHkodW5kZWZpbmVkLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpO1xuICAgIH1cbiAgICBldmVudEVtaXR0ZXIub25jZShzdWNjZXNzRXZlbnQsIG9uU3VjY2Vzcyk7XG4gICAgaWYgKGZhaWx1cmVFdmVudCkge1xuICAgICAgZXZlbnRFbWl0dGVyLm9uY2UoZmFpbHVyZUV2ZW50LCBvbkZhaWx1cmUpO1xuICAgIH1cbiAgICBvcGVyYXRpb24oKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVHJhdmVyc2UgZG93biBtdWx0aXBsZSBub2RlcyBvbiBhbiBvYmplY3QgYW5kIHJldHVybiBudWxsIGlmXG4gKiBhbnkgbGluayBpbiB0aGUgcGF0aCBpcyB1bmF2YWlsYWJsZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogLSBPYmplY3QgdG8gdHJhdmVyc2VcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIC0gUGF0aCB0byB0cmF2ZXJzZS4gUGVyaW9kLXNlcGFyYXRlZC5cbiAqIEByZXR1cm5zIHtBbnl8bnVsbH1cbiAqL1xuZnVuY3Rpb24gZ2V0T3JOdWxsKG9iaiwgcGF0aCkge1xuICByZXR1cm4gcGF0aC5zcGxpdCgnLicpLnJlZHVjZShmdW5jdGlvbiAob3V0cHV0LCBzdGVwKSB7XG4gICAgaWYgKCFvdXRwdXQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0W3N0ZXBdO1xuICB9LCBvYmopO1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtvYmplY3R9IERlZmVycmVkXG4gKiBAcHJvcGVydHkge1Byb21pc2V9IHByb21pc2VcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IHJlamVjdFxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gcmVzb2x2ZVxuICovXG5cbi8qKlxuICogQ3JlYXRlIGEge0BsaW5rIERlZmVycmVkfS5cbiAqIEByZXR1cm5zIHtEZWZlcnJlZH1cbiAqL1xuZnVuY3Rpb24gZGVmZXIoKSB7XG4gIHZhciBkZWZlcnJlZCA9IHt9O1xuICBkZWZlcnJlZC5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGRlZmVycmVkLnJlc29sdmUgPSByZXNvbHZlO1xuICAgIGRlZmVycmVkLnJlamVjdCA9IHJlamVjdDtcbiAgfSk7XG4gIHJldHVybiBkZWZlcnJlZDtcbn1cblxuLyoqXG4gKiBDb3B5IGEgbWV0aG9kIGZyb20gYSBgc291cmNlYCBwcm90b3R5cGUgb250byBhIGB3cmFwcGVyYCBwcm90b3R5cGUuIEludm9raW5nXG4gKiB0aGUgbWV0aG9kIG9uIHRoZSBgd3JhcHBlcmAgcHJvdG90eXBlIHdpbGwgaW52b2tlIHRoZSBjb3JyZXNwb25kaW5nIG1ldGhvZFxuICogb24gYW4gaW5zdGFuY2UgYWNjZXNzZWQgYnkgYHRhcmdldGAuXG4gKiBAcGFyYW0ge29iamVjdH0gc291cmNlXG4gKiBAcGFyYW0ge29iamVjdH0gd3JhcHBlclxuICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldFxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWVcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKi9cbmZ1bmN0aW9uIGRlbGVnYXRlTWV0aG9kKHNvdXJjZSwgd3JhcHBlciwgdGFyZ2V0LCBtZXRob2ROYW1lKSB7XG4gIGlmIChtZXRob2ROYW1lIGluIHdyYXBwZXIpIHtcbiAgICAvLyBTa2lwIGFueSBtZXRob2RzIGFscmVhZHkgc2V0LlxuICAgIHJldHVybjtcbiAgfSBlbHNlIGlmIChtZXRob2ROYW1lLm1hdGNoKC9eb25bYS16XSskLykpIHtcbiAgICAvLyBTa2lwIEV2ZW50SGFuZGxlcnMgKHRoZXNlIGFyZSBoYW5kbGVkIGluIHRoZSBjb25zdHJ1Y3RvcikuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHR5cGUgPSB2b2lkIDA7XG4gIHRyeSB7XG4gICAgdHlwZSA9IF90eXBlb2Yoc291cmNlW21ldGhvZE5hbWVdKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBOT1RFKG1yb2JlcnRzKTogQXR0ZW1wdGluZyB0byBjaGVjayB0aGUgdHlwZSBvZiBub24tZnVuY3Rpb24gbWVtYmVyc1xuICAgIC8vIG9uIHRoZSBwcm90b3R5cGUgdGhyb3dzIGFuIGVycm9yIGZvciBzb21lIHR5cGVzLlxuICB9XG5cbiAgaWYgKHR5cGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBTa2lwIG5vbi1mdW5jdGlvbiBtZW1iZXJzLlxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qIGVzbGludCBuby1sb29wLWZ1bmM6MCAqL1xuICB3cmFwcGVyW21ldGhvZE5hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGFyZ2V0O1xuXG4gICAgcmV0dXJuIChfdGFyZ2V0ID0gdGhpc1t0YXJnZXRdKVttZXRob2ROYW1lXS5hcHBseShfdGFyZ2V0LCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG4vKipcbiAqIENvcHkgbWV0aG9kcyBmcm9tIGEgYHNvdXJjZWAgcHJvdG90eXBlIG9udG8gYSBgd3JhcHBlcmAgcHJvdG90eXBlLiBJbnZva2luZ1xuICogdGhlIG1ldGhvZHMgb24gdGhlIGB3cmFwcGVyYCBwcm90b3R5cGUgd2lsbCBpbnZva2UgdGhlIGNvcnJlc3BvbmRpbmcgbWV0aG9kXG4gKiBvbiBhbiBpbnN0YW5jZSBhY2Nlc3NlZCBieSBgdGFyZ2V0YC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2VcbiAqIEBwYXJhbSB7b2JqZWN0fSB3cmFwcGVyXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0XG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICovXG5mdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZHMoc291cmNlLCB3cmFwcGVyLCB0YXJnZXQpIHtcbiAgZm9yICh2YXIgbWV0aG9kTmFtZSBpbiBzb3VyY2UpIHtcbiAgICBkZWxlZ2F0ZU1ldGhvZChzb3VyY2UsIHdyYXBwZXIsIHRhcmdldCwgbWV0aG9kTmFtZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBGb3IgZWFjaCBwcm9wZXJ0eSBuYW1lIG9uIHRoZSBgc291cmNlYCBwcm90b3R5cGUsIGFkZCBnZXR0ZXJzIGFuZC9vciBzZXR0ZXJzXG4gKiB0byBgd3JhcHBlcmAgdGhhdCBwcm94eSB0byBgdGFyZ2V0YC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2VcbiAqIEBwYXJhbSB7b2JqZWN0fSB3cmFwcGVyXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0XG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICovXG5mdW5jdGlvbiBwcm94eVByb3BlcnRpZXMoc291cmNlLCB3cmFwcGVyLCB0YXJnZXQpIHtcbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHtcbiAgICBwcm94eVByb3BlcnR5KHNvdXJjZSwgd3JhcHBlciwgdGFyZ2V0LCBwcm9wZXJ0eU5hbWUpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBGb3IgdGhlIHByb3BlcnR5IG5hbWUgb24gdGhlIGBzb3VyY2VgIHByb3RvdHlwZSwgYWRkIGEgZ2V0dGVyIGFuZC9vciBzZXR0ZXJcbiAqIHRvIGB3cmFwcGVyYCB0aGF0IHByb3hpZXMgdG8gYHRhcmdldGAuXG4gKiBAcGFyYW0ge29iamVjdH0gc291cmNlXG4gKiBAcGFyYW0ge29iamVjdH0gd3JhcHBlclxuICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldFxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5TmFtZVxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuZnVuY3Rpb24gcHJveHlQcm9wZXJ0eShzb3VyY2UsIHdyYXBwZXIsIHRhcmdldCwgcHJvcGVydHlOYW1lKSB7XG4gIGlmIChwcm9wZXJ0eU5hbWUgaW4gd3JhcHBlcikge1xuICAgIC8vIFNraXAgYW55IHByb3BlcnRpZXMgYWxyZWFkeSBzZXQuXG4gICAgcmV0dXJuO1xuICB9IGVsc2UgaWYgKHByb3BlcnR5TmFtZS5tYXRjaCgvXm9uW2Etel0rJC8pKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdyYXBwZXIsIHByb3BlcnR5TmFtZSwge1xuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIocHJvcGVydHlOYW1lLnNsaWNlKDIpLCBmdW5jdGlvbiAoKSB7XG4gICAgICB3cmFwcGVyLmRpc3BhdGNoRXZlbnQuYXBwbHkod3JhcHBlciwgYXJndW1lbnRzKTtcbiAgICB9KTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3cmFwcGVyLCBwcm9wZXJ0eU5hbWUsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRhcmdldFtwcm9wZXJ0eU5hbWVdO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogVGhpcyBpcyBhIGZ1bmN0aW9uIGZvciB0dXJuaW5nIGEgUHJvbWlzZSBpbnRvIHRoZSBraW5kIHJlZmVyZW5jZWQgaW4gdGhlXG4gKiBMZWdhY3kgSW50ZXJmYWNlIEV4dGVuc2lvbnMgc2VjdGlvbiBvZiB0aGUgV2ViUlRDIHNwZWMuXG4gKiBAcGFyYW0ge1Byb21pc2U8Kj59IHByb21pc2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb248Kj59IG9uU3VjY2Vzc1xuICogQHBhcmFtIHtmdW5jdGlvbjxFcnJvcj59IG9uRmFpbHVyZVxuICogQHJldHVybnMge1Byb21pc2U8dW5kZWZpbmVkPn1cbiAqL1xuZnVuY3Rpb24gbGVnYWN5UHJvbWlzZShwcm9taXNlLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSkge1xuICBpZiAob25TdWNjZXNzKSB7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBvblN1Y2Nlc3MocmVzdWx0KTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIG9uRmFpbHVyZShlcnJvcik7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8qKlxuICogQnVpbGQgdGhlIHtAbGluayBMb2dMZXZlbHN9IG9iamVjdC5cbiAqIEBwYXJhbSB7U3RyaW5nfExvZ0xldmVsfSBsb2dMZXZlbCAtIExvZyBsZXZlbCBuYW1lIG9yIG9iamVjdFxuICogQHJldHVybnMge0xvZ0xldmVsc31cbiAqL1xuZnVuY3Rpb24gYnVpbGRMb2dMZXZlbHMobG9nTGV2ZWwpIHtcbiAgaWYgKHR5cGVvZiBsb2dMZXZlbCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZGVmYXVsdDogbG9nTGV2ZWwsXG4gICAgICBtZWRpYTogbG9nTGV2ZWwsXG4gICAgICBzaWduYWxpbmc6IGxvZ0xldmVsLFxuICAgICAgd2VicnRjOiBsb2dMZXZlbFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGxvZ0xldmVsO1xufVxuXG4vKipcbiAqIEdldCB0aGUge0BsaW5rIFRyYWNrfSdzIGRlcml2ZWQgY2xhc3MgbmFtZVxuICogQHBhcmFtIHtUcmFja30gdHJhY2tcbiAqIEBwYXJhbSB7P2Jvb2xlYW59IFtsb2NhbD11bmRlZmluZWRdXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiB0cmFja0NsYXNzKHRyYWNrLCBsb2NhbCkge1xuICBsb2NhbCA9IGxvY2FsID8gJ0xvY2FsJyA6ICcnO1xuICByZXR1cm4gbG9jYWwgKyAodHJhY2sua2luZCB8fCAnJykucmVwbGFjZSgvXFx3ezF9LywgZnVuY3Rpb24gKG0pIHtcbiAgICByZXR1cm4gbS50b1VwcGVyQ2FzZSgpO1xuICB9KSArICdUcmFjayc7XG59XG5cbi8qKlxuICogR2V0IHRoZSB7QGxpbmsgVHJhY2tQdWJsaWNhdGlvbn0ncyBkZXJpdmVkIGNsYXNzIG5hbWVcbiAqIEBwYXJhbSB7VHJhY2tQdWJsaWNhdGlvbn0gcHVibGljYXRpb25cbiAqIEBwYXJhbSB7P2Jvb2xlYW59IFtsb2NhbD11bmRlZmluZWRdXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiB0cmFja1B1YmxpY2F0aW9uQ2xhc3MocHVibGljYXRpb24sIGxvY2FsKSB7XG4gIGxvY2FsID0gbG9jYWwgPyAnTG9jYWwnIDogJyc7XG4gIHJldHVybiBsb2NhbCArIChwdWJsaWNhdGlvbi5raW5kIHx8ICcnKS5yZXBsYWNlKC9cXHd7MX0vLCBmdW5jdGlvbiAobSkge1xuICAgIHJldHVybiBtLnRvVXBwZXJDYXNlKCk7XG4gIH0pICsgJ1RyYWNrUHVibGljYXRpb24nO1xufVxuXG4vKipcbiAqIFRocm93IGlmIHRoZSBnaXZlbiB0cmFjayBpcyBub3QgYSB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfSwgYVxuICoge0BsaW5rIExvY2FsVmlkZW9UcmFja30gb3IgYSBNZWRpYVN0cmVhbVRyYWNrLlxuICogQHBhcmFtIHsqfSB0cmFja1xuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVMb2NhbFRyYWNrKHRyYWNrLCBvcHRpb25zKSB7XG4gIGlmICghKHRyYWNrIGluc3RhbmNlb2Ygb3B0aW9ucy5Mb2NhbEF1ZGlvVHJhY2sgfHwgdHJhY2sgaW5zdGFuY2VvZiBvcHRpb25zLkxvY2FsRGF0YVRyYWNrIHx8IHRyYWNrIGluc3RhbmNlb2Ygb3B0aW9ucy5Mb2NhbFZpZGVvVHJhY2sgfHwgdHJhY2sgaW5zdGFuY2VvZiBvcHRpb25zLk1lZGlhU3RyZWFtVHJhY2spKSB7XG4gICAgdGhyb3cgY29uc3RhbnRzLnR5cGVFcnJvcnMuSU5WQUxJRF9UWVBFKCd0cmFjaycsICdMb2NhbEF1ZGlvVHJhY2ssIExvY2FsVmlkZW9UcmFjaywgTG9jYWxEYXRhVHJhY2ssIG9yIE1lZGlhU3RyZWFtVHJhY2snKTtcbiAgfVxufVxuXG4vKipcbiAqIEB0eXBlZGVmIHsncGxhbi1iJyB8ICd1bmlmaWVkLXBsYW4nfSBTZHBTZW1hbnRpY3NcbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7J3BsYW5iJyB8ICd1bmlmaWVkJ30gU2RwRm9ybWF0XG4gKi9cblxuLyoqXG4gKiBVc2UgdW5pZmllZCBwbGFuIFNEUCBmb3JtYXQgb24gRmlyZWZveFxuICogQHBhcmFtIHs/U2RwU2VtYW50aWNzfSBbc2RwU2VtYW50aWNzXVxuICogQHJldHVybnMge1NkcEZvcm1hdH0gU0RQIGZvcm1hdFxuICovXG5mdW5jdGlvbiBnZXRTZHBGb3JtYXQoc2RwU2VtYW50aWNzKSB7XG4gIHZhciBicm93c2VyID0gZ3Vlc3NCcm93c2VyKCk7XG4gIGlmIChicm93c2VyID09PSAnZmlyZWZveCcpIHtcbiAgICByZXR1cm4gJ3VuaWZpZWQnO1xuICB9XG4gIGlmIChicm93c2VyID09PSAnc2FmYXJpJykge1xuICAgIHJldHVybiAnY3VycmVudERpcmVjdGlvbicgaW4gUlRDUnRwVHJhbnNjZWl2ZXIucHJvdG90eXBlID8gJ3VuaWZpZWQnIDogJ3BsYW5iJztcbiAgfVxuICBpZiAoY2hlY2tJZlNkcFNlbWFudGljc0lzU3VwcG9ydGVkKCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3BsYW4tYic6ICdwbGFuYicsXG4gICAgICAndW5pZmllZC1wbGFuJzogJ3VuaWZpZWQnXG4gICAgfVtzZHBTZW1hbnRpY3MgfHwgJ3BsYW4tYiddO1xuICB9XG4gIC8vIE5PVEUobW1hbGF2YWxsaSk6IE9uY2UgQ2hyb21lIHN0b3BzIHN1cHBvcnRpbmcgXCJwbGFuLWJcIiBTRFBzLCBpdCB3aWxsXG4gIC8vIGlnbm9yZSB0aGUgXCJzZHBTZW1hbnRpY3NcIiBmbGFnLiBTbywgaW4gb3JkZXIgdG8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuXG4gIC8vIHZlcnNpb25zIG9mIENocm9tZSB3aGljaCBzdXBwb3J0IG9ubHkgXCJwbGFuLWJcIiBTRFBzIGFuZCB2ZXJzaW9ucyBvZiBDaHJvbWVcbiAgLy8gd2hpY2ggc3VwcG9ydCBvbmx5IFwidW5pZmllZC1wbGFuXCIgU0RQcywgd2hpY2ggY2hlY2sgd2hldGhlciBQZWVyQ29ubmVjdGlvbidzXG4gIC8vIGFkZFN0cmVhbSgpIG1ldGhvZCBpcyBwcmVzZW50LlxuICByZXR1cm4gUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbSA/ICdwbGFuYicgOiAndW5pZmllZCc7XG59XG5cbi8vIE5PVEUobXJvYmVydHMpOiBXZSBuZWVkIHRvIGNhY2hlIHRoaXMgcmVzdWx0IHNvIHRoYXQgd2UgZG9uJ3QgY3JlYXRlIHRvbyBtYW55XG4vLyBSVENQZWVyQ29ubmVjdGlvbnMuXG52YXIgc2RwU2VtYW50aWNzSXNTdXBwb3J0ZWQgPSB2b2lkIDA7XG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciBvciBub3QgYHNkcFNlbWFudGljc2AgaXMgc3VwcG9ydGVkLlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGNoZWNrSWZTZHBTZW1hbnRpY3NJc1N1cHBvcnRlZCgpIHtcbiAgaWYgKHR5cGVvZiBzZHBTZW1hbnRpY3NJc1N1cHBvcnRlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIHNkcFNlbWFudGljc0lzU3VwcG9ydGVkO1xuICB9XG4gIGlmICh0eXBlb2YgUlRDUGVlckNvbm5lY3Rpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc2RwU2VtYW50aWNzSXNTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gc2RwU2VtYW50aWNzSXNTdXBwb3J0ZWQ7XG4gIH1cbiAgdHJ5IHtcbiAgICBuZXcgUlRDUGVlckNvbm5lY3Rpb24oeyBzZHBTZW1hbnRpY3M6ICdib2d1cycgfSk7XG4gICAgc2RwU2VtYW50aWNzSXNTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gc2RwU2VtYW50aWNzSXNTdXBwb3J0ZWQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgc2RwU2VtYW50aWNzSXNTdXBwb3J0ZWQgPSB0cnVlO1xuICAgIHJldHVybiBzZHBTZW1hbnRpY3NJc1N1cHBvcnRlZDtcbiAgfVxufVxuXG5leHBvcnRzLmNvbnN0YW50cyA9IGNvbnN0YW50cztcbmV4cG9ydHMuYXNMb2NhbFRyYWNrID0gYXNMb2NhbFRyYWNrO1xuZXhwb3J0cy5hc0xvY2FsVHJhY2tQdWJsaWNhdGlvbiA9IGFzTG9jYWxUcmFja1B1YmxpY2F0aW9uO1xuZXhwb3J0cy5jYXBpdGFsaXplID0gY2FwaXRhbGl6ZTtcbmV4cG9ydHMuZGVwcmVjYXRlRXZlbnRzID0gZGVwcmVjYXRlRXZlbnRzO1xuZXhwb3J0cy5kaWZmZXJlbmNlID0gZGlmZmVyZW5jZTtcbmV4cG9ydHMuZmlsdGVyT2JqZWN0ID0gZmlsdGVyT2JqZWN0O1xuZXhwb3J0cy5mbGF0TWFwID0gZmxhdE1hcDtcbmV4cG9ydHMuZ2V0VXNlckFnZW50ID0gZ2V0VXNlckFnZW50O1xuZXhwb3J0cy5ndWVzc0Jyb3dzZXIgPSBndWVzc0Jyb3dzZXI7XG5leHBvcnRzLm1ha2VDbGllbnRTSVBVUkkgPSBtYWtlQ2xpZW50U0lQVVJJO1xuZXhwb3J0cy5tYWtlU2VydmVyU0lQVVJJID0gbWFrZVNlcnZlclNJUFVSSTtcbmV4cG9ydHMubWFrZVVVSUQgPSBtYWtlVVVJRDtcbmV4cG9ydHMub25jZVBlclRpY2sgPSBvbmNlUGVyVGljaztcbmV4cG9ydHMucHJvbWlzZUZyb21FdmVudHMgPSBwcm9taXNlRnJvbUV2ZW50cztcbmV4cG9ydHMuZ2V0T3JOdWxsID0gZ2V0T3JOdWxsO1xuZXhwb3J0cy5kZWZlciA9IGRlZmVyO1xuZXhwb3J0cy5kZWxlZ2F0ZU1ldGhvZHMgPSBkZWxlZ2F0ZU1ldGhvZHM7XG5leHBvcnRzLnByb3h5UHJvcGVydGllcyA9IHByb3h5UHJvcGVydGllcztcbmV4cG9ydHMubGVnYWN5UHJvbWlzZSA9IGxlZ2FjeVByb21pc2U7XG5leHBvcnRzLmJ1aWxkTG9nTGV2ZWxzID0gYnVpbGRMb2dMZXZlbHM7XG5leHBvcnRzLnRyYWNrQ2xhc3MgPSB0cmFja0NsYXNzO1xuZXhwb3J0cy50cmFja1B1YmxpY2F0aW9uQ2xhc3MgPSB0cmFja1B1YmxpY2F0aW9uQ2xhc3M7XG5leHBvcnRzLnZhbGlkYXRlTG9jYWxUcmFjayA9IHZhbGlkYXRlTG9jYWxUcmFjaztcbmV4cG9ydHMuZ2V0U2RwRm9ybWF0ID0gZ2V0U2RwRm9ybWF0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvdXRpbC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMjA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///206\n");

/***/ }),
/* 207 */
/*!**********************************************************************!*\
  !*** ./node_modules/node-libs-browser/node_modules/events/events.js ***!
  \**********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbm9kZS1saWJzLWJyb3dzZXIvbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanM/MWY0MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSCxvQkFBb0IsU0FBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiIyMDcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LiAoJyArIGVyICsgJyknKTtcbiAgICAgICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoaGFuZGxlcikpIHtcbiAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICBsaXN0ZW5lcnMgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICBpZiAodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKVxuICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/XG4gICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICBlbHNlIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2VcbiAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07XG5cbiAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkgJiYgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcbiAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgICB9XG5cbiAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKCcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoKTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZS50cmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkIGluIElFIDEwXG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZygpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgaWYgKCFmaXJlZCkge1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHRoaXMub24odHlwZSwgZyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZFxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICBwb3NpdGlvbiA9IC0xO1xuXG4gIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fFxuICAgICAgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGxpc3QpKSB7XG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICBsaXN0Lmxlbmd0aCA9IDA7XG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIga2V5LCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICBpZiAoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAoa2V5IGluIHRoaXMuX2V2ZW50cykge1xuICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcnMpKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICB9IGVsc2UgaWYgKGxpc3RlbmVycykge1xuICAgIC8vIExJRk8gb3JkZXJcbiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XG4gIGVsc2VcbiAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtcbiAgcmV0dXJuIHJldDtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgaWYgKHRoaXMuX2V2ZW50cykge1xuICAgIHZhciBldmxpc3RlbmVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oZXZsaXN0ZW5lcikpXG4gICAgICByZXR1cm4gMTtcbiAgICBlbHNlIGlmIChldmxpc3RlbmVyKVxuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9ub2RlLWxpYnMtYnJvd3Nlci9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qc1xuLy8gbW9kdWxlIGlkID0gMjA3XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///207\n");

/***/ }),
/* 208 */
/*!*********************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/constants.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports.DEFAULT_ENVIRONMENT = 'prod';\nmodule.exports.DEFAULT_REALM = 'us1';\nmodule.exports.DEFAULT_LOG_LEVEL = 'warn';\nmodule.exports.REGISTRAR_SERVER = 'endpoint.twilio.com';\nmodule.exports.WS_SERVER = function (environment, realm) {\n  switch (environment) {\n    case 'prod':\n      switch (realm) {\n        case 'us1':\n          return 'wss://endpoint.twilio.com';\n        default:\n          return 'wss://endpoint.' + realm + '.twilio.com';\n      }\n    default:\n      return 'wss://endpoint.' + environment + '-' + realm + '.twilio.com';\n  }\n};\nmodule.exports.ECS_SERVER = function (environment, realm) {\n  switch (environment) {\n    case 'prod':\n      return 'https://ecs.' + realm + '.twilio.com';\n    default:\n      return 'https://ecs.' + environment + '-' + realm + '.twilio.com';\n  }\n};\nmodule.exports.ECS_TIMEOUT = 60;\nmodule.exports.PUBLISH_MAX_ATTEMPTS = 5;\nmodule.exports.PUBLISH_BACKOFF_JITTER = 10;\nmodule.exports.PUBLISH_BACKOFF_MS = 20;\n\nmodule.exports.ICE_SERVERS_TIMEOUT_MS = 3000;\nmodule.exports.ICE_SERVERS_DEFAULT_TTL = 3600;\nmodule.exports.DEFAULT_ICE_SERVERS = function (environment) {\n  switch (environment) {\n    case 'prod':\n      return [{ urls: 'stun:global.stun.twilio.com:3478?transport=udp' }];\n    default:\n      return [{ urls: 'stun:global.stun.' + environment + '.twilio.com:3478?transport=udp' }];\n  }\n};\n\n// Headers\n/* eslint key-spacing:0 */\nmodule.exports.headers = {\n  X_TWILIO_ACCESSTOKEN: 'X-Twilio-AccessToken'\n};\n\n/**\n * Returns the appropriate indefinite article (\"a\" | \"an\").\n * @param {string} word - The word which determines whether \"a\" | \"an\" is returned\n * @returns {string} \"a\" if word's first letter is a vowel, \"an\" otherwise\n */\nfunction article(word) {\n  // NOTE(mmalavalli): This will not be accurate for words like \"hour\",\n  // which have consonants as their first character, but are pronounced like\n  // vowels. We can address this issue if the need arises.\n  return ['a', 'e', 'i', 'o', 'u'].includes(word.toLowerCase()[0]) ? 'an' : 'a';\n}\n\nmodule.exports.typeErrors = {\n  INVALID_TYPE: function INVALID_TYPE(name, type) {\n    return new TypeError(name + ' must be ' + article(type) + ' ' + type);\n  },\n  INVALID_VALUE: function INVALID_VALUE(name, values) {\n    return new RangeError(name + ' must be one of ', values.join(', '));\n  },\n  REQUIRED_ARGUMENT: function REQUIRED_ARGUMENT(name) {\n    return new TypeError(name + ' must be specified');\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL2NvbnN0YW50cy5qcz8xMDhkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseURBQXlEO0FBQ3hFO0FBQ0EsZUFBZSw2RUFBNkU7QUFDNUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjIwOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMuREVGQVVMVF9FTlZJUk9OTUVOVCA9ICdwcm9kJztcbm1vZHVsZS5leHBvcnRzLkRFRkFVTFRfUkVBTE0gPSAndXMxJztcbm1vZHVsZS5leHBvcnRzLkRFRkFVTFRfTE9HX0xFVkVMID0gJ3dhcm4nO1xubW9kdWxlLmV4cG9ydHMuUkVHSVNUUkFSX1NFUlZFUiA9ICdlbmRwb2ludC50d2lsaW8uY29tJztcbm1vZHVsZS5leHBvcnRzLldTX1NFUlZFUiA9IGZ1bmN0aW9uIChlbnZpcm9ubWVudCwgcmVhbG0pIHtcbiAgc3dpdGNoIChlbnZpcm9ubWVudCkge1xuICAgIGNhc2UgJ3Byb2QnOlxuICAgICAgc3dpdGNoIChyZWFsbSkge1xuICAgICAgICBjYXNlICd1czEnOlxuICAgICAgICAgIHJldHVybiAnd3NzOi8vZW5kcG9pbnQudHdpbGlvLmNvbSc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICd3c3M6Ly9lbmRwb2ludC4nICsgcmVhbG0gKyAnLnR3aWxpby5jb20nO1xuICAgICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJ3dzczovL2VuZHBvaW50LicgKyBlbnZpcm9ubWVudCArICctJyArIHJlYWxtICsgJy50d2lsaW8uY29tJztcbiAgfVxufTtcbm1vZHVsZS5leHBvcnRzLkVDU19TRVJWRVIgPSBmdW5jdGlvbiAoZW52aXJvbm1lbnQsIHJlYWxtKSB7XG4gIHN3aXRjaCAoZW52aXJvbm1lbnQpIHtcbiAgICBjYXNlICdwcm9kJzpcbiAgICAgIHJldHVybiAnaHR0cHM6Ly9lY3MuJyArIHJlYWxtICsgJy50d2lsaW8uY29tJztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICdodHRwczovL2Vjcy4nICsgZW52aXJvbm1lbnQgKyAnLScgKyByZWFsbSArICcudHdpbGlvLmNvbSc7XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cy5FQ1NfVElNRU9VVCA9IDYwO1xubW9kdWxlLmV4cG9ydHMuUFVCTElTSF9NQVhfQVRURU1QVFMgPSA1O1xubW9kdWxlLmV4cG9ydHMuUFVCTElTSF9CQUNLT0ZGX0pJVFRFUiA9IDEwO1xubW9kdWxlLmV4cG9ydHMuUFVCTElTSF9CQUNLT0ZGX01TID0gMjA7XG5cbm1vZHVsZS5leHBvcnRzLklDRV9TRVJWRVJTX1RJTUVPVVRfTVMgPSAzMDAwO1xubW9kdWxlLmV4cG9ydHMuSUNFX1NFUlZFUlNfREVGQVVMVF9UVEwgPSAzNjAwO1xubW9kdWxlLmV4cG9ydHMuREVGQVVMVF9JQ0VfU0VSVkVSUyA9IGZ1bmN0aW9uIChlbnZpcm9ubWVudCkge1xuICBzd2l0Y2ggKGVudmlyb25tZW50KSB7XG4gICAgY2FzZSAncHJvZCc6XG4gICAgICByZXR1cm4gW3sgdXJsczogJ3N0dW46Z2xvYmFsLnN0dW4udHdpbGlvLmNvbTozNDc4P3RyYW5zcG9ydD11ZHAnIH1dO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gW3sgdXJsczogJ3N0dW46Z2xvYmFsLnN0dW4uJyArIGVudmlyb25tZW50ICsgJy50d2lsaW8uY29tOjM0Nzg/dHJhbnNwb3J0PXVkcCcgfV07XG4gIH1cbn07XG5cbi8vIEhlYWRlcnNcbi8qIGVzbGludCBrZXktc3BhY2luZzowICovXG5tb2R1bGUuZXhwb3J0cy5oZWFkZXJzID0ge1xuICBYX1RXSUxJT19BQ0NFU1NUT0tFTjogJ1gtVHdpbGlvLUFjY2Vzc1Rva2VuJ1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBhcHByb3ByaWF0ZSBpbmRlZmluaXRlIGFydGljbGUgKFwiYVwiIHwgXCJhblwiKS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB3b3JkIC0gVGhlIHdvcmQgd2hpY2ggZGV0ZXJtaW5lcyB3aGV0aGVyIFwiYVwiIHwgXCJhblwiIGlzIHJldHVybmVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBcImFcIiBpZiB3b3JkJ3MgZmlyc3QgbGV0dGVyIGlzIGEgdm93ZWwsIFwiYW5cIiBvdGhlcndpc2VcbiAqL1xuZnVuY3Rpb24gYXJ0aWNsZSh3b3JkKSB7XG4gIC8vIE5PVEUobW1hbGF2YWxsaSk6IFRoaXMgd2lsbCBub3QgYmUgYWNjdXJhdGUgZm9yIHdvcmRzIGxpa2UgXCJob3VyXCIsXG4gIC8vIHdoaWNoIGhhdmUgY29uc29uYW50cyBhcyB0aGVpciBmaXJzdCBjaGFyYWN0ZXIsIGJ1dCBhcmUgcHJvbm91bmNlZCBsaWtlXG4gIC8vIHZvd2Vscy4gV2UgY2FuIGFkZHJlc3MgdGhpcyBpc3N1ZSBpZiB0aGUgbmVlZCBhcmlzZXMuXG4gIHJldHVybiBbJ2EnLCAnZScsICdpJywgJ28nLCAndSddLmluY2x1ZGVzKHdvcmQudG9Mb3dlckNhc2UoKVswXSkgPyAnYW4nIDogJ2EnO1xufVxuXG5tb2R1bGUuZXhwb3J0cy50eXBlRXJyb3JzID0ge1xuICBJTlZBTElEX1RZUEU6IGZ1bmN0aW9uIElOVkFMSURfVFlQRShuYW1lLCB0eXBlKSB7XG4gICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IobmFtZSArICcgbXVzdCBiZSAnICsgYXJ0aWNsZSh0eXBlKSArICcgJyArIHR5cGUpO1xuICB9LFxuICBJTlZBTElEX1ZBTFVFOiBmdW5jdGlvbiBJTlZBTElEX1ZBTFVFKG5hbWUsIHZhbHVlcykge1xuICAgIHJldHVybiBuZXcgUmFuZ2VFcnJvcihuYW1lICsgJyBtdXN0IGJlIG9uZSBvZiAnLCB2YWx1ZXMuam9pbignLCAnKSk7XG4gIH0sXG4gIFJFUVVJUkVEX0FSR1VNRU5UOiBmdW5jdGlvbiBSRVFVSVJFRF9BUkdVTUVOVChuYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IobmFtZSArICcgbXVzdCBiZSBzcGVjaWZpZWQnKTtcbiAgfVxufTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3V0aWwvY29uc3RhbnRzLmpzXG4vLyBtb2R1bGUgaWQgPSAyMDhcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///208\n");

/***/ }),
/* 209 */
/*!*******************************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/twilio-video-errors.js ***!
  \*******************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n// NOTE: Do not edit this file. This code is auto-generated. Contact the\n// Twilio SDK Team for more information.\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TwilioError = __webpack_require__(/*! ./twilioerror */ 296);\nvar TwilioErrorByCode = {};\n\n/**\n * Create a {@link TwilioError} for a given code and message.\n * @private\n * @param {number} [code] - Error code\n * @param {string} [message] - Error message\n * @returns {TwilioError}\n */\nexports.createTwilioError = function createTwilioError(code, message) {\n  code = typeof code === 'number' ? code : 0;\n  message = typeof message === 'string' && message ? message : 'Unknown error';\n  return TwilioErrorByCode[code] ? new TwilioErrorByCode[code]() : new TwilioError(code, message);\n};\n\n/**\n * @class AccessTokenInvalidError\n * @classdesc Raised whenever the AccessToken used for connecting to Room is invalid.\n * @extends TwilioError\n * @property {number} code - 20101\n * @property {string} message - 'Invalid Access Token'\n */\n\nvar AccessTokenInvalidError = function (_TwilioError) {\n  _inherits(AccessTokenInvalidError, _TwilioError);\n\n  function AccessTokenInvalidError() {\n    _classCallCheck(this, AccessTokenInvalidError);\n\n    return _possibleConstructorReturn(this, (AccessTokenInvalidError.__proto__ || Object.getPrototypeOf(AccessTokenInvalidError)).call(this, 20101, 'Invalid Access Token'));\n  }\n\n  return AccessTokenInvalidError;\n}(TwilioError);\n\nexports.AccessTokenInvalidError = AccessTokenInvalidError;\nObject.defineProperty(TwilioErrorByCode, 20101, { value: AccessTokenInvalidError });\n\n/**\n * @class AccessTokenHeaderInvalidError\n * @classdesc Raised whenever the AccessToken used for connecting to Room has an invalid header.\n * @extends TwilioError\n * @property {number} code - 20102\n * @property {string} message - 'Invalid Access Token header'\n */\n\nvar AccessTokenHeaderInvalidError = function (_TwilioError2) {\n  _inherits(AccessTokenHeaderInvalidError, _TwilioError2);\n\n  function AccessTokenHeaderInvalidError() {\n    _classCallCheck(this, AccessTokenHeaderInvalidError);\n\n    return _possibleConstructorReturn(this, (AccessTokenHeaderInvalidError.__proto__ || Object.getPrototypeOf(AccessTokenHeaderInvalidError)).call(this, 20102, 'Invalid Access Token header'));\n  }\n\n  return AccessTokenHeaderInvalidError;\n}(TwilioError);\n\nexports.AccessTokenHeaderInvalidError = AccessTokenHeaderInvalidError;\nObject.defineProperty(TwilioErrorByCode, 20102, { value: AccessTokenHeaderInvalidError });\n\n/**\n * @class AccessTokenIssuerInvalidError\n * @classdesc Raised whenever the AccessToken used for connecting to Room contains an invalid issuer or subject.\n * @extends TwilioError\n * @property {number} code - 20103\n * @property {string} message - 'Invalid Access Token issuer/subject'\n */\n\nvar AccessTokenIssuerInvalidError = function (_TwilioError3) {\n  _inherits(AccessTokenIssuerInvalidError, _TwilioError3);\n\n  function AccessTokenIssuerInvalidError() {\n    _classCallCheck(this, AccessTokenIssuerInvalidError);\n\n    return _possibleConstructorReturn(this, (AccessTokenIssuerInvalidError.__proto__ || Object.getPrototypeOf(AccessTokenIssuerInvalidError)).call(this, 20103, 'Invalid Access Token issuer/subject'));\n  }\n\n  return AccessTokenIssuerInvalidError;\n}(TwilioError);\n\nexports.AccessTokenIssuerInvalidError = AccessTokenIssuerInvalidError;\nObject.defineProperty(TwilioErrorByCode, 20103, { value: AccessTokenIssuerInvalidError });\n\n/**\n * @class AccessTokenExpiredError\n * @classdesc Raised whenever the AccessToken used for connecting to Room has expired.\n * @extends TwilioError\n * @property {number} code - 20104\n * @property {string} message - 'Access Token expired or expiration date invalid'\n */\n\nvar AccessTokenExpiredError = function (_TwilioError4) {\n  _inherits(AccessTokenExpiredError, _TwilioError4);\n\n  function AccessTokenExpiredError() {\n    _classCallCheck(this, AccessTokenExpiredError);\n\n    return _possibleConstructorReturn(this, (AccessTokenExpiredError.__proto__ || Object.getPrototypeOf(AccessTokenExpiredError)).call(this, 20104, 'Access Token expired or expiration date invalid'));\n  }\n\n  return AccessTokenExpiredError;\n}(TwilioError);\n\nexports.AccessTokenExpiredError = AccessTokenExpiredError;\nObject.defineProperty(TwilioErrorByCode, 20104, { value: AccessTokenExpiredError });\n\n/**\n * @class AccessTokenNotYetValidError\n * @classdesc Raised whenever the AccessToken used for connecting to Room is not yet valid.\n * @extends TwilioError\n * @property {number} code - 20105\n * @property {string} message - 'Access Token not yet valid'\n */\n\nvar AccessTokenNotYetValidError = function (_TwilioError5) {\n  _inherits(AccessTokenNotYetValidError, _TwilioError5);\n\n  function AccessTokenNotYetValidError() {\n    _classCallCheck(this, AccessTokenNotYetValidError);\n\n    return _possibleConstructorReturn(this, (AccessTokenNotYetValidError.__proto__ || Object.getPrototypeOf(AccessTokenNotYetValidError)).call(this, 20105, 'Access Token not yet valid'));\n  }\n\n  return AccessTokenNotYetValidError;\n}(TwilioError);\n\nexports.AccessTokenNotYetValidError = AccessTokenNotYetValidError;\nObject.defineProperty(TwilioErrorByCode, 20105, { value: AccessTokenNotYetValidError });\n\n/**\n * @class AccessTokenGrantsInvalidError\n * @classdesc Raised whenever the AccessToken used for connecting to Room has invalid grants.\n * @extends TwilioError\n * @property {number} code - 20106\n * @property {string} message - 'Invalid Access Token grants'\n */\n\nvar AccessTokenGrantsInvalidError = function (_TwilioError6) {\n  _inherits(AccessTokenGrantsInvalidError, _TwilioError6);\n\n  function AccessTokenGrantsInvalidError() {\n    _classCallCheck(this, AccessTokenGrantsInvalidError);\n\n    return _possibleConstructorReturn(this, (AccessTokenGrantsInvalidError.__proto__ || Object.getPrototypeOf(AccessTokenGrantsInvalidError)).call(this, 20106, 'Invalid Access Token grants'));\n  }\n\n  return AccessTokenGrantsInvalidError;\n}(TwilioError);\n\nexports.AccessTokenGrantsInvalidError = AccessTokenGrantsInvalidError;\nObject.defineProperty(TwilioErrorByCode, 20106, { value: AccessTokenGrantsInvalidError });\n\n/**\n * @class AccessTokenSignatureInvalidError\n * @classdesc Raised whenever the AccessToken used for connecting to Room has an invalid signature.\n * @extends TwilioError\n * @property {number} code - 20107\n * @property {string} message - 'Invalid Access Token signature'\n */\n\nvar AccessTokenSignatureInvalidError = function (_TwilioError7) {\n  _inherits(AccessTokenSignatureInvalidError, _TwilioError7);\n\n  function AccessTokenSignatureInvalidError() {\n    _classCallCheck(this, AccessTokenSignatureInvalidError);\n\n    return _possibleConstructorReturn(this, (AccessTokenSignatureInvalidError.__proto__ || Object.getPrototypeOf(AccessTokenSignatureInvalidError)).call(this, 20107, 'Invalid Access Token signature'));\n  }\n\n  return AccessTokenSignatureInvalidError;\n}(TwilioError);\n\nexports.AccessTokenSignatureInvalidError = AccessTokenSignatureInvalidError;\nObject.defineProperty(TwilioErrorByCode, 20107, { value: AccessTokenSignatureInvalidError });\n\n/**\n * @class SignalingConnectionError\n * @classdesc Raised whenever a signaling connection error occurs that is not covered by a more specific error code.\n * @extends TwilioError\n * @property {number} code - 53000\n * @property {string} message - 'Signaling connection error'\n */\n\nvar SignalingConnectionError = function (_TwilioError8) {\n  _inherits(SignalingConnectionError, _TwilioError8);\n\n  function SignalingConnectionError() {\n    _classCallCheck(this, SignalingConnectionError);\n\n    return _possibleConstructorReturn(this, (SignalingConnectionError.__proto__ || Object.getPrototypeOf(SignalingConnectionError)).call(this, 53000, 'Signaling connection error'));\n  }\n\n  return SignalingConnectionError;\n}(TwilioError);\n\nexports.SignalingConnectionError = SignalingConnectionError;\nObject.defineProperty(TwilioErrorByCode, 53000, { value: SignalingConnectionError });\n\n/**\n * @class SignalingConnectionDisconnectedError\n * @classdesc Raised whenever the signaling connection is unexpectedly disconnected.\n * @extends TwilioError\n * @property {number} code - 53001\n * @property {string} message - 'Signaling connection disconnected'\n */\n\nvar SignalingConnectionDisconnectedError = function (_TwilioError9) {\n  _inherits(SignalingConnectionDisconnectedError, _TwilioError9);\n\n  function SignalingConnectionDisconnectedError() {\n    _classCallCheck(this, SignalingConnectionDisconnectedError);\n\n    return _possibleConstructorReturn(this, (SignalingConnectionDisconnectedError.__proto__ || Object.getPrototypeOf(SignalingConnectionDisconnectedError)).call(this, 53001, 'Signaling connection disconnected'));\n  }\n\n  return SignalingConnectionDisconnectedError;\n}(TwilioError);\n\nexports.SignalingConnectionDisconnectedError = SignalingConnectionDisconnectedError;\nObject.defineProperty(TwilioErrorByCode, 53001, { value: SignalingConnectionDisconnectedError });\n\n/**\n * @class SignalingConnectionTimeoutError\n * @classdesc Raised whenever the signaling connection times out.\n * @extends TwilioError\n * @property {number} code - 53002\n * @property {string} message - 'Signaling connection timed out'\n */\n\nvar SignalingConnectionTimeoutError = function (_TwilioError10) {\n  _inherits(SignalingConnectionTimeoutError, _TwilioError10);\n\n  function SignalingConnectionTimeoutError() {\n    _classCallCheck(this, SignalingConnectionTimeoutError);\n\n    return _possibleConstructorReturn(this, (SignalingConnectionTimeoutError.__proto__ || Object.getPrototypeOf(SignalingConnectionTimeoutError)).call(this, 53002, 'Signaling connection timed out'));\n  }\n\n  return SignalingConnectionTimeoutError;\n}(TwilioError);\n\nexports.SignalingConnectionTimeoutError = SignalingConnectionTimeoutError;\nObject.defineProperty(TwilioErrorByCode, 53002, { value: SignalingConnectionTimeoutError });\n\n/**\n * @class SignalingIncomingMessageInvalidError\n * @classdesc Raised whenever the Client receives a message from the Server that the Client cannot handle.\n * @extends TwilioError\n * @property {number} code - 53003\n * @property {string} message - 'Client received an invalid signaling message'\n */\n\nvar SignalingIncomingMessageInvalidError = function (_TwilioError11) {\n  _inherits(SignalingIncomingMessageInvalidError, _TwilioError11);\n\n  function SignalingIncomingMessageInvalidError() {\n    _classCallCheck(this, SignalingIncomingMessageInvalidError);\n\n    return _possibleConstructorReturn(this, (SignalingIncomingMessageInvalidError.__proto__ || Object.getPrototypeOf(SignalingIncomingMessageInvalidError)).call(this, 53003, 'Client received an invalid signaling message'));\n  }\n\n  return SignalingIncomingMessageInvalidError;\n}(TwilioError);\n\nexports.SignalingIncomingMessageInvalidError = SignalingIncomingMessageInvalidError;\nObject.defineProperty(TwilioErrorByCode, 53003, { value: SignalingIncomingMessageInvalidError });\n\n/**\n * @class SignalingOutgoingMessageInvalidError\n * @classdesc Raised whenever the Client sends a message to the Server that the Server cannot handle.\n * @extends TwilioError\n * @property {number} code - 53004\n * @property {string} message - 'Client sent an invalid signaling message'\n */\n\nvar SignalingOutgoingMessageInvalidError = function (_TwilioError12) {\n  _inherits(SignalingOutgoingMessageInvalidError, _TwilioError12);\n\n  function SignalingOutgoingMessageInvalidError() {\n    _classCallCheck(this, SignalingOutgoingMessageInvalidError);\n\n    return _possibleConstructorReturn(this, (SignalingOutgoingMessageInvalidError.__proto__ || Object.getPrototypeOf(SignalingOutgoingMessageInvalidError)).call(this, 53004, 'Client sent an invalid signaling message'));\n  }\n\n  return SignalingOutgoingMessageInvalidError;\n}(TwilioError);\n\nexports.SignalingOutgoingMessageInvalidError = SignalingOutgoingMessageInvalidError;\nObject.defineProperty(TwilioErrorByCode, 53004, { value: SignalingOutgoingMessageInvalidError });\n\n/**\n * @class RoomNameInvalidError\n * @classdesc Raised whenever a Room name is invalid, and the scenario is not covered by a more specific error code.\n * @extends TwilioError\n * @property {number} code - 53100\n * @property {string} message - 'Room name is invalid'\n */\n\nvar RoomNameInvalidError = function (_TwilioError13) {\n  _inherits(RoomNameInvalidError, _TwilioError13);\n\n  function RoomNameInvalidError() {\n    _classCallCheck(this, RoomNameInvalidError);\n\n    return _possibleConstructorReturn(this, (RoomNameInvalidError.__proto__ || Object.getPrototypeOf(RoomNameInvalidError)).call(this, 53100, 'Room name is invalid'));\n  }\n\n  return RoomNameInvalidError;\n}(TwilioError);\n\nexports.RoomNameInvalidError = RoomNameInvalidError;\nObject.defineProperty(TwilioErrorByCode, 53100, { value: RoomNameInvalidError });\n\n/**\n * @class RoomNameTooLongError\n * @classdesc Raised whenever a Room name is too long.\n * @extends TwilioError\n * @property {number} code - 53101\n * @property {string} message - 'Room name is too long'\n */\n\nvar RoomNameTooLongError = function (_TwilioError14) {\n  _inherits(RoomNameTooLongError, _TwilioError14);\n\n  function RoomNameTooLongError() {\n    _classCallCheck(this, RoomNameTooLongError);\n\n    return _possibleConstructorReturn(this, (RoomNameTooLongError.__proto__ || Object.getPrototypeOf(RoomNameTooLongError)).call(this, 53101, 'Room name is too long'));\n  }\n\n  return RoomNameTooLongError;\n}(TwilioError);\n\nexports.RoomNameTooLongError = RoomNameTooLongError;\nObject.defineProperty(TwilioErrorByCode, 53101, { value: RoomNameTooLongError });\n\n/**\n * @class RoomNameCharsInvalidError\n * @classdesc Raised whenever a Room name contains invalid characters.\n * @extends TwilioError\n * @property {number} code - 53102\n * @property {string} message - 'Room name contains invalid characters'\n */\n\nvar RoomNameCharsInvalidError = function (_TwilioError15) {\n  _inherits(RoomNameCharsInvalidError, _TwilioError15);\n\n  function RoomNameCharsInvalidError() {\n    _classCallCheck(this, RoomNameCharsInvalidError);\n\n    return _possibleConstructorReturn(this, (RoomNameCharsInvalidError.__proto__ || Object.getPrototypeOf(RoomNameCharsInvalidError)).call(this, 53102, 'Room name contains invalid characters'));\n  }\n\n  return RoomNameCharsInvalidError;\n}(TwilioError);\n\nexports.RoomNameCharsInvalidError = RoomNameCharsInvalidError;\nObject.defineProperty(TwilioErrorByCode, 53102, { value: RoomNameCharsInvalidError });\n\n/**\n * @class RoomCreateFailedError\n * @classdesc Raised whenever the Server is unable to create a Room.\n * @extends TwilioError\n * @property {number} code - 53103\n * @property {string} message - 'Unable to create Room'\n */\n\nvar RoomCreateFailedError = function (_TwilioError16) {\n  _inherits(RoomCreateFailedError, _TwilioError16);\n\n  function RoomCreateFailedError() {\n    _classCallCheck(this, RoomCreateFailedError);\n\n    return _possibleConstructorReturn(this, (RoomCreateFailedError.__proto__ || Object.getPrototypeOf(RoomCreateFailedError)).call(this, 53103, 'Unable to create Room'));\n  }\n\n  return RoomCreateFailedError;\n}(TwilioError);\n\nexports.RoomCreateFailedError = RoomCreateFailedError;\nObject.defineProperty(TwilioErrorByCode, 53103, { value: RoomCreateFailedError });\n\n/**\n * @class RoomConnectFailedError\n * @classdesc Raised whenever a Client is unable to connect to a Room, and the scenario is not covered by a more specific error code.\n * @extends TwilioError\n * @property {number} code - 53104\n * @property {string} message - 'Unable to connect to Room'\n */\n\nvar RoomConnectFailedError = function (_TwilioError17) {\n  _inherits(RoomConnectFailedError, _TwilioError17);\n\n  function RoomConnectFailedError() {\n    _classCallCheck(this, RoomConnectFailedError);\n\n    return _possibleConstructorReturn(this, (RoomConnectFailedError.__proto__ || Object.getPrototypeOf(RoomConnectFailedError)).call(this, 53104, 'Unable to connect to Room'));\n  }\n\n  return RoomConnectFailedError;\n}(TwilioError);\n\nexports.RoomConnectFailedError = RoomConnectFailedError;\nObject.defineProperty(TwilioErrorByCode, 53104, { value: RoomConnectFailedError });\n\n/**\n * @class RoomMaxParticipantsExceededError\n * @classdesc Raised whenever a Client is unable to connect to a Room because the Room contains too many Participants.\n * @extends TwilioError\n * @property {number} code - 53105\n * @property {string} message - 'Room contains too many Participants'\n */\n\nvar RoomMaxParticipantsExceededError = function (_TwilioError18) {\n  _inherits(RoomMaxParticipantsExceededError, _TwilioError18);\n\n  function RoomMaxParticipantsExceededError() {\n    _classCallCheck(this, RoomMaxParticipantsExceededError);\n\n    return _possibleConstructorReturn(this, (RoomMaxParticipantsExceededError.__proto__ || Object.getPrototypeOf(RoomMaxParticipantsExceededError)).call(this, 53105, 'Room contains too many Participants'));\n  }\n\n  return RoomMaxParticipantsExceededError;\n}(TwilioError);\n\nexports.RoomMaxParticipantsExceededError = RoomMaxParticipantsExceededError;\nObject.defineProperty(TwilioErrorByCode, 53105, { value: RoomMaxParticipantsExceededError });\n\n/**\n * @class RoomNotFoundError\n * @classdesc Raised whenever attempting operation on a non-existent Room.\n * @extends TwilioError\n * @property {number} code - 53106\n * @property {string} message - 'Room not found'\n */\n\nvar RoomNotFoundError = function (_TwilioError19) {\n  _inherits(RoomNotFoundError, _TwilioError19);\n\n  function RoomNotFoundError() {\n    _classCallCheck(this, RoomNotFoundError);\n\n    return _possibleConstructorReturn(this, (RoomNotFoundError.__proto__ || Object.getPrototypeOf(RoomNotFoundError)).call(this, 53106, 'Room not found'));\n  }\n\n  return RoomNotFoundError;\n}(TwilioError);\n\nexports.RoomNotFoundError = RoomNotFoundError;\nObject.defineProperty(TwilioErrorByCode, 53106, { value: RoomNotFoundError });\n\n/**\n * @class RoomMaxParticipantsOutOfRangeError\n * @classdesc Raised in the REST API when MaxParticipants is set out of range.\n * @extends TwilioError\n * @property {number} code - 53107\n * @property {string} message - 'MaxParticipants is out of range'\n */\n\nvar RoomMaxParticipantsOutOfRangeError = function (_TwilioError20) {\n  _inherits(RoomMaxParticipantsOutOfRangeError, _TwilioError20);\n\n  function RoomMaxParticipantsOutOfRangeError() {\n    _classCallCheck(this, RoomMaxParticipantsOutOfRangeError);\n\n    return _possibleConstructorReturn(this, (RoomMaxParticipantsOutOfRangeError.__proto__ || Object.getPrototypeOf(RoomMaxParticipantsOutOfRangeError)).call(this, 53107, 'MaxParticipants is out of range'));\n  }\n\n  return RoomMaxParticipantsOutOfRangeError;\n}(TwilioError);\n\nexports.RoomMaxParticipantsOutOfRangeError = RoomMaxParticipantsOutOfRangeError;\nObject.defineProperty(TwilioErrorByCode, 53107, { value: RoomMaxParticipantsOutOfRangeError });\n\n/**\n * @class RoomTypeInvalidError\n * @classdesc Raised in the REST API when the user attempts to create a Room with an invalid RoomType\n * @extends TwilioError\n * @property {number} code - 53108\n * @property {string} message - 'RoomType is not valid'\n */\n\nvar RoomTypeInvalidError = function (_TwilioError21) {\n  _inherits(RoomTypeInvalidError, _TwilioError21);\n\n  function RoomTypeInvalidError() {\n    _classCallCheck(this, RoomTypeInvalidError);\n\n    return _possibleConstructorReturn(this, (RoomTypeInvalidError.__proto__ || Object.getPrototypeOf(RoomTypeInvalidError)).call(this, 53108, 'RoomType is not valid'));\n  }\n\n  return RoomTypeInvalidError;\n}(TwilioError);\n\nexports.RoomTypeInvalidError = RoomTypeInvalidError;\nObject.defineProperty(TwilioErrorByCode, 53108, { value: RoomTypeInvalidError });\n\n/**\n * @class RoomTimeoutOutOfRangeError\n * @classdesc Raised in the REST API when Timeout is set out of range.\n * @extends TwilioError\n * @property {number} code - 53109\n * @property {string} message - 'Timeout is out of range'\n */\n\nvar RoomTimeoutOutOfRangeError = function (_TwilioError22) {\n  _inherits(RoomTimeoutOutOfRangeError, _TwilioError22);\n\n  function RoomTimeoutOutOfRangeError() {\n    _classCallCheck(this, RoomTimeoutOutOfRangeError);\n\n    return _possibleConstructorReturn(this, (RoomTimeoutOutOfRangeError.__proto__ || Object.getPrototypeOf(RoomTimeoutOutOfRangeError)).call(this, 53109, 'Timeout is out of range'));\n  }\n\n  return RoomTimeoutOutOfRangeError;\n}(TwilioError);\n\nexports.RoomTimeoutOutOfRangeError = RoomTimeoutOutOfRangeError;\nObject.defineProperty(TwilioErrorByCode, 53109, { value: RoomTimeoutOutOfRangeError });\n\n/**\n * @class RoomStatusCallbackMethodInvalidError\n * @classdesc Raised in the REST API when StatusCallbackMethod is set to an invalid value.\n * @extends TwilioError\n * @property {number} code - 53110\n * @property {string} message - 'StatusCallbackMethod is invalid'\n */\n\nvar RoomStatusCallbackMethodInvalidError = function (_TwilioError23) {\n  _inherits(RoomStatusCallbackMethodInvalidError, _TwilioError23);\n\n  function RoomStatusCallbackMethodInvalidError() {\n    _classCallCheck(this, RoomStatusCallbackMethodInvalidError);\n\n    return _possibleConstructorReturn(this, (RoomStatusCallbackMethodInvalidError.__proto__ || Object.getPrototypeOf(RoomStatusCallbackMethodInvalidError)).call(this, 53110, 'StatusCallbackMethod is invalid'));\n  }\n\n  return RoomStatusCallbackMethodInvalidError;\n}(TwilioError);\n\nexports.RoomStatusCallbackMethodInvalidError = RoomStatusCallbackMethodInvalidError;\nObject.defineProperty(TwilioErrorByCode, 53110, { value: RoomStatusCallbackMethodInvalidError });\n\n/**\n * @class RoomStatusCallbackInvalidError\n * @classdesc Raised in the REST API when StatusCallback is not a valid URL or the url is too long.\n * @extends TwilioError\n * @property {number} code - 53111\n * @property {string} message - 'StatusCallback is invalid'\n */\n\nvar RoomStatusCallbackInvalidError = function (_TwilioError24) {\n  _inherits(RoomStatusCallbackInvalidError, _TwilioError24);\n\n  function RoomStatusCallbackInvalidError() {\n    _classCallCheck(this, RoomStatusCallbackInvalidError);\n\n    return _possibleConstructorReturn(this, (RoomStatusCallbackInvalidError.__proto__ || Object.getPrototypeOf(RoomStatusCallbackInvalidError)).call(this, 53111, 'StatusCallback is invalid'));\n  }\n\n  return RoomStatusCallbackInvalidError;\n}(TwilioError);\n\nexports.RoomStatusCallbackInvalidError = RoomStatusCallbackInvalidError;\nObject.defineProperty(TwilioErrorByCode, 53111, { value: RoomStatusCallbackInvalidError });\n\n/**\n * @class RoomStatusInvalidError\n * @classdesc Raised in the REST API when Status is not valid or the Room is not in-progress.\n * @extends TwilioError\n * @property {number} code - 53112\n * @property {string} message - 'Status is invalid'\n */\n\nvar RoomStatusInvalidError = function (_TwilioError25) {\n  _inherits(RoomStatusInvalidError, _TwilioError25);\n\n  function RoomStatusInvalidError() {\n    _classCallCheck(this, RoomStatusInvalidError);\n\n    return _possibleConstructorReturn(this, (RoomStatusInvalidError.__proto__ || Object.getPrototypeOf(RoomStatusInvalidError)).call(this, 53112, 'Status is invalid'));\n  }\n\n  return RoomStatusInvalidError;\n}(TwilioError);\n\nexports.RoomStatusInvalidError = RoomStatusInvalidError;\nObject.defineProperty(TwilioErrorByCode, 53112, { value: RoomStatusInvalidError });\n\n/**\n * @class RoomRoomExistsError\n * @classdesc Raised in the REST API when the Room creation fails because a Room exists with the same name.\n * @extends TwilioError\n * @property {number} code - 53113\n * @property {string} message - 'Room exists'\n */\n\nvar RoomRoomExistsError = function (_TwilioError26) {\n  _inherits(RoomRoomExistsError, _TwilioError26);\n\n  function RoomRoomExistsError() {\n    _classCallCheck(this, RoomRoomExistsError);\n\n    return _possibleConstructorReturn(this, (RoomRoomExistsError.__proto__ || Object.getPrototypeOf(RoomRoomExistsError)).call(this, 53113, 'Room exists'));\n  }\n\n  return RoomRoomExistsError;\n}(TwilioError);\n\nexports.RoomRoomExistsError = RoomRoomExistsError;\nObject.defineProperty(TwilioErrorByCode, 53113, { value: RoomRoomExistsError });\n\n/**\n * @class RoomInvalidParametersError\n * @classdesc Raised in the REST API when one or more Room creation parameter is incompatible with the Room type.\n * @extends TwilioError\n * @property {number} code - 53114\n * @property {string} message - 'Room creation parameter(s) incompatible with the Room type'\n */\n\nvar RoomInvalidParametersError = function (_TwilioError27) {\n  _inherits(RoomInvalidParametersError, _TwilioError27);\n\n  function RoomInvalidParametersError() {\n    _classCallCheck(this, RoomInvalidParametersError);\n\n    return _possibleConstructorReturn(this, (RoomInvalidParametersError.__proto__ || Object.getPrototypeOf(RoomInvalidParametersError)).call(this, 53114, 'Room creation parameter(s) incompatible with the Room type'));\n  }\n\n  return RoomInvalidParametersError;\n}(TwilioError);\n\nexports.RoomInvalidParametersError = RoomInvalidParametersError;\nObject.defineProperty(TwilioErrorByCode, 53114, { value: RoomInvalidParametersError });\n\n/**\n * @class RoomMediaRegionInvalidError\n * @classdesc Raised in the REST API when MediaRegion is set to an invalid value.\n * @extends TwilioError\n * @property {number} code - 53115\n * @property {string} message - 'MediaRegion is invalid'\n */\n\nvar RoomMediaRegionInvalidError = function (_TwilioError28) {\n  _inherits(RoomMediaRegionInvalidError, _TwilioError28);\n\n  function RoomMediaRegionInvalidError() {\n    _classCallCheck(this, RoomMediaRegionInvalidError);\n\n    return _possibleConstructorReturn(this, (RoomMediaRegionInvalidError.__proto__ || Object.getPrototypeOf(RoomMediaRegionInvalidError)).call(this, 53115, 'MediaRegion is invalid'));\n  }\n\n  return RoomMediaRegionInvalidError;\n}(TwilioError);\n\nexports.RoomMediaRegionInvalidError = RoomMediaRegionInvalidError;\nObject.defineProperty(TwilioErrorByCode, 53115, { value: RoomMediaRegionInvalidError });\n\n/**\n * @class RoomMediaRegionUnavailableError\n * @classdesc Raised in the REST API when MediaRegion is set to a valid value but no media servers are available.\n * @extends TwilioError\n * @property {number} code - 53116\n * @property {string} message - 'There are no media servers available in the MediaRegion'\n */\n\nvar RoomMediaRegionUnavailableError = function (_TwilioError29) {\n  _inherits(RoomMediaRegionUnavailableError, _TwilioError29);\n\n  function RoomMediaRegionUnavailableError() {\n    _classCallCheck(this, RoomMediaRegionUnavailableError);\n\n    return _possibleConstructorReturn(this, (RoomMediaRegionUnavailableError.__proto__ || Object.getPrototypeOf(RoomMediaRegionUnavailableError)).call(this, 53116, 'There are no media servers available in the MediaRegion'));\n  }\n\n  return RoomMediaRegionUnavailableError;\n}(TwilioError);\n\nexports.RoomMediaRegionUnavailableError = RoomMediaRegionUnavailableError;\nObject.defineProperty(TwilioErrorByCode, 53116, { value: RoomMediaRegionUnavailableError });\n\n/**\n * @class RoomSubscriptionOperationNotSupportedError\n * @classdesc Raised whenever the subscription operation requested is not supported for the Room type.\n * @extends TwilioError\n * @property {number} code - 53117\n * @property {string} message - 'The subscription operation requested is not supported for the Room type'\n */\n\nvar RoomSubscriptionOperationNotSupportedError = function (_TwilioError30) {\n  _inherits(RoomSubscriptionOperationNotSupportedError, _TwilioError30);\n\n  function RoomSubscriptionOperationNotSupportedError() {\n    _classCallCheck(this, RoomSubscriptionOperationNotSupportedError);\n\n    return _possibleConstructorReturn(this, (RoomSubscriptionOperationNotSupportedError.__proto__ || Object.getPrototypeOf(RoomSubscriptionOperationNotSupportedError)).call(this, 53117, 'The subscription operation requested is not supported for the Room type'));\n  }\n\n  return RoomSubscriptionOperationNotSupportedError;\n}(TwilioError);\n\nexports.RoomSubscriptionOperationNotSupportedError = RoomSubscriptionOperationNotSupportedError;\nObject.defineProperty(TwilioErrorByCode, 53117, { value: RoomSubscriptionOperationNotSupportedError });\n\n/**\n * @class RoomCompletedError\n * @classdesc Raised whenever a Room is completed via the REST API.\n * @extends TwilioError\n * @property {number} code - 53118\n * @property {string} message - 'Room completed'\n */\n\nvar RoomCompletedError = function (_TwilioError31) {\n  _inherits(RoomCompletedError, _TwilioError31);\n\n  function RoomCompletedError() {\n    _classCallCheck(this, RoomCompletedError);\n\n    return _possibleConstructorReturn(this, (RoomCompletedError.__proto__ || Object.getPrototypeOf(RoomCompletedError)).call(this, 53118, 'Room completed'));\n  }\n\n  return RoomCompletedError;\n}(TwilioError);\n\nexports.RoomCompletedError = RoomCompletedError;\nObject.defineProperty(TwilioErrorByCode, 53118, { value: RoomCompletedError });\n\n/**\n * @class ParticipantIdentityInvalidError\n * @classdesc Raised whenever a Participant identity is invalid, and the scenario is not covered by a more specific error code.\n * @extends TwilioError\n * @property {number} code - 53200\n * @property {string} message - 'Participant identity is invalid'\n */\n\nvar ParticipantIdentityInvalidError = function (_TwilioError32) {\n  _inherits(ParticipantIdentityInvalidError, _TwilioError32);\n\n  function ParticipantIdentityInvalidError() {\n    _classCallCheck(this, ParticipantIdentityInvalidError);\n\n    return _possibleConstructorReturn(this, (ParticipantIdentityInvalidError.__proto__ || Object.getPrototypeOf(ParticipantIdentityInvalidError)).call(this, 53200, 'Participant identity is invalid'));\n  }\n\n  return ParticipantIdentityInvalidError;\n}(TwilioError);\n\nexports.ParticipantIdentityInvalidError = ParticipantIdentityInvalidError;\nObject.defineProperty(TwilioErrorByCode, 53200, { value: ParticipantIdentityInvalidError });\n\n/**\n * @class ParticipantIdentityTooLongError\n * @classdesc Raised whenever a Participant identity is too long.\n * @extends TwilioError\n * @property {number} code - 53201\n * @property {string} message - 'Participant identity is too long'\n */\n\nvar ParticipantIdentityTooLongError = function (_TwilioError33) {\n  _inherits(ParticipantIdentityTooLongError, _TwilioError33);\n\n  function ParticipantIdentityTooLongError() {\n    _classCallCheck(this, ParticipantIdentityTooLongError);\n\n    return _possibleConstructorReturn(this, (ParticipantIdentityTooLongError.__proto__ || Object.getPrototypeOf(ParticipantIdentityTooLongError)).call(this, 53201, 'Participant identity is too long'));\n  }\n\n  return ParticipantIdentityTooLongError;\n}(TwilioError);\n\nexports.ParticipantIdentityTooLongError = ParticipantIdentityTooLongError;\nObject.defineProperty(TwilioErrorByCode, 53201, { value: ParticipantIdentityTooLongError });\n\n/**\n * @class ParticipantIdentityCharsInvalidError\n * @classdesc Raised whenever a Participant identity contains invalid characters.\n * @extends TwilioError\n * @property {number} code - 53202\n * @property {string} message - 'Participant identity contains invalid characters'\n */\n\nvar ParticipantIdentityCharsInvalidError = function (_TwilioError34) {\n  _inherits(ParticipantIdentityCharsInvalidError, _TwilioError34);\n\n  function ParticipantIdentityCharsInvalidError() {\n    _classCallCheck(this, ParticipantIdentityCharsInvalidError);\n\n    return _possibleConstructorReturn(this, (ParticipantIdentityCharsInvalidError.__proto__ || Object.getPrototypeOf(ParticipantIdentityCharsInvalidError)).call(this, 53202, 'Participant identity contains invalid characters'));\n  }\n\n  return ParticipantIdentityCharsInvalidError;\n}(TwilioError);\n\nexports.ParticipantIdentityCharsInvalidError = ParticipantIdentityCharsInvalidError;\nObject.defineProperty(TwilioErrorByCode, 53202, { value: ParticipantIdentityCharsInvalidError });\n\n/**\n * @class ParticipantMaxTracksExceededError\n * @classdesc Raised whenever a Participant has too many Tracks.\n * @extends TwilioError\n * @property {number} code - 53203\n * @property {string} message - 'Participant has too many Tracks'\n */\n\nvar ParticipantMaxTracksExceededError = function (_TwilioError35) {\n  _inherits(ParticipantMaxTracksExceededError, _TwilioError35);\n\n  function ParticipantMaxTracksExceededError() {\n    _classCallCheck(this, ParticipantMaxTracksExceededError);\n\n    return _possibleConstructorReturn(this, (ParticipantMaxTracksExceededError.__proto__ || Object.getPrototypeOf(ParticipantMaxTracksExceededError)).call(this, 53203, 'Participant has too many Tracks'));\n  }\n\n  return ParticipantMaxTracksExceededError;\n}(TwilioError);\n\nexports.ParticipantMaxTracksExceededError = ParticipantMaxTracksExceededError;\nObject.defineProperty(TwilioErrorByCode, 53203, { value: ParticipantMaxTracksExceededError });\n\n/**\n * @class ParticipantNotFoundError\n * @classdesc Raised whenever attempting operation on a non-existent Participant.\n * @extends TwilioError\n * @property {number} code - 53204\n * @property {string} message - 'Participant not found'\n */\n\nvar ParticipantNotFoundError = function (_TwilioError36) {\n  _inherits(ParticipantNotFoundError, _TwilioError36);\n\n  function ParticipantNotFoundError() {\n    _classCallCheck(this, ParticipantNotFoundError);\n\n    return _possibleConstructorReturn(this, (ParticipantNotFoundError.__proto__ || Object.getPrototypeOf(ParticipantNotFoundError)).call(this, 53204, 'Participant not found'));\n  }\n\n  return ParticipantNotFoundError;\n}(TwilioError);\n\nexports.ParticipantNotFoundError = ParticipantNotFoundError;\nObject.defineProperty(TwilioErrorByCode, 53204, { value: ParticipantNotFoundError });\n\n/**\n * @class ParticipantDuplicateIdentityError\n * @classdesc Raised by the server to the existing Participant when a new Participant joins a Room with the same identity as the existing Participant.\n * @extends TwilioError\n * @property {number} code - 53205\n * @property {string} message - 'Participant disconnected because of duplicate identity'\n */\n\nvar ParticipantDuplicateIdentityError = function (_TwilioError37) {\n  _inherits(ParticipantDuplicateIdentityError, _TwilioError37);\n\n  function ParticipantDuplicateIdentityError() {\n    _classCallCheck(this, ParticipantDuplicateIdentityError);\n\n    return _possibleConstructorReturn(this, (ParticipantDuplicateIdentityError.__proto__ || Object.getPrototypeOf(ParticipantDuplicateIdentityError)).call(this, 53205, 'Participant disconnected because of duplicate identity'));\n  }\n\n  return ParticipantDuplicateIdentityError;\n}(TwilioError);\n\nexports.ParticipantDuplicateIdentityError = ParticipantDuplicateIdentityError;\nObject.defineProperty(TwilioErrorByCode, 53205, { value: ParticipantDuplicateIdentityError });\n\n/**\n * @class TrackInvalidError\n * @classdesc Raised whenever a Track is invalid, and the scenario is not covered by a more specific error code.\n * @extends TwilioError\n * @property {number} code - 53300\n * @property {string} message - 'Track is invalid'\n */\n\nvar TrackInvalidError = function (_TwilioError38) {\n  _inherits(TrackInvalidError, _TwilioError38);\n\n  function TrackInvalidError() {\n    _classCallCheck(this, TrackInvalidError);\n\n    return _possibleConstructorReturn(this, (TrackInvalidError.__proto__ || Object.getPrototypeOf(TrackInvalidError)).call(this, 53300, 'Track is invalid'));\n  }\n\n  return TrackInvalidError;\n}(TwilioError);\n\nexports.TrackInvalidError = TrackInvalidError;\nObject.defineProperty(TwilioErrorByCode, 53300, { value: TrackInvalidError });\n\n/**\n * @class TrackNameInvalidError\n * @classdesc Raised whenever a Track name is invalid, and the scenario is not covered by a more specific error code.\n * @extends TwilioError\n * @property {number} code - 53301\n * @property {string} message - 'Track name is invalid'\n */\n\nvar TrackNameInvalidError = function (_TwilioError39) {\n  _inherits(TrackNameInvalidError, _TwilioError39);\n\n  function TrackNameInvalidError() {\n    _classCallCheck(this, TrackNameInvalidError);\n\n    return _possibleConstructorReturn(this, (TrackNameInvalidError.__proto__ || Object.getPrototypeOf(TrackNameInvalidError)).call(this, 53301, 'Track name is invalid'));\n  }\n\n  return TrackNameInvalidError;\n}(TwilioError);\n\nexports.TrackNameInvalidError = TrackNameInvalidError;\nObject.defineProperty(TwilioErrorByCode, 53301, { value: TrackNameInvalidError });\n\n/**\n * @class TrackNameTooLongError\n * @classdesc Raised whenever a Track name is too long.\n * @extends TwilioError\n * @property {number} code - 53302\n * @property {string} message - 'Track name is too long'\n */\n\nvar TrackNameTooLongError = function (_TwilioError40) {\n  _inherits(TrackNameTooLongError, _TwilioError40);\n\n  function TrackNameTooLongError() {\n    _classCallCheck(this, TrackNameTooLongError);\n\n    return _possibleConstructorReturn(this, (TrackNameTooLongError.__proto__ || Object.getPrototypeOf(TrackNameTooLongError)).call(this, 53302, 'Track name is too long'));\n  }\n\n  return TrackNameTooLongError;\n}(TwilioError);\n\nexports.TrackNameTooLongError = TrackNameTooLongError;\nObject.defineProperty(TwilioErrorByCode, 53302, { value: TrackNameTooLongError });\n\n/**\n * @class TrackNameCharsInvalidError\n * @classdesc Raised whenever a Track name contains invalid characters.\n * @extends TwilioError\n * @property {number} code - 53303\n * @property {string} message - 'Track name contains invalid characters'\n */\n\nvar TrackNameCharsInvalidError = function (_TwilioError41) {\n  _inherits(TrackNameCharsInvalidError, _TwilioError41);\n\n  function TrackNameCharsInvalidError() {\n    _classCallCheck(this, TrackNameCharsInvalidError);\n\n    return _possibleConstructorReturn(this, (TrackNameCharsInvalidError.__proto__ || Object.getPrototypeOf(TrackNameCharsInvalidError)).call(this, 53303, 'Track name contains invalid characters'));\n  }\n\n  return TrackNameCharsInvalidError;\n}(TwilioError);\n\nexports.TrackNameCharsInvalidError = TrackNameCharsInvalidError;\nObject.defineProperty(TwilioErrorByCode, 53303, { value: TrackNameCharsInvalidError });\n\n/**\n * @class TrackNameIsDuplicatedError\n * @classdesc Raised whenever a Participant is currently publishing a Track with the same name.\n * @extends TwilioError\n * @property {number} code - 53304\n * @property {string} message - 'Track name is duplicated'\n */\n\nvar TrackNameIsDuplicatedError = function (_TwilioError42) {\n  _inherits(TrackNameIsDuplicatedError, _TwilioError42);\n\n  function TrackNameIsDuplicatedError() {\n    _classCallCheck(this, TrackNameIsDuplicatedError);\n\n    return _possibleConstructorReturn(this, (TrackNameIsDuplicatedError.__proto__ || Object.getPrototypeOf(TrackNameIsDuplicatedError)).call(this, 53304, 'Track name is duplicated'));\n  }\n\n  return TrackNameIsDuplicatedError;\n}(TwilioError);\n\nexports.TrackNameIsDuplicatedError = TrackNameIsDuplicatedError;\nObject.defineProperty(TwilioErrorByCode, 53304, { value: TrackNameIsDuplicatedError });\n\n/**\n * @class TrackServerTrackCapacityReachedError\n * @classdesc The server does not have enough resources available to create a new Track.\n * @extends TwilioError\n * @property {number} code - 53305\n * @property {string} message - 'The server has reached capacity and cannot fulfill this request.'\n */\n\nvar TrackServerTrackCapacityReachedError = function (_TwilioError43) {\n  _inherits(TrackServerTrackCapacityReachedError, _TwilioError43);\n\n  function TrackServerTrackCapacityReachedError() {\n    _classCallCheck(this, TrackServerTrackCapacityReachedError);\n\n    return _possibleConstructorReturn(this, (TrackServerTrackCapacityReachedError.__proto__ || Object.getPrototypeOf(TrackServerTrackCapacityReachedError)).call(this, 53305, 'The server has reached capacity and cannot fulfill this request.'));\n  }\n\n  return TrackServerTrackCapacityReachedError;\n}(TwilioError);\n\nexports.TrackServerTrackCapacityReachedError = TrackServerTrackCapacityReachedError;\nObject.defineProperty(TwilioErrorByCode, 53305, { value: TrackServerTrackCapacityReachedError });\n\n/**\n * @class MediaClientLocalDescFailedError\n * @classdesc Raised whenever a Client is unable to create or apply a local media description.\n * @extends TwilioError\n * @property {number} code - 53400\n * @property {string} message - 'Client is unable to create or apply a local media description'\n */\n\nvar MediaClientLocalDescFailedError = function (_TwilioError44) {\n  _inherits(MediaClientLocalDescFailedError, _TwilioError44);\n\n  function MediaClientLocalDescFailedError() {\n    _classCallCheck(this, MediaClientLocalDescFailedError);\n\n    return _possibleConstructorReturn(this, (MediaClientLocalDescFailedError.__proto__ || Object.getPrototypeOf(MediaClientLocalDescFailedError)).call(this, 53400, 'Client is unable to create or apply a local media description'));\n  }\n\n  return MediaClientLocalDescFailedError;\n}(TwilioError);\n\nexports.MediaClientLocalDescFailedError = MediaClientLocalDescFailedError;\nObject.defineProperty(TwilioErrorByCode, 53400, { value: MediaClientLocalDescFailedError });\n\n/**\n * @class MediaServerLocalDescFailedError\n * @classdesc Raised whenever the Server is unable to create or apply a local media description.\n * @extends TwilioError\n * @property {number} code - 53401\n * @property {string} message - 'Server is unable to create or apply a local media description'\n */\n\nvar MediaServerLocalDescFailedError = function (_TwilioError45) {\n  _inherits(MediaServerLocalDescFailedError, _TwilioError45);\n\n  function MediaServerLocalDescFailedError() {\n    _classCallCheck(this, MediaServerLocalDescFailedError);\n\n    return _possibleConstructorReturn(this, (MediaServerLocalDescFailedError.__proto__ || Object.getPrototypeOf(MediaServerLocalDescFailedError)).call(this, 53401, 'Server is unable to create or apply a local media description'));\n  }\n\n  return MediaServerLocalDescFailedError;\n}(TwilioError);\n\nexports.MediaServerLocalDescFailedError = MediaServerLocalDescFailedError;\nObject.defineProperty(TwilioErrorByCode, 53401, { value: MediaServerLocalDescFailedError });\n\n/**\n * @class MediaClientRemoteDescFailedError\n * @classdesc Raised whenever the Client receives a remote media description but is unable to apply it.\n * @extends TwilioError\n * @property {number} code - 53402\n * @property {string} message - 'Client is unable to apply a remote media description'\n */\n\nvar MediaClientRemoteDescFailedError = function (_TwilioError46) {\n  _inherits(MediaClientRemoteDescFailedError, _TwilioError46);\n\n  function MediaClientRemoteDescFailedError() {\n    _classCallCheck(this, MediaClientRemoteDescFailedError);\n\n    return _possibleConstructorReturn(this, (MediaClientRemoteDescFailedError.__proto__ || Object.getPrototypeOf(MediaClientRemoteDescFailedError)).call(this, 53402, 'Client is unable to apply a remote media description'));\n  }\n\n  return MediaClientRemoteDescFailedError;\n}(TwilioError);\n\nexports.MediaClientRemoteDescFailedError = MediaClientRemoteDescFailedError;\nObject.defineProperty(TwilioErrorByCode, 53402, { value: MediaClientRemoteDescFailedError });\n\n/**\n * @class MediaServerRemoteDescFailedError\n * @classdesc Raised whenever the Server receives a remote media description but is unable to apply it.\n * @extends TwilioError\n * @property {number} code - 53403\n * @property {string} message - 'Server is unable to apply a remote media description'\n */\n\nvar MediaServerRemoteDescFailedError = function (_TwilioError47) {\n  _inherits(MediaServerRemoteDescFailedError, _TwilioError47);\n\n  function MediaServerRemoteDescFailedError() {\n    _classCallCheck(this, MediaServerRemoteDescFailedError);\n\n    return _possibleConstructorReturn(this, (MediaServerRemoteDescFailedError.__proto__ || Object.getPrototypeOf(MediaServerRemoteDescFailedError)).call(this, 53403, 'Server is unable to apply a remote media description'));\n  }\n\n  return MediaServerRemoteDescFailedError;\n}(TwilioError);\n\nexports.MediaServerRemoteDescFailedError = MediaServerRemoteDescFailedError;\nObject.defineProperty(TwilioErrorByCode, 53403, { value: MediaServerRemoteDescFailedError });\n\n/**\n * @class MediaNoSupportedCodecError\n * @classdesc Raised whenever the intersection of codecs supported by the Client and the Server (or, in peer-to-peer, the Client and another Participant) is empty.\n * @extends TwilioError\n * @property {number} code - 53404\n * @property {string} message - 'No supported codec'\n */\n\nvar MediaNoSupportedCodecError = function (_TwilioError48) {\n  _inherits(MediaNoSupportedCodecError, _TwilioError48);\n\n  function MediaNoSupportedCodecError() {\n    _classCallCheck(this, MediaNoSupportedCodecError);\n\n    return _possibleConstructorReturn(this, (MediaNoSupportedCodecError.__proto__ || Object.getPrototypeOf(MediaNoSupportedCodecError)).call(this, 53404, 'No supported codec'));\n  }\n\n  return MediaNoSupportedCodecError;\n}(TwilioError);\n\nexports.MediaNoSupportedCodecError = MediaNoSupportedCodecError;\nObject.defineProperty(TwilioErrorByCode, 53404, { value: MediaNoSupportedCodecError });\n\n/**\n * @class MediaConnectionError\n * @classdesc Raised by the Client or Server whenever a media connection fails.\n * @extends TwilioError\n * @property {number} code - 53405\n * @property {string} message - 'Media connection failed'\n */\n\nvar MediaConnectionError = function (_TwilioError49) {\n  _inherits(MediaConnectionError, _TwilioError49);\n\n  function MediaConnectionError() {\n    _classCallCheck(this, MediaConnectionError);\n\n    return _possibleConstructorReturn(this, (MediaConnectionError.__proto__ || Object.getPrototypeOf(MediaConnectionError)).call(this, 53405, 'Media connection failed'));\n  }\n\n  return MediaConnectionError;\n}(TwilioError);\n\nexports.MediaConnectionError = MediaConnectionError;\nObject.defineProperty(TwilioErrorByCode, 53405, { value: MediaConnectionError });\n\n/**\n * @class ConfigurationAcquireFailedError\n * @classdesc Raised whenever the Client is unable to acquire configuration information from the Server.\n * @extends TwilioError\n * @property {number} code - 53500\n * @property {string} message - 'Unable to acquire configuration'\n */\n\nvar ConfigurationAcquireFailedError = function (_TwilioError50) {\n  _inherits(ConfigurationAcquireFailedError, _TwilioError50);\n\n  function ConfigurationAcquireFailedError() {\n    _classCallCheck(this, ConfigurationAcquireFailedError);\n\n    return _possibleConstructorReturn(this, (ConfigurationAcquireFailedError.__proto__ || Object.getPrototypeOf(ConfigurationAcquireFailedError)).call(this, 53500, 'Unable to acquire configuration'));\n  }\n\n  return ConfigurationAcquireFailedError;\n}(TwilioError);\n\nexports.ConfigurationAcquireFailedError = ConfigurationAcquireFailedError;\nObject.defineProperty(TwilioErrorByCode, 53500, { value: ConfigurationAcquireFailedError });\n\n/**\n * @class ConfigurationAcquireTurnFailedError\n * @classdesc Raised whenever the Server is unable to return TURN credentials to the Client\n * @extends TwilioError\n * @property {number} code - 53501\n * @property {string} message - 'Unable to acquire TURN credentials'\n */\n\nvar ConfigurationAcquireTurnFailedError = function (_TwilioError51) {\n  _inherits(ConfigurationAcquireTurnFailedError, _TwilioError51);\n\n  function ConfigurationAcquireTurnFailedError() {\n    _classCallCheck(this, ConfigurationAcquireTurnFailedError);\n\n    return _possibleConstructorReturn(this, (ConfigurationAcquireTurnFailedError.__proto__ || Object.getPrototypeOf(ConfigurationAcquireTurnFailedError)).call(this, 53501, 'Unable to acquire TURN credentials'));\n  }\n\n  return ConfigurationAcquireTurnFailedError;\n}(TwilioError);\n\nexports.ConfigurationAcquireTurnFailedError = ConfigurationAcquireTurnFailedError;\nObject.defineProperty(TwilioErrorByCode, 53501, { value: ConfigurationAcquireTurnFailedError });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL3R3aWxpby12aWRlby1lcnJvcnMuanM/Y2ZlNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBOztBQUVBLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsa0JBQWtCLG1CQUFPLENBQUMsd0JBQWU7QUFDekM7O0FBRUE7QUFDQSxhQUFhLGtCQUFrQjtBQUMvQjtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaURBQWlELGlDQUFpQzs7QUFFbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlEQUFpRCx1Q0FBdUM7O0FBRXhGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxpREFBaUQsdUNBQXVDOztBQUV4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaURBQWlELGlDQUFpQzs7QUFFbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlEQUFpRCxxQ0FBcUM7O0FBRXRGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxpREFBaUQsdUNBQXVDOztBQUV4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaURBQWlELDBDQUEwQzs7QUFFM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlEQUFpRCxrQ0FBa0M7O0FBRW5GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxpREFBaUQsOENBQThDOztBQUUvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaURBQWlELHlDQUF5Qzs7QUFFMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlEQUFpRCw4Q0FBOEM7O0FBRS9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxpREFBaUQsOENBQThDOztBQUUvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaURBQWlELDhCQUE4Qjs7QUFFL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlEQUFpRCw4QkFBOEI7O0FBRS9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxpREFBaUQsbUNBQW1DOztBQUVwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaURBQWlELCtCQUErQjs7QUFFaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlEQUFpRCxnQ0FBZ0M7O0FBRWpGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxpREFBaUQsMENBQTBDOztBQUUzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaURBQWlELDJCQUEyQjs7QUFFNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlEQUFpRCw0Q0FBNEM7O0FBRTdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxpREFBaUQsOEJBQThCOztBQUUvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaURBQWlELG9DQUFvQzs7QUFFckY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlEQUFpRCw4Q0FBOEM7O0FBRS9GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxpREFBaUQsd0NBQXdDOztBQUV6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaURBQWlELGdDQUFnQzs7QUFFakY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlEQUFpRCw2QkFBNkI7O0FBRTlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxpREFBaUQsb0NBQW9DOztBQUVyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaURBQWlELHFDQUFxQzs7QUFFdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlEQUFpRCx5Q0FBeUM7O0FBRTFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxpREFBaUQsb0RBQW9EOztBQUVyRztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaURBQWlELDRCQUE0Qjs7QUFFN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlEQUFpRCx5Q0FBeUM7O0FBRTFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxpREFBaUQseUNBQXlDOztBQUUxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaURBQWlELDhDQUE4Qzs7QUFFL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlEQUFpRCwyQ0FBMkM7O0FBRTVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxpREFBaUQsa0NBQWtDOztBQUVuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaURBQWlELDJDQUEyQzs7QUFFNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlEQUFpRCwyQkFBMkI7O0FBRTVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxpREFBaUQsK0JBQStCOztBQUVoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaURBQWlELCtCQUErQjs7QUFFaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlEQUFpRCxvQ0FBb0M7O0FBRXJGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxpREFBaUQsb0NBQW9DOztBQUVyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaURBQWlELDhDQUE4Qzs7QUFFL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlEQUFpRCx5Q0FBeUM7O0FBRTFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxpREFBaUQseUNBQXlDOztBQUUxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaURBQWlELDBDQUEwQzs7QUFFM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlEQUFpRCwwQ0FBMEM7O0FBRTNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxpREFBaUQsb0NBQW9DOztBQUVyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0EsaURBQWlELDhCQUE4Qjs7QUFFL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLGlEQUFpRCx5Q0FBeUM7O0FBRTFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxpREFBaUQsNkNBQTZDIiwiZmlsZSI6IjIwOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLy8gTk9URTogRG8gbm90IGVkaXQgdGhpcyBmaWxlLiBUaGlzIGNvZGUgaXMgYXV0by1nZW5lcmF0ZWQuIENvbnRhY3QgdGhlXG4vLyBUd2lsaW8gU0RLIFRlYW0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFR3aWxpb0Vycm9yID0gcmVxdWlyZSgnLi90d2lsaW9lcnJvcicpO1xudmFyIFR3aWxpb0Vycm9yQnlDb2RlID0ge307XG5cbi8qKlxuICogQ3JlYXRlIGEge0BsaW5rIFR3aWxpb0Vycm9yfSBmb3IgYSBnaXZlbiBjb2RlIGFuZCBtZXNzYWdlLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29kZV0gLSBFcnJvciBjb2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gW21lc3NhZ2VdIC0gRXJyb3IgbWVzc2FnZVxuICogQHJldHVybnMge1R3aWxpb0Vycm9yfVxuICovXG5leHBvcnRzLmNyZWF0ZVR3aWxpb0Vycm9yID0gZnVuY3Rpb24gY3JlYXRlVHdpbGlvRXJyb3IoY29kZSwgbWVzc2FnZSkge1xuICBjb2RlID0gdHlwZW9mIGNvZGUgPT09ICdudW1iZXInID8gY29kZSA6IDA7XG4gIG1lc3NhZ2UgPSB0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycgJiYgbWVzc2FnZSA/IG1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG4gIHJldHVybiBUd2lsaW9FcnJvckJ5Q29kZVtjb2RlXSA/IG5ldyBUd2lsaW9FcnJvckJ5Q29kZVtjb2RlXSgpIDogbmV3IFR3aWxpb0Vycm9yKGNvZGUsIG1lc3NhZ2UpO1xufTtcblxuLyoqXG4gKiBAY2xhc3MgQWNjZXNzVG9rZW5JbnZhbGlkRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIHdoZW5ldmVyIHRoZSBBY2Nlc3NUb2tlbiB1c2VkIGZvciBjb25uZWN0aW5nIHRvIFJvb20gaXMgaW52YWxpZC5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDIwMTAxXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdJbnZhbGlkIEFjY2VzcyBUb2tlbidcbiAqL1xuXG52YXIgQWNjZXNzVG9rZW5JbnZhbGlkRXJyb3IgPSBmdW5jdGlvbiAoX1R3aWxpb0Vycm9yKSB7XG4gIF9pbmhlcml0cyhBY2Nlc3NUb2tlbkludmFsaWRFcnJvciwgX1R3aWxpb0Vycm9yKTtcblxuICBmdW5jdGlvbiBBY2Nlc3NUb2tlbkludmFsaWRFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWNjZXNzVG9rZW5JbnZhbGlkRXJyb3IpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBY2Nlc3NUb2tlbkludmFsaWRFcnJvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFjY2Vzc1Rva2VuSW52YWxpZEVycm9yKSkuY2FsbCh0aGlzLCAyMDEwMSwgJ0ludmFsaWQgQWNjZXNzIFRva2VuJykpO1xuICB9XG5cbiAgcmV0dXJuIEFjY2Vzc1Rva2VuSW52YWxpZEVycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuQWNjZXNzVG9rZW5JbnZhbGlkRXJyb3IgPSBBY2Nlc3NUb2tlbkludmFsaWRFcnJvcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUd2lsaW9FcnJvckJ5Q29kZSwgMjAxMDEsIHsgdmFsdWU6IEFjY2Vzc1Rva2VuSW52YWxpZEVycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBBY2Nlc3NUb2tlbkhlYWRlckludmFsaWRFcnJvclxuICogQGNsYXNzZGVzYyBSYWlzZWQgd2hlbmV2ZXIgdGhlIEFjY2Vzc1Rva2VuIHVzZWQgZm9yIGNvbm5lY3RpbmcgdG8gUm9vbSBoYXMgYW4gaW52YWxpZCBoZWFkZXIuXG4gKiBAZXh0ZW5kcyBUd2lsaW9FcnJvclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGUgLSAyMDEwMlxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lc3NhZ2UgLSAnSW52YWxpZCBBY2Nlc3MgVG9rZW4gaGVhZGVyJ1xuICovXG5cbnZhciBBY2Nlc3NUb2tlbkhlYWRlckludmFsaWRFcnJvciA9IGZ1bmN0aW9uIChfVHdpbGlvRXJyb3IyKSB7XG4gIF9pbmhlcml0cyhBY2Nlc3NUb2tlbkhlYWRlckludmFsaWRFcnJvciwgX1R3aWxpb0Vycm9yMik7XG5cbiAgZnVuY3Rpb24gQWNjZXNzVG9rZW5IZWFkZXJJbnZhbGlkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjY2Vzc1Rva2VuSGVhZGVySW52YWxpZEVycm9yKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQWNjZXNzVG9rZW5IZWFkZXJJbnZhbGlkRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihBY2Nlc3NUb2tlbkhlYWRlckludmFsaWRFcnJvcikpLmNhbGwodGhpcywgMjAxMDIsICdJbnZhbGlkIEFjY2VzcyBUb2tlbiBoZWFkZXInKSk7XG4gIH1cblxuICByZXR1cm4gQWNjZXNzVG9rZW5IZWFkZXJJbnZhbGlkRXJyb3I7XG59KFR3aWxpb0Vycm9yKTtcblxuZXhwb3J0cy5BY2Nlc3NUb2tlbkhlYWRlckludmFsaWRFcnJvciA9IEFjY2Vzc1Rva2VuSGVhZGVySW52YWxpZEVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCAyMDEwMiwgeyB2YWx1ZTogQWNjZXNzVG9rZW5IZWFkZXJJbnZhbGlkRXJyb3IgfSk7XG5cbi8qKlxuICogQGNsYXNzIEFjY2Vzc1Rva2VuSXNzdWVySW52YWxpZEVycm9yXG4gKiBAY2xhc3NkZXNjIFJhaXNlZCB3aGVuZXZlciB0aGUgQWNjZXNzVG9rZW4gdXNlZCBmb3IgY29ubmVjdGluZyB0byBSb29tIGNvbnRhaW5zIGFuIGludmFsaWQgaXNzdWVyIG9yIHN1YmplY3QuXG4gKiBAZXh0ZW5kcyBUd2lsaW9FcnJvclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGUgLSAyMDEwM1xuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lc3NhZ2UgLSAnSW52YWxpZCBBY2Nlc3MgVG9rZW4gaXNzdWVyL3N1YmplY3QnXG4gKi9cblxudmFyIEFjY2Vzc1Rva2VuSXNzdWVySW52YWxpZEVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjMpIHtcbiAgX2luaGVyaXRzKEFjY2Vzc1Rva2VuSXNzdWVySW52YWxpZEVycm9yLCBfVHdpbGlvRXJyb3IzKTtcblxuICBmdW5jdGlvbiBBY2Nlc3NUb2tlbklzc3VlckludmFsaWRFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWNjZXNzVG9rZW5Jc3N1ZXJJbnZhbGlkRXJyb3IpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBY2Nlc3NUb2tlbklzc3VlckludmFsaWRFcnJvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFjY2Vzc1Rva2VuSXNzdWVySW52YWxpZEVycm9yKSkuY2FsbCh0aGlzLCAyMDEwMywgJ0ludmFsaWQgQWNjZXNzIFRva2VuIGlzc3Vlci9zdWJqZWN0JykpO1xuICB9XG5cbiAgcmV0dXJuIEFjY2Vzc1Rva2VuSXNzdWVySW52YWxpZEVycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuQWNjZXNzVG9rZW5Jc3N1ZXJJbnZhbGlkRXJyb3IgPSBBY2Nlc3NUb2tlbklzc3VlckludmFsaWRFcnJvcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUd2lsaW9FcnJvckJ5Q29kZSwgMjAxMDMsIHsgdmFsdWU6IEFjY2Vzc1Rva2VuSXNzdWVySW52YWxpZEVycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBBY2Nlc3NUb2tlbkV4cGlyZWRFcnJvclxuICogQGNsYXNzZGVzYyBSYWlzZWQgd2hlbmV2ZXIgdGhlIEFjY2Vzc1Rva2VuIHVzZWQgZm9yIGNvbm5lY3RpbmcgdG8gUm9vbSBoYXMgZXhwaXJlZC5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDIwMTA0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdBY2Nlc3MgVG9rZW4gZXhwaXJlZCBvciBleHBpcmF0aW9uIGRhdGUgaW52YWxpZCdcbiAqL1xuXG52YXIgQWNjZXNzVG9rZW5FeHBpcmVkRXJyb3IgPSBmdW5jdGlvbiAoX1R3aWxpb0Vycm9yNCkge1xuICBfaW5oZXJpdHMoQWNjZXNzVG9rZW5FeHBpcmVkRXJyb3IsIF9Ud2lsaW9FcnJvcjQpO1xuXG4gIGZ1bmN0aW9uIEFjY2Vzc1Rva2VuRXhwaXJlZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBY2Nlc3NUb2tlbkV4cGlyZWRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEFjY2Vzc1Rva2VuRXhwaXJlZEVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQWNjZXNzVG9rZW5FeHBpcmVkRXJyb3IpKS5jYWxsKHRoaXMsIDIwMTA0LCAnQWNjZXNzIFRva2VuIGV4cGlyZWQgb3IgZXhwaXJhdGlvbiBkYXRlIGludmFsaWQnKSk7XG4gIH1cblxuICByZXR1cm4gQWNjZXNzVG9rZW5FeHBpcmVkRXJyb3I7XG59KFR3aWxpb0Vycm9yKTtcblxuZXhwb3J0cy5BY2Nlc3NUb2tlbkV4cGlyZWRFcnJvciA9IEFjY2Vzc1Rva2VuRXhwaXJlZEVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCAyMDEwNCwgeyB2YWx1ZTogQWNjZXNzVG9rZW5FeHBpcmVkRXJyb3IgfSk7XG5cbi8qKlxuICogQGNsYXNzIEFjY2Vzc1Rva2VuTm90WWV0VmFsaWRFcnJvclxuICogQGNsYXNzZGVzYyBSYWlzZWQgd2hlbmV2ZXIgdGhlIEFjY2Vzc1Rva2VuIHVzZWQgZm9yIGNvbm5lY3RpbmcgdG8gUm9vbSBpcyBub3QgeWV0IHZhbGlkLlxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gMjAxMDVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ0FjY2VzcyBUb2tlbiBub3QgeWV0IHZhbGlkJ1xuICovXG5cbnZhciBBY2Nlc3NUb2tlbk5vdFlldFZhbGlkRXJyb3IgPSBmdW5jdGlvbiAoX1R3aWxpb0Vycm9yNSkge1xuICBfaW5oZXJpdHMoQWNjZXNzVG9rZW5Ob3RZZXRWYWxpZEVycm9yLCBfVHdpbGlvRXJyb3I1KTtcblxuICBmdW5jdGlvbiBBY2Nlc3NUb2tlbk5vdFlldFZhbGlkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFjY2Vzc1Rva2VuTm90WWV0VmFsaWRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEFjY2Vzc1Rva2VuTm90WWV0VmFsaWRFcnJvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFjY2Vzc1Rva2VuTm90WWV0VmFsaWRFcnJvcikpLmNhbGwodGhpcywgMjAxMDUsICdBY2Nlc3MgVG9rZW4gbm90IHlldCB2YWxpZCcpKTtcbiAgfVxuXG4gIHJldHVybiBBY2Nlc3NUb2tlbk5vdFlldFZhbGlkRXJyb3I7XG59KFR3aWxpb0Vycm9yKTtcblxuZXhwb3J0cy5BY2Nlc3NUb2tlbk5vdFlldFZhbGlkRXJyb3IgPSBBY2Nlc3NUb2tlbk5vdFlldFZhbGlkRXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVHdpbGlvRXJyb3JCeUNvZGUsIDIwMTA1LCB7IHZhbHVlOiBBY2Nlc3NUb2tlbk5vdFlldFZhbGlkRXJyb3IgfSk7XG5cbi8qKlxuICogQGNsYXNzIEFjY2Vzc1Rva2VuR3JhbnRzSW52YWxpZEVycm9yXG4gKiBAY2xhc3NkZXNjIFJhaXNlZCB3aGVuZXZlciB0aGUgQWNjZXNzVG9rZW4gdXNlZCBmb3IgY29ubmVjdGluZyB0byBSb29tIGhhcyBpbnZhbGlkIGdyYW50cy5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDIwMTA2XG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdJbnZhbGlkIEFjY2VzcyBUb2tlbiBncmFudHMnXG4gKi9cblxudmFyIEFjY2Vzc1Rva2VuR3JhbnRzSW52YWxpZEVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjYpIHtcbiAgX2luaGVyaXRzKEFjY2Vzc1Rva2VuR3JhbnRzSW52YWxpZEVycm9yLCBfVHdpbGlvRXJyb3I2KTtcblxuICBmdW5jdGlvbiBBY2Nlc3NUb2tlbkdyYW50c0ludmFsaWRFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWNjZXNzVG9rZW5HcmFudHNJbnZhbGlkRXJyb3IpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBY2Nlc3NUb2tlbkdyYW50c0ludmFsaWRFcnJvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFjY2Vzc1Rva2VuR3JhbnRzSW52YWxpZEVycm9yKSkuY2FsbCh0aGlzLCAyMDEwNiwgJ0ludmFsaWQgQWNjZXNzIFRva2VuIGdyYW50cycpKTtcbiAgfVxuXG4gIHJldHVybiBBY2Nlc3NUb2tlbkdyYW50c0ludmFsaWRFcnJvcjtcbn0oVHdpbGlvRXJyb3IpO1xuXG5leHBvcnRzLkFjY2Vzc1Rva2VuR3JhbnRzSW52YWxpZEVycm9yID0gQWNjZXNzVG9rZW5HcmFudHNJbnZhbGlkRXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVHdpbGlvRXJyb3JCeUNvZGUsIDIwMTA2LCB7IHZhbHVlOiBBY2Nlc3NUb2tlbkdyYW50c0ludmFsaWRFcnJvciB9KTtcblxuLyoqXG4gKiBAY2xhc3MgQWNjZXNzVG9rZW5TaWduYXR1cmVJbnZhbGlkRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIHdoZW5ldmVyIHRoZSBBY2Nlc3NUb2tlbiB1c2VkIGZvciBjb25uZWN0aW5nIHRvIFJvb20gaGFzIGFuIGludmFsaWQgc2lnbmF0dXJlLlxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gMjAxMDdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ0ludmFsaWQgQWNjZXNzIFRva2VuIHNpZ25hdHVyZSdcbiAqL1xuXG52YXIgQWNjZXNzVG9rZW5TaWduYXR1cmVJbnZhbGlkRXJyb3IgPSBmdW5jdGlvbiAoX1R3aWxpb0Vycm9yNykge1xuICBfaW5oZXJpdHMoQWNjZXNzVG9rZW5TaWduYXR1cmVJbnZhbGlkRXJyb3IsIF9Ud2lsaW9FcnJvcjcpO1xuXG4gIGZ1bmN0aW9uIEFjY2Vzc1Rva2VuU2lnbmF0dXJlSW52YWxpZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBY2Nlc3NUb2tlblNpZ25hdHVyZUludmFsaWRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEFjY2Vzc1Rva2VuU2lnbmF0dXJlSW52YWxpZEVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQWNjZXNzVG9rZW5TaWduYXR1cmVJbnZhbGlkRXJyb3IpKS5jYWxsKHRoaXMsIDIwMTA3LCAnSW52YWxpZCBBY2Nlc3MgVG9rZW4gc2lnbmF0dXJlJykpO1xuICB9XG5cbiAgcmV0dXJuIEFjY2Vzc1Rva2VuU2lnbmF0dXJlSW52YWxpZEVycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuQWNjZXNzVG9rZW5TaWduYXR1cmVJbnZhbGlkRXJyb3IgPSBBY2Nlc3NUb2tlblNpZ25hdHVyZUludmFsaWRFcnJvcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUd2lsaW9FcnJvckJ5Q29kZSwgMjAxMDcsIHsgdmFsdWU6IEFjY2Vzc1Rva2VuU2lnbmF0dXJlSW52YWxpZEVycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBTaWduYWxpbmdDb25uZWN0aW9uRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIHdoZW5ldmVyIGEgc2lnbmFsaW5nIGNvbm5lY3Rpb24gZXJyb3Igb2NjdXJzIHRoYXQgaXMgbm90IGNvdmVyZWQgYnkgYSBtb3JlIHNwZWNpZmljIGVycm9yIGNvZGUuXG4gKiBAZXh0ZW5kcyBUd2lsaW9FcnJvclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGUgLSA1MzAwMFxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lc3NhZ2UgLSAnU2lnbmFsaW5nIGNvbm5lY3Rpb24gZXJyb3InXG4gKi9cblxudmFyIFNpZ25hbGluZ0Nvbm5lY3Rpb25FcnJvciA9IGZ1bmN0aW9uIChfVHdpbGlvRXJyb3I4KSB7XG4gIF9pbmhlcml0cyhTaWduYWxpbmdDb25uZWN0aW9uRXJyb3IsIF9Ud2lsaW9FcnJvcjgpO1xuXG4gIGZ1bmN0aW9uIFNpZ25hbGluZ0Nvbm5lY3Rpb25FcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2lnbmFsaW5nQ29ubmVjdGlvbkVycm9yKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU2lnbmFsaW5nQ29ubmVjdGlvbkVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2lnbmFsaW5nQ29ubmVjdGlvbkVycm9yKSkuY2FsbCh0aGlzLCA1MzAwMCwgJ1NpZ25hbGluZyBjb25uZWN0aW9uIGVycm9yJykpO1xuICB9XG5cbiAgcmV0dXJuIFNpZ25hbGluZ0Nvbm5lY3Rpb25FcnJvcjtcbn0oVHdpbGlvRXJyb3IpO1xuXG5leHBvcnRzLlNpZ25hbGluZ0Nvbm5lY3Rpb25FcnJvciA9IFNpZ25hbGluZ0Nvbm5lY3Rpb25FcnJvcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUd2lsaW9FcnJvckJ5Q29kZSwgNTMwMDAsIHsgdmFsdWU6IFNpZ25hbGluZ0Nvbm5lY3Rpb25FcnJvciB9KTtcblxuLyoqXG4gKiBAY2xhc3MgU2lnbmFsaW5nQ29ubmVjdGlvbkRpc2Nvbm5lY3RlZEVycm9yXG4gKiBAY2xhc3NkZXNjIFJhaXNlZCB3aGVuZXZlciB0aGUgc2lnbmFsaW5nIGNvbm5lY3Rpb24gaXMgdW5leHBlY3RlZGx5IGRpc2Nvbm5lY3RlZC5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDUzMDAxXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdTaWduYWxpbmcgY29ubmVjdGlvbiBkaXNjb25uZWN0ZWQnXG4gKi9cblxudmFyIFNpZ25hbGluZ0Nvbm5lY3Rpb25EaXNjb25uZWN0ZWRFcnJvciA9IGZ1bmN0aW9uIChfVHdpbGlvRXJyb3I5KSB7XG4gIF9pbmhlcml0cyhTaWduYWxpbmdDb25uZWN0aW9uRGlzY29ubmVjdGVkRXJyb3IsIF9Ud2lsaW9FcnJvcjkpO1xuXG4gIGZ1bmN0aW9uIFNpZ25hbGluZ0Nvbm5lY3Rpb25EaXNjb25uZWN0ZWRFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2lnbmFsaW5nQ29ubmVjdGlvbkRpc2Nvbm5lY3RlZEVycm9yKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU2lnbmFsaW5nQ29ubmVjdGlvbkRpc2Nvbm5lY3RlZEVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2lnbmFsaW5nQ29ubmVjdGlvbkRpc2Nvbm5lY3RlZEVycm9yKSkuY2FsbCh0aGlzLCA1MzAwMSwgJ1NpZ25hbGluZyBjb25uZWN0aW9uIGRpc2Nvbm5lY3RlZCcpKTtcbiAgfVxuXG4gIHJldHVybiBTaWduYWxpbmdDb25uZWN0aW9uRGlzY29ubmVjdGVkRXJyb3I7XG59KFR3aWxpb0Vycm9yKTtcblxuZXhwb3J0cy5TaWduYWxpbmdDb25uZWN0aW9uRGlzY29ubmVjdGVkRXJyb3IgPSBTaWduYWxpbmdDb25uZWN0aW9uRGlzY29ubmVjdGVkRXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVHdpbGlvRXJyb3JCeUNvZGUsIDUzMDAxLCB7IHZhbHVlOiBTaWduYWxpbmdDb25uZWN0aW9uRGlzY29ubmVjdGVkRXJyb3IgfSk7XG5cbi8qKlxuICogQGNsYXNzIFNpZ25hbGluZ0Nvbm5lY3Rpb25UaW1lb3V0RXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIHdoZW5ldmVyIHRoZSBzaWduYWxpbmcgY29ubmVjdGlvbiB0aW1lcyBvdXQuXG4gKiBAZXh0ZW5kcyBUd2lsaW9FcnJvclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGUgLSA1MzAwMlxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lc3NhZ2UgLSAnU2lnbmFsaW5nIGNvbm5lY3Rpb24gdGltZWQgb3V0J1xuICovXG5cbnZhciBTaWduYWxpbmdDb25uZWN0aW9uVGltZW91dEVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjEwKSB7XG4gIF9pbmhlcml0cyhTaWduYWxpbmdDb25uZWN0aW9uVGltZW91dEVycm9yLCBfVHdpbGlvRXJyb3IxMCk7XG5cbiAgZnVuY3Rpb24gU2lnbmFsaW5nQ29ubmVjdGlvblRpbWVvdXRFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2lnbmFsaW5nQ29ubmVjdGlvblRpbWVvdXRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFNpZ25hbGluZ0Nvbm5lY3Rpb25UaW1lb3V0RXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTaWduYWxpbmdDb25uZWN0aW9uVGltZW91dEVycm9yKSkuY2FsbCh0aGlzLCA1MzAwMiwgJ1NpZ25hbGluZyBjb25uZWN0aW9uIHRpbWVkIG91dCcpKTtcbiAgfVxuXG4gIHJldHVybiBTaWduYWxpbmdDb25uZWN0aW9uVGltZW91dEVycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuU2lnbmFsaW5nQ29ubmVjdGlvblRpbWVvdXRFcnJvciA9IFNpZ25hbGluZ0Nvbm5lY3Rpb25UaW1lb3V0RXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVHdpbGlvRXJyb3JCeUNvZGUsIDUzMDAyLCB7IHZhbHVlOiBTaWduYWxpbmdDb25uZWN0aW9uVGltZW91dEVycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBTaWduYWxpbmdJbmNvbWluZ01lc3NhZ2VJbnZhbGlkRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIHdoZW5ldmVyIHRoZSBDbGllbnQgcmVjZWl2ZXMgYSBtZXNzYWdlIGZyb20gdGhlIFNlcnZlciB0aGF0IHRoZSBDbGllbnQgY2Fubm90IGhhbmRsZS5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDUzMDAzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdDbGllbnQgcmVjZWl2ZWQgYW4gaW52YWxpZCBzaWduYWxpbmcgbWVzc2FnZSdcbiAqL1xuXG52YXIgU2lnbmFsaW5nSW5jb21pbmdNZXNzYWdlSW52YWxpZEVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjExKSB7XG4gIF9pbmhlcml0cyhTaWduYWxpbmdJbmNvbWluZ01lc3NhZ2VJbnZhbGlkRXJyb3IsIF9Ud2lsaW9FcnJvcjExKTtcblxuICBmdW5jdGlvbiBTaWduYWxpbmdJbmNvbWluZ01lc3NhZ2VJbnZhbGlkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNpZ25hbGluZ0luY29taW5nTWVzc2FnZUludmFsaWRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFNpZ25hbGluZ0luY29taW5nTWVzc2FnZUludmFsaWRFcnJvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNpZ25hbGluZ0luY29taW5nTWVzc2FnZUludmFsaWRFcnJvcikpLmNhbGwodGhpcywgNTMwMDMsICdDbGllbnQgcmVjZWl2ZWQgYW4gaW52YWxpZCBzaWduYWxpbmcgbWVzc2FnZScpKTtcbiAgfVxuXG4gIHJldHVybiBTaWduYWxpbmdJbmNvbWluZ01lc3NhZ2VJbnZhbGlkRXJyb3I7XG59KFR3aWxpb0Vycm9yKTtcblxuZXhwb3J0cy5TaWduYWxpbmdJbmNvbWluZ01lc3NhZ2VJbnZhbGlkRXJyb3IgPSBTaWduYWxpbmdJbmNvbWluZ01lc3NhZ2VJbnZhbGlkRXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVHdpbGlvRXJyb3JCeUNvZGUsIDUzMDAzLCB7IHZhbHVlOiBTaWduYWxpbmdJbmNvbWluZ01lc3NhZ2VJbnZhbGlkRXJyb3IgfSk7XG5cbi8qKlxuICogQGNsYXNzIFNpZ25hbGluZ091dGdvaW5nTWVzc2FnZUludmFsaWRFcnJvclxuICogQGNsYXNzZGVzYyBSYWlzZWQgd2hlbmV2ZXIgdGhlIENsaWVudCBzZW5kcyBhIG1lc3NhZ2UgdG8gdGhlIFNlcnZlciB0aGF0IHRoZSBTZXJ2ZXIgY2Fubm90IGhhbmRsZS5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDUzMDA0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdDbGllbnQgc2VudCBhbiBpbnZhbGlkIHNpZ25hbGluZyBtZXNzYWdlJ1xuICovXG5cbnZhciBTaWduYWxpbmdPdXRnb2luZ01lc3NhZ2VJbnZhbGlkRXJyb3IgPSBmdW5jdGlvbiAoX1R3aWxpb0Vycm9yMTIpIHtcbiAgX2luaGVyaXRzKFNpZ25hbGluZ091dGdvaW5nTWVzc2FnZUludmFsaWRFcnJvciwgX1R3aWxpb0Vycm9yMTIpO1xuXG4gIGZ1bmN0aW9uIFNpZ25hbGluZ091dGdvaW5nTWVzc2FnZUludmFsaWRFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2lnbmFsaW5nT3V0Z29pbmdNZXNzYWdlSW52YWxpZEVycm9yKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU2lnbmFsaW5nT3V0Z29pbmdNZXNzYWdlSW52YWxpZEVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2lnbmFsaW5nT3V0Z29pbmdNZXNzYWdlSW52YWxpZEVycm9yKSkuY2FsbCh0aGlzLCA1MzAwNCwgJ0NsaWVudCBzZW50IGFuIGludmFsaWQgc2lnbmFsaW5nIG1lc3NhZ2UnKSk7XG4gIH1cblxuICByZXR1cm4gU2lnbmFsaW5nT3V0Z29pbmdNZXNzYWdlSW52YWxpZEVycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuU2lnbmFsaW5nT3V0Z29pbmdNZXNzYWdlSW52YWxpZEVycm9yID0gU2lnbmFsaW5nT3V0Z29pbmdNZXNzYWdlSW52YWxpZEVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCA1MzAwNCwgeyB2YWx1ZTogU2lnbmFsaW5nT3V0Z29pbmdNZXNzYWdlSW52YWxpZEVycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBSb29tTmFtZUludmFsaWRFcnJvclxuICogQGNsYXNzZGVzYyBSYWlzZWQgd2hlbmV2ZXIgYSBSb29tIG5hbWUgaXMgaW52YWxpZCwgYW5kIHRoZSBzY2VuYXJpbyBpcyBub3QgY292ZXJlZCBieSBhIG1vcmUgc3BlY2lmaWMgZXJyb3IgY29kZS5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDUzMTAwXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdSb29tIG5hbWUgaXMgaW52YWxpZCdcbiAqL1xuXG52YXIgUm9vbU5hbWVJbnZhbGlkRXJyb3IgPSBmdW5jdGlvbiAoX1R3aWxpb0Vycm9yMTMpIHtcbiAgX2luaGVyaXRzKFJvb21OYW1lSW52YWxpZEVycm9yLCBfVHdpbGlvRXJyb3IxMyk7XG5cbiAgZnVuY3Rpb24gUm9vbU5hbWVJbnZhbGlkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvb21OYW1lSW52YWxpZEVycm9yKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUm9vbU5hbWVJbnZhbGlkRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSb29tTmFtZUludmFsaWRFcnJvcikpLmNhbGwodGhpcywgNTMxMDAsICdSb29tIG5hbWUgaXMgaW52YWxpZCcpKTtcbiAgfVxuXG4gIHJldHVybiBSb29tTmFtZUludmFsaWRFcnJvcjtcbn0oVHdpbGlvRXJyb3IpO1xuXG5leHBvcnRzLlJvb21OYW1lSW52YWxpZEVycm9yID0gUm9vbU5hbWVJbnZhbGlkRXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVHdpbGlvRXJyb3JCeUNvZGUsIDUzMTAwLCB7IHZhbHVlOiBSb29tTmFtZUludmFsaWRFcnJvciB9KTtcblxuLyoqXG4gKiBAY2xhc3MgUm9vbU5hbWVUb29Mb25nRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIHdoZW5ldmVyIGEgUm9vbSBuYW1lIGlzIHRvbyBsb25nLlxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gNTMxMDFcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ1Jvb20gbmFtZSBpcyB0b28gbG9uZydcbiAqL1xuXG52YXIgUm9vbU5hbWVUb29Mb25nRXJyb3IgPSBmdW5jdGlvbiAoX1R3aWxpb0Vycm9yMTQpIHtcbiAgX2luaGVyaXRzKFJvb21OYW1lVG9vTG9uZ0Vycm9yLCBfVHdpbGlvRXJyb3IxNCk7XG5cbiAgZnVuY3Rpb24gUm9vbU5hbWVUb29Mb25nRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvb21OYW1lVG9vTG9uZ0Vycm9yKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUm9vbU5hbWVUb29Mb25nRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSb29tTmFtZVRvb0xvbmdFcnJvcikpLmNhbGwodGhpcywgNTMxMDEsICdSb29tIG5hbWUgaXMgdG9vIGxvbmcnKSk7XG4gIH1cblxuICByZXR1cm4gUm9vbU5hbWVUb29Mb25nRXJyb3I7XG59KFR3aWxpb0Vycm9yKTtcblxuZXhwb3J0cy5Sb29tTmFtZVRvb0xvbmdFcnJvciA9IFJvb21OYW1lVG9vTG9uZ0Vycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCA1MzEwMSwgeyB2YWx1ZTogUm9vbU5hbWVUb29Mb25nRXJyb3IgfSk7XG5cbi8qKlxuICogQGNsYXNzIFJvb21OYW1lQ2hhcnNJbnZhbGlkRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIHdoZW5ldmVyIGEgUm9vbSBuYW1lIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycy5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDUzMTAyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdSb29tIG5hbWUgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzJ1xuICovXG5cbnZhciBSb29tTmFtZUNoYXJzSW52YWxpZEVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjE1KSB7XG4gIF9pbmhlcml0cyhSb29tTmFtZUNoYXJzSW52YWxpZEVycm9yLCBfVHdpbGlvRXJyb3IxNSk7XG5cbiAgZnVuY3Rpb24gUm9vbU5hbWVDaGFyc0ludmFsaWRFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUm9vbU5hbWVDaGFyc0ludmFsaWRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJvb21OYW1lQ2hhcnNJbnZhbGlkRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSb29tTmFtZUNoYXJzSW52YWxpZEVycm9yKSkuY2FsbCh0aGlzLCA1MzEwMiwgJ1Jvb20gbmFtZSBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMnKSk7XG4gIH1cblxuICByZXR1cm4gUm9vbU5hbWVDaGFyc0ludmFsaWRFcnJvcjtcbn0oVHdpbGlvRXJyb3IpO1xuXG5leHBvcnRzLlJvb21OYW1lQ2hhcnNJbnZhbGlkRXJyb3IgPSBSb29tTmFtZUNoYXJzSW52YWxpZEVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCA1MzEwMiwgeyB2YWx1ZTogUm9vbU5hbWVDaGFyc0ludmFsaWRFcnJvciB9KTtcblxuLyoqXG4gKiBAY2xhc3MgUm9vbUNyZWF0ZUZhaWxlZEVycm9yXG4gKiBAY2xhc3NkZXNjIFJhaXNlZCB3aGVuZXZlciB0aGUgU2VydmVyIGlzIHVuYWJsZSB0byBjcmVhdGUgYSBSb29tLlxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gNTMxMDNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ1VuYWJsZSB0byBjcmVhdGUgUm9vbSdcbiAqL1xuXG52YXIgUm9vbUNyZWF0ZUZhaWxlZEVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjE2KSB7XG4gIF9pbmhlcml0cyhSb29tQ3JlYXRlRmFpbGVkRXJyb3IsIF9Ud2lsaW9FcnJvcjE2KTtcblxuICBmdW5jdGlvbiBSb29tQ3JlYXRlRmFpbGVkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvb21DcmVhdGVGYWlsZWRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJvb21DcmVhdGVGYWlsZWRFcnJvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJvb21DcmVhdGVGYWlsZWRFcnJvcikpLmNhbGwodGhpcywgNTMxMDMsICdVbmFibGUgdG8gY3JlYXRlIFJvb20nKSk7XG4gIH1cblxuICByZXR1cm4gUm9vbUNyZWF0ZUZhaWxlZEVycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuUm9vbUNyZWF0ZUZhaWxlZEVycm9yID0gUm9vbUNyZWF0ZUZhaWxlZEVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCA1MzEwMywgeyB2YWx1ZTogUm9vbUNyZWF0ZUZhaWxlZEVycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBSb29tQ29ubmVjdEZhaWxlZEVycm9yXG4gKiBAY2xhc3NkZXNjIFJhaXNlZCB3aGVuZXZlciBhIENsaWVudCBpcyB1bmFibGUgdG8gY29ubmVjdCB0byBhIFJvb20sIGFuZCB0aGUgc2NlbmFyaW8gaXMgbm90IGNvdmVyZWQgYnkgYSBtb3JlIHNwZWNpZmljIGVycm9yIGNvZGUuXG4gKiBAZXh0ZW5kcyBUd2lsaW9FcnJvclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGUgLSA1MzEwNFxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lc3NhZ2UgLSAnVW5hYmxlIHRvIGNvbm5lY3QgdG8gUm9vbSdcbiAqL1xuXG52YXIgUm9vbUNvbm5lY3RGYWlsZWRFcnJvciA9IGZ1bmN0aW9uIChfVHdpbGlvRXJyb3IxNykge1xuICBfaW5oZXJpdHMoUm9vbUNvbm5lY3RGYWlsZWRFcnJvciwgX1R3aWxpb0Vycm9yMTcpO1xuXG4gIGZ1bmN0aW9uIFJvb21Db25uZWN0RmFpbGVkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvb21Db25uZWN0RmFpbGVkRXJyb3IpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSb29tQ29ubmVjdEZhaWxlZEVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUm9vbUNvbm5lY3RGYWlsZWRFcnJvcikpLmNhbGwodGhpcywgNTMxMDQsICdVbmFibGUgdG8gY29ubmVjdCB0byBSb29tJykpO1xuICB9XG5cbiAgcmV0dXJuIFJvb21Db25uZWN0RmFpbGVkRXJyb3I7XG59KFR3aWxpb0Vycm9yKTtcblxuZXhwb3J0cy5Sb29tQ29ubmVjdEZhaWxlZEVycm9yID0gUm9vbUNvbm5lY3RGYWlsZWRFcnJvcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUd2lsaW9FcnJvckJ5Q29kZSwgNTMxMDQsIHsgdmFsdWU6IFJvb21Db25uZWN0RmFpbGVkRXJyb3IgfSk7XG5cbi8qKlxuICogQGNsYXNzIFJvb21NYXhQYXJ0aWNpcGFudHNFeGNlZWRlZEVycm9yXG4gKiBAY2xhc3NkZXNjIFJhaXNlZCB3aGVuZXZlciBhIENsaWVudCBpcyB1bmFibGUgdG8gY29ubmVjdCB0byBhIFJvb20gYmVjYXVzZSB0aGUgUm9vbSBjb250YWlucyB0b28gbWFueSBQYXJ0aWNpcGFudHMuXG4gKiBAZXh0ZW5kcyBUd2lsaW9FcnJvclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGUgLSA1MzEwNVxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lc3NhZ2UgLSAnUm9vbSBjb250YWlucyB0b28gbWFueSBQYXJ0aWNpcGFudHMnXG4gKi9cblxudmFyIFJvb21NYXhQYXJ0aWNpcGFudHNFeGNlZWRlZEVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjE4KSB7XG4gIF9pbmhlcml0cyhSb29tTWF4UGFydGljaXBhbnRzRXhjZWVkZWRFcnJvciwgX1R3aWxpb0Vycm9yMTgpO1xuXG4gIGZ1bmN0aW9uIFJvb21NYXhQYXJ0aWNpcGFudHNFeGNlZWRlZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb29tTWF4UGFydGljaXBhbnRzRXhjZWVkZWRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJvb21NYXhQYXJ0aWNpcGFudHNFeGNlZWRlZEVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUm9vbU1heFBhcnRpY2lwYW50c0V4Y2VlZGVkRXJyb3IpKS5jYWxsKHRoaXMsIDUzMTA1LCAnUm9vbSBjb250YWlucyB0b28gbWFueSBQYXJ0aWNpcGFudHMnKSk7XG4gIH1cblxuICByZXR1cm4gUm9vbU1heFBhcnRpY2lwYW50c0V4Y2VlZGVkRXJyb3I7XG59KFR3aWxpb0Vycm9yKTtcblxuZXhwb3J0cy5Sb29tTWF4UGFydGljaXBhbnRzRXhjZWVkZWRFcnJvciA9IFJvb21NYXhQYXJ0aWNpcGFudHNFeGNlZWRlZEVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCA1MzEwNSwgeyB2YWx1ZTogUm9vbU1heFBhcnRpY2lwYW50c0V4Y2VlZGVkRXJyb3IgfSk7XG5cbi8qKlxuICogQGNsYXNzIFJvb21Ob3RGb3VuZEVycm9yXG4gKiBAY2xhc3NkZXNjIFJhaXNlZCB3aGVuZXZlciBhdHRlbXB0aW5nIG9wZXJhdGlvbiBvbiBhIG5vbi1leGlzdGVudCBSb29tLlxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gNTMxMDZcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ1Jvb20gbm90IGZvdW5kJ1xuICovXG5cbnZhciBSb29tTm90Rm91bmRFcnJvciA9IGZ1bmN0aW9uIChfVHdpbGlvRXJyb3IxOSkge1xuICBfaW5oZXJpdHMoUm9vbU5vdEZvdW5kRXJyb3IsIF9Ud2lsaW9FcnJvcjE5KTtcblxuICBmdW5jdGlvbiBSb29tTm90Rm91bmRFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUm9vbU5vdEZvdW5kRXJyb3IpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSb29tTm90Rm91bmRFcnJvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJvb21Ob3RGb3VuZEVycm9yKSkuY2FsbCh0aGlzLCA1MzEwNiwgJ1Jvb20gbm90IGZvdW5kJykpO1xuICB9XG5cbiAgcmV0dXJuIFJvb21Ob3RGb3VuZEVycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuUm9vbU5vdEZvdW5kRXJyb3IgPSBSb29tTm90Rm91bmRFcnJvcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUd2lsaW9FcnJvckJ5Q29kZSwgNTMxMDYsIHsgdmFsdWU6IFJvb21Ob3RGb3VuZEVycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBSb29tTWF4UGFydGljaXBhbnRzT3V0T2ZSYW5nZUVycm9yXG4gKiBAY2xhc3NkZXNjIFJhaXNlZCBpbiB0aGUgUkVTVCBBUEkgd2hlbiBNYXhQYXJ0aWNpcGFudHMgaXMgc2V0IG91dCBvZiByYW5nZS5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDUzMTA3XG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdNYXhQYXJ0aWNpcGFudHMgaXMgb3V0IG9mIHJhbmdlJ1xuICovXG5cbnZhciBSb29tTWF4UGFydGljaXBhbnRzT3V0T2ZSYW5nZUVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjIwKSB7XG4gIF9pbmhlcml0cyhSb29tTWF4UGFydGljaXBhbnRzT3V0T2ZSYW5nZUVycm9yLCBfVHdpbGlvRXJyb3IyMCk7XG5cbiAgZnVuY3Rpb24gUm9vbU1heFBhcnRpY2lwYW50c091dE9mUmFuZ2VFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUm9vbU1heFBhcnRpY2lwYW50c091dE9mUmFuZ2VFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJvb21NYXhQYXJ0aWNpcGFudHNPdXRPZlJhbmdlRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSb29tTWF4UGFydGljaXBhbnRzT3V0T2ZSYW5nZUVycm9yKSkuY2FsbCh0aGlzLCA1MzEwNywgJ01heFBhcnRpY2lwYW50cyBpcyBvdXQgb2YgcmFuZ2UnKSk7XG4gIH1cblxuICByZXR1cm4gUm9vbU1heFBhcnRpY2lwYW50c091dE9mUmFuZ2VFcnJvcjtcbn0oVHdpbGlvRXJyb3IpO1xuXG5leHBvcnRzLlJvb21NYXhQYXJ0aWNpcGFudHNPdXRPZlJhbmdlRXJyb3IgPSBSb29tTWF4UGFydGljaXBhbnRzT3V0T2ZSYW5nZUVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCA1MzEwNywgeyB2YWx1ZTogUm9vbU1heFBhcnRpY2lwYW50c091dE9mUmFuZ2VFcnJvciB9KTtcblxuLyoqXG4gKiBAY2xhc3MgUm9vbVR5cGVJbnZhbGlkRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIGluIHRoZSBSRVNUIEFQSSB3aGVuIHRoZSB1c2VyIGF0dGVtcHRzIHRvIGNyZWF0ZSBhIFJvb20gd2l0aCBhbiBpbnZhbGlkIFJvb21UeXBlXG4gKiBAZXh0ZW5kcyBUd2lsaW9FcnJvclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGUgLSA1MzEwOFxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lc3NhZ2UgLSAnUm9vbVR5cGUgaXMgbm90IHZhbGlkJ1xuICovXG5cbnZhciBSb29tVHlwZUludmFsaWRFcnJvciA9IGZ1bmN0aW9uIChfVHdpbGlvRXJyb3IyMSkge1xuICBfaW5oZXJpdHMoUm9vbVR5cGVJbnZhbGlkRXJyb3IsIF9Ud2lsaW9FcnJvcjIxKTtcblxuICBmdW5jdGlvbiBSb29tVHlwZUludmFsaWRFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUm9vbVR5cGVJbnZhbGlkRXJyb3IpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSb29tVHlwZUludmFsaWRFcnJvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJvb21UeXBlSW52YWxpZEVycm9yKSkuY2FsbCh0aGlzLCA1MzEwOCwgJ1Jvb21UeXBlIGlzIG5vdCB2YWxpZCcpKTtcbiAgfVxuXG4gIHJldHVybiBSb29tVHlwZUludmFsaWRFcnJvcjtcbn0oVHdpbGlvRXJyb3IpO1xuXG5leHBvcnRzLlJvb21UeXBlSW52YWxpZEVycm9yID0gUm9vbVR5cGVJbnZhbGlkRXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVHdpbGlvRXJyb3JCeUNvZGUsIDUzMTA4LCB7IHZhbHVlOiBSb29tVHlwZUludmFsaWRFcnJvciB9KTtcblxuLyoqXG4gKiBAY2xhc3MgUm9vbVRpbWVvdXRPdXRPZlJhbmdlRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIGluIHRoZSBSRVNUIEFQSSB3aGVuIFRpbWVvdXQgaXMgc2V0IG91dCBvZiByYW5nZS5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDUzMTA5XG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdUaW1lb3V0IGlzIG91dCBvZiByYW5nZSdcbiAqL1xuXG52YXIgUm9vbVRpbWVvdXRPdXRPZlJhbmdlRXJyb3IgPSBmdW5jdGlvbiAoX1R3aWxpb0Vycm9yMjIpIHtcbiAgX2luaGVyaXRzKFJvb21UaW1lb3V0T3V0T2ZSYW5nZUVycm9yLCBfVHdpbGlvRXJyb3IyMik7XG5cbiAgZnVuY3Rpb24gUm9vbVRpbWVvdXRPdXRPZlJhbmdlRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvb21UaW1lb3V0T3V0T2ZSYW5nZUVycm9yKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUm9vbVRpbWVvdXRPdXRPZlJhbmdlRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSb29tVGltZW91dE91dE9mUmFuZ2VFcnJvcikpLmNhbGwodGhpcywgNTMxMDksICdUaW1lb3V0IGlzIG91dCBvZiByYW5nZScpKTtcbiAgfVxuXG4gIHJldHVybiBSb29tVGltZW91dE91dE9mUmFuZ2VFcnJvcjtcbn0oVHdpbGlvRXJyb3IpO1xuXG5leHBvcnRzLlJvb21UaW1lb3V0T3V0T2ZSYW5nZUVycm9yID0gUm9vbVRpbWVvdXRPdXRPZlJhbmdlRXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVHdpbGlvRXJyb3JCeUNvZGUsIDUzMTA5LCB7IHZhbHVlOiBSb29tVGltZW91dE91dE9mUmFuZ2VFcnJvciB9KTtcblxuLyoqXG4gKiBAY2xhc3MgUm9vbVN0YXR1c0NhbGxiYWNrTWV0aG9kSW52YWxpZEVycm9yXG4gKiBAY2xhc3NkZXNjIFJhaXNlZCBpbiB0aGUgUkVTVCBBUEkgd2hlbiBTdGF0dXNDYWxsYmFja01ldGhvZCBpcyBzZXQgdG8gYW4gaW52YWxpZCB2YWx1ZS5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDUzMTEwXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdTdGF0dXNDYWxsYmFja01ldGhvZCBpcyBpbnZhbGlkJ1xuICovXG5cbnZhciBSb29tU3RhdHVzQ2FsbGJhY2tNZXRob2RJbnZhbGlkRXJyb3IgPSBmdW5jdGlvbiAoX1R3aWxpb0Vycm9yMjMpIHtcbiAgX2luaGVyaXRzKFJvb21TdGF0dXNDYWxsYmFja01ldGhvZEludmFsaWRFcnJvciwgX1R3aWxpb0Vycm9yMjMpO1xuXG4gIGZ1bmN0aW9uIFJvb21TdGF0dXNDYWxsYmFja01ldGhvZEludmFsaWRFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUm9vbVN0YXR1c0NhbGxiYWNrTWV0aG9kSW52YWxpZEVycm9yKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUm9vbVN0YXR1c0NhbGxiYWNrTWV0aG9kSW52YWxpZEVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUm9vbVN0YXR1c0NhbGxiYWNrTWV0aG9kSW52YWxpZEVycm9yKSkuY2FsbCh0aGlzLCA1MzExMCwgJ1N0YXR1c0NhbGxiYWNrTWV0aG9kIGlzIGludmFsaWQnKSk7XG4gIH1cblxuICByZXR1cm4gUm9vbVN0YXR1c0NhbGxiYWNrTWV0aG9kSW52YWxpZEVycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuUm9vbVN0YXR1c0NhbGxiYWNrTWV0aG9kSW52YWxpZEVycm9yID0gUm9vbVN0YXR1c0NhbGxiYWNrTWV0aG9kSW52YWxpZEVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCA1MzExMCwgeyB2YWx1ZTogUm9vbVN0YXR1c0NhbGxiYWNrTWV0aG9kSW52YWxpZEVycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBSb29tU3RhdHVzQ2FsbGJhY2tJbnZhbGlkRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIGluIHRoZSBSRVNUIEFQSSB3aGVuIFN0YXR1c0NhbGxiYWNrIGlzIG5vdCBhIHZhbGlkIFVSTCBvciB0aGUgdXJsIGlzIHRvbyBsb25nLlxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gNTMxMTFcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ1N0YXR1c0NhbGxiYWNrIGlzIGludmFsaWQnXG4gKi9cblxudmFyIFJvb21TdGF0dXNDYWxsYmFja0ludmFsaWRFcnJvciA9IGZ1bmN0aW9uIChfVHdpbGlvRXJyb3IyNCkge1xuICBfaW5oZXJpdHMoUm9vbVN0YXR1c0NhbGxiYWNrSW52YWxpZEVycm9yLCBfVHdpbGlvRXJyb3IyNCk7XG5cbiAgZnVuY3Rpb24gUm9vbVN0YXR1c0NhbGxiYWNrSW52YWxpZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb29tU3RhdHVzQ2FsbGJhY2tJbnZhbGlkRXJyb3IpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSb29tU3RhdHVzQ2FsbGJhY2tJbnZhbGlkRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSb29tU3RhdHVzQ2FsbGJhY2tJbnZhbGlkRXJyb3IpKS5jYWxsKHRoaXMsIDUzMTExLCAnU3RhdHVzQ2FsbGJhY2sgaXMgaW52YWxpZCcpKTtcbiAgfVxuXG4gIHJldHVybiBSb29tU3RhdHVzQ2FsbGJhY2tJbnZhbGlkRXJyb3I7XG59KFR3aWxpb0Vycm9yKTtcblxuZXhwb3J0cy5Sb29tU3RhdHVzQ2FsbGJhY2tJbnZhbGlkRXJyb3IgPSBSb29tU3RhdHVzQ2FsbGJhY2tJbnZhbGlkRXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVHdpbGlvRXJyb3JCeUNvZGUsIDUzMTExLCB7IHZhbHVlOiBSb29tU3RhdHVzQ2FsbGJhY2tJbnZhbGlkRXJyb3IgfSk7XG5cbi8qKlxuICogQGNsYXNzIFJvb21TdGF0dXNJbnZhbGlkRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIGluIHRoZSBSRVNUIEFQSSB3aGVuIFN0YXR1cyBpcyBub3QgdmFsaWQgb3IgdGhlIFJvb20gaXMgbm90IGluLXByb2dyZXNzLlxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gNTMxMTJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ1N0YXR1cyBpcyBpbnZhbGlkJ1xuICovXG5cbnZhciBSb29tU3RhdHVzSW52YWxpZEVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjI1KSB7XG4gIF9pbmhlcml0cyhSb29tU3RhdHVzSW52YWxpZEVycm9yLCBfVHdpbGlvRXJyb3IyNSk7XG5cbiAgZnVuY3Rpb24gUm9vbVN0YXR1c0ludmFsaWRFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUm9vbVN0YXR1c0ludmFsaWRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJvb21TdGF0dXNJbnZhbGlkRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSb29tU3RhdHVzSW52YWxpZEVycm9yKSkuY2FsbCh0aGlzLCA1MzExMiwgJ1N0YXR1cyBpcyBpbnZhbGlkJykpO1xuICB9XG5cbiAgcmV0dXJuIFJvb21TdGF0dXNJbnZhbGlkRXJyb3I7XG59KFR3aWxpb0Vycm9yKTtcblxuZXhwb3J0cy5Sb29tU3RhdHVzSW52YWxpZEVycm9yID0gUm9vbVN0YXR1c0ludmFsaWRFcnJvcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUd2lsaW9FcnJvckJ5Q29kZSwgNTMxMTIsIHsgdmFsdWU6IFJvb21TdGF0dXNJbnZhbGlkRXJyb3IgfSk7XG5cbi8qKlxuICogQGNsYXNzIFJvb21Sb29tRXhpc3RzRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIGluIHRoZSBSRVNUIEFQSSB3aGVuIHRoZSBSb29tIGNyZWF0aW9uIGZhaWxzIGJlY2F1c2UgYSBSb29tIGV4aXN0cyB3aXRoIHRoZSBzYW1lIG5hbWUuXG4gKiBAZXh0ZW5kcyBUd2lsaW9FcnJvclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGUgLSA1MzExM1xuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lc3NhZ2UgLSAnUm9vbSBleGlzdHMnXG4gKi9cblxudmFyIFJvb21Sb29tRXhpc3RzRXJyb3IgPSBmdW5jdGlvbiAoX1R3aWxpb0Vycm9yMjYpIHtcbiAgX2luaGVyaXRzKFJvb21Sb29tRXhpc3RzRXJyb3IsIF9Ud2lsaW9FcnJvcjI2KTtcblxuICBmdW5jdGlvbiBSb29tUm9vbUV4aXN0c0Vycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb29tUm9vbUV4aXN0c0Vycm9yKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUm9vbVJvb21FeGlzdHNFcnJvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJvb21Sb29tRXhpc3RzRXJyb3IpKS5jYWxsKHRoaXMsIDUzMTEzLCAnUm9vbSBleGlzdHMnKSk7XG4gIH1cblxuICByZXR1cm4gUm9vbVJvb21FeGlzdHNFcnJvcjtcbn0oVHdpbGlvRXJyb3IpO1xuXG5leHBvcnRzLlJvb21Sb29tRXhpc3RzRXJyb3IgPSBSb29tUm9vbUV4aXN0c0Vycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCA1MzExMywgeyB2YWx1ZTogUm9vbVJvb21FeGlzdHNFcnJvciB9KTtcblxuLyoqXG4gKiBAY2xhc3MgUm9vbUludmFsaWRQYXJhbWV0ZXJzRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIGluIHRoZSBSRVNUIEFQSSB3aGVuIG9uZSBvciBtb3JlIFJvb20gY3JlYXRpb24gcGFyYW1ldGVyIGlzIGluY29tcGF0aWJsZSB3aXRoIHRoZSBSb29tIHR5cGUuXG4gKiBAZXh0ZW5kcyBUd2lsaW9FcnJvclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGUgLSA1MzExNFxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lc3NhZ2UgLSAnUm9vbSBjcmVhdGlvbiBwYXJhbWV0ZXIocykgaW5jb21wYXRpYmxlIHdpdGggdGhlIFJvb20gdHlwZSdcbiAqL1xuXG52YXIgUm9vbUludmFsaWRQYXJhbWV0ZXJzRXJyb3IgPSBmdW5jdGlvbiAoX1R3aWxpb0Vycm9yMjcpIHtcbiAgX2luaGVyaXRzKFJvb21JbnZhbGlkUGFyYW1ldGVyc0Vycm9yLCBfVHdpbGlvRXJyb3IyNyk7XG5cbiAgZnVuY3Rpb24gUm9vbUludmFsaWRQYXJhbWV0ZXJzRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvb21JbnZhbGlkUGFyYW1ldGVyc0Vycm9yKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUm9vbUludmFsaWRQYXJhbWV0ZXJzRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSb29tSW52YWxpZFBhcmFtZXRlcnNFcnJvcikpLmNhbGwodGhpcywgNTMxMTQsICdSb29tIGNyZWF0aW9uIHBhcmFtZXRlcihzKSBpbmNvbXBhdGlibGUgd2l0aCB0aGUgUm9vbSB0eXBlJykpO1xuICB9XG5cbiAgcmV0dXJuIFJvb21JbnZhbGlkUGFyYW1ldGVyc0Vycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuUm9vbUludmFsaWRQYXJhbWV0ZXJzRXJyb3IgPSBSb29tSW52YWxpZFBhcmFtZXRlcnNFcnJvcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUd2lsaW9FcnJvckJ5Q29kZSwgNTMxMTQsIHsgdmFsdWU6IFJvb21JbnZhbGlkUGFyYW1ldGVyc0Vycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBSb29tTWVkaWFSZWdpb25JbnZhbGlkRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIGluIHRoZSBSRVNUIEFQSSB3aGVuIE1lZGlhUmVnaW9uIGlzIHNldCB0byBhbiBpbnZhbGlkIHZhbHVlLlxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gNTMxMTVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ01lZGlhUmVnaW9uIGlzIGludmFsaWQnXG4gKi9cblxudmFyIFJvb21NZWRpYVJlZ2lvbkludmFsaWRFcnJvciA9IGZ1bmN0aW9uIChfVHdpbGlvRXJyb3IyOCkge1xuICBfaW5oZXJpdHMoUm9vbU1lZGlhUmVnaW9uSW52YWxpZEVycm9yLCBfVHdpbGlvRXJyb3IyOCk7XG5cbiAgZnVuY3Rpb24gUm9vbU1lZGlhUmVnaW9uSW52YWxpZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb29tTWVkaWFSZWdpb25JbnZhbGlkRXJyb3IpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSb29tTWVkaWFSZWdpb25JbnZhbGlkRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSb29tTWVkaWFSZWdpb25JbnZhbGlkRXJyb3IpKS5jYWxsKHRoaXMsIDUzMTE1LCAnTWVkaWFSZWdpb24gaXMgaW52YWxpZCcpKTtcbiAgfVxuXG4gIHJldHVybiBSb29tTWVkaWFSZWdpb25JbnZhbGlkRXJyb3I7XG59KFR3aWxpb0Vycm9yKTtcblxuZXhwb3J0cy5Sb29tTWVkaWFSZWdpb25JbnZhbGlkRXJyb3IgPSBSb29tTWVkaWFSZWdpb25JbnZhbGlkRXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVHdpbGlvRXJyb3JCeUNvZGUsIDUzMTE1LCB7IHZhbHVlOiBSb29tTWVkaWFSZWdpb25JbnZhbGlkRXJyb3IgfSk7XG5cbi8qKlxuICogQGNsYXNzIFJvb21NZWRpYVJlZ2lvblVuYXZhaWxhYmxlRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIGluIHRoZSBSRVNUIEFQSSB3aGVuIE1lZGlhUmVnaW9uIGlzIHNldCB0byBhIHZhbGlkIHZhbHVlIGJ1dCBubyBtZWRpYSBzZXJ2ZXJzIGFyZSBhdmFpbGFibGUuXG4gKiBAZXh0ZW5kcyBUd2lsaW9FcnJvclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGUgLSA1MzExNlxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lc3NhZ2UgLSAnVGhlcmUgYXJlIG5vIG1lZGlhIHNlcnZlcnMgYXZhaWxhYmxlIGluIHRoZSBNZWRpYVJlZ2lvbidcbiAqL1xuXG52YXIgUm9vbU1lZGlhUmVnaW9uVW5hdmFpbGFibGVFcnJvciA9IGZ1bmN0aW9uIChfVHdpbGlvRXJyb3IyOSkge1xuICBfaW5oZXJpdHMoUm9vbU1lZGlhUmVnaW9uVW5hdmFpbGFibGVFcnJvciwgX1R3aWxpb0Vycm9yMjkpO1xuXG4gIGZ1bmN0aW9uIFJvb21NZWRpYVJlZ2lvblVuYXZhaWxhYmxlRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvb21NZWRpYVJlZ2lvblVuYXZhaWxhYmxlRXJyb3IpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSb29tTWVkaWFSZWdpb25VbmF2YWlsYWJsZUVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUm9vbU1lZGlhUmVnaW9uVW5hdmFpbGFibGVFcnJvcikpLmNhbGwodGhpcywgNTMxMTYsICdUaGVyZSBhcmUgbm8gbWVkaWEgc2VydmVycyBhdmFpbGFibGUgaW4gdGhlIE1lZGlhUmVnaW9uJykpO1xuICB9XG5cbiAgcmV0dXJuIFJvb21NZWRpYVJlZ2lvblVuYXZhaWxhYmxlRXJyb3I7XG59KFR3aWxpb0Vycm9yKTtcblxuZXhwb3J0cy5Sb29tTWVkaWFSZWdpb25VbmF2YWlsYWJsZUVycm9yID0gUm9vbU1lZGlhUmVnaW9uVW5hdmFpbGFibGVFcnJvcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUd2lsaW9FcnJvckJ5Q29kZSwgNTMxMTYsIHsgdmFsdWU6IFJvb21NZWRpYVJlZ2lvblVuYXZhaWxhYmxlRXJyb3IgfSk7XG5cbi8qKlxuICogQGNsYXNzIFJvb21TdWJzY3JpcHRpb25PcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvclxuICogQGNsYXNzZGVzYyBSYWlzZWQgd2hlbmV2ZXIgdGhlIHN1YnNjcmlwdGlvbiBvcGVyYXRpb24gcmVxdWVzdGVkIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHRoZSBSb29tIHR5cGUuXG4gKiBAZXh0ZW5kcyBUd2lsaW9FcnJvclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGUgLSA1MzExN1xuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lc3NhZ2UgLSAnVGhlIHN1YnNjcmlwdGlvbiBvcGVyYXRpb24gcmVxdWVzdGVkIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHRoZSBSb29tIHR5cGUnXG4gKi9cblxudmFyIFJvb21TdWJzY3JpcHRpb25PcGVyYXRpb25Ob3RTdXBwb3J0ZWRFcnJvciA9IGZ1bmN0aW9uIChfVHdpbGlvRXJyb3IzMCkge1xuICBfaW5oZXJpdHMoUm9vbVN1YnNjcmlwdGlvbk9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yLCBfVHdpbGlvRXJyb3IzMCk7XG5cbiAgZnVuY3Rpb24gUm9vbVN1YnNjcmlwdGlvbk9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb29tU3Vic2NyaXB0aW9uT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSb29tU3Vic2NyaXB0aW9uT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSb29tU3Vic2NyaXB0aW9uT3BlcmF0aW9uTm90U3VwcG9ydGVkRXJyb3IpKS5jYWxsKHRoaXMsIDUzMTE3LCAnVGhlIHN1YnNjcmlwdGlvbiBvcGVyYXRpb24gcmVxdWVzdGVkIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIHRoZSBSb29tIHR5cGUnKSk7XG4gIH1cblxuICByZXR1cm4gUm9vbVN1YnNjcmlwdGlvbk9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuUm9vbVN1YnNjcmlwdGlvbk9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yID0gUm9vbVN1YnNjcmlwdGlvbk9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCA1MzExNywgeyB2YWx1ZTogUm9vbVN1YnNjcmlwdGlvbk9wZXJhdGlvbk5vdFN1cHBvcnRlZEVycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBSb29tQ29tcGxldGVkRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIHdoZW5ldmVyIGEgUm9vbSBpcyBjb21wbGV0ZWQgdmlhIHRoZSBSRVNUIEFQSS5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDUzMTE4XG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdSb29tIGNvbXBsZXRlZCdcbiAqL1xuXG52YXIgUm9vbUNvbXBsZXRlZEVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjMxKSB7XG4gIF9pbmhlcml0cyhSb29tQ29tcGxldGVkRXJyb3IsIF9Ud2lsaW9FcnJvcjMxKTtcblxuICBmdW5jdGlvbiBSb29tQ29tcGxldGVkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvb21Db21wbGV0ZWRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJvb21Db21wbGV0ZWRFcnJvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJvb21Db21wbGV0ZWRFcnJvcikpLmNhbGwodGhpcywgNTMxMTgsICdSb29tIGNvbXBsZXRlZCcpKTtcbiAgfVxuXG4gIHJldHVybiBSb29tQ29tcGxldGVkRXJyb3I7XG59KFR3aWxpb0Vycm9yKTtcblxuZXhwb3J0cy5Sb29tQ29tcGxldGVkRXJyb3IgPSBSb29tQ29tcGxldGVkRXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVHdpbGlvRXJyb3JCeUNvZGUsIDUzMTE4LCB7IHZhbHVlOiBSb29tQ29tcGxldGVkRXJyb3IgfSk7XG5cbi8qKlxuICogQGNsYXNzIFBhcnRpY2lwYW50SWRlbnRpdHlJbnZhbGlkRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIHdoZW5ldmVyIGEgUGFydGljaXBhbnQgaWRlbnRpdHkgaXMgaW52YWxpZCwgYW5kIHRoZSBzY2VuYXJpbyBpcyBub3QgY292ZXJlZCBieSBhIG1vcmUgc3BlY2lmaWMgZXJyb3IgY29kZS5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDUzMjAwXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdQYXJ0aWNpcGFudCBpZGVudGl0eSBpcyBpbnZhbGlkJ1xuICovXG5cbnZhciBQYXJ0aWNpcGFudElkZW50aXR5SW52YWxpZEVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjMyKSB7XG4gIF9pbmhlcml0cyhQYXJ0aWNpcGFudElkZW50aXR5SW52YWxpZEVycm9yLCBfVHdpbGlvRXJyb3IzMik7XG5cbiAgZnVuY3Rpb24gUGFydGljaXBhbnRJZGVudGl0eUludmFsaWRFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFydGljaXBhbnRJZGVudGl0eUludmFsaWRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBhcnRpY2lwYW50SWRlbnRpdHlJbnZhbGlkRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQYXJ0aWNpcGFudElkZW50aXR5SW52YWxpZEVycm9yKSkuY2FsbCh0aGlzLCA1MzIwMCwgJ1BhcnRpY2lwYW50IGlkZW50aXR5IGlzIGludmFsaWQnKSk7XG4gIH1cblxuICByZXR1cm4gUGFydGljaXBhbnRJZGVudGl0eUludmFsaWRFcnJvcjtcbn0oVHdpbGlvRXJyb3IpO1xuXG5leHBvcnRzLlBhcnRpY2lwYW50SWRlbnRpdHlJbnZhbGlkRXJyb3IgPSBQYXJ0aWNpcGFudElkZW50aXR5SW52YWxpZEVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCA1MzIwMCwgeyB2YWx1ZTogUGFydGljaXBhbnRJZGVudGl0eUludmFsaWRFcnJvciB9KTtcblxuLyoqXG4gKiBAY2xhc3MgUGFydGljaXBhbnRJZGVudGl0eVRvb0xvbmdFcnJvclxuICogQGNsYXNzZGVzYyBSYWlzZWQgd2hlbmV2ZXIgYSBQYXJ0aWNpcGFudCBpZGVudGl0eSBpcyB0b28gbG9uZy5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDUzMjAxXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdQYXJ0aWNpcGFudCBpZGVudGl0eSBpcyB0b28gbG9uZydcbiAqL1xuXG52YXIgUGFydGljaXBhbnRJZGVudGl0eVRvb0xvbmdFcnJvciA9IGZ1bmN0aW9uIChfVHdpbGlvRXJyb3IzMykge1xuICBfaW5oZXJpdHMoUGFydGljaXBhbnRJZGVudGl0eVRvb0xvbmdFcnJvciwgX1R3aWxpb0Vycm9yMzMpO1xuXG4gIGZ1bmN0aW9uIFBhcnRpY2lwYW50SWRlbnRpdHlUb29Mb25nRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhcnRpY2lwYW50SWRlbnRpdHlUb29Mb25nRXJyb3IpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQYXJ0aWNpcGFudElkZW50aXR5VG9vTG9uZ0Vycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUGFydGljaXBhbnRJZGVudGl0eVRvb0xvbmdFcnJvcikpLmNhbGwodGhpcywgNTMyMDEsICdQYXJ0aWNpcGFudCBpZGVudGl0eSBpcyB0b28gbG9uZycpKTtcbiAgfVxuXG4gIHJldHVybiBQYXJ0aWNpcGFudElkZW50aXR5VG9vTG9uZ0Vycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuUGFydGljaXBhbnRJZGVudGl0eVRvb0xvbmdFcnJvciA9IFBhcnRpY2lwYW50SWRlbnRpdHlUb29Mb25nRXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVHdpbGlvRXJyb3JCeUNvZGUsIDUzMjAxLCB7IHZhbHVlOiBQYXJ0aWNpcGFudElkZW50aXR5VG9vTG9uZ0Vycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBQYXJ0aWNpcGFudElkZW50aXR5Q2hhcnNJbnZhbGlkRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIHdoZW5ldmVyIGEgUGFydGljaXBhbnQgaWRlbnRpdHkgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzLlxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gNTMyMDJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ1BhcnRpY2lwYW50IGlkZW50aXR5IGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycydcbiAqL1xuXG52YXIgUGFydGljaXBhbnRJZGVudGl0eUNoYXJzSW52YWxpZEVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjM0KSB7XG4gIF9pbmhlcml0cyhQYXJ0aWNpcGFudElkZW50aXR5Q2hhcnNJbnZhbGlkRXJyb3IsIF9Ud2lsaW9FcnJvcjM0KTtcblxuICBmdW5jdGlvbiBQYXJ0aWNpcGFudElkZW50aXR5Q2hhcnNJbnZhbGlkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhcnRpY2lwYW50SWRlbnRpdHlDaGFyc0ludmFsaWRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBhcnRpY2lwYW50SWRlbnRpdHlDaGFyc0ludmFsaWRFcnJvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBhcnRpY2lwYW50SWRlbnRpdHlDaGFyc0ludmFsaWRFcnJvcikpLmNhbGwodGhpcywgNTMyMDIsICdQYXJ0aWNpcGFudCBpZGVudGl0eSBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMnKSk7XG4gIH1cblxuICByZXR1cm4gUGFydGljaXBhbnRJZGVudGl0eUNoYXJzSW52YWxpZEVycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuUGFydGljaXBhbnRJZGVudGl0eUNoYXJzSW52YWxpZEVycm9yID0gUGFydGljaXBhbnRJZGVudGl0eUNoYXJzSW52YWxpZEVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCA1MzIwMiwgeyB2YWx1ZTogUGFydGljaXBhbnRJZGVudGl0eUNoYXJzSW52YWxpZEVycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBQYXJ0aWNpcGFudE1heFRyYWNrc0V4Y2VlZGVkRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIHdoZW5ldmVyIGEgUGFydGljaXBhbnQgaGFzIHRvbyBtYW55IFRyYWNrcy5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDUzMjAzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdQYXJ0aWNpcGFudCBoYXMgdG9vIG1hbnkgVHJhY2tzJ1xuICovXG5cbnZhciBQYXJ0aWNpcGFudE1heFRyYWNrc0V4Y2VlZGVkRXJyb3IgPSBmdW5jdGlvbiAoX1R3aWxpb0Vycm9yMzUpIHtcbiAgX2luaGVyaXRzKFBhcnRpY2lwYW50TWF4VHJhY2tzRXhjZWVkZWRFcnJvciwgX1R3aWxpb0Vycm9yMzUpO1xuXG4gIGZ1bmN0aW9uIFBhcnRpY2lwYW50TWF4VHJhY2tzRXhjZWVkZWRFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFydGljaXBhbnRNYXhUcmFja3NFeGNlZWRlZEVycm9yKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUGFydGljaXBhbnRNYXhUcmFja3NFeGNlZWRlZEVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUGFydGljaXBhbnRNYXhUcmFja3NFeGNlZWRlZEVycm9yKSkuY2FsbCh0aGlzLCA1MzIwMywgJ1BhcnRpY2lwYW50IGhhcyB0b28gbWFueSBUcmFja3MnKSk7XG4gIH1cblxuICByZXR1cm4gUGFydGljaXBhbnRNYXhUcmFja3NFeGNlZWRlZEVycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuUGFydGljaXBhbnRNYXhUcmFja3NFeGNlZWRlZEVycm9yID0gUGFydGljaXBhbnRNYXhUcmFja3NFeGNlZWRlZEVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCA1MzIwMywgeyB2YWx1ZTogUGFydGljaXBhbnRNYXhUcmFja3NFeGNlZWRlZEVycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBQYXJ0aWNpcGFudE5vdEZvdW5kRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIHdoZW5ldmVyIGF0dGVtcHRpbmcgb3BlcmF0aW9uIG9uIGEgbm9uLWV4aXN0ZW50IFBhcnRpY2lwYW50LlxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gNTMyMDRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ1BhcnRpY2lwYW50IG5vdCBmb3VuZCdcbiAqL1xuXG52YXIgUGFydGljaXBhbnROb3RGb3VuZEVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjM2KSB7XG4gIF9pbmhlcml0cyhQYXJ0aWNpcGFudE5vdEZvdW5kRXJyb3IsIF9Ud2lsaW9FcnJvcjM2KTtcblxuICBmdW5jdGlvbiBQYXJ0aWNpcGFudE5vdEZvdW5kRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhcnRpY2lwYW50Tm90Rm91bmRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBhcnRpY2lwYW50Tm90Rm91bmRFcnJvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBhcnRpY2lwYW50Tm90Rm91bmRFcnJvcikpLmNhbGwodGhpcywgNTMyMDQsICdQYXJ0aWNpcGFudCBub3QgZm91bmQnKSk7XG4gIH1cblxuICByZXR1cm4gUGFydGljaXBhbnROb3RGb3VuZEVycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuUGFydGljaXBhbnROb3RGb3VuZEVycm9yID0gUGFydGljaXBhbnROb3RGb3VuZEVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCA1MzIwNCwgeyB2YWx1ZTogUGFydGljaXBhbnROb3RGb3VuZEVycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBQYXJ0aWNpcGFudER1cGxpY2F0ZUlkZW50aXR5RXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIGJ5IHRoZSBzZXJ2ZXIgdG8gdGhlIGV4aXN0aW5nIFBhcnRpY2lwYW50IHdoZW4gYSBuZXcgUGFydGljaXBhbnQgam9pbnMgYSBSb29tIHdpdGggdGhlIHNhbWUgaWRlbnRpdHkgYXMgdGhlIGV4aXN0aW5nIFBhcnRpY2lwYW50LlxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gNTMyMDVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ1BhcnRpY2lwYW50IGRpc2Nvbm5lY3RlZCBiZWNhdXNlIG9mIGR1cGxpY2F0ZSBpZGVudGl0eSdcbiAqL1xuXG52YXIgUGFydGljaXBhbnREdXBsaWNhdGVJZGVudGl0eUVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjM3KSB7XG4gIF9pbmhlcml0cyhQYXJ0aWNpcGFudER1cGxpY2F0ZUlkZW50aXR5RXJyb3IsIF9Ud2lsaW9FcnJvcjM3KTtcblxuICBmdW5jdGlvbiBQYXJ0aWNpcGFudER1cGxpY2F0ZUlkZW50aXR5RXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhcnRpY2lwYW50RHVwbGljYXRlSWRlbnRpdHlFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBhcnRpY2lwYW50RHVwbGljYXRlSWRlbnRpdHlFcnJvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBhcnRpY2lwYW50RHVwbGljYXRlSWRlbnRpdHlFcnJvcikpLmNhbGwodGhpcywgNTMyMDUsICdQYXJ0aWNpcGFudCBkaXNjb25uZWN0ZWQgYmVjYXVzZSBvZiBkdXBsaWNhdGUgaWRlbnRpdHknKSk7XG4gIH1cblxuICByZXR1cm4gUGFydGljaXBhbnREdXBsaWNhdGVJZGVudGl0eUVycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuUGFydGljaXBhbnREdXBsaWNhdGVJZGVudGl0eUVycm9yID0gUGFydGljaXBhbnREdXBsaWNhdGVJZGVudGl0eUVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCA1MzIwNSwgeyB2YWx1ZTogUGFydGljaXBhbnREdXBsaWNhdGVJZGVudGl0eUVycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBUcmFja0ludmFsaWRFcnJvclxuICogQGNsYXNzZGVzYyBSYWlzZWQgd2hlbmV2ZXIgYSBUcmFjayBpcyBpbnZhbGlkLCBhbmQgdGhlIHNjZW5hcmlvIGlzIG5vdCBjb3ZlcmVkIGJ5IGEgbW9yZSBzcGVjaWZpYyBlcnJvciBjb2RlLlxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gNTMzMDBcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ1RyYWNrIGlzIGludmFsaWQnXG4gKi9cblxudmFyIFRyYWNrSW52YWxpZEVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjM4KSB7XG4gIF9pbmhlcml0cyhUcmFja0ludmFsaWRFcnJvciwgX1R3aWxpb0Vycm9yMzgpO1xuXG4gIGZ1bmN0aW9uIFRyYWNrSW52YWxpZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFja0ludmFsaWRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRyYWNrSW52YWxpZEVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVHJhY2tJbnZhbGlkRXJyb3IpKS5jYWxsKHRoaXMsIDUzMzAwLCAnVHJhY2sgaXMgaW52YWxpZCcpKTtcbiAgfVxuXG4gIHJldHVybiBUcmFja0ludmFsaWRFcnJvcjtcbn0oVHdpbGlvRXJyb3IpO1xuXG5leHBvcnRzLlRyYWNrSW52YWxpZEVycm9yID0gVHJhY2tJbnZhbGlkRXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVHdpbGlvRXJyb3JCeUNvZGUsIDUzMzAwLCB7IHZhbHVlOiBUcmFja0ludmFsaWRFcnJvciB9KTtcblxuLyoqXG4gKiBAY2xhc3MgVHJhY2tOYW1lSW52YWxpZEVycm9yXG4gKiBAY2xhc3NkZXNjIFJhaXNlZCB3aGVuZXZlciBhIFRyYWNrIG5hbWUgaXMgaW52YWxpZCwgYW5kIHRoZSBzY2VuYXJpbyBpcyBub3QgY292ZXJlZCBieSBhIG1vcmUgc3BlY2lmaWMgZXJyb3IgY29kZS5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDUzMzAxXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdUcmFjayBuYW1lIGlzIGludmFsaWQnXG4gKi9cblxudmFyIFRyYWNrTmFtZUludmFsaWRFcnJvciA9IGZ1bmN0aW9uIChfVHdpbGlvRXJyb3IzOSkge1xuICBfaW5oZXJpdHMoVHJhY2tOYW1lSW52YWxpZEVycm9yLCBfVHdpbGlvRXJyb3IzOSk7XG5cbiAgZnVuY3Rpb24gVHJhY2tOYW1lSW52YWxpZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFja05hbWVJbnZhbGlkRXJyb3IpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUcmFja05hbWVJbnZhbGlkRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUcmFja05hbWVJbnZhbGlkRXJyb3IpKS5jYWxsKHRoaXMsIDUzMzAxLCAnVHJhY2sgbmFtZSBpcyBpbnZhbGlkJykpO1xuICB9XG5cbiAgcmV0dXJuIFRyYWNrTmFtZUludmFsaWRFcnJvcjtcbn0oVHdpbGlvRXJyb3IpO1xuXG5leHBvcnRzLlRyYWNrTmFtZUludmFsaWRFcnJvciA9IFRyYWNrTmFtZUludmFsaWRFcnJvcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUd2lsaW9FcnJvckJ5Q29kZSwgNTMzMDEsIHsgdmFsdWU6IFRyYWNrTmFtZUludmFsaWRFcnJvciB9KTtcblxuLyoqXG4gKiBAY2xhc3MgVHJhY2tOYW1lVG9vTG9uZ0Vycm9yXG4gKiBAY2xhc3NkZXNjIFJhaXNlZCB3aGVuZXZlciBhIFRyYWNrIG5hbWUgaXMgdG9vIGxvbmcuXG4gKiBAZXh0ZW5kcyBUd2lsaW9FcnJvclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGUgLSA1MzMwMlxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lc3NhZ2UgLSAnVHJhY2sgbmFtZSBpcyB0b28gbG9uZydcbiAqL1xuXG52YXIgVHJhY2tOYW1lVG9vTG9uZ0Vycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjQwKSB7XG4gIF9pbmhlcml0cyhUcmFja05hbWVUb29Mb25nRXJyb3IsIF9Ud2lsaW9FcnJvcjQwKTtcblxuICBmdW5jdGlvbiBUcmFja05hbWVUb29Mb25nRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYWNrTmFtZVRvb0xvbmdFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRyYWNrTmFtZVRvb0xvbmdFcnJvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRyYWNrTmFtZVRvb0xvbmdFcnJvcikpLmNhbGwodGhpcywgNTMzMDIsICdUcmFjayBuYW1lIGlzIHRvbyBsb25nJykpO1xuICB9XG5cbiAgcmV0dXJuIFRyYWNrTmFtZVRvb0xvbmdFcnJvcjtcbn0oVHdpbGlvRXJyb3IpO1xuXG5leHBvcnRzLlRyYWNrTmFtZVRvb0xvbmdFcnJvciA9IFRyYWNrTmFtZVRvb0xvbmdFcnJvcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUd2lsaW9FcnJvckJ5Q29kZSwgNTMzMDIsIHsgdmFsdWU6IFRyYWNrTmFtZVRvb0xvbmdFcnJvciB9KTtcblxuLyoqXG4gKiBAY2xhc3MgVHJhY2tOYW1lQ2hhcnNJbnZhbGlkRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIHdoZW5ldmVyIGEgVHJhY2sgbmFtZSBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMuXG4gKiBAZXh0ZW5kcyBUd2lsaW9FcnJvclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGUgLSA1MzMwM1xuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lc3NhZ2UgLSAnVHJhY2sgbmFtZSBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMnXG4gKi9cblxudmFyIFRyYWNrTmFtZUNoYXJzSW52YWxpZEVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjQxKSB7XG4gIF9pbmhlcml0cyhUcmFja05hbWVDaGFyc0ludmFsaWRFcnJvciwgX1R3aWxpb0Vycm9yNDEpO1xuXG4gIGZ1bmN0aW9uIFRyYWNrTmFtZUNoYXJzSW52YWxpZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFja05hbWVDaGFyc0ludmFsaWRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRyYWNrTmFtZUNoYXJzSW52YWxpZEVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVHJhY2tOYW1lQ2hhcnNJbnZhbGlkRXJyb3IpKS5jYWxsKHRoaXMsIDUzMzAzLCAnVHJhY2sgbmFtZSBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMnKSk7XG4gIH1cblxuICByZXR1cm4gVHJhY2tOYW1lQ2hhcnNJbnZhbGlkRXJyb3I7XG59KFR3aWxpb0Vycm9yKTtcblxuZXhwb3J0cy5UcmFja05hbWVDaGFyc0ludmFsaWRFcnJvciA9IFRyYWNrTmFtZUNoYXJzSW52YWxpZEVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCA1MzMwMywgeyB2YWx1ZTogVHJhY2tOYW1lQ2hhcnNJbnZhbGlkRXJyb3IgfSk7XG5cbi8qKlxuICogQGNsYXNzIFRyYWNrTmFtZUlzRHVwbGljYXRlZEVycm9yXG4gKiBAY2xhc3NkZXNjIFJhaXNlZCB3aGVuZXZlciBhIFBhcnRpY2lwYW50IGlzIGN1cnJlbnRseSBwdWJsaXNoaW5nIGEgVHJhY2sgd2l0aCB0aGUgc2FtZSBuYW1lLlxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gNTMzMDRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ1RyYWNrIG5hbWUgaXMgZHVwbGljYXRlZCdcbiAqL1xuXG52YXIgVHJhY2tOYW1lSXNEdXBsaWNhdGVkRXJyb3IgPSBmdW5jdGlvbiAoX1R3aWxpb0Vycm9yNDIpIHtcbiAgX2luaGVyaXRzKFRyYWNrTmFtZUlzRHVwbGljYXRlZEVycm9yLCBfVHdpbGlvRXJyb3I0Mik7XG5cbiAgZnVuY3Rpb24gVHJhY2tOYW1lSXNEdXBsaWNhdGVkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYWNrTmFtZUlzRHVwbGljYXRlZEVycm9yKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVHJhY2tOYW1lSXNEdXBsaWNhdGVkRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUcmFja05hbWVJc0R1cGxpY2F0ZWRFcnJvcikpLmNhbGwodGhpcywgNTMzMDQsICdUcmFjayBuYW1lIGlzIGR1cGxpY2F0ZWQnKSk7XG4gIH1cblxuICByZXR1cm4gVHJhY2tOYW1lSXNEdXBsaWNhdGVkRXJyb3I7XG59KFR3aWxpb0Vycm9yKTtcblxuZXhwb3J0cy5UcmFja05hbWVJc0R1cGxpY2F0ZWRFcnJvciA9IFRyYWNrTmFtZUlzRHVwbGljYXRlZEVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCA1MzMwNCwgeyB2YWx1ZTogVHJhY2tOYW1lSXNEdXBsaWNhdGVkRXJyb3IgfSk7XG5cbi8qKlxuICogQGNsYXNzIFRyYWNrU2VydmVyVHJhY2tDYXBhY2l0eVJlYWNoZWRFcnJvclxuICogQGNsYXNzZGVzYyBUaGUgc2VydmVyIGRvZXMgbm90IGhhdmUgZW5vdWdoIHJlc291cmNlcyBhdmFpbGFibGUgdG8gY3JlYXRlIGEgbmV3IFRyYWNrLlxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gNTMzMDVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ1RoZSBzZXJ2ZXIgaGFzIHJlYWNoZWQgY2FwYWNpdHkgYW5kIGNhbm5vdCBmdWxmaWxsIHRoaXMgcmVxdWVzdC4nXG4gKi9cblxudmFyIFRyYWNrU2VydmVyVHJhY2tDYXBhY2l0eVJlYWNoZWRFcnJvciA9IGZ1bmN0aW9uIChfVHdpbGlvRXJyb3I0Mykge1xuICBfaW5oZXJpdHMoVHJhY2tTZXJ2ZXJUcmFja0NhcGFjaXR5UmVhY2hlZEVycm9yLCBfVHdpbGlvRXJyb3I0Myk7XG5cbiAgZnVuY3Rpb24gVHJhY2tTZXJ2ZXJUcmFja0NhcGFjaXR5UmVhY2hlZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFja1NlcnZlclRyYWNrQ2FwYWNpdHlSZWFjaGVkRXJyb3IpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUcmFja1NlcnZlclRyYWNrQ2FwYWNpdHlSZWFjaGVkRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUcmFja1NlcnZlclRyYWNrQ2FwYWNpdHlSZWFjaGVkRXJyb3IpKS5jYWxsKHRoaXMsIDUzMzA1LCAnVGhlIHNlcnZlciBoYXMgcmVhY2hlZCBjYXBhY2l0eSBhbmQgY2Fubm90IGZ1bGZpbGwgdGhpcyByZXF1ZXN0LicpKTtcbiAgfVxuXG4gIHJldHVybiBUcmFja1NlcnZlclRyYWNrQ2FwYWNpdHlSZWFjaGVkRXJyb3I7XG59KFR3aWxpb0Vycm9yKTtcblxuZXhwb3J0cy5UcmFja1NlcnZlclRyYWNrQ2FwYWNpdHlSZWFjaGVkRXJyb3IgPSBUcmFja1NlcnZlclRyYWNrQ2FwYWNpdHlSZWFjaGVkRXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVHdpbGlvRXJyb3JCeUNvZGUsIDUzMzA1LCB7IHZhbHVlOiBUcmFja1NlcnZlclRyYWNrQ2FwYWNpdHlSZWFjaGVkRXJyb3IgfSk7XG5cbi8qKlxuICogQGNsYXNzIE1lZGlhQ2xpZW50TG9jYWxEZXNjRmFpbGVkRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIHdoZW5ldmVyIGEgQ2xpZW50IGlzIHVuYWJsZSB0byBjcmVhdGUgb3IgYXBwbHkgYSBsb2NhbCBtZWRpYSBkZXNjcmlwdGlvbi5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDUzNDAwXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdDbGllbnQgaXMgdW5hYmxlIHRvIGNyZWF0ZSBvciBhcHBseSBhIGxvY2FsIG1lZGlhIGRlc2NyaXB0aW9uJ1xuICovXG5cbnZhciBNZWRpYUNsaWVudExvY2FsRGVzY0ZhaWxlZEVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjQ0KSB7XG4gIF9pbmhlcml0cyhNZWRpYUNsaWVudExvY2FsRGVzY0ZhaWxlZEVycm9yLCBfVHdpbGlvRXJyb3I0NCk7XG5cbiAgZnVuY3Rpb24gTWVkaWFDbGllbnRMb2NhbERlc2NGYWlsZWRFcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVkaWFDbGllbnRMb2NhbERlc2NGYWlsZWRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1lZGlhQ2xpZW50TG9jYWxEZXNjRmFpbGVkRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihNZWRpYUNsaWVudExvY2FsRGVzY0ZhaWxlZEVycm9yKSkuY2FsbCh0aGlzLCA1MzQwMCwgJ0NsaWVudCBpcyB1bmFibGUgdG8gY3JlYXRlIG9yIGFwcGx5IGEgbG9jYWwgbWVkaWEgZGVzY3JpcHRpb24nKSk7XG4gIH1cblxuICByZXR1cm4gTWVkaWFDbGllbnRMb2NhbERlc2NGYWlsZWRFcnJvcjtcbn0oVHdpbGlvRXJyb3IpO1xuXG5leHBvcnRzLk1lZGlhQ2xpZW50TG9jYWxEZXNjRmFpbGVkRXJyb3IgPSBNZWRpYUNsaWVudExvY2FsRGVzY0ZhaWxlZEVycm9yO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFR3aWxpb0Vycm9yQnlDb2RlLCA1MzQwMCwgeyB2YWx1ZTogTWVkaWFDbGllbnRMb2NhbERlc2NGYWlsZWRFcnJvciB9KTtcblxuLyoqXG4gKiBAY2xhc3MgTWVkaWFTZXJ2ZXJMb2NhbERlc2NGYWlsZWRFcnJvclxuICogQGNsYXNzZGVzYyBSYWlzZWQgd2hlbmV2ZXIgdGhlIFNlcnZlciBpcyB1bmFibGUgdG8gY3JlYXRlIG9yIGFwcGx5IGEgbG9jYWwgbWVkaWEgZGVzY3JpcHRpb24uXG4gKiBAZXh0ZW5kcyBUd2lsaW9FcnJvclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGUgLSA1MzQwMVxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lc3NhZ2UgLSAnU2VydmVyIGlzIHVuYWJsZSB0byBjcmVhdGUgb3IgYXBwbHkgYSBsb2NhbCBtZWRpYSBkZXNjcmlwdGlvbidcbiAqL1xuXG52YXIgTWVkaWFTZXJ2ZXJMb2NhbERlc2NGYWlsZWRFcnJvciA9IGZ1bmN0aW9uIChfVHdpbGlvRXJyb3I0NSkge1xuICBfaW5oZXJpdHMoTWVkaWFTZXJ2ZXJMb2NhbERlc2NGYWlsZWRFcnJvciwgX1R3aWxpb0Vycm9yNDUpO1xuXG4gIGZ1bmN0aW9uIE1lZGlhU2VydmVyTG9jYWxEZXNjRmFpbGVkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1lZGlhU2VydmVyTG9jYWxEZXNjRmFpbGVkRXJyb3IpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChNZWRpYVNlcnZlckxvY2FsRGVzY0ZhaWxlZEVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTWVkaWFTZXJ2ZXJMb2NhbERlc2NGYWlsZWRFcnJvcikpLmNhbGwodGhpcywgNTM0MDEsICdTZXJ2ZXIgaXMgdW5hYmxlIHRvIGNyZWF0ZSBvciBhcHBseSBhIGxvY2FsIG1lZGlhIGRlc2NyaXB0aW9uJykpO1xuICB9XG5cbiAgcmV0dXJuIE1lZGlhU2VydmVyTG9jYWxEZXNjRmFpbGVkRXJyb3I7XG59KFR3aWxpb0Vycm9yKTtcblxuZXhwb3J0cy5NZWRpYVNlcnZlckxvY2FsRGVzY0ZhaWxlZEVycm9yID0gTWVkaWFTZXJ2ZXJMb2NhbERlc2NGYWlsZWRFcnJvcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUd2lsaW9FcnJvckJ5Q29kZSwgNTM0MDEsIHsgdmFsdWU6IE1lZGlhU2VydmVyTG9jYWxEZXNjRmFpbGVkRXJyb3IgfSk7XG5cbi8qKlxuICogQGNsYXNzIE1lZGlhQ2xpZW50UmVtb3RlRGVzY0ZhaWxlZEVycm9yXG4gKiBAY2xhc3NkZXNjIFJhaXNlZCB3aGVuZXZlciB0aGUgQ2xpZW50IHJlY2VpdmVzIGEgcmVtb3RlIG1lZGlhIGRlc2NyaXB0aW9uIGJ1dCBpcyB1bmFibGUgdG8gYXBwbHkgaXQuXG4gKiBAZXh0ZW5kcyBUd2lsaW9FcnJvclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGUgLSA1MzQwMlxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lc3NhZ2UgLSAnQ2xpZW50IGlzIHVuYWJsZSB0byBhcHBseSBhIHJlbW90ZSBtZWRpYSBkZXNjcmlwdGlvbidcbiAqL1xuXG52YXIgTWVkaWFDbGllbnRSZW1vdGVEZXNjRmFpbGVkRXJyb3IgPSBmdW5jdGlvbiAoX1R3aWxpb0Vycm9yNDYpIHtcbiAgX2luaGVyaXRzKE1lZGlhQ2xpZW50UmVtb3RlRGVzY0ZhaWxlZEVycm9yLCBfVHdpbGlvRXJyb3I0Nik7XG5cbiAgZnVuY3Rpb24gTWVkaWFDbGllbnRSZW1vdGVEZXNjRmFpbGVkRXJyb3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1lZGlhQ2xpZW50UmVtb3RlRGVzY0ZhaWxlZEVycm9yKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTWVkaWFDbGllbnRSZW1vdGVEZXNjRmFpbGVkRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihNZWRpYUNsaWVudFJlbW90ZURlc2NGYWlsZWRFcnJvcikpLmNhbGwodGhpcywgNTM0MDIsICdDbGllbnQgaXMgdW5hYmxlIHRvIGFwcGx5IGEgcmVtb3RlIG1lZGlhIGRlc2NyaXB0aW9uJykpO1xuICB9XG5cbiAgcmV0dXJuIE1lZGlhQ2xpZW50UmVtb3RlRGVzY0ZhaWxlZEVycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuTWVkaWFDbGllbnRSZW1vdGVEZXNjRmFpbGVkRXJyb3IgPSBNZWRpYUNsaWVudFJlbW90ZURlc2NGYWlsZWRFcnJvcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUd2lsaW9FcnJvckJ5Q29kZSwgNTM0MDIsIHsgdmFsdWU6IE1lZGlhQ2xpZW50UmVtb3RlRGVzY0ZhaWxlZEVycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBNZWRpYVNlcnZlclJlbW90ZURlc2NGYWlsZWRFcnJvclxuICogQGNsYXNzZGVzYyBSYWlzZWQgd2hlbmV2ZXIgdGhlIFNlcnZlciByZWNlaXZlcyBhIHJlbW90ZSBtZWRpYSBkZXNjcmlwdGlvbiBidXQgaXMgdW5hYmxlIHRvIGFwcGx5IGl0LlxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gNTM0MDNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ1NlcnZlciBpcyB1bmFibGUgdG8gYXBwbHkgYSByZW1vdGUgbWVkaWEgZGVzY3JpcHRpb24nXG4gKi9cblxudmFyIE1lZGlhU2VydmVyUmVtb3RlRGVzY0ZhaWxlZEVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjQ3KSB7XG4gIF9pbmhlcml0cyhNZWRpYVNlcnZlclJlbW90ZURlc2NGYWlsZWRFcnJvciwgX1R3aWxpb0Vycm9yNDcpO1xuXG4gIGZ1bmN0aW9uIE1lZGlhU2VydmVyUmVtb3RlRGVzY0ZhaWxlZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZWRpYVNlcnZlclJlbW90ZURlc2NGYWlsZWRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1lZGlhU2VydmVyUmVtb3RlRGVzY0ZhaWxlZEVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTWVkaWFTZXJ2ZXJSZW1vdGVEZXNjRmFpbGVkRXJyb3IpKS5jYWxsKHRoaXMsIDUzNDAzLCAnU2VydmVyIGlzIHVuYWJsZSB0byBhcHBseSBhIHJlbW90ZSBtZWRpYSBkZXNjcmlwdGlvbicpKTtcbiAgfVxuXG4gIHJldHVybiBNZWRpYVNlcnZlclJlbW90ZURlc2NGYWlsZWRFcnJvcjtcbn0oVHdpbGlvRXJyb3IpO1xuXG5leHBvcnRzLk1lZGlhU2VydmVyUmVtb3RlRGVzY0ZhaWxlZEVycm9yID0gTWVkaWFTZXJ2ZXJSZW1vdGVEZXNjRmFpbGVkRXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVHdpbGlvRXJyb3JCeUNvZGUsIDUzNDAzLCB7IHZhbHVlOiBNZWRpYVNlcnZlclJlbW90ZURlc2NGYWlsZWRFcnJvciB9KTtcblxuLyoqXG4gKiBAY2xhc3MgTWVkaWFOb1N1cHBvcnRlZENvZGVjRXJyb3JcbiAqIEBjbGFzc2Rlc2MgUmFpc2VkIHdoZW5ldmVyIHRoZSBpbnRlcnNlY3Rpb24gb2YgY29kZWNzIHN1cHBvcnRlZCBieSB0aGUgQ2xpZW50IGFuZCB0aGUgU2VydmVyIChvciwgaW4gcGVlci10by1wZWVyLCB0aGUgQ2xpZW50IGFuZCBhbm90aGVyIFBhcnRpY2lwYW50KSBpcyBlbXB0eS5cbiAqIEBleHRlbmRzIFR3aWxpb0Vycm9yXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29kZSAtIDUzNDA0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gbWVzc2FnZSAtICdObyBzdXBwb3J0ZWQgY29kZWMnXG4gKi9cblxudmFyIE1lZGlhTm9TdXBwb3J0ZWRDb2RlY0Vycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjQ4KSB7XG4gIF9pbmhlcml0cyhNZWRpYU5vU3VwcG9ydGVkQ29kZWNFcnJvciwgX1R3aWxpb0Vycm9yNDgpO1xuXG4gIGZ1bmN0aW9uIE1lZGlhTm9TdXBwb3J0ZWRDb2RlY0Vycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZWRpYU5vU3VwcG9ydGVkQ29kZWNFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1lZGlhTm9TdXBwb3J0ZWRDb2RlY0Vycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTWVkaWFOb1N1cHBvcnRlZENvZGVjRXJyb3IpKS5jYWxsKHRoaXMsIDUzNDA0LCAnTm8gc3VwcG9ydGVkIGNvZGVjJykpO1xuICB9XG5cbiAgcmV0dXJuIE1lZGlhTm9TdXBwb3J0ZWRDb2RlY0Vycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuTWVkaWFOb1N1cHBvcnRlZENvZGVjRXJyb3IgPSBNZWRpYU5vU3VwcG9ydGVkQ29kZWNFcnJvcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUd2lsaW9FcnJvckJ5Q29kZSwgNTM0MDQsIHsgdmFsdWU6IE1lZGlhTm9TdXBwb3J0ZWRDb2RlY0Vycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBNZWRpYUNvbm5lY3Rpb25FcnJvclxuICogQGNsYXNzZGVzYyBSYWlzZWQgYnkgdGhlIENsaWVudCBvciBTZXJ2ZXIgd2hlbmV2ZXIgYSBtZWRpYSBjb25uZWN0aW9uIGZhaWxzLlxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gNTM0MDVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ01lZGlhIGNvbm5lY3Rpb24gZmFpbGVkJ1xuICovXG5cbnZhciBNZWRpYUNvbm5lY3Rpb25FcnJvciA9IGZ1bmN0aW9uIChfVHdpbGlvRXJyb3I0OSkge1xuICBfaW5oZXJpdHMoTWVkaWFDb25uZWN0aW9uRXJyb3IsIF9Ud2lsaW9FcnJvcjQ5KTtcblxuICBmdW5jdGlvbiBNZWRpYUNvbm5lY3Rpb25FcnJvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVkaWFDb25uZWN0aW9uRXJyb3IpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChNZWRpYUNvbm5lY3Rpb25FcnJvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1lZGlhQ29ubmVjdGlvbkVycm9yKSkuY2FsbCh0aGlzLCA1MzQwNSwgJ01lZGlhIGNvbm5lY3Rpb24gZmFpbGVkJykpO1xuICB9XG5cbiAgcmV0dXJuIE1lZGlhQ29ubmVjdGlvbkVycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuTWVkaWFDb25uZWN0aW9uRXJyb3IgPSBNZWRpYUNvbm5lY3Rpb25FcnJvcjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShUd2lsaW9FcnJvckJ5Q29kZSwgNTM0MDUsIHsgdmFsdWU6IE1lZGlhQ29ubmVjdGlvbkVycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBDb25maWd1cmF0aW9uQWNxdWlyZUZhaWxlZEVycm9yXG4gKiBAY2xhc3NkZXNjIFJhaXNlZCB3aGVuZXZlciB0aGUgQ2xpZW50IGlzIHVuYWJsZSB0byBhY3F1aXJlIGNvbmZpZ3VyYXRpb24gaW5mb3JtYXRpb24gZnJvbSB0aGUgU2VydmVyLlxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gNTM1MDBcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ1VuYWJsZSB0byBhY3F1aXJlIGNvbmZpZ3VyYXRpb24nXG4gKi9cblxudmFyIENvbmZpZ3VyYXRpb25BY3F1aXJlRmFpbGVkRXJyb3IgPSBmdW5jdGlvbiAoX1R3aWxpb0Vycm9yNTApIHtcbiAgX2luaGVyaXRzKENvbmZpZ3VyYXRpb25BY3F1aXJlRmFpbGVkRXJyb3IsIF9Ud2lsaW9FcnJvcjUwKTtcblxuICBmdW5jdGlvbiBDb25maWd1cmF0aW9uQWNxdWlyZUZhaWxlZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb25maWd1cmF0aW9uQWNxdWlyZUZhaWxlZEVycm9yKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ29uZmlndXJhdGlvbkFjcXVpcmVGYWlsZWRFcnJvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENvbmZpZ3VyYXRpb25BY3F1aXJlRmFpbGVkRXJyb3IpKS5jYWxsKHRoaXMsIDUzNTAwLCAnVW5hYmxlIHRvIGFjcXVpcmUgY29uZmlndXJhdGlvbicpKTtcbiAgfVxuXG4gIHJldHVybiBDb25maWd1cmF0aW9uQWNxdWlyZUZhaWxlZEVycm9yO1xufShUd2lsaW9FcnJvcik7XG5cbmV4cG9ydHMuQ29uZmlndXJhdGlvbkFjcXVpcmVGYWlsZWRFcnJvciA9IENvbmZpZ3VyYXRpb25BY3F1aXJlRmFpbGVkRXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVHdpbGlvRXJyb3JCeUNvZGUsIDUzNTAwLCB7IHZhbHVlOiBDb25maWd1cmF0aW9uQWNxdWlyZUZhaWxlZEVycm9yIH0pO1xuXG4vKipcbiAqIEBjbGFzcyBDb25maWd1cmF0aW9uQWNxdWlyZVR1cm5GYWlsZWRFcnJvclxuICogQGNsYXNzZGVzYyBSYWlzZWQgd2hlbmV2ZXIgdGhlIFNlcnZlciBpcyB1bmFibGUgdG8gcmV0dXJuIFRVUk4gY3JlZGVudGlhbHMgdG8gdGhlIENsaWVudFxuICogQGV4dGVuZHMgVHdpbGlvRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gNTM1MDFcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gJ1VuYWJsZSB0byBhY3F1aXJlIFRVUk4gY3JlZGVudGlhbHMnXG4gKi9cblxudmFyIENvbmZpZ3VyYXRpb25BY3F1aXJlVHVybkZhaWxlZEVycm9yID0gZnVuY3Rpb24gKF9Ud2lsaW9FcnJvcjUxKSB7XG4gIF9pbmhlcml0cyhDb25maWd1cmF0aW9uQWNxdWlyZVR1cm5GYWlsZWRFcnJvciwgX1R3aWxpb0Vycm9yNTEpO1xuXG4gIGZ1bmN0aW9uIENvbmZpZ3VyYXRpb25BY3F1aXJlVHVybkZhaWxlZEVycm9yKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb25maWd1cmF0aW9uQWNxdWlyZVR1cm5GYWlsZWRFcnJvcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENvbmZpZ3VyYXRpb25BY3F1aXJlVHVybkZhaWxlZEVycm9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ29uZmlndXJhdGlvbkFjcXVpcmVUdXJuRmFpbGVkRXJyb3IpKS5jYWxsKHRoaXMsIDUzNTAxLCAnVW5hYmxlIHRvIGFjcXVpcmUgVFVSTiBjcmVkZW50aWFscycpKTtcbiAgfVxuXG4gIHJldHVybiBDb25maWd1cmF0aW9uQWNxdWlyZVR1cm5GYWlsZWRFcnJvcjtcbn0oVHdpbGlvRXJyb3IpO1xuXG5leHBvcnRzLkNvbmZpZ3VyYXRpb25BY3F1aXJlVHVybkZhaWxlZEVycm9yID0gQ29uZmlndXJhdGlvbkFjcXVpcmVUdXJuRmFpbGVkRXJyb3I7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVHdpbGlvRXJyb3JCeUNvZGUsIDUzNTAxLCB7IHZhbHVlOiBDb25maWd1cmF0aW9uQWNxdWlyZVR1cm5GYWlsZWRFcnJvciB9KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3V0aWwvdHdpbGlvLXZpZGVvLWVycm9ycy5qc1xuLy8gbW9kdWxlIGlkID0gMjA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///209\n");

/***/ }),
/* 210 */
/*!*******************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/util/index.js ***!
  \*******************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Create a {@link Deferred}.\n * @returns {Deferred}\n */\nfunction defer() {\n  var deferred = {};\n  deferred.promise = new Promise(function(resolve, reject) {\n    deferred.resolve = resolve;\n    deferred.reject = reject;\n  });\n  return deferred;\n}\n\n/**\n * Copy a method from a `source` prototype onto a `wrapper` prototype. Invoking\n * the method on the `wrapper` prototype will invoke the corresponding method\n * on an instance accessed by `target`.\n * @param {object} source\n * @param {object} wrapper\n * @param {string} target\n * @param {string} methodName\n * @returns {undefined}\n */\nfunction delegateMethod(source, wrapper, target, methodName) {\n  if (methodName in wrapper) {\n    // Skip any methods already set.\n    return;\n  } else if (methodName.match(/^on[a-z]+$/)) {\n    // Skip EventHandlers (these are handled in the constructor).\n    return;\n  }\n\n  var type;\n  try {\n    type = typeof source[methodName];\n  } catch (error) {\n    // NOTE(mroberts): Attempting to check the type of non-function members\n    // on the prototype throws an error for some types.\n  }\n\n  if (type !== 'function') {\n    // Skip non-function members.\n    return;\n  }\n\n  /* eslint no-loop-func:0 */\n  wrapper[methodName] = function() {\n    return this[target][methodName].apply(this[target], arguments);\n  };\n}\n\n/**\n * Copy methods from a `source` prototype onto a `wrapper` prototype. Invoking\n * the methods on the `wrapper` prototype will invoke the corresponding method\n * on an instance accessed by `target`.\n * @param {object} source\n * @param {object} wrapper\n * @param {string} target\n * @returns {undefined}\n */\nfunction delegateMethods(source, wrapper, target) {\n  for (var methodName in source) {\n    delegateMethod(source, wrapper, target, methodName);\n  }\n}\n\n/**\n * Finds the items in list1 that are not in list2.\n * @param {Array<*>|Map<*>|Set<*>} list1\n * @param {Array<*>|Map<*>|Set<*>} list2\n * @returns {Set}\n */\nfunction difference(list1, list2) {\n  list1 = Array.isArray(list1) ? new Set(list1) : new Set(list1.values());\n  list2 = Array.isArray(list2) ? new Set(list2) : new Set(list2.values());\n\n  var difference = new Set();\n\n  list1.forEach(function(item) {\n    if (!list2.has(item)) {\n      difference.add(item);\n    }\n  });\n\n  return difference;\n}\n\n/**\n * Map a list to an array of arrays, and return the flattened result.\n * @param {Array<*>|Set<*>|Map<*>} list\n * @param {function(*): Array<*>} mapFn\n * @returns Array<*>\n */\nfunction flatMap(list, mapFn) {\n  var listArray = list instanceof Map || list instanceof Set\n    ? Array.from(list.values())\n    : list;\n\n  return listArray.reduce(function(flattened, item) {\n    var mapped = mapFn(item);\n    return flattened.concat(mapped);\n  }, []);\n}\n\n/**\n * Guess the browser.\n * @returns {?string} browser - \"chrome\", \"firefox\", \"safari\", or null\n */\nfunction guessBrowser() {\n  if (typeof webkitRTCPeerConnection !== 'undefined') {\n    return 'chrome';\n  } else if (typeof mozRTCPeerConnection !== 'undefined') {\n    return 'firefox';\n  } else if (typeof RTCPeerConnection !== 'undefined') {\n    if (typeof navigator !== 'undefined' && navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n      return 'safari';\n    }\n    // NOTE(mroberts): Could be Edge.\n  }\n  return null;\n}\n\n/**\n * Intercept an event that might otherwise be proxied on an EventTarget.\n * @param {EventTarget} target\n * @param {string} type\n * @returns {void}\n */\nfunction interceptEvent(target, type) {\n  var currentListener = null;\n  Object.defineProperty(target, 'on' + type, {\n    get: function() {\n      return currentListener;\n    },\n    set: function(newListener) {\n      if (currentListener) {\n        this.removeEventListener(type, currentListener);\n      }\n\n      if (typeof newListener === 'function') {\n        currentListener = newListener;\n        this.addEventListener(type, currentListener);\n      } else {\n        currentListener = null;\n      }\n    }\n  });\n}\n\n/**\n * This is a function for turning a Promise into the kind referenced in the\n * Legacy Interface Extensions section of the WebRTC spec.\n * @param {Promise<*>} promise\n * @param {function<*>} onSuccess\n * @param {function<Error>} onFailure\n * @returns {Promise<undefined>}\n */\nfunction legacyPromise(promise, onSuccess, onFailure) {\n  if (onSuccess) {\n    return promise.then(function(result) {\n      onSuccess(result);\n    }, function(error) {\n      onFailure(error);\n    });\n  }\n  return promise;\n}\n\n/**\n * Make a unique ID.\n * @return {string}\n */\nfunction makeUUID() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = Math.random() * 16 | 0;\n    var v = c === 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n}\n\n/**\n * For each property name on the `source` prototype, add getters and/or setters\n * to `wrapper` that proxy to `target`.\n * @param {object} source\n * @param {object} wrapper\n * @param {string} target\n * @returns {undefined}\n */\nfunction proxyProperties(source, wrapper, target) {\n  Object.getOwnPropertyNames(source).forEach(function(propertyName) {\n    proxyProperty(source, wrapper, target, propertyName);\n  });\n}\n\n/**\n * For the property name on the `source` prototype, add a getter and/or setter\n * to `wrapper` that proxies to `target`.\n * @param {object} source\n * @param {object} wrapper\n * @param {string} target\n * @param {string} propertyName\n * @returns {undefined}\n */\nfunction proxyProperty(source, wrapper, target, propertyName) {\n  if (propertyName in wrapper) {\n    // Skip any properties already set.\n    return;\n  } else if (propertyName.match(/^on[a-z]+$/)) {\n    Object.defineProperty(wrapper, propertyName, {\n      value: null,\n      writable: true\n    });\n\n    target.addEventListener(propertyName.slice(2), function() {\n      wrapper.dispatchEvent.apply(wrapper, arguments);\n    });\n\n    return;\n  }\n\n  Object.defineProperty(wrapper, propertyName, {\n    enumerable: true,\n    get: function() {\n      return target[propertyName];\n    }\n  });\n}\n\n/**\n * @typedef {object} Deferred\n * @property {Promise} promise\n * @property {function} reject\n * @property {function} resolve\n */\n\nexports.defer = defer;\nexports.delegateMethods = delegateMethods;\nexports.difference = difference;\nexports.flatMap = flatMap;\nexports.guessBrowser = guessBrowser;\nexports.interceptEvent = interceptEvent;\nexports.legacyPromise = legacyPromise;\nexports.makeUUID = makeUUID;\nexports.proxyProperties = proxyProperties;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3V0aWwvaW5kZXguanM/ZTk1MiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBLGFBQWEsZUFBZTtBQUM1QixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsdUJBQXVCO0FBQ2xDLFdBQVcsdUJBQXVCO0FBQ2xDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyx1QkFBdUI7QUFDbEMsV0FBVyxzQkFBc0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkIsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsZ0JBQWdCO0FBQzNCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxTQUFTO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIyMTAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlIGEge0BsaW5rIERlZmVycmVkfS5cbiAqIEByZXR1cm5zIHtEZWZlcnJlZH1cbiAqL1xuZnVuY3Rpb24gZGVmZXIoKSB7XG4gIHZhciBkZWZlcnJlZCA9IHt9O1xuICBkZWZlcnJlZC5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZGVmZXJyZWQucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgZGVmZXJyZWQucmVqZWN0ID0gcmVqZWN0O1xuICB9KTtcbiAgcmV0dXJuIGRlZmVycmVkO1xufVxuXG4vKipcbiAqIENvcHkgYSBtZXRob2QgZnJvbSBhIGBzb3VyY2VgIHByb3RvdHlwZSBvbnRvIGEgYHdyYXBwZXJgIHByb3RvdHlwZS4gSW52b2tpbmdcbiAqIHRoZSBtZXRob2Qgb24gdGhlIGB3cmFwcGVyYCBwcm90b3R5cGUgd2lsbCBpbnZva2UgdGhlIGNvcnJlc3BvbmRpbmcgbWV0aG9kXG4gKiBvbiBhbiBpbnN0YW5jZSBhY2Nlc3NlZCBieSBgdGFyZ2V0YC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2VcbiAqIEBwYXJhbSB7b2JqZWN0fSB3cmFwcGVyXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0XG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZVxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuZnVuY3Rpb24gZGVsZWdhdGVNZXRob2Qoc291cmNlLCB3cmFwcGVyLCB0YXJnZXQsIG1ldGhvZE5hbWUpIHtcbiAgaWYgKG1ldGhvZE5hbWUgaW4gd3JhcHBlcikge1xuICAgIC8vIFNraXAgYW55IG1ldGhvZHMgYWxyZWFkeSBzZXQuXG4gICAgcmV0dXJuO1xuICB9IGVsc2UgaWYgKG1ldGhvZE5hbWUubWF0Y2goL15vblthLXpdKyQvKSkge1xuICAgIC8vIFNraXAgRXZlbnRIYW5kbGVycyAodGhlc2UgYXJlIGhhbmRsZWQgaW4gdGhlIGNvbnN0cnVjdG9yKS5cbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgdHlwZTtcbiAgdHJ5IHtcbiAgICB0eXBlID0gdHlwZW9mIHNvdXJjZVttZXRob2ROYW1lXTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBOT1RFKG1yb2JlcnRzKTogQXR0ZW1wdGluZyB0byBjaGVjayB0aGUgdHlwZSBvZiBub24tZnVuY3Rpb24gbWVtYmVyc1xuICAgIC8vIG9uIHRoZSBwcm90b3R5cGUgdGhyb3dzIGFuIGVycm9yIGZvciBzb21lIHR5cGVzLlxuICB9XG5cbiAgaWYgKHR5cGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBTa2lwIG5vbi1mdW5jdGlvbiBtZW1iZXJzLlxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qIGVzbGludCBuby1sb29wLWZ1bmM6MCAqL1xuICB3cmFwcGVyW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXNbdGFyZ2V0XVttZXRob2ROYW1lXS5hcHBseSh0aGlzW3RhcmdldF0sIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbi8qKlxuICogQ29weSBtZXRob2RzIGZyb20gYSBgc291cmNlYCBwcm90b3R5cGUgb250byBhIGB3cmFwcGVyYCBwcm90b3R5cGUuIEludm9raW5nXG4gKiB0aGUgbWV0aG9kcyBvbiB0aGUgYHdyYXBwZXJgIHByb3RvdHlwZSB3aWxsIGludm9rZSB0aGUgY29ycmVzcG9uZGluZyBtZXRob2RcbiAqIG9uIGFuIGluc3RhbmNlIGFjY2Vzc2VkIGJ5IGB0YXJnZXRgLlxuICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZVxuICogQHBhcmFtIHtvYmplY3R9IHdyYXBwZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKi9cbmZ1bmN0aW9uIGRlbGVnYXRlTWV0aG9kcyhzb3VyY2UsIHdyYXBwZXIsIHRhcmdldCkge1xuICBmb3IgKHZhciBtZXRob2ROYW1lIGluIHNvdXJjZSkge1xuICAgIGRlbGVnYXRlTWV0aG9kKHNvdXJjZSwgd3JhcHBlciwgdGFyZ2V0LCBtZXRob2ROYW1lKTtcbiAgfVxufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBpdGVtcyBpbiBsaXN0MSB0aGF0IGFyZSBub3QgaW4gbGlzdDIuXG4gKiBAcGFyYW0ge0FycmF5PCo+fE1hcDwqPnxTZXQ8Kj59IGxpc3QxXG4gKiBAcGFyYW0ge0FycmF5PCo+fE1hcDwqPnxTZXQ8Kj59IGxpc3QyXG4gKiBAcmV0dXJucyB7U2V0fVxuICovXG5mdW5jdGlvbiBkaWZmZXJlbmNlKGxpc3QxLCBsaXN0Mikge1xuICBsaXN0MSA9IEFycmF5LmlzQXJyYXkobGlzdDEpID8gbmV3IFNldChsaXN0MSkgOiBuZXcgU2V0KGxpc3QxLnZhbHVlcygpKTtcbiAgbGlzdDIgPSBBcnJheS5pc0FycmF5KGxpc3QyKSA/IG5ldyBTZXQobGlzdDIpIDogbmV3IFNldChsaXN0Mi52YWx1ZXMoKSk7XG5cbiAgdmFyIGRpZmZlcmVuY2UgPSBuZXcgU2V0KCk7XG5cbiAgbGlzdDEuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgaWYgKCFsaXN0Mi5oYXMoaXRlbSkpIHtcbiAgICAgIGRpZmZlcmVuY2UuYWRkKGl0ZW0pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGRpZmZlcmVuY2U7XG59XG5cbi8qKlxuICogTWFwIGEgbGlzdCB0byBhbiBhcnJheSBvZiBhcnJheXMsIGFuZCByZXR1cm4gdGhlIGZsYXR0ZW5lZCByZXN1bHQuXG4gKiBAcGFyYW0ge0FycmF5PCo+fFNldDwqPnxNYXA8Kj59IGxpc3RcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKik6IEFycmF5PCo+fSBtYXBGblxuICogQHJldHVybnMgQXJyYXk8Kj5cbiAqL1xuZnVuY3Rpb24gZmxhdE1hcChsaXN0LCBtYXBGbikge1xuICB2YXIgbGlzdEFycmF5ID0gbGlzdCBpbnN0YW5jZW9mIE1hcCB8fCBsaXN0IGluc3RhbmNlb2YgU2V0XG4gICAgPyBBcnJheS5mcm9tKGxpc3QudmFsdWVzKCkpXG4gICAgOiBsaXN0O1xuXG4gIHJldHVybiBsaXN0QXJyYXkucmVkdWNlKGZ1bmN0aW9uKGZsYXR0ZW5lZCwgaXRlbSkge1xuICAgIHZhciBtYXBwZWQgPSBtYXBGbihpdGVtKTtcbiAgICByZXR1cm4gZmxhdHRlbmVkLmNvbmNhdChtYXBwZWQpO1xuICB9LCBbXSk7XG59XG5cbi8qKlxuICogR3Vlc3MgdGhlIGJyb3dzZXIuXG4gKiBAcmV0dXJucyB7P3N0cmluZ30gYnJvd3NlciAtIFwiY2hyb21lXCIsIFwiZmlyZWZveFwiLCBcInNhZmFyaVwiLCBvciBudWxsXG4gKi9cbmZ1bmN0aW9uIGd1ZXNzQnJvd3NlcigpIHtcbiAgaWYgKHR5cGVvZiB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gJ2Nocm9tZSc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1velJUQ1BlZXJDb25uZWN0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiAnZmlyZWZveCc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIFJUQ1BlZXJDb25uZWN0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BcHBsZVdlYktpdFxcLyhcXGQrKVxcLi8pKSB7XG4gICAgICByZXR1cm4gJ3NhZmFyaSc7XG4gICAgfVxuICAgIC8vIE5PVEUobXJvYmVydHMpOiBDb3VsZCBiZSBFZGdlLlxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEludGVyY2VwdCBhbiBldmVudCB0aGF0IG1pZ2h0IG90aGVyd2lzZSBiZSBwcm94aWVkIG9uIGFuIEV2ZW50VGFyZ2V0LlxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGludGVyY2VwdEV2ZW50KHRhcmdldCwgdHlwZSkge1xuICB2YXIgY3VycmVudExpc3RlbmVyID0gbnVsbDtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgJ29uJyArIHR5cGUsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGN1cnJlbnRMaXN0ZW5lcjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24obmV3TGlzdGVuZXIpIHtcbiAgICAgIGlmIChjdXJyZW50TGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGN1cnJlbnRMaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgbmV3TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY3VycmVudExpc3RlbmVyID0gbmV3TGlzdGVuZXI7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjdXJyZW50TGlzdGVuZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudExpc3RlbmVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgYSBmdW5jdGlvbiBmb3IgdHVybmluZyBhIFByb21pc2UgaW50byB0aGUga2luZCByZWZlcmVuY2VkIGluIHRoZVxuICogTGVnYWN5IEludGVyZmFjZSBFeHRlbnNpb25zIHNlY3Rpb24gb2YgdGhlIFdlYlJUQyBzcGVjLlxuICogQHBhcmFtIHtQcm9taXNlPCo+fSBwcm9taXNlXG4gKiBAcGFyYW0ge2Z1bmN0aW9uPCo+fSBvblN1Y2Nlc3NcbiAqIEBwYXJhbSB7ZnVuY3Rpb248RXJyb3I+fSBvbkZhaWx1cmVcbiAqIEByZXR1cm5zIHtQcm9taXNlPHVuZGVmaW5lZD59XG4gKi9cbmZ1bmN0aW9uIGxlZ2FjeVByb21pc2UocHJvbWlzZSwgb25TdWNjZXNzLCBvbkZhaWx1cmUpIHtcbiAgaWYgKG9uU3VjY2Vzcykge1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICBvblN1Y2Nlc3MocmVzdWx0KTtcbiAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgb25GYWlsdXJlKGVycm9yKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLyoqXG4gKiBNYWtlIGEgdW5pcXVlIElELlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBtYWtlVVVJRCgpIHtcbiAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24oYykge1xuICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMDtcbiAgICB2YXIgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCk7XG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBGb3IgZWFjaCBwcm9wZXJ0eSBuYW1lIG9uIHRoZSBgc291cmNlYCBwcm90b3R5cGUsIGFkZCBnZXR0ZXJzIGFuZC9vciBzZXR0ZXJzXG4gKiB0byBgd3JhcHBlcmAgdGhhdCBwcm94eSB0byBgdGFyZ2V0YC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2VcbiAqIEBwYXJhbSB7b2JqZWN0fSB3cmFwcGVyXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0XG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICovXG5mdW5jdGlvbiBwcm94eVByb3BlcnRpZXMoc291cmNlLCB3cmFwcGVyLCB0YXJnZXQpIHtcbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uKHByb3BlcnR5TmFtZSkge1xuICAgIHByb3h5UHJvcGVydHkoc291cmNlLCB3cmFwcGVyLCB0YXJnZXQsIHByb3BlcnR5TmFtZSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEZvciB0aGUgcHJvcGVydHkgbmFtZSBvbiB0aGUgYHNvdXJjZWAgcHJvdG90eXBlLCBhZGQgYSBnZXR0ZXIgYW5kL29yIHNldHRlclxuICogdG8gYHdyYXBwZXJgIHRoYXQgcHJveGllcyB0byBgdGFyZ2V0YC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBzb3VyY2VcbiAqIEBwYXJhbSB7b2JqZWN0fSB3cmFwcGVyXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlOYW1lXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICovXG5mdW5jdGlvbiBwcm94eVByb3BlcnR5KHNvdXJjZSwgd3JhcHBlciwgdGFyZ2V0LCBwcm9wZXJ0eU5hbWUpIHtcbiAgaWYgKHByb3BlcnR5TmFtZSBpbiB3cmFwcGVyKSB7XG4gICAgLy8gU2tpcCBhbnkgcHJvcGVydGllcyBhbHJlYWR5IHNldC5cbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAocHJvcGVydHlOYW1lLm1hdGNoKC9eb25bYS16XSskLykpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod3JhcHBlciwgcHJvcGVydHlOYW1lLCB7XG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG5cbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihwcm9wZXJ0eU5hbWUuc2xpY2UoMiksIGZ1bmN0aW9uKCkge1xuICAgICAgd3JhcHBlci5kaXNwYXRjaEV2ZW50LmFwcGx5KHdyYXBwZXIsIGFyZ3VtZW50cyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkod3JhcHBlciwgcHJvcGVydHlOYW1lLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRhcmdldFtwcm9wZXJ0eU5hbWVdO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQHR5cGVkZWYge29iamVjdH0gRGVmZXJyZWRcbiAqIEBwcm9wZXJ0eSB7UHJvbWlzZX0gcHJvbWlzZVxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gcmVqZWN0XG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSByZXNvbHZlXG4gKi9cblxuZXhwb3J0cy5kZWZlciA9IGRlZmVyO1xuZXhwb3J0cy5kZWxlZ2F0ZU1ldGhvZHMgPSBkZWxlZ2F0ZU1ldGhvZHM7XG5leHBvcnRzLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuZXhwb3J0cy5mbGF0TWFwID0gZmxhdE1hcDtcbmV4cG9ydHMuZ3Vlc3NCcm93c2VyID0gZ3Vlc3NCcm93c2VyO1xuZXhwb3J0cy5pbnRlcmNlcHRFdmVudCA9IGludGVyY2VwdEV2ZW50O1xuZXhwb3J0cy5sZWdhY3lQcm9taXNlID0gbGVnYWN5UHJvbWlzZTtcbmV4cG9ydHMubWFrZVVVSUQgPSBtYWtlVVVJRDtcbmV4cG9ydHMucHJveHlQcm9wZXJ0aWVzID0gcHJveHlQcm9wZXJ0aWVzO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3V0aWwvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDIxMFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///210\n");

/***/ }),
/* 211 */
/*!*********************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/sdp/index.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar difference = __webpack_require__(/*! ../ */ 206).difference;\nvar flatMap = __webpack_require__(/*! ../ */ 206).flatMap;\nvar setSimulcastInMediaSection = __webpack_require__(/*! ./simulcast */ 311);\n\nvar ptToFixedBitrateAudioCodecName = {\n  0: 'PCMU',\n  8: 'PCMA'\n};\n\n/**\n * A payload type\n * @typedef {number} PT\n */\n\n/**\n * An {@link AudioCodec} or {@link VideoCodec}\n * @typedef {AudioCodec|VideoCodec} Codec\n */\n\n// NOTE(mmalavalli): This value is derived from the IETF spec\n// for JSEP, and it is used to convert a 'b=TIAS' value in bps\n// to a 'b=AS' value in kbps.\n// Spec: https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-21#section-5.9\nvar RTCP_BITRATE = 16000;\n\n/**\n * Construct a b= line string for the given max bitrate in bps. If the modifier\n * is 'AS', then the max bitrate will be converted to kbps using the formula\n * specified in the IETF spec for JSEP mentioned above.\n * @param {string} modifier - 'AS' | 'TIAS'\n * @param {?number} maxBitrate - Max outgoing bitrate (bps)\n * @returns {?string} - If \"maxBitrate\" is null, then returns null;\n *   otherwise return the constructed b= line string\n */\nfunction createBLine(modifier, maxBitrate) {\n  if (!maxBitrate) {\n    return null;\n  }\n  return '\\r\\nb=' + modifier + ':' + (modifier === 'AS' ? Math.round((maxBitrate + RTCP_BITRATE) / 950) : maxBitrate);\n}\n\n/**\n * Create a Codec Map for the given m= section.\n * @param {string} section - The given m= section\n * @returns {Map<Codec, Array<PT>>}\n */\nfunction createCodecMapForMediaSection(section) {\n  return Array.from(createPtToCodecName(section)).reduce(function (codecMap, pair) {\n    var pt = pair[0];\n    var codecName = pair[1];\n    var pts = codecMap.get(codecName) || [];\n    return codecMap.set(codecName, pts.concat(pt));\n  }, new Map());\n}\n\n/**\n * Create a Map from PTs to codec names for the given m= section.\n * @param {string} mediaSection - The given m= section.\n * @returns {Map<PT, Codec>} ptToCodecName\n */\nfunction createPtToCodecName(mediaSection) {\n  return getPayloadTypesInMediaSection(mediaSection).reduce(function (ptToCodecName, pt) {\n    var rtpmapPattern = new RegExp('a=rtpmap:' + pt + ' ([^/]+)');\n    var matches = mediaSection.match(rtpmapPattern);\n    var codecName = matches ? matches[1].toLowerCase() : ptToFixedBitrateAudioCodecName[pt] ? ptToFixedBitrateAudioCodecName[pt].toLowerCase() : '';\n    return ptToCodecName.set(pt, codecName);\n  }, new Map());\n}\n\n/**\n * Get the m= sections of a particular kind and direction from an sdp.\n * @param {string} sdp - SDP string\n * @param {string} [kind] - Pattern for matching kind\n * @param {string} [direction] - Pattern for matching direction\n * @returns {Array<string>} mediaSections\n */\nfunction getMediaSections(sdp, kind, direction) {\n  return sdp.replace(/\\r\\n\\r\\n$/, '\\r\\n').split('\\r\\nm=').slice(1).map(function (mediaSection) {\n    return 'm=' + mediaSection;\n  }).filter(function (mediaSection) {\n    var kindPattern = new RegExp('m=' + (kind || '.*'), 'gm');\n    var directionPattern = new RegExp('a=' + (direction || '.*'), 'gm');\n    return kindPattern.test(mediaSection) && directionPattern.test(mediaSection);\n  });\n}\n\n/**\n * Get the Codec Payload Types present in the first line of the given m= section\n * @param {string} section - The m= section\n * @returns {Array<PT>} Payload Types\n */\nfunction getPayloadTypesInMediaSection(section) {\n  var mLine = section.split('\\r\\n')[0];\n\n  // In \"m=<kind> <port> <proto> <payload_type_1> <payload_type_2> ... <payload_type_n>\",\n  // the regex matches <port> and the PayloadTypes.\n  var matches = mLine.match(/([0-9]+)/g);\n\n  // This should not happen, but in case there are no PayloadTypes in\n  // the m= line, return an empty array.\n  if (!matches) {\n    return [];\n  }\n\n  // Since only the PayloadTypes are needed, we discard the <port>.\n  return matches.slice(1).map(function (match) {\n    return parseInt(match, 10);\n  });\n}\n\n/**\n * Create the reordered Codec Payload Types based on the preferred Codec Names.\n * @param {Map<Codec, Array<PT>>} codecMap - Codec Map\n * @param {Array<Codec>} preferredCodecs - Preferred Codec Names\n * @returns {Array<PT>} Reordered Payload Types\n */\nfunction getReorderedPayloadTypes(codecMap, preferredCodecs) {\n  preferredCodecs = preferredCodecs.map(function (codecName) {\n    return codecName.toLowerCase();\n  });\n\n  var preferredPayloadTypes = flatMap(preferredCodecs, function (codecName) {\n    return codecMap.get(codecName) || [];\n  });\n\n  var remainingCodecs = difference(Array.from(codecMap.keys()), preferredCodecs);\n  var remainingPayloadTypes = flatMap(remainingCodecs, function (codecName) {\n    return codecMap.get(codecName);\n  });\n\n  return preferredPayloadTypes.concat(remainingPayloadTypes);\n}\n\n/**\n * Set the specified max bitrate in the given m= section.\n * @param {string} modifier - 'AS' | 'TIAS'\n * @param {?number} maxBitrate - Max outgoing bitrate (bps)\n * @param {string} section - m= section string\n * @returns {string} The updated m= section\n */\nfunction setBitrateInMediaSection(modifier, maxBitrate, section) {\n  var bLine = createBLine(modifier, maxBitrate) || '';\n  var bLinePattern = /\\r\\nb=(AS|TIAS):([0-9]+)/;\n  var bLineMatched = section.match(bLinePattern);\n\n  if (!bLineMatched) {\n    return section.replace(/(\\r\\n)?$/, bLine + '$1');\n  }\n\n  var maxBitrateMatched = parseInt(bLineMatched[2], 10);\n  maxBitrate = maxBitrate || Infinity;\n  bLine = createBLine(modifier, Math.min(maxBitrateMatched, maxBitrate));\n  return section.replace(bLinePattern, bLine);\n}\n\n/**\n * Set maximum bitrates to the media sections in a given sdp.\n * @param {string} sdp - sdp string\n * @param {string} modifier - 'AS' | 'TIAS\"\n * @param {?number} maxAudioBitrate - Max outgoing audio bitrate (bps), null\n *   if no limit is to be applied\n * @param {?number} maxVideoBitrate - Max outgoing video bitrate (bps), null\n *   if no limit is to be applied\n * @returns {string} - The updated sdp string\n */\nfunction setBitrateParameters(sdp, modifier, maxAudioBitrate, maxVideoBitrate) {\n  var mediaSections = getMediaSections(sdp);\n  var session = sdp.split('\\r\\nm=')[0];\n  return [session].concat(mediaSections.map(function (section) {\n    // Bitrate parameters should not be applied to m=application sections\n    // or to m=(audio|video) sections that do not receive media.\n    if (!/^m=(audio|video)/.test(section) || !/a=(recvonly|sendrecv)/.test(section)) {\n      return section;\n    }\n    var kind = section.match(/^m=(audio|video)/)[1];\n    var maxBitrate = kind === 'audio' ? maxAudioBitrate : maxVideoBitrate;\n    return setBitrateInMediaSection(modifier, maxBitrate, section);\n  })).join('\\r\\n');\n}\n\n/**\n * Set the given Codec Payload Types in the first line of the given m= section.\n * @param {Array<PT>} payloadTypes - Payload Types\n * @param {string} section - Given m= section\n * @returns {string} - Updated m= section\n */\nfunction setPayloadTypesInMediaSection(payloadTypes, section) {\n  var lines = section.split('\\r\\n');\n  var mLine = lines[0];\n  var otherLines = lines.slice(1);\n  mLine = mLine.replace(/([0-9]+\\s?)+$/, payloadTypes.join(' '));\n  return [mLine].concat(otherLines).join('\\r\\n');\n}\n\n/**\n * Return a new SDP string with the re-ordered codec preferences.\n * @param {string} sdp\n * @param {Array<AudioCodec>} preferredAudioCodecs - If empty, the existing order\n *   of audio codecs is preserved\n * @param {Array<VideoCodecSettings>} preferredVideoCodecs - If empty, the\n *   existing order of video codecs is preserved\n * @returns {string} Updated SDP string\n */\nfunction setCodecPreferences(sdp, preferredAudioCodecs, preferredVideoCodecs) {\n  var mediaSections = getMediaSections(sdp);\n  var session = sdp.split('\\r\\nm=')[0];\n  return [session].concat(mediaSections.map(function (section) {\n    // Codec preferences should not be applied to m=application sections.\n    if (!/^m=(audio|video)/.test(section)) {\n      return section;\n    }\n    var kind = section.match(/^m=(audio|video)/)[1];\n    var codecMap = createCodecMapForMediaSection(section);\n    var preferredCodecs = kind === 'audio' ? preferredAudioCodecs : preferredVideoCodecs.map(function (codec) {\n      return codec.codec;\n    });\n    var payloadTypes = getReorderedPayloadTypes(codecMap, preferredCodecs);\n    var newSection = setPayloadTypesInMediaSection(payloadTypes, section);\n\n    var pcmaPayloadTypes = codecMap.get('pcma') || [];\n    var pcmuPayloadTypes = codecMap.get('pcmu') || [];\n    var fixedBitratePayloadTypes = kind === 'audio' ? new Set(pcmaPayloadTypes.concat(pcmuPayloadTypes)) : new Set();\n\n    return fixedBitratePayloadTypes.has(payloadTypes[0]) ? newSection.replace(/\\r\\nb=(AS|TIAS):([0-9]+)/g, '') : newSection;\n  })).join('\\r\\n');\n}\n\n/**\n * Return a new SDP string with simulcast settings.\n * @param {string} sdp\n * @param {'planb' | 'unified'} sdpFormat\n * @param {Map<Track.ID, TrackAttributes>} trackIdsToAttributes\n * @returns {string} Updated SDP string\n */\nfunction setSimulcast(sdp, sdpFormat, trackIdsToAttributes) {\n  var mediaSections = getMediaSections(sdp);\n  var session = sdp.split('\\r\\nm=')[0];\n  return [session].concat(mediaSections.map(function (section) {\n    section = section.replace(/\\r\\n$/, '');\n    if (!/^m=video/.test(section)) {\n      return section;\n    }\n    var codecMap = createCodecMapForMediaSection(section);\n    var payloadTypes = getPayloadTypesInMediaSection(section);\n    var vp8PayloadTypes = new Set(codecMap.get('vp8') || []);\n\n    var hasVP8PayloadType = payloadTypes.some(function (payloadType) {\n      return vp8PayloadTypes.has(payloadType);\n    });\n    return hasVP8PayloadType ? setSimulcastInMediaSection(section, sdpFormat, trackIdsToAttributes) : section;\n  })).concat('').join('\\r\\n');\n}\n\n/**\n * Codec Payload Type.\n * @typedef {number} PayloadType\n */\n\nexports.createCodecMapForMediaSection = createCodecMapForMediaSection;\nexports.createPtToCodecName = createPtToCodecName;\nexports.getMediaSections = getMediaSections;\nexports.setBitrateParameters = setBitrateParameters;\nexports.setCodecPreferences = setCodecPreferences;\nexports.setSimulcast = setSimulcast;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL3NkcC9pbmRleC5qcz8xNjA0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGlCQUFpQixtQkFBTyxDQUFDLGNBQUs7QUFDOUIsY0FBYyxtQkFBTyxDQUFDLGNBQUs7QUFDM0IsaUNBQWlDLG1CQUFPLENBQUMsc0JBQWE7O0FBRXREO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7O0FBRUE7QUFDQSxPQUFPLGlCQUFpQixLQUFLO0FBQzdCLGFBQWEsc0JBQXNCO0FBQ25DOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxlQUFlO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLGNBQWM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLFdBQVcsc0JBQXNCO0FBQ2pDLFdBQVcsYUFBYTtBQUN4QixhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsUUFBUTtBQUNuQixXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxrQkFBa0I7QUFDN0I7QUFDQSxXQUFXLDBCQUEwQjtBQUNyQztBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsb0JBQW9CO0FBQy9CLFdBQVcsK0JBQStCO0FBQzFDLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIyMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBkaWZmZXJlbmNlID0gcmVxdWlyZSgnLi4vJykuZGlmZmVyZW5jZTtcbnZhciBmbGF0TWFwID0gcmVxdWlyZSgnLi4vJykuZmxhdE1hcDtcbnZhciBzZXRTaW11bGNhc3RJbk1lZGlhU2VjdGlvbiA9IHJlcXVpcmUoJy4vc2ltdWxjYXN0Jyk7XG5cbnZhciBwdFRvRml4ZWRCaXRyYXRlQXVkaW9Db2RlY05hbWUgPSB7XG4gIDA6ICdQQ01VJyxcbiAgODogJ1BDTUEnXG59O1xuXG4vKipcbiAqIEEgcGF5bG9hZCB0eXBlXG4gKiBAdHlwZWRlZiB7bnVtYmVyfSBQVFxuICovXG5cbi8qKlxuICogQW4ge0BsaW5rIEF1ZGlvQ29kZWN9IG9yIHtAbGluayBWaWRlb0NvZGVjfVxuICogQHR5cGVkZWYge0F1ZGlvQ29kZWN8VmlkZW9Db2RlY30gQ29kZWNcbiAqL1xuXG4vLyBOT1RFKG1tYWxhdmFsbGkpOiBUaGlzIHZhbHVlIGlzIGRlcml2ZWQgZnJvbSB0aGUgSUVURiBzcGVjXG4vLyBmb3IgSlNFUCwgYW5kIGl0IGlzIHVzZWQgdG8gY29udmVydCBhICdiPVRJQVMnIHZhbHVlIGluIGJwc1xuLy8gdG8gYSAnYj1BUycgdmFsdWUgaW4ga2Jwcy5cbi8vIFNwZWM6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLXJ0Y3dlYi1qc2VwLTIxI3NlY3Rpb24tNS45XG52YXIgUlRDUF9CSVRSQVRFID0gMTYwMDA7XG5cbi8qKlxuICogQ29uc3RydWN0IGEgYj0gbGluZSBzdHJpbmcgZm9yIHRoZSBnaXZlbiBtYXggYml0cmF0ZSBpbiBicHMuIElmIHRoZSBtb2RpZmllclxuICogaXMgJ0FTJywgdGhlbiB0aGUgbWF4IGJpdHJhdGUgd2lsbCBiZSBjb252ZXJ0ZWQgdG8ga2JwcyB1c2luZyB0aGUgZm9ybXVsYVxuICogc3BlY2lmaWVkIGluIHRoZSBJRVRGIHNwZWMgZm9yIEpTRVAgbWVudGlvbmVkIGFib3ZlLlxuICogQHBhcmFtIHtzdHJpbmd9IG1vZGlmaWVyIC0gJ0FTJyB8ICdUSUFTJ1xuICogQHBhcmFtIHs/bnVtYmVyfSBtYXhCaXRyYXRlIC0gTWF4IG91dGdvaW5nIGJpdHJhdGUgKGJwcylcbiAqIEByZXR1cm5zIHs/c3RyaW5nfSAtIElmIFwibWF4Qml0cmF0ZVwiIGlzIG51bGwsIHRoZW4gcmV0dXJucyBudWxsO1xuICogICBvdGhlcndpc2UgcmV0dXJuIHRoZSBjb25zdHJ1Y3RlZCBiPSBsaW5lIHN0cmluZ1xuICovXG5mdW5jdGlvbiBjcmVhdGVCTGluZShtb2RpZmllciwgbWF4Qml0cmF0ZSkge1xuICBpZiAoIW1heEJpdHJhdGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gJ1xcclxcbmI9JyArIG1vZGlmaWVyICsgJzonICsgKG1vZGlmaWVyID09PSAnQVMnID8gTWF0aC5yb3VuZCgobWF4Qml0cmF0ZSArIFJUQ1BfQklUUkFURSkgLyA5NTApIDogbWF4Qml0cmF0ZSk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgQ29kZWMgTWFwIGZvciB0aGUgZ2l2ZW4gbT0gc2VjdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWN0aW9uIC0gVGhlIGdpdmVuIG09IHNlY3Rpb25cbiAqIEByZXR1cm5zIHtNYXA8Q29kZWMsIEFycmF5PFBUPj59XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNvZGVjTWFwRm9yTWVkaWFTZWN0aW9uKHNlY3Rpb24pIHtcbiAgcmV0dXJuIEFycmF5LmZyb20oY3JlYXRlUHRUb0NvZGVjTmFtZShzZWN0aW9uKSkucmVkdWNlKGZ1bmN0aW9uIChjb2RlY01hcCwgcGFpcikge1xuICAgIHZhciBwdCA9IHBhaXJbMF07XG4gICAgdmFyIGNvZGVjTmFtZSA9IHBhaXJbMV07XG4gICAgdmFyIHB0cyA9IGNvZGVjTWFwLmdldChjb2RlY05hbWUpIHx8IFtdO1xuICAgIHJldHVybiBjb2RlY01hcC5zZXQoY29kZWNOYW1lLCBwdHMuY29uY2F0KHB0KSk7XG4gIH0sIG5ldyBNYXAoKSk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgTWFwIGZyb20gUFRzIHRvIGNvZGVjIG5hbWVzIGZvciB0aGUgZ2l2ZW4gbT0gc2VjdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZWRpYVNlY3Rpb24gLSBUaGUgZ2l2ZW4gbT0gc2VjdGlvbi5cbiAqIEByZXR1cm5zIHtNYXA8UFQsIENvZGVjPn0gcHRUb0NvZGVjTmFtZVxuICovXG5mdW5jdGlvbiBjcmVhdGVQdFRvQ29kZWNOYW1lKG1lZGlhU2VjdGlvbikge1xuICByZXR1cm4gZ2V0UGF5bG9hZFR5cGVzSW5NZWRpYVNlY3Rpb24obWVkaWFTZWN0aW9uKS5yZWR1Y2UoZnVuY3Rpb24gKHB0VG9Db2RlY05hbWUsIHB0KSB7XG4gICAgdmFyIHJ0cG1hcFBhdHRlcm4gPSBuZXcgUmVnRXhwKCdhPXJ0cG1hcDonICsgcHQgKyAnIChbXi9dKyknKTtcbiAgICB2YXIgbWF0Y2hlcyA9IG1lZGlhU2VjdGlvbi5tYXRjaChydHBtYXBQYXR0ZXJuKTtcbiAgICB2YXIgY29kZWNOYW1lID0gbWF0Y2hlcyA/IG1hdGNoZXNbMV0udG9Mb3dlckNhc2UoKSA6IHB0VG9GaXhlZEJpdHJhdGVBdWRpb0NvZGVjTmFtZVtwdF0gPyBwdFRvRml4ZWRCaXRyYXRlQXVkaW9Db2RlY05hbWVbcHRdLnRvTG93ZXJDYXNlKCkgOiAnJztcbiAgICByZXR1cm4gcHRUb0NvZGVjTmFtZS5zZXQocHQsIGNvZGVjTmFtZSk7XG4gIH0sIG5ldyBNYXAoKSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBtPSBzZWN0aW9ucyBvZiBhIHBhcnRpY3VsYXIga2luZCBhbmQgZGlyZWN0aW9uIGZyb20gYW4gc2RwLlxuICogQHBhcmFtIHtzdHJpbmd9IHNkcCAtIFNEUCBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBba2luZF0gLSBQYXR0ZXJuIGZvciBtYXRjaGluZyBraW5kXG4gKiBAcGFyYW0ge3N0cmluZ30gW2RpcmVjdGlvbl0gLSBQYXR0ZXJuIGZvciBtYXRjaGluZyBkaXJlY3Rpb25cbiAqIEByZXR1cm5zIHtBcnJheTxzdHJpbmc+fSBtZWRpYVNlY3Rpb25zXG4gKi9cbmZ1bmN0aW9uIGdldE1lZGlhU2VjdGlvbnMoc2RwLCBraW5kLCBkaXJlY3Rpb24pIHtcbiAgcmV0dXJuIHNkcC5yZXBsYWNlKC9cXHJcXG5cXHJcXG4kLywgJ1xcclxcbicpLnNwbGl0KCdcXHJcXG5tPScpLnNsaWNlKDEpLm1hcChmdW5jdGlvbiAobWVkaWFTZWN0aW9uKSB7XG4gICAgcmV0dXJuICdtPScgKyBtZWRpYVNlY3Rpb247XG4gIH0pLmZpbHRlcihmdW5jdGlvbiAobWVkaWFTZWN0aW9uKSB7XG4gICAgdmFyIGtpbmRQYXR0ZXJuID0gbmV3IFJlZ0V4cCgnbT0nICsgKGtpbmQgfHwgJy4qJyksICdnbScpO1xuICAgIHZhciBkaXJlY3Rpb25QYXR0ZXJuID0gbmV3IFJlZ0V4cCgnYT0nICsgKGRpcmVjdGlvbiB8fCAnLionKSwgJ2dtJyk7XG4gICAgcmV0dXJuIGtpbmRQYXR0ZXJuLnRlc3QobWVkaWFTZWN0aW9uKSAmJiBkaXJlY3Rpb25QYXR0ZXJuLnRlc3QobWVkaWFTZWN0aW9uKTtcbiAgfSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBDb2RlYyBQYXlsb2FkIFR5cGVzIHByZXNlbnQgaW4gdGhlIGZpcnN0IGxpbmUgb2YgdGhlIGdpdmVuIG09IHNlY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWN0aW9uIC0gVGhlIG09IHNlY3Rpb25cbiAqIEByZXR1cm5zIHtBcnJheTxQVD59IFBheWxvYWQgVHlwZXNcbiAqL1xuZnVuY3Rpb24gZ2V0UGF5bG9hZFR5cGVzSW5NZWRpYVNlY3Rpb24oc2VjdGlvbikge1xuICB2YXIgbUxpbmUgPSBzZWN0aW9uLnNwbGl0KCdcXHJcXG4nKVswXTtcblxuICAvLyBJbiBcIm09PGtpbmQ+IDxwb3J0PiA8cHJvdG8+IDxwYXlsb2FkX3R5cGVfMT4gPHBheWxvYWRfdHlwZV8yPiAuLi4gPHBheWxvYWRfdHlwZV9uPlwiLFxuICAvLyB0aGUgcmVnZXggbWF0Y2hlcyA8cG9ydD4gYW5kIHRoZSBQYXlsb2FkVHlwZXMuXG4gIHZhciBtYXRjaGVzID0gbUxpbmUubWF0Y2goLyhbMC05XSspL2cpO1xuXG4gIC8vIFRoaXMgc2hvdWxkIG5vdCBoYXBwZW4sIGJ1dCBpbiBjYXNlIHRoZXJlIGFyZSBubyBQYXlsb2FkVHlwZXMgaW5cbiAgLy8gdGhlIG09IGxpbmUsIHJldHVybiBhbiBlbXB0eSBhcnJheS5cbiAgaWYgKCFtYXRjaGVzKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgLy8gU2luY2Ugb25seSB0aGUgUGF5bG9hZFR5cGVzIGFyZSBuZWVkZWQsIHdlIGRpc2NhcmQgdGhlIDxwb3J0Pi5cbiAgcmV0dXJuIG1hdGNoZXMuc2xpY2UoMSkubWFwKGZ1bmN0aW9uIChtYXRjaCkge1xuICAgIHJldHVybiBwYXJzZUludChtYXRjaCwgMTApO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgdGhlIHJlb3JkZXJlZCBDb2RlYyBQYXlsb2FkIFR5cGVzIGJhc2VkIG9uIHRoZSBwcmVmZXJyZWQgQ29kZWMgTmFtZXMuXG4gKiBAcGFyYW0ge01hcDxDb2RlYywgQXJyYXk8UFQ+Pn0gY29kZWNNYXAgLSBDb2RlYyBNYXBcbiAqIEBwYXJhbSB7QXJyYXk8Q29kZWM+fSBwcmVmZXJyZWRDb2RlY3MgLSBQcmVmZXJyZWQgQ29kZWMgTmFtZXNcbiAqIEByZXR1cm5zIHtBcnJheTxQVD59IFJlb3JkZXJlZCBQYXlsb2FkIFR5cGVzXG4gKi9cbmZ1bmN0aW9uIGdldFJlb3JkZXJlZFBheWxvYWRUeXBlcyhjb2RlY01hcCwgcHJlZmVycmVkQ29kZWNzKSB7XG4gIHByZWZlcnJlZENvZGVjcyA9IHByZWZlcnJlZENvZGVjcy5tYXAoZnVuY3Rpb24gKGNvZGVjTmFtZSkge1xuICAgIHJldHVybiBjb2RlY05hbWUudG9Mb3dlckNhc2UoKTtcbiAgfSk7XG5cbiAgdmFyIHByZWZlcnJlZFBheWxvYWRUeXBlcyA9IGZsYXRNYXAocHJlZmVycmVkQ29kZWNzLCBmdW5jdGlvbiAoY29kZWNOYW1lKSB7XG4gICAgcmV0dXJuIGNvZGVjTWFwLmdldChjb2RlY05hbWUpIHx8IFtdO1xuICB9KTtcblxuICB2YXIgcmVtYWluaW5nQ29kZWNzID0gZGlmZmVyZW5jZShBcnJheS5mcm9tKGNvZGVjTWFwLmtleXMoKSksIHByZWZlcnJlZENvZGVjcyk7XG4gIHZhciByZW1haW5pbmdQYXlsb2FkVHlwZXMgPSBmbGF0TWFwKHJlbWFpbmluZ0NvZGVjcywgZnVuY3Rpb24gKGNvZGVjTmFtZSkge1xuICAgIHJldHVybiBjb2RlY01hcC5nZXQoY29kZWNOYW1lKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHByZWZlcnJlZFBheWxvYWRUeXBlcy5jb25jYXQocmVtYWluaW5nUGF5bG9hZFR5cGVzKTtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIHNwZWNpZmllZCBtYXggYml0cmF0ZSBpbiB0aGUgZ2l2ZW4gbT0gc2VjdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2RpZmllciAtICdBUycgfCAnVElBUydcbiAqIEBwYXJhbSB7P251bWJlcn0gbWF4Qml0cmF0ZSAtIE1heCBvdXRnb2luZyBiaXRyYXRlIChicHMpXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VjdGlvbiAtIG09IHNlY3Rpb24gc3RyaW5nXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgdXBkYXRlZCBtPSBzZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIHNldEJpdHJhdGVJbk1lZGlhU2VjdGlvbihtb2RpZmllciwgbWF4Qml0cmF0ZSwgc2VjdGlvbikge1xuICB2YXIgYkxpbmUgPSBjcmVhdGVCTGluZShtb2RpZmllciwgbWF4Qml0cmF0ZSkgfHwgJyc7XG4gIHZhciBiTGluZVBhdHRlcm4gPSAvXFxyXFxuYj0oQVN8VElBUyk6KFswLTldKykvO1xuICB2YXIgYkxpbmVNYXRjaGVkID0gc2VjdGlvbi5tYXRjaChiTGluZVBhdHRlcm4pO1xuXG4gIGlmICghYkxpbmVNYXRjaGVkKSB7XG4gICAgcmV0dXJuIHNlY3Rpb24ucmVwbGFjZSgvKFxcclxcbik/JC8sIGJMaW5lICsgJyQxJyk7XG4gIH1cblxuICB2YXIgbWF4Qml0cmF0ZU1hdGNoZWQgPSBwYXJzZUludChiTGluZU1hdGNoZWRbMl0sIDEwKTtcbiAgbWF4Qml0cmF0ZSA9IG1heEJpdHJhdGUgfHwgSW5maW5pdHk7XG4gIGJMaW5lID0gY3JlYXRlQkxpbmUobW9kaWZpZXIsIE1hdGgubWluKG1heEJpdHJhdGVNYXRjaGVkLCBtYXhCaXRyYXRlKSk7XG4gIHJldHVybiBzZWN0aW9uLnJlcGxhY2UoYkxpbmVQYXR0ZXJuLCBiTGluZSk7XG59XG5cbi8qKlxuICogU2V0IG1heGltdW0gYml0cmF0ZXMgdG8gdGhlIG1lZGlhIHNlY3Rpb25zIGluIGEgZ2l2ZW4gc2RwLlxuICogQHBhcmFtIHtzdHJpbmd9IHNkcCAtIHNkcCBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2RpZmllciAtICdBUycgfCAnVElBU1wiXG4gKiBAcGFyYW0gez9udW1iZXJ9IG1heEF1ZGlvQml0cmF0ZSAtIE1heCBvdXRnb2luZyBhdWRpbyBiaXRyYXRlIChicHMpLCBudWxsXG4gKiAgIGlmIG5vIGxpbWl0IGlzIHRvIGJlIGFwcGxpZWRcbiAqIEBwYXJhbSB7P251bWJlcn0gbWF4VmlkZW9CaXRyYXRlIC0gTWF4IG91dGdvaW5nIHZpZGVvIGJpdHJhdGUgKGJwcyksIG51bGxcbiAqICAgaWYgbm8gbGltaXQgaXMgdG8gYmUgYXBwbGllZFxuICogQHJldHVybnMge3N0cmluZ30gLSBUaGUgdXBkYXRlZCBzZHAgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIHNldEJpdHJhdGVQYXJhbWV0ZXJzKHNkcCwgbW9kaWZpZXIsIG1heEF1ZGlvQml0cmF0ZSwgbWF4VmlkZW9CaXRyYXRlKSB7XG4gIHZhciBtZWRpYVNlY3Rpb25zID0gZ2V0TWVkaWFTZWN0aW9ucyhzZHApO1xuICB2YXIgc2Vzc2lvbiA9IHNkcC5zcGxpdCgnXFxyXFxubT0nKVswXTtcbiAgcmV0dXJuIFtzZXNzaW9uXS5jb25jYXQobWVkaWFTZWN0aW9ucy5tYXAoZnVuY3Rpb24gKHNlY3Rpb24pIHtcbiAgICAvLyBCaXRyYXRlIHBhcmFtZXRlcnMgc2hvdWxkIG5vdCBiZSBhcHBsaWVkIHRvIG09YXBwbGljYXRpb24gc2VjdGlvbnNcbiAgICAvLyBvciB0byBtPShhdWRpb3x2aWRlbykgc2VjdGlvbnMgdGhhdCBkbyBub3QgcmVjZWl2ZSBtZWRpYS5cbiAgICBpZiAoIS9ebT0oYXVkaW98dmlkZW8pLy50ZXN0KHNlY3Rpb24pIHx8ICEvYT0ocmVjdm9ubHl8c2VuZHJlY3YpLy50ZXN0KHNlY3Rpb24pKSB7XG4gICAgICByZXR1cm4gc2VjdGlvbjtcbiAgICB9XG4gICAgdmFyIGtpbmQgPSBzZWN0aW9uLm1hdGNoKC9ebT0oYXVkaW98dmlkZW8pLylbMV07XG4gICAgdmFyIG1heEJpdHJhdGUgPSBraW5kID09PSAnYXVkaW8nID8gbWF4QXVkaW9CaXRyYXRlIDogbWF4VmlkZW9CaXRyYXRlO1xuICAgIHJldHVybiBzZXRCaXRyYXRlSW5NZWRpYVNlY3Rpb24obW9kaWZpZXIsIG1heEJpdHJhdGUsIHNlY3Rpb24pO1xuICB9KSkuam9pbignXFxyXFxuJyk7XG59XG5cbi8qKlxuICogU2V0IHRoZSBnaXZlbiBDb2RlYyBQYXlsb2FkIFR5cGVzIGluIHRoZSBmaXJzdCBsaW5lIG9mIHRoZSBnaXZlbiBtPSBzZWN0aW9uLlxuICogQHBhcmFtIHtBcnJheTxQVD59IHBheWxvYWRUeXBlcyAtIFBheWxvYWQgVHlwZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWN0aW9uIC0gR2l2ZW4gbT0gc2VjdGlvblxuICogQHJldHVybnMge3N0cmluZ30gLSBVcGRhdGVkIG09IHNlY3Rpb25cbiAqL1xuZnVuY3Rpb24gc2V0UGF5bG9hZFR5cGVzSW5NZWRpYVNlY3Rpb24ocGF5bG9hZFR5cGVzLCBzZWN0aW9uKSB7XG4gIHZhciBsaW5lcyA9IHNlY3Rpb24uc3BsaXQoJ1xcclxcbicpO1xuICB2YXIgbUxpbmUgPSBsaW5lc1swXTtcbiAgdmFyIG90aGVyTGluZXMgPSBsaW5lcy5zbGljZSgxKTtcbiAgbUxpbmUgPSBtTGluZS5yZXBsYWNlKC8oWzAtOV0rXFxzPykrJC8sIHBheWxvYWRUeXBlcy5qb2luKCcgJykpO1xuICByZXR1cm4gW21MaW5lXS5jb25jYXQob3RoZXJMaW5lcykuam9pbignXFxyXFxuJyk7XG59XG5cbi8qKlxuICogUmV0dXJuIGEgbmV3IFNEUCBzdHJpbmcgd2l0aCB0aGUgcmUtb3JkZXJlZCBjb2RlYyBwcmVmZXJlbmNlcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZHBcbiAqIEBwYXJhbSB7QXJyYXk8QXVkaW9Db2RlYz59IHByZWZlcnJlZEF1ZGlvQ29kZWNzIC0gSWYgZW1wdHksIHRoZSBleGlzdGluZyBvcmRlclxuICogICBvZiBhdWRpbyBjb2RlY3MgaXMgcHJlc2VydmVkXG4gKiBAcGFyYW0ge0FycmF5PFZpZGVvQ29kZWNTZXR0aW5ncz59IHByZWZlcnJlZFZpZGVvQ29kZWNzIC0gSWYgZW1wdHksIHRoZVxuICogICBleGlzdGluZyBvcmRlciBvZiB2aWRlbyBjb2RlY3MgaXMgcHJlc2VydmVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBVcGRhdGVkIFNEUCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gc2V0Q29kZWNQcmVmZXJlbmNlcyhzZHAsIHByZWZlcnJlZEF1ZGlvQ29kZWNzLCBwcmVmZXJyZWRWaWRlb0NvZGVjcykge1xuICB2YXIgbWVkaWFTZWN0aW9ucyA9IGdldE1lZGlhU2VjdGlvbnMoc2RwKTtcbiAgdmFyIHNlc3Npb24gPSBzZHAuc3BsaXQoJ1xcclxcbm09JylbMF07XG4gIHJldHVybiBbc2Vzc2lvbl0uY29uY2F0KG1lZGlhU2VjdGlvbnMubWFwKGZ1bmN0aW9uIChzZWN0aW9uKSB7XG4gICAgLy8gQ29kZWMgcHJlZmVyZW5jZXMgc2hvdWxkIG5vdCBiZSBhcHBsaWVkIHRvIG09YXBwbGljYXRpb24gc2VjdGlvbnMuXG4gICAgaWYgKCEvXm09KGF1ZGlvfHZpZGVvKS8udGVzdChzZWN0aW9uKSkge1xuICAgICAgcmV0dXJuIHNlY3Rpb247XG4gICAgfVxuICAgIHZhciBraW5kID0gc2VjdGlvbi5tYXRjaCgvXm09KGF1ZGlvfHZpZGVvKS8pWzFdO1xuICAgIHZhciBjb2RlY01hcCA9IGNyZWF0ZUNvZGVjTWFwRm9yTWVkaWFTZWN0aW9uKHNlY3Rpb24pO1xuICAgIHZhciBwcmVmZXJyZWRDb2RlY3MgPSBraW5kID09PSAnYXVkaW8nID8gcHJlZmVycmVkQXVkaW9Db2RlY3MgOiBwcmVmZXJyZWRWaWRlb0NvZGVjcy5tYXAoZnVuY3Rpb24gKGNvZGVjKSB7XG4gICAgICByZXR1cm4gY29kZWMuY29kZWM7XG4gICAgfSk7XG4gICAgdmFyIHBheWxvYWRUeXBlcyA9IGdldFJlb3JkZXJlZFBheWxvYWRUeXBlcyhjb2RlY01hcCwgcHJlZmVycmVkQ29kZWNzKTtcbiAgICB2YXIgbmV3U2VjdGlvbiA9IHNldFBheWxvYWRUeXBlc0luTWVkaWFTZWN0aW9uKHBheWxvYWRUeXBlcywgc2VjdGlvbik7XG5cbiAgICB2YXIgcGNtYVBheWxvYWRUeXBlcyA9IGNvZGVjTWFwLmdldCgncGNtYScpIHx8IFtdO1xuICAgIHZhciBwY211UGF5bG9hZFR5cGVzID0gY29kZWNNYXAuZ2V0KCdwY211JykgfHwgW107XG4gICAgdmFyIGZpeGVkQml0cmF0ZVBheWxvYWRUeXBlcyA9IGtpbmQgPT09ICdhdWRpbycgPyBuZXcgU2V0KHBjbWFQYXlsb2FkVHlwZXMuY29uY2F0KHBjbXVQYXlsb2FkVHlwZXMpKSA6IG5ldyBTZXQoKTtcblxuICAgIHJldHVybiBmaXhlZEJpdHJhdGVQYXlsb2FkVHlwZXMuaGFzKHBheWxvYWRUeXBlc1swXSkgPyBuZXdTZWN0aW9uLnJlcGxhY2UoL1xcclxcbmI9KEFTfFRJQVMpOihbMC05XSspL2csICcnKSA6IG5ld1NlY3Rpb247XG4gIH0pKS5qb2luKCdcXHJcXG4nKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBuZXcgU0RQIHN0cmluZyB3aXRoIHNpbXVsY2FzdCBzZXR0aW5ncy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZHBcbiAqIEBwYXJhbSB7J3BsYW5iJyB8ICd1bmlmaWVkJ30gc2RwRm9ybWF0XG4gKiBAcGFyYW0ge01hcDxUcmFjay5JRCwgVHJhY2tBdHRyaWJ1dGVzPn0gdHJhY2tJZHNUb0F0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFVwZGF0ZWQgU0RQIHN0cmluZ1xuICovXG5mdW5jdGlvbiBzZXRTaW11bGNhc3Qoc2RwLCBzZHBGb3JtYXQsIHRyYWNrSWRzVG9BdHRyaWJ1dGVzKSB7XG4gIHZhciBtZWRpYVNlY3Rpb25zID0gZ2V0TWVkaWFTZWN0aW9ucyhzZHApO1xuICB2YXIgc2Vzc2lvbiA9IHNkcC5zcGxpdCgnXFxyXFxubT0nKVswXTtcbiAgcmV0dXJuIFtzZXNzaW9uXS5jb25jYXQobWVkaWFTZWN0aW9ucy5tYXAoZnVuY3Rpb24gKHNlY3Rpb24pIHtcbiAgICBzZWN0aW9uID0gc2VjdGlvbi5yZXBsYWNlKC9cXHJcXG4kLywgJycpO1xuICAgIGlmICghL15tPXZpZGVvLy50ZXN0KHNlY3Rpb24pKSB7XG4gICAgICByZXR1cm4gc2VjdGlvbjtcbiAgICB9XG4gICAgdmFyIGNvZGVjTWFwID0gY3JlYXRlQ29kZWNNYXBGb3JNZWRpYVNlY3Rpb24oc2VjdGlvbik7XG4gICAgdmFyIHBheWxvYWRUeXBlcyA9IGdldFBheWxvYWRUeXBlc0luTWVkaWFTZWN0aW9uKHNlY3Rpb24pO1xuICAgIHZhciB2cDhQYXlsb2FkVHlwZXMgPSBuZXcgU2V0KGNvZGVjTWFwLmdldCgndnA4JykgfHwgW10pO1xuXG4gICAgdmFyIGhhc1ZQOFBheWxvYWRUeXBlID0gcGF5bG9hZFR5cGVzLnNvbWUoZnVuY3Rpb24gKHBheWxvYWRUeXBlKSB7XG4gICAgICByZXR1cm4gdnA4UGF5bG9hZFR5cGVzLmhhcyhwYXlsb2FkVHlwZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGhhc1ZQOFBheWxvYWRUeXBlID8gc2V0U2ltdWxjYXN0SW5NZWRpYVNlY3Rpb24oc2VjdGlvbiwgc2RwRm9ybWF0LCB0cmFja0lkc1RvQXR0cmlidXRlcykgOiBzZWN0aW9uO1xuICB9KSkuY29uY2F0KCcnKS5qb2luKCdcXHJcXG4nKTtcbn1cblxuLyoqXG4gKiBDb2RlYyBQYXlsb2FkIFR5cGUuXG4gKiBAdHlwZWRlZiB7bnVtYmVyfSBQYXlsb2FkVHlwZVxuICovXG5cbmV4cG9ydHMuY3JlYXRlQ29kZWNNYXBGb3JNZWRpYVNlY3Rpb24gPSBjcmVhdGVDb2RlY01hcEZvck1lZGlhU2VjdGlvbjtcbmV4cG9ydHMuY3JlYXRlUHRUb0NvZGVjTmFtZSA9IGNyZWF0ZVB0VG9Db2RlY05hbWU7XG5leHBvcnRzLmdldE1lZGlhU2VjdGlvbnMgPSBnZXRNZWRpYVNlY3Rpb25zO1xuZXhwb3J0cy5zZXRCaXRyYXRlUGFyYW1ldGVycyA9IHNldEJpdHJhdGVQYXJhbWV0ZXJzO1xuZXhwb3J0cy5zZXRDb2RlY1ByZWZlcmVuY2VzID0gc2V0Q29kZWNQcmVmZXJlbmNlcztcbmV4cG9ydHMuc2V0U2ltdWxjYXN0ID0gc2V0U2ltdWxjYXN0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvdXRpbC9zZHAvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDIxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///211\n");

/***/ }),
/* 212 */
/*!**************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/index.js ***!
  \**************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar WebRTC = {};\n\nObject.defineProperties(WebRTC, {\n  getStats: {\n    enumerable: true,\n    value: __webpack_require__(/*! ./getstats */ 264)\n  },\n  getUserMedia: {\n    enumerable: true,\n    value: __webpack_require__(/*! ./getusermedia */ 265)\n  },\n  MediaStream: {\n    enumerable: true,\n    value: __webpack_require__(/*! ./mediastream */ 230)\n  },\n  MediaStreamTrack: {\n    enumerable: true,\n    value: __webpack_require__(/*! ./mediastreamtrack */ 266)\n  },\n  RTCIceCandidate: {\n    enumerable: true,\n    value: __webpack_require__(/*! ./rtcicecandidate */ 267)\n  },\n  RTCPeerConnection: {\n    enumerable: true,\n    value: __webpack_require__(/*! ./rtcpeerconnection */ 268)\n  },\n  RTCSessionDescription: {\n    enumerable: true,\n    value: __webpack_require__(/*! ./rtcsessiondescription */ 275)\n  },\n  version: {\n    enumerable: true,\n    value: __webpack_require__(/*! ../package.json */ 276).version\n  }\n});\n\nmodule.exports = WebRTC;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL2luZGV4LmpzP2I2NGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBTyxDQUFDLHFCQUFZO0FBQy9CLEdBQUc7QUFDSDtBQUNBO0FBQ0EsV0FBVyxtQkFBTyxDQUFDLHlCQUFnQjtBQUNuQyxHQUFHO0FBQ0g7QUFDQTtBQUNBLFdBQVcsbUJBQU8sQ0FBQyx3QkFBZTtBQUNsQyxHQUFHO0FBQ0g7QUFDQTtBQUNBLFdBQVcsbUJBQU8sQ0FBQyw2QkFBb0I7QUFDdkMsR0FBRztBQUNIO0FBQ0E7QUFDQSxXQUFXLG1CQUFPLENBQUMsNEJBQW1CO0FBQ3RDLEdBQUc7QUFDSDtBQUNBO0FBQ0EsV0FBVyxtQkFBTyxDQUFDLDhCQUFxQjtBQUN4QyxHQUFHO0FBQ0g7QUFDQTtBQUNBLFdBQVcsbUJBQU8sQ0FBQyxrQ0FBeUI7QUFDNUMsR0FBRztBQUNIO0FBQ0E7QUFDQSxXQUFXLG1CQUFPLENBQUMsMEJBQWlCO0FBQ3BDO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIyMTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBXZWJSVEMgPSB7fTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoV2ViUlRDLCB7XG4gIGdldFN0YXRzOiB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogcmVxdWlyZSgnLi9nZXRzdGF0cycpXG4gIH0sXG4gIGdldFVzZXJNZWRpYToge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgdmFsdWU6IHJlcXVpcmUoJy4vZ2V0dXNlcm1lZGlhJylcbiAgfSxcbiAgTWVkaWFTdHJlYW06IHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiByZXF1aXJlKCcuL21lZGlhc3RyZWFtJylcbiAgfSxcbiAgTWVkaWFTdHJlYW1UcmFjazoge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgdmFsdWU6IHJlcXVpcmUoJy4vbWVkaWFzdHJlYW10cmFjaycpXG4gIH0sXG4gIFJUQ0ljZUNhbmRpZGF0ZToge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgdmFsdWU6IHJlcXVpcmUoJy4vcnRjaWNlY2FuZGlkYXRlJylcbiAgfSxcbiAgUlRDUGVlckNvbm5lY3Rpb246IHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIHZhbHVlOiByZXF1aXJlKCcuL3J0Y3BlZXJjb25uZWN0aW9uJylcbiAgfSxcbiAgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uOiB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogcmVxdWlyZSgnLi9ydGNzZXNzaW9uZGVzY3JpcHRpb24nKVxuICB9LFxuICB2ZXJzaW9uOiB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogcmVxdWlyZSgnLi4vcGFja2FnZS5qc29uJykudmVyc2lvblxuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBXZWJSVEM7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AdHdpbGlvL3dlYnJ0Yy9saWIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDIxMlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///212\n");

/***/ }),
/* 213 */
/*!***********************************!*\
  !*** ./node_modules/util/util.js ***!
  \***********************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global, process) {// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = __webpack_require__(/*! ./support/isBuffer */ 271);\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = __webpack_require__(/*! inherits */ 272);\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../webpack/buildin/global.js */ 141), __webpack_require__(/*! ./../node-libs-browser/node_modules/process/browser.js */ 270)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXRpbC91dGlsLmpzPzM4YzIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsdUJBQXVCLFNBQVM7QUFDaEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNENBQTRDLEtBQUs7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxtQ0FBbUMsT0FBTztBQUMxQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsbUJBQU8sQ0FBQyw2QkFBb0I7O0FBRS9DO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxtQkFBbUIsbUJBQU8sQ0FBQyxtQkFBVTs7QUFFckM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiIyMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIGZvcm1hdFJlZ0V4cCA9IC8lW3NkaiVdL2c7XG5leHBvcnRzLmZvcm1hdCA9IGZ1bmN0aW9uKGYpIHtcbiAgaWYgKCFpc1N0cmluZyhmKSkge1xuICAgIHZhciBvYmplY3RzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0cy5qb2luKCcgJyk7XG4gIH1cblxuICB2YXIgaSA9IDE7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gIHZhciBzdHIgPSBTdHJpbmcoZikucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uKHgpIHtcbiAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJztcbiAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4O1xuICAgIHN3aXRjaCAoeCkge1xuICAgICAgY2FzZSAnJXMnOiByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclZCc6IHJldHVybiBOdW1iZXIoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVqJzpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSk7XG4gIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7XG4gICAgaWYgKGlzTnVsbCh4KSB8fCAhaXNPYmplY3QoeCkpIHtcbiAgICAgIHN0ciArPSAnICcgKyB4O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgKz0gJyAnICsgaW5zcGVjdCh4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cblxuLy8gTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbi8vIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4vLyBJZiAtLW5vLWRlcHJlY2F0aW9uIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuZXhwb3J0cy5kZXByZWNhdGUgPSBmdW5jdGlvbihmbiwgbXNnKSB7XG4gIC8vIEFsbG93IGZvciBkZXByZWNhdGluZyB0aGluZ3MgaW4gdGhlIHByb2Nlc3Mgb2Ygc3RhcnRpbmcgdXAuXG4gIGlmIChpc1VuZGVmaW5lZChnbG9iYWwucHJvY2VzcykpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXhwb3J0cy5kZXByZWNhdGUoZm4sIG1zZykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKHByb2Nlc3Mubm9EZXByZWNhdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKHByb2Nlc3MudGhyb3dEZXByZWNhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUudHJhY2UobXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59O1xuXG5cbnZhciBkZWJ1Z3MgPSB7fTtcbnZhciBkZWJ1Z0Vudmlyb247XG5leHBvcnRzLmRlYnVnbG9nID0gZnVuY3Rpb24oc2V0KSB7XG4gIGlmIChpc1VuZGVmaW5lZChkZWJ1Z0Vudmlyb24pKVxuICAgIGRlYnVnRW52aXJvbiA9IHByb2Nlc3MuZW52Lk5PREVfREVCVUcgfHwgJyc7XG4gIHNldCA9IHNldC50b1VwcGVyQ2FzZSgpO1xuICBpZiAoIWRlYnVnc1tzZXRdKSB7XG4gICAgaWYgKG5ldyBSZWdFeHAoJ1xcXFxiJyArIHNldCArICdcXFxcYicsICdpJykudGVzdChkZWJ1Z0Vudmlyb24pKSB7XG4gICAgICB2YXIgcGlkID0gcHJvY2Vzcy5waWQ7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbXNnID0gZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignJXMgJWQ6ICVzJywgc2V0LCBwaWQsIG1zZyk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge307XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWJ1Z3Nbc2V0XTtcbn07XG5cblxuLyoqXG4gKiBFY2hvcyB0aGUgdmFsdWUgb2YgYSB2YWx1ZS4gVHJ5cyB0byBwcmludCB0aGUgdmFsdWUgb3V0XG4gKiBpbiB0aGUgYmVzdCB3YXkgcG9zc2libGUgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gcHJpbnQgb3V0LlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHMgT3B0aW9uYWwgb3B0aW9ucyBvYmplY3QgdGhhdCBhbHRlcnMgdGhlIG91dHB1dC5cbiAqL1xuLyogbGVnYWN5OiBvYmosIHNob3dIaWRkZW4sIGRlcHRoLCBjb2xvcnMqL1xuZnVuY3Rpb24gaW5zcGVjdChvYmosIG9wdHMpIHtcbiAgLy8gZGVmYXVsdCBvcHRpb25zXG4gIHZhciBjdHggPSB7XG4gICAgc2VlbjogW10sXG4gICAgc3R5bGl6ZTogc3R5bGl6ZU5vQ29sb3JcbiAgfTtcbiAgLy8gbGVnYWN5Li4uXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDMpIGN0eC5kZXB0aCA9IGFyZ3VtZW50c1syXTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gNCkgY3R4LmNvbG9ycyA9IGFyZ3VtZW50c1szXTtcbiAgaWYgKGlzQm9vbGVhbihvcHRzKSkge1xuICAgIC8vIGxlZ2FjeS4uLlxuICAgIGN0eC5zaG93SGlkZGVuID0gb3B0cztcbiAgfSBlbHNlIGlmIChvcHRzKSB7XG4gICAgLy8gZ290IGFuIFwib3B0aW9uc1wiIG9iamVjdFxuICAgIGV4cG9ydHMuX2V4dGVuZChjdHgsIG9wdHMpO1xuICB9XG4gIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5zaG93SGlkZGVuKSkgY3R4LnNob3dIaWRkZW4gPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5kZXB0aCkpIGN0eC5kZXB0aCA9IDI7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY29sb3JzKSkgY3R4LmNvbG9ycyA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmN1c3RvbUluc3BlY3QpKSBjdHguY3VzdG9tSW5zcGVjdCA9IHRydWU7XG4gIGlmIChjdHguY29sb3JzKSBjdHguc3R5bGl6ZSA9IHN0eWxpemVXaXRoQ29sb3I7XG4gIHJldHVybiBmb3JtYXRWYWx1ZShjdHgsIG9iaiwgY3R4LmRlcHRoKTtcbn1cbmV4cG9ydHMuaW5zcGVjdCA9IGluc3BlY3Q7XG5cblxuLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BTlNJX2VzY2FwZV9jb2RlI2dyYXBoaWNzXG5pbnNwZWN0LmNvbG9ycyA9IHtcbiAgJ2JvbGQnIDogWzEsIDIyXSxcbiAgJ2l0YWxpYycgOiBbMywgMjNdLFxuICAndW5kZXJsaW5lJyA6IFs0LCAyNF0sXG4gICdpbnZlcnNlJyA6IFs3LCAyN10sXG4gICd3aGl0ZScgOiBbMzcsIDM5XSxcbiAgJ2dyZXknIDogWzkwLCAzOV0sXG4gICdibGFjaycgOiBbMzAsIDM5XSxcbiAgJ2JsdWUnIDogWzM0LCAzOV0sXG4gICdjeWFuJyA6IFszNiwgMzldLFxuICAnZ3JlZW4nIDogWzMyLCAzOV0sXG4gICdtYWdlbnRhJyA6IFszNSwgMzldLFxuICAncmVkJyA6IFszMSwgMzldLFxuICAneWVsbG93JyA6IFszMywgMzldXG59O1xuXG4vLyBEb24ndCB1c2UgJ2JsdWUnIG5vdCB2aXNpYmxlIG9uIGNtZC5leGVcbmluc3BlY3Quc3R5bGVzID0ge1xuICAnc3BlY2lhbCc6ICdjeWFuJyxcbiAgJ251bWJlcic6ICd5ZWxsb3cnLFxuICAnYm9vbGVhbic6ICd5ZWxsb3cnLFxuICAndW5kZWZpbmVkJzogJ2dyZXknLFxuICAnbnVsbCc6ICdib2xkJyxcbiAgJ3N0cmluZyc6ICdncmVlbicsXG4gICdkYXRlJzogJ21hZ2VudGEnLFxuICAvLyBcIm5hbWVcIjogaW50ZW50aW9uYWxseSBub3Qgc3R5bGluZ1xuICAncmVnZXhwJzogJ3JlZCdcbn07XG5cblxuZnVuY3Rpb24gc3R5bGl6ZVdpdGhDb2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICB2YXIgc3R5bGUgPSBpbnNwZWN0LnN0eWxlc1tzdHlsZVR5cGVdO1xuXG4gIGlmIChzdHlsZSkge1xuICAgIHJldHVybiAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzBdICsgJ20nICsgc3RyICtcbiAgICAgICAgICAgJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVsxXSArICdtJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cblxuZnVuY3Rpb24gc3R5bGl6ZU5vQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgcmV0dXJuIHN0cjtcbn1cblxuXG5mdW5jdGlvbiBhcnJheVRvSGFzaChhcnJheSkge1xuICB2YXIgaGFzaCA9IHt9O1xuXG4gIGFycmF5LmZvckVhY2goZnVuY3Rpb24odmFsLCBpZHgpIHtcbiAgICBoYXNoW3ZhbF0gPSB0cnVlO1xuICB9KTtcblxuICByZXR1cm4gaGFzaDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRWYWx1ZShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMpIHtcbiAgLy8gUHJvdmlkZSBhIGhvb2sgZm9yIHVzZXItc3BlY2lmaWVkIGluc3BlY3QgZnVuY3Rpb25zLlxuICAvLyBDaGVjayB0aGF0IHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGFuIGluc3BlY3QgZnVuY3Rpb24gb24gaXRcbiAgaWYgKGN0eC5jdXN0b21JbnNwZWN0ICYmXG4gICAgICB2YWx1ZSAmJlxuICAgICAgaXNGdW5jdGlvbih2YWx1ZS5pbnNwZWN0KSAmJlxuICAgICAgLy8gRmlsdGVyIG91dCB0aGUgdXRpbCBtb2R1bGUsIGl0J3MgaW5zcGVjdCBmdW5jdGlvbiBpcyBzcGVjaWFsXG4gICAgICB2YWx1ZS5pbnNwZWN0ICE9PSBleHBvcnRzLmluc3BlY3QgJiZcbiAgICAgIC8vIEFsc28gZmlsdGVyIG91dCBhbnkgcHJvdG90eXBlIG9iamVjdHMgdXNpbmcgdGhlIGNpcmN1bGFyIGNoZWNrLlxuICAgICAgISh2YWx1ZS5jb25zdHJ1Y3RvciAmJiB2YWx1ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgPT09IHZhbHVlKSkge1xuICAgIHZhciByZXQgPSB2YWx1ZS5pbnNwZWN0KHJlY3Vyc2VUaW1lcywgY3R4KTtcbiAgICBpZiAoIWlzU3RyaW5nKHJldCkpIHtcbiAgICAgIHJldCA9IGZvcm1hdFZhbHVlKGN0eCwgcmV0LCByZWN1cnNlVGltZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgLy8gUHJpbWl0aXZlIHR5cGVzIGNhbm5vdCBoYXZlIHByb3BlcnRpZXNcbiAgdmFyIHByaW1pdGl2ZSA9IGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKTtcbiAgaWYgKHByaW1pdGl2ZSkge1xuICAgIHJldHVybiBwcmltaXRpdmU7XG4gIH1cblxuICAvLyBMb29rIHVwIHRoZSBrZXlzIG9mIHRoZSBvYmplY3QuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuICB2YXIgdmlzaWJsZUtleXMgPSBhcnJheVRvSGFzaChrZXlzKTtcblxuICBpZiAoY3R4LnNob3dIaWRkZW4pIHtcbiAgICBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpO1xuICB9XG5cbiAgLy8gSUUgZG9lc24ndCBtYWtlIGVycm9yIGZpZWxkcyBub24tZW51bWVyYWJsZVxuICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZHd3NTJzYnQodj12cy45NCkuYXNweFxuICBpZiAoaXNFcnJvcih2YWx1ZSlcbiAgICAgICYmIChrZXlzLmluZGV4T2YoJ21lc3NhZ2UnKSA+PSAwIHx8IGtleXMuaW5kZXhPZignZGVzY3JpcHRpb24nKSA+PSAwKSkge1xuICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICAvLyBTb21lIHR5cGUgb2Ygb2JqZWN0IHdpdGhvdXQgcHJvcGVydGllcyBjYW4gYmUgc2hvcnRjdXR0ZWQuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgdmFyIG5hbWUgPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW0Z1bmN0aW9uJyArIG5hbWUgKyAnXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfVxuICAgIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdkYXRlJyk7XG4gICAgfVxuICAgIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgYmFzZSA9ICcnLCBhcnJheSA9IGZhbHNlLCBicmFjZXMgPSBbJ3snLCAnfSddO1xuXG4gIC8vIE1ha2UgQXJyYXkgc2F5IHRoYXQgdGhleSBhcmUgQXJyYXlcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgYXJyYXkgPSB0cnVlO1xuICAgIGJyYWNlcyA9IFsnWycsICddJ107XG4gIH1cblxuICAvLyBNYWtlIGZ1bmN0aW9ucyBzYXkgdGhhdCB0aGV5IGFyZSBmdW5jdGlvbnNcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgdmFyIG4gPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcbiAgICBiYXNlID0gJyBbRnVuY3Rpb24nICsgbiArICddJztcbiAgfVxuXG4gIC8vIE1ha2UgUmVnRXhwcyBzYXkgdGhhdCB0aGV5IGFyZSBSZWdFeHBzXG4gIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZGF0ZXMgd2l0aCBwcm9wZXJ0aWVzIGZpcnN0IHNheSB0aGUgZGF0ZVxuICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgfVxuXG4gIC8vIE1ha2UgZXJyb3Igd2l0aCBtZXNzYWdlIGZpcnN0IHNheSB0aGUgZXJyb3JcbiAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCAmJiAoIWFycmF5IHx8IHZhbHVlLmxlbmd0aCA9PSAwKSkge1xuICAgIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgYnJhY2VzWzFdO1xuICB9XG5cbiAgaWYgKHJlY3Vyc2VUaW1lcyA8IDApIHtcbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tPYmplY3RdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cblxuICBjdHguc2Vlbi5wdXNoKHZhbHVlKTtcblxuICB2YXIgb3V0cHV0O1xuICBpZiAoYXJyYXkpIHtcbiAgICBvdXRwdXQgPSBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKTtcbiAgfSBlbHNlIHtcbiAgICBvdXRwdXQgPSBrZXlzLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KTtcbiAgICB9KTtcbiAgfVxuXG4gIGN0eC5zZWVuLnBvcCgpO1xuXG4gIHJldHVybiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ3VuZGVmaW5lZCcsICd1bmRlZmluZWQnKTtcbiAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHZhciBzaW1wbGUgPSAnXFwnJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKS5yZXBsYWNlKC9eXCJ8XCIkL2csICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKSArICdcXCcnO1xuICAgIHJldHVybiBjdHguc3R5bGl6ZShzaW1wbGUsICdzdHJpbmcnKTtcbiAgfVxuICBpZiAoaXNOdW1iZXIodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnbnVtYmVyJyk7XG4gIGlmIChpc0Jvb2xlYW4odmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnYm9vbGVhbicpO1xuICAvLyBGb3Igc29tZSByZWFzb24gdHlwZW9mIG51bGwgaXMgXCJvYmplY3RcIiwgc28gc3BlY2lhbCBjYXNlIGhlcmUuXG4gIGlmIChpc051bGwodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgnbnVsbCcsICdudWxsJyk7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0RXJyb3IodmFsdWUpIHtcbiAgcmV0dXJuICdbJyArIEVycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSArICddJztcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkodmFsdWUsIFN0cmluZyhpKSkpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAgU3RyaW5nKGkpLCB0cnVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKCcnKTtcbiAgICB9XG4gIH1cbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICgha2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBrZXksIHRydWUpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3V0cHV0O1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpIHtcbiAgdmFyIG5hbWUsIHN0ciwgZGVzYztcbiAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUsIGtleSkgfHwgeyB2YWx1ZTogdmFsdWVba2V5XSB9O1xuICBpZiAoZGVzYy5nZXQpIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyL1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmICghaGFzT3duUHJvcGVydHkodmlzaWJsZUtleXMsIGtleSkpIHtcbiAgICBuYW1lID0gJ1snICsga2V5ICsgJ10nO1xuICB9XG4gIGlmICghc3RyKSB7XG4gICAgaWYgKGN0eC5zZWVuLmluZGV4T2YoZGVzYy52YWx1ZSkgPCAwKSB7XG4gICAgICBpZiAoaXNOdWxsKHJlY3Vyc2VUaW1lcykpIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgcmVjdXJzZVRpbWVzIC0gMSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RyLmluZGV4T2YoJ1xcbicpID4gLTEpIHtcbiAgICAgICAgaWYgKGFycmF5KSB7XG4gICAgICAgICAgc3RyID0gc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpLnN1YnN0cigyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSAnXFxuJyArIHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tDaXJjdWxhcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNVbmRlZmluZWQobmFtZSkpIHtcbiAgICBpZiAoYXJyYXkgJiYga2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgbmFtZSA9IEpTT04uc3RyaW5naWZ5KCcnICsga2V5KTtcbiAgICBpZiAobmFtZS5tYXRjaCgvXlwiKFthLXpBLVpfXVthLXpBLVpfMC05XSopXCIkLykpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigxLCBuYW1lLmxlbmd0aCAtIDIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICduYW1lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oXlwifFwiJCkvZywgXCInXCIpO1xuICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICdzdHJpbmcnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmFtZSArICc6ICcgKyBzdHI7XG59XG5cblxuZnVuY3Rpb24gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpIHtcbiAgdmFyIG51bUxpbmVzRXN0ID0gMDtcbiAgdmFyIGxlbmd0aCA9IG91dHB1dC5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3VyKSB7XG4gICAgbnVtTGluZXNFc3QrKztcbiAgICBpZiAoY3VyLmluZGV4T2YoJ1xcbicpID49IDApIG51bUxpbmVzRXN0Kys7XG4gICAgcmV0dXJuIHByZXYgKyBjdXIucmVwbGFjZSgvXFx1MDAxYlxcW1xcZFxcZD9tL2csICcnKS5sZW5ndGggKyAxO1xuICB9LCAwKTtcblxuICBpZiAobGVuZ3RoID4gNjApIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICtcbiAgICAgICAgICAgKGJhc2UgPT09ICcnID8gJycgOiBiYXNlICsgJ1xcbiAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIG91dHB1dC5qb2luKCcsXFxuICAnKSArXG4gICAgICAgICAgICcgJyArXG4gICAgICAgICAgIGJyYWNlc1sxXTtcbiAgfVxuXG4gIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgJyAnICsgb3V0cHV0LmpvaW4oJywgJykgKyAnICcgKyBicmFjZXNbMV07XG59XG5cblxuLy8gTk9URTogVGhlc2UgdHlwZSBjaGVja2luZyBmdW5jdGlvbnMgaW50ZW50aW9uYWxseSBkb24ndCB1c2UgYGluc3RhbmNlb2ZgXG4vLyBiZWNhdXNlIGl0IGlzIGZyYWdpbGUgYW5kIGNhbiBiZSBlYXNpbHkgZmFrZWQgd2l0aCBgT2JqZWN0LmNyZWF0ZSgpYC5cbmZ1bmN0aW9uIGlzQXJyYXkoYXIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpO1xufVxuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcblxuZnVuY3Rpb24gaXNCb29sZWFuKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG5cbmZ1bmN0aW9uIGlzTnVsbChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xuXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZCA9IGlzTnVsbE9yVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuXG5mdW5jdGlvbiBpc1N0cmluZyhhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuXG5mdW5jdGlvbiBpc1N5bWJvbChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnO1xufVxuZXhwb3J0cy5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc1JlZ0V4cChyZSkge1xuICByZXR1cm4gaXNPYmplY3QocmUpICYmIG9iamVjdFRvU3RyaW5nKHJlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5leHBvcnRzLmlzUmVnRXhwID0gaXNSZWdFeHA7XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG5mdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gaXNPYmplY3QoZCkgJiYgb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuXG5mdW5jdGlvbiBpc0Vycm9yKGUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGUpICYmXG4gICAgICAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTtcbn1cbmV4cG9ydHMuaXNFcnJvciA9IGlzRXJyb3I7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7XG5cbmV4cG9ydHMuaXNCdWZmZXIgPSByZXF1aXJlKCcuL3N1cHBvcnQvaXNCdWZmZXInKTtcblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufVxuXG5cbmZ1bmN0aW9uIHBhZChuKSB7XG4gIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuLnRvU3RyaW5nKDEwKSA6IG4udG9TdHJpbmcoMTApO1xufVxuXG5cbnZhciBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJyxcbiAgICAgICAgICAgICAgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5cbi8vIDI2IEZlYiAxNjoxOTozNFxuZnVuY3Rpb24gdGltZXN0YW1wKCkge1xuICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRNaW51dGVzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRTZWNvbmRzKCkpXS5qb2luKCc6Jyk7XG4gIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7XG59XG5cblxuLy8gbG9nIGlzIGp1c3QgYSB0aGluIHdyYXBwZXIgdG8gY29uc29sZS5sb2cgdGhhdCBwcmVwZW5kcyBhIHRpbWVzdGFtcFxuZXhwb3J0cy5sb2cgPSBmdW5jdGlvbigpIHtcbiAgY29uc29sZS5sb2coJyVzIC0gJXMnLCB0aW1lc3RhbXAoKSwgZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKSk7XG59O1xuXG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyLlxuICpcbiAqIFRoZSBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMgZnJvbSBsYW5nLmpzIHJld3JpdHRlbiBhcyBhIHN0YW5kYWxvbmVcbiAqIGZ1bmN0aW9uIChub3Qgb24gRnVuY3Rpb24ucHJvdG90eXBlKS4gTk9URTogSWYgdGhpcyBmaWxlIGlzIHRvIGJlIGxvYWRlZFxuICogZHVyaW5nIGJvb3RzdHJhcHBpbmcgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZXdyaXR0ZW4gdXNpbmcgc29tZSBuYXRpdmVcbiAqIGZ1bmN0aW9ucyBhcyBwcm90b3R5cGUgc2V0dXAgdXNpbmcgbm9ybWFsIEphdmFTY3JpcHQgZG9lcyBub3Qgd29yayBhc1xuICogZXhwZWN0ZWQgZHVyaW5nIGJvb3RzdHJhcHBpbmcgKHNlZSBtaXJyb3IuanMgaW4gcjExNDkwMykuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBpbmhlcml0IHRoZVxuICogICAgIHByb3RvdHlwZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBpbmhlcml0IHByb3RvdHlwZSBmcm9tLlxuICovXG5leHBvcnRzLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuZXhwb3J0cy5fZXh0ZW5kID0gZnVuY3Rpb24ob3JpZ2luLCBhZGQpIHtcbiAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgYWRkIGlzbid0IGFuIG9iamVjdFxuICBpZiAoIWFkZCB8fCAhaXNPYmplY3QoYWRkKSkgcmV0dXJuIG9yaWdpbjtcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFkZCk7XG4gIHZhciBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICBvcmlnaW5ba2V5c1tpXV0gPSBhZGRba2V5c1tpXV07XG4gIH1cbiAgcmV0dXJuIG9yaWdpbjtcbn07XG5cbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy91dGlsL3V0aWwuanNcbi8vIG1vZHVsZSBpZCA9IDIxM1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///213\n");

/***/ }),
/* 214 */
/*!***************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/log.js ***!
  \***************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* eslint new-cap:0, no-console:0 */\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar constants = __webpack_require__(/*! ./constants */ 208);\nvar DEFAULT_LOG_LEVEL = constants.DEFAULT_LOG_LEVEL;\nvar E = __webpack_require__(/*! ./constants */ 208).typeErrors;\n\nvar deprecationWarningsByComponentConstructor = void 0;\n\nfunction getDeprecationWarnings(componentConstructor) {\n  deprecationWarningsByComponentConstructor = deprecationWarningsByComponentConstructor || new Map();\n  if (deprecationWarningsByComponentConstructor.has(componentConstructor)) {\n    return deprecationWarningsByComponentConstructor.get(componentConstructor);\n  }\n  var deprecationWarnings = new Set();\n  deprecationWarningsByComponentConstructor.set(componentConstructor, deprecationWarnings);\n  return deprecationWarnings;\n}\n\n/**\n * Selectively outputs messages to console.log based on specified minimum module\n * specific log levels.\n *\n * NOTE: The values in the logLevels object passed to the constructor is changed\n *       by subsequent calls to {@link Log#setLevels}.\n */\n\nvar Log = function () {\n  /**\n   * Construct a new {@link Log} object.\n   * @param {String} moduleName - Name of the logging module (webrtc/media/signaling)\n   * @param {object} component - Component owning this instance of {@link Log}\n   * @param {LogLevels} logLevels - Logging levels. See {@link LogLevels}\n   */\n  function Log(moduleName, component, logLevels) {\n    _classCallCheck(this, Log);\n\n    if (typeof moduleName !== 'string') {\n      throw E.INVALID_TYPE('moduleName', 'string');\n    }\n\n    if (!component) {\n      throw E.REQUIRED_ARGUMENT('component');\n    }\n\n    if ((typeof logLevels === 'undefined' ? 'undefined' : _typeof(logLevels)) !== 'object') {\n      logLevels = {};\n    }\n\n    validateLogLevels(logLevels);\n\n    /* istanbul ignore next */\n    Object.defineProperties(this, {\n      _component: {\n        value: component\n      },\n      _logLevels: {\n        value: logLevels\n      },\n      _warnings: {\n        value: new Set()\n      },\n      logLevel: {\n        get: function get() {\n          return Log.getLevelByName(logLevels[moduleName] || DEFAULT_LOG_LEVEL);\n        }\n      },\n      name: { get: component.toString.bind(component) }\n    });\n  }\n\n  /**\n   * Get the log level (number) by its name (string)\n   * @param {String} name - Name of the log level\n   * @returns {Number} Requested log level\n   * @throws {TwilioError} INVALID_LOG_LEVEL (32056)\n   * @public\n   */\n\n\n  _createClass(Log, [{\n    key: 'createLog',\n\n\n    /**\n     * Create a child {@link Log} instance with this._logLevels\n     * @param moduleName - Name of the logging module\n     * @param component - Component owning this instance of {@link Log}\n     * @returns {Log} this\n     */\n    value: function createLog(moduleName, component) {\n      return new Log(moduleName, component, this._logLevels);\n    }\n\n    /**\n     * Set new log levels.\n     * This changes the levels for all its ancestors,\n     * siblings, and children and descendants instances of {@link Log}.\n     * @param {LogLevels} levels - New log levels\n     * @throws {TwilioError} INVALID_ARGUMENT\n     * @returns {Log} this\n     */\n\n  }, {\n    key: 'setLevels',\n    value: function setLevels(levels) {\n      validateLogLevels(levels);\n      Object.assign(this._logLevels, levels);\n      return this;\n    }\n\n    /**\n     * Log a message using the console method appropriate for the specified logLevel\n     * @param {Number} logLevel - Log level of the message being logged\n     * @param {String} message - Message(s) to log\n     * @returns {Log} This instance of {@link Log}\n     * @public\n     */\n\n  }, {\n    key: 'log',\n    value: function log(logLevel, message) {\n      var logSpec = Log._levels[logLevel];\n      // eslint-disable-next-line no-use-before-define\n      if (!logSpec) {\n        throw E.INVALID_VALUE('logLevel', LOG_LEVEL_VALUES);\n      }\n\n      if (this.logLevel <= logLevel) {\n        var levelName = logSpec.name;\n        var prefix = new Date().toISOString().split('T').concat(['|', levelName, 'in', this.name + ':']);\n        logSpec.logFn.apply(console, prefix.concat(message));\n      }\n\n      return this;\n    }\n\n    /**\n     * Log a debug message using console.log\n     * @param {...String} messages - Message(s) to pass to console.log\n     * @returns {Log} This instance of {@link Log}\n     * @public\n     */\n\n  }, {\n    key: 'debug',\n    value: function debug() {\n      return this.log(Log.DEBUG, [].slice.call(arguments));\n    }\n\n    /**\n     * Log a deprecation warning. Deprecation warnings are logged as warnings and\n     * they are only ever logged once.\n     * @param {String} deprecationWarning - The deprecation warning\n     * @returns {Log} This instance of {@link Log}\n     * @public\n     */\n\n  }, {\n    key: 'deprecated',\n    value: function deprecated(deprecationWarning) {\n      var deprecationWarnings = getDeprecationWarnings(this._component.constructor);\n      if (deprecationWarnings.has(deprecationWarning)) {\n        return this;\n      }\n      deprecationWarnings.add(deprecationWarning);\n      return this.warn(deprecationWarning);\n    }\n\n    /**\n     * Log an info message using console.info\n     * @param {...String} messages - Message(s) to pass to console.info\n     * @returns {Log} This instance of {@link Log}\n     * @public\n     */\n\n  }, {\n    key: 'info',\n    value: function info() {\n      return this.log(Log.INFO, [].slice.call(arguments));\n    }\n\n    /**\n     * Log a warn message using console.warn\n     * @param {...String} messages - Message(s) to pass to console.warn\n     * @returns {Log} This instance of {@link Log}\n     * @public\n     */\n\n  }, {\n    key: 'warn',\n    value: function warn() {\n      return this.log(Log.WARN, [].slice.call(arguments));\n    }\n\n    /**\n     * Log a warning once.\n     * @param {String} warning\n     * @returns {Log} This instance of {@link Log}\n     * @public\n     */\n\n  }, {\n    key: 'warnOnce',\n    value: function warnOnce(warning) {\n      if (this._warnings.has(warning)) {\n        return this;\n      }\n      this._warnings.add(warning);\n      return this.warn(warning);\n    }\n\n    /**\n     * Log an error message using console.error\n     * @param {...String} messages - Message(s) to pass to console.error\n     * @returns {Log} This instance of {@link Log}\n     * @public\n     */\n\n  }, {\n    key: 'error',\n    value: function error() {\n      return this.log(Log.ERROR, [].slice.call(arguments));\n    }\n\n    /**\n     * Log an error message using console.error and throw an exception\n     * @param {TwilioError} error - Error to throw\n     * @param {String} customMessage - Custom message for the error\n     * @public\n     */\n\n  }, {\n    key: 'throw',\n    value: function _throw(error, customMessage) {\n      if (error.clone) {\n        error = error.clone(customMessage);\n      }\n\n      this.log(Log.ERROR, error);\n      throw error;\n    }\n  }], [{\n    key: 'getLevelByName',\n    value: function getLevelByName(name) {\n      if (!isNaN(name)) {\n        return parseInt(name, 10);\n      }\n      name = name.toUpperCase();\n      validateLogLevel(name);\n      return Log[name];\n    }\n  }]);\n\n  return Log;\n}();\n\n// Singleton Constants\n/* eslint key-spacing:0 */\n/* istanbul ignore next */\n\n\nObject.defineProperties(Log, {\n  DEBUG: { value: 0 },\n  INFO: { value: 1 },\n  WARN: { value: 2 },\n  ERROR: { value: 3 },\n  OFF: { value: 4 },\n  _levels: {\n    value: [{ name: 'DEBUG', logFn: console.log }, { name: 'INFO', logFn: console.info }, { name: 'WARN', logFn: console.warn }, { name: 'ERROR', logFn: console.error }, { name: 'OFF', logFn: function noop() {} }]\n  }\n});\n\nvar LOG_LEVELS_SET = {};\nvar LOG_LEVEL_VALUES = [];\n\nvar LOG_LEVEL_NAMES = Log._levels.map(function (level, i) {\n  LOG_LEVELS_SET[level.name] = true;\n  LOG_LEVEL_VALUES.push(i);\n  return level.name;\n});\n\nfunction validateLogLevel(level) {\n  if (!(level in LOG_LEVELS_SET)) {\n    throw E.INVALID_VALUE('level', LOG_LEVEL_NAMES);\n  }\n}\n\nfunction validateLogLevels(levels) {\n  Object.keys(levels).forEach(function (moduleName) {\n    validateLogLevel(levels[moduleName].toUpperCase());\n  });\n}\n\nmodule.exports = Log;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL2xvZy5qcz9iMjI3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ2E7O0FBRWIsb0dBQW9HLG1CQUFtQixFQUFFLG1CQUFtQiw4SEFBOEg7O0FBRTFRLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixnQkFBZ0IsbUJBQU8sQ0FBQyxzQkFBYTtBQUNyQztBQUNBLFFBQVEsbUJBQU8sQ0FBQyxzQkFBYTs7QUFFN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsb0JBQW9CO0FBQ3JEOztBQUVBO0FBQ0E7QUFDQSxzQkFBc0IsVUFBVTtBQUNoQyxhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPLGdEQUFnRDtBQUNwRSxhQUFhLFVBQVUsa0NBQWtDO0FBQ3pEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsYUFBYTtBQUNiLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGVBQWUsT0FBTztBQUN0QixjQUFjLFlBQVk7QUFDMUI7QUFDQTs7O0FBR0E7QUFDQTs7O0FBR0E7QUFDQSx1QkFBdUIsVUFBVTtBQUNqQztBQUNBLDZEQUE2RDtBQUM3RCxpQkFBaUIsSUFBSTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsVUFBVTtBQUN0RSxlQUFlLFVBQVU7QUFDekIsZ0JBQWdCLFlBQVk7QUFDNUIsaUJBQWlCLElBQUk7QUFDckI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixpQkFBaUIsSUFBSSxtQkFBbUI7QUFDeEM7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekIsaUJBQWlCLElBQUksbUJBQW1CO0FBQ3hDO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixpQkFBaUIsSUFBSSxtQkFBbUI7QUFDeEM7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekIsaUJBQWlCLElBQUksbUJBQW1CO0FBQ3hDO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLFVBQVU7QUFDekIsaUJBQWlCLElBQUksbUJBQW1CO0FBQ3hDO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsaUJBQWlCLElBQUksbUJBQW1CO0FBQ3hDO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QixpQkFBaUIsSUFBSSxtQkFBbUI7QUFDeEM7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsWUFBWTtBQUMzQixlQUFlLE9BQU87QUFDdEI7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLFVBQVUsV0FBVztBQUNyQixTQUFTLFdBQVc7QUFDcEIsU0FBUyxXQUFXO0FBQ3BCLFVBQVUsV0FBVztBQUNyQixRQUFRLFdBQVc7QUFDbkI7QUFDQSxhQUFhLG9DQUFvQyxHQUFHLG9DQUFvQyxHQUFHLG9DQUFvQyxHQUFHLHNDQUFzQyxHQUFHLHVDQUF1QyxFQUFFO0FBQ3BOO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSIsImZpbGUiOiIyMTQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQgbmV3LWNhcDowLCBuby1jb25zb2xlOjAgKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgY29uc3RhbnRzID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKTtcbnZhciBERUZBVUxUX0xPR19MRVZFTCA9IGNvbnN0YW50cy5ERUZBVUxUX0xPR19MRVZFTDtcbnZhciBFID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKS50eXBlRXJyb3JzO1xuXG52YXIgZGVwcmVjYXRpb25XYXJuaW5nc0J5Q29tcG9uZW50Q29uc3RydWN0b3IgPSB2b2lkIDA7XG5cbmZ1bmN0aW9uIGdldERlcHJlY2F0aW9uV2FybmluZ3MoY29tcG9uZW50Q29uc3RydWN0b3IpIHtcbiAgZGVwcmVjYXRpb25XYXJuaW5nc0J5Q29tcG9uZW50Q29uc3RydWN0b3IgPSBkZXByZWNhdGlvbldhcm5pbmdzQnlDb21wb25lbnRDb25zdHJ1Y3RvciB8fCBuZXcgTWFwKCk7XG4gIGlmIChkZXByZWNhdGlvbldhcm5pbmdzQnlDb21wb25lbnRDb25zdHJ1Y3Rvci5oYXMoY29tcG9uZW50Q29uc3RydWN0b3IpKSB7XG4gICAgcmV0dXJuIGRlcHJlY2F0aW9uV2FybmluZ3NCeUNvbXBvbmVudENvbnN0cnVjdG9yLmdldChjb21wb25lbnRDb25zdHJ1Y3Rvcik7XG4gIH1cbiAgdmFyIGRlcHJlY2F0aW9uV2FybmluZ3MgPSBuZXcgU2V0KCk7XG4gIGRlcHJlY2F0aW9uV2FybmluZ3NCeUNvbXBvbmVudENvbnN0cnVjdG9yLnNldChjb21wb25lbnRDb25zdHJ1Y3RvciwgZGVwcmVjYXRpb25XYXJuaW5ncyk7XG4gIHJldHVybiBkZXByZWNhdGlvbldhcm5pbmdzO1xufVxuXG4vKipcbiAqIFNlbGVjdGl2ZWx5IG91dHB1dHMgbWVzc2FnZXMgdG8gY29uc29sZS5sb2cgYmFzZWQgb24gc3BlY2lmaWVkIG1pbmltdW0gbW9kdWxlXG4gKiBzcGVjaWZpYyBsb2cgbGV2ZWxzLlxuICpcbiAqIE5PVEU6IFRoZSB2YWx1ZXMgaW4gdGhlIGxvZ0xldmVscyBvYmplY3QgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3RvciBpcyBjaGFuZ2VkXG4gKiAgICAgICBieSBzdWJzZXF1ZW50IGNhbGxzIHRvIHtAbGluayBMb2cjc2V0TGV2ZWxzfS5cbiAqL1xuXG52YXIgTG9nID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ29uc3RydWN0IGEgbmV3IHtAbGluayBMb2d9IG9iamVjdC5cbiAgICogQHBhcmFtIHtTdHJpbmd9IG1vZHVsZU5hbWUgLSBOYW1lIG9mIHRoZSBsb2dnaW5nIG1vZHVsZSAod2VicnRjL21lZGlhL3NpZ25hbGluZylcbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbXBvbmVudCAtIENvbXBvbmVudCBvd25pbmcgdGhpcyBpbnN0YW5jZSBvZiB7QGxpbmsgTG9nfVxuICAgKiBAcGFyYW0ge0xvZ0xldmVsc30gbG9nTGV2ZWxzIC0gTG9nZ2luZyBsZXZlbHMuIFNlZSB7QGxpbmsgTG9nTGV2ZWxzfVxuICAgKi9cbiAgZnVuY3Rpb24gTG9nKG1vZHVsZU5hbWUsIGNvbXBvbmVudCwgbG9nTGV2ZWxzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvZyk7XG5cbiAgICBpZiAodHlwZW9mIG1vZHVsZU5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBFLklOVkFMSURfVFlQRSgnbW9kdWxlTmFtZScsICdzdHJpbmcnKTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgdGhyb3cgRS5SRVFVSVJFRF9BUkdVTUVOVCgnY29tcG9uZW50Jyk7XG4gICAgfVxuXG4gICAgaWYgKCh0eXBlb2YgbG9nTGV2ZWxzID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihsb2dMZXZlbHMpKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIGxvZ0xldmVscyA9IHt9O1xuICAgIH1cblxuICAgIHZhbGlkYXRlTG9nTGV2ZWxzKGxvZ0xldmVscyk7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgIF9jb21wb25lbnQ6IHtcbiAgICAgICAgdmFsdWU6IGNvbXBvbmVudFxuICAgICAgfSxcbiAgICAgIF9sb2dMZXZlbHM6IHtcbiAgICAgICAgdmFsdWU6IGxvZ0xldmVsc1xuICAgICAgfSxcbiAgICAgIF93YXJuaW5nczoge1xuICAgICAgICB2YWx1ZTogbmV3IFNldCgpXG4gICAgICB9LFxuICAgICAgbG9nTGV2ZWw6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIExvZy5nZXRMZXZlbEJ5TmFtZShsb2dMZXZlbHNbbW9kdWxlTmFtZV0gfHwgREVGQVVMVF9MT0dfTEVWRUwpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbmFtZTogeyBnZXQ6IGNvbXBvbmVudC50b1N0cmluZy5iaW5kKGNvbXBvbmVudCkgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbG9nIGxldmVsIChudW1iZXIpIGJ5IGl0cyBuYW1lIChzdHJpbmcpXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gTmFtZSBvZiB0aGUgbG9nIGxldmVsXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFJlcXVlc3RlZCBsb2cgbGV2ZWxcbiAgICogQHRocm93cyB7VHdpbGlvRXJyb3J9IElOVkFMSURfTE9HX0xFVkVMICgzMjA1NilcbiAgICogQHB1YmxpY1xuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhMb2csIFt7XG4gICAga2V5OiAnY3JlYXRlTG9nJyxcblxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgY2hpbGQge0BsaW5rIExvZ30gaW5zdGFuY2Ugd2l0aCB0aGlzLl9sb2dMZXZlbHNcbiAgICAgKiBAcGFyYW0gbW9kdWxlTmFtZSAtIE5hbWUgb2YgdGhlIGxvZ2dpbmcgbW9kdWxlXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCAtIENvbXBvbmVudCBvd25pbmcgdGhpcyBpbnN0YW5jZSBvZiB7QGxpbmsgTG9nfVxuICAgICAqIEByZXR1cm5zIHtMb2d9IHRoaXNcbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlTG9nKG1vZHVsZU5hbWUsIGNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIG5ldyBMb2cobW9kdWxlTmFtZSwgY29tcG9uZW50LCB0aGlzLl9sb2dMZXZlbHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBuZXcgbG9nIGxldmVscy5cbiAgICAgKiBUaGlzIGNoYW5nZXMgdGhlIGxldmVscyBmb3IgYWxsIGl0cyBhbmNlc3RvcnMsXG4gICAgICogc2libGluZ3MsIGFuZCBjaGlsZHJlbiBhbmQgZGVzY2VuZGFudHMgaW5zdGFuY2VzIG9mIHtAbGluayBMb2d9LlxuICAgICAqIEBwYXJhbSB7TG9nTGV2ZWxzfSBsZXZlbHMgLSBOZXcgbG9nIGxldmVsc1xuICAgICAqIEB0aHJvd3Mge1R3aWxpb0Vycm9yfSBJTlZBTElEX0FSR1VNRU5UXG4gICAgICogQHJldHVybnMge0xvZ30gdGhpc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRMZXZlbHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRMZXZlbHMobGV2ZWxzKSB7XG4gICAgICB2YWxpZGF0ZUxvZ0xldmVscyhsZXZlbHMpO1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9sb2dMZXZlbHMsIGxldmVscyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2cgYSBtZXNzYWdlIHVzaW5nIHRoZSBjb25zb2xlIG1ldGhvZCBhcHByb3ByaWF0ZSBmb3IgdGhlIHNwZWNpZmllZCBsb2dMZXZlbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsb2dMZXZlbCAtIExvZyBsZXZlbCBvZiB0aGUgbWVzc2FnZSBiZWluZyBsb2dnZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSAtIE1lc3NhZ2UocykgdG8gbG9nXG4gICAgICogQHJldHVybnMge0xvZ30gVGhpcyBpbnN0YW5jZSBvZiB7QGxpbmsgTG9nfVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbG9nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9nKGxvZ0xldmVsLCBtZXNzYWdlKSB7XG4gICAgICB2YXIgbG9nU3BlYyA9IExvZy5fbGV2ZWxzW2xvZ0xldmVsXTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgaWYgKCFsb2dTcGVjKSB7XG4gICAgICAgIHRocm93IEUuSU5WQUxJRF9WQUxVRSgnbG9nTGV2ZWwnLCBMT0dfTEVWRUxfVkFMVUVTKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMubG9nTGV2ZWwgPD0gbG9nTGV2ZWwpIHtcbiAgICAgICAgdmFyIGxldmVsTmFtZSA9IGxvZ1NwZWMubmFtZTtcbiAgICAgICAgdmFyIHByZWZpeCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpLmNvbmNhdChbJ3wnLCBsZXZlbE5hbWUsICdpbicsIHRoaXMubmFtZSArICc6J10pO1xuICAgICAgICBsb2dTcGVjLmxvZ0ZuLmFwcGx5KGNvbnNvbGUsIHByZWZpeC5jb25jYXQobWVzc2FnZSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2cgYSBkZWJ1ZyBtZXNzYWdlIHVzaW5nIGNvbnNvbGUubG9nXG4gICAgICogQHBhcmFtIHsuLi5TdHJpbmd9IG1lc3NhZ2VzIC0gTWVzc2FnZShzKSB0byBwYXNzIHRvIGNvbnNvbGUubG9nXG4gICAgICogQHJldHVybnMge0xvZ30gVGhpcyBpbnN0YW5jZSBvZiB7QGxpbmsgTG9nfVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZGVidWcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWJ1ZygpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvZyhMb2cuREVCVUcsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9nIGEgZGVwcmVjYXRpb24gd2FybmluZy4gRGVwcmVjYXRpb24gd2FybmluZ3MgYXJlIGxvZ2dlZCBhcyB3YXJuaW5ncyBhbmRcbiAgICAgKiB0aGV5IGFyZSBvbmx5IGV2ZXIgbG9nZ2VkIG9uY2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRlcHJlY2F0aW9uV2FybmluZyAtIFRoZSBkZXByZWNhdGlvbiB3YXJuaW5nXG4gICAgICogQHJldHVybnMge0xvZ30gVGhpcyBpbnN0YW5jZSBvZiB7QGxpbmsgTG9nfVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZGVwcmVjYXRlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlcHJlY2F0ZWQoZGVwcmVjYXRpb25XYXJuaW5nKSB7XG4gICAgICB2YXIgZGVwcmVjYXRpb25XYXJuaW5ncyA9IGdldERlcHJlY2F0aW9uV2FybmluZ3ModGhpcy5fY29tcG9uZW50LmNvbnN0cnVjdG9yKTtcbiAgICAgIGlmIChkZXByZWNhdGlvbldhcm5pbmdzLmhhcyhkZXByZWNhdGlvbldhcm5pbmcpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgZGVwcmVjYXRpb25XYXJuaW5ncy5hZGQoZGVwcmVjYXRpb25XYXJuaW5nKTtcbiAgICAgIHJldHVybiB0aGlzLndhcm4oZGVwcmVjYXRpb25XYXJuaW5nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2cgYW4gaW5mbyBtZXNzYWdlIHVzaW5nIGNvbnNvbGUuaW5mb1xuICAgICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBtZXNzYWdlcyAtIE1lc3NhZ2UocykgdG8gcGFzcyB0byBjb25zb2xlLmluZm9cbiAgICAgKiBAcmV0dXJucyB7TG9nfSBUaGlzIGluc3RhbmNlIG9mIHtAbGluayBMb2d9XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdpbmZvJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5mbygpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvZyhMb2cuSU5GTywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2cgYSB3YXJuIG1lc3NhZ2UgdXNpbmcgY29uc29sZS53YXJuXG4gICAgICogQHBhcmFtIHsuLi5TdHJpbmd9IG1lc3NhZ2VzIC0gTWVzc2FnZShzKSB0byBwYXNzIHRvIGNvbnNvbGUud2FyblxuICAgICAqIEByZXR1cm5zIHtMb2d9IFRoaXMgaW5zdGFuY2Ugb2Yge0BsaW5rIExvZ31cbiAgICAgKiBAcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3dhcm4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB3YXJuKCkge1xuICAgICAgcmV0dXJuIHRoaXMubG9nKExvZy5XQVJOLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvZyBhIHdhcm5pbmcgb25jZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gd2FybmluZ1xuICAgICAqIEByZXR1cm5zIHtMb2d9IFRoaXMgaW5zdGFuY2Ugb2Yge0BsaW5rIExvZ31cbiAgICAgKiBAcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3dhcm5PbmNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gd2Fybk9uY2Uod2FybmluZykge1xuICAgICAgaWYgKHRoaXMuX3dhcm5pbmdzLmhhcyh3YXJuaW5nKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHRoaXMuX3dhcm5pbmdzLmFkZCh3YXJuaW5nKTtcbiAgICAgIHJldHVybiB0aGlzLndhcm4od2FybmluZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9nIGFuIGVycm9yIG1lc3NhZ2UgdXNpbmcgY29uc29sZS5lcnJvclxuICAgICAqIEBwYXJhbSB7Li4uU3RyaW5nfSBtZXNzYWdlcyAtIE1lc3NhZ2UocykgdG8gcGFzcyB0byBjb25zb2xlLmVycm9yXG4gICAgICogQHJldHVybnMge0xvZ30gVGhpcyBpbnN0YW5jZSBvZiB7QGxpbmsgTG9nfVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZXJyb3InLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlcnJvcigpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvZyhMb2cuRVJST1IsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9nIGFuIGVycm9yIG1lc3NhZ2UgdXNpbmcgY29uc29sZS5lcnJvciBhbmQgdGhyb3cgYW4gZXhjZXB0aW9uXG4gICAgICogQHBhcmFtIHtUd2lsaW9FcnJvcn0gZXJyb3IgLSBFcnJvciB0byB0aHJvd1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjdXN0b21NZXNzYWdlIC0gQ3VzdG9tIG1lc3NhZ2UgZm9yIHRoZSBlcnJvclxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndGhyb3cnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdGhyb3coZXJyb3IsIGN1c3RvbU1lc3NhZ2UpIHtcbiAgICAgIGlmIChlcnJvci5jbG9uZSkge1xuICAgICAgICBlcnJvciA9IGVycm9yLmNsb25lKGN1c3RvbU1lc3NhZ2UpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxvZyhMb2cuRVJST1IsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAnZ2V0TGV2ZWxCeU5hbWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMZXZlbEJ5TmFtZShuYW1lKSB7XG4gICAgICBpZiAoIWlzTmFOKG5hbWUpKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludChuYW1lLCAxMCk7XG4gICAgICB9XG4gICAgICBuYW1lID0gbmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgdmFsaWRhdGVMb2dMZXZlbChuYW1lKTtcbiAgICAgIHJldHVybiBMb2dbbmFtZV07XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExvZztcbn0oKTtcblxuLy8gU2luZ2xldG9uIENvbnN0YW50c1xuLyogZXNsaW50IGtleS1zcGFjaW5nOjAgKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTG9nLCB7XG4gIERFQlVHOiB7IHZhbHVlOiAwIH0sXG4gIElORk86IHsgdmFsdWU6IDEgfSxcbiAgV0FSTjogeyB2YWx1ZTogMiB9LFxuICBFUlJPUjogeyB2YWx1ZTogMyB9LFxuICBPRkY6IHsgdmFsdWU6IDQgfSxcbiAgX2xldmVsczoge1xuICAgIHZhbHVlOiBbeyBuYW1lOiAnREVCVUcnLCBsb2dGbjogY29uc29sZS5sb2cgfSwgeyBuYW1lOiAnSU5GTycsIGxvZ0ZuOiBjb25zb2xlLmluZm8gfSwgeyBuYW1lOiAnV0FSTicsIGxvZ0ZuOiBjb25zb2xlLndhcm4gfSwgeyBuYW1lOiAnRVJST1InLCBsb2dGbjogY29uc29sZS5lcnJvciB9LCB7IG5hbWU6ICdPRkYnLCBsb2dGbjogZnVuY3Rpb24gbm9vcCgpIHt9IH1dXG4gIH1cbn0pO1xuXG52YXIgTE9HX0xFVkVMU19TRVQgPSB7fTtcbnZhciBMT0dfTEVWRUxfVkFMVUVTID0gW107XG5cbnZhciBMT0dfTEVWRUxfTkFNRVMgPSBMb2cuX2xldmVscy5tYXAoZnVuY3Rpb24gKGxldmVsLCBpKSB7XG4gIExPR19MRVZFTFNfU0VUW2xldmVsLm5hbWVdID0gdHJ1ZTtcbiAgTE9HX0xFVkVMX1ZBTFVFUy5wdXNoKGkpO1xuICByZXR1cm4gbGV2ZWwubmFtZTtcbn0pO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZUxvZ0xldmVsKGxldmVsKSB7XG4gIGlmICghKGxldmVsIGluIExPR19MRVZFTFNfU0VUKSkge1xuICAgIHRocm93IEUuSU5WQUxJRF9WQUxVRSgnbGV2ZWwnLCBMT0dfTEVWRUxfTkFNRVMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlTG9nTGV2ZWxzKGxldmVscykge1xuICBPYmplY3Qua2V5cyhsZXZlbHMpLmZvckVhY2goZnVuY3Rpb24gKG1vZHVsZU5hbWUpIHtcbiAgICB2YWxpZGF0ZUxvZ0xldmVsKGxldmVsc1ttb2R1bGVOYW1lXS50b1VwcGVyQ2FzZSgpKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTG9nO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvdXRpbC9sb2cuanNcbi8vIG1vZHVsZSBpZCA9IDIxNFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///214\n");

/***/ }),
/* 215 */
/*!*******************************************************!*\
  !*** ./node_modules/twilio-video/es5/statemachine.js ***!
  \*******************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EventEmitter = __webpack_require__(/*! events */ 207).EventEmitter;\nvar util = __webpack_require__(/*! ./util */ 206);\n\n/**\n * {@link StateMachine} represents a state machine. The state machine supports a\n * reentrant locking mechanism to allow asynchronous state transitions to ensure\n * they have not been preempted. Calls to {@link StateMachine#takeLock} are\n * guaranteed to be resolved in FIFO order.\n * @extends EventEmitter\n * @property {boolean} isLocked - whether or not the {@link StateMachine} is\n *   locked performing asynchronous state transition\n * @property {string} state - the current state\n * @emits {@link StateMachine#stateChanged}\n */\n\nvar StateMachine = function (_EventEmitter) {\n  _inherits(StateMachine, _EventEmitter);\n\n  /**\n   * Construct a {@link StateMachine}.\n   * @param {string} initialState - the intiial state\n   * @param {object} states\n   */\n  function StateMachine(initialState, states) {\n    _classCallCheck(this, StateMachine);\n\n    var _this = _possibleConstructorReturn(this, (StateMachine.__proto__ || Object.getPrototypeOf(StateMachine)).call(this));\n\n    var lock = null;\n    var state = initialState;\n    states = transformStates(states);\n    Object.defineProperties(_this, {\n      _lock: {\n        get: function get() {\n          return lock;\n        },\n        set: function set(_lock) {\n          lock = _lock;\n        }\n      },\n      _reachableStates: {\n        value: reachable(states)\n      },\n      _state: {\n        get: function get() {\n          return state;\n        },\n        set: function set(_state) {\n          state = _state;\n        }\n      },\n      _states: {\n        value: states\n      },\n      _whenDeferreds: {\n        value: new Set()\n      },\n      isLocked: {\n        enumerable: true,\n        get: function get() {\n          return lock !== null;\n        }\n      },\n      state: {\n        enumerable: true,\n        get: function get() {\n          return state;\n        }\n      }\n    });\n\n    _this.on('stateChanged', function (state) {\n      _this._whenDeferreds.forEach(function (deferred) {\n        deferred.when(state, deferred.resolve, deferred.reject);\n      });\n    });\n    return _this;\n  }\n\n  /**\n   * Returns a promise whose executor function is called on each state change.\n   * @param {function(state: string, resolve: function, reject: function): void} when\n   * @returns {Promise.<*>}\n   * @private\n   */\n\n\n  _createClass(StateMachine, [{\n    key: '_whenPromise',\n    value: function _whenPromise(when) {\n      var _this2 = this;\n\n      if (typeof when !== 'function') {\n        return Promise.reject(new Error('when() executor must be a function'));\n      }\n\n      var deferred = util.defer();\n\n      deferred.when = when;\n      this._whenDeferreds.add(deferred);\n\n      return deferred.promise.then(function (payload) {\n        _this2._whenDeferreds.delete(deferred);\n        return payload;\n      }, function (error) {\n        _this2._whenDeferreds.delete(deferred);\n        throw error;\n      });\n    }\n\n    /**\n     * This method takes a lock and passes the {@link StateMachine#Key} to your\n     * transition function. You may perform zero or more state transitions in your\n     * transition function, but you should check for preemption in each tick. You\n     * may also reenter the lock. Once the Promise returned by your transition\n     * function resolves or rejects, this method releases the lock it acquired for\n     * you.\n     * @param {string} name - a name for the lock\n     * @param {function(StateMachine#Key): Promise} transitionFunction\n     * @returns {Promise}\n     */\n    // NOTE(mroberts): This method is named after a Haskell function:\n    // https://hackage.haskell.org/package/base-4.8.2.0/docs/Control-Exception.html#v:bracket\n\n  }, {\n    key: 'bracket',\n    value: function bracket(name, transitionFunction) {\n      var key = void 0;\n      var self = this;\n\n      function releaseLock(error) {\n        if (self.hasLock(key)) {\n          self.releaseLockCompletely(key);\n        }\n        if (error) {\n          throw error;\n        }\n      }\n\n      return this.takeLock(name).then(function gotKey(_key) {\n        key = _key;\n        return transitionFunction(key);\n      }).then(function success(result) {\n        releaseLock();\n        return result;\n      }, releaseLock);\n    }\n\n    /**\n     * Check whether or not a {@link StateMachine#Key} matches the lock.\n     * @param {StateMachine#Key} key\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'hasLock',\n    value: function hasLock(key) {\n      return this._lock === key;\n    }\n\n    /**\n     * Preempt any pending state transitions and immediately transition to the new\n     * state. If a lock name is specified, take the lock and return the\n     * {@link StateMachine#Key}.\n     * @param {string} newState\n     * @param {?string} [name=null] - a name for the lock\n     * @param {Array<*>} [payload=[]]\n     * @returns {?StateMachine#Key}\n     */\n\n  }, {\n    key: 'preempt',\n    value: function preempt(newState, name, payload) {\n      // 1. Check that the new state is valid.\n      if (!isValidTransition(this._states, this.state, newState)) {\n        throw new Error('Cannot transition from \"' + this.state + '\" to \"' + newState + '\"');\n      }\n\n      // 2. Release the old lock, if any.\n      var oldLock = void 0;\n      if (this.isLocked) {\n        oldLock = this._lock;\n        this._lock = null;\n      }\n\n      // 3. Take the lock, if requested.\n      var key = null;\n      if (name) {\n        key = this.takeLockSync(name);\n      }\n\n      // 4. If a lock wasn't requested, take a \"preemption\" lock in order to\n      // maintain FIFO order of those taking locks.\n      var preemptionKey = key ? null : this.takeLockSync('preemption');\n\n      // 5. Transition.\n      this.transition(newState, key || preemptionKey, payload);\n\n      // 6. Preempt anyone blocked on the old lock.\n      if (oldLock) {\n        oldLock.resolve();\n      }\n\n      // 7. Release the \"preemption\" lock, if we took it.\n      if (preemptionKey) {\n        this.releaseLock(preemptionKey);\n      }\n\n      return key;\n    }\n\n    /**\n     * Release a lock. This method succeeds only if the {@link StateMachine} is\n     * still locked and has not been preempted.\n     * @param {StateMachine#Key} key\n     * @throws Error\n     */\n\n  }, {\n    key: 'releaseLock',\n    value: function releaseLock(key) {\n      if (!this.isLocked) {\n        throw new Error('Could not release the lock for ' + key.name + ' because the StateMachine is not locked');\n      } else if (!this.hasLock(key)) {\n        throw new Error('Could not release the lock for ' + key.name + ' because ' + this._lock.name + ' has the lock');\n      }\n      if (key.depth === 0) {\n        this._lock = null;\n        key.resolve();\n      } else {\n        key.depth--;\n      }\n    }\n\n    /**\n     * Release a lock completely, even if it has been reentered. This method\n     * succeeds only if the {@link StateMachine} is still locked and has not been\n     * preempted.\n     * @param {StateMachine#Key} key\n     * @throws Error\n     */\n\n  }, {\n    key: 'releaseLockCompletely',\n    value: function releaseLockCompletely(key) {\n      if (!this.isLocked) {\n        throw new Error('Could not release the lock for ' + key.name + ' because the StateMachine is not locked');\n      } else if (!this.hasLock(key)) {\n        throw new Error('Could not release the lock for ' + key.name + ' because ' + this._lock.name + ' has the lock');\n      }\n      key.depth = 0;\n      this._lock = null;\n      key.resolve();\n    }\n\n    /**\n     * Take a lock, returning a Promise for the {@link StateMachine#Key}. You should\n     * take a lock anytime you intend to perform asynchronous transitions. Calls to\n     * this method are guaranteed to be resolved in FIFO order. You may reenter\n     * a lock by passing its {@link StateMachine#Key}.\n     * @param {string|StateMachine#Key} nameOrKey - a name for the lock or an\n     * existing {@link StateMachine#Key}\n     * @returns {Promise<object>}\n     */\n\n  }, {\n    key: 'takeLock',\n    value: function takeLock(nameOrKey) {\n      var _this3 = this;\n\n      // Reentrant lock\n      if ((typeof nameOrKey === 'undefined' ? 'undefined' : _typeof(nameOrKey)) === 'object') {\n        var key = nameOrKey;\n        return new Promise(function (resolve) {\n          resolve(_this3.takeLockSync(key));\n        });\n      }\n\n      // New lock\n      var name = nameOrKey;\n      if (this.isLocked) {\n        var takeLock = this.takeLock.bind(this, name);\n        return this._lock.promise.then(takeLock);\n      }\n      return Promise.resolve(this.takeLockSync(name));\n    }\n\n    /**\n     * Take a lock, returning the {@Link StateMachine#Key}. This method throws if\n     * the {@link StateMachine} is locked or the wrong {@link StateMachine#Key} is\n     * provided. You may reenter a lock by passing its {@link StateMachine#Key}.\n     * @param {string|StateMachine#Key} nameOrKey - a name for the lock or an\n     * existing {@link StateMachine#Key}\n     * @returns {object}\n     * @throws Error\n     */\n\n  }, {\n    key: 'takeLockSync',\n    value: function takeLockSync(nameOrKey) {\n      var key = typeof nameOrKey === 'string' ? null : nameOrKey;\n      var name = key ? key.name : nameOrKey;\n\n      if (key && !this.hasLock(key) || !key && this.isLocked) {\n        throw new Error('Could not take the lock for ' + name + ' because the lock for ' + this._lock.name + ' was not released');\n      }\n\n      // Reentrant lock\n      if (key) {\n        key.depth++;\n        return key;\n      }\n\n      // New lock\n      var lock = makeLock(name);\n      this._lock = lock;\n      return lock;\n    }\n\n    /**\n     * Transition to a new state. If the {@link StateMachine} is locked, you must\n     * provide the {@link StateMachine#Key}. An invalid state or the wrong\n     * {@link StateMachine#Key} will throw an error.\n     * @param {string} newState\n     * @param {?StateMachine#Key} [key=null]\n     * @param {Array<*>} [payload=[]]\n     * @throws {Error}\n     */\n\n  }, {\n    key: 'transition',\n    value: function transition(newState, key, payload) {\n      payload = payload || [];\n\n      // 1. If we're locked, required the key.\n      if (this.isLocked) {\n        if (!key) {\n          throw new Error('You must provide the key in order to ' + 'transition');\n        } else if (!this.hasLock(key)) {\n          throw new Error('Could not transition using the key for ' + key.name + ' because ' + this._lock.name + ' has the lock');\n        }\n      } else if (key) {\n        throw new Error('Key provided for ' + key.name + ', but the StateMachine was not locked (possibly due to preemption)');\n      }\n\n      // 2. Check that the new state is valid.\n      if (!isValidTransition(this._states, this.state, newState)) {\n        throw new Error('Cannot transition from \"' + this.state + '\" to \"' + newState + '\"');\n      }\n\n      // 3. Update the state and emit an event.\n      this._state = newState;\n      this.emit.apply(this, _toConsumableArray(['stateChanged', newState].concat(payload)));\n    }\n\n    /**\n     * Attempt to transition to a new state. Unlike {@link StateMachine#transition},\n     * this method does not throw.\n     * @param {string} newState\n     * @param {?StateMachine#Key} [key=null]\n     * @param {Array<*>} [payload=[]]\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'tryTransition',\n    value: function tryTransition(newState, key, payload) {\n      try {\n        this.transition(newState, key, payload);\n      } catch (error) {\n        return false;\n      }\n      return true;\n    }\n\n    /**\n     * Return a Promise that resolves when the {@link StateMachine} transitions to\n     * the specified state. If the {@link StateMachine} transitions such that the\n     * requested state becomes unreachable, the Promise rejects.\n     * @param {string} state\n     * @returns {Promise<this>}\n     */\n\n  }, {\n    key: 'when',\n    value: function when(state) {\n      var _this4 = this;\n\n      if (this.state === state) {\n        return Promise.resolve(this);\n      } else if (!isValidTransition(this._reachableStates, this.state, state)) {\n        return Promise.reject(createUnreachableError(this.state, state));\n      }\n      return this._whenPromise(function (newState, resolve, reject) {\n        if (newState === state) {\n          resolve(_this4);\n        } else if (!isValidTransition(_this4._reachableStates, newState, state)) {\n          reject(createUnreachableError(newState, state));\n        }\n      });\n    }\n  }]);\n\n  return StateMachine;\n}(EventEmitter);\n\n/**\n * @event StateMachine#stateChanged\n * @param {string} newState\n */\n\n/**\n * Check if a transition is valid.\n * @private\n * @param {Map<*, Set<*>>} graph\n * @param {*} from\n * @param {*} to\n * @returns {boolean}\n */\n\n\nfunction isValidTransition(graph, from, to) {\n  return graph.get(from).has(to);\n}\n\n/**\n * @typedef {object} StateMachine#Key\n */\n\nfunction makeLock(name) {\n  var lock = util.defer();\n  lock.name = name;\n  lock.depth = 0;\n  return lock;\n}\n\n/**\n * Compute the transitive closure of a graph (i.e. what nodes are reachable from\n * where).\n * @private\n * @param {Map<*, Set<*>>} graph\n * @returns {Map<*, Set<*>>}\n */\nfunction reachable(graph) {\n  return Array.from(graph.keys()).reduce(function (newGraph, from) {\n    return newGraph.set(from, reachableFrom(graph, from));\n  }, new Map());\n}\n\n/**\n * Compute the Set of node reachable from a particular node in the graph.\n * @private\n * @param {Map<*, Set<*>>} graph\n * @param {*} from\n * @param {Set<*>} [to]\n * @returns {Set<*>}\n */\nfunction reachableFrom(graph, from, to) {\n  to = to || new Set();\n  graph.get(from).forEach(function (node) {\n    if (!to.has(node)) {\n      to.add(node);\n      reachableFrom(graph, node, to).forEach(to.add, to);\n    }\n  });\n  return to;\n}\n\nfunction transformStates(states) {\n  var newStates = new Map();\n  for (var key in states) {\n    newStates.set(key, new Set(states[key]));\n  }\n  return newStates;\n}\n\n/**\n * Create an \"unreachable state\" Error.\n * @param {string} here\n * @param {string} there\n * @returns {Error}\n */\nfunction createUnreachableError(here, there) {\n  return new Error('\"' + there + '\" cannot be reached from \"' + here + '\"');\n}\n\nmodule.exports = StateMachine;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0ZW1hY2hpbmUuanM/NmM3ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixvR0FBb0csbUJBQW1CLEVBQUUsbUJBQW1CLDhIQUE4SDs7QUFFMVEsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGtDQUFrQywwQkFBMEIsMENBQTBDLGdCQUFnQixPQUFPLGtCQUFrQixFQUFFLGFBQWEsRUFBRSxPQUFPLHdCQUF3QixFQUFFOztBQUVqTSxpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLG1CQUFtQixtQkFBTyxDQUFDLGlCQUFRO0FBQ25DLFdBQVcsbUJBQU8sQ0FBQyxpQkFBUTs7QUFFM0I7QUFDQSxJQUFJLG1CQUFtQjtBQUN2QjtBQUNBLDJDQUEyQyw0QkFBNEI7QUFDdkU7QUFDQTtBQUNBLGNBQWMsUUFBUSxnQ0FBZ0MsbUJBQW1CO0FBQ3pFO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLFdBQVc7QUFDWDs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLG1CQUFtQjtBQUNyQyxhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLG1FQUFtRTtBQUNoRixlQUFlO0FBQ2Y7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQSxnREFBZ0QsdUJBQXVCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxvQ0FBb0M7QUFDbkQsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLCtCQUErQix1QkFBdUI7QUFDdEQsZUFBZSxpQkFBaUI7QUFDaEMsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQixlQUFlLE9BQU87QUFDdEIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsU0FBUztBQUN4QixpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EseURBQXlELG1CQUFtQjtBQUM1RTtBQUNBLGVBQWUsaUJBQWlCO0FBQ2hDO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ0EsZUFBZSxpQkFBaUI7QUFDaEM7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaURBQWlELHVCQUF1QjtBQUN4RTtBQUNBO0FBQ0EsOEJBQThCLHVCQUF1QjtBQUNyRCxlQUFlLHdCQUF3QjtBQUN2QyxpQkFBaUI7QUFDakIsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUNBQW1DLHVCQUF1QjtBQUMxRCxZQUFZLG1CQUFtQix5QkFBeUIsdUJBQXVCO0FBQy9FLHdEQUF3RCx1QkFBdUI7QUFDL0UsZUFBZSx3QkFBd0I7QUFDdkMsaUJBQWlCO0FBQ2pCLGlCQUFpQjtBQUNqQjtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMENBQTBDLG1CQUFtQjtBQUM3RCxvQkFBb0IsdUJBQXVCO0FBQzNDLFFBQVEsdUJBQXVCO0FBQy9CLGVBQWUsT0FBTztBQUN0QixlQUFlLGtCQUFrQjtBQUNqQyxlQUFlLFNBQVM7QUFDeEIsZ0JBQWdCO0FBQ2hCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscURBQXFELDhCQUE4QjtBQUNuRjtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLGtCQUFrQjtBQUNqQyxlQUFlLFNBQVM7QUFDeEIsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdEQUFnRCxtQkFBbUI7QUFDbkUsb0NBQW9DLG1CQUFtQjtBQUN2RDtBQUNBLGVBQWUsT0FBTztBQUN0QixpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLFdBQVcsRUFBRTtBQUNiLFdBQVcsRUFBRTtBQUNiLGFBQWE7QUFDYjs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLFdBQVcsRUFBRTtBQUNiLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIyMTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbi8qKlxuICoge0BsaW5rIFN0YXRlTWFjaGluZX0gcmVwcmVzZW50cyBhIHN0YXRlIG1hY2hpbmUuIFRoZSBzdGF0ZSBtYWNoaW5lIHN1cHBvcnRzIGFcbiAqIHJlZW50cmFudCBsb2NraW5nIG1lY2hhbmlzbSB0byBhbGxvdyBhc3luY2hyb25vdXMgc3RhdGUgdHJhbnNpdGlvbnMgdG8gZW5zdXJlXG4gKiB0aGV5IGhhdmUgbm90IGJlZW4gcHJlZW1wdGVkLiBDYWxscyB0byB7QGxpbmsgU3RhdGVNYWNoaW5lI3Rha2VMb2NrfSBhcmVcbiAqIGd1YXJhbnRlZWQgdG8gYmUgcmVzb2x2ZWQgaW4gRklGTyBvcmRlci5cbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICogQHByb3BlcnR5IHtib29sZWFufSBpc0xvY2tlZCAtIHdoZXRoZXIgb3Igbm90IHRoZSB7QGxpbmsgU3RhdGVNYWNoaW5lfSBpc1xuICogICBsb2NrZWQgcGVyZm9ybWluZyBhc3luY2hyb25vdXMgc3RhdGUgdHJhbnNpdGlvblxuICogQHByb3BlcnR5IHtzdHJpbmd9IHN0YXRlIC0gdGhlIGN1cnJlbnQgc3RhdGVcbiAqIEBlbWl0cyB7QGxpbmsgU3RhdGVNYWNoaW5lI3N0YXRlQ2hhbmdlZH1cbiAqL1xuXG52YXIgU3RhdGVNYWNoaW5lID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgX2luaGVyaXRzKFN0YXRlTWFjaGluZSwgX0V2ZW50RW1pdHRlcik7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBTdGF0ZU1hY2hpbmV9LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5pdGlhbFN0YXRlIC0gdGhlIGludGlpYWwgc3RhdGVcbiAgICogQHBhcmFtIHtvYmplY3R9IHN0YXRlc1xuICAgKi9cbiAgZnVuY3Rpb24gU3RhdGVNYWNoaW5lKGluaXRpYWxTdGF0ZSwgc3RhdGVzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0YXRlTWFjaGluZSk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU3RhdGVNYWNoaW5lLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU3RhdGVNYWNoaW5lKSkuY2FsbCh0aGlzKSk7XG5cbiAgICB2YXIgbG9jayA9IG51bGw7XG4gICAgdmFyIHN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICAgIHN0YXRlcyA9IHRyYW5zZm9ybVN0YXRlcyhzdGF0ZXMpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBfbG9jazoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gbG9jaztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoX2xvY2spIHtcbiAgICAgICAgICBsb2NrID0gX2xvY2s7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBfcmVhY2hhYmxlU3RhdGVzOiB7XG4gICAgICAgIHZhbHVlOiByZWFjaGFibGUoc3RhdGVzKVxuICAgICAgfSxcbiAgICAgIF9zdGF0ZToge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KF9zdGF0ZSkge1xuICAgICAgICAgIHN0YXRlID0gX3N0YXRlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgX3N0YXRlczoge1xuICAgICAgICB2YWx1ZTogc3RhdGVzXG4gICAgICB9LFxuICAgICAgX3doZW5EZWZlcnJlZHM6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBTZXQoKVxuICAgICAgfSxcbiAgICAgIGlzTG9ja2VkOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBsb2NrICE9PSBudWxsO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3RhdGU6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfdGhpcy5vbignc3RhdGVDaGFuZ2VkJywgZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBfdGhpcy5fd2hlbkRlZmVycmVkcy5mb3JFYWNoKGZ1bmN0aW9uIChkZWZlcnJlZCkge1xuICAgICAgICBkZWZlcnJlZC53aGVuKHN0YXRlLCBkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHdob3NlIGV4ZWN1dG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBlYWNoIHN0YXRlIGNoYW5nZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihzdGF0ZTogc3RyaW5nLCByZXNvbHZlOiBmdW5jdGlvbiwgcmVqZWN0OiBmdW5jdGlvbik6IHZvaWR9IHdoZW5cbiAgICogQHJldHVybnMge1Byb21pc2UuPCo+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhTdGF0ZU1hY2hpbmUsIFt7XG4gICAga2V5OiAnX3doZW5Qcm9taXNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3doZW5Qcm9taXNlKHdoZW4pIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAodHlwZW9mIHdoZW4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignd2hlbigpIGV4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbicpKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRlZmVycmVkID0gdXRpbC5kZWZlcigpO1xuXG4gICAgICBkZWZlcnJlZC53aGVuID0gd2hlbjtcbiAgICAgIHRoaXMuX3doZW5EZWZlcnJlZHMuYWRkKGRlZmVycmVkKTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2UudGhlbihmdW5jdGlvbiAocGF5bG9hZCkge1xuICAgICAgICBfdGhpczIuX3doZW5EZWZlcnJlZHMuZGVsZXRlKGRlZmVycmVkKTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgX3RoaXMyLl93aGVuRGVmZXJyZWRzLmRlbGV0ZShkZWZlcnJlZCk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgdGFrZXMgYSBsb2NrIGFuZCBwYXNzZXMgdGhlIHtAbGluayBTdGF0ZU1hY2hpbmUjS2V5fSB0byB5b3VyXG4gICAgICogdHJhbnNpdGlvbiBmdW5jdGlvbi4gWW91IG1heSBwZXJmb3JtIHplcm8gb3IgbW9yZSBzdGF0ZSB0cmFuc2l0aW9ucyBpbiB5b3VyXG4gICAgICogdHJhbnNpdGlvbiBmdW5jdGlvbiwgYnV0IHlvdSBzaG91bGQgY2hlY2sgZm9yIHByZWVtcHRpb24gaW4gZWFjaCB0aWNrLiBZb3VcbiAgICAgKiBtYXkgYWxzbyByZWVudGVyIHRoZSBsb2NrLiBPbmNlIHRoZSBQcm9taXNlIHJldHVybmVkIGJ5IHlvdXIgdHJhbnNpdGlvblxuICAgICAqIGZ1bmN0aW9uIHJlc29sdmVzIG9yIHJlamVjdHMsIHRoaXMgbWV0aG9kIHJlbGVhc2VzIHRoZSBsb2NrIGl0IGFjcXVpcmVkIGZvclxuICAgICAqIHlvdS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIGEgbmFtZSBmb3IgdGhlIGxvY2tcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKFN0YXRlTWFjaGluZSNLZXkpOiBQcm9taXNlfSB0cmFuc2l0aW9uRnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICAvLyBOT1RFKG1yb2JlcnRzKTogVGhpcyBtZXRob2QgaXMgbmFtZWQgYWZ0ZXIgYSBIYXNrZWxsIGZ1bmN0aW9uOlxuICAgIC8vIGh0dHBzOi8vaGFja2FnZS5oYXNrZWxsLm9yZy9wYWNrYWdlL2Jhc2UtNC44LjIuMC9kb2NzL0NvbnRyb2wtRXhjZXB0aW9uLmh0bWwjdjpicmFja2V0XG5cbiAgfSwge1xuICAgIGtleTogJ2JyYWNrZXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBicmFja2V0KG5hbWUsIHRyYW5zaXRpb25GdW5jdGlvbikge1xuICAgICAgdmFyIGtleSA9IHZvaWQgMDtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgZnVuY3Rpb24gcmVsZWFzZUxvY2soZXJyb3IpIHtcbiAgICAgICAgaWYgKHNlbGYuaGFzTG9jayhrZXkpKSB7XG4gICAgICAgICAgc2VsZi5yZWxlYXNlTG9ja0NvbXBsZXRlbHkoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy50YWtlTG9jayhuYW1lKS50aGVuKGZ1bmN0aW9uIGdvdEtleShfa2V5KSB7XG4gICAgICAgIGtleSA9IF9rZXk7XG4gICAgICAgIHJldHVybiB0cmFuc2l0aW9uRnVuY3Rpb24oa2V5KTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhyZXN1bHQpIHtcbiAgICAgICAgcmVsZWFzZUxvY2soKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sIHJlbGVhc2VMb2NrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayB3aGV0aGVyIG9yIG5vdCBhIHtAbGluayBTdGF0ZU1hY2hpbmUjS2V5fSBtYXRjaGVzIHRoZSBsb2NrLlxuICAgICAqIEBwYXJhbSB7U3RhdGVNYWNoaW5lI0tleX0ga2V5XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2hhc0xvY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNMb2NrKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xvY2sgPT09IGtleTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmVlbXB0IGFueSBwZW5kaW5nIHN0YXRlIHRyYW5zaXRpb25zIGFuZCBpbW1lZGlhdGVseSB0cmFuc2l0aW9uIHRvIHRoZSBuZXdcbiAgICAgKiBzdGF0ZS4gSWYgYSBsb2NrIG5hbWUgaXMgc3BlY2lmaWVkLCB0YWtlIHRoZSBsb2NrIGFuZCByZXR1cm4gdGhlXG4gICAgICoge0BsaW5rIFN0YXRlTWFjaGluZSNLZXl9LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdTdGF0ZVxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gW25hbWU9bnVsbF0gLSBhIG5hbWUgZm9yIHRoZSBsb2NrXG4gICAgICogQHBhcmFtIHtBcnJheTwqPn0gW3BheWxvYWQ9W11dXG4gICAgICogQHJldHVybnMgez9TdGF0ZU1hY2hpbmUjS2V5fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdwcmVlbXB0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHJlZW1wdChuZXdTdGF0ZSwgbmFtZSwgcGF5bG9hZCkge1xuICAgICAgLy8gMS4gQ2hlY2sgdGhhdCB0aGUgbmV3IHN0YXRlIGlzIHZhbGlkLlxuICAgICAgaWYgKCFpc1ZhbGlkVHJhbnNpdGlvbih0aGlzLl9zdGF0ZXMsIHRoaXMuc3RhdGUsIG5ld1N0YXRlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCB0cmFuc2l0aW9uIGZyb20gXCInICsgdGhpcy5zdGF0ZSArICdcIiB0byBcIicgKyBuZXdTdGF0ZSArICdcIicpO1xuICAgICAgfVxuXG4gICAgICAvLyAyLiBSZWxlYXNlIHRoZSBvbGQgbG9jaywgaWYgYW55LlxuICAgICAgdmFyIG9sZExvY2sgPSB2b2lkIDA7XG4gICAgICBpZiAodGhpcy5pc0xvY2tlZCkge1xuICAgICAgICBvbGRMb2NrID0gdGhpcy5fbG9jaztcbiAgICAgICAgdGhpcy5fbG9jayA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIDMuIFRha2UgdGhlIGxvY2ssIGlmIHJlcXVlc3RlZC5cbiAgICAgIHZhciBrZXkgPSBudWxsO1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAga2V5ID0gdGhpcy50YWtlTG9ja1N5bmMobmFtZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIDQuIElmIGEgbG9jayB3YXNuJ3QgcmVxdWVzdGVkLCB0YWtlIGEgXCJwcmVlbXB0aW9uXCIgbG9jayBpbiBvcmRlciB0b1xuICAgICAgLy8gbWFpbnRhaW4gRklGTyBvcmRlciBvZiB0aG9zZSB0YWtpbmcgbG9ja3MuXG4gICAgICB2YXIgcHJlZW1wdGlvbktleSA9IGtleSA/IG51bGwgOiB0aGlzLnRha2VMb2NrU3luYygncHJlZW1wdGlvbicpO1xuXG4gICAgICAvLyA1LiBUcmFuc2l0aW9uLlxuICAgICAgdGhpcy50cmFuc2l0aW9uKG5ld1N0YXRlLCBrZXkgfHwgcHJlZW1wdGlvbktleSwgcGF5bG9hZCk7XG5cbiAgICAgIC8vIDYuIFByZWVtcHQgYW55b25lIGJsb2NrZWQgb24gdGhlIG9sZCBsb2NrLlxuICAgICAgaWYgKG9sZExvY2spIHtcbiAgICAgICAgb2xkTG9jay5yZXNvbHZlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIDcuIFJlbGVhc2UgdGhlIFwicHJlZW1wdGlvblwiIGxvY2ssIGlmIHdlIHRvb2sgaXQuXG4gICAgICBpZiAocHJlZW1wdGlvbktleSkge1xuICAgICAgICB0aGlzLnJlbGVhc2VMb2NrKHByZWVtcHRpb25LZXkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgYSBsb2NrLiBUaGlzIG1ldGhvZCBzdWNjZWVkcyBvbmx5IGlmIHRoZSB7QGxpbmsgU3RhdGVNYWNoaW5lfSBpc1xuICAgICAqIHN0aWxsIGxvY2tlZCBhbmQgaGFzIG5vdCBiZWVuIHByZWVtcHRlZC5cbiAgICAgKiBAcGFyYW0ge1N0YXRlTWFjaGluZSNLZXl9IGtleVxuICAgICAqIEB0aHJvd3MgRXJyb3JcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVsZWFzZUxvY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWxlYXNlTG9jayhrZXkpIHtcbiAgICAgIGlmICghdGhpcy5pc0xvY2tlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCByZWxlYXNlIHRoZSBsb2NrIGZvciAnICsga2V5Lm5hbWUgKyAnIGJlY2F1c2UgdGhlIFN0YXRlTWFjaGluZSBpcyBub3QgbG9ja2VkJyk7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLmhhc0xvY2soa2V5KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCByZWxlYXNlIHRoZSBsb2NrIGZvciAnICsga2V5Lm5hbWUgKyAnIGJlY2F1c2UgJyArIHRoaXMuX2xvY2submFtZSArICcgaGFzIHRoZSBsb2NrJyk7XG4gICAgICB9XG4gICAgICBpZiAoa2V5LmRlcHRoID09PSAwKSB7XG4gICAgICAgIHRoaXMuX2xvY2sgPSBudWxsO1xuICAgICAgICBrZXkucmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAga2V5LmRlcHRoLS07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVsZWFzZSBhIGxvY2sgY29tcGxldGVseSwgZXZlbiBpZiBpdCBoYXMgYmVlbiByZWVudGVyZWQuIFRoaXMgbWV0aG9kXG4gICAgICogc3VjY2VlZHMgb25seSBpZiB0aGUge0BsaW5rIFN0YXRlTWFjaGluZX0gaXMgc3RpbGwgbG9ja2VkIGFuZCBoYXMgbm90IGJlZW5cbiAgICAgKiBwcmVlbXB0ZWQuXG4gICAgICogQHBhcmFtIHtTdGF0ZU1hY2hpbmUjS2V5fSBrZXlcbiAgICAgKiBAdGhyb3dzIEVycm9yXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3JlbGVhc2VMb2NrQ29tcGxldGVseScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbGVhc2VMb2NrQ29tcGxldGVseShrZXkpIHtcbiAgICAgIGlmICghdGhpcy5pc0xvY2tlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCByZWxlYXNlIHRoZSBsb2NrIGZvciAnICsga2V5Lm5hbWUgKyAnIGJlY2F1c2UgdGhlIFN0YXRlTWFjaGluZSBpcyBub3QgbG9ja2VkJyk7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLmhhc0xvY2soa2V5KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCByZWxlYXNlIHRoZSBsb2NrIGZvciAnICsga2V5Lm5hbWUgKyAnIGJlY2F1c2UgJyArIHRoaXMuX2xvY2submFtZSArICcgaGFzIHRoZSBsb2NrJyk7XG4gICAgICB9XG4gICAgICBrZXkuZGVwdGggPSAwO1xuICAgICAgdGhpcy5fbG9jayA9IG51bGw7XG4gICAgICBrZXkucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRha2UgYSBsb2NrLCByZXR1cm5pbmcgYSBQcm9taXNlIGZvciB0aGUge0BsaW5rIFN0YXRlTWFjaGluZSNLZXl9LiBZb3Ugc2hvdWxkXG4gICAgICogdGFrZSBhIGxvY2sgYW55dGltZSB5b3UgaW50ZW5kIHRvIHBlcmZvcm0gYXN5bmNocm9ub3VzIHRyYW5zaXRpb25zLiBDYWxscyB0b1xuICAgICAqIHRoaXMgbWV0aG9kIGFyZSBndWFyYW50ZWVkIHRvIGJlIHJlc29sdmVkIGluIEZJRk8gb3JkZXIuIFlvdSBtYXkgcmVlbnRlclxuICAgICAqIGEgbG9jayBieSBwYXNzaW5nIGl0cyB7QGxpbmsgU3RhdGVNYWNoaW5lI0tleX0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8U3RhdGVNYWNoaW5lI0tleX0gbmFtZU9yS2V5IC0gYSBuYW1lIGZvciB0aGUgbG9jayBvciBhblxuICAgICAqIGV4aXN0aW5nIHtAbGluayBTdGF0ZU1hY2hpbmUjS2V5fVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPG9iamVjdD59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3Rha2VMb2NrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdGFrZUxvY2sobmFtZU9yS2V5KSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgLy8gUmVlbnRyYW50IGxvY2tcbiAgICAgIGlmICgodHlwZW9mIG5hbWVPcktleSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YobmFtZU9yS2V5KSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhciBrZXkgPSBuYW1lT3JLZXk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgIHJlc29sdmUoX3RoaXMzLnRha2VMb2NrU3luYyhrZXkpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIE5ldyBsb2NrXG4gICAgICB2YXIgbmFtZSA9IG5hbWVPcktleTtcbiAgICAgIGlmICh0aGlzLmlzTG9ja2VkKSB7XG4gICAgICAgIHZhciB0YWtlTG9jayA9IHRoaXMudGFrZUxvY2suYmluZCh0aGlzLCBuYW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2sucHJvbWlzZS50aGVuKHRha2VMb2NrKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy50YWtlTG9ja1N5bmMobmFtZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRha2UgYSBsb2NrLCByZXR1cm5pbmcgdGhlIHtATGluayBTdGF0ZU1hY2hpbmUjS2V5fS4gVGhpcyBtZXRob2QgdGhyb3dzIGlmXG4gICAgICogdGhlIHtAbGluayBTdGF0ZU1hY2hpbmV9IGlzIGxvY2tlZCBvciB0aGUgd3Jvbmcge0BsaW5rIFN0YXRlTWFjaGluZSNLZXl9IGlzXG4gICAgICogcHJvdmlkZWQuIFlvdSBtYXkgcmVlbnRlciBhIGxvY2sgYnkgcGFzc2luZyBpdHMge0BsaW5rIFN0YXRlTWFjaGluZSNLZXl9LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFN0YXRlTWFjaGluZSNLZXl9IG5hbWVPcktleSAtIGEgbmFtZSBmb3IgdGhlIGxvY2sgb3IgYW5cbiAgICAgKiBleGlzdGluZyB7QGxpbmsgU3RhdGVNYWNoaW5lI0tleX1cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqIEB0aHJvd3MgRXJyb3JcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndGFrZUxvY2tTeW5jJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdGFrZUxvY2tTeW5jKG5hbWVPcktleSkge1xuICAgICAgdmFyIGtleSA9IHR5cGVvZiBuYW1lT3JLZXkgPT09ICdzdHJpbmcnID8gbnVsbCA6IG5hbWVPcktleTtcbiAgICAgIHZhciBuYW1lID0ga2V5ID8ga2V5Lm5hbWUgOiBuYW1lT3JLZXk7XG5cbiAgICAgIGlmIChrZXkgJiYgIXRoaXMuaGFzTG9jayhrZXkpIHx8ICFrZXkgJiYgdGhpcy5pc0xvY2tlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCB0YWtlIHRoZSBsb2NrIGZvciAnICsgbmFtZSArICcgYmVjYXVzZSB0aGUgbG9jayBmb3IgJyArIHRoaXMuX2xvY2submFtZSArICcgd2FzIG5vdCByZWxlYXNlZCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZWVudHJhbnQgbG9ja1xuICAgICAgaWYgKGtleSkge1xuICAgICAgICBrZXkuZGVwdGgrKztcbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgIH1cblxuICAgICAgLy8gTmV3IGxvY2tcbiAgICAgIHZhciBsb2NrID0gbWFrZUxvY2sobmFtZSk7XG4gICAgICB0aGlzLl9sb2NrID0gbG9jaztcbiAgICAgIHJldHVybiBsb2NrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zaXRpb24gdG8gYSBuZXcgc3RhdGUuIElmIHRoZSB7QGxpbmsgU3RhdGVNYWNoaW5lfSBpcyBsb2NrZWQsIHlvdSBtdXN0XG4gICAgICogcHJvdmlkZSB0aGUge0BsaW5rIFN0YXRlTWFjaGluZSNLZXl9LiBBbiBpbnZhbGlkIHN0YXRlIG9yIHRoZSB3cm9uZ1xuICAgICAqIHtAbGluayBTdGF0ZU1hY2hpbmUjS2V5fSB3aWxsIHRocm93IGFuIGVycm9yLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdTdGF0ZVxuICAgICAqIEBwYXJhbSB7P1N0YXRlTWFjaGluZSNLZXl9IFtrZXk9bnVsbF1cbiAgICAgKiBAcGFyYW0ge0FycmF5PCo+fSBbcGF5bG9hZD1bXV1cbiAgICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndHJhbnNpdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRyYW5zaXRpb24obmV3U3RhdGUsIGtleSwgcGF5bG9hZCkge1xuICAgICAgcGF5bG9hZCA9IHBheWxvYWQgfHwgW107XG5cbiAgICAgIC8vIDEuIElmIHdlJ3JlIGxvY2tlZCwgcmVxdWlyZWQgdGhlIGtleS5cbiAgICAgIGlmICh0aGlzLmlzTG9ja2VkKSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBwcm92aWRlIHRoZSBrZXkgaW4gb3JkZXIgdG8gJyArICd0cmFuc2l0aW9uJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaGFzTG9jayhrZXkpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgdHJhbnNpdGlvbiB1c2luZyB0aGUga2V5IGZvciAnICsga2V5Lm5hbWUgKyAnIGJlY2F1c2UgJyArIHRoaXMuX2xvY2submFtZSArICcgaGFzIHRoZSBsb2NrJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignS2V5IHByb3ZpZGVkIGZvciAnICsga2V5Lm5hbWUgKyAnLCBidXQgdGhlIFN0YXRlTWFjaGluZSB3YXMgbm90IGxvY2tlZCAocG9zc2libHkgZHVlIHRvIHByZWVtcHRpb24pJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIDIuIENoZWNrIHRoYXQgdGhlIG5ldyBzdGF0ZSBpcyB2YWxpZC5cbiAgICAgIGlmICghaXNWYWxpZFRyYW5zaXRpb24odGhpcy5fc3RhdGVzLCB0aGlzLnN0YXRlLCBuZXdTdGF0ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgdHJhbnNpdGlvbiBmcm9tIFwiJyArIHRoaXMuc3RhdGUgKyAnXCIgdG8gXCInICsgbmV3U3RhdGUgKyAnXCInKTtcbiAgICAgIH1cblxuICAgICAgLy8gMy4gVXBkYXRlIHRoZSBzdGF0ZSBhbmQgZW1pdCBhbiBldmVudC5cbiAgICAgIHRoaXMuX3N0YXRlID0gbmV3U3RhdGU7XG4gICAgICB0aGlzLmVtaXQuYXBwbHkodGhpcywgX3RvQ29uc3VtYWJsZUFycmF5KFsnc3RhdGVDaGFuZ2VkJywgbmV3U3RhdGVdLmNvbmNhdChwYXlsb2FkKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHQgdG8gdHJhbnNpdGlvbiB0byBhIG5ldyBzdGF0ZS4gVW5saWtlIHtAbGluayBTdGF0ZU1hY2hpbmUjdHJhbnNpdGlvbn0sXG4gICAgICogdGhpcyBtZXRob2QgZG9lcyBub3QgdGhyb3cuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1N0YXRlXG4gICAgICogQHBhcmFtIHs/U3RhdGVNYWNoaW5lI0tleX0gW2tleT1udWxsXVxuICAgICAqIEBwYXJhbSB7QXJyYXk8Kj59IFtwYXlsb2FkPVtdXVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd0cnlUcmFuc2l0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdHJ5VHJhbnNpdGlvbihuZXdTdGF0ZSwga2V5LCBwYXlsb2FkKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnRyYW5zaXRpb24obmV3U3RhdGUsIGtleSwgcGF5bG9hZCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUge0BsaW5rIFN0YXRlTWFjaGluZX0gdHJhbnNpdGlvbnMgdG9cbiAgICAgKiB0aGUgc3BlY2lmaWVkIHN0YXRlLiBJZiB0aGUge0BsaW5rIFN0YXRlTWFjaGluZX0gdHJhbnNpdGlvbnMgc3VjaCB0aGF0IHRoZVxuICAgICAqIHJlcXVlc3RlZCBzdGF0ZSBiZWNvbWVzIHVucmVhY2hhYmxlLCB0aGUgUHJvbWlzZSByZWplY3RzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0ZVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHRoaXM+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd3aGVuJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gd2hlbihzdGF0ZSkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlID09PSBzdGF0ZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgICAgfSBlbHNlIGlmICghaXNWYWxpZFRyYW5zaXRpb24odGhpcy5fcmVhY2hhYmxlU3RhdGVzLCB0aGlzLnN0YXRlLCBzdGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGNyZWF0ZVVucmVhY2hhYmxlRXJyb3IodGhpcy5zdGF0ZSwgc3RhdGUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl93aGVuUHJvbWlzZShmdW5jdGlvbiAobmV3U3RhdGUsIHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBpZiAobmV3U3RhdGUgPT09IHN0YXRlKSB7XG4gICAgICAgICAgcmVzb2x2ZShfdGhpczQpO1xuICAgICAgICB9IGVsc2UgaWYgKCFpc1ZhbGlkVHJhbnNpdGlvbihfdGhpczQuX3JlYWNoYWJsZVN0YXRlcywgbmV3U3RhdGUsIHN0YXRlKSkge1xuICAgICAgICAgIHJlamVjdChjcmVhdGVVbnJlYWNoYWJsZUVycm9yKG5ld1N0YXRlLCBzdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3RhdGVNYWNoaW5lO1xufShFdmVudEVtaXR0ZXIpO1xuXG4vKipcbiAqIEBldmVudCBTdGF0ZU1hY2hpbmUjc3RhdGVDaGFuZ2VkXG4gKiBAcGFyYW0ge3N0cmluZ30gbmV3U3RhdGVcbiAqL1xuXG4vKipcbiAqIENoZWNrIGlmIGEgdHJhbnNpdGlvbiBpcyB2YWxpZC5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge01hcDwqLCBTZXQ8Kj4+fSBncmFwaFxuICogQHBhcmFtIHsqfSBmcm9tXG4gKiBAcGFyYW0geyp9IHRvXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuXG5cbmZ1bmN0aW9uIGlzVmFsaWRUcmFuc2l0aW9uKGdyYXBoLCBmcm9tLCB0bykge1xuICByZXR1cm4gZ3JhcGguZ2V0KGZyb20pLmhhcyh0byk7XG59XG5cbi8qKlxuICogQHR5cGVkZWYge29iamVjdH0gU3RhdGVNYWNoaW5lI0tleVxuICovXG5cbmZ1bmN0aW9uIG1ha2VMb2NrKG5hbWUpIHtcbiAgdmFyIGxvY2sgPSB1dGlsLmRlZmVyKCk7XG4gIGxvY2submFtZSA9IG5hbWU7XG4gIGxvY2suZGVwdGggPSAwO1xuICByZXR1cm4gbG9jaztcbn1cblxuLyoqXG4gKiBDb21wdXRlIHRoZSB0cmFuc2l0aXZlIGNsb3N1cmUgb2YgYSBncmFwaCAoaS5lLiB3aGF0IG5vZGVzIGFyZSByZWFjaGFibGUgZnJvbVxuICogd2hlcmUpLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7TWFwPCosIFNldDwqPj59IGdyYXBoXG4gKiBAcmV0dXJucyB7TWFwPCosIFNldDwqPj59XG4gKi9cbmZ1bmN0aW9uIHJlYWNoYWJsZShncmFwaCkge1xuICByZXR1cm4gQXJyYXkuZnJvbShncmFwaC5rZXlzKCkpLnJlZHVjZShmdW5jdGlvbiAobmV3R3JhcGgsIGZyb20pIHtcbiAgICByZXR1cm4gbmV3R3JhcGguc2V0KGZyb20sIHJlYWNoYWJsZUZyb20oZ3JhcGgsIGZyb20pKTtcbiAgfSwgbmV3IE1hcCgpKTtcbn1cblxuLyoqXG4gKiBDb21wdXRlIHRoZSBTZXQgb2Ygbm9kZSByZWFjaGFibGUgZnJvbSBhIHBhcnRpY3VsYXIgbm9kZSBpbiB0aGUgZ3JhcGguXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtNYXA8KiwgU2V0PCo+Pn0gZ3JhcGhcbiAqIEBwYXJhbSB7Kn0gZnJvbVxuICogQHBhcmFtIHtTZXQ8Kj59IFt0b11cbiAqIEByZXR1cm5zIHtTZXQ8Kj59XG4gKi9cbmZ1bmN0aW9uIHJlYWNoYWJsZUZyb20oZ3JhcGgsIGZyb20sIHRvKSB7XG4gIHRvID0gdG8gfHwgbmV3IFNldCgpO1xuICBncmFwaC5nZXQoZnJvbSkuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgIGlmICghdG8uaGFzKG5vZGUpKSB7XG4gICAgICB0by5hZGQobm9kZSk7XG4gICAgICByZWFjaGFibGVGcm9tKGdyYXBoLCBub2RlLCB0bykuZm9yRWFjaCh0by5hZGQsIHRvKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdG87XG59XG5cbmZ1bmN0aW9uIHRyYW5zZm9ybVN0YXRlcyhzdGF0ZXMpIHtcbiAgdmFyIG5ld1N0YXRlcyA9IG5ldyBNYXAoKTtcbiAgZm9yICh2YXIga2V5IGluIHN0YXRlcykge1xuICAgIG5ld1N0YXRlcy5zZXQoa2V5LCBuZXcgU2V0KHN0YXRlc1trZXldKSk7XG4gIH1cbiAgcmV0dXJuIG5ld1N0YXRlcztcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gXCJ1bnJlYWNoYWJsZSBzdGF0ZVwiIEVycm9yLlxuICogQHBhcmFtIHtzdHJpbmd9IGhlcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aGVyZVxuICogQHJldHVybnMge0Vycm9yfVxuICovXG5mdW5jdGlvbiBjcmVhdGVVbnJlYWNoYWJsZUVycm9yKGhlcmUsIHRoZXJlKSB7XG4gIHJldHVybiBuZXcgRXJyb3IoJ1wiJyArIHRoZXJlICsgJ1wiIGNhbm5vdCBiZSByZWFjaGVkIGZyb20gXCInICsgaGVyZSArICdcIicpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFN0YXRlTWFjaGluZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3N0YXRlbWFjaGluZS5qc1xuLy8gbW9kdWxlIGlkID0gMjE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///215\n");

/***/ }),
/* 216 */
/*!**************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/es5/localaudiotrack.js ***!
  \**************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// TODO(mroberts): Remove this when we go to the next major version. This is\n// only in place so that we can support ES6 classes without requiring `new`.\n\n\nvar _require = __webpack_require__(/*! util */ 213),\n    inherits = _require.inherits;\n\nvar LocalAudioTrackClass = __webpack_require__(/*! ../localaudiotrack */ 277);\n\nfunction LocalAudioTrack(mediaStreamTrack, options) {\n  var track = new LocalAudioTrackClass(mediaStreamTrack, options);\n  Object.setPrototypeOf(track, LocalAudioTrack.prototype);\n  return track;\n}\n\ninherits(LocalAudioTrack, LocalAudioTrackClass);\n\nmodule.exports = LocalAudioTrack;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9lczUvbG9jYWxhdWRpb3RyYWNrLmpzPzMyMzciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNhOztBQUViLGVBQWUsbUJBQU8sQ0FBQyxlQUFNO0FBQzdCOztBQUVBLDJCQUEyQixtQkFBTyxDQUFDLDZCQUFvQjs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSIsImZpbGUiOiIyMTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUT0RPKG1yb2JlcnRzKTogUmVtb3ZlIHRoaXMgd2hlbiB3ZSBnbyB0byB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uLiBUaGlzIGlzXG4vLyBvbmx5IGluIHBsYWNlIHNvIHRoYXQgd2UgY2FuIHN1cHBvcnQgRVM2IGNsYXNzZXMgd2l0aG91dCByZXF1aXJpbmcgYG5ld2AuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJ3V0aWwnKSxcbiAgICBpbmhlcml0cyA9IF9yZXF1aXJlLmluaGVyaXRzO1xuXG52YXIgTG9jYWxBdWRpb1RyYWNrQ2xhc3MgPSByZXF1aXJlKCcuLi9sb2NhbGF1ZGlvdHJhY2snKTtcblxuZnVuY3Rpb24gTG9jYWxBdWRpb1RyYWNrKG1lZGlhU3RyZWFtVHJhY2ssIG9wdGlvbnMpIHtcbiAgdmFyIHRyYWNrID0gbmV3IExvY2FsQXVkaW9UcmFja0NsYXNzKG1lZGlhU3RyZWFtVHJhY2ssIG9wdGlvbnMpO1xuICBPYmplY3Quc2V0UHJvdG90eXBlT2YodHJhY2ssIExvY2FsQXVkaW9UcmFjay5wcm90b3R5cGUpO1xuICByZXR1cm4gdHJhY2s7XG59XG5cbmluaGVyaXRzKExvY2FsQXVkaW9UcmFjaywgTG9jYWxBdWRpb1RyYWNrQ2xhc3MpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IExvY2FsQXVkaW9UcmFjaztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L21lZGlhL3RyYWNrL2VzNS9sb2NhbGF1ZGlvdHJhY2suanNcbi8vIG1vZHVsZSBpZCA9IDIxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///216\n");

/***/ }),
/* 217 */
/*!*************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/es5/localdatatrack.js ***!
  \*************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// TODO(mroberts): Remove this when we go to the next major version. This is\n// only in place so that we can support ES6 classes without requiring `new`.\n\n\nvar _require = __webpack_require__(/*! util */ 213),\n    inherits = _require.inherits;\n\nvar LocalDataTrackClass = __webpack_require__(/*! ../localdatatrack */ 278);\n\nfunction LocalDataTrack(options) {\n  var track = new LocalDataTrackClass(options);\n  Object.setPrototypeOf(track, LocalDataTrack.prototype);\n  return track;\n}\n\ninherits(LocalDataTrack, LocalDataTrackClass);\n\nmodule.exports = LocalDataTrack;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9lczUvbG9jYWxkYXRhdHJhY2suanM/MTQ0YSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ2E7O0FBRWIsZUFBZSxtQkFBTyxDQUFDLGVBQU07QUFDN0I7O0FBRUEsMEJBQTBCLG1CQUFPLENBQUMsNEJBQW1COztBQUVyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBIiwiZmlsZSI6IjIxNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRPRE8obXJvYmVydHMpOiBSZW1vdmUgdGhpcyB3aGVuIHdlIGdvIHRvIHRoZSBuZXh0IG1ham9yIHZlcnNpb24uIFRoaXMgaXNcbi8vIG9ubHkgaW4gcGxhY2Ugc28gdGhhdCB3ZSBjYW4gc3VwcG9ydCBFUzYgY2xhc3NlcyB3aXRob3V0IHJlcXVpcmluZyBgbmV3YC5cbid1c2Ugc3RyaWN0JztcblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgndXRpbCcpLFxuICAgIGluaGVyaXRzID0gX3JlcXVpcmUuaW5oZXJpdHM7XG5cbnZhciBMb2NhbERhdGFUcmFja0NsYXNzID0gcmVxdWlyZSgnLi4vbG9jYWxkYXRhdHJhY2snKTtcblxuZnVuY3Rpb24gTG9jYWxEYXRhVHJhY2sob3B0aW9ucykge1xuICB2YXIgdHJhY2sgPSBuZXcgTG9jYWxEYXRhVHJhY2tDbGFzcyhvcHRpb25zKTtcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRyYWNrLCBMb2NhbERhdGFUcmFjay5wcm90b3R5cGUpO1xuICByZXR1cm4gdHJhY2s7XG59XG5cbmluaGVyaXRzKExvY2FsRGF0YVRyYWNrLCBMb2NhbERhdGFUcmFja0NsYXNzKTtcblxubW9kdWxlLmV4cG9ydHMgPSBMb2NhbERhdGFUcmFjaztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L21lZGlhL3RyYWNrL2VzNS9sb2NhbGRhdGF0cmFjay5qc1xuLy8gbW9kdWxlIGlkID0gMjE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///217\n");

/***/ }),
/* 218 */
/*!**************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/es5/localvideotrack.js ***!
  \**************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// TODO(mroberts): Remove this when we go to the next major version. This is\n// only in place so that we can support ES6 classes without requiring `new`.\n\n\nvar _require = __webpack_require__(/*! util */ 213),\n    inherits = _require.inherits;\n\nvar LocalVideoTrackClass = __webpack_require__(/*! ../localvideotrack */ 280);\n\nfunction LocalVideoTrack(mediaStreamTrack, options) {\n  var track = new LocalVideoTrackClass(mediaStreamTrack, options);\n  Object.setPrototypeOf(track, LocalVideoTrack.prototype);\n  return track;\n}\n\ninherits(LocalVideoTrack, LocalVideoTrackClass);\n\nmodule.exports = LocalVideoTrack;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9lczUvbG9jYWx2aWRlb3RyYWNrLmpzP2UzMzciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNhOztBQUViLGVBQWUsbUJBQU8sQ0FBQyxlQUFNO0FBQzdCOztBQUVBLDJCQUEyQixtQkFBTyxDQUFDLDZCQUFvQjs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSIsImZpbGUiOiIyMTguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUT0RPKG1yb2JlcnRzKTogUmVtb3ZlIHRoaXMgd2hlbiB3ZSBnbyB0byB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uLiBUaGlzIGlzXG4vLyBvbmx5IGluIHBsYWNlIHNvIHRoYXQgd2UgY2FuIHN1cHBvcnQgRVM2IGNsYXNzZXMgd2l0aG91dCByZXF1aXJpbmcgYG5ld2AuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJ3V0aWwnKSxcbiAgICBpbmhlcml0cyA9IF9yZXF1aXJlLmluaGVyaXRzO1xuXG52YXIgTG9jYWxWaWRlb1RyYWNrQ2xhc3MgPSByZXF1aXJlKCcuLi9sb2NhbHZpZGVvdHJhY2snKTtcblxuZnVuY3Rpb24gTG9jYWxWaWRlb1RyYWNrKG1lZGlhU3RyZWFtVHJhY2ssIG9wdGlvbnMpIHtcbiAgdmFyIHRyYWNrID0gbmV3IExvY2FsVmlkZW9UcmFja0NsYXNzKG1lZGlhU3RyZWFtVHJhY2ssIG9wdGlvbnMpO1xuICBPYmplY3Quc2V0UHJvdG90eXBlT2YodHJhY2ssIExvY2FsVmlkZW9UcmFjay5wcm90b3R5cGUpO1xuICByZXR1cm4gdHJhY2s7XG59XG5cbmluaGVyaXRzKExvY2FsVmlkZW9UcmFjaywgTG9jYWxWaWRlb1RyYWNrQ2xhc3MpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IExvY2FsVmlkZW9UcmFjaztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L21lZGlhL3RyYWNrL2VzNS9sb2NhbHZpZGVvdHJhY2suanNcbi8vIG1vZHVsZSBpZCA9IDIxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///218\n");

/***/ }),
/* 219 */
/*!************************************************!*\
  !*** ./node_modules/twilio-video/package.json ***!
  \************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = {\"name\":\"twilio-video\",\"title\":\"Twilio Video\",\"description\":\"Twilio Video JavaScript library\",\"version\":\"1.15.2\",\"homepage\":\"https://twilio.com\",\"author\":\"Mark Andrus Roberts <mroberts@twilio.com>\",\"contributors\":[\"Ryan Rowland <rrowland@twilio.com>\",\"Manjesh Malavalli <mmalavalli@twilio.com>\"],\"keywords\":[\"twilio\",\"webrtc\",\"library\",\"javascript\",\"video\",\"rooms\"],\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/twilio/twilio-video.js.git\"},\"devDependencies\":{\"@types/express\":\"^4.11.0\",\"@types/node\":\"^8.5.1\",\"@types/selenium-webdriver\":\"^3.0.8\",\"@types/ws\":\"^3.2.1\",\"babel-cli\":\"^6.26.0\",\"babel-preset-es2015\":\"^6.24.1\",\"browserify\":\"^14.3.0\",\"cheerio\":\"^0.22.0\",\"chromedriver\":\"2.28.0\",\"envify\":\"^4.0.0\",\"eslint\":\"^4.9.0\",\"express\":\"^4.16.2\",\"geckodriver\":\"1.4.0\",\"ink-docstrap\":\"^1.3.2\",\"istanbul\":\"^0.4.5\",\"jsdoc\":\"^3.5.5\",\"karma\":\"^1.6.0\",\"karma-browserify\":\"^5.1.1\",\"karma-chrome-launcher\":\"^2.0.0\",\"karma-firefox-launcher\":\"^1.0.1\",\"karma-mocha\":\"^1.3.0\",\"karma-safari-launcher\":\"^1.0.0\",\"karma-spec-reporter\":\"^0.0.31\",\"mocha\":\"^3.2.0\",\"npm-run-all\":\"^4.0.2\",\"phantom\":\"^4.0.2\",\"release-tool\":\"^0.2.2\",\"requirejs\":\"^2.3.3\",\"rimraf\":\"^2.6.1\",\"selenium-webdriver\":\"3.3.0\",\"sinon\":\"^4.0.1\",\"travis-multirunner\":\"^4.0.0\",\"ts-node\":\"4.0.1\",\"tslint\":\"5.8.0\",\"twilio\":\"^2.11.1\",\"typescript\":\"2.6.2\",\"uglify-js\":\"^2.8.22\",\"vinyl-fs\":\"^2.4.4\",\"vinyl-source-stream\":\"^1.1.0\",\"webrtc-adapter\":\"^4.1.1\"},\"engines\":{\"node\":\">=0.12\"},\"license\":\"BSD-3-Clause\",\"main\":\"./es5/index.js\",\"scripts\":{\"lint\":\"eslint ./lib ./test/*.js ./test/framework/*.js ./test/lib/*.js ./test/integration/** ./test/unit/**\",\"test:unit\":\"mocha ./test/unit/index.js\",\"test:integration:adapter\":\"node ./scripts/karma.js karma/integration.adapter.conf.js\",\"test:integration:travis\":\"node ./scripts/integration.js\",\"test:integration\":\"node ./scripts/karma.js karma/integration.conf.js\",\"test:umd\":\"mocha ./test/umd/index.js\",\"test:crossbrowser:build:clean\":\"rimraf ./test/crossbrowser/lib ./test/crossbrowser/src/browser/index.js\",\"test:crossbrowser:build:lint\":\"cd ./test/crossbrowser && tslint --project tsconfig.json\",\"test:crossbrowser:build:tsc\":\"cd ./test/crossbrowser && tsc\",\"test:crossbrowser:build:browser\":\"cd ./test/crossbrowser && browserify lib/crossbrowser/src/browser/index.js > src/browser/index.js\",\"test:crossbrowser:build\":\"npm-run-all test:crossbrowser:build:*\",\"test:crossbrowser:test\":\"cd ./test/crossbrowser && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts\",\"test:crossbrowser\":\"npm-run-all test:crossbrowser:*\",\"test:sdkdriver:build:clean\":\"rimraf ./test/lib/sdkdriver/lib ./test/lib/sdkdriver/test/integration/browser/index.js\",\"test:sdkdriver:build:lint\":\"cd ./test/lib/sdkdriver && tslint --project tsconfig.json\",\"test:sdkdriver:build:tsc\":\"cd ./test/lib/sdkdriver && tsc --rootDir src\",\"test:sdkdriver:build\":\"npm-run-all test:sdkdriver:build:*\",\"test:sdkdriver:test:unit\":\"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/unit/spec/**/*.ts\",\"test:sdkdriver:test:integration:browser\":\"cd ./test/lib/sdkdriver/test/integration && browserify browser/browser.js > browser/index.js\",\"test:sdkdriver:test:integration:run\":\"cd ./test/lib/sdkdriver && mocha --compilers ts:ts-node/register test/integration/spec/**/*.ts\",\"test:sdkdriver:test:integration\":\"npm-run-all test:sdkdriver:test:integration:*\",\"test:sdkdriver:test\":\"npm-run-all test:sdkdriver:test:*\",\"test:sdkdriver\":\"npm-run-all test:sdkdriver:*\",\"test:framework:angular:install\":\"cd ./test/framework/twilio-video-angular && rimraf ./node_modules && npm install\",\"test:framework:angular:run\":\"mocha ./test/framework/twilio-video-angular.js\",\"test:framework:angular\":\"npm-run-all test:framework:angular:*\",\"test:framework:no-framework:run\":\"mocha ./test/framework/twilio-video-no-framework.js\",\"test:framework:no-framework\":\"npm-run-all test:framework:no-framework:*\",\"test:framework:react:install\":\"cd ./test/framework/twilio-video-react && rimraf ./node_modules && npm install\",\"test:framework:react:test\":\"node ./scripts/framework.js twilio-video-react\",\"test:framework:react:build\":\"cd ./test/framework/twilio-video-react && npm run build\",\"test:framework:react:run\":\"mocha ./test/framework/twilio-video-react.js\",\"test:framework:react\":\"npm-run-all test:framework:react:*\",\"test:framework\":\"npm-run-all test:framework:angular test:framework:no-framework test:framework:react\",\"test\":\"npm-run-all test:unit test:integration\",\"build:es5\":\"rimraf ./es5 && babel lib -d es5\",\"build:js\":\"node ./scripts/build.js ./src/twilio-video.js ./LICENSE.md ./dist/twilio-video.js\",\"build:min.js\":\"uglifyjs ./dist/twilio-video.js -o ./dist/twilio-video.min.js --comments \\\"/^! twilio-video.js/\\\" -b beautify=false,ascii_only=true\",\"build\":\"npm-run-all clean lint docs cover test:integration build:es5 build:js build:min.js test:umd\",\"build:travis\":\"npm-run-all clean lint docs cover test:integration:travis build:es5 build:js build:min.js test:umd test:framework\",\"build:quick\":\"npm-run-all clean lint docs build:es5 build:js build:min.js\",\"docs\":\"node ./scripts/docs.js ./dist/docs\",\"clean\":\"rimraf ./coverage ./es5 ./dist\",\"cover\":\"istanbul cover node_modules/mocha/bin/_mocha -- ./test/unit/index.js\"},\"dependencies\":{\"@twilio/sip.js\":\"^0.7.7\",\"@twilio/webrtc\":\"2.2.1\",\"ws\":\"^3.3.1\",\"xmlhttprequest\":\"^1.8.0\"},\"browser\":{\"ws\":\"./src/ws.js\",\"xmlhttprequest\":\"./src/xmlhttprequest.js\"}}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL3BhY2thZ2UuanNvbj81ZDE4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGtCQUFrQiwyWEFBMlgsbUVBQW1FLG9CQUFvQiw0NkJBQTQ2QixZQUFZLGdCQUFnQiw2REFBNkQsb25IQUFvbkgsaUJBQWlCLDJGQUEyRixZQUFZIiwiZmlsZSI6IjIxOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1wibmFtZVwiOlwidHdpbGlvLXZpZGVvXCIsXCJ0aXRsZVwiOlwiVHdpbGlvIFZpZGVvXCIsXCJkZXNjcmlwdGlvblwiOlwiVHdpbGlvIFZpZGVvIEphdmFTY3JpcHQgbGlicmFyeVwiLFwidmVyc2lvblwiOlwiMS4xNS4yXCIsXCJob21lcGFnZVwiOlwiaHR0cHM6Ly90d2lsaW8uY29tXCIsXCJhdXRob3JcIjpcIk1hcmsgQW5kcnVzIFJvYmVydHMgPG1yb2JlcnRzQHR3aWxpby5jb20+XCIsXCJjb250cmlidXRvcnNcIjpbXCJSeWFuIFJvd2xhbmQgPHJyb3dsYW5kQHR3aWxpby5jb20+XCIsXCJNYW5qZXNoIE1hbGF2YWxsaSA8bW1hbGF2YWxsaUB0d2lsaW8uY29tPlwiXSxcImtleXdvcmRzXCI6W1widHdpbGlvXCIsXCJ3ZWJydGNcIixcImxpYnJhcnlcIixcImphdmFzY3JpcHRcIixcInZpZGVvXCIsXCJyb29tc1wiXSxcInJlcG9zaXRvcnlcIjp7XCJ0eXBlXCI6XCJnaXRcIixcInVybFwiOlwiaHR0cHM6Ly9naXRodWIuY29tL3R3aWxpby90d2lsaW8tdmlkZW8uanMuZ2l0XCJ9LFwiZGV2RGVwZW5kZW5jaWVzXCI6e1wiQHR5cGVzL2V4cHJlc3NcIjpcIl40LjExLjBcIixcIkB0eXBlcy9ub2RlXCI6XCJeOC41LjFcIixcIkB0eXBlcy9zZWxlbml1bS13ZWJkcml2ZXJcIjpcIl4zLjAuOFwiLFwiQHR5cGVzL3dzXCI6XCJeMy4yLjFcIixcImJhYmVsLWNsaVwiOlwiXjYuMjYuMFwiLFwiYmFiZWwtcHJlc2V0LWVzMjAxNVwiOlwiXjYuMjQuMVwiLFwiYnJvd3NlcmlmeVwiOlwiXjE0LjMuMFwiLFwiY2hlZXJpb1wiOlwiXjAuMjIuMFwiLFwiY2hyb21lZHJpdmVyXCI6XCIyLjI4LjBcIixcImVudmlmeVwiOlwiXjQuMC4wXCIsXCJlc2xpbnRcIjpcIl40LjkuMFwiLFwiZXhwcmVzc1wiOlwiXjQuMTYuMlwiLFwiZ2Vja29kcml2ZXJcIjpcIjEuNC4wXCIsXCJpbmstZG9jc3RyYXBcIjpcIl4xLjMuMlwiLFwiaXN0YW5idWxcIjpcIl4wLjQuNVwiLFwianNkb2NcIjpcIl4zLjUuNVwiLFwia2FybWFcIjpcIl4xLjYuMFwiLFwia2FybWEtYnJvd3NlcmlmeVwiOlwiXjUuMS4xXCIsXCJrYXJtYS1jaHJvbWUtbGF1bmNoZXJcIjpcIl4yLjAuMFwiLFwia2FybWEtZmlyZWZveC1sYXVuY2hlclwiOlwiXjEuMC4xXCIsXCJrYXJtYS1tb2NoYVwiOlwiXjEuMy4wXCIsXCJrYXJtYS1zYWZhcmktbGF1bmNoZXJcIjpcIl4xLjAuMFwiLFwia2FybWEtc3BlYy1yZXBvcnRlclwiOlwiXjAuMC4zMVwiLFwibW9jaGFcIjpcIl4zLjIuMFwiLFwibnBtLXJ1bi1hbGxcIjpcIl40LjAuMlwiLFwicGhhbnRvbVwiOlwiXjQuMC4yXCIsXCJyZWxlYXNlLXRvb2xcIjpcIl4wLjIuMlwiLFwicmVxdWlyZWpzXCI6XCJeMi4zLjNcIixcInJpbXJhZlwiOlwiXjIuNi4xXCIsXCJzZWxlbml1bS13ZWJkcml2ZXJcIjpcIjMuMy4wXCIsXCJzaW5vblwiOlwiXjQuMC4xXCIsXCJ0cmF2aXMtbXVsdGlydW5uZXJcIjpcIl40LjAuMFwiLFwidHMtbm9kZVwiOlwiNC4wLjFcIixcInRzbGludFwiOlwiNS44LjBcIixcInR3aWxpb1wiOlwiXjIuMTEuMVwiLFwidHlwZXNjcmlwdFwiOlwiMi42LjJcIixcInVnbGlmeS1qc1wiOlwiXjIuOC4yMlwiLFwidmlueWwtZnNcIjpcIl4yLjQuNFwiLFwidmlueWwtc291cmNlLXN0cmVhbVwiOlwiXjEuMS4wXCIsXCJ3ZWJydGMtYWRhcHRlclwiOlwiXjQuMS4xXCJ9LFwiZW5naW5lc1wiOntcIm5vZGVcIjpcIj49MC4xMlwifSxcImxpY2Vuc2VcIjpcIkJTRC0zLUNsYXVzZVwiLFwibWFpblwiOlwiLi9lczUvaW5kZXguanNcIixcInNjcmlwdHNcIjp7XCJsaW50XCI6XCJlc2xpbnQgLi9saWIgLi90ZXN0LyouanMgLi90ZXN0L2ZyYW1ld29yay8qLmpzIC4vdGVzdC9saWIvKi5qcyAuL3Rlc3QvaW50ZWdyYXRpb24vKiogLi90ZXN0L3VuaXQvKipcIixcInRlc3Q6dW5pdFwiOlwibW9jaGEgLi90ZXN0L3VuaXQvaW5kZXguanNcIixcInRlc3Q6aW50ZWdyYXRpb246YWRhcHRlclwiOlwibm9kZSAuL3NjcmlwdHMva2FybWEuanMga2FybWEvaW50ZWdyYXRpb24uYWRhcHRlci5jb25mLmpzXCIsXCJ0ZXN0OmludGVncmF0aW9uOnRyYXZpc1wiOlwibm9kZSAuL3NjcmlwdHMvaW50ZWdyYXRpb24uanNcIixcInRlc3Q6aW50ZWdyYXRpb25cIjpcIm5vZGUgLi9zY3JpcHRzL2thcm1hLmpzIGthcm1hL2ludGVncmF0aW9uLmNvbmYuanNcIixcInRlc3Q6dW1kXCI6XCJtb2NoYSAuL3Rlc3QvdW1kL2luZGV4LmpzXCIsXCJ0ZXN0OmNyb3NzYnJvd3NlcjpidWlsZDpjbGVhblwiOlwicmltcmFmIC4vdGVzdC9jcm9zc2Jyb3dzZXIvbGliIC4vdGVzdC9jcm9zc2Jyb3dzZXIvc3JjL2Jyb3dzZXIvaW5kZXguanNcIixcInRlc3Q6Y3Jvc3Nicm93c2VyOmJ1aWxkOmxpbnRcIjpcImNkIC4vdGVzdC9jcm9zc2Jyb3dzZXIgJiYgdHNsaW50IC0tcHJvamVjdCB0c2NvbmZpZy5qc29uXCIsXCJ0ZXN0OmNyb3NzYnJvd3NlcjpidWlsZDp0c2NcIjpcImNkIC4vdGVzdC9jcm9zc2Jyb3dzZXIgJiYgdHNjXCIsXCJ0ZXN0OmNyb3NzYnJvd3NlcjpidWlsZDpicm93c2VyXCI6XCJjZCAuL3Rlc3QvY3Jvc3Nicm93c2VyICYmIGJyb3dzZXJpZnkgbGliL2Nyb3NzYnJvd3Nlci9zcmMvYnJvd3Nlci9pbmRleC5qcyA+IHNyYy9icm93c2VyL2luZGV4LmpzXCIsXCJ0ZXN0OmNyb3NzYnJvd3NlcjpidWlsZFwiOlwibnBtLXJ1bi1hbGwgdGVzdDpjcm9zc2Jyb3dzZXI6YnVpbGQ6KlwiLFwidGVzdDpjcm9zc2Jyb3dzZXI6dGVzdFwiOlwiY2QgLi90ZXN0L2Nyb3NzYnJvd3NlciAmJiBtb2NoYSAtLWNvbXBpbGVycyB0czp0cy1ub2RlL3JlZ2lzdGVyIHRlc3QvaW50ZWdyYXRpb24vc3BlYy8qKi8qLnRzXCIsXCJ0ZXN0OmNyb3NzYnJvd3NlclwiOlwibnBtLXJ1bi1hbGwgdGVzdDpjcm9zc2Jyb3dzZXI6KlwiLFwidGVzdDpzZGtkcml2ZXI6YnVpbGQ6Y2xlYW5cIjpcInJpbXJhZiAuL3Rlc3QvbGliL3Nka2RyaXZlci9saWIgLi90ZXN0L2xpYi9zZGtkcml2ZXIvdGVzdC9pbnRlZ3JhdGlvbi9icm93c2VyL2luZGV4LmpzXCIsXCJ0ZXN0OnNka2RyaXZlcjpidWlsZDpsaW50XCI6XCJjZCAuL3Rlc3QvbGliL3Nka2RyaXZlciAmJiB0c2xpbnQgLS1wcm9qZWN0IHRzY29uZmlnLmpzb25cIixcInRlc3Q6c2RrZHJpdmVyOmJ1aWxkOnRzY1wiOlwiY2QgLi90ZXN0L2xpYi9zZGtkcml2ZXIgJiYgdHNjIC0tcm9vdERpciBzcmNcIixcInRlc3Q6c2RrZHJpdmVyOmJ1aWxkXCI6XCJucG0tcnVuLWFsbCB0ZXN0OnNka2RyaXZlcjpidWlsZDoqXCIsXCJ0ZXN0OnNka2RyaXZlcjp0ZXN0OnVuaXRcIjpcImNkIC4vdGVzdC9saWIvc2RrZHJpdmVyICYmIG1vY2hhIC0tY29tcGlsZXJzIHRzOnRzLW5vZGUvcmVnaXN0ZXIgdGVzdC91bml0L3NwZWMvKiovKi50c1wiLFwidGVzdDpzZGtkcml2ZXI6dGVzdDppbnRlZ3JhdGlvbjpicm93c2VyXCI6XCJjZCAuL3Rlc3QvbGliL3Nka2RyaXZlci90ZXN0L2ludGVncmF0aW9uICYmIGJyb3dzZXJpZnkgYnJvd3Nlci9icm93c2VyLmpzID4gYnJvd3Nlci9pbmRleC5qc1wiLFwidGVzdDpzZGtkcml2ZXI6dGVzdDppbnRlZ3JhdGlvbjpydW5cIjpcImNkIC4vdGVzdC9saWIvc2RrZHJpdmVyICYmIG1vY2hhIC0tY29tcGlsZXJzIHRzOnRzLW5vZGUvcmVnaXN0ZXIgdGVzdC9pbnRlZ3JhdGlvbi9zcGVjLyoqLyoudHNcIixcInRlc3Q6c2RrZHJpdmVyOnRlc3Q6aW50ZWdyYXRpb25cIjpcIm5wbS1ydW4tYWxsIHRlc3Q6c2RrZHJpdmVyOnRlc3Q6aW50ZWdyYXRpb246KlwiLFwidGVzdDpzZGtkcml2ZXI6dGVzdFwiOlwibnBtLXJ1bi1hbGwgdGVzdDpzZGtkcml2ZXI6dGVzdDoqXCIsXCJ0ZXN0OnNka2RyaXZlclwiOlwibnBtLXJ1bi1hbGwgdGVzdDpzZGtkcml2ZXI6KlwiLFwidGVzdDpmcmFtZXdvcms6YW5ndWxhcjppbnN0YWxsXCI6XCJjZCAuL3Rlc3QvZnJhbWV3b3JrL3R3aWxpby12aWRlby1hbmd1bGFyICYmIHJpbXJhZiAuL25vZGVfbW9kdWxlcyAmJiBucG0gaW5zdGFsbFwiLFwidGVzdDpmcmFtZXdvcms6YW5ndWxhcjpydW5cIjpcIm1vY2hhIC4vdGVzdC9mcmFtZXdvcmsvdHdpbGlvLXZpZGVvLWFuZ3VsYXIuanNcIixcInRlc3Q6ZnJhbWV3b3JrOmFuZ3VsYXJcIjpcIm5wbS1ydW4tYWxsIHRlc3Q6ZnJhbWV3b3JrOmFuZ3VsYXI6KlwiLFwidGVzdDpmcmFtZXdvcms6bm8tZnJhbWV3b3JrOnJ1blwiOlwibW9jaGEgLi90ZXN0L2ZyYW1ld29yay90d2lsaW8tdmlkZW8tbm8tZnJhbWV3b3JrLmpzXCIsXCJ0ZXN0OmZyYW1ld29yazpuby1mcmFtZXdvcmtcIjpcIm5wbS1ydW4tYWxsIHRlc3Q6ZnJhbWV3b3JrOm5vLWZyYW1ld29yazoqXCIsXCJ0ZXN0OmZyYW1ld29yazpyZWFjdDppbnN0YWxsXCI6XCJjZCAuL3Rlc3QvZnJhbWV3b3JrL3R3aWxpby12aWRlby1yZWFjdCAmJiByaW1yYWYgLi9ub2RlX21vZHVsZXMgJiYgbnBtIGluc3RhbGxcIixcInRlc3Q6ZnJhbWV3b3JrOnJlYWN0OnRlc3RcIjpcIm5vZGUgLi9zY3JpcHRzL2ZyYW1ld29yay5qcyB0d2lsaW8tdmlkZW8tcmVhY3RcIixcInRlc3Q6ZnJhbWV3b3JrOnJlYWN0OmJ1aWxkXCI6XCJjZCAuL3Rlc3QvZnJhbWV3b3JrL3R3aWxpby12aWRlby1yZWFjdCAmJiBucG0gcnVuIGJ1aWxkXCIsXCJ0ZXN0OmZyYW1ld29yazpyZWFjdDpydW5cIjpcIm1vY2hhIC4vdGVzdC9mcmFtZXdvcmsvdHdpbGlvLXZpZGVvLXJlYWN0LmpzXCIsXCJ0ZXN0OmZyYW1ld29yazpyZWFjdFwiOlwibnBtLXJ1bi1hbGwgdGVzdDpmcmFtZXdvcms6cmVhY3Q6KlwiLFwidGVzdDpmcmFtZXdvcmtcIjpcIm5wbS1ydW4tYWxsIHRlc3Q6ZnJhbWV3b3JrOmFuZ3VsYXIgdGVzdDpmcmFtZXdvcms6bm8tZnJhbWV3b3JrIHRlc3Q6ZnJhbWV3b3JrOnJlYWN0XCIsXCJ0ZXN0XCI6XCJucG0tcnVuLWFsbCB0ZXN0OnVuaXQgdGVzdDppbnRlZ3JhdGlvblwiLFwiYnVpbGQ6ZXM1XCI6XCJyaW1yYWYgLi9lczUgJiYgYmFiZWwgbGliIC1kIGVzNVwiLFwiYnVpbGQ6anNcIjpcIm5vZGUgLi9zY3JpcHRzL2J1aWxkLmpzIC4vc3JjL3R3aWxpby12aWRlby5qcyAuL0xJQ0VOU0UubWQgLi9kaXN0L3R3aWxpby12aWRlby5qc1wiLFwiYnVpbGQ6bWluLmpzXCI6XCJ1Z2xpZnlqcyAuL2Rpc3QvdHdpbGlvLXZpZGVvLmpzIC1vIC4vZGlzdC90d2lsaW8tdmlkZW8ubWluLmpzIC0tY29tbWVudHMgXFxcIi9eISB0d2lsaW8tdmlkZW8uanMvXFxcIiAtYiBiZWF1dGlmeT1mYWxzZSxhc2NpaV9vbmx5PXRydWVcIixcImJ1aWxkXCI6XCJucG0tcnVuLWFsbCBjbGVhbiBsaW50IGRvY3MgY292ZXIgdGVzdDppbnRlZ3JhdGlvbiBidWlsZDplczUgYnVpbGQ6anMgYnVpbGQ6bWluLmpzIHRlc3Q6dW1kXCIsXCJidWlsZDp0cmF2aXNcIjpcIm5wbS1ydW4tYWxsIGNsZWFuIGxpbnQgZG9jcyBjb3ZlciB0ZXN0OmludGVncmF0aW9uOnRyYXZpcyBidWlsZDplczUgYnVpbGQ6anMgYnVpbGQ6bWluLmpzIHRlc3Q6dW1kIHRlc3Q6ZnJhbWV3b3JrXCIsXCJidWlsZDpxdWlja1wiOlwibnBtLXJ1bi1hbGwgY2xlYW4gbGludCBkb2NzIGJ1aWxkOmVzNSBidWlsZDpqcyBidWlsZDptaW4uanNcIixcImRvY3NcIjpcIm5vZGUgLi9zY3JpcHRzL2RvY3MuanMgLi9kaXN0L2RvY3NcIixcImNsZWFuXCI6XCJyaW1yYWYgLi9jb3ZlcmFnZSAuL2VzNSAuL2Rpc3RcIixcImNvdmVyXCI6XCJpc3RhbmJ1bCBjb3ZlciBub2RlX21vZHVsZXMvbW9jaGEvYmluL19tb2NoYSAtLSAuL3Rlc3QvdW5pdC9pbmRleC5qc1wifSxcImRlcGVuZGVuY2llc1wiOntcIkB0d2lsaW8vc2lwLmpzXCI6XCJeMC43LjdcIixcIkB0d2lsaW8vd2VicnRjXCI6XCIyLjIuMVwiLFwid3NcIjpcIl4zLjMuMVwiLFwieG1saHR0cHJlcXVlc3RcIjpcIl4xLjguMFwifSxcImJyb3dzZXJcIjp7XCJ3c1wiOlwiLi9zcmMvd3MuanNcIixcInhtbGh0dHByZXF1ZXN0XCI6XCIuL3NyYy94bWxodHRwcmVxdWVzdC5qc1wifX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vcGFja2FnZS5qc29uXG4vLyBtb2R1bGUgaWQgPSAyMTlcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///219\n");

/***/ }),
/* 220 */
/*!*****************************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/cancelablepromise.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * A Promise that can be canceled with {@link CancelablePromise#cancel}.\n * @extends Promise\n*/\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar CancelablePromise = function () {\n  /**\n   * Construct a new {@link CancelablePromise}.\n   * @param {CancelablePromise.OnCreate} onCreate\n   * @param {CancelablePromise.OnCancel} onCancel\n  */ /**\n     * A function to be called on {@link CancelablePromise} creation\n     * @typedef {function} CancelablePromise.OnCreate\n     * @param {function(*)} resolve\n     * @param {function(*)} reject\n     * @param {function(): boolean} isCanceled\n     */ /**\n        * A function to be called when {@link CancelablePromise#cancel} is called\n        * @typedef {function} CancelablePromise.OnCancel\n        */\n  function CancelablePromise(onCreate, onCancel) {\n    var _this = this;\n\n    _classCallCheck(this, CancelablePromise);\n\n    /* istanbul ignore next */\n    Object.defineProperties(this, {\n      _isCancelable: {\n        writable: true,\n        value: true\n      },\n      _isCanceled: {\n        writable: true,\n        value: false\n      },\n      _onCancel: {\n        value: onCancel\n      }\n    });\n\n    Object.defineProperty(this, '_promise', {\n      value: new Promise(function (resolve, reject) {\n        onCreate(function (value) {\n          _this._isCancelable = false;\n          resolve(value);\n        }, function (reason) {\n          _this._isCancelable = false;\n          reject(reason);\n        }, function () {\n          return _this._isCanceled;\n        });\n      })\n    });\n  }\n\n  /**\n   * Create a synchronously-rejected {@link CancelablePromise}.\n   * @param {*} reason\n   * @returns {Promise<*>}\n   */\n\n\n  _createClass(CancelablePromise, [{\n    key: 'cancel',\n\n\n    /**\n     * Attempt to cancel the {@link CancelablePromise}.\n     * @returns {this}\n     */\n    value: function cancel() {\n      if (this._isCancelable) {\n        this._isCanceled = true;\n        this._onCancel();\n      }\n      return this;\n    }\n\n    /**\n     * @param {function} onRejected\n     * @returns {CancelablePromise}\n     */\n\n  }, {\n    key: 'catch',\n    value: function _catch() {\n      var args = [].slice.call(arguments);\n      var promise = this._promise;\n      return new CancelablePromise(function onCreate(resolve, reject) {\n        promise.catch.apply(promise, _toConsumableArray(args)).then(resolve, reject);\n      }, this._onCancel);\n    }\n\n    /**\n     * @param {?function} onResolved\n     * @param {function} [onRejected]\n     * @returns {CancelablePromise}\n     */\n\n  }, {\n    key: 'then',\n    value: function then() {\n      var args = [].slice.call(arguments);\n      var promise = this._promise;\n      return new CancelablePromise(function onCreate(resolve, reject) {\n        promise.then.apply(promise, _toConsumableArray(args)).then(resolve, reject);\n      }, this._onCancel);\n    }\n  }], [{\n    key: 'reject',\n    value: function reject(reason) {\n      return new CancelablePromise(function rejected(resolve, reject) {\n        reject(reason);\n      }, function onCancel() {\n        // Do nothing.\n      });\n    }\n\n    /**\n     * Create a synchronously-resolved {@link CancelablePromise}.\n     * @param {*|Promise<*>|Thenable<*>} result\n     * @returns {CancelablePromise<*>}\n     */\n\n  }, {\n    key: 'resolve',\n    value: function resolve(result) {\n      return new CancelablePromise(function resolved(resolve) {\n        resolve(result);\n      }, function onCancel() {\n        // Do nothing.\n      });\n    }\n  }]);\n\n  return CancelablePromise;\n}();\n\nmodule.exports = CancelablePromise;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL2NhbmNlbGFibGVwcm9taXNlLmpzP2ZkYzUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQSx3Q0FBd0MsK0JBQStCO0FBQ3ZFO0FBQ0E7O0FBRUEsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGtDQUFrQywwQkFBMEIsMENBQTBDLGdCQUFnQixPQUFPLGtCQUFrQixFQUFFLGFBQWEsRUFBRSxPQUFPLHdCQUF3QixFQUFFOztBQUVqTSxpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SjtBQUNBO0FBQ0Esc0JBQXNCLHdCQUF3QjtBQUM5QyxhQUFhLDJCQUEyQjtBQUN4QyxhQUFhLDJCQUEyQjtBQUN4QztBQUNBLG1DQUFtQyx3QkFBd0I7QUFDM0QsaUJBQWlCLFNBQVM7QUFDMUIsZUFBZSxZQUFZO0FBQzNCLGVBQWUsWUFBWTtBQUMzQixlQUFlLG9CQUFvQjtBQUNuQztBQUNBLHdDQUF3QywrQkFBK0I7QUFDdkUsb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxzQ0FBc0Msd0JBQXdCO0FBQzlELGFBQWEsRUFBRTtBQUNmLGVBQWU7QUFDZjs7O0FBR0E7QUFDQTs7O0FBR0E7QUFDQSw4QkFBOEIsd0JBQXdCO0FBQ3RELGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCLGVBQWUsU0FBUztBQUN4QixpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLHdDQUF3Qyx3QkFBd0I7QUFDaEUsZUFBZSx5QkFBeUI7QUFDeEMsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjIyMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBBIFByb21pc2UgdGhhdCBjYW4gYmUgY2FuY2VsZWQgd2l0aCB7QGxpbmsgQ2FuY2VsYWJsZVByb21pc2UjY2FuY2VsfS5cbiAqIEBleHRlbmRzIFByb21pc2VcbiovXG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgQ2FuY2VsYWJsZVByb21pc2UgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSBuZXcge0BsaW5rIENhbmNlbGFibGVQcm9taXNlfS5cbiAgICogQHBhcmFtIHtDYW5jZWxhYmxlUHJvbWlzZS5PbkNyZWF0ZX0gb25DcmVhdGVcbiAgICogQHBhcmFtIHtDYW5jZWxhYmxlUHJvbWlzZS5PbkNhbmNlbH0gb25DYW5jZWxcbiAgKi8gLyoqXG4gICAgICogQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24ge0BsaW5rIENhbmNlbGFibGVQcm9taXNlfSBjcmVhdGlvblxuICAgICAqIEB0eXBlZGVmIHtmdW5jdGlvbn0gQ2FuY2VsYWJsZVByb21pc2UuT25DcmVhdGVcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCopfSByZXNvbHZlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigqKX0gcmVqZWN0XG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpOiBib29sZWFufSBpc0NhbmNlbGVkXG4gICAgICovIC8qKlxuICAgICAgICAqIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4ge0BsaW5rIENhbmNlbGFibGVQcm9taXNlI2NhbmNlbH0gaXMgY2FsbGVkXG4gICAgICAgICogQHR5cGVkZWYge2Z1bmN0aW9ufSBDYW5jZWxhYmxlUHJvbWlzZS5PbkNhbmNlbFxuICAgICAgICAqL1xuICBmdW5jdGlvbiBDYW5jZWxhYmxlUHJvbWlzZShvbkNyZWF0ZSwgb25DYW5jZWwpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbmNlbGFibGVQcm9taXNlKTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgX2lzQ2FuY2VsYWJsZToge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgIH0sXG4gICAgICBfaXNDYW5jZWxlZDoge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9LFxuICAgICAgX29uQ2FuY2VsOiB7XG4gICAgICAgIHZhbHVlOiBvbkNhbmNlbFxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdfcHJvbWlzZScsIHtcbiAgICAgIHZhbHVlOiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIG9uQ3JlYXRlKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIF90aGlzLl9pc0NhbmNlbGFibGUgPSBmYWxzZTtcbiAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgIF90aGlzLl9pc0NhbmNlbGFibGUgPSBmYWxzZTtcbiAgICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5faXNDYW5jZWxlZDtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHN5bmNocm9ub3VzbHktcmVqZWN0ZWQge0BsaW5rIENhbmNlbGFibGVQcm9taXNlfS5cbiAgICogQHBhcmFtIHsqfSByZWFzb25cbiAgICogQHJldHVybnMge1Byb21pc2U8Kj59XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKENhbmNlbGFibGVQcm9taXNlLCBbe1xuICAgIGtleTogJ2NhbmNlbCcsXG5cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHQgdG8gY2FuY2VsIHRoZSB7QGxpbmsgQ2FuY2VsYWJsZVByb21pc2V9LlxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICBpZiAodGhpcy5faXNDYW5jZWxhYmxlKSB7XG4gICAgICAgIHRoaXMuX2lzQ2FuY2VsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9vbkNhbmNlbCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gb25SZWplY3RlZFxuICAgICAqIEByZXR1cm5zIHtDYW5jZWxhYmxlUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY2F0Y2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY2F0Y2goKSB7XG4gICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgIHZhciBwcm9taXNlID0gdGhpcy5fcHJvbWlzZTtcbiAgICAgIHJldHVybiBuZXcgQ2FuY2VsYWJsZVByb21pc2UoZnVuY3Rpb24gb25DcmVhdGUocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHByb21pc2UuY2F0Y2guYXBwbHkocHJvbWlzZSwgX3RvQ29uc3VtYWJsZUFycmF5KGFyZ3MpKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9LCB0aGlzLl9vbkNhbmNlbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/ZnVuY3Rpb259IG9uUmVzb2x2ZWRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb25SZWplY3RlZF1cbiAgICAgKiBAcmV0dXJucyB7Q2FuY2VsYWJsZVByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RoZW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0aGVuKCkge1xuICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuX3Byb21pc2U7XG4gICAgICByZXR1cm4gbmV3IENhbmNlbGFibGVQcm9taXNlKGZ1bmN0aW9uIG9uQ3JlYXRlKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBwcm9taXNlLnRoZW4uYXBwbHkocHJvbWlzZSwgX3RvQ29uc3VtYWJsZUFycmF5KGFyZ3MpKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9LCB0aGlzLl9vbkNhbmNlbCk7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6ICdyZWplY3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWplY3QocmVhc29uKSB7XG4gICAgICByZXR1cm4gbmV3IENhbmNlbGFibGVQcm9taXNlKGZ1bmN0aW9uIHJlamVjdGVkKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgIH0sIGZ1bmN0aW9uIG9uQ2FuY2VsKCkge1xuICAgICAgICAvLyBEbyBub3RoaW5nLlxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgc3luY2hyb25vdXNseS1yZXNvbHZlZCB7QGxpbmsgQ2FuY2VsYWJsZVByb21pc2V9LlxuICAgICAqIEBwYXJhbSB7KnxQcm9taXNlPCo+fFRoZW5hYmxlPCo+fSByZXN1bHRcbiAgICAgKiBAcmV0dXJucyB7Q2FuY2VsYWJsZVByb21pc2U8Kj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3Jlc29sdmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIG5ldyBDYW5jZWxhYmxlUHJvbWlzZShmdW5jdGlvbiByZXNvbHZlZChyZXNvbHZlKSB7XG4gICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgIH0sIGZ1bmN0aW9uIG9uQ2FuY2VsKCkge1xuICAgICAgICAvLyBEbyBub3RoaW5nLlxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENhbmNlbGFibGVQcm9taXNlO1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbGFibGVQcm9taXNlO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvdXRpbC9jYW5jZWxhYmxlcHJvbWlzZS5qc1xuLy8gbW9kdWxlIGlkID0gMjIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///220\n");

/***/ }),
/* 221 */
/*!************************************************************!*\
  !*** ./node_modules/twilio-video/es5/createlocaltracks.js ***!
  \************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar asLocalTrack = __webpack_require__(/*! ./util */ 206).asLocalTrack;\nvar buildLogLevels = __webpack_require__(/*! ./util */ 206).buildLogLevels;\nvar getUserMedia = __webpack_require__(/*! @twilio/webrtc */ 212).getUserMedia;\nvar LocalAudioTrack = __webpack_require__(/*! ./media/track/es5/localaudiotrack */ 216);\nvar LocalDataTrack = __webpack_require__(/*! ./media/track/es5/localdatatrack */ 217);\nvar LocalVideoTrack = __webpack_require__(/*! ./media/track/es5/localvideotrack */ 218);\nvar MediaStreamTrack = __webpack_require__(/*! @twilio/webrtc */ 212).MediaStreamTrack;\nvar Log = __webpack_require__(/*! ./util/log */ 214);\nvar DEFAULT_LOG_LEVEL = __webpack_require__(/*! ./util/constants */ 208).DEFAULT_LOG_LEVEL;\nvar workaround180748 = __webpack_require__(/*! ./webaudio/workaround180748 */ 281);\n\n// This is used to make out which createLocalTracks() call a particular Log\n// statement belongs to. Each call to createLocalTracks() increments this\n// counter.\nvar createLocalTrackCalls = 0;\n\n/**\n * Request {@link LocalTrack}s. By default, it requests a\n * {@link LocalAudioTrack} and a {@link LocalVideoTrack}.\n * @param {CreateLocalTracksOptions} [options]\n * @returns {Promise<Array<LocalTrack>>}\n * @example\n * var Video = require('twilio-video');\n * // Request audio and video tracks\n * Video.createLocalTracks().then(function(localTracks) {\n *   var localMediaContainer = document.getElementById('local-media-container-id');\n *   localTracks.forEach(function(track) {\n *     localMediaContainer.appendChild(track.attach());\n *   });\n * });\n * @example\n * var Video = require('twilio-video');\n * // Request just the default audio track\n * Video.createLocalTracks({ audio: true }).then(function(localTracks) {\n *   return Video.connect('my-token', {\n *     name: 'my-cool-room',\n *     tracks: localTracks\n *   });\n * });\n * @example\n * var Video = require('twilio-video');\n * // Request the audio and video tracks with custom names\n * Video.createLocalTracks({\n *   audio: { name: 'microphone' },\n *   video: { name: 'camera' }\n * }).then(function(localTracks) {\n *   localTracks.forEach(function(localTrack) {\n *     console.log(localTrack.name);\n *   });\n * });\n */\nfunction createLocalTracks(options) {\n  var isAudioVideoAbsent = !(options && ('audio' in options || 'video' in options));\n\n  options = Object.assign({\n    audio: isAudioVideoAbsent,\n    getUserMedia: getUserMedia,\n    logLevel: DEFAULT_LOG_LEVEL,\n    LocalAudioTrack: LocalAudioTrack,\n    LocalDataTrack: LocalDataTrack,\n    LocalVideoTrack: LocalVideoTrack,\n    MediaStreamTrack: MediaStreamTrack,\n    Log: Log,\n    video: isAudioVideoAbsent\n  }, options);\n\n  var logComponentName = '[createLocalTracks #' + ++createLocalTrackCalls + ']';\n  var logLevels = buildLogLevels(options.logLevel);\n  var log = new options.Log('default', logComponentName, logLevels);\n\n  // NOTE(mmalavalli): The Room \"name\" in \"options\" was being used\n  // as the LocalTrack name in asLocalTrack(). So we pass a copy of\n  // \"options\" without the \"name\".\n  var localTrackOptions = Object.assign({ log: log }, options);\n  delete localTrackOptions.name;\n\n  if (options.audio === false && options.video === false) {\n    log.info('Neither audio nor video requested, so returning empty LocalTracks');\n    return Promise.resolve([]);\n  }\n\n  if (options.tracks) {\n    log.info('Adding user-provided LocalTracks');\n    log.debug('LocalTracks:', options.tracks);\n    return Promise.resolve(options.tracks);\n  }\n\n  var localTrackNameOptions = {\n    audio: options.audio && options.audio.name ? { name: options.audio.name } : {},\n    video: options.video && options.video.name ? { name: options.video.name } : {}\n  };\n\n  if (options.audio) {\n    delete options.audio.name;\n  }\n  if (options.video) {\n    delete options.video.name;\n  }\n\n  var mediaStreamConstraints = {\n    audio: options.audio,\n    video: options.video\n  };\n\n  var workaroundWebKitBug180748 = options.audio && options.audio.workaroundWebKitBug180748;\n\n  var mediaStreamPromise = workaroundWebKitBug180748 ? workaround180748(log, options.getUserMedia, mediaStreamConstraints) : options.getUserMedia(mediaStreamConstraints);\n\n  return mediaStreamPromise.then(function (mediaStream) {\n    var mediaStreamTracks = mediaStream.getAudioTracks().concat(mediaStream.getVideoTracks());\n\n    log.info('Call to getUserMedia successful; got MediaStreamTracks:', mediaStreamTracks);\n\n    return mediaStreamTracks.map(function (mediaStreamTrack) {\n      return asLocalTrack(mediaStreamTrack, Object.assign(localTrackNameOptions[mediaStreamTrack.kind], localTrackOptions));\n    });\n  }, function (error) {\n    log.warn('Call to getUserMedia failed:', error);\n    throw error;\n  });\n}\n\n/**\n * {@link createLocalTracks} options\n * @typedef {object} CreateLocalTracksOptions\n * @property {boolean|CreateLocalTrackOptions} [audio=true] - Whether or not to\n *   get local audio with <code>getUserMedia</code> when <code>tracks</code>\n *   are not provided.\n * @property {LogLevel|LogLevels} [logLevel='warn'] - Set the log verbosity\n *   of logging to console. Passing a {@link LogLevel} string will use the same\n *   level for all components. Pass a {@link LogLevels} to set specific log\n *   levels.\n * @property {boolean|CreateLocalTrackOptions} [video=true] - Whether or not to\n *   get local video with <code>getUserMedia</code> when <code>tracks</code>\n *   are not provided.\n */\n\nmodule.exports = createLocalTracks;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9jcmVhdGVsb2NhbHRyYWNrcy5qcz81ZGQ2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLG1CQUFtQixtQkFBTyxDQUFDLGlCQUFRO0FBQ25DLHFCQUFxQixtQkFBTyxDQUFDLGlCQUFRO0FBQ3JDLG1CQUFtQixtQkFBTyxDQUFDLHlCQUFnQjtBQUMzQyxzQkFBc0IsbUJBQU8sQ0FBQyw0Q0FBbUM7QUFDakUscUJBQXFCLG1CQUFPLENBQUMsMkNBQWtDO0FBQy9ELHNCQUFzQixtQkFBTyxDQUFDLDRDQUFtQztBQUNqRSx1QkFBdUIsbUJBQU8sQ0FBQyx5QkFBZ0I7QUFDL0MsVUFBVSxtQkFBTyxDQUFDLHFCQUFZO0FBQzlCLHdCQUF3QixtQkFBTyxDQUFDLDJCQUFrQjtBQUNsRCx1QkFBdUIsbUJBQU8sQ0FBQyxzQ0FBNkI7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWSxpQkFBaUI7QUFDN0IsSUFBSSxzQkFBc0IsUUFBUSxzQkFBc0I7QUFDeEQsV0FBVyx5QkFBeUI7QUFDcEMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsY0FBYztBQUMxQztBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxxQkFBcUI7QUFDbEMsYUFBYTtBQUNiLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsV0FBVztBQUNwRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0RBQWtELDJCQUEyQixLQUFLO0FBQ2xGLGtEQUFrRCwyQkFBMkI7QUFDN0U7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsOENBQThDOztBQUU5QztBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsSUFBSSx3QkFBd0I7QUFDNUIsYUFBYSxPQUFPO0FBQ3BCLGNBQWMsZ0NBQWdDO0FBQzlDO0FBQ0E7QUFDQSxjQUFjLG1CQUFtQjtBQUNqQyx1Q0FBdUMsZUFBZTtBQUN0RCx1Q0FBdUMsZ0JBQWdCO0FBQ3ZEO0FBQ0EsY0FBYyxnQ0FBZ0M7QUFDOUM7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjIyMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGFzTG9jYWxUcmFjayA9IHJlcXVpcmUoJy4vdXRpbCcpLmFzTG9jYWxUcmFjaztcbnZhciBidWlsZExvZ0xldmVscyA9IHJlcXVpcmUoJy4vdXRpbCcpLmJ1aWxkTG9nTGV2ZWxzO1xudmFyIGdldFVzZXJNZWRpYSA9IHJlcXVpcmUoJ0B0d2lsaW8vd2VicnRjJykuZ2V0VXNlck1lZGlhO1xudmFyIExvY2FsQXVkaW9UcmFjayA9IHJlcXVpcmUoJy4vbWVkaWEvdHJhY2svZXM1L2xvY2FsYXVkaW90cmFjaycpO1xudmFyIExvY2FsRGF0YVRyYWNrID0gcmVxdWlyZSgnLi9tZWRpYS90cmFjay9lczUvbG9jYWxkYXRhdHJhY2snKTtcbnZhciBMb2NhbFZpZGVvVHJhY2sgPSByZXF1aXJlKCcuL21lZGlhL3RyYWNrL2VzNS9sb2NhbHZpZGVvdHJhY2snKTtcbnZhciBNZWRpYVN0cmVhbVRyYWNrID0gcmVxdWlyZSgnQHR3aWxpby93ZWJydGMnKS5NZWRpYVN0cmVhbVRyYWNrO1xudmFyIExvZyA9IHJlcXVpcmUoJy4vdXRpbC9sb2cnKTtcbnZhciBERUZBVUxUX0xPR19MRVZFTCA9IHJlcXVpcmUoJy4vdXRpbC9jb25zdGFudHMnKS5ERUZBVUxUX0xPR19MRVZFTDtcbnZhciB3b3JrYXJvdW5kMTgwNzQ4ID0gcmVxdWlyZSgnLi93ZWJhdWRpby93b3JrYXJvdW5kMTgwNzQ4Jyk7XG5cbi8vIFRoaXMgaXMgdXNlZCB0byBtYWtlIG91dCB3aGljaCBjcmVhdGVMb2NhbFRyYWNrcygpIGNhbGwgYSBwYXJ0aWN1bGFyIExvZ1xuLy8gc3RhdGVtZW50IGJlbG9uZ3MgdG8uIEVhY2ggY2FsbCB0byBjcmVhdGVMb2NhbFRyYWNrcygpIGluY3JlbWVudHMgdGhpc1xuLy8gY291bnRlci5cbnZhciBjcmVhdGVMb2NhbFRyYWNrQ2FsbHMgPSAwO1xuXG4vKipcbiAqIFJlcXVlc3Qge0BsaW5rIExvY2FsVHJhY2t9cy4gQnkgZGVmYXVsdCwgaXQgcmVxdWVzdHMgYVxuICoge0BsaW5rIExvY2FsQXVkaW9UcmFja30gYW5kIGEge0BsaW5rIExvY2FsVmlkZW9UcmFja30uXG4gKiBAcGFyYW0ge0NyZWF0ZUxvY2FsVHJhY2tzT3B0aW9uc30gW29wdGlvbnNdXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheTxMb2NhbFRyYWNrPj59XG4gKiBAZXhhbXBsZVxuICogdmFyIFZpZGVvID0gcmVxdWlyZSgndHdpbGlvLXZpZGVvJyk7XG4gKiAvLyBSZXF1ZXN0IGF1ZGlvIGFuZCB2aWRlbyB0cmFja3NcbiAqIFZpZGVvLmNyZWF0ZUxvY2FsVHJhY2tzKCkudGhlbihmdW5jdGlvbihsb2NhbFRyYWNrcykge1xuICogICB2YXIgbG9jYWxNZWRpYUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2NhbC1tZWRpYS1jb250YWluZXItaWQnKTtcbiAqICAgbG9jYWxUcmFja3MuZm9yRWFjaChmdW5jdGlvbih0cmFjaykge1xuICogICAgIGxvY2FsTWVkaWFDb250YWluZXIuYXBwZW5kQ2hpbGQodHJhY2suYXR0YWNoKCkpO1xuICogICB9KTtcbiAqIH0pO1xuICogQGV4YW1wbGVcbiAqIHZhciBWaWRlbyA9IHJlcXVpcmUoJ3R3aWxpby12aWRlbycpO1xuICogLy8gUmVxdWVzdCBqdXN0IHRoZSBkZWZhdWx0IGF1ZGlvIHRyYWNrXG4gKiBWaWRlby5jcmVhdGVMb2NhbFRyYWNrcyh7IGF1ZGlvOiB0cnVlIH0pLnRoZW4oZnVuY3Rpb24obG9jYWxUcmFja3MpIHtcbiAqICAgcmV0dXJuIFZpZGVvLmNvbm5lY3QoJ215LXRva2VuJywge1xuICogICAgIG5hbWU6ICdteS1jb29sLXJvb20nLFxuICogICAgIHRyYWNrczogbG9jYWxUcmFja3NcbiAqICAgfSk7XG4gKiB9KTtcbiAqIEBleGFtcGxlXG4gKiB2YXIgVmlkZW8gPSByZXF1aXJlKCd0d2lsaW8tdmlkZW8nKTtcbiAqIC8vIFJlcXVlc3QgdGhlIGF1ZGlvIGFuZCB2aWRlbyB0cmFja3Mgd2l0aCBjdXN0b20gbmFtZXNcbiAqIFZpZGVvLmNyZWF0ZUxvY2FsVHJhY2tzKHtcbiAqICAgYXVkaW86IHsgbmFtZTogJ21pY3JvcGhvbmUnIH0sXG4gKiAgIHZpZGVvOiB7IG5hbWU6ICdjYW1lcmEnIH1cbiAqIH0pLnRoZW4oZnVuY3Rpb24obG9jYWxUcmFja3MpIHtcbiAqICAgbG9jYWxUcmFja3MuZm9yRWFjaChmdW5jdGlvbihsb2NhbFRyYWNrKSB7XG4gKiAgICAgY29uc29sZS5sb2cobG9jYWxUcmFjay5uYW1lKTtcbiAqICAgfSk7XG4gKiB9KTtcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTG9jYWxUcmFja3Mob3B0aW9ucykge1xuICB2YXIgaXNBdWRpb1ZpZGVvQWJzZW50ID0gIShvcHRpb25zICYmICgnYXVkaW8nIGluIG9wdGlvbnMgfHwgJ3ZpZGVvJyBpbiBvcHRpb25zKSk7XG5cbiAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIGF1ZGlvOiBpc0F1ZGlvVmlkZW9BYnNlbnQsXG4gICAgZ2V0VXNlck1lZGlhOiBnZXRVc2VyTWVkaWEsXG4gICAgbG9nTGV2ZWw6IERFRkFVTFRfTE9HX0xFVkVMLFxuICAgIExvY2FsQXVkaW9UcmFjazogTG9jYWxBdWRpb1RyYWNrLFxuICAgIExvY2FsRGF0YVRyYWNrOiBMb2NhbERhdGFUcmFjayxcbiAgICBMb2NhbFZpZGVvVHJhY2s6IExvY2FsVmlkZW9UcmFjayxcbiAgICBNZWRpYVN0cmVhbVRyYWNrOiBNZWRpYVN0cmVhbVRyYWNrLFxuICAgIExvZzogTG9nLFxuICAgIHZpZGVvOiBpc0F1ZGlvVmlkZW9BYnNlbnRcbiAgfSwgb3B0aW9ucyk7XG5cbiAgdmFyIGxvZ0NvbXBvbmVudE5hbWUgPSAnW2NyZWF0ZUxvY2FsVHJhY2tzICMnICsgKytjcmVhdGVMb2NhbFRyYWNrQ2FsbHMgKyAnXSc7XG4gIHZhciBsb2dMZXZlbHMgPSBidWlsZExvZ0xldmVscyhvcHRpb25zLmxvZ0xldmVsKTtcbiAgdmFyIGxvZyA9IG5ldyBvcHRpb25zLkxvZygnZGVmYXVsdCcsIGxvZ0NvbXBvbmVudE5hbWUsIGxvZ0xldmVscyk7XG5cbiAgLy8gTk9URShtbWFsYXZhbGxpKTogVGhlIFJvb20gXCJuYW1lXCIgaW4gXCJvcHRpb25zXCIgd2FzIGJlaW5nIHVzZWRcbiAgLy8gYXMgdGhlIExvY2FsVHJhY2sgbmFtZSBpbiBhc0xvY2FsVHJhY2soKS4gU28gd2UgcGFzcyBhIGNvcHkgb2ZcbiAgLy8gXCJvcHRpb25zXCIgd2l0aG91dCB0aGUgXCJuYW1lXCIuXG4gIHZhciBsb2NhbFRyYWNrT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBsb2c6IGxvZyB9LCBvcHRpb25zKTtcbiAgZGVsZXRlIGxvY2FsVHJhY2tPcHRpb25zLm5hbWU7XG5cbiAgaWYgKG9wdGlvbnMuYXVkaW8gPT09IGZhbHNlICYmIG9wdGlvbnMudmlkZW8gPT09IGZhbHNlKSB7XG4gICAgbG9nLmluZm8oJ05laXRoZXIgYXVkaW8gbm9yIHZpZGVvIHJlcXVlc3RlZCwgc28gcmV0dXJuaW5nIGVtcHR5IExvY2FsVHJhY2tzJyk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSk7XG4gIH1cblxuICBpZiAob3B0aW9ucy50cmFja3MpIHtcbiAgICBsb2cuaW5mbygnQWRkaW5nIHVzZXItcHJvdmlkZWQgTG9jYWxUcmFja3MnKTtcbiAgICBsb2cuZGVidWcoJ0xvY2FsVHJhY2tzOicsIG9wdGlvbnMudHJhY2tzKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG9wdGlvbnMudHJhY2tzKTtcbiAgfVxuXG4gIHZhciBsb2NhbFRyYWNrTmFtZU9wdGlvbnMgPSB7XG4gICAgYXVkaW86IG9wdGlvbnMuYXVkaW8gJiYgb3B0aW9ucy5hdWRpby5uYW1lID8geyBuYW1lOiBvcHRpb25zLmF1ZGlvLm5hbWUgfSA6IHt9LFxuICAgIHZpZGVvOiBvcHRpb25zLnZpZGVvICYmIG9wdGlvbnMudmlkZW8ubmFtZSA/IHsgbmFtZTogb3B0aW9ucy52aWRlby5uYW1lIH0gOiB7fVxuICB9O1xuXG4gIGlmIChvcHRpb25zLmF1ZGlvKSB7XG4gICAgZGVsZXRlIG9wdGlvbnMuYXVkaW8ubmFtZTtcbiAgfVxuICBpZiAob3B0aW9ucy52aWRlbykge1xuICAgIGRlbGV0ZSBvcHRpb25zLnZpZGVvLm5hbWU7XG4gIH1cblxuICB2YXIgbWVkaWFTdHJlYW1Db25zdHJhaW50cyA9IHtcbiAgICBhdWRpbzogb3B0aW9ucy5hdWRpbyxcbiAgICB2aWRlbzogb3B0aW9ucy52aWRlb1xuICB9O1xuXG4gIHZhciB3b3JrYXJvdW5kV2ViS2l0QnVnMTgwNzQ4ID0gb3B0aW9ucy5hdWRpbyAmJiBvcHRpb25zLmF1ZGlvLndvcmthcm91bmRXZWJLaXRCdWcxODA3NDg7XG5cbiAgdmFyIG1lZGlhU3RyZWFtUHJvbWlzZSA9IHdvcmthcm91bmRXZWJLaXRCdWcxODA3NDggPyB3b3JrYXJvdW5kMTgwNzQ4KGxvZywgb3B0aW9ucy5nZXRVc2VyTWVkaWEsIG1lZGlhU3RyZWFtQ29uc3RyYWludHMpIDogb3B0aW9ucy5nZXRVc2VyTWVkaWEobWVkaWFTdHJlYW1Db25zdHJhaW50cyk7XG5cbiAgcmV0dXJuIG1lZGlhU3RyZWFtUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChtZWRpYVN0cmVhbSkge1xuICAgIHZhciBtZWRpYVN0cmVhbVRyYWNrcyA9IG1lZGlhU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkuY29uY2F0KG1lZGlhU3RyZWFtLmdldFZpZGVvVHJhY2tzKCkpO1xuXG4gICAgbG9nLmluZm8oJ0NhbGwgdG8gZ2V0VXNlck1lZGlhIHN1Y2Nlc3NmdWw7IGdvdCBNZWRpYVN0cmVhbVRyYWNrczonLCBtZWRpYVN0cmVhbVRyYWNrcyk7XG5cbiAgICByZXR1cm4gbWVkaWFTdHJlYW1UcmFja3MubWFwKGZ1bmN0aW9uIChtZWRpYVN0cmVhbVRyYWNrKSB7XG4gICAgICByZXR1cm4gYXNMb2NhbFRyYWNrKG1lZGlhU3RyZWFtVHJhY2ssIE9iamVjdC5hc3NpZ24obG9jYWxUcmFja05hbWVPcHRpb25zW21lZGlhU3RyZWFtVHJhY2sua2luZF0sIGxvY2FsVHJhY2tPcHRpb25zKSk7XG4gICAgfSk7XG4gIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgIGxvZy53YXJuKCdDYWxsIHRvIGdldFVzZXJNZWRpYSBmYWlsZWQ6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9KTtcbn1cblxuLyoqXG4gKiB7QGxpbmsgY3JlYXRlTG9jYWxUcmFja3N9IG9wdGlvbnNcbiAqIEB0eXBlZGVmIHtvYmplY3R9IENyZWF0ZUxvY2FsVHJhY2tzT3B0aW9uc1xuICogQHByb3BlcnR5IHtib29sZWFufENyZWF0ZUxvY2FsVHJhY2tPcHRpb25zfSBbYXVkaW89dHJ1ZV0gLSBXaGV0aGVyIG9yIG5vdCB0b1xuICogICBnZXQgbG9jYWwgYXVkaW8gd2l0aCA8Y29kZT5nZXRVc2VyTWVkaWE8L2NvZGU+IHdoZW4gPGNvZGU+dHJhY2tzPC9jb2RlPlxuICogICBhcmUgbm90IHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtMb2dMZXZlbHxMb2dMZXZlbHN9IFtsb2dMZXZlbD0nd2FybiddIC0gU2V0IHRoZSBsb2cgdmVyYm9zaXR5XG4gKiAgIG9mIGxvZ2dpbmcgdG8gY29uc29sZS4gUGFzc2luZyBhIHtAbGluayBMb2dMZXZlbH0gc3RyaW5nIHdpbGwgdXNlIHRoZSBzYW1lXG4gKiAgIGxldmVsIGZvciBhbGwgY29tcG9uZW50cy4gUGFzcyBhIHtAbGluayBMb2dMZXZlbHN9IHRvIHNldCBzcGVjaWZpYyBsb2dcbiAqICAgbGV2ZWxzLlxuICogQHByb3BlcnR5IHtib29sZWFufENyZWF0ZUxvY2FsVHJhY2tPcHRpb25zfSBbdmlkZW89dHJ1ZV0gLSBXaGV0aGVyIG9yIG5vdCB0b1xuICogICBnZXQgbG9jYWwgdmlkZW8gd2l0aCA8Y29kZT5nZXRVc2VyTWVkaWE8L2NvZGU+IHdoZW4gPGNvZGU+dHJhY2tzPC9jb2RlPlxuICogICBhcmUgbm90IHByb3ZpZGVkLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlTG9jYWxUcmFja3M7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9jcmVhdGVsb2NhbHRyYWNrcy5qc1xuLy8gbW9kdWxlIGlkID0gMjIxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///221\n");

/***/ }),
/* 222 */
/*!*************************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/util/eventtarget.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar EventEmitter = __webpack_require__(/*! events */ 207).EventEmitter;\n\n/**\n * Event target.\n * @class\n */\nfunction EventTarget() {\n  Object.defineProperties(this, {\n    _eventEmitter: {\n      value: new EventEmitter()\n    }\n  });\n}\n\n/**\n * Dispatch an Event to the {@link EventTarget}.\n * @param {Event} event\n */\nEventTarget.prototype.dispatchEvent = function dispatchEvent(event) {\n  return this._eventEmitter.emit(event.type, event);\n};\n\n/**\n * Add an Event listener to the {@link EventTarget}.\n */\nEventTarget.prototype.addEventListener = function addEventListener() {\n  return this._eventEmitter.addListener.apply(this._eventEmitter, arguments);\n};\n\n/**\n * Remove an Event listener to the {@link EventTarget}.\n */\nEventTarget.prototype.removeEventListener = function removeEventListener() {\n  return this._eventEmitter.removeListener.apply(this._eventEmitter, arguments);\n};\n\nmodule.exports = EventTarget;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3V0aWwvZXZlbnR0YXJnZXQuanM/ZjYxNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixtQkFBbUIsbUJBQU8sQ0FBQyxpQkFBUTs7QUFFbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsNkJBQTZCLGtCQUFrQjtBQUMvQyxXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQ0FBaUMsa0JBQWtCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0NBQW9DLGtCQUFrQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIyMjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG5cbi8qKlxuICogRXZlbnQgdGFyZ2V0LlxuICogQGNsYXNzXG4gKi9cbmZ1bmN0aW9uIEV2ZW50VGFyZ2V0KCkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgX2V2ZW50RW1pdHRlcjoge1xuICAgICAgdmFsdWU6IG5ldyBFdmVudEVtaXR0ZXIoKVxuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYW4gRXZlbnQgdG8gdGhlIHtAbGluayBFdmVudFRhcmdldH0uXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICovXG5FdmVudFRhcmdldC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50RW1pdHRlci5lbWl0KGV2ZW50LnR5cGUsIGV2ZW50KTtcbn07XG5cbi8qKlxuICogQWRkIGFuIEV2ZW50IGxpc3RlbmVyIHRvIHRoZSB7QGxpbmsgRXZlbnRUYXJnZXR9LlxuICovXG5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoKSB7XG4gIHJldHVybiB0aGlzLl9ldmVudEVtaXR0ZXIuYWRkTGlzdGVuZXIuYXBwbHkodGhpcy5fZXZlbnRFbWl0dGVyLCBhcmd1bWVudHMpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gRXZlbnQgbGlzdGVuZXIgdG8gdGhlIHtAbGluayBFdmVudFRhcmdldH0uXG4gKi9cbkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcigpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lci5hcHBseSh0aGlzLl9ldmVudEVtaXR0ZXIsIGFyZ3VtZW50cyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50VGFyZ2V0O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3V0aWwvZXZlbnR0YXJnZXQuanNcbi8vIG1vZHVsZSBpZCA9IDIyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///222\n");

/***/ }),
/* 223 */
/*!*********************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/rtcrtpsender.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * RTCRtpSender shim.\n * @param {MediaStreamTrack} track\n * @property {MediaStreamTrack} track\n */\nfunction RTCRtpSenderShim(track) {\n  Object.defineProperties(this, {\n    track: {\n      enumerable: true,\n      value: track,\n      writable: true\n    }\n  });\n}\n\n// NOTE(mmalavalli): Because of the way we will be using this shim, there\n// are a couple of use cases that will not be covered:\n//\n// /* Case 1 */\n// const sender = pc.addTrack(track);\n// assert.equal(sender.track, track);\n// pc.removeTrack(sender);\n// assert.equal(sender.track, null); /* Error */\n//\n// /* Case 2 */\n// const sender = pc.addTrack(track);\n// const senders1 = new Set(pc.getSenders());\n// assert(senders1.has(sender));\n// pc.removeTrack(track);\n// const senders2 = new Set(pc.getSenders());\n// assert(senders2.has(sender)); /* Error */\n//\n// For now, since we only use senders for passing them to RTCPeerConnection#removeTrack(),\n// we will omit handling these use cases for now, and revisit them when we start\n// using the RTCRtpSender APIs.\n\nmodule.exports = RTCRtpSenderShim;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3J0Y3J0cHNlbmRlci5qcz82YTJkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixjQUFjLGlCQUFpQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjIyMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBSVENSdHBTZW5kZXIgc2hpbS5cbiAqIEBwYXJhbSB7TWVkaWFTdHJlYW1UcmFja30gdHJhY2tcbiAqIEBwcm9wZXJ0eSB7TWVkaWFTdHJlYW1UcmFja30gdHJhY2tcbiAqL1xuZnVuY3Rpb24gUlRDUnRwU2VuZGVyU2hpbSh0cmFjaykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgdHJhY2s6IHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdHJhY2ssXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG59XG5cbi8vIE5PVEUobW1hbGF2YWxsaSk6IEJlY2F1c2Ugb2YgdGhlIHdheSB3ZSB3aWxsIGJlIHVzaW5nIHRoaXMgc2hpbSwgdGhlcmVcbi8vIGFyZSBhIGNvdXBsZSBvZiB1c2UgY2FzZXMgdGhhdCB3aWxsIG5vdCBiZSBjb3ZlcmVkOlxuLy9cbi8vIC8qIENhc2UgMSAqL1xuLy8gY29uc3Qgc2VuZGVyID0gcGMuYWRkVHJhY2sodHJhY2spO1xuLy8gYXNzZXJ0LmVxdWFsKHNlbmRlci50cmFjaywgdHJhY2spO1xuLy8gcGMucmVtb3ZlVHJhY2soc2VuZGVyKTtcbi8vIGFzc2VydC5lcXVhbChzZW5kZXIudHJhY2ssIG51bGwpOyAvKiBFcnJvciAqL1xuLy9cbi8vIC8qIENhc2UgMiAqL1xuLy8gY29uc3Qgc2VuZGVyID0gcGMuYWRkVHJhY2sodHJhY2spO1xuLy8gY29uc3Qgc2VuZGVyczEgPSBuZXcgU2V0KHBjLmdldFNlbmRlcnMoKSk7XG4vLyBhc3NlcnQoc2VuZGVyczEuaGFzKHNlbmRlcikpO1xuLy8gcGMucmVtb3ZlVHJhY2sodHJhY2spO1xuLy8gY29uc3Qgc2VuZGVyczIgPSBuZXcgU2V0KHBjLmdldFNlbmRlcnMoKSk7XG4vLyBhc3NlcnQoc2VuZGVyczIuaGFzKHNlbmRlcikpOyAvKiBFcnJvciAqL1xuLy9cbi8vIEZvciBub3csIHNpbmNlIHdlIG9ubHkgdXNlIHNlbmRlcnMgZm9yIHBhc3NpbmcgdGhlbSB0byBSVENQZWVyQ29ubmVjdGlvbiNyZW1vdmVUcmFjaygpLFxuLy8gd2Ugd2lsbCBvbWl0IGhhbmRsaW5nIHRoZXNlIHVzZSBjYXNlcyBmb3Igbm93LCBhbmQgcmV2aXNpdCB0aGVtIHdoZW4gd2Ugc3RhcnRcbi8vIHVzaW5nIHRoZSBSVENSdHBTZW5kZXIgQVBJcy5cblxubW9kdWxlLmV4cG9ydHMgPSBSVENSdHBTZW5kZXJTaGltO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3J0Y3J0cHNlbmRlci5qc1xuLy8gbW9kdWxlIGlkID0gMjIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///223\n");

/***/ }),
/* 224 */
/*!*****************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/util/sdp.js ***!
  \*****************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar flatMap = __webpack_require__(/*! ./ */ 210).flatMap;\n\n/**\n * Match a pattern across lines, returning the first capture group for any\n * matches.\n * @param {string} pattern\n * @param {string} lines\n * @returns {Set<string>} matches\n */\nfunction getMatches(pattern, lines) {\n  var matches = lines.match(new RegExp(pattern, 'gm')) || [];\n  return matches.reduce(function(results, line) {\n    var match = line.match(new RegExp(pattern));\n    return match ? results.add(match[1]) : results;\n  }, new Set());\n}\n\n/**\n * Get a Set of MediaStreamTrack IDs from an SDP.\n * @param {string} pattern\n * @param {string} sdp\n * @returns {Set<string>}\n */\nfunction getTrackIds(pattern, sdp) {\n  return getMatches(pattern, sdp);\n}\n\n/**\n * Get a Set of MediaStreamTrack IDs from a Plan B SDP.\n * @param {string} sdp - Plan B SDP\n * @returns {Set<string>} trackIds\n */\nfunction getPlanBTrackIds(sdp) {\n  return getTrackIds('^a=ssrc:[0-9]+ +msid:.+ +(.+) *$', sdp);\n}\n\n/**\n * Get a Set of MediaStreamTrack IDs from a Unified Plan SDP.\n * @param {string} sdp - Unified Plan SDP\n * @returns {Set<string>} trackIds\n */\nfunction getUnifiedPlanTrackIds(sdp) {\n  return getTrackIds('^a=msid:.+ +(.+) *$', sdp);\n}\n\n/**\n * Get a Set of SSRCs for a MediaStreamTrack from a Plan B SDP.\n * @param {string} sdp - Plan B SDP\n * @param {string} trackId - MediaStreamTrack ID\n * @returns {Set<string>}\n */\nfunction getPlanBSSRCs(sdp, trackId) {\n  var pattern = '^a=ssrc:([0-9]+) +msid:[^ ]+ +' + trackId + ' *$';\n  return getMatches(pattern, sdp);\n}\n\n/**\n * Get the m= sections of a particular kind and direction from an sdp.\n * @param {string} sdp -  sdp string\n * @param {string} [kind] - Pattern for matching kind\n * @param {string} [direction] - Pattern for matching direction\n * @returns {Array<string>} mediaSections\n */\nfunction getMediaSections(sdp, kind, direction) {\n  kind = kind || '.*';\n  direction = direction || '.*';\n  return sdp.split('\\r\\nm=').slice(1).map(function(mediaSection) {\n    return 'm=' + mediaSection;\n  }).filter(function(mediaSection) {\n    var kindPattern = new RegExp('m=' + kind, 'gm');\n    var directionPattern = new RegExp('a=' + direction, 'gm');\n    return kindPattern.test(mediaSection) && directionPattern.test(mediaSection);\n  });\n}\n\n/**\n * Get the Set of SSRCs announced in a MediaSection.\n * @param {string} mediaSection\n * @returns {Array<string>} ssrcs\n */\nfunction getMediaSectionSSRCs(mediaSection) {\n  return Array.from(getMatches('^a=ssrc:([0-9]+) +.*$', mediaSection));\n}\n\n/**\n * Get a Set of SSRCs for a MediaStreamTrack from a Unified Plan SDP.\n * @param {string} sdp - Unified Plan SDP\n * @param {string} trackId - MediaStreamTrack ID\n * @returns {Set<string>}\n */\nfunction getUnifiedPlanSSRCs(sdp, trackId) {\n  var mediaSections = getMediaSections(sdp);\n\n  var msidAttrRegExp = new RegExp('^a=msid:[^ ]+ +' + trackId + ' *$', 'gm');\n  var matchingMediaSections = mediaSections.filter(function(mediaSection) {\n    return mediaSection.match(msidAttrRegExp);\n  });\n\n  return new Set(flatMap(matchingMediaSections, getMediaSectionSSRCs));\n}\n\n/**\n * Get a Map from MediaStreamTrack IDs to SSRCs from an SDP.\n * @param {function(string): Set<string>} getTrackIds\n * @param {function(string, string): Set<string>} getSSRCs\n * @param {string} sdp - SDP\n * @returns {Map<string, Set<string>>} trackIdsToSSRCs\n */\nfunction getTrackIdsToSSRCs(getTrackIds, getSSRCs, sdp) {\n  return new Map(Array.from(getTrackIds(sdp)).map(function(trackId) {\n    return [trackId, getSSRCs(sdp, trackId)];\n  }));\n}\n\n/**\n * Get a Map from MediaStreamTrack IDs to SSRCs from a Plan B SDP.\n * @param {string} sdp - Plan B SDP\n * @returns {Map<string, Set<string>>} trackIdsToSSRCs\n */\nfunction getPlanBTrackIdsToSSRCs(sdp) {\n  return getTrackIdsToSSRCs(getPlanBTrackIds, getPlanBSSRCs, sdp);\n}\n\n/**\n * Get a Map from MediaStreamTrack IDs to SSRCs from a Plan B SDP.\n * @param {string} sdp - Plan B SDP\n * @returns {Map<string, Set<string>>} trackIdsToSSRCs\n */\nfunction getUnifiedPlanTrackIdsToSSRCs(sdp) {\n  return getTrackIdsToSSRCs(getUnifiedPlanTrackIds, getUnifiedPlanSSRCs, sdp);\n}\n\n/**\n * Update the mappings from MediaStreamTrack IDs to SSRCs as indicated by both\n * the Map from MediaStreamTrack IDs to SSRCs and the SDP itself. This method\n * ensures that SSRCs never change once announced.\n * @param {function(string): Map<string, Set<string>>} getTrackIdsToSSRCs\n * @param {Map<string, Set<string>>} trackIdsToSSRCs\n * @param {string} sdp - SDP\n * @returns {strinng} updatedSdp - updated SDP\n */\nfunction updateTrackIdsToSSRCs(getTrackIdsToSSRCs, trackIdsToSSRCs, sdp) {\n  var newTrackIdsToSSRCs = getTrackIdsToSSRCs(sdp);\n  var newSSRCsToOldSSRCs = new Map();\n\n  // NOTE(mroberts): First, update a=ssrc attributes.\n  newTrackIdsToSSRCs.forEach(function(ssrcs, trackId) {\n    if (!trackIdsToSSRCs.has(trackId)) {\n      trackIdsToSSRCs.set(trackId, ssrcs);\n      return;\n    }\n    var oldSSRCs = Array.from(trackIdsToSSRCs.get(trackId));\n    var newSSRCs = Array.from(ssrcs);\n    oldSSRCs.forEach(function(oldSSRC, i) {\n      var newSSRC = newSSRCs[i];\n      newSSRCsToOldSSRCs.set(newSSRC, oldSSRC);\n      var pattern = '^a=ssrc:' + newSSRC + ' (.*)$';\n      var replacement = 'a=ssrc:' + oldSSRC + ' $1';\n      sdp = sdp.replace(new RegExp(pattern, 'gm'), replacement);\n    });\n  });\n\n  // NOTE(mroberts): Then, update a=ssrc-group attributes.\n  var pattern = '^(a=ssrc-group:[^ ]+ +)(.*)$';\n  var matches = sdp.match(new RegExp(pattern, 'gm')) || [];\n  matches.forEach(function(line) {\n    var match = line.match(new RegExp(pattern));\n    if (!match) {\n      return;\n    }\n    var prefix = match[1];\n    var newSSRCs = match[2];\n    var oldSSRCs = newSSRCs.split(' ').map(function(newSSRC) {\n      var oldSSRC = newSSRCsToOldSSRCs.get(newSSRC);\n      return oldSSRC ? oldSSRC : newSSRC;\n    }).join(' ');\n    sdp = sdp.replace(match[0], prefix + oldSSRCs);\n  });\n\n  return sdp;\n}\n\n/**\n * Update the mappings from MediaStreamTrack IDs to SSRCs as indicated by both\n * the Map from MediaStreamTrack IDs to SSRCs and the Plan B SDP itself. This\n * method ensures that SSRCs never change once announced.\n * @param {Map<string, Set<string>>} trackIdsToSSRCs\n * @param {string} sdp - Plan B SDP\n * @returns {string} updatedSdp - updated Plan B SDP\n */\nfunction updatePlanBTrackIdsToSSRCs(trackIdsToSSRCs, sdp) {\n  return updateTrackIdsToSSRCs(getPlanBTrackIdsToSSRCs, trackIdsToSSRCs, sdp);\n}\n\n/**\n * Update the mappings from MediaStreamTrack IDs to SSRCs as indicated by both\n * the Map from MediaStreamTrack IDs to SSRCs and the Plan B SDP itself. This\n * method ensures that SSRCs never change once announced.\n * @param {Map<string, Set<string>>} trackIdsToSSRCs\n * @param {string} sdp - Plan B SDP\n * @returns {string} updatedSdp - updated Plan B SDP\n */\nfunction updateUnifiedPlanTrackIdsToSSRCs(trackIdsToSSRCs, sdp) {\n  return updateTrackIdsToSSRCs(getUnifiedPlanTrackIdsToSSRCs, trackIdsToSSRCs, sdp);\n}\n\n// NOTE(mroberts): We need to cache this result so that we don't create too many\n// RTCPeerConnections.\nvar sdpSemanticsIsSupported;\n\n/**\n * Check whether or not `sdpSemantics` is supported.\n * @returns {boolean}\n */\nfunction checkIfSdpSemanticsIsSupported() {\n  if (typeof sdpSemanticsIsSupported === 'boolean') {\n    return sdpSemanticsIsSupported;\n  }\n  if (typeof RTCPeerConnection === 'undefined') {\n    sdpSemanticsIsSupported = false;\n    return sdpSemanticsIsSupported;\n  }\n  try {\n    new RTCPeerConnection({ sdpSemantics: 'bogus' });\n    sdpSemanticsIsSupported = false;\n    return sdpSemanticsIsSupported;\n  } catch (error) {\n    sdpSemanticsIsSupported = true;\n    return sdpSemanticsIsSupported;\n  }\n}\n\nexports.checkIfSdpSemanticsIsSupported = checkIfSdpSemanticsIsSupported;\nexports.getMediaSections = getMediaSections;\nexports.getPlanBTrackIds = getPlanBTrackIds;\nexports.getUnifiedPlanTrackIds = getUnifiedPlanTrackIds;\nexports.getPlanBSSRCs = getPlanBSSRCs;\nexports.getUnifiedPlanSSRCs = getUnifiedPlanSSRCs;\nexports.updatePlanBTrackIdsToSSRCs = updatePlanBTrackIdsToSSRCs;\nexports.updateUnifiedPlanTrackIdsToSSRCs = updateUnifiedPlanTrackIdsToSSRCs;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3V0aWwvc2RwLmpzPzhhY2UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsY0FBYyxtQkFBTyxDQUFDLGFBQUk7O0FBRTFCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxZQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFlBQVk7QUFDekI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLFlBQVk7QUFDekI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsY0FBYztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYSxjQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLDhCQUE4QjtBQUN6QyxXQUFXLHNDQUFzQztBQUNqRCxXQUFXLE9BQU87QUFDbEIsYUFBYSx5QkFBeUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLHlCQUF5QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEseUJBQXlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywyQ0FBMkM7QUFDdEQsV0FBVyx5QkFBeUI7QUFDcEMsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlCQUF5QjtBQUNwQyxXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx5QkFBeUI7QUFDcEMsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix3QkFBd0I7QUFDbkQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjIyNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGZsYXRNYXAgPSByZXF1aXJlKCcuLycpLmZsYXRNYXA7XG5cbi8qKlxuICogTWF0Y2ggYSBwYXR0ZXJuIGFjcm9zcyBsaW5lcywgcmV0dXJuaW5nIHRoZSBmaXJzdCBjYXB0dXJlIGdyb3VwIGZvciBhbnlcbiAqIG1hdGNoZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0dGVyblxuICogQHBhcmFtIHtzdHJpbmd9IGxpbmVzXG4gKiBAcmV0dXJucyB7U2V0PHN0cmluZz59IG1hdGNoZXNcbiAqL1xuZnVuY3Rpb24gZ2V0TWF0Y2hlcyhwYXR0ZXJuLCBsaW5lcykge1xuICB2YXIgbWF0Y2hlcyA9IGxpbmVzLm1hdGNoKG5ldyBSZWdFeHAocGF0dGVybiwgJ2dtJykpIHx8IFtdO1xuICByZXR1cm4gbWF0Y2hlcy5yZWR1Y2UoZnVuY3Rpb24ocmVzdWx0cywgbGluZSkge1xuICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2gobmV3IFJlZ0V4cChwYXR0ZXJuKSk7XG4gICAgcmV0dXJuIG1hdGNoID8gcmVzdWx0cy5hZGQobWF0Y2hbMV0pIDogcmVzdWx0cztcbiAgfSwgbmV3IFNldCgpKTtcbn1cblxuLyoqXG4gKiBHZXQgYSBTZXQgb2YgTWVkaWFTdHJlYW1UcmFjayBJRHMgZnJvbSBhbiBTRFAuXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0dGVyblxuICogQHBhcmFtIHtzdHJpbmd9IHNkcFxuICogQHJldHVybnMge1NldDxzdHJpbmc+fVxuICovXG5mdW5jdGlvbiBnZXRUcmFja0lkcyhwYXR0ZXJuLCBzZHApIHtcbiAgcmV0dXJuIGdldE1hdGNoZXMocGF0dGVybiwgc2RwKTtcbn1cblxuLyoqXG4gKiBHZXQgYSBTZXQgb2YgTWVkaWFTdHJlYW1UcmFjayBJRHMgZnJvbSBhIFBsYW4gQiBTRFAuXG4gKiBAcGFyYW0ge3N0cmluZ30gc2RwIC0gUGxhbiBCIFNEUFxuICogQHJldHVybnMge1NldDxzdHJpbmc+fSB0cmFja0lkc1xuICovXG5mdW5jdGlvbiBnZXRQbGFuQlRyYWNrSWRzKHNkcCkge1xuICByZXR1cm4gZ2V0VHJhY2tJZHMoJ15hPXNzcmM6WzAtOV0rICttc2lkOi4rICsoLispICokJywgc2RwKTtcbn1cblxuLyoqXG4gKiBHZXQgYSBTZXQgb2YgTWVkaWFTdHJlYW1UcmFjayBJRHMgZnJvbSBhIFVuaWZpZWQgUGxhbiBTRFAuXG4gKiBAcGFyYW0ge3N0cmluZ30gc2RwIC0gVW5pZmllZCBQbGFuIFNEUFxuICogQHJldHVybnMge1NldDxzdHJpbmc+fSB0cmFja0lkc1xuICovXG5mdW5jdGlvbiBnZXRVbmlmaWVkUGxhblRyYWNrSWRzKHNkcCkge1xuICByZXR1cm4gZ2V0VHJhY2tJZHMoJ15hPW1zaWQ6LisgKyguKykgKiQnLCBzZHApO1xufVxuXG4vKipcbiAqIEdldCBhIFNldCBvZiBTU1JDcyBmb3IgYSBNZWRpYVN0cmVhbVRyYWNrIGZyb20gYSBQbGFuIEIgU0RQLlxuICogQHBhcmFtIHtzdHJpbmd9IHNkcCAtIFBsYW4gQiBTRFBcbiAqIEBwYXJhbSB7c3RyaW5nfSB0cmFja0lkIC0gTWVkaWFTdHJlYW1UcmFjayBJRFxuICogQHJldHVybnMge1NldDxzdHJpbmc+fVxuICovXG5mdW5jdGlvbiBnZXRQbGFuQlNTUkNzKHNkcCwgdHJhY2tJZCkge1xuICB2YXIgcGF0dGVybiA9ICdeYT1zc3JjOihbMC05XSspICttc2lkOlteIF0rICsnICsgdHJhY2tJZCArICcgKiQnO1xuICByZXR1cm4gZ2V0TWF0Y2hlcyhwYXR0ZXJuLCBzZHApO1xufVxuXG4vKipcbiAqIEdldCB0aGUgbT0gc2VjdGlvbnMgb2YgYSBwYXJ0aWN1bGFyIGtpbmQgYW5kIGRpcmVjdGlvbiBmcm9tIGFuIHNkcC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZHAgLSAgc2RwIHN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtraW5kXSAtIFBhdHRlcm4gZm9yIG1hdGNoaW5nIGtpbmRcbiAqIEBwYXJhbSB7c3RyaW5nfSBbZGlyZWN0aW9uXSAtIFBhdHRlcm4gZm9yIG1hdGNoaW5nIGRpcmVjdGlvblxuICogQHJldHVybnMge0FycmF5PHN0cmluZz59IG1lZGlhU2VjdGlvbnNcbiAqL1xuZnVuY3Rpb24gZ2V0TWVkaWFTZWN0aW9ucyhzZHAsIGtpbmQsIGRpcmVjdGlvbikge1xuICBraW5kID0ga2luZCB8fCAnLionO1xuICBkaXJlY3Rpb24gPSBkaXJlY3Rpb24gfHwgJy4qJztcbiAgcmV0dXJuIHNkcC5zcGxpdCgnXFxyXFxubT0nKS5zbGljZSgxKS5tYXAoZnVuY3Rpb24obWVkaWFTZWN0aW9uKSB7XG4gICAgcmV0dXJuICdtPScgKyBtZWRpYVNlY3Rpb247XG4gIH0pLmZpbHRlcihmdW5jdGlvbihtZWRpYVNlY3Rpb24pIHtcbiAgICB2YXIga2luZFBhdHRlcm4gPSBuZXcgUmVnRXhwKCdtPScgKyBraW5kLCAnZ20nKTtcbiAgICB2YXIgZGlyZWN0aW9uUGF0dGVybiA9IG5ldyBSZWdFeHAoJ2E9JyArIGRpcmVjdGlvbiwgJ2dtJyk7XG4gICAgcmV0dXJuIGtpbmRQYXR0ZXJuLnRlc3QobWVkaWFTZWN0aW9uKSAmJiBkaXJlY3Rpb25QYXR0ZXJuLnRlc3QobWVkaWFTZWN0aW9uKTtcbiAgfSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBTZXQgb2YgU1NSQ3MgYW5ub3VuY2VkIGluIGEgTWVkaWFTZWN0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IG1lZGlhU2VjdGlvblxuICogQHJldHVybnMge0FycmF5PHN0cmluZz59IHNzcmNzXG4gKi9cbmZ1bmN0aW9uIGdldE1lZGlhU2VjdGlvblNTUkNzKG1lZGlhU2VjdGlvbikge1xuICByZXR1cm4gQXJyYXkuZnJvbShnZXRNYXRjaGVzKCdeYT1zc3JjOihbMC05XSspICsuKiQnLCBtZWRpYVNlY3Rpb24pKTtcbn1cblxuLyoqXG4gKiBHZXQgYSBTZXQgb2YgU1NSQ3MgZm9yIGEgTWVkaWFTdHJlYW1UcmFjayBmcm9tIGEgVW5pZmllZCBQbGFuIFNEUC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZHAgLSBVbmlmaWVkIFBsYW4gU0RQXG4gKiBAcGFyYW0ge3N0cmluZ30gdHJhY2tJZCAtIE1lZGlhU3RyZWFtVHJhY2sgSURcbiAqIEByZXR1cm5zIHtTZXQ8c3RyaW5nPn1cbiAqL1xuZnVuY3Rpb24gZ2V0VW5pZmllZFBsYW5TU1JDcyhzZHAsIHRyYWNrSWQpIHtcbiAgdmFyIG1lZGlhU2VjdGlvbnMgPSBnZXRNZWRpYVNlY3Rpb25zKHNkcCk7XG5cbiAgdmFyIG1zaWRBdHRyUmVnRXhwID0gbmV3IFJlZ0V4cCgnXmE9bXNpZDpbXiBdKyArJyArIHRyYWNrSWQgKyAnICokJywgJ2dtJyk7XG4gIHZhciBtYXRjaGluZ01lZGlhU2VjdGlvbnMgPSBtZWRpYVNlY3Rpb25zLmZpbHRlcihmdW5jdGlvbihtZWRpYVNlY3Rpb24pIHtcbiAgICByZXR1cm4gbWVkaWFTZWN0aW9uLm1hdGNoKG1zaWRBdHRyUmVnRXhwKTtcbiAgfSk7XG5cbiAgcmV0dXJuIG5ldyBTZXQoZmxhdE1hcChtYXRjaGluZ01lZGlhU2VjdGlvbnMsIGdldE1lZGlhU2VjdGlvblNTUkNzKSk7XG59XG5cbi8qKlxuICogR2V0IGEgTWFwIGZyb20gTWVkaWFTdHJlYW1UcmFjayBJRHMgdG8gU1NSQ3MgZnJvbSBhbiBTRFAuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZyk6IFNldDxzdHJpbmc+fSBnZXRUcmFja0lkc1xuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcsIHN0cmluZyk6IFNldDxzdHJpbmc+fSBnZXRTU1JDc1xuICogQHBhcmFtIHtzdHJpbmd9IHNkcCAtIFNEUFxuICogQHJldHVybnMge01hcDxzdHJpbmcsIFNldDxzdHJpbmc+Pn0gdHJhY2tJZHNUb1NTUkNzXG4gKi9cbmZ1bmN0aW9uIGdldFRyYWNrSWRzVG9TU1JDcyhnZXRUcmFja0lkcywgZ2V0U1NSQ3MsIHNkcCkge1xuICByZXR1cm4gbmV3IE1hcChBcnJheS5mcm9tKGdldFRyYWNrSWRzKHNkcCkpLm1hcChmdW5jdGlvbih0cmFja0lkKSB7XG4gICAgcmV0dXJuIFt0cmFja0lkLCBnZXRTU1JDcyhzZHAsIHRyYWNrSWQpXTtcbiAgfSkpO1xufVxuXG4vKipcbiAqIEdldCBhIE1hcCBmcm9tIE1lZGlhU3RyZWFtVHJhY2sgSURzIHRvIFNTUkNzIGZyb20gYSBQbGFuIEIgU0RQLlxuICogQHBhcmFtIHtzdHJpbmd9IHNkcCAtIFBsYW4gQiBTRFBcbiAqIEByZXR1cm5zIHtNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj59IHRyYWNrSWRzVG9TU1JDc1xuICovXG5mdW5jdGlvbiBnZXRQbGFuQlRyYWNrSWRzVG9TU1JDcyhzZHApIHtcbiAgcmV0dXJuIGdldFRyYWNrSWRzVG9TU1JDcyhnZXRQbGFuQlRyYWNrSWRzLCBnZXRQbGFuQlNTUkNzLCBzZHApO1xufVxuXG4vKipcbiAqIEdldCBhIE1hcCBmcm9tIE1lZGlhU3RyZWFtVHJhY2sgSURzIHRvIFNTUkNzIGZyb20gYSBQbGFuIEIgU0RQLlxuICogQHBhcmFtIHtzdHJpbmd9IHNkcCAtIFBsYW4gQiBTRFBcbiAqIEByZXR1cm5zIHtNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj59IHRyYWNrSWRzVG9TU1JDc1xuICovXG5mdW5jdGlvbiBnZXRVbmlmaWVkUGxhblRyYWNrSWRzVG9TU1JDcyhzZHApIHtcbiAgcmV0dXJuIGdldFRyYWNrSWRzVG9TU1JDcyhnZXRVbmlmaWVkUGxhblRyYWNrSWRzLCBnZXRVbmlmaWVkUGxhblNTUkNzLCBzZHApO1xufVxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgbWFwcGluZ3MgZnJvbSBNZWRpYVN0cmVhbVRyYWNrIElEcyB0byBTU1JDcyBhcyBpbmRpY2F0ZWQgYnkgYm90aFxuICogdGhlIE1hcCBmcm9tIE1lZGlhU3RyZWFtVHJhY2sgSURzIHRvIFNTUkNzIGFuZCB0aGUgU0RQIGl0c2VsZi4gVGhpcyBtZXRob2RcbiAqIGVuc3VyZXMgdGhhdCBTU1JDcyBuZXZlciBjaGFuZ2Ugb25jZSBhbm5vdW5jZWQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZyk6IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+Pn0gZ2V0VHJhY2tJZHNUb1NTUkNzXG4gKiBAcGFyYW0ge01hcDxzdHJpbmcsIFNldDxzdHJpbmc+Pn0gdHJhY2tJZHNUb1NTUkNzXG4gKiBAcGFyYW0ge3N0cmluZ30gc2RwIC0gU0RQXG4gKiBAcmV0dXJucyB7c3RyaW5uZ30gdXBkYXRlZFNkcCAtIHVwZGF0ZWQgU0RQXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVRyYWNrSWRzVG9TU1JDcyhnZXRUcmFja0lkc1RvU1NSQ3MsIHRyYWNrSWRzVG9TU1JDcywgc2RwKSB7XG4gIHZhciBuZXdUcmFja0lkc1RvU1NSQ3MgPSBnZXRUcmFja0lkc1RvU1NSQ3Moc2RwKTtcbiAgdmFyIG5ld1NTUkNzVG9PbGRTU1JDcyA9IG5ldyBNYXAoKTtcblxuICAvLyBOT1RFKG1yb2JlcnRzKTogRmlyc3QsIHVwZGF0ZSBhPXNzcmMgYXR0cmlidXRlcy5cbiAgbmV3VHJhY2tJZHNUb1NTUkNzLmZvckVhY2goZnVuY3Rpb24oc3NyY3MsIHRyYWNrSWQpIHtcbiAgICBpZiAoIXRyYWNrSWRzVG9TU1JDcy5oYXModHJhY2tJZCkpIHtcbiAgICAgIHRyYWNrSWRzVG9TU1JDcy5zZXQodHJhY2tJZCwgc3NyY3MpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgb2xkU1NSQ3MgPSBBcnJheS5mcm9tKHRyYWNrSWRzVG9TU1JDcy5nZXQodHJhY2tJZCkpO1xuICAgIHZhciBuZXdTU1JDcyA9IEFycmF5LmZyb20oc3NyY3MpO1xuICAgIG9sZFNTUkNzLmZvckVhY2goZnVuY3Rpb24ob2xkU1NSQywgaSkge1xuICAgICAgdmFyIG5ld1NTUkMgPSBuZXdTU1JDc1tpXTtcbiAgICAgIG5ld1NTUkNzVG9PbGRTU1JDcy5zZXQobmV3U1NSQywgb2xkU1NSQyk7XG4gICAgICB2YXIgcGF0dGVybiA9ICdeYT1zc3JjOicgKyBuZXdTU1JDICsgJyAoLiopJCc7XG4gICAgICB2YXIgcmVwbGFjZW1lbnQgPSAnYT1zc3JjOicgKyBvbGRTU1JDICsgJyAkMSc7XG4gICAgICBzZHAgPSBzZHAucmVwbGFjZShuZXcgUmVnRXhwKHBhdHRlcm4sICdnbScpLCByZXBsYWNlbWVudCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIE5PVEUobXJvYmVydHMpOiBUaGVuLCB1cGRhdGUgYT1zc3JjLWdyb3VwIGF0dHJpYnV0ZXMuXG4gIHZhciBwYXR0ZXJuID0gJ14oYT1zc3JjLWdyb3VwOlteIF0rICspKC4qKSQnO1xuICB2YXIgbWF0Y2hlcyA9IHNkcC5tYXRjaChuZXcgUmVnRXhwKHBhdHRlcm4sICdnbScpKSB8fCBbXTtcbiAgbWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKG5ldyBSZWdFeHAocGF0dGVybikpO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHByZWZpeCA9IG1hdGNoWzFdO1xuICAgIHZhciBuZXdTU1JDcyA9IG1hdGNoWzJdO1xuICAgIHZhciBvbGRTU1JDcyA9IG5ld1NTUkNzLnNwbGl0KCcgJykubWFwKGZ1bmN0aW9uKG5ld1NTUkMpIHtcbiAgICAgIHZhciBvbGRTU1JDID0gbmV3U1NSQ3NUb09sZFNTUkNzLmdldChuZXdTU1JDKTtcbiAgICAgIHJldHVybiBvbGRTU1JDID8gb2xkU1NSQyA6IG5ld1NTUkM7XG4gICAgfSkuam9pbignICcpO1xuICAgIHNkcCA9IHNkcC5yZXBsYWNlKG1hdGNoWzBdLCBwcmVmaXggKyBvbGRTU1JDcyk7XG4gIH0pO1xuXG4gIHJldHVybiBzZHA7XG59XG5cbi8qKlxuICogVXBkYXRlIHRoZSBtYXBwaW5ncyBmcm9tIE1lZGlhU3RyZWFtVHJhY2sgSURzIHRvIFNTUkNzIGFzIGluZGljYXRlZCBieSBib3RoXG4gKiB0aGUgTWFwIGZyb20gTWVkaWFTdHJlYW1UcmFjayBJRHMgdG8gU1NSQ3MgYW5kIHRoZSBQbGFuIEIgU0RQIGl0c2VsZi4gVGhpc1xuICogbWV0aG9kIGVuc3VyZXMgdGhhdCBTU1JDcyBuZXZlciBjaGFuZ2Ugb25jZSBhbm5vdW5jZWQuXG4gKiBAcGFyYW0ge01hcDxzdHJpbmcsIFNldDxzdHJpbmc+Pn0gdHJhY2tJZHNUb1NTUkNzXG4gKiBAcGFyYW0ge3N0cmluZ30gc2RwIC0gUGxhbiBCIFNEUFxuICogQHJldHVybnMge3N0cmluZ30gdXBkYXRlZFNkcCAtIHVwZGF0ZWQgUGxhbiBCIFNEUFxuICovXG5mdW5jdGlvbiB1cGRhdGVQbGFuQlRyYWNrSWRzVG9TU1JDcyh0cmFja0lkc1RvU1NSQ3MsIHNkcCkge1xuICByZXR1cm4gdXBkYXRlVHJhY2tJZHNUb1NTUkNzKGdldFBsYW5CVHJhY2tJZHNUb1NTUkNzLCB0cmFja0lkc1RvU1NSQ3MsIHNkcCk7XG59XG5cbi8qKlxuICogVXBkYXRlIHRoZSBtYXBwaW5ncyBmcm9tIE1lZGlhU3RyZWFtVHJhY2sgSURzIHRvIFNTUkNzIGFzIGluZGljYXRlZCBieSBib3RoXG4gKiB0aGUgTWFwIGZyb20gTWVkaWFTdHJlYW1UcmFjayBJRHMgdG8gU1NSQ3MgYW5kIHRoZSBQbGFuIEIgU0RQIGl0c2VsZi4gVGhpc1xuICogbWV0aG9kIGVuc3VyZXMgdGhhdCBTU1JDcyBuZXZlciBjaGFuZ2Ugb25jZSBhbm5vdW5jZWQuXG4gKiBAcGFyYW0ge01hcDxzdHJpbmcsIFNldDxzdHJpbmc+Pn0gdHJhY2tJZHNUb1NTUkNzXG4gKiBAcGFyYW0ge3N0cmluZ30gc2RwIC0gUGxhbiBCIFNEUFxuICogQHJldHVybnMge3N0cmluZ30gdXBkYXRlZFNkcCAtIHVwZGF0ZWQgUGxhbiBCIFNEUFxuICovXG5mdW5jdGlvbiB1cGRhdGVVbmlmaWVkUGxhblRyYWNrSWRzVG9TU1JDcyh0cmFja0lkc1RvU1NSQ3MsIHNkcCkge1xuICByZXR1cm4gdXBkYXRlVHJhY2tJZHNUb1NTUkNzKGdldFVuaWZpZWRQbGFuVHJhY2tJZHNUb1NTUkNzLCB0cmFja0lkc1RvU1NSQ3MsIHNkcCk7XG59XG5cbi8vIE5PVEUobXJvYmVydHMpOiBXZSBuZWVkIHRvIGNhY2hlIHRoaXMgcmVzdWx0IHNvIHRoYXQgd2UgZG9uJ3QgY3JlYXRlIHRvbyBtYW55XG4vLyBSVENQZWVyQ29ubmVjdGlvbnMuXG52YXIgc2RwU2VtYW50aWNzSXNTdXBwb3J0ZWQ7XG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciBvciBub3QgYHNkcFNlbWFudGljc2AgaXMgc3VwcG9ydGVkLlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGNoZWNrSWZTZHBTZW1hbnRpY3NJc1N1cHBvcnRlZCgpIHtcbiAgaWYgKHR5cGVvZiBzZHBTZW1hbnRpY3NJc1N1cHBvcnRlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIHNkcFNlbWFudGljc0lzU3VwcG9ydGVkO1xuICB9XG4gIGlmICh0eXBlb2YgUlRDUGVlckNvbm5lY3Rpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc2RwU2VtYW50aWNzSXNTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gc2RwU2VtYW50aWNzSXNTdXBwb3J0ZWQ7XG4gIH1cbiAgdHJ5IHtcbiAgICBuZXcgUlRDUGVlckNvbm5lY3Rpb24oeyBzZHBTZW1hbnRpY3M6ICdib2d1cycgfSk7XG4gICAgc2RwU2VtYW50aWNzSXNTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gc2RwU2VtYW50aWNzSXNTdXBwb3J0ZWQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgc2RwU2VtYW50aWNzSXNTdXBwb3J0ZWQgPSB0cnVlO1xuICAgIHJldHVybiBzZHBTZW1hbnRpY3NJc1N1cHBvcnRlZDtcbiAgfVxufVxuXG5leHBvcnRzLmNoZWNrSWZTZHBTZW1hbnRpY3NJc1N1cHBvcnRlZCA9IGNoZWNrSWZTZHBTZW1hbnRpY3NJc1N1cHBvcnRlZDtcbmV4cG9ydHMuZ2V0TWVkaWFTZWN0aW9ucyA9IGdldE1lZGlhU2VjdGlvbnM7XG5leHBvcnRzLmdldFBsYW5CVHJhY2tJZHMgPSBnZXRQbGFuQlRyYWNrSWRzO1xuZXhwb3J0cy5nZXRVbmlmaWVkUGxhblRyYWNrSWRzID0gZ2V0VW5pZmllZFBsYW5UcmFja0lkcztcbmV4cG9ydHMuZ2V0UGxhbkJTU1JDcyA9IGdldFBsYW5CU1NSQ3M7XG5leHBvcnRzLmdldFVuaWZpZWRQbGFuU1NSQ3MgPSBnZXRVbmlmaWVkUGxhblNTUkNzO1xuZXhwb3J0cy51cGRhdGVQbGFuQlRyYWNrSWRzVG9TU1JDcyA9IHVwZGF0ZVBsYW5CVHJhY2tJZHNUb1NTUkNzO1xuZXhwb3J0cy51cGRhdGVVbmlmaWVkUGxhblRyYWNrSWRzVG9TU1JDcyA9IHVwZGF0ZVVuaWZpZWRQbGFuVHJhY2tJZHNUb1NTUkNzO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3V0aWwvc2RwLmpzXG4vLyBtb2R1bGUgaWQgPSAyMjRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///224\n");

/***/ }),
/* 225 */
/*!************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/index.js ***!
  \************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EventEmitter = __webpack_require__(/*! events */ 207).EventEmitter;\nvar buildLogLevels = __webpack_require__(/*! ../../util */ 206).buildLogLevels;\nvar DEFAULT_LOG_LEVEL = __webpack_require__(/*! ../../util/constants */ 208).DEFAULT_LOG_LEVEL;\nvar Log = __webpack_require__(/*! ../../util/log */ 214);\n\nvar nInstances = 0;\n\n/**\n * A {@link Track} represents a stream of audio, video, or data.\n * @extends EventEmitter\n * @property {Track.Kind} kind - The {@link Track}'s kind\n * @property {string} name - The {@link Track}'s name\n */\n\nvar Track = function (_EventEmitter) {\n  _inherits(Track, _EventEmitter);\n\n  /**\n   * Construct a {@link Track}.\n   * @param {Track.ID} id - The {@link Track}'s ID\n   * @param {Track.Kind} kind - The {@link Track}'s kind\n   * @param {{ log: Log, name: ?string }} options\n   */\n  function Track(id, kind, options) {\n    _classCallCheck(this, Track);\n\n    options = Object.assign({\n      name: id,\n      log: null,\n      logLevel: DEFAULT_LOG_LEVEL\n    }, options);\n\n    var _this = _possibleConstructorReturn(this, (Track.__proto__ || Object.getPrototypeOf(Track)).call(this));\n\n    var name = String(options.name);\n\n    var logLevels = buildLogLevels(options.logLevel);\n    var log = options.log ? options.log.createLog('media', _this) : new Log('media', _this, logLevels);\n\n    Object.defineProperties(_this, {\n      _id: {\n        value: id\n      },\n      _instanceId: {\n        value: ++nInstances\n      },\n      _log: {\n        value: log\n      },\n      kind: {\n        enumerable: true,\n        value: kind\n      },\n      name: {\n        enumerable: true,\n        value: name\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * The {@link Track}'s ID.\n   * @property {Track.ID}\n   */\n\n\n  _createClass(Track, [{\n    key: 'id',\n    get: function get() {\n      return this._id;\n    }\n  }]);\n\n  return Track;\n}(EventEmitter);\n\n/**\n * The {@link Track} ID is a string identifier for the {@link Track}.\n * @typedef {string} Track.ID\n */\n\n/**\n * The {@link Track} kind is either \"audio\", \"video\", or \"data\".\n * @typedef {string} Track.Kind\n */\n\n/**\n * The {@link Track} SID is a unique string identifier for the {@link Track}\n * that is published to a {@link Room}.\n * @typedef {string} Track.SID\n */\n\n/**\n * A {@link DataTrack} is a {@link LocalDataTrack} or {@link RemoteDataTrack}.\n * @typedef {LocalDataTrack|RemoteDataTrack} DataTrack\n */\n\n/**\n * A {@link LocalTrack} is a {@link LocalAudioTrack}, {@link LocalVideoTrack},\n * or {@link LocalDataTrack}.\n * @typedef {LocalAudioTrack|LocalVideoTrack|LocalDataTrack} LocalTrack\n */\n\n/**\n * {@link LocalTrack} options\n * @typedef {object} LocalTrackOptions\n * @property {LogLevel|LogLevels} logLevel - Log level for 'media' modules\n * @property {string} [name] - The {@link LocalTrack}'s name; by default,\n *   it is set to the {@link LocalTrack}'s ID.\n */\n\n/**\n * A {@link RemoteTrack} is a {@link RemoteAudioTrack},\n * {@link RemoteVideoTrack}, or {@link RemoteDataTrack}.\n * @typedef {RemoteAudioTrack|RemoteVideoTrack|RemoteDataTrack} RemoteTrack\n */\n\nmodule.exports = Track;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9pbmRleC5qcz8zYzU3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLG1CQUFtQixtQkFBTyxDQUFDLGlCQUFRO0FBQ25DLHFCQUFxQixtQkFBTyxDQUFDLHFCQUFZO0FBQ3pDLHdCQUF3QixtQkFBTyxDQUFDLCtCQUFzQjtBQUN0RCxVQUFVLG1CQUFPLENBQUMseUJBQWdCOztBQUVsQzs7QUFFQTtBQUNBLE1BQU0sWUFBWTtBQUNsQjtBQUNBLGNBQWMsV0FBVyxhQUFhLFlBQVk7QUFDbEQsY0FBYyxPQUFPLGFBQWEsWUFBWTtBQUM5Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUIsYUFBYSxTQUFTLFdBQVcsWUFBWTtBQUM3QyxhQUFhLFdBQVcsYUFBYSxZQUFZO0FBQ2pELGNBQWMsMkJBQTJCO0FBQ3pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCLGdCQUFnQjtBQUNoQjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0EsUUFBUSxZQUFZLG9DQUFvQyxZQUFZO0FBQ3BFLGFBQWEsT0FBTztBQUNwQjs7QUFFQTtBQUNBLFFBQVEsWUFBWTtBQUNwQixhQUFhLE9BQU87QUFDcEI7O0FBRUE7QUFDQSxRQUFRLFlBQVksNENBQTRDO0FBQ2hFLDJCQUEyQixXQUFXO0FBQ3RDLGFBQWEsT0FBTztBQUNwQjs7QUFFQTtBQUNBLE1BQU0sZ0JBQWdCLE9BQU8scUJBQXFCLEtBQUssc0JBQXNCO0FBQzdFLGFBQWEsK0JBQStCO0FBQzVDOztBQUVBO0FBQ0EsTUFBTSxpQkFBaUIsT0FBTyxzQkFBc0IsR0FBRyxzQkFBc0I7QUFDN0UsT0FBTyxxQkFBcUI7QUFDNUIsYUFBYSwrQ0FBK0M7QUFDNUQ7O0FBRUE7QUFDQSxJQUFJLGlCQUFpQjtBQUNyQixhQUFhLE9BQU87QUFDcEIsY0FBYyxtQkFBbUI7QUFDakMsY0FBYyxPQUFPLGVBQWUsaUJBQWlCLFFBQVE7QUFDN0QsdUJBQXVCLGlCQUFpQjtBQUN4Qzs7QUFFQTtBQUNBLE1BQU0sa0JBQWtCLE9BQU8sdUJBQXVCO0FBQ3RELElBQUksdUJBQXVCLE1BQU0sc0JBQXNCO0FBQ3ZELGFBQWEsa0RBQWtEO0FBQy9EOztBQUVBIiwiZmlsZSI6IjIyNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xudmFyIGJ1aWxkTG9nTGV2ZWxzID0gcmVxdWlyZSgnLi4vLi4vdXRpbCcpLmJ1aWxkTG9nTGV2ZWxzO1xudmFyIERFRkFVTFRfTE9HX0xFVkVMID0gcmVxdWlyZSgnLi4vLi4vdXRpbC9jb25zdGFudHMnKS5ERUZBVUxUX0xPR19MRVZFTDtcbnZhciBMb2cgPSByZXF1aXJlKCcuLi8uLi91dGlsL2xvZycpO1xuXG52YXIgbkluc3RhbmNlcyA9IDA7XG5cbi8qKlxuICogQSB7QGxpbmsgVHJhY2t9IHJlcHJlc2VudHMgYSBzdHJlYW0gb2YgYXVkaW8sIHZpZGVvLCBvciBkYXRhLlxuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKiBAcHJvcGVydHkge1RyYWNrLktpbmR9IGtpbmQgLSBUaGUge0BsaW5rIFRyYWNrfSdzIGtpbmRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBuYW1lIC0gVGhlIHtAbGluayBUcmFja30ncyBuYW1lXG4gKi9cblxudmFyIFRyYWNrID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgX2luaGVyaXRzKFRyYWNrLCBfRXZlbnRFbWl0dGVyKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGEge0BsaW5rIFRyYWNrfS5cbiAgICogQHBhcmFtIHtUcmFjay5JRH0gaWQgLSBUaGUge0BsaW5rIFRyYWNrfSdzIElEXG4gICAqIEBwYXJhbSB7VHJhY2suS2luZH0ga2luZCAtIFRoZSB7QGxpbmsgVHJhY2t9J3Mga2luZFxuICAgKiBAcGFyYW0ge3sgbG9nOiBMb2csIG5hbWU6ID9zdHJpbmcgfX0gb3B0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gVHJhY2soaWQsIGtpbmQsIG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhY2spO1xuXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgbmFtZTogaWQsXG4gICAgICBsb2c6IG51bGwsXG4gICAgICBsb2dMZXZlbDogREVGQVVMVF9MT0dfTEVWRUxcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUcmFjay5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRyYWNrKSkuY2FsbCh0aGlzKSk7XG5cbiAgICB2YXIgbmFtZSA9IFN0cmluZyhvcHRpb25zLm5hbWUpO1xuXG4gICAgdmFyIGxvZ0xldmVscyA9IGJ1aWxkTG9nTGV2ZWxzKG9wdGlvbnMubG9nTGV2ZWwpO1xuICAgIHZhciBsb2cgPSBvcHRpb25zLmxvZyA/IG9wdGlvbnMubG9nLmNyZWF0ZUxvZygnbWVkaWEnLCBfdGhpcykgOiBuZXcgTG9nKCdtZWRpYScsIF90aGlzLCBsb2dMZXZlbHMpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX3RoaXMsIHtcbiAgICAgIF9pZDoge1xuICAgICAgICB2YWx1ZTogaWRcbiAgICAgIH0sXG4gICAgICBfaW5zdGFuY2VJZDoge1xuICAgICAgICB2YWx1ZTogKytuSW5zdGFuY2VzXG4gICAgICB9LFxuICAgICAgX2xvZzoge1xuICAgICAgICB2YWx1ZTogbG9nXG4gICAgICB9LFxuICAgICAga2luZDoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZToga2luZFxuICAgICAgfSxcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG5hbWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHtAbGluayBUcmFja30ncyBJRC5cbiAgICogQHByb3BlcnR5IHtUcmFjay5JRH1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoVHJhY2ssIFt7XG4gICAga2V5OiAnaWQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2lkO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUcmFjaztcbn0oRXZlbnRFbWl0dGVyKTtcblxuLyoqXG4gKiBUaGUge0BsaW5rIFRyYWNrfSBJRCBpcyBhIHN0cmluZyBpZGVudGlmaWVyIGZvciB0aGUge0BsaW5rIFRyYWNrfS5cbiAqIEB0eXBlZGVmIHtzdHJpbmd9IFRyYWNrLklEXG4gKi9cblxuLyoqXG4gKiBUaGUge0BsaW5rIFRyYWNrfSBraW5kIGlzIGVpdGhlciBcImF1ZGlvXCIsIFwidmlkZW9cIiwgb3IgXCJkYXRhXCIuXG4gKiBAdHlwZWRlZiB7c3RyaW5nfSBUcmFjay5LaW5kXG4gKi9cblxuLyoqXG4gKiBUaGUge0BsaW5rIFRyYWNrfSBTSUQgaXMgYSB1bmlxdWUgc3RyaW5nIGlkZW50aWZpZXIgZm9yIHRoZSB7QGxpbmsgVHJhY2t9XG4gKiB0aGF0IGlzIHB1Ymxpc2hlZCB0byBhIHtAbGluayBSb29tfS5cbiAqIEB0eXBlZGVmIHtzdHJpbmd9IFRyYWNrLlNJRFxuICovXG5cbi8qKlxuICogQSB7QGxpbmsgRGF0YVRyYWNrfSBpcyBhIHtAbGluayBMb2NhbERhdGFUcmFja30gb3Ige0BsaW5rIFJlbW90ZURhdGFUcmFja30uXG4gKiBAdHlwZWRlZiB7TG9jYWxEYXRhVHJhY2t8UmVtb3RlRGF0YVRyYWNrfSBEYXRhVHJhY2tcbiAqL1xuXG4vKipcbiAqIEEge0BsaW5rIExvY2FsVHJhY2t9IGlzIGEge0BsaW5rIExvY2FsQXVkaW9UcmFja30sIHtAbGluayBMb2NhbFZpZGVvVHJhY2t9LFxuICogb3Ige0BsaW5rIExvY2FsRGF0YVRyYWNrfS5cbiAqIEB0eXBlZGVmIHtMb2NhbEF1ZGlvVHJhY2t8TG9jYWxWaWRlb1RyYWNrfExvY2FsRGF0YVRyYWNrfSBMb2NhbFRyYWNrXG4gKi9cblxuLyoqXG4gKiB7QGxpbmsgTG9jYWxUcmFja30gb3B0aW9uc1xuICogQHR5cGVkZWYge29iamVjdH0gTG9jYWxUcmFja09wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7TG9nTGV2ZWx8TG9nTGV2ZWxzfSBsb2dMZXZlbCAtIExvZyBsZXZlbCBmb3IgJ21lZGlhJyBtb2R1bGVzXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW25hbWVdIC0gVGhlIHtAbGluayBMb2NhbFRyYWNrfSdzIG5hbWU7IGJ5IGRlZmF1bHQsXG4gKiAgIGl0IGlzIHNldCB0byB0aGUge0BsaW5rIExvY2FsVHJhY2t9J3MgSUQuXG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBSZW1vdGVUcmFja30gaXMgYSB7QGxpbmsgUmVtb3RlQXVkaW9UcmFja30sXG4gKiB7QGxpbmsgUmVtb3RlVmlkZW9UcmFja30sIG9yIHtAbGluayBSZW1vdGVEYXRhVHJhY2t9LlxuICogQHR5cGVkZWYge1JlbW90ZUF1ZGlvVHJhY2t8UmVtb3RlVmlkZW9UcmFja3xSZW1vdGVEYXRhVHJhY2t9IFJlbW90ZVRyYWNrXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBUcmFjaztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L21lZGlhL3RyYWNrL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyMjVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///225\n");

/***/ }),
/* 226 */
/*!*****************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/remotetrackpublication.js ***!
  \*****************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TrackPublication = __webpack_require__(/*! ./trackpublication */ 245);\n\n/**\n * A {@link RemoteTrackPublication} represents a {@link RemoteTrack} that has\n * been published to a {@link Room}.\n * @property {Track.Kind} kind - kind of the published {@link RemoteTrack}\n * @emits RemoteTrackPublication#subscribed\n * @emits RemoteTrackPublication#trackDisabled\n * @emits RemoteTrackPublication#trackEnabled\n * @emits RemoteTrackPublication#unsubscribed\n */\n\nvar RemoteTrackPublication = function (_TrackPublication) {\n  _inherits(RemoteTrackPublication, _TrackPublication);\n\n  /**\n   * Construct a {@link RemoteTrackPublication}.\n   * @param {RemoteTrackPublicationSignaling} signaling - {@link RemoteTrackPublication} signaling\n   * @param {RemoteTrackPublicationOptions} options - {@link RemoteTrackPublication}\n   *   options\n   */\n  function RemoteTrackPublication(signaling, options) {\n    _classCallCheck(this, RemoteTrackPublication);\n\n    var _this = _possibleConstructorReturn(this, (RemoteTrackPublication.__proto__ || Object.getPrototypeOf(RemoteTrackPublication)).call(this, signaling.name, signaling.sid, options));\n\n    Object.defineProperties(_this, {\n      _signaling: {\n        value: signaling\n      },\n      _track: {\n        value: null,\n        writable: true\n      },\n      kind: {\n        enumerable: true,\n        value: signaling.kind\n      }\n    });\n\n    signaling.on('updated', function () {\n      if (signaling.error) {\n        _this.emit('subscriptionFailed', signaling.error);\n        return;\n      }\n      if (_this.track) {\n        _this.track._setEnabled(signaling.isEnabled);\n      }\n      _this.emit(signaling.isEnabled ? 'trackEnabled' : 'trackDisabled');\n    });\n    return _this;\n  }\n\n  _createClass(RemoteTrackPublication, [{\n    key: 'toString',\n    value: function toString() {\n      return '[RemoteTrackPublication #' + this._instanceId + ': ' + this.trackSid + ']';\n    }\n\n    /**\n     * Whether the published {@link RemoteTrack} is subscribed to\n     * @property {boolean}\n     */\n\n  }, {\n    key: '_subscribed',\n\n\n    /**\n     * @private\n     * @param {RemoteTrack} track\n     */\n    value: function _subscribed(track) {\n      if (!this._track && track) {\n        this._track = track;\n        this.emit('subscribed', track);\n      }\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_unsubscribe',\n    value: function _unsubscribe() {\n      if (this._track) {\n        var track = this._track;\n        this._track = null;\n        track._unsubscribe();\n        this.emit('unsubscribed', track);\n      }\n    }\n  }, {\n    key: 'isSubscribed',\n    get: function get() {\n      return !!this._track;\n    }\n\n    /**\n     * Whether the published {@link RemoteTrack} is enabled\n     * @property {boolean}\n     */\n\n  }, {\n    key: 'isTrackEnabled',\n    get: function get() {\n      return this._signaling.isEnabled;\n    }\n\n    /**\n     * Unless you have subscribed to the {@link RemoteTrack}, this property is null\n     * @property {?RemoteTrack}\n     */\n\n  }, {\n    key: 'track',\n    get: function get() {\n      return this._track;\n    }\n  }]);\n\n  return RemoteTrackPublication;\n}(TrackPublication);\n\n/**\n * Your {@link LocalParticipant} subscribed to the {@link RemoteTrack}.\n * @param {RemoteTrack} track - the {@link RemoteTrack} that was subscribed to\n * @event RemoteTrackPublication#subscribed\n */\n\n/**\n * The {@link RemoteTrack} was disabled.\n * @event RemoteTrackPublication#trackDisabled\n */\n\n/**\n * The {@link RemoteTrack} was enabled.\n * @event RemoteTrackPublication#trackEnabled\n */\n\n/**\n * Your {@link LocalParticipant} unsubscribed from the {@link RemoteTrack}.\n * @param {RemoteTrack} track - the {@link RemoteTrack} that was unsubscribed from\n * @event RemoteTrackPublication#unsubscribed\n */\n\n/**\n * {@link RemoteTrackPublication} options\n * @typedef {object} RemoteTrackPublicationOptions\n * @property {LogLevel|LogLevels} logLevel - Log level for 'media' modules\n */\n\nmodule.exports = RemoteTrackPublication;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9yZW1vdGV0cmFja3B1YmxpY2F0aW9uLmpzPzFlMjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsdUJBQXVCLG1CQUFPLENBQUMsNkJBQW9COztBQUVuRDtBQUNBLE1BQU0sNkJBQTZCLGVBQWUsa0JBQWtCO0FBQ3BFLHdCQUF3QixXQUFXO0FBQ25DLGNBQWMsV0FBVywrQkFBK0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLDZCQUE2QjtBQUMvQyxhQUFhLGdDQUFnQyxjQUFjLDZCQUE2QjtBQUN4RixhQUFhLDhCQUE4QixZQUFZO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4QkFBOEIsa0JBQWtCO0FBQ2hELGtCQUFrQjtBQUNsQjs7QUFFQSxHQUFHO0FBQ0g7OztBQUdBO0FBQ0E7QUFDQSxlQUFlLFlBQVk7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4QkFBOEIsa0JBQWtCO0FBQ2hELGtCQUFrQjtBQUNsQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQ0FBMEMsa0JBQWtCO0FBQzVELGtCQUFrQjtBQUNsQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLFNBQVMsdUJBQXVCLG9CQUFvQixrQkFBa0I7QUFDdEUsV0FBVyxZQUFZLGNBQWMsa0JBQWtCO0FBQ3ZEO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLGtCQUFrQjtBQUMxQjtBQUNBOztBQUVBO0FBQ0EsUUFBUSxrQkFBa0I7QUFDMUI7QUFDQTs7QUFFQTtBQUNBLFNBQVMsdUJBQXVCLHdCQUF3QixrQkFBa0I7QUFDMUUsV0FBVyxZQUFZLGNBQWMsa0JBQWtCO0FBQ3ZEO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLDZCQUE2QjtBQUNqQyxhQUFhLE9BQU87QUFDcEIsY0FBYyxtQkFBbUI7QUFDakM7O0FBRUEiLCJmaWxlIjoiMjI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBUcmFja1B1YmxpY2F0aW9uID0gcmVxdWlyZSgnLi90cmFja3B1YmxpY2F0aW9uJyk7XG5cbi8qKlxuICogQSB7QGxpbmsgUmVtb3RlVHJhY2tQdWJsaWNhdGlvbn0gcmVwcmVzZW50cyBhIHtAbGluayBSZW1vdGVUcmFja30gdGhhdCBoYXNcbiAqIGJlZW4gcHVibGlzaGVkIHRvIGEge0BsaW5rIFJvb219LlxuICogQHByb3BlcnR5IHtUcmFjay5LaW5kfSBraW5kIC0ga2luZCBvZiB0aGUgcHVibGlzaGVkIHtAbGluayBSZW1vdGVUcmFja31cbiAqIEBlbWl0cyBSZW1vdGVUcmFja1B1YmxpY2F0aW9uI3N1YnNjcmliZWRcbiAqIEBlbWl0cyBSZW1vdGVUcmFja1B1YmxpY2F0aW9uI3RyYWNrRGlzYWJsZWRcbiAqIEBlbWl0cyBSZW1vdGVUcmFja1B1YmxpY2F0aW9uI3RyYWNrRW5hYmxlZFxuICogQGVtaXRzIFJlbW90ZVRyYWNrUHVibGljYXRpb24jdW5zdWJzY3JpYmVkXG4gKi9cblxudmFyIFJlbW90ZVRyYWNrUHVibGljYXRpb24gPSBmdW5jdGlvbiAoX1RyYWNrUHVibGljYXRpb24pIHtcbiAgX2luaGVyaXRzKFJlbW90ZVRyYWNrUHVibGljYXRpb24sIF9UcmFja1B1YmxpY2F0aW9uKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGEge0BsaW5rIFJlbW90ZVRyYWNrUHVibGljYXRpb259LlxuICAgKiBAcGFyYW0ge1JlbW90ZVRyYWNrUHVibGljYXRpb25TaWduYWxpbmd9IHNpZ25hbGluZyAtIHtAbGluayBSZW1vdGVUcmFja1B1YmxpY2F0aW9ufSBzaWduYWxpbmdcbiAgICogQHBhcmFtIHtSZW1vdGVUcmFja1B1YmxpY2F0aW9uT3B0aW9uc30gb3B0aW9ucyAtIHtAbGluayBSZW1vdGVUcmFja1B1YmxpY2F0aW9ufVxuICAgKiAgIG9wdGlvbnNcbiAgICovXG4gIGZ1bmN0aW9uIFJlbW90ZVRyYWNrUHVibGljYXRpb24oc2lnbmFsaW5nLCBvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbW90ZVRyYWNrUHVibGljYXRpb24pO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJlbW90ZVRyYWNrUHVibGljYXRpb24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSZW1vdGVUcmFja1B1YmxpY2F0aW9uKSkuY2FsbCh0aGlzLCBzaWduYWxpbmcubmFtZSwgc2lnbmFsaW5nLnNpZCwgb3B0aW9ucykpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX3RoaXMsIHtcbiAgICAgIF9zaWduYWxpbmc6IHtcbiAgICAgICAgdmFsdWU6IHNpZ25hbGluZ1xuICAgICAgfSxcbiAgICAgIF90cmFjazoge1xuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBraW5kOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBzaWduYWxpbmcua2luZFxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc2lnbmFsaW5nLm9uKCd1cGRhdGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNpZ25hbGluZy5lcnJvcikge1xuICAgICAgICBfdGhpcy5lbWl0KCdzdWJzY3JpcHRpb25GYWlsZWQnLCBzaWduYWxpbmcuZXJyb3IpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoX3RoaXMudHJhY2spIHtcbiAgICAgICAgX3RoaXMudHJhY2suX3NldEVuYWJsZWQoc2lnbmFsaW5nLmlzRW5hYmxlZCk7XG4gICAgICB9XG4gICAgICBfdGhpcy5lbWl0KHNpZ25hbGluZy5pc0VuYWJsZWQgPyAndHJhY2tFbmFibGVkJyA6ICd0cmFja0Rpc2FibGVkJyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJlbW90ZVRyYWNrUHVibGljYXRpb24sIFt7XG4gICAga2V5OiAndG9TdHJpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiAnW1JlbW90ZVRyYWNrUHVibGljYXRpb24gIycgKyB0aGlzLl9pbnN0YW5jZUlkICsgJzogJyArIHRoaXMudHJhY2tTaWQgKyAnXSc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgcHVibGlzaGVkIHtAbGluayBSZW1vdGVUcmFja30gaXMgc3Vic2NyaWJlZCB0b1xuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX3N1YnNjcmliZWQnLFxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UmVtb3RlVHJhY2t9IHRyYWNrXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zdWJzY3JpYmVkKHRyYWNrKSB7XG4gICAgICBpZiAoIXRoaXMuX3RyYWNrICYmIHRyYWNrKSB7XG4gICAgICAgIHRoaXMuX3RyYWNrID0gdHJhY2s7XG4gICAgICAgIHRoaXMuZW1pdCgnc3Vic2NyaWJlZCcsIHRyYWNrKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfdW5zdWJzY3JpYmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdW5zdWJzY3JpYmUoKSB7XG4gICAgICBpZiAodGhpcy5fdHJhY2spIHtcbiAgICAgICAgdmFyIHRyYWNrID0gdGhpcy5fdHJhY2s7XG4gICAgICAgIHRoaXMuX3RyYWNrID0gbnVsbDtcbiAgICAgICAgdHJhY2suX3Vuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRoaXMuZW1pdCgndW5zdWJzY3JpYmVkJywgdHJhY2spO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzU3Vic2NyaWJlZCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gISF0aGlzLl90cmFjaztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBwdWJsaXNoZWQge0BsaW5rIFJlbW90ZVRyYWNrfSBpcyBlbmFibGVkXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdpc1RyYWNrRW5hYmxlZCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2lnbmFsaW5nLmlzRW5hYmxlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbmxlc3MgeW91IGhhdmUgc3Vic2NyaWJlZCB0byB0aGUge0BsaW5rIFJlbW90ZVRyYWNrfSwgdGhpcyBwcm9wZXJ0eSBpcyBudWxsXG4gICAgICogQHByb3BlcnR5IHs/UmVtb3RlVHJhY2t9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RyYWNrJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl90cmFjaztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVtb3RlVHJhY2tQdWJsaWNhdGlvbjtcbn0oVHJhY2tQdWJsaWNhdGlvbik7XG5cbi8qKlxuICogWW91ciB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH0gc3Vic2NyaWJlZCB0byB0aGUge0BsaW5rIFJlbW90ZVRyYWNrfS5cbiAqIEBwYXJhbSB7UmVtb3RlVHJhY2t9IHRyYWNrIC0gdGhlIHtAbGluayBSZW1vdGVUcmFja30gdGhhdCB3YXMgc3Vic2NyaWJlZCB0b1xuICogQGV2ZW50IFJlbW90ZVRyYWNrUHVibGljYXRpb24jc3Vic2NyaWJlZFxuICovXG5cbi8qKlxuICogVGhlIHtAbGluayBSZW1vdGVUcmFja30gd2FzIGRpc2FibGVkLlxuICogQGV2ZW50IFJlbW90ZVRyYWNrUHVibGljYXRpb24jdHJhY2tEaXNhYmxlZFxuICovXG5cbi8qKlxuICogVGhlIHtAbGluayBSZW1vdGVUcmFja30gd2FzIGVuYWJsZWQuXG4gKiBAZXZlbnQgUmVtb3RlVHJhY2tQdWJsaWNhdGlvbiN0cmFja0VuYWJsZWRcbiAqL1xuXG4vKipcbiAqIFlvdXIge0BsaW5rIExvY2FsUGFydGljaXBhbnR9IHVuc3Vic2NyaWJlZCBmcm9tIHRoZSB7QGxpbmsgUmVtb3RlVHJhY2t9LlxuICogQHBhcmFtIHtSZW1vdGVUcmFja30gdHJhY2sgLSB0aGUge0BsaW5rIFJlbW90ZVRyYWNrfSB0aGF0IHdhcyB1bnN1YnNjcmliZWQgZnJvbVxuICogQGV2ZW50IFJlbW90ZVRyYWNrUHVibGljYXRpb24jdW5zdWJzY3JpYmVkXG4gKi9cblxuLyoqXG4gKiB7QGxpbmsgUmVtb3RlVHJhY2tQdWJsaWNhdGlvbn0gb3B0aW9uc1xuICogQHR5cGVkZWYge29iamVjdH0gUmVtb3RlVHJhY2tQdWJsaWNhdGlvbk9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7TG9nTGV2ZWx8TG9nTGV2ZWxzfSBsb2dMZXZlbCAtIExvZyBsZXZlbCBmb3IgJ21lZGlhJyBtb2R1bGVzXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZW1vdGVUcmFja1B1YmxpY2F0aW9uO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvbWVkaWEvdHJhY2svcmVtb3RldHJhY2twdWJsaWNhdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gMjI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///226\n");

/***/ }),
/* 227 */
/*!****************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/localtrackpublication.js ***!
  \****************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TrackPublication = __webpack_require__(/*! ./trackpublication */ 245);\n\n/**\n * A {@link LocalTrackPublication} is a {@link LocalTrack} that has been\n * published to a {@link Room}.\n * @property {Track.Kind} kind - kind of the published {@link LocalTrack}\n * @property {LocalTrack} track - the {@link LocalTrack}\n */\n\nvar LocalTrackPublication = function (_TrackPublication) {\n  _inherits(LocalTrackPublication, _TrackPublication);\n\n  /**\n   * Construct a {@link LocalTrackPublication}.\n   * @param {Track.SID} trackSid - SID assigned to the published {@link LocalTrack}\n   * @param {LocalTrack} track - the {@link LocalTrack}\n   * @param {function(LocalTrackPublication): void} unpublish - The callback\n   *   that unpublishes the {@link LocalTrackPublication}\n   * @param {TrackPublicationOptions} options - {@link LocalTrackPublication}\n   *   options\n   */\n  function LocalTrackPublication(trackSid, track, unpublish, options) {\n    _classCallCheck(this, LocalTrackPublication);\n\n    var _this = _possibleConstructorReturn(this, (LocalTrackPublication.__proto__ || Object.getPrototypeOf(LocalTrackPublication)).call(this, track.name, trackSid, options));\n\n    Object.defineProperties(_this, {\n      _reemitTrackEvent: {\n        value: function value() {\n          return _this.emit(_this.isTrackEnabled ? 'trackEnabled' : 'trackDisabled');\n        }\n      },\n      _unpublish: {\n        value: unpublish\n      },\n      kind: {\n        enumerable: true,\n        value: track.kind\n      },\n      track: {\n        enumerable: true,\n        value: track\n      }\n    });\n\n    track.on('disabled', _this._reemitTrackEvent);\n    track.on('enabled', _this._reemitTrackEvent);\n    return _this;\n  }\n\n  _createClass(LocalTrackPublication, [{\n    key: 'toString',\n    value: function toString() {\n      return '[LocalTrackPublication #' + this._instanceId + ': ' + this.trackSid + ']';\n    }\n\n    /**\n     * Whether the published {@link LocalTrack} is enabled\n     * @property {boolean}\n     */\n\n  }, {\n    key: 'unpublish',\n\n\n    /**\n     * Unpublish a {@link LocalTrackPublication}. This means that the media\n     * from this {@link LocalTrackPublication} is no longer available to the\n     * {@link Room}'s {@link RemoteParticipant}s.\n     * @returns {this}\n     */\n    value: function unpublish() {\n      this.track.removeListener('disabled', this._reemitTrackEvent);\n      this.track.removeListener('enabled', this._reemitTrackEvent);\n      this._unpublish(this);\n      return this;\n    }\n  }, {\n    key: 'isTrackEnabled',\n    get: function get() {\n      return this.track.kind === 'data' ? true : this.track.isEnabled;\n    }\n  }]);\n\n  return LocalTrackPublication;\n}(TrackPublication);\n\nmodule.exports = LocalTrackPublication;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9sb2NhbHRyYWNrcHVibGljYXRpb24uanM/ODA5NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSx1QkFBdUIsbUJBQU8sQ0FBQyw2QkFBb0I7O0FBRW5EO0FBQ0EsTUFBTSw0QkFBNEIsT0FBTyxpQkFBaUI7QUFDMUQsbUJBQW1CLFdBQVc7QUFDOUIsY0FBYyxXQUFXLCtCQUErQjtBQUN4RCxjQUFjLFdBQVcsY0FBYztBQUN2Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLDRCQUE0QjtBQUM5QyxhQUFhLFVBQVUsMkNBQTJDO0FBQ2xFLGFBQWEsV0FBVyxjQUFjO0FBQ3RDLGFBQWEsc0NBQXNDO0FBQ25ELDZCQUE2QjtBQUM3QixhQUFhLHdCQUF3QixZQUFZO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4QkFBOEIsaUJBQWlCO0FBQy9DLGtCQUFrQjtBQUNsQjs7QUFFQSxHQUFHO0FBQ0g7OztBQUdBO0FBQ0Esb0JBQW9CLDRCQUE0QjtBQUNoRCxrQkFBa0IsNEJBQTRCO0FBQzlDLFFBQVEsV0FBVyxJQUFJLHdCQUF3QjtBQUMvQyxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIyMjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFRyYWNrUHVibGljYXRpb24gPSByZXF1aXJlKCcuL3RyYWNrcHVibGljYXRpb24nKTtcblxuLyoqXG4gKiBBIHtAbGluayBMb2NhbFRyYWNrUHVibGljYXRpb259IGlzIGEge0BsaW5rIExvY2FsVHJhY2t9IHRoYXQgaGFzIGJlZW5cbiAqIHB1Ymxpc2hlZCB0byBhIHtAbGluayBSb29tfS5cbiAqIEBwcm9wZXJ0eSB7VHJhY2suS2luZH0ga2luZCAtIGtpbmQgb2YgdGhlIHB1Ymxpc2hlZCB7QGxpbmsgTG9jYWxUcmFja31cbiAqIEBwcm9wZXJ0eSB7TG9jYWxUcmFja30gdHJhY2sgLSB0aGUge0BsaW5rIExvY2FsVHJhY2t9XG4gKi9cblxudmFyIExvY2FsVHJhY2tQdWJsaWNhdGlvbiA9IGZ1bmN0aW9uIChfVHJhY2tQdWJsaWNhdGlvbikge1xuICBfaW5oZXJpdHMoTG9jYWxUcmFja1B1YmxpY2F0aW9uLCBfVHJhY2tQdWJsaWNhdGlvbik7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBMb2NhbFRyYWNrUHVibGljYXRpb259LlxuICAgKiBAcGFyYW0ge1RyYWNrLlNJRH0gdHJhY2tTaWQgLSBTSUQgYXNzaWduZWQgdG8gdGhlIHB1Ymxpc2hlZCB7QGxpbmsgTG9jYWxUcmFja31cbiAgICogQHBhcmFtIHtMb2NhbFRyYWNrfSB0cmFjayAtIHRoZSB7QGxpbmsgTG9jYWxUcmFja31cbiAgICogQHBhcmFtIHtmdW5jdGlvbihMb2NhbFRyYWNrUHVibGljYXRpb24pOiB2b2lkfSB1bnB1Ymxpc2ggLSBUaGUgY2FsbGJhY2tcbiAgICogICB0aGF0IHVucHVibGlzaGVzIHRoZSB7QGxpbmsgTG9jYWxUcmFja1B1YmxpY2F0aW9ufVxuICAgKiBAcGFyYW0ge1RyYWNrUHVibGljYXRpb25PcHRpb25zfSBvcHRpb25zIC0ge0BsaW5rIExvY2FsVHJhY2tQdWJsaWNhdGlvbn1cbiAgICogICBvcHRpb25zXG4gICAqL1xuICBmdW5jdGlvbiBMb2NhbFRyYWNrUHVibGljYXRpb24odHJhY2tTaWQsIHRyYWNrLCB1bnB1Ymxpc2gsIG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9jYWxUcmFja1B1YmxpY2F0aW9uKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMb2NhbFRyYWNrUHVibGljYXRpb24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMb2NhbFRyYWNrUHVibGljYXRpb24pKS5jYWxsKHRoaXMsIHRyYWNrLm5hbWUsIHRyYWNrU2lkLCBvcHRpb25zKSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgX3JlZW1pdFRyYWNrRXZlbnQ6IHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5lbWl0KF90aGlzLmlzVHJhY2tFbmFibGVkID8gJ3RyYWNrRW5hYmxlZCcgOiAndHJhY2tEaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgX3VucHVibGlzaDoge1xuICAgICAgICB2YWx1ZTogdW5wdWJsaXNoXG4gICAgICB9LFxuICAgICAga2luZDoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdHJhY2sua2luZFxuICAgICAgfSxcbiAgICAgIHRyYWNrOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB0cmFja1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdHJhY2sub24oJ2Rpc2FibGVkJywgX3RoaXMuX3JlZW1pdFRyYWNrRXZlbnQpO1xuICAgIHRyYWNrLm9uKCdlbmFibGVkJywgX3RoaXMuX3JlZW1pdFRyYWNrRXZlbnQpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhMb2NhbFRyYWNrUHVibGljYXRpb24sIFt7XG4gICAga2V5OiAndG9TdHJpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiAnW0xvY2FsVHJhY2tQdWJsaWNhdGlvbiAjJyArIHRoaXMuX2luc3RhbmNlSWQgKyAnOiAnICsgdGhpcy50cmFja1NpZCArICddJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBwdWJsaXNoZWQge0BsaW5rIExvY2FsVHJhY2t9IGlzIGVuYWJsZWRcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3VucHVibGlzaCcsXG5cblxuICAgIC8qKlxuICAgICAqIFVucHVibGlzaCBhIHtAbGluayBMb2NhbFRyYWNrUHVibGljYXRpb259LiBUaGlzIG1lYW5zIHRoYXQgdGhlIG1lZGlhXG4gICAgICogZnJvbSB0aGlzIHtAbGluayBMb2NhbFRyYWNrUHVibGljYXRpb259IGlzIG5vIGxvbmdlciBhdmFpbGFibGUgdG8gdGhlXG4gICAgICoge0BsaW5rIFJvb219J3Mge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50fXMuXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVucHVibGlzaCgpIHtcbiAgICAgIHRoaXMudHJhY2sucmVtb3ZlTGlzdGVuZXIoJ2Rpc2FibGVkJywgdGhpcy5fcmVlbWl0VHJhY2tFdmVudCk7XG4gICAgICB0aGlzLnRyYWNrLnJlbW92ZUxpc3RlbmVyKCdlbmFibGVkJywgdGhpcy5fcmVlbWl0VHJhY2tFdmVudCk7XG4gICAgICB0aGlzLl91bnB1Ymxpc2godGhpcyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc1RyYWNrRW5hYmxlZCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy50cmFjay5raW5kID09PSAnZGF0YScgPyB0cnVlIDogdGhpcy50cmFjay5pc0VuYWJsZWQ7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExvY2FsVHJhY2tQdWJsaWNhdGlvbjtcbn0oVHJhY2tQdWJsaWNhdGlvbik7XG5cbm1vZHVsZS5leHBvcnRzID0gTG9jYWxUcmFja1B1YmxpY2F0aW9uO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvbWVkaWEvdHJhY2svbG9jYWx0cmFja3B1YmxpY2F0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAyMjdcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///227\n");

/***/ }),
/* 228 */
/*!****************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/participant.js ***!
  \****************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar StateMachine = __webpack_require__(/*! ../statemachine */ 215);\n\n/*\nParticipantSignaling States\n----------------------\n\n    +------------+     +-----------+     +--------------+\n    |            |     |           |     |              |\n    | connecting |---->| connected |---->| disconnected |\n    |            |     |           |     |              |\n    +------------+     +-----------+     +--------------+\n\n*/\n\nvar states = {\n  connecting: ['connected'],\n  connected: ['disconnected'],\n  disconnected: []\n};\n\n/**\n * A {@link Participant} implementation\n * @extends StateMachine\n * @property {?string} identity\n * @property {?Participant.SID} sid\n * @property {string} state - \"connecting\", \"connected\", or \"disconnected\"\n * @property {Map<Track.ID | Track.SID, TrackSignaling>} tracks\n * @emits ParticipantSignaling#networkQualityLevelChanged\n * @emits ParticipantSignaling#trackAdded\n * @emits ParticipantSignaling#trackRemoved\n */\n\nvar ParticipantSignaling = function (_StateMachine) {\n  _inherits(ParticipantSignaling, _StateMachine);\n\n  /**\n   * Construct a {@link ParticipantSignaling}.\n   */\n  function ParticipantSignaling() {\n    _classCallCheck(this, ParticipantSignaling);\n\n    var _this = _possibleConstructorReturn(this, (ParticipantSignaling.__proto__ || Object.getPrototypeOf(ParticipantSignaling)).call(this, 'connecting', states));\n\n    Object.defineProperties(_this, {\n      _identity: {\n        writable: true,\n        value: null\n      },\n      _networkQualityLevel: {\n        value: null,\n        writable: true\n      },\n      _networkQualityLevels: {\n        value: null,\n        writable: true\n      },\n      _sid: {\n        writable: true,\n        value: null\n      },\n      identity: {\n        enumerable: true,\n        get: function get() {\n          return this._identity;\n        }\n      },\n      sid: {\n        enumerable: true,\n        get: function get() {\n          return this._sid;\n        }\n      },\n      tracks: {\n        enumerable: true,\n        value: new Map()\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * Get the current {@link NetworkQualityLevel}, if any.\n   * @returns {?NetworkQualityLevel} networkQualityLevel - initially null\n   */\n\n\n  _createClass(ParticipantSignaling, [{\n    key: 'addTrack',\n\n\n    /**\n     * Add the {@link TrackSignaling}, MediaStreamTrack, or\n     * {@link DataTrackSender} to the {@link ParticipantSignaling}.\n     * @param {TrackSignaling|DataTrackSender|MediaTrackSender} track\n     * @returns {this}\n     * @fires ParticipantSignaling#trackAdded\n     */\n    value: function addTrack(track) {\n      this.tracks.set(track.id || track.sid, track);\n      this.emit('trackAdded', track);\n      return this;\n    }\n\n    /**\n     * Disconnect the {@link ParticipantSignaling}.\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'disconnect',\n    value: function disconnect() {\n      if (this.state !== 'disconnected') {\n        this.preempt('disconnected');\n        return true;\n      }\n      return false;\n    }\n\n    /**\n     * Remove the {@link TrackSignaling}, MediaStreamTrack, or\n     * {@link DataTrackSender} from the {@link ParticipantSignaling}.\n     * @param {TrackSignaling|DataTrackSender|MediaTrackSender} track\n     * @returns {boolean}\n     * @fires ParticipantSignaling#trackRemoved\n     */\n\n  }, {\n    key: 'removeTrack',\n    value: function removeTrack(track) {\n      var didDelete = this.tracks.delete(track.id || track.sid);\n      if (didDelete) {\n        this.emit('trackRemoved', track);\n      }\n      return didDelete;\n    }\n\n    /**\n     * @param {NetworkQualityLevel} networkQualityLevel\n     * @param {?NetworkQualityLevels} [networkQualityLevels=null] - deprecated;\n     *   the decomposed levels are only used for debugging and will be removed as\n     *   soon as we are confident in our implementation\n     * @returns {void}\n     */\n\n  }, {\n    key: 'setNetworkQualityLevel',\n    value: function setNetworkQualityLevel(networkQualityLevel, networkQualityLevels) {\n      if (networkQualityLevels) {\n        this._networkQualityLevels = networkQualityLevels;\n      }\n\n      if (this._networkQualityLevel !== networkQualityLevel) {\n        this._networkQualityLevel = networkQualityLevel;\n        this.emit('networkQualityLevelChanged');\n      }\n    }\n\n    /**\n     * Connect the {@link ParticipantSignaling}.\n     * @param {Participant.SID} sid\n     * @param {string} identity\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'connect',\n    value: function connect(sid, identity) {\n      if (this.state === 'connecting') {\n        this._sid = sid;\n        this._identity = identity;\n        this.preempt('connected');\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: 'networkQualityLevel',\n    get: function get() {\n      return this._networkQualityLevel;\n    }\n\n    /**\n     * Get the current {@link NetworkQualityLevels}, if any.\n     * @deprecated - the decomposed levels are only used for debugging and will be\n     *   removed as soon as we are confident in our implementation\n     * @returns {?NetworkQualityLevels} networkQualityLevels - initially null\n     */\n\n  }, {\n    key: 'networkQualityLevels',\n    get: function get() {\n      return this._networkQualityLevels;\n    }\n  }]);\n\n  return ParticipantSignaling;\n}(StateMachine);\n\n/**\n * @event ParticipantSignaling#event:networkQualityLevelChanged\n */\n\n/**\n * {@link TrackSignaling} was added to the {@link ParticipantSignaling}.\n * @event ParticipantSignaling#trackAdded\n * @param {TrackSignaling} track\n */\n\n/**\n * {@link TrackSignaling} was removed from the {@link ParticipantSignaling}.\n * @event ParticipantSignaling#trackRemoved\n * @param {TrackSignaling} track\n */\n\nmodule.exports = ParticipantSignaling;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvcGFydGljaXBhbnQuanM/YzZjMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSxtQkFBbUIsbUJBQU8sQ0FBQywwQkFBaUI7O0FBRTVDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLGtCQUFrQjtBQUN4QjtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLGlCQUFpQjtBQUMvQixjQUFjLE9BQU87QUFDckIsY0FBYywwQ0FBMEM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQiwyQkFBMkI7QUFDN0M7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLDBCQUEwQjtBQUNoRCxlQUFlLHFCQUFxQjtBQUNwQzs7O0FBR0E7QUFDQTs7O0FBR0E7QUFDQSxnQkFBZ0IscUJBQXFCO0FBQ3JDLFFBQVEsc0JBQXNCLFNBQVMsMkJBQTJCO0FBQ2xFLGVBQWUsZ0RBQWdEO0FBQy9ELGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QiwyQkFBMkI7QUFDbEQsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLHFCQUFxQjtBQUN4QyxRQUFRLHNCQUFzQixXQUFXLDJCQUEyQjtBQUNwRSxlQUFlLGdEQUFnRDtBQUMvRCxpQkFBaUI7QUFDakI7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWUsb0JBQW9CO0FBQ25DLGVBQWUsc0JBQXNCO0FBQ3JDO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQiwyQkFBMkI7QUFDL0MsZUFBZSxnQkFBZ0I7QUFDL0IsZUFBZSxPQUFPO0FBQ3RCLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0IsMkJBQTJCO0FBQ25EO0FBQ0E7QUFDQSxpQkFBaUIsc0JBQXNCO0FBQ3ZDOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUkscUJBQXFCLG1CQUFtQiwyQkFBMkI7QUFDdkU7QUFDQSxXQUFXLGVBQWU7QUFDMUI7O0FBRUE7QUFDQSxJQUFJLHFCQUFxQix1QkFBdUIsMkJBQTJCO0FBQzNFO0FBQ0EsV0FBVyxlQUFlO0FBQzFCOztBQUVBIiwiZmlsZSI6IjIyOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgU3RhdGVNYWNoaW5lID0gcmVxdWlyZSgnLi4vc3RhdGVtYWNoaW5lJyk7XG5cbi8qXG5QYXJ0aWNpcGFudFNpZ25hbGluZyBTdGF0ZXNcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICstLS0tLS0tLS0tLS0rICAgICArLS0tLS0tLS0tLS0rICAgICArLS0tLS0tLS0tLS0tLS0rXG4gICAgfCAgICAgICAgICAgIHwgICAgIHwgICAgICAgICAgIHwgICAgIHwgICAgICAgICAgICAgIHxcbiAgICB8IGNvbm5lY3RpbmcgfC0tLS0+fCBjb25uZWN0ZWQgfC0tLS0+fCBkaXNjb25uZWN0ZWQgfFxuICAgIHwgICAgICAgICAgICB8ICAgICB8ICAgICAgICAgICB8ICAgICB8ICAgICAgICAgICAgICB8XG4gICAgKy0tLS0tLS0tLS0tLSsgICAgICstLS0tLS0tLS0tLSsgICAgICstLS0tLS0tLS0tLS0tLStcblxuKi9cblxudmFyIHN0YXRlcyA9IHtcbiAgY29ubmVjdGluZzogWydjb25uZWN0ZWQnXSxcbiAgY29ubmVjdGVkOiBbJ2Rpc2Nvbm5lY3RlZCddLFxuICBkaXNjb25uZWN0ZWQ6IFtdXG59O1xuXG4vKipcbiAqIEEge0BsaW5rIFBhcnRpY2lwYW50fSBpbXBsZW1lbnRhdGlvblxuICogQGV4dGVuZHMgU3RhdGVNYWNoaW5lXG4gKiBAcHJvcGVydHkgez9zdHJpbmd9IGlkZW50aXR5XG4gKiBAcHJvcGVydHkgez9QYXJ0aWNpcGFudC5TSUR9IHNpZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHN0YXRlIC0gXCJjb25uZWN0aW5nXCIsIFwiY29ubmVjdGVkXCIsIG9yIFwiZGlzY29ubmVjdGVkXCJcbiAqIEBwcm9wZXJ0eSB7TWFwPFRyYWNrLklEIHwgVHJhY2suU0lELCBUcmFja1NpZ25hbGluZz59IHRyYWNrc1xuICogQGVtaXRzIFBhcnRpY2lwYW50U2lnbmFsaW5nI25ldHdvcmtRdWFsaXR5TGV2ZWxDaGFuZ2VkXG4gKiBAZW1pdHMgUGFydGljaXBhbnRTaWduYWxpbmcjdHJhY2tBZGRlZFxuICogQGVtaXRzIFBhcnRpY2lwYW50U2lnbmFsaW5nI3RyYWNrUmVtb3ZlZFxuICovXG5cbnZhciBQYXJ0aWNpcGFudFNpZ25hbGluZyA9IGZ1bmN0aW9uIChfU3RhdGVNYWNoaW5lKSB7XG4gIF9pbmhlcml0cyhQYXJ0aWNpcGFudFNpZ25hbGluZywgX1N0YXRlTWFjaGluZSk7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBQYXJ0aWNpcGFudFNpZ25hbGluZ30uXG4gICAqL1xuICBmdW5jdGlvbiBQYXJ0aWNpcGFudFNpZ25hbGluZygpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGFydGljaXBhbnRTaWduYWxpbmcpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBhcnRpY2lwYW50U2lnbmFsaW5nLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUGFydGljaXBhbnRTaWduYWxpbmcpKS5jYWxsKHRoaXMsICdjb25uZWN0aW5nJywgc3RhdGVzKSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgX2lkZW50aXR5OiB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSxcbiAgICAgIF9uZXR3b3JrUXVhbGl0eUxldmVsOiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIF9uZXR3b3JrUXVhbGl0eUxldmVsczoge1xuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBfc2lkOiB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSxcbiAgICAgIGlkZW50aXR5OiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9pZGVudGl0eTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNpZDoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fc2lkO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdHJhY2tzOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBuZXcgTWFwKClcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IHtAbGluayBOZXR3b3JrUXVhbGl0eUxldmVsfSwgaWYgYW55LlxuICAgKiBAcmV0dXJucyB7P05ldHdvcmtRdWFsaXR5TGV2ZWx9IG5ldHdvcmtRdWFsaXR5TGV2ZWwgLSBpbml0aWFsbHkgbnVsbFxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhQYXJ0aWNpcGFudFNpZ25hbGluZywgW3tcbiAgICBrZXk6ICdhZGRUcmFjaycsXG5cblxuICAgIC8qKlxuICAgICAqIEFkZCB0aGUge0BsaW5rIFRyYWNrU2lnbmFsaW5nfSwgTWVkaWFTdHJlYW1UcmFjaywgb3JcbiAgICAgKiB7QGxpbmsgRGF0YVRyYWNrU2VuZGVyfSB0byB0aGUge0BsaW5rIFBhcnRpY2lwYW50U2lnbmFsaW5nfS5cbiAgICAgKiBAcGFyYW0ge1RyYWNrU2lnbmFsaW5nfERhdGFUcmFja1NlbmRlcnxNZWRpYVRyYWNrU2VuZGVyfSB0cmFja1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqIEBmaXJlcyBQYXJ0aWNpcGFudFNpZ25hbGluZyN0cmFja0FkZGVkXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFRyYWNrKHRyYWNrKSB7XG4gICAgICB0aGlzLnRyYWNrcy5zZXQodHJhY2suaWQgfHwgdHJhY2suc2lkLCB0cmFjayk7XG4gICAgICB0aGlzLmVtaXQoJ3RyYWNrQWRkZWQnLCB0cmFjayk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0IHRoZSB7QGxpbmsgUGFydGljaXBhbnRTaWduYWxpbmd9LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkaXNjb25uZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzY29ubmVjdCgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlICE9PSAnZGlzY29ubmVjdGVkJykge1xuICAgICAgICB0aGlzLnByZWVtcHQoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIHtAbGluayBUcmFja1NpZ25hbGluZ30sIE1lZGlhU3RyZWFtVHJhY2ssIG9yXG4gICAgICoge0BsaW5rIERhdGFUcmFja1NlbmRlcn0gZnJvbSB0aGUge0BsaW5rIFBhcnRpY2lwYW50U2lnbmFsaW5nfS5cbiAgICAgKiBAcGFyYW0ge1RyYWNrU2lnbmFsaW5nfERhdGFUcmFja1NlbmRlcnxNZWRpYVRyYWNrU2VuZGVyfSB0cmFja1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqIEBmaXJlcyBQYXJ0aWNpcGFudFNpZ25hbGluZyN0cmFja1JlbW92ZWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVtb3ZlVHJhY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVUcmFjayh0cmFjaykge1xuICAgICAgdmFyIGRpZERlbGV0ZSA9IHRoaXMudHJhY2tzLmRlbGV0ZSh0cmFjay5pZCB8fCB0cmFjay5zaWQpO1xuICAgICAgaWYgKGRpZERlbGV0ZSkge1xuICAgICAgICB0aGlzLmVtaXQoJ3RyYWNrUmVtb3ZlZCcsIHRyYWNrKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkaWREZWxldGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtOZXR3b3JrUXVhbGl0eUxldmVsfSBuZXR3b3JrUXVhbGl0eUxldmVsXG4gICAgICogQHBhcmFtIHs/TmV0d29ya1F1YWxpdHlMZXZlbHN9IFtuZXR3b3JrUXVhbGl0eUxldmVscz1udWxsXSAtIGRlcHJlY2F0ZWQ7XG4gICAgICogICB0aGUgZGVjb21wb3NlZCBsZXZlbHMgYXJlIG9ubHkgdXNlZCBmb3IgZGVidWdnaW5nIGFuZCB3aWxsIGJlIHJlbW92ZWQgYXNcbiAgICAgKiAgIHNvb24gYXMgd2UgYXJlIGNvbmZpZGVudCBpbiBvdXIgaW1wbGVtZW50YXRpb25cbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2V0TmV0d29ya1F1YWxpdHlMZXZlbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldE5ldHdvcmtRdWFsaXR5TGV2ZWwobmV0d29ya1F1YWxpdHlMZXZlbCwgbmV0d29ya1F1YWxpdHlMZXZlbHMpIHtcbiAgICAgIGlmIChuZXR3b3JrUXVhbGl0eUxldmVscykge1xuICAgICAgICB0aGlzLl9uZXR3b3JrUXVhbGl0eUxldmVscyA9IG5ldHdvcmtRdWFsaXR5TGV2ZWxzO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fbmV0d29ya1F1YWxpdHlMZXZlbCAhPT0gbmV0d29ya1F1YWxpdHlMZXZlbCkge1xuICAgICAgICB0aGlzLl9uZXR3b3JrUXVhbGl0eUxldmVsID0gbmV0d29ya1F1YWxpdHlMZXZlbDtcbiAgICAgICAgdGhpcy5lbWl0KCduZXR3b3JrUXVhbGl0eUxldmVsQ2hhbmdlZCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbm5lY3QgdGhlIHtAbGluayBQYXJ0aWNpcGFudFNpZ25hbGluZ30uXG4gICAgICogQHBhcmFtIHtQYXJ0aWNpcGFudC5TSUR9IHNpZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGl0eVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdjb25uZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29ubmVjdChzaWQsIGlkZW50aXR5KSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ2Nvbm5lY3RpbmcnKSB7XG4gICAgICAgIHRoaXMuX3NpZCA9IHNpZDtcbiAgICAgICAgdGhpcy5faWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICAgICAgdGhpcy5wcmVlbXB0KCdjb25uZWN0ZWQnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbmV0d29ya1F1YWxpdHlMZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbmV0d29ya1F1YWxpdHlMZXZlbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQge0BsaW5rIE5ldHdvcmtRdWFsaXR5TGV2ZWxzfSwgaWYgYW55LlxuICAgICAqIEBkZXByZWNhdGVkIC0gdGhlIGRlY29tcG9zZWQgbGV2ZWxzIGFyZSBvbmx5IHVzZWQgZm9yIGRlYnVnZ2luZyBhbmQgd2lsbCBiZVxuICAgICAqICAgcmVtb3ZlZCBhcyBzb29uIGFzIHdlIGFyZSBjb25maWRlbnQgaW4gb3VyIGltcGxlbWVudGF0aW9uXG4gICAgICogQHJldHVybnMgez9OZXR3b3JrUXVhbGl0eUxldmVsc30gbmV0d29ya1F1YWxpdHlMZXZlbHMgLSBpbml0aWFsbHkgbnVsbFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICduZXR3b3JrUXVhbGl0eUxldmVscycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbmV0d29ya1F1YWxpdHlMZXZlbHM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBhcnRpY2lwYW50U2lnbmFsaW5nO1xufShTdGF0ZU1hY2hpbmUpO1xuXG4vKipcbiAqIEBldmVudCBQYXJ0aWNpcGFudFNpZ25hbGluZyNldmVudDpuZXR3b3JrUXVhbGl0eUxldmVsQ2hhbmdlZFxuICovXG5cbi8qKlxuICoge0BsaW5rIFRyYWNrU2lnbmFsaW5nfSB3YXMgYWRkZWQgdG8gdGhlIHtAbGluayBQYXJ0aWNpcGFudFNpZ25hbGluZ30uXG4gKiBAZXZlbnQgUGFydGljaXBhbnRTaWduYWxpbmcjdHJhY2tBZGRlZFxuICogQHBhcmFtIHtUcmFja1NpZ25hbGluZ30gdHJhY2tcbiAqL1xuXG4vKipcbiAqIHtAbGluayBUcmFja1NpZ25hbGluZ30gd2FzIHJlbW92ZWQgZnJvbSB0aGUge0BsaW5rIFBhcnRpY2lwYW50U2lnbmFsaW5nfS5cbiAqIEBldmVudCBQYXJ0aWNpcGFudFNpZ25hbGluZyN0cmFja1JlbW92ZWRcbiAqIEBwYXJhbSB7VHJhY2tTaWduYWxpbmd9IHRyYWNrXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBQYXJ0aWNpcGFudFNpZ25hbGluZztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3NpZ25hbGluZy9wYXJ0aWNpcGFudC5qc1xuLy8gbW9kdWxlIGlkID0gMjI4XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///228\n");

/***/ }),
/* 229 */
/*!**********************************************!*\
  !*** ./node_modules/twilio-video/es5/sip.js ***!
  \**********************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nvar toplevel = global.window || global;\nvar Transport = __webpack_require__(/*! @twilio/sip.js/src/Transport */ 341);\nvar WebSocket = toplevel.WebSocket ? toplevel.WebSocket : __webpack_require__(/*! ws */ 259);\nvar addEventListener = toplevel.addEventListener ? toplevel.addEventListener.bind(toplevel) : null;\n\nmodule.exports = __webpack_require__(/*! @twilio/sip.js/src/SIP */ 342)({\n  addEventListener: addEventListener,\n  console: toplevel.console,\n  Promise: toplevel.Promise,\n  WebSocket: WebSocket,\n  timers: toplevel,\n  Transport: Transport\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../../webpack/buildin/global.js */ 141)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaXAuanM/NTBhYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw4Q0FBYTs7QUFFYjtBQUNBLGdCQUFnQixtQkFBTyxDQUFDLHVDQUE4QjtBQUN0RCwwREFBMEQsbUJBQU8sQ0FBQyxhQUFJO0FBQ3RFOztBQUVBLGlCQUFpQixtQkFBTyxDQUFDLGlDQUF3QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEUiLCJmaWxlIjoiMjI5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdG9wbGV2ZWwgPSBnbG9iYWwud2luZG93IHx8IGdsb2JhbDtcbnZhciBUcmFuc3BvcnQgPSByZXF1aXJlKCdAdHdpbGlvL3NpcC5qcy9zcmMvVHJhbnNwb3J0Jyk7XG52YXIgV2ViU29ja2V0ID0gdG9wbGV2ZWwuV2ViU29ja2V0ID8gdG9wbGV2ZWwuV2ViU29ja2V0IDogcmVxdWlyZSgnd3MnKTtcbnZhciBhZGRFdmVudExpc3RlbmVyID0gdG9wbGV2ZWwuYWRkRXZlbnRMaXN0ZW5lciA/IHRvcGxldmVsLmFkZEV2ZW50TGlzdGVuZXIuYmluZCh0b3BsZXZlbCkgOiBudWxsO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ0B0d2lsaW8vc2lwLmpzL3NyYy9TSVAnKSh7XG4gIGFkZEV2ZW50TGlzdGVuZXI6IGFkZEV2ZW50TGlzdGVuZXIsXG4gIGNvbnNvbGU6IHRvcGxldmVsLmNvbnNvbGUsXG4gIFByb21pc2U6IHRvcGxldmVsLlByb21pc2UsXG4gIFdlYlNvY2tldDogV2ViU29ja2V0LFxuICB0aW1lcnM6IHRvcGxldmVsLFxuICBUcmFuc3BvcnQ6IFRyYW5zcG9ydFxufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaXAuanNcbi8vIG1vZHVsZSBpZCA9IDIyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///229\n");

/***/ }),
/* 230 */
/*!********************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/mediastream.js ***!
  \********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* globals webkitMediaStream, MediaStream */\n\n\nif (typeof webkitMediaStream !== 'undefined') {\n  module.exports = webkitMediaStream;\n} else if (typeof MediaStream !== 'undefined') {\n  module.exports = MediaStream;\n} else {\n  module.exports = function MediaStream() {\n    throw new Error('WebRTC is not supported in this browser');\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL21lZGlhc3RyZWFtLmpzP2MyZTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDYTs7QUFFYjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjIzMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgd2Via2l0TWVkaWFTdHJlYW0sIE1lZGlhU3RyZWFtICovXG4ndXNlIHN0cmljdCc7XG5cbmlmICh0eXBlb2Ygd2Via2l0TWVkaWFTdHJlYW0gIT09ICd1bmRlZmluZWQnKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gd2Via2l0TWVkaWFTdHJlYW07XG59IGVsc2UgaWYgKHR5cGVvZiBNZWRpYVN0cmVhbSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBNZWRpYVN0cmVhbTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gTWVkaWFTdHJlYW0oKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdXZWJSVEMgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXInKTtcbiAgfTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0B0d2lsaW8vd2VicnRjL2xpYi9tZWRpYXN0cmVhbS5qc1xuLy8gbW9kdWxlIGlkID0gMjMwXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///230\n");

/***/ }),
/* 231 */
/*!*************************************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/rtcsessiondescription/chrome.js ***!
  \*************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* globals RTCSessionDescription */\n\n\n// This class wraps Chrome's RTCSessionDescription implementation. It provides\n// one piece of functionality not currently present in Chrome, namely\n//\n//   1. Rollback support\n//      https://bugs.chromium.org/p/webrtc/issues/detail?id=4676\n//\nfunction ChromeRTCSessionDescription(descriptionInitDict) {\n  if (!(this instanceof ChromeRTCSessionDescription)) {\n    return new ChromeRTCSessionDescription(descriptionInitDict);\n  }\n\n  // If this constructor is called with an object with a .type property set to\n  // \"rollback\", we should not call Chrome's RTCSessionDescription constructor,\n  // because this would throw an RTCSdpType error.\n  var description = descriptionInitDict && descriptionInitDict.type === 'rollback'\n    ? null\n    : new RTCSessionDescription(descriptionInitDict);\n\n  Object.defineProperties(this, {\n    _description: {\n      get: function() {\n        return description;\n      }\n    },\n    sdp: {\n      enumerable: true,\n      value: description ? description.sdp : descriptionInitDict.sdp\n    },\n    type: {\n      enumerable: true,\n      value: description ? description.type : descriptionInitDict.type\n    }\n  });\n}\n\nmodule.exports = ChromeRTCSessionDescription;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3J0Y3Nlc3Npb25kZXNjcmlwdGlvbi9jaHJvbWUuanM/M2Y1OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSIsImZpbGUiOiIyMzEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWxzIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyBUaGlzIGNsYXNzIHdyYXBzIENocm9tZSdzIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiBpbXBsZW1lbnRhdGlvbi4gSXQgcHJvdmlkZXNcbi8vIG9uZSBwaWVjZSBvZiBmdW5jdGlvbmFsaXR5IG5vdCBjdXJyZW50bHkgcHJlc2VudCBpbiBDaHJvbWUsIG5hbWVseVxuLy9cbi8vICAgMS4gUm9sbGJhY2sgc3VwcG9ydFxuLy8gICAgICBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3Avd2VicnRjL2lzc3Vlcy9kZXRhaWw/aWQ9NDY3NlxuLy9cbmZ1bmN0aW9uIENocm9tZVJUQ1Nlc3Npb25EZXNjcmlwdGlvbihkZXNjcmlwdGlvbkluaXREaWN0KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDaHJvbWVSVENTZXNzaW9uRGVzY3JpcHRpb24pKSB7XG4gICAgcmV0dXJuIG5ldyBDaHJvbWVSVENTZXNzaW9uRGVzY3JpcHRpb24oZGVzY3JpcHRpb25Jbml0RGljdCk7XG4gIH1cblxuICAvLyBJZiB0aGlzIGNvbnN0cnVjdG9yIGlzIGNhbGxlZCB3aXRoIGFuIG9iamVjdCB3aXRoIGEgLnR5cGUgcHJvcGVydHkgc2V0IHRvXG4gIC8vIFwicm9sbGJhY2tcIiwgd2Ugc2hvdWxkIG5vdCBjYWxsIENocm9tZSdzIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiBjb25zdHJ1Y3RvcixcbiAgLy8gYmVjYXVzZSB0aGlzIHdvdWxkIHRocm93IGFuIFJUQ1NkcFR5cGUgZXJyb3IuXG4gIHZhciBkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uSW5pdERpY3QgJiYgZGVzY3JpcHRpb25Jbml0RGljdC50eXBlID09PSAncm9sbGJhY2snXG4gICAgPyBudWxsXG4gICAgOiBuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKGRlc2NyaXB0aW9uSW5pdERpY3QpO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICBfZGVzY3JpcHRpb246IHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNkcDoge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBkZXNjcmlwdGlvbiA/IGRlc2NyaXB0aW9uLnNkcCA6IGRlc2NyaXB0aW9uSW5pdERpY3Quc2RwXG4gICAgfSxcbiAgICB0eXBlOiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGRlc2NyaXB0aW9uID8gZGVzY3JpcHRpb24udHlwZSA6IGRlc2NyaXB0aW9uSW5pdERpY3QudHlwZVxuICAgIH1cbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ2hyb21lUlRDU2Vzc2lvbkRlc2NyaXB0aW9uO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3J0Y3Nlc3Npb25kZXNjcmlwdGlvbi9jaHJvbWUuanNcbi8vIG1vZHVsZSBpZCA9IDIzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///231\n");

/***/ }),
/* 232 */
/*!*******************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/util/latch.js ***!
  \*******************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar defer = __webpack_require__(/*! ./ */ 210).defer;\n\nvar states = {\n  high: new Set(['low']),\n  low: new Set(['high'])\n};\n\n/**\n * Construct a {@link Latch}.\n * @class\n * @classdesc A {@link Latch} has two states (\"high\" and \"low\") and methods for\n * transitioning between them ({@link Latch#raise} and {@link Latch#lower}).\n * @param {string} [initialState=\"low\"] - either \"high\" or \"low\"\n */\nfunction Latch(initialState) {\n  if (!(this instanceof Latch)) {\n    return new Latch(initialState);\n  }\n  var state = initialState || 'low';\n  Object.defineProperties(this, {\n    _state: {\n      set: function(_state) {\n        if (state !== _state) {\n          state = _state;\n          var whenDeferreds = this._whenDeferreds.get(state);\n          whenDeferreds.forEach(function(deferred) {\n            deferred.resolve(this);\n          }, this);\n          whenDeferreds.clear();\n        }\n      },\n      get: function() {\n        return state;\n      }\n    },\n    _whenDeferreds: {\n      value: new Map([\n        ['high', new Set()],\n        ['low', new Set()]\n      ])\n    },\n    state: {\n      enumerable: true,\n      get: function() {\n        return this._state;\n      }\n    }\n  });\n}\n\n/**\n * Transition to \"low\".\n * @returns {this}\n * @throws {Error}\n */\nLatch.prototype.lower = function lower() {\n  return this.transition('low');\n};\n\n/**\n * Transition to \"high\".\n * @returns {this}\n * @throws {Error}\n */\nLatch.prototype.raise = function raise() {\n  return this.transition('high');\n};\n\n/**\n * Transition to a new state.\n * @param {string} newState\n * @returns {this}\n * @throws {Error}\n */\nLatch.prototype.transition = function transition(newState) {\n  if (!states[this.state].has(newState)) {\n    throw createUnreachableStateError(this.state, newState);\n  }\n  this._state = newState;\n  return this;\n};\n\n/**\n * Return a Promise that resolves when the {@link Latch} transitions to\n * the specified state.\n * @param {string} state\n * @returns {Promise<this>}\n */\nLatch.prototype.when = function when(state) {\n  if (this.state === state) {\n    return Promise.resolve(this);\n  }\n  if (!states[this.state].has(state)) {\n    return Promise.reject(createUnreachableStateError(this.state, state));\n  }\n  var deferred = defer();\n  this._whenDeferreds.get(state).add(deferred);\n  return deferred.promise;\n};\n\n/**\n * Create an unreachable state Error.\n * @param {string} from - state to be transitioned from\n * @param {string} to - state to be transitioned to\n * @return {Error}\n */\nfunction createUnreachableStateError(from, to) {\n  return new Error('Cannot transition from \"' + from + '\" to \"' + to + '\"');\n}\n\nmodule.exports = Latch;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3V0aWwvbGF0Y2guanM/M2I3OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixZQUFZLG1CQUFPLENBQUMsYUFBSTs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsWUFBWTtBQUM1QjtBQUNBLGlCQUFpQixZQUFZO0FBQzdCLGdDQUFnQyxrQkFBa0IsTUFBTSxrQkFBa0I7QUFDMUUsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2IsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsWUFBWTtBQUN4RDtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIyMzIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBkZWZlciA9IHJlcXVpcmUoJy4vJykuZGVmZXI7XG5cbnZhciBzdGF0ZXMgPSB7XG4gIGhpZ2g6IG5ldyBTZXQoWydsb3cnXSksXG4gIGxvdzogbmV3IFNldChbJ2hpZ2gnXSlcbn07XG5cbi8qKlxuICogQ29uc3RydWN0IGEge0BsaW5rIExhdGNofS5cbiAqIEBjbGFzc1xuICogQGNsYXNzZGVzYyBBIHtAbGluayBMYXRjaH0gaGFzIHR3byBzdGF0ZXMgKFwiaGlnaFwiIGFuZCBcImxvd1wiKSBhbmQgbWV0aG9kcyBmb3JcbiAqIHRyYW5zaXRpb25pbmcgYmV0d2VlbiB0aGVtICh7QGxpbmsgTGF0Y2gjcmFpc2V9IGFuZCB7QGxpbmsgTGF0Y2gjbG93ZXJ9KS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbaW5pdGlhbFN0YXRlPVwibG93XCJdIC0gZWl0aGVyIFwiaGlnaFwiIG9yIFwibG93XCJcbiAqL1xuZnVuY3Rpb24gTGF0Y2goaW5pdGlhbFN0YXRlKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBMYXRjaCkpIHtcbiAgICByZXR1cm4gbmV3IExhdGNoKGluaXRpYWxTdGF0ZSk7XG4gIH1cbiAgdmFyIHN0YXRlID0gaW5pdGlhbFN0YXRlIHx8ICdsb3cnO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgX3N0YXRlOiB7XG4gICAgICBzZXQ6IGZ1bmN0aW9uKF9zdGF0ZSkge1xuICAgICAgICBpZiAoc3RhdGUgIT09IF9zdGF0ZSkge1xuICAgICAgICAgIHN0YXRlID0gX3N0YXRlO1xuICAgICAgICAgIHZhciB3aGVuRGVmZXJyZWRzID0gdGhpcy5fd2hlbkRlZmVycmVkcy5nZXQoc3RhdGUpO1xuICAgICAgICAgIHdoZW5EZWZlcnJlZHMuZm9yRWFjaChmdW5jdGlvbihkZWZlcnJlZCkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICB3aGVuRGVmZXJyZWRzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICB9XG4gICAgfSxcbiAgICBfd2hlbkRlZmVycmVkczoge1xuICAgICAgdmFsdWU6IG5ldyBNYXAoW1xuICAgICAgICBbJ2hpZ2gnLCBuZXcgU2V0KCldLFxuICAgICAgICBbJ2xvdycsIG5ldyBTZXQoKV1cbiAgICAgIF0pXG4gICAgfSxcbiAgICBzdGF0ZToge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFRyYW5zaXRpb24gdG8gXCJsb3dcIi5cbiAqIEByZXR1cm5zIHt0aGlzfVxuICogQHRocm93cyB7RXJyb3J9XG4gKi9cbkxhdGNoLnByb3RvdHlwZS5sb3dlciA9IGZ1bmN0aW9uIGxvd2VyKCkge1xuICByZXR1cm4gdGhpcy50cmFuc2l0aW9uKCdsb3cnKTtcbn07XG5cbi8qKlxuICogVHJhbnNpdGlvbiB0byBcImhpZ2hcIi5cbiAqIEByZXR1cm5zIHt0aGlzfVxuICogQHRocm93cyB7RXJyb3J9XG4gKi9cbkxhdGNoLnByb3RvdHlwZS5yYWlzZSA9IGZ1bmN0aW9uIHJhaXNlKCkge1xuICByZXR1cm4gdGhpcy50cmFuc2l0aW9uKCdoaWdoJyk7XG59O1xuXG4vKipcbiAqIFRyYW5zaXRpb24gdG8gYSBuZXcgc3RhdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmV3U3RhdGVcbiAqIEByZXR1cm5zIHt0aGlzfVxuICogQHRocm93cyB7RXJyb3J9XG4gKi9cbkxhdGNoLnByb3RvdHlwZS50cmFuc2l0aW9uID0gZnVuY3Rpb24gdHJhbnNpdGlvbihuZXdTdGF0ZSkge1xuICBpZiAoIXN0YXRlc1t0aGlzLnN0YXRlXS5oYXMobmV3U3RhdGUpKSB7XG4gICAgdGhyb3cgY3JlYXRlVW5yZWFjaGFibGVTdGF0ZUVycm9yKHRoaXMuc3RhdGUsIG5ld1N0YXRlKTtcbiAgfVxuICB0aGlzLl9zdGF0ZSA9IG5ld1N0YXRlO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmV0dXJuIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHtAbGluayBMYXRjaH0gdHJhbnNpdGlvbnMgdG9cbiAqIHRoZSBzcGVjaWZpZWQgc3RhdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RhdGVcbiAqIEByZXR1cm5zIHtQcm9taXNlPHRoaXM+fVxuICovXG5MYXRjaC5wcm90b3R5cGUud2hlbiA9IGZ1bmN0aW9uIHdoZW4oc3RhdGUpIHtcbiAgaWYgKHRoaXMuc3RhdGUgPT09IHN0YXRlKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKTtcbiAgfVxuICBpZiAoIXN0YXRlc1t0aGlzLnN0YXRlXS5oYXMoc3RhdGUpKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGNyZWF0ZVVucmVhY2hhYmxlU3RhdGVFcnJvcih0aGlzLnN0YXRlLCBzdGF0ZSkpO1xuICB9XG4gIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gIHRoaXMuX3doZW5EZWZlcnJlZHMuZ2V0KHN0YXRlKS5hZGQoZGVmZXJyZWQpO1xuICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGFuIHVucmVhY2hhYmxlIHN0YXRlIEVycm9yLlxuICogQHBhcmFtIHtzdHJpbmd9IGZyb20gLSBzdGF0ZSB0byBiZSB0cmFuc2l0aW9uZWQgZnJvbVxuICogQHBhcmFtIHtzdHJpbmd9IHRvIC0gc3RhdGUgdG8gYmUgdHJhbnNpdGlvbmVkIHRvXG4gKiBAcmV0dXJuIHtFcnJvcn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVW5yZWFjaGFibGVTdGF0ZUVycm9yKGZyb20sIHRvKSB7XG4gIHJldHVybiBuZXcgRXJyb3IoJ0Nhbm5vdCB0cmFuc2l0aW9uIGZyb20gXCInICsgZnJvbSArICdcIiB0byBcIicgKyB0byArICdcIicpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IExhdGNoO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3V0aWwvbGF0Y2guanNcbi8vIG1vZHVsZSBpZCA9IDIzMlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///232\n");

/***/ }),
/* 233 */
/*!**************************************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/rtcsessiondescription/firefox.js ***!
  \**************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* globals mozRTCSessionDescription, RTCSessionDescription */\n\n\nmodule.exports = typeof RTCSessionDescription !== 'undefined'\n  ? RTCSessionDescription\n  : mozRTCSessionDescription;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3J0Y3Nlc3Npb25kZXNjcmlwdGlvbi9maXJlZm94LmpzPzk2OWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDYTs7QUFFYjtBQUNBO0FBQ0EiLCJmaWxlIjoiMjMzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFscyBtb3pSVENTZXNzaW9uRGVzY3JpcHRpb24sIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiBSVENTZXNzaW9uRGVzY3JpcHRpb24gIT09ICd1bmRlZmluZWQnXG4gID8gUlRDU2Vzc2lvbkRlc2NyaXB0aW9uXG4gIDogbW96UlRDU2Vzc2lvbkRlc2NyaXB0aW9uO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3J0Y3Nlc3Npb25kZXNjcmlwdGlvbi9maXJlZm94LmpzXG4vLyBtb2R1bGUgaWQgPSAyMzNcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///233\n");

/***/ }),
/* 234 */
/*!*****************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/audiotrack.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MediaTrack = __webpack_require__(/*! ./mediatrack */ 235);\n\n/**\n * An {@link AudioTrack} is a {@link Track} representing audio.\n * @extends Track\n * @property {boolean} isStarted - Whether or not the {@link AudioTrack} has\n *   started; if the {@link AudioTrack} started, there is enough audio data to\n *   begin playback\n * @property {boolean} isEnabled - Whether or not the {@link AudioTrack} is\n *   enabled; if the {@link AudioTrack} is not enabled, it is \"muted\"\n * @property {Track.Kind} kind - \"audio\"\n * @property {MediaStreamTrack} mediaStreamTrack - An audio MediaStreamTrack\n * @emits AudioTrack#disabled\n * @emits AudioTrack#enabled\n * @emits AudioTrack#started\n */\n\nvar AudioTrack = function (_MediaTrack) {\n  _inherits(AudioTrack, _MediaTrack);\n\n  /**\n   * Construct an {@link AudioTrack}.\n   * @param {MediaTrackTransceiver} mediaTrackTransceiver\n   * @param {{log: Log}} options\n   */\n  function AudioTrack(mediaTrackTransceiver, options) {\n    _classCallCheck(this, AudioTrack);\n\n    return _possibleConstructorReturn(this, (AudioTrack.__proto__ || Object.getPrototypeOf(AudioTrack)).call(this, mediaTrackTransceiver, options));\n  }\n\n  /**\n   * @private\n   */\n\n\n  _createClass(AudioTrack, [{\n    key: '_start',\n    value: function _start() {\n      _get(AudioTrack.prototype.__proto__ || Object.getPrototypeOf(AudioTrack.prototype), '_start', this).call(this);\n      if (this._dummyEl) {\n        this._detachElement(this._dummyEl);\n      }\n    }\n\n    /**\n     * Create an HTMLAudioElement and attach the {@link AudioTrack} to it.\n     *\n     * The HTMLAudioElement's <code>srcObject</code> will be set to a new\n     * MediaStream containing the {@link AudioTrack}'s MediaStreamTrack.\n     *\n     * @returns {HTMLAudioElement} audioElement\n     * @example\n     * const Video = require('twilio-video');\n     *\n     * Video.createLocalAudioTrack().then(function(audioTrack) {\n     *   const audioElement = audioTrack.attach();\n     *   document.body.appendChild(audioElement);\n     * });\n    */ /**\n       * Attach the {@link AudioTrack} to an existing HTMLMediaElement. The\n       * HTMLMediaElement could be an HTMLAudioElement or an HTMLVideoElement.\n       *\n       * If the HTMLMediaElement's <code>srcObject</code> is not set to a MediaStream,\n       * this method sets it to a new MediaStream containing the {@link AudioTrack}'s\n       * MediaStreamTrack; otherwise, it adds the {@link MediaTrack}'s\n       * MediaStreamTrack to the existing MediaStream. Finally, if there are any other\n       * MediaStreamTracks of the same kind on the MediaStream, this method removes\n       * them.\n       *\n       * @param {HTMLMediaElement} mediaElement - The HTMLMediaElement to attach to\n       * @returns {HTMLMediaElement} mediaElement\n       * @example\n       * const Video = require('twilio-video');\n       *\n       * const videoElement = document.createElement('video');\n       * document.body.appendChild(videoElement);\n       *\n       * Video.createLocalAudioTrack().then(function(audioTrack) {\n       *   audioTrack.attach(videoElement);\n       * });\n       */ /**\n          * Attach the {@link AudioTrack} to an HTMLMediaElement selected by\n          * <code>document.querySelector</code>. The HTMLMediaElement could be an\n          * HTMLAudioElement or an HTMLVideoElement.\n          *\n          * If the HTMLMediaElement's <code>srcObject</code> is not set to a MediaStream,\n          * this method sets it to a new MediaStream containing the {@link AudioTrack}'s\n          * MediaStreamTrack; otherwise, it adds the {@link AudioTrack}'s\n          * MediaStreamTrack to the existing MediaStream. Finally, if there are any other\n          * MediaStreamTracks of the same kind on the MediaStream, this method removes\n          * them.\n          *\n          * @param {string} selector - A query selector for the HTMLMediaElement to\n          *   attach to\n          * @returns {HTMLMediaElement} mediaElement\n          * @example\n          * const Video = require('twilio-video');\n          *\n          * const videoElement = document.createElement('video');\n          * videoElement.id = 'my-video-element';\n          * document.body.appendChild(videoElement);\n          *\n          * Video.createLocalAudioTrack().then(function(track) {\n          *   track.attach('#my-video-element');\n          * });\n          */\n\n  }, {\n    key: 'attach',\n    value: function attach() {\n      return _get(AudioTrack.prototype.__proto__ || Object.getPrototypeOf(AudioTrack.prototype), 'attach', this).apply(this, arguments);\n    }\n\n    /**\n     * Detach the {@link AudioTrack} from all previously attached HTMLMediaElements.\n     * @returns {Array<HTMLMediaElement>} mediaElements\n     * @example\n     * const mediaElements = audioTrack.detach();\n     * mediaElements.forEach(mediaElement => mediaElement.remove());\n    */ /**\n       * Detach the {@link AudioTrack} from a previously attached HTMLMediaElement.\n       * @param {HTMLMediaElement} mediaElement - One of the HTMLMediaElements to\n       *   which the {@link AudioTrack} is attached\n       * @returns {HTMLMediaElement} mediaElement\n       * @example\n       * const videoElement = document.getElementById('my-video-element');\n       * audioTrack.detach(videoElement).remove();\n       */ /**\n          * Detach the {@link AudioTrack} from a previously attached HTMLMediaElement\n          *   specified by <code>document.querySelector</code>.\n          * @param {string} selector - The query selector of HTMLMediaElement to which\n          *    the {@link AudioTrack} is attached\n          * @returns {HTMLMediaElement} mediaElement\n          * @example\n          * audioTrack.detach('#my-video-element').remove();\n          */\n\n  }, {\n    key: 'detach',\n    value: function detach() {\n      return _get(AudioTrack.prototype.__proto__ || Object.getPrototypeOf(AudioTrack.prototype), 'detach', this).apply(this, arguments);\n    }\n  }]);\n\n  return AudioTrack;\n}(MediaTrack);\n\n/**\n * The {@link AudioTrack} was disabled, i.e. \"muted\".\n * @param {AudioTrack} track - The {@link AudioTrack} that was disabled\n * @event AudioTrack#disabled\n */\n\n/**\n * The {@link AudioTrack} was enabled, i.e. \"unmuted\".\n * @param {AudioTrack} track - The {@link AudioTrack} that was enabled\n * @event AudioTrack#enabled\n */\n\n/**\n * The {@link AudioTrack} started. This means there is enough audio data to\n * begin playback.\n * @param {AudioTrack} track - The {@link AudioTrack} that started\n * @event AudioTrack#started\n */\n\nmodule.exports = AudioTrack;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9hdWRpb3RyYWNrLmpzPzM5NmEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLHFEQUFxRCxrREFBa0QsOERBQThELDBCQUEwQiw0Q0FBNEMsdUJBQXVCLGtCQUFrQixFQUFFLE9BQU8sd0NBQXdDLEVBQUUsRUFBRSw0QkFBNEIsbUJBQW1CLEVBQUUsT0FBTyx1QkFBdUIsNEJBQTRCLGtCQUFrQixFQUFFLDhCQUE4QixFQUFFOztBQUV4ZSxpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLGlCQUFpQixtQkFBTyxDQUFDLHVCQUFjOztBQUV2QztBQUNBLE9BQU8saUJBQWlCLE9BQU8sWUFBWTtBQUMzQztBQUNBLGNBQWMsUUFBUSxpQ0FBaUMsaUJBQWlCO0FBQ3hFLGFBQWEsU0FBUyxpQkFBaUI7QUFDdkM7QUFDQSxjQUFjLFFBQVEsaUNBQWlDLGlCQUFpQjtBQUN4RSxhQUFhLFNBQVMsaUJBQWlCO0FBQ3ZDLGNBQWMsV0FBVztBQUN6QixjQUFjLGlCQUFpQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLGlCQUFpQjtBQUNwQyxhQUFhLHNCQUFzQjtBQUNuQyxjQUFjLFVBQVU7QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0RBQWtELGlCQUFpQjtBQUNuRTtBQUNBO0FBQ0EsbUNBQW1DLGlCQUFpQjtBQUNwRDtBQUNBLGlCQUFpQixpQkFBaUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EscUJBQXFCLGlCQUFpQjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsaUJBQWlCO0FBQ25GLDBCQUEwQix5QkFBeUIsaUJBQWlCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlCQUFpQjtBQUNsQyxtQkFBbUIsaUJBQWlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLGlCQUFpQjtBQUN0Riw2QkFBNkIseUJBQXlCLGlCQUFpQjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0Esc0JBQXNCLGlCQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLGlCQUFpQjtBQUNwQyxpQkFBaUIsd0JBQXdCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGlCQUFpQjtBQUN0QyxpQkFBaUIsaUJBQWlCO0FBQ2xDLHNCQUFzQixpQkFBaUI7QUFDdkMsbUJBQW1CLGlCQUFpQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixpQkFBaUI7QUFDekM7QUFDQSxvQkFBb0IsT0FBTztBQUMzQixvQkFBb0IsaUJBQWlCO0FBQ3JDLHNCQUFzQixpQkFBaUI7QUFDdkM7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0EsUUFBUSxpQkFBaUI7QUFDekIsV0FBVyxXQUFXLGNBQWMsaUJBQWlCO0FBQ3JEO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLGlCQUFpQjtBQUN6QixXQUFXLFdBQVcsY0FBYyxpQkFBaUI7QUFDckQ7QUFDQTs7QUFFQTtBQUNBLFFBQVEsaUJBQWlCO0FBQ3pCO0FBQ0EsV0FBVyxXQUFXLGNBQWMsaUJBQWlCO0FBQ3JEO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMjM0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIE1lZGlhVHJhY2sgPSByZXF1aXJlKCcuL21lZGlhdHJhY2snKTtcblxuLyoqXG4gKiBBbiB7QGxpbmsgQXVkaW9UcmFja30gaXMgYSB7QGxpbmsgVHJhY2t9IHJlcHJlc2VudGluZyBhdWRpby5cbiAqIEBleHRlbmRzIFRyYWNrXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGlzU3RhcnRlZCAtIFdoZXRoZXIgb3Igbm90IHRoZSB7QGxpbmsgQXVkaW9UcmFja30gaGFzXG4gKiAgIHN0YXJ0ZWQ7IGlmIHRoZSB7QGxpbmsgQXVkaW9UcmFja30gc3RhcnRlZCwgdGhlcmUgaXMgZW5vdWdoIGF1ZGlvIGRhdGEgdG9cbiAqICAgYmVnaW4gcGxheWJhY2tcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNFbmFibGVkIC0gV2hldGhlciBvciBub3QgdGhlIHtAbGluayBBdWRpb1RyYWNrfSBpc1xuICogICBlbmFibGVkOyBpZiB0aGUge0BsaW5rIEF1ZGlvVHJhY2t9IGlzIG5vdCBlbmFibGVkLCBpdCBpcyBcIm11dGVkXCJcbiAqIEBwcm9wZXJ0eSB7VHJhY2suS2luZH0ga2luZCAtIFwiYXVkaW9cIlxuICogQHByb3BlcnR5IHtNZWRpYVN0cmVhbVRyYWNrfSBtZWRpYVN0cmVhbVRyYWNrIC0gQW4gYXVkaW8gTWVkaWFTdHJlYW1UcmFja1xuICogQGVtaXRzIEF1ZGlvVHJhY2sjZGlzYWJsZWRcbiAqIEBlbWl0cyBBdWRpb1RyYWNrI2VuYWJsZWRcbiAqIEBlbWl0cyBBdWRpb1RyYWNrI3N0YXJ0ZWRcbiAqL1xuXG52YXIgQXVkaW9UcmFjayA9IGZ1bmN0aW9uIChfTWVkaWFUcmFjaykge1xuICBfaW5oZXJpdHMoQXVkaW9UcmFjaywgX01lZGlhVHJhY2spO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYW4ge0BsaW5rIEF1ZGlvVHJhY2t9LlxuICAgKiBAcGFyYW0ge01lZGlhVHJhY2tUcmFuc2NlaXZlcn0gbWVkaWFUcmFja1RyYW5zY2VpdmVyXG4gICAqIEBwYXJhbSB7e2xvZzogTG9nfX0gb3B0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gQXVkaW9UcmFjayhtZWRpYVRyYWNrVHJhbnNjZWl2ZXIsIG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXVkaW9UcmFjayk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEF1ZGlvVHJhY2suX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihBdWRpb1RyYWNrKSkuY2FsbCh0aGlzLCBtZWRpYVRyYWNrVHJhbnNjZWl2ZXIsIG9wdGlvbnMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhBdWRpb1RyYWNrLCBbe1xuICAgIGtleTogJ19zdGFydCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zdGFydCgpIHtcbiAgICAgIF9nZXQoQXVkaW9UcmFjay5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihBdWRpb1RyYWNrLnByb3RvdHlwZSksICdfc3RhcnQnLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgICAgaWYgKHRoaXMuX2R1bW15RWwpIHtcbiAgICAgICAgdGhpcy5fZGV0YWNoRWxlbWVudCh0aGlzLl9kdW1teUVsKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gSFRNTEF1ZGlvRWxlbWVudCBhbmQgYXR0YWNoIHRoZSB7QGxpbmsgQXVkaW9UcmFja30gdG8gaXQuXG4gICAgICpcbiAgICAgKiBUaGUgSFRNTEF1ZGlvRWxlbWVudCdzIDxjb2RlPnNyY09iamVjdDwvY29kZT4gd2lsbCBiZSBzZXQgdG8gYSBuZXdcbiAgICAgKiBNZWRpYVN0cmVhbSBjb250YWluaW5nIHRoZSB7QGxpbmsgQXVkaW9UcmFja30ncyBNZWRpYVN0cmVhbVRyYWNrLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0hUTUxBdWRpb0VsZW1lbnR9IGF1ZGlvRWxlbWVudFxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgVmlkZW8gPSByZXF1aXJlKCd0d2lsaW8tdmlkZW8nKTtcbiAgICAgKlxuICAgICAqIFZpZGVvLmNyZWF0ZUxvY2FsQXVkaW9UcmFjaygpLnRoZW4oZnVuY3Rpb24oYXVkaW9UcmFjaykge1xuICAgICAqICAgY29uc3QgYXVkaW9FbGVtZW50ID0gYXVkaW9UcmFjay5hdHRhY2goKTtcbiAgICAgKiAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXVkaW9FbGVtZW50KTtcbiAgICAgKiB9KTtcbiAgICAqLyAvKipcbiAgICAgICAqIEF0dGFjaCB0aGUge0BsaW5rIEF1ZGlvVHJhY2t9IHRvIGFuIGV4aXN0aW5nIEhUTUxNZWRpYUVsZW1lbnQuIFRoZVxuICAgICAgICogSFRNTE1lZGlhRWxlbWVudCBjb3VsZCBiZSBhbiBIVE1MQXVkaW9FbGVtZW50IG9yIGFuIEhUTUxWaWRlb0VsZW1lbnQuXG4gICAgICAgKlxuICAgICAgICogSWYgdGhlIEhUTUxNZWRpYUVsZW1lbnQncyA8Y29kZT5zcmNPYmplY3Q8L2NvZGU+IGlzIG5vdCBzZXQgdG8gYSBNZWRpYVN0cmVhbSxcbiAgICAgICAqIHRoaXMgbWV0aG9kIHNldHMgaXQgdG8gYSBuZXcgTWVkaWFTdHJlYW0gY29udGFpbmluZyB0aGUge0BsaW5rIEF1ZGlvVHJhY2t9J3NcbiAgICAgICAqIE1lZGlhU3RyZWFtVHJhY2s7IG90aGVyd2lzZSwgaXQgYWRkcyB0aGUge0BsaW5rIE1lZGlhVHJhY2t9J3NcbiAgICAgICAqIE1lZGlhU3RyZWFtVHJhY2sgdG8gdGhlIGV4aXN0aW5nIE1lZGlhU3RyZWFtLiBGaW5hbGx5LCBpZiB0aGVyZSBhcmUgYW55IG90aGVyXG4gICAgICAgKiBNZWRpYVN0cmVhbVRyYWNrcyBvZiB0aGUgc2FtZSBraW5kIG9uIHRoZSBNZWRpYVN0cmVhbSwgdGhpcyBtZXRob2QgcmVtb3Zlc1xuICAgICAgICogdGhlbS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0hUTUxNZWRpYUVsZW1lbnR9IG1lZGlhRWxlbWVudCAtIFRoZSBIVE1MTWVkaWFFbGVtZW50IHRvIGF0dGFjaCB0b1xuICAgICAgICogQHJldHVybnMge0hUTUxNZWRpYUVsZW1lbnR9IG1lZGlhRWxlbWVudFxuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqIGNvbnN0IFZpZGVvID0gcmVxdWlyZSgndHdpbGlvLXZpZGVvJyk7XG4gICAgICAgKlxuICAgICAgICogY29uc3QgdmlkZW9FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodmlkZW9FbGVtZW50KTtcbiAgICAgICAqXG4gICAgICAgKiBWaWRlby5jcmVhdGVMb2NhbEF1ZGlvVHJhY2soKS50aGVuKGZ1bmN0aW9uKGF1ZGlvVHJhY2spIHtcbiAgICAgICAqICAgYXVkaW9UcmFjay5hdHRhY2godmlkZW9FbGVtZW50KTtcbiAgICAgICAqIH0pO1xuICAgICAgICovIC8qKlxuICAgICAgICAgICogQXR0YWNoIHRoZSB7QGxpbmsgQXVkaW9UcmFja30gdG8gYW4gSFRNTE1lZGlhRWxlbWVudCBzZWxlY3RlZCBieVxuICAgICAgICAgICogPGNvZGU+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcjwvY29kZT4uIFRoZSBIVE1MTWVkaWFFbGVtZW50IGNvdWxkIGJlIGFuXG4gICAgICAgICAgKiBIVE1MQXVkaW9FbGVtZW50IG9yIGFuIEhUTUxWaWRlb0VsZW1lbnQuXG4gICAgICAgICAgKlxuICAgICAgICAgICogSWYgdGhlIEhUTUxNZWRpYUVsZW1lbnQncyA8Y29kZT5zcmNPYmplY3Q8L2NvZGU+IGlzIG5vdCBzZXQgdG8gYSBNZWRpYVN0cmVhbSxcbiAgICAgICAgICAqIHRoaXMgbWV0aG9kIHNldHMgaXQgdG8gYSBuZXcgTWVkaWFTdHJlYW0gY29udGFpbmluZyB0aGUge0BsaW5rIEF1ZGlvVHJhY2t9J3NcbiAgICAgICAgICAqIE1lZGlhU3RyZWFtVHJhY2s7IG90aGVyd2lzZSwgaXQgYWRkcyB0aGUge0BsaW5rIEF1ZGlvVHJhY2t9J3NcbiAgICAgICAgICAqIE1lZGlhU3RyZWFtVHJhY2sgdG8gdGhlIGV4aXN0aW5nIE1lZGlhU3RyZWFtLiBGaW5hbGx5LCBpZiB0aGVyZSBhcmUgYW55IG90aGVyXG4gICAgICAgICAgKiBNZWRpYVN0cmVhbVRyYWNrcyBvZiB0aGUgc2FtZSBraW5kIG9uIHRoZSBNZWRpYVN0cmVhbSwgdGhpcyBtZXRob2QgcmVtb3Zlc1xuICAgICAgICAgICogdGhlbS5cbiAgICAgICAgICAqXG4gICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgLSBBIHF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgSFRNTE1lZGlhRWxlbWVudCB0b1xuICAgICAgICAgICogICBhdHRhY2ggdG9cbiAgICAgICAgICAqIEByZXR1cm5zIHtIVE1MTWVkaWFFbGVtZW50fSBtZWRpYUVsZW1lbnRcbiAgICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAgKiBjb25zdCBWaWRlbyA9IHJlcXVpcmUoJ3R3aWxpby12aWRlbycpO1xuICAgICAgICAgICpcbiAgICAgICAgICAqIGNvbnN0IHZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgKiB2aWRlb0VsZW1lbnQuaWQgPSAnbXktdmlkZW8tZWxlbWVudCc7XG4gICAgICAgICAgKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHZpZGVvRWxlbWVudCk7XG4gICAgICAgICAgKlxuICAgICAgICAgICogVmlkZW8uY3JlYXRlTG9jYWxBdWRpb1RyYWNrKCkudGhlbihmdW5jdGlvbih0cmFjaykge1xuICAgICAgICAgICogICB0cmFjay5hdHRhY2goJyNteS12aWRlby1lbGVtZW50Jyk7XG4gICAgICAgICAgKiB9KTtcbiAgICAgICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhdHRhY2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhdHRhY2goKSB7XG4gICAgICByZXR1cm4gX2dldChBdWRpb1RyYWNrLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEF1ZGlvVHJhY2sucHJvdG90eXBlKSwgJ2F0dGFjaCcsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0YWNoIHRoZSB7QGxpbmsgQXVkaW9UcmFja30gZnJvbSBhbGwgcHJldmlvdXNseSBhdHRhY2hlZCBIVE1MTWVkaWFFbGVtZW50cy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXk8SFRNTE1lZGlhRWxlbWVudD59IG1lZGlhRWxlbWVudHNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IG1lZGlhRWxlbWVudHMgPSBhdWRpb1RyYWNrLmRldGFjaCgpO1xuICAgICAqIG1lZGlhRWxlbWVudHMuZm9yRWFjaChtZWRpYUVsZW1lbnQgPT4gbWVkaWFFbGVtZW50LnJlbW92ZSgpKTtcbiAgICAqLyAvKipcbiAgICAgICAqIERldGFjaCB0aGUge0BsaW5rIEF1ZGlvVHJhY2t9IGZyb20gYSBwcmV2aW91c2x5IGF0dGFjaGVkIEhUTUxNZWRpYUVsZW1lbnQuXG4gICAgICAgKiBAcGFyYW0ge0hUTUxNZWRpYUVsZW1lbnR9IG1lZGlhRWxlbWVudCAtIE9uZSBvZiB0aGUgSFRNTE1lZGlhRWxlbWVudHMgdG9cbiAgICAgICAqICAgd2hpY2ggdGhlIHtAbGluayBBdWRpb1RyYWNrfSBpcyBhdHRhY2hlZFxuICAgICAgICogQHJldHVybnMge0hUTUxNZWRpYUVsZW1lbnR9IG1lZGlhRWxlbWVudFxuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqIGNvbnN0IHZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteS12aWRlby1lbGVtZW50Jyk7XG4gICAgICAgKiBhdWRpb1RyYWNrLmRldGFjaCh2aWRlb0VsZW1lbnQpLnJlbW92ZSgpO1xuICAgICAgICovIC8qKlxuICAgICAgICAgICogRGV0YWNoIHRoZSB7QGxpbmsgQXVkaW9UcmFja30gZnJvbSBhIHByZXZpb3VzbHkgYXR0YWNoZWQgSFRNTE1lZGlhRWxlbWVudFxuICAgICAgICAgICogICBzcGVjaWZpZWQgYnkgPGNvZGU+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcjwvY29kZT4uXG4gICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgLSBUaGUgcXVlcnkgc2VsZWN0b3Igb2YgSFRNTE1lZGlhRWxlbWVudCB0byB3aGljaFxuICAgICAgICAgICogICAgdGhlIHtAbGluayBBdWRpb1RyYWNrfSBpcyBhdHRhY2hlZFxuICAgICAgICAgICogQHJldHVybnMge0hUTUxNZWRpYUVsZW1lbnR9IG1lZGlhRWxlbWVudFxuICAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICAqIGF1ZGlvVHJhY2suZGV0YWNoKCcjbXktdmlkZW8tZWxlbWVudCcpLnJlbW92ZSgpO1xuICAgICAgICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaCgpIHtcbiAgICAgIHJldHVybiBfZ2V0KEF1ZGlvVHJhY2sucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQXVkaW9UcmFjay5wcm90b3R5cGUpLCAnZGV0YWNoJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQXVkaW9UcmFjaztcbn0oTWVkaWFUcmFjayk7XG5cbi8qKlxuICogVGhlIHtAbGluayBBdWRpb1RyYWNrfSB3YXMgZGlzYWJsZWQsIGkuZS4gXCJtdXRlZFwiLlxuICogQHBhcmFtIHtBdWRpb1RyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgQXVkaW9UcmFja30gdGhhdCB3YXMgZGlzYWJsZWRcbiAqIEBldmVudCBBdWRpb1RyYWNrI2Rpc2FibGVkXG4gKi9cblxuLyoqXG4gKiBUaGUge0BsaW5rIEF1ZGlvVHJhY2t9IHdhcyBlbmFibGVkLCBpLmUuIFwidW5tdXRlZFwiLlxuICogQHBhcmFtIHtBdWRpb1RyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgQXVkaW9UcmFja30gdGhhdCB3YXMgZW5hYmxlZFxuICogQGV2ZW50IEF1ZGlvVHJhY2sjZW5hYmxlZFxuICovXG5cbi8qKlxuICogVGhlIHtAbGluayBBdWRpb1RyYWNrfSBzdGFydGVkLiBUaGlzIG1lYW5zIHRoZXJlIGlzIGVub3VnaCBhdWRpbyBkYXRhIHRvXG4gKiBiZWdpbiBwbGF5YmFjay5cbiAqIEBwYXJhbSB7QXVkaW9UcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIEF1ZGlvVHJhY2t9IHRoYXQgc3RhcnRlZFxuICogQGV2ZW50IEF1ZGlvVHJhY2sjc3RhcnRlZFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gQXVkaW9UcmFjaztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L21lZGlhL3RyYWNrL2F1ZGlvdHJhY2suanNcbi8vIG1vZHVsZSBpZCA9IDIzNFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///234\n");

/***/ }),
/* 235 */
/*!*****************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/mediatrack.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MediaStream = __webpack_require__(/*! @twilio/webrtc */ 212).MediaStream;\nvar Track = __webpack_require__(/*! ./ */ 225);\n\n/**\n * A {@link MediaTrack} represents audio or video that can be sent to or\n * received from a {@link Room}.\n * @extends Track\n * @property {Track.ID} id - This {@link Track}'s ID\n * @property {boolean} isStarted - Whether or not the {@link MediaTrack} has\n *   started\n * @property {boolean} isEnabled - Whether or not the {@link MediaTrack} is\n *   enabled (i.e., whether it is paused or muted)\n * @property {Track.Kind} kind - The kind of the underlying\n *   MediaStreamTrack, \"audio\" or \"video\"\n * @property {MediaStreamTrack} mediaStreamTrack - The underlying\n *   MediaStreamTrack\n * @emits MediaTrack#disabled\n * @emits MediaTrack#enabled\n * @emits MediaTrack#started\n */\n\nvar MediaTrack = function (_Track) {\n  _inherits(MediaTrack, _Track);\n\n  /**\n   * Construct a {@link MediaTrack}.\n   * @param {MediaTrackTransceiver} mediaTrackTransceiver\n   * @param {{log: Log}} options\n   */\n  function MediaTrack(mediaTrackTransceiver, options) {\n    _classCallCheck(this, MediaTrack);\n\n    var _this = _possibleConstructorReturn(this, (MediaTrack.__proto__ || Object.getPrototypeOf(MediaTrack)).call(this, mediaTrackTransceiver.id, mediaTrackTransceiver.kind, options));\n\n    var isStarted = false;\n\n    options = Object.assign({\n      MediaStream: MediaStream\n    }, options);\n\n    /* istanbul ignore next */\n    Object.defineProperties(_this, {\n      _attachments: {\n        value: new Set()\n      },\n      _isStarted: {\n        get: function get() {\n          return isStarted;\n        },\n        set: function set(_isStarted) {\n          isStarted = _isStarted;\n        }\n      },\n      _MediaStream: {\n        value: options.MediaStream\n      },\n      isStarted: {\n        get: function get() {\n          return isStarted;\n        }\n      },\n      mediaStreamTrack: {\n        enumerable: true,\n        value: mediaTrackTransceiver.track\n      }\n    });\n\n    _this._initialize();\n    return _this;\n  }\n\n  /**\n   * @private\n   */\n\n\n  _createClass(MediaTrack, [{\n    key: '_start',\n    value: function _start() {\n      this._log.debug('Started');\n      this._isStarted = true;\n      if (this._dummyEl) {\n        this._dummyEl.oncanplay = null;\n      }\n      // eslint-disable-next-line no-use-before-define\n      this.emit('started', this);\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_initialize',\n    value: function _initialize() {\n      var self = this;\n\n      this._log.debug('Initializing');\n      this._dummyEl = this._createElement();\n\n      this.mediaStreamTrack.addEventListener('ended', function onended() {\n        self._end();\n        self.mediaStreamTrack.removeEventListener('ended', onended);\n      });\n\n      if (this._dummyEl) {\n        this._dummyEl.muted = true;\n        this._dummyEl.oncanplay = this._start.bind(this, this._dummyEl);\n        this._attach(this._dummyEl);\n        this._attachments.delete(this._dummyEl);\n      }\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_end',\n    value: function _end() {\n      this._log.debug('Ended');\n      if (this._dummyEl) {\n        this._detachElement(this._dummyEl);\n        this._dummyEl.oncanplay = null;\n      }\n    }\n  }, {\n    key: 'attach',\n    value: function attach(el) {\n      if (typeof el === 'string') {\n        el = this._selectElement(el);\n      } else if (!el) {\n        el = this._createElement();\n      }\n      this._log.debug('Attempting to attach to element:', el);\n      el = this._attach(el);\n\n      return el;\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_attach',\n    value: function _attach(el) {\n      var mediaStream = el.srcObject;\n      if (!(mediaStream instanceof this._MediaStream)) {\n        mediaStream = new this._MediaStream();\n      }\n\n      var getTracks = this.mediaStreamTrack.kind === 'audio' ? 'getAudioTracks' : 'getVideoTracks';\n\n      mediaStream[getTracks]().forEach(function (mediaStreamTrack) {\n        mediaStream.removeTrack(mediaStreamTrack);\n      });\n      mediaStream.addTrack(this.mediaStreamTrack);\n\n      // NOTE(mroberts): Although we don't necessarily need to reset `srcObject`,\n      // we've been doing it here for a while, and it turns out it has allowed us\n      // to sidestep the following issue:\n      //\n      //   https://bugs.chromium.org/p/chromium/issues/detail?id=720258\n      //\n      el.srcObject = mediaStream;\n      el.autoplay = true;\n      el.playsInline = true;\n\n      if (!this._attachments.has(el)) {\n        this._attachments.add(el);\n      }\n\n      return el;\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_selectElement',\n    value: function _selectElement(selector) {\n      var el = document.querySelector(selector);\n\n      if (!el) {\n        throw new Error('Selector matched no element: ' + selector);\n      }\n\n      return el;\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_createElement',\n    value: function _createElement() {\n      return typeof document !== 'undefined' ? document.createElement(this.kind) : null;\n    }\n  }, {\n    key: 'detach',\n    value: function detach(el) {\n      var els = void 0;\n\n      if (typeof el === 'string') {\n        els = [this._selectElement(el)];\n      } else if (!el) {\n        els = this._getAllAttachedElements();\n      } else {\n        els = [el];\n      }\n\n      this._log.debug('Attempting to detach from elements:', els);\n      this._detachElements(els);\n      return el ? els[0] : els;\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_detachElements',\n    value: function _detachElements(elements) {\n      return elements.map(this._detachElement.bind(this));\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_detachElement',\n    value: function _detachElement(el) {\n      if (!this._attachments.has(el)) {\n        return el;\n      }\n\n      var mediaStream = el.srcObject;\n      if (mediaStream instanceof this._MediaStream) {\n        mediaStream.removeTrack(this.mediaStreamTrack);\n        // NOTE(mroberts): It's as if, in Chrome and Safari, the <audio> element's\n        // `srcObject` setter is taking a \"snapshot\" of the MediaStream's\n        // MediaStreamTracks in order to playback; hence, calls to `removeTrack`\n        // don't take effect unless you set the <audio> element's `srcObject` again.\n        //\n        //   https://bugs.chromium.org/p/chromium/issues/detail?id=749928\n        //\n        el.srcObject = mediaStream;\n      }\n\n      this._attachments.delete(el);\n      return el;\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_getAllAttachedElements',\n    value: function _getAllAttachedElements() {\n      var els = [];\n\n      this._attachments.forEach(function (el) {\n        els.push(el);\n      });\n\n      return els;\n    }\n  }]);\n\n  return MediaTrack;\n}(Track);\n\nmodule.exports = MediaTrack;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9tZWRpYXRyYWNrLmpzPzM4MjYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsa0JBQWtCLG1CQUFPLENBQUMseUJBQWdCO0FBQzFDLFlBQVksbUJBQU8sQ0FBQyxhQUFJOztBQUV4QjtBQUNBLE1BQU0saUJBQWlCO0FBQ3ZCLG9CQUFvQixXQUFXO0FBQy9CO0FBQ0EsY0FBYyxTQUFTLFlBQVksWUFBWTtBQUMvQyxjQUFjLFFBQVEsaUNBQWlDLGlCQUFpQjtBQUN4RTtBQUNBLGNBQWMsUUFBUSxpQ0FBaUMsaUJBQWlCO0FBQ3hFO0FBQ0EsY0FBYyxXQUFXO0FBQ3pCO0FBQ0EsY0FBYyxpQkFBaUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLGlCQUFpQjtBQUNuQyxhQUFhLHNCQUFzQjtBQUNuQyxjQUFjLFVBQVU7QUFDeEI7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiMjM1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBNZWRpYVN0cmVhbSA9IHJlcXVpcmUoJ0B0d2lsaW8vd2VicnRjJykuTWVkaWFTdHJlYW07XG52YXIgVHJhY2sgPSByZXF1aXJlKCcuLycpO1xuXG4vKipcbiAqIEEge0BsaW5rIE1lZGlhVHJhY2t9IHJlcHJlc2VudHMgYXVkaW8gb3IgdmlkZW8gdGhhdCBjYW4gYmUgc2VudCB0byBvclxuICogcmVjZWl2ZWQgZnJvbSBhIHtAbGluayBSb29tfS5cbiAqIEBleHRlbmRzIFRyYWNrXG4gKiBAcHJvcGVydHkge1RyYWNrLklEfSBpZCAtIFRoaXMge0BsaW5rIFRyYWNrfSdzIElEXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGlzU3RhcnRlZCAtIFdoZXRoZXIgb3Igbm90IHRoZSB7QGxpbmsgTWVkaWFUcmFja30gaGFzXG4gKiAgIHN0YXJ0ZWRcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNFbmFibGVkIC0gV2hldGhlciBvciBub3QgdGhlIHtAbGluayBNZWRpYVRyYWNrfSBpc1xuICogICBlbmFibGVkIChpLmUuLCB3aGV0aGVyIGl0IGlzIHBhdXNlZCBvciBtdXRlZClcbiAqIEBwcm9wZXJ0eSB7VHJhY2suS2luZH0ga2luZCAtIFRoZSBraW5kIG9mIHRoZSB1bmRlcmx5aW5nXG4gKiAgIE1lZGlhU3RyZWFtVHJhY2ssIFwiYXVkaW9cIiBvciBcInZpZGVvXCJcbiAqIEBwcm9wZXJ0eSB7TWVkaWFTdHJlYW1UcmFja30gbWVkaWFTdHJlYW1UcmFjayAtIFRoZSB1bmRlcmx5aW5nXG4gKiAgIE1lZGlhU3RyZWFtVHJhY2tcbiAqIEBlbWl0cyBNZWRpYVRyYWNrI2Rpc2FibGVkXG4gKiBAZW1pdHMgTWVkaWFUcmFjayNlbmFibGVkXG4gKiBAZW1pdHMgTWVkaWFUcmFjayNzdGFydGVkXG4gKi9cblxudmFyIE1lZGlhVHJhY2sgPSBmdW5jdGlvbiAoX1RyYWNrKSB7XG4gIF9pbmhlcml0cyhNZWRpYVRyYWNrLCBfVHJhY2spO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgTWVkaWFUcmFja30uXG4gICAqIEBwYXJhbSB7TWVkaWFUcmFja1RyYW5zY2VpdmVyfSBtZWRpYVRyYWNrVHJhbnNjZWl2ZXJcbiAgICogQHBhcmFtIHt7bG9nOiBMb2d9fSBvcHRpb25zXG4gICAqL1xuICBmdW5jdGlvbiBNZWRpYVRyYWNrKG1lZGlhVHJhY2tUcmFuc2NlaXZlciwgb3B0aW9ucykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNZWRpYVRyYWNrKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChNZWRpYVRyYWNrLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTWVkaWFUcmFjaykpLmNhbGwodGhpcywgbWVkaWFUcmFja1RyYW5zY2VpdmVyLmlkLCBtZWRpYVRyYWNrVHJhbnNjZWl2ZXIua2luZCwgb3B0aW9ucykpO1xuXG4gICAgdmFyIGlzU3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgTWVkaWFTdHJlYW06IE1lZGlhU3RyZWFtXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBfYXR0YWNobWVudHM6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBTZXQoKVxuICAgICAgfSxcbiAgICAgIF9pc1N0YXJ0ZWQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIGlzU3RhcnRlZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoX2lzU3RhcnRlZCkge1xuICAgICAgICAgIGlzU3RhcnRlZCA9IF9pc1N0YXJ0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBfTWVkaWFTdHJlYW06IHtcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMuTWVkaWFTdHJlYW1cbiAgICAgIH0sXG4gICAgICBpc1N0YXJ0ZWQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIGlzU3RhcnRlZDtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG1lZGlhU3RyZWFtVHJhY2s6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG1lZGlhVHJhY2tUcmFuc2NlaXZlci50cmFja1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX3RoaXMuX2luaXRpYWxpemUoKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoTWVkaWFUcmFjaywgW3tcbiAgICBrZXk6ICdfc3RhcnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc3RhcnQoKSB7XG4gICAgICB0aGlzLl9sb2cuZGVidWcoJ1N0YXJ0ZWQnKTtcbiAgICAgIHRoaXMuX2lzU3RhcnRlZCA9IHRydWU7XG4gICAgICBpZiAodGhpcy5fZHVtbXlFbCkge1xuICAgICAgICB0aGlzLl9kdW1teUVsLm9uY2FucGxheSA9IG51bGw7XG4gICAgICB9XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIHRoaXMuZW1pdCgnc3RhcnRlZCcsIHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19pbml0aWFsaXplJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRpYWxpemUoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIHRoaXMuX2xvZy5kZWJ1ZygnSW5pdGlhbGl6aW5nJyk7XG4gICAgICB0aGlzLl9kdW1teUVsID0gdGhpcy5fY3JlYXRlRWxlbWVudCgpO1xuXG4gICAgICB0aGlzLm1lZGlhU3RyZWFtVHJhY2suYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBmdW5jdGlvbiBvbmVuZGVkKCkge1xuICAgICAgICBzZWxmLl9lbmQoKTtcbiAgICAgICAgc2VsZi5tZWRpYVN0cmVhbVRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgb25lbmRlZCk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMuX2R1bW15RWwpIHtcbiAgICAgICAgdGhpcy5fZHVtbXlFbC5tdXRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2R1bW15RWwub25jYW5wbGF5ID0gdGhpcy5fc3RhcnQuYmluZCh0aGlzLCB0aGlzLl9kdW1teUVsKTtcbiAgICAgICAgdGhpcy5fYXR0YWNoKHRoaXMuX2R1bW15RWwpO1xuICAgICAgICB0aGlzLl9hdHRhY2htZW50cy5kZWxldGUodGhpcy5fZHVtbXlFbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2VuZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9lbmQoKSB7XG4gICAgICB0aGlzLl9sb2cuZGVidWcoJ0VuZGVkJyk7XG4gICAgICBpZiAodGhpcy5fZHVtbXlFbCkge1xuICAgICAgICB0aGlzLl9kZXRhY2hFbGVtZW50KHRoaXMuX2R1bW15RWwpO1xuICAgICAgICB0aGlzLl9kdW1teUVsLm9uY2FucGxheSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYXR0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXR0YWNoKGVsKSB7XG4gICAgICBpZiAodHlwZW9mIGVsID09PSAnc3RyaW5nJykge1xuICAgICAgICBlbCA9IHRoaXMuX3NlbGVjdEVsZW1lbnQoZWwpO1xuICAgICAgfSBlbHNlIGlmICghZWwpIHtcbiAgICAgICAgZWwgPSB0aGlzLl9jcmVhdGVFbGVtZW50KCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9sb2cuZGVidWcoJ0F0dGVtcHRpbmcgdG8gYXR0YWNoIHRvIGVsZW1lbnQ6JywgZWwpO1xuICAgICAgZWwgPSB0aGlzLl9hdHRhY2goZWwpO1xuXG4gICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2F0dGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hdHRhY2goZWwpIHtcbiAgICAgIHZhciBtZWRpYVN0cmVhbSA9IGVsLnNyY09iamVjdDtcbiAgICAgIGlmICghKG1lZGlhU3RyZWFtIGluc3RhbmNlb2YgdGhpcy5fTWVkaWFTdHJlYW0pKSB7XG4gICAgICAgIG1lZGlhU3RyZWFtID0gbmV3IHRoaXMuX01lZGlhU3RyZWFtKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBnZXRUcmFja3MgPSB0aGlzLm1lZGlhU3RyZWFtVHJhY2sua2luZCA9PT0gJ2F1ZGlvJyA/ICdnZXRBdWRpb1RyYWNrcycgOiAnZ2V0VmlkZW9UcmFja3MnO1xuXG4gICAgICBtZWRpYVN0cmVhbVtnZXRUcmFja3NdKCkuZm9yRWFjaChmdW5jdGlvbiAobWVkaWFTdHJlYW1UcmFjaykge1xuICAgICAgICBtZWRpYVN0cmVhbS5yZW1vdmVUcmFjayhtZWRpYVN0cmVhbVRyYWNrKTtcbiAgICAgIH0pO1xuICAgICAgbWVkaWFTdHJlYW0uYWRkVHJhY2sodGhpcy5tZWRpYVN0cmVhbVRyYWNrKTtcblxuICAgICAgLy8gTk9URShtcm9iZXJ0cyk6IEFsdGhvdWdoIHdlIGRvbid0IG5lY2Vzc2FyaWx5IG5lZWQgdG8gcmVzZXQgYHNyY09iamVjdGAsXG4gICAgICAvLyB3ZSd2ZSBiZWVuIGRvaW5nIGl0IGhlcmUgZm9yIGEgd2hpbGUsIGFuZCBpdCB0dXJucyBvdXQgaXQgaGFzIGFsbG93ZWQgdXNcbiAgICAgIC8vIHRvIHNpZGVzdGVwIHRoZSBmb2xsb3dpbmcgaXNzdWU6XG4gICAgICAvL1xuICAgICAgLy8gICBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD03MjAyNThcbiAgICAgIC8vXG4gICAgICBlbC5zcmNPYmplY3QgPSBtZWRpYVN0cmVhbTtcbiAgICAgIGVsLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgIGVsLnBsYXlzSW5saW5lID0gdHJ1ZTtcblxuICAgICAgaWYgKCF0aGlzLl9hdHRhY2htZW50cy5oYXMoZWwpKSB7XG4gICAgICAgIHRoaXMuX2F0dGFjaG1lbnRzLmFkZChlbCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfc2VsZWN0RWxlbWVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zZWxlY3RFbGVtZW50KHNlbGVjdG9yKSB7XG4gICAgICB2YXIgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcblxuICAgICAgaWYgKCFlbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlbGVjdG9yIG1hdGNoZWQgbm8gZWxlbWVudDogJyArIHNlbGVjdG9yKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19jcmVhdGVFbGVtZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZUVsZW1lbnQoKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5raW5kKSA6IG51bGw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKGVsKSB7XG4gICAgICB2YXIgZWxzID0gdm9pZCAwO1xuXG4gICAgICBpZiAodHlwZW9mIGVsID09PSAnc3RyaW5nJykge1xuICAgICAgICBlbHMgPSBbdGhpcy5fc2VsZWN0RWxlbWVudChlbCldO1xuICAgICAgfSBlbHNlIGlmICghZWwpIHtcbiAgICAgICAgZWxzID0gdGhpcy5fZ2V0QWxsQXR0YWNoZWRFbGVtZW50cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxzID0gW2VsXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fbG9nLmRlYnVnKCdBdHRlbXB0aW5nIHRvIGRldGFjaCBmcm9tIGVsZW1lbnRzOicsIGVscyk7XG4gICAgICB0aGlzLl9kZXRhY2hFbGVtZW50cyhlbHMpO1xuICAgICAgcmV0dXJuIGVsID8gZWxzWzBdIDogZWxzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19kZXRhY2hFbGVtZW50cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9kZXRhY2hFbGVtZW50cyhlbGVtZW50cykge1xuICAgICAgcmV0dXJuIGVsZW1lbnRzLm1hcCh0aGlzLl9kZXRhY2hFbGVtZW50LmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19kZXRhY2hFbGVtZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2RldGFjaEVsZW1lbnQoZWwpIHtcbiAgICAgIGlmICghdGhpcy5fYXR0YWNobWVudHMuaGFzKGVsKSkge1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgICB9XG5cbiAgICAgIHZhciBtZWRpYVN0cmVhbSA9IGVsLnNyY09iamVjdDtcbiAgICAgIGlmIChtZWRpYVN0cmVhbSBpbnN0YW5jZW9mIHRoaXMuX01lZGlhU3RyZWFtKSB7XG4gICAgICAgIG1lZGlhU3RyZWFtLnJlbW92ZVRyYWNrKHRoaXMubWVkaWFTdHJlYW1UcmFjayk7XG4gICAgICAgIC8vIE5PVEUobXJvYmVydHMpOiBJdCdzIGFzIGlmLCBpbiBDaHJvbWUgYW5kIFNhZmFyaSwgdGhlIDxhdWRpbz4gZWxlbWVudCdzXG4gICAgICAgIC8vIGBzcmNPYmplY3RgIHNldHRlciBpcyB0YWtpbmcgYSBcInNuYXBzaG90XCIgb2YgdGhlIE1lZGlhU3RyZWFtJ3NcbiAgICAgICAgLy8gTWVkaWFTdHJlYW1UcmFja3MgaW4gb3JkZXIgdG8gcGxheWJhY2s7IGhlbmNlLCBjYWxscyB0byBgcmVtb3ZlVHJhY2tgXG4gICAgICAgIC8vIGRvbid0IHRha2UgZWZmZWN0IHVubGVzcyB5b3Ugc2V0IHRoZSA8YXVkaW8+IGVsZW1lbnQncyBgc3JjT2JqZWN0YCBhZ2Fpbi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gICBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD03NDk5MjhcbiAgICAgICAgLy9cbiAgICAgICAgZWwuc3JjT2JqZWN0ID0gbWVkaWFTdHJlYW07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2F0dGFjaG1lbnRzLmRlbGV0ZShlbCk7XG4gICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2dldEFsbEF0dGFjaGVkRWxlbWVudHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0QWxsQXR0YWNoZWRFbGVtZW50cygpIHtcbiAgICAgIHZhciBlbHMgPSBbXTtcblxuICAgICAgdGhpcy5fYXR0YWNobWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgZWxzLnB1c2goZWwpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBlbHM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1lZGlhVHJhY2s7XG59KFRyYWNrKTtcblxubW9kdWxlLmV4cG9ydHMgPSBNZWRpYVRyYWNrO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvbWVkaWEvdHJhY2svbWVkaWF0cmFjay5qc1xuLy8gbW9kdWxlIGlkID0gMjM1XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///235\n");

/***/ }),
/* 236 */
/*!**********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/localmediatrack.js ***!
  \**********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MediaTrackSender = __webpack_require__(/*! ./sender */ 237);\n\nfunction mixinLocalMediaTrack(AudioOrVideoTrack) {\n  /**\n   * A {@link LocalMediaTrack} represents audio or video that your\n   * {@link LocalParticipant} is sending to a {@link Room}. As such, it can be\n   * enabled and disabled with {@link LocalMediaTrack#enable} and\n   * {@link LocalMediaTrack#disable} or stopped completely with\n   * {@link LocalMediaTrack#stop}.\n   * @property {boolean} isStopped - Whether or not the {@link LocalMediaTrack} is stopped\n   * @emits LocalMediaTrack#stopped\n   */\n  return function (_AudioOrVideoTrack) {\n    _inherits(LocalMediaTrack, _AudioOrVideoTrack);\n\n    /**\n     * Construct a {@link LocalMediaTrack} from a MediaStreamTrack.\n     * @param {MediaStreamTrack} mediaStreamTrack - The underlying MediaStreamTrack\n     * @param {LocalTrackOptions} [options] - {@link LocalTrack} options\n     */\n    function LocalMediaTrack(mediaStreamTrack, options) {\n      _classCallCheck(this, LocalMediaTrack);\n\n      options = Object.assign({}, options);\n\n      var mediaTrackSender = new MediaTrackSender(mediaStreamTrack);\n\n      var _this = _possibleConstructorReturn(this, (LocalMediaTrack.__proto__ || Object.getPrototypeOf(LocalMediaTrack)).call(this, mediaTrackSender, options));\n\n      Object.defineProperties(_this, {\n        _didCallEnd: {\n          value: false,\n          writable: true\n        },\n        _trackSender: {\n          value: mediaTrackSender\n        },\n        isEnabled: {\n          enumerable: true,\n          get: function get() {\n            return mediaStreamTrack.enabled;\n          }\n        },\n        isStopped: {\n          get: function get() {\n            return mediaStreamTrack.readyState === 'ended';\n          }\n        }\n      });\n      return _this;\n    }\n\n    /**\n     * @private\n     */\n\n\n    _createClass(LocalMediaTrack, [{\n      key: '_end',\n      value: function _end() {\n        if (this._didCallEnd) {\n          return;\n        }\n        _get(LocalMediaTrack.prototype.__proto__ || Object.getPrototypeOf(LocalMediaTrack.prototype), '_end', this).call(this);\n        this._didCallEnd = true;\n        this.emit('stopped', this);\n      }\n    }, {\n      key: 'enable',\n      value: function enable(enabled) {\n        enabled = typeof enabled === 'boolean' ? enabled : true;\n        if (enabled !== this.mediaStreamTrack.enabled) {\n          this._log.info((enabled ? 'En' : 'Dis') + 'abling');\n          this.mediaStreamTrack.enabled = enabled;\n          this.emit(enabled ? 'enabled' : 'disabled', this);\n        }\n        return this;\n      }\n    }, {\n      key: 'disable',\n      value: function disable() {\n        return this.enable(false);\n      }\n    }, {\n      key: 'stop',\n      value: function stop() {\n        this._log.info('Stopping');\n        this.mediaStreamTrack.stop();\n        this._end();\n        return this;\n      }\n    }]);\n\n    return LocalMediaTrack;\n  }(AudioOrVideoTrack);\n}\n\nmodule.exports = mixinLocalMediaTrack;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9sb2NhbG1lZGlhdHJhY2suanM/ZTk1OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIscURBQXFELGtEQUFrRCw4REFBOEQsMEJBQTBCLDRDQUE0Qyx1QkFBdUIsa0JBQWtCLEVBQUUsT0FBTyx3Q0FBd0MsRUFBRSxFQUFFLDRCQUE0QixtQkFBbUIsRUFBRSxPQUFPLHVCQUF1Qiw0QkFBNEIsa0JBQWtCLEVBQUUsOEJBQThCLEVBQUU7O0FBRXhlLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsdUJBQXVCLG1CQUFPLENBQUMsbUJBQVU7O0FBRXpDO0FBQ0E7QUFDQSxRQUFRLHNCQUFzQjtBQUM5QixNQUFNLHVCQUF1QixrQkFBa0IsV0FBVztBQUMxRCxnQ0FBZ0MsNkJBQTZCO0FBQzdELE1BQU0sOEJBQThCO0FBQ3BDLE1BQU0sMkJBQTJCO0FBQ2pDLGdCQUFnQixRQUFRLGlDQUFpQyxzQkFBc0I7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDLGVBQWUsaUJBQWlCO0FBQ2hDLGVBQWUsa0JBQWtCLGNBQWMsaUJBQWlCO0FBQ2hFO0FBQ0E7QUFDQTs7QUFFQSxnQ0FBZ0M7O0FBRWhDOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJmaWxlIjoiMjM2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIE1lZGlhVHJhY2tTZW5kZXIgPSByZXF1aXJlKCcuL3NlbmRlcicpO1xuXG5mdW5jdGlvbiBtaXhpbkxvY2FsTWVkaWFUcmFjayhBdWRpb09yVmlkZW9UcmFjaykge1xuICAvKipcbiAgICogQSB7QGxpbmsgTG9jYWxNZWRpYVRyYWNrfSByZXByZXNlbnRzIGF1ZGlvIG9yIHZpZGVvIHRoYXQgeW91clxuICAgKiB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH0gaXMgc2VuZGluZyB0byBhIHtAbGluayBSb29tfS4gQXMgc3VjaCwgaXQgY2FuIGJlXG4gICAqIGVuYWJsZWQgYW5kIGRpc2FibGVkIHdpdGgge0BsaW5rIExvY2FsTWVkaWFUcmFjayNlbmFibGV9IGFuZFxuICAgKiB7QGxpbmsgTG9jYWxNZWRpYVRyYWNrI2Rpc2FibGV9IG9yIHN0b3BwZWQgY29tcGxldGVseSB3aXRoXG4gICAqIHtAbGluayBMb2NhbE1lZGlhVHJhY2sjc3RvcH0uXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNTdG9wcGVkIC0gV2hldGhlciBvciBub3QgdGhlIHtAbGluayBMb2NhbE1lZGlhVHJhY2t9IGlzIHN0b3BwZWRcbiAgICogQGVtaXRzIExvY2FsTWVkaWFUcmFjayNzdG9wcGVkXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gKF9BdWRpb09yVmlkZW9UcmFjaykge1xuICAgIF9pbmhlcml0cyhMb2NhbE1lZGlhVHJhY2ssIF9BdWRpb09yVmlkZW9UcmFjayk7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgTG9jYWxNZWRpYVRyYWNrfSBmcm9tIGEgTWVkaWFTdHJlYW1UcmFjay5cbiAgICAgKiBAcGFyYW0ge01lZGlhU3RyZWFtVHJhY2t9IG1lZGlhU3RyZWFtVHJhY2sgLSBUaGUgdW5kZXJseWluZyBNZWRpYVN0cmVhbVRyYWNrXG4gICAgICogQHBhcmFtIHtMb2NhbFRyYWNrT3B0aW9uc30gW29wdGlvbnNdIC0ge0BsaW5rIExvY2FsVHJhY2t9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMb2NhbE1lZGlhVHJhY2sobWVkaWFTdHJlYW1UcmFjaywgb3B0aW9ucykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvY2FsTWVkaWFUcmFjayk7XG5cbiAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcblxuICAgICAgdmFyIG1lZGlhVHJhY2tTZW5kZXIgPSBuZXcgTWVkaWFUcmFja1NlbmRlcihtZWRpYVN0cmVhbVRyYWNrKTtcblxuICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKExvY2FsTWVkaWFUcmFjay5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKExvY2FsTWVkaWFUcmFjaykpLmNhbGwodGhpcywgbWVkaWFUcmFja1NlbmRlciwgb3B0aW9ucykpO1xuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgICBfZGlkQ2FsbEVuZDoge1xuICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBfdHJhY2tTZW5kZXI6IHtcbiAgICAgICAgICB2YWx1ZTogbWVkaWFUcmFja1NlbmRlclxuICAgICAgICB9LFxuICAgICAgICBpc0VuYWJsZWQ6IHtcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIG1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGlzU3RvcHBlZDoge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIG1lZGlhU3RyZWFtVHJhY2sucmVhZHlTdGF0ZSA9PT0gJ2VuZGVkJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIF9jcmVhdGVDbGFzcyhMb2NhbE1lZGlhVHJhY2ssIFt7XG4gICAgICBrZXk6ICdfZW5kJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZW5kKCkge1xuICAgICAgICBpZiAodGhpcy5fZGlkQ2FsbEVuZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBfZ2V0KExvY2FsTWVkaWFUcmFjay5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMb2NhbE1lZGlhVHJhY2sucHJvdG90eXBlKSwgJ19lbmQnLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLl9kaWRDYWxsRW5kID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbWl0KCdzdG9wcGVkJywgdGhpcyk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnZW5hYmxlJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGUoZW5hYmxlZCkge1xuICAgICAgICBlbmFibGVkID0gdHlwZW9mIGVuYWJsZWQgPT09ICdib29sZWFuJyA/IGVuYWJsZWQgOiB0cnVlO1xuICAgICAgICBpZiAoZW5hYmxlZCAhPT0gdGhpcy5tZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLl9sb2cuaW5mbygoZW5hYmxlZCA/ICdFbicgOiAnRGlzJykgKyAnYWJsaW5nJyk7XG4gICAgICAgICAgdGhpcy5tZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQgPSBlbmFibGVkO1xuICAgICAgICAgIHRoaXMuZW1pdChlbmFibGVkID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnZGlzYWJsZScsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5hYmxlKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdzdG9wJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICB0aGlzLl9sb2cuaW5mbygnU3RvcHBpbmcnKTtcbiAgICAgICAgdGhpcy5tZWRpYVN0cmVhbVRyYWNrLnN0b3AoKTtcbiAgICAgICAgdGhpcy5fZW5kKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBMb2NhbE1lZGlhVHJhY2s7XG4gIH0oQXVkaW9PclZpZGVvVHJhY2spO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1peGluTG9jYWxNZWRpYVRyYWNrO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvbWVkaWEvdHJhY2svbG9jYWxtZWRpYXRyYWNrLmpzXG4vLyBtb2R1bGUgaWQgPSAyMzZcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///236\n");

/***/ }),
/* 237 */
/*!*************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/sender.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MediaTrackTransceiver = __webpack_require__(/*! ./transceiver */ 238);\n\n/**\n * A {@link MediaTrackSender} represents one or more local RTCRtpSenders.\n * @extends MediaTrackTransceiver\n */\n\nvar MediaTrackSender = function (_MediaTrackTransceive) {\n  _inherits(MediaTrackSender, _MediaTrackTransceive);\n\n  /**\n   * Construct a {@link MediaTrackSender}.\n   * @param {MediaStreamTrack} mediaStreamTrack\n   */\n  function MediaTrackSender(mediaStreamTrack) {\n    _classCallCheck(this, MediaTrackSender);\n\n    var _this = _possibleConstructorReturn(this, (MediaTrackSender.__proto__ || Object.getPrototypeOf(MediaTrackSender)).call(this, mediaStreamTrack.id, mediaStreamTrack));\n\n    Object.defineProperties(_this, {\n      _senders: {\n        value: new Set()\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * Add an RTCRtpSender.\n   * @param {RTCRtpSender} sender\n   * @returns {this}\n   */\n\n\n  _createClass(MediaTrackSender, [{\n    key: 'addSender',\n    value: function addSender(sender) {\n      this._senders.add(sender);\n      return this;\n    }\n\n    /**\n     * Remove an RTCRtpSender.\n     * @param {RTCRtpSender} sender\n     * @returns {this}\n     */\n\n  }, {\n    key: 'removeSender',\n    value: function removeSender(sender) {\n      this._senders.delete(sender);\n      return this;\n    }\n  }]);\n\n  return MediaTrackSender;\n}(MediaTrackTransceiver);\n\nmodule.exports = MediaTrackSender;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9zZW5kZXIuanM/NDFiNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSw0QkFBNEIsbUJBQU8sQ0FBQyx3QkFBZTs7QUFFbkQ7QUFDQSxNQUFNLHVCQUF1QjtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsdUJBQXVCO0FBQ3pDLGFBQWEsaUJBQWlCO0FBQzlCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLGFBQWE7QUFDMUIsZUFBZTtBQUNmOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsYUFBYTtBQUM1QixpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIyMzcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIE1lZGlhVHJhY2tUcmFuc2NlaXZlciA9IHJlcXVpcmUoJy4vdHJhbnNjZWl2ZXInKTtcblxuLyoqXG4gKiBBIHtAbGluayBNZWRpYVRyYWNrU2VuZGVyfSByZXByZXNlbnRzIG9uZSBvciBtb3JlIGxvY2FsIFJUQ1J0cFNlbmRlcnMuXG4gKiBAZXh0ZW5kcyBNZWRpYVRyYWNrVHJhbnNjZWl2ZXJcbiAqL1xuXG52YXIgTWVkaWFUcmFja1NlbmRlciA9IGZ1bmN0aW9uIChfTWVkaWFUcmFja1RyYW5zY2VpdmUpIHtcbiAgX2luaGVyaXRzKE1lZGlhVHJhY2tTZW5kZXIsIF9NZWRpYVRyYWNrVHJhbnNjZWl2ZSk7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBNZWRpYVRyYWNrU2VuZGVyfS5cbiAgICogQHBhcmFtIHtNZWRpYVN0cmVhbVRyYWNrfSBtZWRpYVN0cmVhbVRyYWNrXG4gICAqL1xuICBmdW5jdGlvbiBNZWRpYVRyYWNrU2VuZGVyKG1lZGlhU3RyZWFtVHJhY2spIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVkaWFUcmFja1NlbmRlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTWVkaWFUcmFja1NlbmRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1lZGlhVHJhY2tTZW5kZXIpKS5jYWxsKHRoaXMsIG1lZGlhU3RyZWFtVHJhY2suaWQsIG1lZGlhU3RyZWFtVHJhY2spKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBfc2VuZGVyczoge1xuICAgICAgICB2YWx1ZTogbmV3IFNldCgpXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBSVENSdHBTZW5kZXIuXG4gICAqIEBwYXJhbSB7UlRDUnRwU2VuZGVyfSBzZW5kZXJcbiAgICogQHJldHVybnMge3RoaXN9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKE1lZGlhVHJhY2tTZW5kZXIsIFt7XG4gICAga2V5OiAnYWRkU2VuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkU2VuZGVyKHNlbmRlcikge1xuICAgICAgdGhpcy5fc2VuZGVycy5hZGQoc2VuZGVyKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbiBSVENSdHBTZW5kZXIuXG4gICAgICogQHBhcmFtIHtSVENSdHBTZW5kZXJ9IHNlbmRlclxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZW1vdmVTZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVTZW5kZXIoc2VuZGVyKSB7XG4gICAgICB0aGlzLl9zZW5kZXJzLmRlbGV0ZShzZW5kZXIpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1lZGlhVHJhY2tTZW5kZXI7XG59KE1lZGlhVHJhY2tUcmFuc2NlaXZlcik7XG5cbm1vZHVsZS5leHBvcnRzID0gTWVkaWFUcmFja1NlbmRlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L21lZGlhL3RyYWNrL3NlbmRlci5qc1xuLy8gbW9kdWxlIGlkID0gMjM3XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///237\n");

/***/ }),
/* 238 */
/*!******************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/transceiver.js ***!
  \******************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TrackTransceiver = __webpack_require__(/*! ../../transceiver */ 239);\n\n/**\n * A {@link MediaTrackTransceiver} represents either one or more local\n * RTCRtpSenders, or a single RTCRtpReceiver.\n * @extends TrackTransceiver\n * @property {MediaStreamTrack} track\n */\n\nvar MediaTrackTransceiver = function (_TrackTransceiver) {\n  _inherits(MediaTrackTransceiver, _TrackTransceiver);\n\n  /**\n   * Construct a {@link MediaTrackTransceiver}.\n   * @param {Track.ID} id - The MediaStreamTrack ID signaled through RSP/SDP\n   * @param {MediaStreamTrack} mediaStreamTrack\n   */\n  function MediaTrackTransceiver(id, mediaStreamTrack) {\n    _classCallCheck(this, MediaTrackTransceiver);\n\n    var _this = _possibleConstructorReturn(this, (MediaTrackTransceiver.__proto__ || Object.getPrototypeOf(MediaTrackTransceiver)).call(this, id, mediaStreamTrack.kind));\n\n    Object.defineProperties(_this, {\n      readyState: {\n        enumerable: true,\n        get: function get() {\n          return mediaStreamTrack.readyState;\n        }\n      },\n      track: {\n        enumerable: true,\n        value: mediaStreamTrack\n      }\n    });\n    return _this;\n  }\n\n  return MediaTrackTransceiver;\n}(TrackTransceiver);\n\nmodule.exports = MediaTrackTransceiver;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay90cmFuc2NlaXZlci5qcz84NThlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsdUJBQXVCLG1CQUFPLENBQUMsNEJBQW1COztBQUVsRDtBQUNBLE1BQU0sNEJBQTRCO0FBQ2xDO0FBQ0E7QUFDQSxjQUFjLGlCQUFpQjtBQUMvQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLDRCQUE0QjtBQUM5QyxhQUFhLFNBQVM7QUFDdEIsYUFBYSxpQkFBaUI7QUFDOUI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIyMzguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFRyYWNrVHJhbnNjZWl2ZXIgPSByZXF1aXJlKCcuLi8uLi90cmFuc2NlaXZlcicpO1xuXG4vKipcbiAqIEEge0BsaW5rIE1lZGlhVHJhY2tUcmFuc2NlaXZlcn0gcmVwcmVzZW50cyBlaXRoZXIgb25lIG9yIG1vcmUgbG9jYWxcbiAqIFJUQ1J0cFNlbmRlcnMsIG9yIGEgc2luZ2xlIFJUQ1J0cFJlY2VpdmVyLlxuICogQGV4dGVuZHMgVHJhY2tUcmFuc2NlaXZlclxuICogQHByb3BlcnR5IHtNZWRpYVN0cmVhbVRyYWNrfSB0cmFja1xuICovXG5cbnZhciBNZWRpYVRyYWNrVHJhbnNjZWl2ZXIgPSBmdW5jdGlvbiAoX1RyYWNrVHJhbnNjZWl2ZXIpIHtcbiAgX2luaGVyaXRzKE1lZGlhVHJhY2tUcmFuc2NlaXZlciwgX1RyYWNrVHJhbnNjZWl2ZXIpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgTWVkaWFUcmFja1RyYW5zY2VpdmVyfS5cbiAgICogQHBhcmFtIHtUcmFjay5JRH0gaWQgLSBUaGUgTWVkaWFTdHJlYW1UcmFjayBJRCBzaWduYWxlZCB0aHJvdWdoIFJTUC9TRFBcbiAgICogQHBhcmFtIHtNZWRpYVN0cmVhbVRyYWNrfSBtZWRpYVN0cmVhbVRyYWNrXG4gICAqL1xuICBmdW5jdGlvbiBNZWRpYVRyYWNrVHJhbnNjZWl2ZXIoaWQsIG1lZGlhU3RyZWFtVHJhY2spIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVkaWFUcmFja1RyYW5zY2VpdmVyKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChNZWRpYVRyYWNrVHJhbnNjZWl2ZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihNZWRpYVRyYWNrVHJhbnNjZWl2ZXIpKS5jYWxsKHRoaXMsIGlkLCBtZWRpYVN0cmVhbVRyYWNrLmtpbmQpKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICByZWFkeVN0YXRlOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBtZWRpYVN0cmVhbVRyYWNrLnJlYWR5U3RhdGU7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0cmFjazoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogbWVkaWFTdHJlYW1UcmFja1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHJldHVybiBNZWRpYVRyYWNrVHJhbnNjZWl2ZXI7XG59KFRyYWNrVHJhbnNjZWl2ZXIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1lZGlhVHJhY2tUcmFuc2NlaXZlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L21lZGlhL3RyYWNrL3RyYW5zY2VpdmVyLmpzXG4vLyBtb2R1bGUgaWQgPSAyMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///238\n");

/***/ }),
/* 239 */
/*!******************************************************!*\
  !*** ./node_modules/twilio-video/es5/transceiver.js ***!
  \******************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EventEmitter = __webpack_require__(/*! events */ 207).EventEmitter;\n\n/**\n * A {@link TrackTransceiver} represents either one or more local RTCRtpSenders\n * or RTCDataChannels, or a single RTCRtpReceiver or remote RTCDataChannel.\n * @extends EventEmitter\n * @property {Track.ID} id\n * @property {Track.kind} kind\n */\n\nvar TrackTransceiver = function (_EventEmitter) {\n  _inherits(TrackTransceiver, _EventEmitter);\n\n  /**\n   * Construct a {@link TrackTransceiver}.\n   * @param {Track.ID} id\n   * @param {Track.kind} kind\n   */\n  function TrackTransceiver(id, kind) {\n    _classCallCheck(this, TrackTransceiver);\n\n    var _this = _possibleConstructorReturn(this, (TrackTransceiver.__proto__ || Object.getPrototypeOf(TrackTransceiver)).call(this));\n\n    Object.defineProperties(_this, {\n      id: {\n        enumerable: true,\n        value: id\n      },\n      kind: {\n        enumerable: true,\n        value: kind\n      }\n    });\n    return _this;\n  }\n\n  return TrackTransceiver;\n}(EventEmitter);\n\nmodule.exports = TrackTransceiver;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS90cmFuc2NlaXZlci5qcz8xNDE2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsbUJBQW1CLG1CQUFPLENBQUMsaUJBQVE7O0FBRW5DO0FBQ0EsTUFBTSx1QkFBdUI7QUFDN0I7QUFDQTtBQUNBLGNBQWMsU0FBUztBQUN2QixjQUFjLFdBQVc7QUFDekI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQix1QkFBdUI7QUFDekMsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsV0FBVztBQUN4QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiMjM5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG5cbi8qKlxuICogQSB7QGxpbmsgVHJhY2tUcmFuc2NlaXZlcn0gcmVwcmVzZW50cyBlaXRoZXIgb25lIG9yIG1vcmUgbG9jYWwgUlRDUnRwU2VuZGVyc1xuICogb3IgUlRDRGF0YUNoYW5uZWxzLCBvciBhIHNpbmdsZSBSVENSdHBSZWNlaXZlciBvciByZW1vdGUgUlRDRGF0YUNoYW5uZWwuXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBwcm9wZXJ0eSB7VHJhY2suSUR9IGlkXG4gKiBAcHJvcGVydHkge1RyYWNrLmtpbmR9IGtpbmRcbiAqL1xuXG52YXIgVHJhY2tUcmFuc2NlaXZlciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gIF9pbmhlcml0cyhUcmFja1RyYW5zY2VpdmVyLCBfRXZlbnRFbWl0dGVyKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGEge0BsaW5rIFRyYWNrVHJhbnNjZWl2ZXJ9LlxuICAgKiBAcGFyYW0ge1RyYWNrLklEfSBpZFxuICAgKiBAcGFyYW0ge1RyYWNrLmtpbmR9IGtpbmRcbiAgICovXG4gIGZ1bmN0aW9uIFRyYWNrVHJhbnNjZWl2ZXIoaWQsIGtpbmQpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhY2tUcmFuc2NlaXZlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVHJhY2tUcmFuc2NlaXZlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRyYWNrVHJhbnNjZWl2ZXIpKS5jYWxsKHRoaXMpKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBpZDoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogaWRcbiAgICAgIH0sXG4gICAgICBraW5kOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBraW5kXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgcmV0dXJuIFRyYWNrVHJhbnNjZWl2ZXI7XG59KEV2ZW50RW1pdHRlcik7XG5cbm1vZHVsZS5leHBvcnRzID0gVHJhY2tUcmFuc2NlaXZlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3RyYW5zY2VpdmVyLmpzXG4vLyBtb2R1bGUgaWQgPSAyMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///239\n");

/***/ }),
/* 240 */
/*!***********************************************************!*\
  !*** ./node_modules/twilio-video/es5/data/transceiver.js ***!
  \***********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TrackTransceiver = __webpack_require__(/*! ../transceiver */ 239);\n\n/**\n * A {@link DataTrackTransceiver} represents either one or more local\n * RTCDataChannels or a single remote RTCDataChannel. It can be used to send or\n * receive data.\n * @extends TrackTransceiver\n * @property {string} id\n * @property {string} kind - \"data\"\n * @property {?number} maxPacketLifeTime\n * @property {?number} maxRetransmits\n * @property {boolean} ordered\n */\n\nvar DataTrackTransceiver = function (_TrackTransceiver) {\n  _inherits(DataTrackTransceiver, _TrackTransceiver);\n\n  /**\n   * Construct a {@link DataTrackTransceiver}.\n   * @param {string} id\n   * @param {?number} maxPacketLifeTime\n   * @param {?number} maxRetransmits\n   * @param {boolean} ordered\n   */\n  function DataTrackTransceiver(id, maxPacketLifeTime, maxRetransmits, ordered) {\n    _classCallCheck(this, DataTrackTransceiver);\n\n    var _this = _possibleConstructorReturn(this, (DataTrackTransceiver.__proto__ || Object.getPrototypeOf(DataTrackTransceiver)).call(this, id, 'data'));\n\n    Object.defineProperties(_this, {\n      maxPacketLifeTime: {\n        enumerable: true,\n        value: maxPacketLifeTime\n      },\n      maxRetransmits: {\n        enumerable: true,\n        value: maxRetransmits\n      },\n      ordered: {\n        enumerable: true,\n        value: ordered\n      }\n    });\n    return _this;\n  }\n\n  return DataTrackTransceiver;\n}(TrackTransceiver);\n\nmodule.exports = DataTrackTransceiver;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9kYXRhL3RyYW5zY2VpdmVyLmpzPzA2NDgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSx1QkFBdUIsbUJBQU8sQ0FBQyx5QkFBZ0I7O0FBRS9DO0FBQ0EsTUFBTSwyQkFBMkI7QUFDakM7QUFDQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLDJCQUEyQjtBQUM3QyxhQUFhLE9BQU87QUFDcEIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIyNDAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFRyYWNrVHJhbnNjZWl2ZXIgPSByZXF1aXJlKCcuLi90cmFuc2NlaXZlcicpO1xuXG4vKipcbiAqIEEge0BsaW5rIERhdGFUcmFja1RyYW5zY2VpdmVyfSByZXByZXNlbnRzIGVpdGhlciBvbmUgb3IgbW9yZSBsb2NhbFxuICogUlRDRGF0YUNoYW5uZWxzIG9yIGEgc2luZ2xlIHJlbW90ZSBSVENEYXRhQ2hhbm5lbC4gSXQgY2FuIGJlIHVzZWQgdG8gc2VuZCBvclxuICogcmVjZWl2ZSBkYXRhLlxuICogQGV4dGVuZHMgVHJhY2tUcmFuc2NlaXZlclxuICogQHByb3BlcnR5IHtzdHJpbmd9IGlkXG4gKiBAcHJvcGVydHkge3N0cmluZ30ga2luZCAtIFwiZGF0YVwiXG4gKiBAcHJvcGVydHkgez9udW1iZXJ9IG1heFBhY2tldExpZmVUaW1lXG4gKiBAcHJvcGVydHkgez9udW1iZXJ9IG1heFJldHJhbnNtaXRzXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IG9yZGVyZWRcbiAqL1xuXG52YXIgRGF0YVRyYWNrVHJhbnNjZWl2ZXIgPSBmdW5jdGlvbiAoX1RyYWNrVHJhbnNjZWl2ZXIpIHtcbiAgX2luaGVyaXRzKERhdGFUcmFja1RyYW5zY2VpdmVyLCBfVHJhY2tUcmFuc2NlaXZlcik7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBEYXRhVHJhY2tUcmFuc2NlaXZlcn0uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcGFyYW0gez9udW1iZXJ9IG1heFBhY2tldExpZmVUaW1lXG4gICAqIEBwYXJhbSB7P251bWJlcn0gbWF4UmV0cmFuc21pdHNcbiAgICogQHBhcmFtIHtib29sZWFufSBvcmRlcmVkXG4gICAqL1xuICBmdW5jdGlvbiBEYXRhVHJhY2tUcmFuc2NlaXZlcihpZCwgbWF4UGFja2V0TGlmZVRpbWUsIG1heFJldHJhbnNtaXRzLCBvcmRlcmVkKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERhdGFUcmFja1RyYW5zY2VpdmVyKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChEYXRhVHJhY2tUcmFuc2NlaXZlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERhdGFUcmFja1RyYW5zY2VpdmVyKSkuY2FsbCh0aGlzLCBpZCwgJ2RhdGEnKSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgbWF4UGFja2V0TGlmZVRpbWU6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG1heFBhY2tldExpZmVUaW1lXG4gICAgICB9LFxuICAgICAgbWF4UmV0cmFuc21pdHM6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG1heFJldHJhbnNtaXRzXG4gICAgICB9LFxuICAgICAgb3JkZXJlZDoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogb3JkZXJlZFxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHJldHVybiBEYXRhVHJhY2tUcmFuc2NlaXZlcjtcbn0oVHJhY2tUcmFuc2NlaXZlcik7XG5cbm1vZHVsZS5leHBvcnRzID0gRGF0YVRyYWNrVHJhbnNjZWl2ZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9kYXRhL3RyYW5zY2VpdmVyLmpzXG4vLyBtb2R1bGUgaWQgPSAyNDBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///240\n");

/***/ }),
/* 241 */
/*!*****************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/videotrack.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MediaTrack = __webpack_require__(/*! ./mediatrack */ 235);\n\n/**\n * A {@link VideoTrack} is a {@link Track} representing video.\n * @extends Track\n * @property {boolean} isStarted - Whether or not the {@link VideoTrack} has\n *   started; if the {@link VideoTrack} started, there is enough video data to\n *   begin playback\n * @property {boolean} isEnabled - Whether or not the {@link VideoTrack} is\n *   enabled; if the {@link VideoTrack} is not enabled, it is \"paused\"\n * @property {VideoTrack.Dimensions} dimensions - The {@link VideoTrack}'s\n *   {@link VideoTrack.Dimensions}\n * @property {Track.Kind} kind - \"video\"\n * @property {MediaStreamTrack} mediaStreamTrack - A video MediaStreamTrack\n * @emits VideoTrack#dimensionsChanged\n * @emits VideoTrack#disabled\n * @emits VideoTrack#enabled\n * @emits VideoTrack#started\n */\n\nvar VideoTrack = function (_MediaTrack) {\n  _inherits(VideoTrack, _MediaTrack);\n\n  /**\n   * Construct a {@link VideoTrack}.\n   * @param {MediaTrackTransceiver} mediaTrackTransceiver\n   * @param {{log: Log}} options\n   */\n  function VideoTrack(mediaTrackTransceiver, options) {\n    var _ret;\n\n    _classCallCheck(this, VideoTrack);\n\n    var _this = _possibleConstructorReturn(this, (VideoTrack.__proto__ || Object.getPrototypeOf(VideoTrack)).call(this, mediaTrackTransceiver, options));\n\n    Object.defineProperties(_this, {\n      dimensions: {\n        enumerable: true,\n        value: {\n          width: null,\n          height: null\n        }\n      }\n    });\n    return _ret = _this, _possibleConstructorReturn(_this, _ret);\n  }\n\n  /**\n   * @private\n   */\n\n\n  _createClass(VideoTrack, [{\n    key: '_initialize',\n    value: function _initialize() {\n      var _this2 = this;\n\n      _get(VideoTrack.prototype.__proto__ || Object.getPrototypeOf(VideoTrack.prototype), '_initialize', this).call(this);\n      if (this._dummyEl) {\n        this._dummyEl.onloadedmetadata = function () {\n          if (dimensionsChanged(_this2, _this2._dummyEl)) {\n            _this2.dimensions.width = _this2._dummyEl.videoWidth;\n            _this2.dimensions.height = _this2._dummyEl.videoHeight;\n          }\n        };\n        this._dummyEl.onresize = function () {\n          if (dimensionsChanged(_this2, _this2._dummyEl)) {\n            _this2.dimensions.width = _this2._dummyEl.videoWidth;\n            _this2.dimensions.height = _this2._dummyEl.videoHeight;\n            if (_this2.isStarted) {\n              _this2._log.debug('Dimensions changed:', _this2.dimensions);\n              _this2.emit(VideoTrack.DIMENSIONS_CHANGED, _this2);\n            }\n          }\n        };\n      }\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_start',\n    value: function _start(dummyEl) {\n      this.dimensions.width = dummyEl.videoWidth;\n      this.dimensions.height = dummyEl.videoHeight;\n\n      this._log.debug('Dimensions:', this.dimensions);\n      return _get(VideoTrack.prototype.__proto__ || Object.getPrototypeOf(VideoTrack.prototype), '_start', this).call(this, dummyEl);\n    }\n\n    /**\n     * Create an HTMLVideoElement and attach the {@link VideoTrack} to it.\n     *\n     * The HTMLVideoElement's <code>srcObject</code> will be set to a new\n     * MediaStream containing the {@link VideoTrack}'s MediaStreamTrack.\n     *\n     * @returns {HTMLVideoElement} videoElement\n     * @example\n     * const Video = require('twilio-video');\n     *\n     * Video.createLocalVideoTrack().then(function(videoTrack) {\n     *   const videoElement = videoTrack.attach();\n     *   document.body.appendChild(videoElement);\n     * });\n    */ /**\n       * Attach the {@link VideoTrack} to an existing HTMLMediaElement. The\n       * HTMLMediaElement could be an HTMLAudioElement or an HTMLVideoElement.\n       *\n       * If the HTMLMediaElement's <code>srcObject</code> is not set to a MediaStream,\n       * this method sets it to a new MediaStream containing the {@link VideoTrack}'s\n       * MediaStreamTrack; otherwise, it adds the {@link MediaTrack}'s\n       * MediaStreamTrack to the existing MediaStream. Finally, if there are any other\n       * MediaStreamTracks of the same kind on the MediaStream, this method removes\n       * them.\n       *\n       * @param {HTMLMediaElement} mediaElement - The HTMLMediaElement to attach to\n       * @returns {HTMLMediaElement} mediaElement\n       * @example\n       * const Video = require('twilio-video');\n       *\n       * const videoElement = document.createElement('video');\n       * document.body.appendChild(videoElement);\n       *\n       * Video.createLocalVideoTrack().then(function(videoTrack) {\n       *   videoTrack.attach(videoElement);\n       * });\n       */ /**\n          * Attach the {@link VideoTrack} to an HTMLMediaElement selected by\n          * <code>document.querySelector</code>. The HTMLMediaElement could be an\n          * HTMLAudioElement or an HTMLVideoElement.\n          *\n          * If the HTMLMediaElement's <code>srcObject</code> is not set to a MediaStream,\n          * this method sets it to a new MediaStream containing the {@link VideoTrack}'s\n          * MediaStreamTrack; otherwise, it adds the {@link VideoTrack}'s\n          * MediaStreamTrack to the existing MediaStream. Finally, if there are any other\n          * MediaStreamTracks of the same kind on the MediaStream, this method removes\n          * them.\n          *\n          * @param {string} selector - A query selector for the HTMLMediaElement to\n          *   attach to\n          * @returns {HTMLMediaElement} mediaElement\n          * @example\n          * const Video = require('twilio-video');\n          *\n          * const videoElement = document.createElement('video');\n          * videoElement.id = 'my-video-element';\n          * document.body.appendChild(videoElement);\n          *\n          * Video.createLocalVideoTrack().then(function(track) {\n          *   track.attach('#my-video-element');\n          * });\n          */\n\n  }, {\n    key: 'attach',\n    value: function attach() {\n      return _get(VideoTrack.prototype.__proto__ || Object.getPrototypeOf(VideoTrack.prototype), 'attach', this).apply(this, arguments);\n    }\n\n    /**\n     * Detach the {@link VideoTrack} from all previously attached HTMLMediaElements.\n     * @returns {Array<HTMLMediaElement>} mediaElements\n     * @example\n     * const mediaElements = videoTrack.detach();\n     * mediaElements.forEach(mediaElement => mediaElement.remove());\n    */ /**\n       * Detach the {@link VideoTrack} from a previously attached HTMLMediaElement.\n       * @param {HTMLMediaElement} mediaElement - One of the HTMLMediaElements to\n       *   which the {@link VideoTrack} is attached\n       * @returns {HTMLMediaElement} mediaElement\n       * @example\n       * const videoElement = document.getElementById('my-video-element');\n       * videoTrack.detach(videoElement).remove();\n       */ /**\n          * Detach the {@link VideoTrack} from a previously attached HTMLMediaElement\n          *   specified by <code>document.querySelector</code>.\n          * @param {string} selector - The query selector of HTMLMediaElement to which\n          *    the {@link VideoTrack} is attached\n          * @returns {HTMLMediaElement} mediaElement\n          * @example\n          * videoTrack.detach('#my-video-element').remove();\n          */\n\n  }, {\n    key: 'detach',\n    value: function detach() {\n      return _get(VideoTrack.prototype.__proto__ || Object.getPrototypeOf(VideoTrack.prototype), 'detach', this).apply(this, arguments);\n    }\n  }]);\n\n  return VideoTrack;\n}(MediaTrack);\n\nVideoTrack.DIMENSIONS_CHANGED = 'dimensionsChanged';\n\nfunction dimensionsChanged(track, elem) {\n  return track.dimensions.width !== elem.videoWidth || track.dimensions.height !== elem.videoHeight;\n}\n\n/**\n * A {@link VideoTrack}'s width and height.\n * @typedef {object} VideoTrack.Dimensions\n * @property {?number} width - The {@link VideoTrack}'s width or null if the\n *   {@link VideoTrack} has not yet started\n * @property {?number} height - The {@link VideoTrack}'s height or null if the\n *   {@link VideoTrack} has not yet started\n */\n\n/**\n * The {@link VideoTrack}'s dimensions changed.\n * @param {VideoTrack} track - The {@link VideoTrack} whose dimensions changed\n * @event VideoTrack#dimensionsChanged\n */\n\n/**\n * The {@link VideoTrack} was disabled, i.e. \"paused\".\n * @param {VideoTrack} track - The {@link VideoTrack} that was disabled\n * @event VideoTrack#disabled\n */\n\n/**\n * The {@link VideoTrack} was enabled, i.e. \"unpaused\".\n * @param {VideoTrack} track - The {@link VideoTrack} that was enabled\n * @event VideoTrack#enabled\n */\n\n/**\n * The {@link VideoTrack} started. This means there is enough video data to\n * begin playback.\n * @param {VideoTrack} track - The {@link VideoTrack} that started\n * @event VideoTrack#started\n */\n\nmodule.exports = VideoTrack;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay92aWRlb3RyYWNrLmpzPzUzYWYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLHFEQUFxRCxrREFBa0QsOERBQThELDBCQUEwQiw0Q0FBNEMsdUJBQXVCLGtCQUFrQixFQUFFLE9BQU8sd0NBQXdDLEVBQUUsRUFBRSw0QkFBNEIsbUJBQW1CLEVBQUUsT0FBTyx1QkFBdUIsNEJBQTRCLGtCQUFrQixFQUFFLDhCQUE4QixFQUFFOztBQUV4ZSxpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLGlCQUFpQixtQkFBTyxDQUFDLHVCQUFjOztBQUV2QztBQUNBLE1BQU0saUJBQWlCLE9BQU8sWUFBWTtBQUMxQztBQUNBLGNBQWMsUUFBUSxpQ0FBaUMsaUJBQWlCO0FBQ3hFLGFBQWEsU0FBUyxpQkFBaUI7QUFDdkM7QUFDQSxjQUFjLFFBQVEsaUNBQWlDLGlCQUFpQjtBQUN4RSxhQUFhLFNBQVMsaUJBQWlCO0FBQ3ZDLGNBQWMsc0JBQXNCLG1CQUFtQixpQkFBaUI7QUFDeEUsTUFBTTtBQUNOLGNBQWMsV0FBVztBQUN6QixjQUFjLGlCQUFpQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsaUJBQWlCO0FBQ25DLGFBQWEsc0JBQXNCO0FBQ25DLGNBQWMsVUFBVTtBQUN4QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtEQUFrRCxpQkFBaUI7QUFDbkU7QUFDQTtBQUNBLG1DQUFtQyxpQkFBaUI7QUFDcEQ7QUFDQSxpQkFBaUIsaUJBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLHFCQUFxQixpQkFBaUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLGlCQUFpQjtBQUNuRiwwQkFBMEIseUJBQXlCLGlCQUFpQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixpQkFBaUI7QUFDbEMsbUJBQW1CLGlCQUFpQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0Esd0JBQXdCLGlCQUFpQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxpQkFBaUI7QUFDdEYsNkJBQTZCLHlCQUF5QixpQkFBaUI7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBLHNCQUFzQixpQkFBaUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQixpQkFBaUI7QUFDcEMsaUJBQWlCLHdCQUF3QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixpQkFBaUI7QUFDdEMsaUJBQWlCLGlCQUFpQjtBQUNsQyxzQkFBc0IsaUJBQWlCO0FBQ3ZDLG1CQUFtQixpQkFBaUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0Isb0JBQW9CLGlCQUFpQjtBQUNyQyxzQkFBc0IsaUJBQWlCO0FBQ3ZDO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLGlCQUFpQjtBQUN2QixhQUFhLE9BQU87QUFDcEIsY0FBYyxRQUFRLGNBQWMsaUJBQWlCO0FBQ3JELE1BQU0saUJBQWlCO0FBQ3ZCLGNBQWMsUUFBUSxlQUFlLGlCQUFpQjtBQUN0RCxNQUFNLGlCQUFpQjtBQUN2Qjs7QUFFQTtBQUNBLFFBQVEsaUJBQWlCO0FBQ3pCLFdBQVcsV0FBVyxjQUFjLGlCQUFpQjtBQUNyRDtBQUNBOztBQUVBO0FBQ0EsUUFBUSxpQkFBaUI7QUFDekIsV0FBVyxXQUFXLGNBQWMsaUJBQWlCO0FBQ3JEO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLGlCQUFpQjtBQUN6QixXQUFXLFdBQVcsY0FBYyxpQkFBaUI7QUFDckQ7QUFDQTs7QUFFQTtBQUNBLFFBQVEsaUJBQWlCO0FBQ3pCO0FBQ0EsV0FBVyxXQUFXLGNBQWMsaUJBQWlCO0FBQ3JEO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMjQxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIE1lZGlhVHJhY2sgPSByZXF1aXJlKCcuL21lZGlhdHJhY2snKTtcblxuLyoqXG4gKiBBIHtAbGluayBWaWRlb1RyYWNrfSBpcyBhIHtAbGluayBUcmFja30gcmVwcmVzZW50aW5nIHZpZGVvLlxuICogQGV4dGVuZHMgVHJhY2tcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNTdGFydGVkIC0gV2hldGhlciBvciBub3QgdGhlIHtAbGluayBWaWRlb1RyYWNrfSBoYXNcbiAqICAgc3RhcnRlZDsgaWYgdGhlIHtAbGluayBWaWRlb1RyYWNrfSBzdGFydGVkLCB0aGVyZSBpcyBlbm91Z2ggdmlkZW8gZGF0YSB0b1xuICogICBiZWdpbiBwbGF5YmFja1xuICogQHByb3BlcnR5IHtib29sZWFufSBpc0VuYWJsZWQgLSBXaGV0aGVyIG9yIG5vdCB0aGUge0BsaW5rIFZpZGVvVHJhY2t9IGlzXG4gKiAgIGVuYWJsZWQ7IGlmIHRoZSB7QGxpbmsgVmlkZW9UcmFja30gaXMgbm90IGVuYWJsZWQsIGl0IGlzIFwicGF1c2VkXCJcbiAqIEBwcm9wZXJ0eSB7VmlkZW9UcmFjay5EaW1lbnNpb25zfSBkaW1lbnNpb25zIC0gVGhlIHtAbGluayBWaWRlb1RyYWNrfSdzXG4gKiAgIHtAbGluayBWaWRlb1RyYWNrLkRpbWVuc2lvbnN9XG4gKiBAcHJvcGVydHkge1RyYWNrLktpbmR9IGtpbmQgLSBcInZpZGVvXCJcbiAqIEBwcm9wZXJ0eSB7TWVkaWFTdHJlYW1UcmFja30gbWVkaWFTdHJlYW1UcmFjayAtIEEgdmlkZW8gTWVkaWFTdHJlYW1UcmFja1xuICogQGVtaXRzIFZpZGVvVHJhY2sjZGltZW5zaW9uc0NoYW5nZWRcbiAqIEBlbWl0cyBWaWRlb1RyYWNrI2Rpc2FibGVkXG4gKiBAZW1pdHMgVmlkZW9UcmFjayNlbmFibGVkXG4gKiBAZW1pdHMgVmlkZW9UcmFjayNzdGFydGVkXG4gKi9cblxudmFyIFZpZGVvVHJhY2sgPSBmdW5jdGlvbiAoX01lZGlhVHJhY2spIHtcbiAgX2luaGVyaXRzKFZpZGVvVHJhY2ssIF9NZWRpYVRyYWNrKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGEge0BsaW5rIFZpZGVvVHJhY2t9LlxuICAgKiBAcGFyYW0ge01lZGlhVHJhY2tUcmFuc2NlaXZlcn0gbWVkaWFUcmFja1RyYW5zY2VpdmVyXG4gICAqIEBwYXJhbSB7e2xvZzogTG9nfX0gb3B0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gVmlkZW9UcmFjayhtZWRpYVRyYWNrVHJhbnNjZWl2ZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWaWRlb1RyYWNrKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChWaWRlb1RyYWNrLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVmlkZW9UcmFjaykpLmNhbGwodGhpcywgbWVkaWFUcmFja1RyYW5zY2VpdmVyLCBvcHRpb25zKSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgZGltZW5zaW9uczoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHdpZHRoOiBudWxsLFxuICAgICAgICAgIGhlaWdodDogbnVsbFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF9yZXQgPSBfdGhpcywgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFZpZGVvVHJhY2ssIFt7XG4gICAga2V5OiAnX2luaXRpYWxpemUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaW5pdGlhbGl6ZSgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBfZ2V0KFZpZGVvVHJhY2sucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVmlkZW9UcmFjay5wcm90b3R5cGUpLCAnX2luaXRpYWxpemUnLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgICAgaWYgKHRoaXMuX2R1bW15RWwpIHtcbiAgICAgICAgdGhpcy5fZHVtbXlFbC5vbmxvYWRlZG1ldGFkYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChkaW1lbnNpb25zQ2hhbmdlZChfdGhpczIsIF90aGlzMi5fZHVtbXlFbCkpIHtcbiAgICAgICAgICAgIF90aGlzMi5kaW1lbnNpb25zLndpZHRoID0gX3RoaXMyLl9kdW1teUVsLnZpZGVvV2lkdGg7XG4gICAgICAgICAgICBfdGhpczIuZGltZW5zaW9ucy5oZWlnaHQgPSBfdGhpczIuX2R1bW15RWwudmlkZW9IZWlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9kdW1teUVsLm9ucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChkaW1lbnNpb25zQ2hhbmdlZChfdGhpczIsIF90aGlzMi5fZHVtbXlFbCkpIHtcbiAgICAgICAgICAgIF90aGlzMi5kaW1lbnNpb25zLndpZHRoID0gX3RoaXMyLl9kdW1teUVsLnZpZGVvV2lkdGg7XG4gICAgICAgICAgICBfdGhpczIuZGltZW5zaW9ucy5oZWlnaHQgPSBfdGhpczIuX2R1bW15RWwudmlkZW9IZWlnaHQ7XG4gICAgICAgICAgICBpZiAoX3RoaXMyLmlzU3RhcnRlZCkge1xuICAgICAgICAgICAgICBfdGhpczIuX2xvZy5kZWJ1ZygnRGltZW5zaW9ucyBjaGFuZ2VkOicsIF90aGlzMi5kaW1lbnNpb25zKTtcbiAgICAgICAgICAgICAgX3RoaXMyLmVtaXQoVmlkZW9UcmFjay5ESU1FTlNJT05TX0NIQU5HRUQsIF90aGlzMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19zdGFydCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zdGFydChkdW1teUVsKSB7XG4gICAgICB0aGlzLmRpbWVuc2lvbnMud2lkdGggPSBkdW1teUVsLnZpZGVvV2lkdGg7XG4gICAgICB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0ID0gZHVtbXlFbC52aWRlb0hlaWdodDtcblxuICAgICAgdGhpcy5fbG9nLmRlYnVnKCdEaW1lbnNpb25zOicsIHRoaXMuZGltZW5zaW9ucyk7XG4gICAgICByZXR1cm4gX2dldChWaWRlb1RyYWNrLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFZpZGVvVHJhY2sucHJvdG90eXBlKSwgJ19zdGFydCcsIHRoaXMpLmNhbGwodGhpcywgZHVtbXlFbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIEhUTUxWaWRlb0VsZW1lbnQgYW5kIGF0dGFjaCB0aGUge0BsaW5rIFZpZGVvVHJhY2t9IHRvIGl0LlxuICAgICAqXG4gICAgICogVGhlIEhUTUxWaWRlb0VsZW1lbnQncyA8Y29kZT5zcmNPYmplY3Q8L2NvZGU+IHdpbGwgYmUgc2V0IHRvIGEgbmV3XG4gICAgICogTWVkaWFTdHJlYW0gY29udGFpbmluZyB0aGUge0BsaW5rIFZpZGVvVHJhY2t9J3MgTWVkaWFTdHJlYW1UcmFjay5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIVE1MVmlkZW9FbGVtZW50fSB2aWRlb0VsZW1lbnRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IFZpZGVvID0gcmVxdWlyZSgndHdpbGlvLXZpZGVvJyk7XG4gICAgICpcbiAgICAgKiBWaWRlby5jcmVhdGVMb2NhbFZpZGVvVHJhY2soKS50aGVuKGZ1bmN0aW9uKHZpZGVvVHJhY2spIHtcbiAgICAgKiAgIGNvbnN0IHZpZGVvRWxlbWVudCA9IHZpZGVvVHJhY2suYXR0YWNoKCk7XG4gICAgICogICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHZpZGVvRWxlbWVudCk7XG4gICAgICogfSk7XG4gICAgKi8gLyoqXG4gICAgICAgKiBBdHRhY2ggdGhlIHtAbGluayBWaWRlb1RyYWNrfSB0byBhbiBleGlzdGluZyBIVE1MTWVkaWFFbGVtZW50LiBUaGVcbiAgICAgICAqIEhUTUxNZWRpYUVsZW1lbnQgY291bGQgYmUgYW4gSFRNTEF1ZGlvRWxlbWVudCBvciBhbiBIVE1MVmlkZW9FbGVtZW50LlxuICAgICAgICpcbiAgICAgICAqIElmIHRoZSBIVE1MTWVkaWFFbGVtZW50J3MgPGNvZGU+c3JjT2JqZWN0PC9jb2RlPiBpcyBub3Qgc2V0IHRvIGEgTWVkaWFTdHJlYW0sXG4gICAgICAgKiB0aGlzIG1ldGhvZCBzZXRzIGl0IHRvIGEgbmV3IE1lZGlhU3RyZWFtIGNvbnRhaW5pbmcgdGhlIHtAbGluayBWaWRlb1RyYWNrfSdzXG4gICAgICAgKiBNZWRpYVN0cmVhbVRyYWNrOyBvdGhlcndpc2UsIGl0IGFkZHMgdGhlIHtAbGluayBNZWRpYVRyYWNrfSdzXG4gICAgICAgKiBNZWRpYVN0cmVhbVRyYWNrIHRvIHRoZSBleGlzdGluZyBNZWRpYVN0cmVhbS4gRmluYWxseSwgaWYgdGhlcmUgYXJlIGFueSBvdGhlclxuICAgICAgICogTWVkaWFTdHJlYW1UcmFja3Mgb2YgdGhlIHNhbWUga2luZCBvbiB0aGUgTWVkaWFTdHJlYW0sIHRoaXMgbWV0aG9kIHJlbW92ZXNcbiAgICAgICAqIHRoZW0uXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtIVE1MTWVkaWFFbGVtZW50fSBtZWRpYUVsZW1lbnQgLSBUaGUgSFRNTE1lZGlhRWxlbWVudCB0byBhdHRhY2ggdG9cbiAgICAgICAqIEByZXR1cm5zIHtIVE1MTWVkaWFFbGVtZW50fSBtZWRpYUVsZW1lbnRcbiAgICAgICAqIEBleGFtcGxlXG4gICAgICAgKiBjb25zdCBWaWRlbyA9IHJlcXVpcmUoJ3R3aWxpby12aWRlbycpO1xuICAgICAgICpcbiAgICAgICAqIGNvbnN0IHZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHZpZGVvRWxlbWVudCk7XG4gICAgICAgKlxuICAgICAgICogVmlkZW8uY3JlYXRlTG9jYWxWaWRlb1RyYWNrKCkudGhlbihmdW5jdGlvbih2aWRlb1RyYWNrKSB7XG4gICAgICAgKiAgIHZpZGVvVHJhY2suYXR0YWNoKHZpZGVvRWxlbWVudCk7XG4gICAgICAgKiB9KTtcbiAgICAgICAqLyAvKipcbiAgICAgICAgICAqIEF0dGFjaCB0aGUge0BsaW5rIFZpZGVvVHJhY2t9IHRvIGFuIEhUTUxNZWRpYUVsZW1lbnQgc2VsZWN0ZWQgYnlcbiAgICAgICAgICAqIDxjb2RlPmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8L2NvZGU+LiBUaGUgSFRNTE1lZGlhRWxlbWVudCBjb3VsZCBiZSBhblxuICAgICAgICAgICogSFRNTEF1ZGlvRWxlbWVudCBvciBhbiBIVE1MVmlkZW9FbGVtZW50LlxuICAgICAgICAgICpcbiAgICAgICAgICAqIElmIHRoZSBIVE1MTWVkaWFFbGVtZW50J3MgPGNvZGU+c3JjT2JqZWN0PC9jb2RlPiBpcyBub3Qgc2V0IHRvIGEgTWVkaWFTdHJlYW0sXG4gICAgICAgICAgKiB0aGlzIG1ldGhvZCBzZXRzIGl0IHRvIGEgbmV3IE1lZGlhU3RyZWFtIGNvbnRhaW5pbmcgdGhlIHtAbGluayBWaWRlb1RyYWNrfSdzXG4gICAgICAgICAgKiBNZWRpYVN0cmVhbVRyYWNrOyBvdGhlcndpc2UsIGl0IGFkZHMgdGhlIHtAbGluayBWaWRlb1RyYWNrfSdzXG4gICAgICAgICAgKiBNZWRpYVN0cmVhbVRyYWNrIHRvIHRoZSBleGlzdGluZyBNZWRpYVN0cmVhbS4gRmluYWxseSwgaWYgdGhlcmUgYXJlIGFueSBvdGhlclxuICAgICAgICAgICogTWVkaWFTdHJlYW1UcmFja3Mgb2YgdGhlIHNhbWUga2luZCBvbiB0aGUgTWVkaWFTdHJlYW0sIHRoaXMgbWV0aG9kIHJlbW92ZXNcbiAgICAgICAgICAqIHRoZW0uXG4gICAgICAgICAgKlxuICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIC0gQSBxdWVyeSBzZWxlY3RvciBmb3IgdGhlIEhUTUxNZWRpYUVsZW1lbnQgdG9cbiAgICAgICAgICAqICAgYXR0YWNoIHRvXG4gICAgICAgICAgKiBAcmV0dXJucyB7SFRNTE1lZGlhRWxlbWVudH0gbWVkaWFFbGVtZW50XG4gICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgICogY29uc3QgVmlkZW8gPSByZXF1aXJlKCd0d2lsaW8tdmlkZW8nKTtcbiAgICAgICAgICAqXG4gICAgICAgICAgKiBjb25zdCB2aWRlb0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICAgICogdmlkZW9FbGVtZW50LmlkID0gJ215LXZpZGVvLWVsZW1lbnQnO1xuICAgICAgICAgICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh2aWRlb0VsZW1lbnQpO1xuICAgICAgICAgICpcbiAgICAgICAgICAqIFZpZGVvLmNyZWF0ZUxvY2FsVmlkZW9UcmFjaygpLnRoZW4oZnVuY3Rpb24odHJhY2spIHtcbiAgICAgICAgICAqICAgdHJhY2suYXR0YWNoKCcjbXktdmlkZW8tZWxlbWVudCcpO1xuICAgICAgICAgICogfSk7XG4gICAgICAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnYXR0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXR0YWNoKCkge1xuICAgICAgcmV0dXJuIF9nZXQoVmlkZW9UcmFjay5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihWaWRlb1RyYWNrLnByb3RvdHlwZSksICdhdHRhY2gnLCB0aGlzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGFjaCB0aGUge0BsaW5rIFZpZGVvVHJhY2t9IGZyb20gYWxsIHByZXZpb3VzbHkgYXR0YWNoZWQgSFRNTE1lZGlhRWxlbWVudHMuXG4gICAgICogQHJldHVybnMge0FycmF5PEhUTUxNZWRpYUVsZW1lbnQ+fSBtZWRpYUVsZW1lbnRzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBtZWRpYUVsZW1lbnRzID0gdmlkZW9UcmFjay5kZXRhY2goKTtcbiAgICAgKiBtZWRpYUVsZW1lbnRzLmZvckVhY2gobWVkaWFFbGVtZW50ID0+IG1lZGlhRWxlbWVudC5yZW1vdmUoKSk7XG4gICAgKi8gLyoqXG4gICAgICAgKiBEZXRhY2ggdGhlIHtAbGluayBWaWRlb1RyYWNrfSBmcm9tIGEgcHJldmlvdXNseSBhdHRhY2hlZCBIVE1MTWVkaWFFbGVtZW50LlxuICAgICAgICogQHBhcmFtIHtIVE1MTWVkaWFFbGVtZW50fSBtZWRpYUVsZW1lbnQgLSBPbmUgb2YgdGhlIEhUTUxNZWRpYUVsZW1lbnRzIHRvXG4gICAgICAgKiAgIHdoaWNoIHRoZSB7QGxpbmsgVmlkZW9UcmFja30gaXMgYXR0YWNoZWRcbiAgICAgICAqIEByZXR1cm5zIHtIVE1MTWVkaWFFbGVtZW50fSBtZWRpYUVsZW1lbnRcbiAgICAgICAqIEBleGFtcGxlXG4gICAgICAgKiBjb25zdCB2aWRlb0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXktdmlkZW8tZWxlbWVudCcpO1xuICAgICAgICogdmlkZW9UcmFjay5kZXRhY2godmlkZW9FbGVtZW50KS5yZW1vdmUoKTtcbiAgICAgICAqLyAvKipcbiAgICAgICAgICAqIERldGFjaCB0aGUge0BsaW5rIFZpZGVvVHJhY2t9IGZyb20gYSBwcmV2aW91c2x5IGF0dGFjaGVkIEhUTUxNZWRpYUVsZW1lbnRcbiAgICAgICAgICAqICAgc3BlY2lmaWVkIGJ5IDxjb2RlPmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8L2NvZGU+LlxuICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIC0gVGhlIHF1ZXJ5IHNlbGVjdG9yIG9mIEhUTUxNZWRpYUVsZW1lbnQgdG8gd2hpY2hcbiAgICAgICAgICAqICAgIHRoZSB7QGxpbmsgVmlkZW9UcmFja30gaXMgYXR0YWNoZWRcbiAgICAgICAgICAqIEByZXR1cm5zIHtIVE1MTWVkaWFFbGVtZW50fSBtZWRpYUVsZW1lbnRcbiAgICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAgKiB2aWRlb1RyYWNrLmRldGFjaCgnI215LXZpZGVvLWVsZW1lbnQnKS5yZW1vdmUoKTtcbiAgICAgICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkZXRhY2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2goKSB7XG4gICAgICByZXR1cm4gX2dldChWaWRlb1RyYWNrLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFZpZGVvVHJhY2sucHJvdG90eXBlKSwgJ2RldGFjaCcsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFZpZGVvVHJhY2s7XG59KE1lZGlhVHJhY2spO1xuXG5WaWRlb1RyYWNrLkRJTUVOU0lPTlNfQ0hBTkdFRCA9ICdkaW1lbnNpb25zQ2hhbmdlZCc7XG5cbmZ1bmN0aW9uIGRpbWVuc2lvbnNDaGFuZ2VkKHRyYWNrLCBlbGVtKSB7XG4gIHJldHVybiB0cmFjay5kaW1lbnNpb25zLndpZHRoICE9PSBlbGVtLnZpZGVvV2lkdGggfHwgdHJhY2suZGltZW5zaW9ucy5oZWlnaHQgIT09IGVsZW0udmlkZW9IZWlnaHQ7XG59XG5cbi8qKlxuICogQSB7QGxpbmsgVmlkZW9UcmFja30ncyB3aWR0aCBhbmQgaGVpZ2h0LlxuICogQHR5cGVkZWYge29iamVjdH0gVmlkZW9UcmFjay5EaW1lbnNpb25zXG4gKiBAcHJvcGVydHkgez9udW1iZXJ9IHdpZHRoIC0gVGhlIHtAbGluayBWaWRlb1RyYWNrfSdzIHdpZHRoIG9yIG51bGwgaWYgdGhlXG4gKiAgIHtAbGluayBWaWRlb1RyYWNrfSBoYXMgbm90IHlldCBzdGFydGVkXG4gKiBAcHJvcGVydHkgez9udW1iZXJ9IGhlaWdodCAtIFRoZSB7QGxpbmsgVmlkZW9UcmFja30ncyBoZWlnaHQgb3IgbnVsbCBpZiB0aGVcbiAqICAge0BsaW5rIFZpZGVvVHJhY2t9IGhhcyBub3QgeWV0IHN0YXJ0ZWRcbiAqL1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgVmlkZW9UcmFja30ncyBkaW1lbnNpb25zIGNoYW5nZWQuXG4gKiBAcGFyYW0ge1ZpZGVvVHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBWaWRlb1RyYWNrfSB3aG9zZSBkaW1lbnNpb25zIGNoYW5nZWRcbiAqIEBldmVudCBWaWRlb1RyYWNrI2RpbWVuc2lvbnNDaGFuZ2VkXG4gKi9cblxuLyoqXG4gKiBUaGUge0BsaW5rIFZpZGVvVHJhY2t9IHdhcyBkaXNhYmxlZCwgaS5lLiBcInBhdXNlZFwiLlxuICogQHBhcmFtIHtWaWRlb1RyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgVmlkZW9UcmFja30gdGhhdCB3YXMgZGlzYWJsZWRcbiAqIEBldmVudCBWaWRlb1RyYWNrI2Rpc2FibGVkXG4gKi9cblxuLyoqXG4gKiBUaGUge0BsaW5rIFZpZGVvVHJhY2t9IHdhcyBlbmFibGVkLCBpLmUuIFwidW5wYXVzZWRcIi5cbiAqIEBwYXJhbSB7VmlkZW9UcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIFZpZGVvVHJhY2t9IHRoYXQgd2FzIGVuYWJsZWRcbiAqIEBldmVudCBWaWRlb1RyYWNrI2VuYWJsZWRcbiAqL1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgVmlkZW9UcmFja30gc3RhcnRlZC4gVGhpcyBtZWFucyB0aGVyZSBpcyBlbm91Z2ggdmlkZW8gZGF0YSB0b1xuICogYmVnaW4gcGxheWJhY2suXG4gKiBAcGFyYW0ge1ZpZGVvVHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBWaWRlb1RyYWNrfSB0aGF0IHN0YXJ0ZWRcbiAqIEBldmVudCBWaWRlb1RyYWNrI3N0YXJ0ZWRcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZpZGVvVHJhY2s7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay92aWRlb3RyYWNrLmpzXG4vLyBtb2R1bGUgaWQgPSAyNDFcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///241\n");

/***/ }),
/* 242 */
/*!****************************************************************!*\
  !*** ./node_modules/twilio-video/es5/webaudio/audiocontext.js ***!
  \****************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* globals webkitAudioContext, AudioContext */\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar NativeAudioContext = typeof AudioContext !== 'undefined' ? AudioContext : typeof webkitAudioContext !== 'undefined' ? webkitAudioContext : null;\n\n/**\n * @interface AudioContextFactoryOptions\n * @property {AudioContext} [AudioContext] - The AudioContext constructor\n */\n\n/**\n * {@link AudioContextFactory} ensures we construct at most one AudioContext\n * at a time, and that it is eventually closed when we no longer need it.\n * @property {AudioContextFactory} AudioContextFactory - The\n *   {@link AudioContextFactory} constructor\n */\n\nvar AudioContextFactory = function () {\n  /**\n   * @param {AudioContextFactoryOptions} [options]\n   */\n  function AudioContextFactory(options) {\n    _classCallCheck(this, AudioContextFactory);\n\n    options = Object.assign({\n      AudioContext: NativeAudioContext\n    }, options);\n    Object.defineProperties(this, {\n      _AudioContext: {\n        value: options.AudioContext\n      },\n      _audioContext: {\n        value: null,\n        writable: true\n      },\n      _holders: {\n        value: new Set()\n      },\n      AudioContextFactory: {\n        enumerable: true,\n        value: AudioContextFactory\n      }\n    });\n  }\n\n  /**\n   * Each call to {@link AudioContextFactory#getOrCreate} should be paired with a\n   * call to {@link AudioContextFactory#release}. Calling this increments an\n   * internal reference count.\n   * @param {*} holder - The object to hold a reference to the AudioContext\n   * @returns {?AudioContext}\n   */\n\n\n  _createClass(AudioContextFactory, [{\n    key: 'getOrCreate',\n    value: function getOrCreate(holder) {\n      if (!this._holders.has(holder)) {\n        this._holders.add(holder);\n        if (this._AudioContext && !this._audioContext) {\n          try {\n            this._audioContext = new this._AudioContext();\n          } catch (error) {\n            // Do nothing;\n          }\n        }\n      }\n      return this._audioContext;\n    }\n\n    /**\n     * Decrement the internal reference count. If it reaches zero, close and destroy\n     * the AudioContext.\n     * @param {*} holder - The object that held a reference to the AudioContext\n     * @returns {void}\n     */\n\n  }, {\n    key: 'release',\n    value: function release(holder) {\n      if (this._holders.has(holder)) {\n        this._holders.delete(holder);\n        if (!this._holders.size && this._audioContext) {\n          this._audioContext.close();\n          this._audioContext = null;\n        }\n      }\n    }\n  }]);\n\n  return AudioContextFactory;\n}();\n\nmodule.exports = new AudioContextFactory();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS93ZWJhdWRpby9hdWRpb2NvbnRleHQuanM/YzI4NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2Sjs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxhQUFhO0FBQzNCOztBQUVBO0FBQ0EsSUFBSSwwQkFBMEI7QUFDOUI7QUFDQSxjQUFjLG9CQUFvQjtBQUNsQyxNQUFNLDBCQUEwQjtBQUNoQzs7QUFFQTtBQUNBO0FBQ0EsYUFBYSwyQkFBMkI7QUFDeEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsbUJBQW1CLHNDQUFzQztBQUN6RCxjQUFjLGtDQUFrQztBQUNoRDtBQUNBLGFBQWEsRUFBRTtBQUNmLGVBQWU7QUFDZjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxFQUFFO0FBQ2pCLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIyNDIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWxzIHdlYmtpdEF1ZGlvQ29udGV4dCwgQXVkaW9Db250ZXh0ICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBOYXRpdmVBdWRpb0NvbnRleHQgPSB0eXBlb2YgQXVkaW9Db250ZXh0ICE9PSAndW5kZWZpbmVkJyA/IEF1ZGlvQ29udGV4dCA6IHR5cGVvZiB3ZWJraXRBdWRpb0NvbnRleHQgIT09ICd1bmRlZmluZWQnID8gd2Via2l0QXVkaW9Db250ZXh0IDogbnVsbDtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIEF1ZGlvQ29udGV4dEZhY3RvcnlPcHRpb25zXG4gKiBAcHJvcGVydHkge0F1ZGlvQ29udGV4dH0gW0F1ZGlvQ29udGV4dF0gLSBUaGUgQXVkaW9Db250ZXh0IGNvbnN0cnVjdG9yXG4gKi9cblxuLyoqXG4gKiB7QGxpbmsgQXVkaW9Db250ZXh0RmFjdG9yeX0gZW5zdXJlcyB3ZSBjb25zdHJ1Y3QgYXQgbW9zdCBvbmUgQXVkaW9Db250ZXh0XG4gKiBhdCBhIHRpbWUsIGFuZCB0aGF0IGl0IGlzIGV2ZW50dWFsbHkgY2xvc2VkIHdoZW4gd2Ugbm8gbG9uZ2VyIG5lZWQgaXQuXG4gKiBAcHJvcGVydHkge0F1ZGlvQ29udGV4dEZhY3Rvcnl9IEF1ZGlvQ29udGV4dEZhY3RvcnkgLSBUaGVcbiAqICAge0BsaW5rIEF1ZGlvQ29udGV4dEZhY3Rvcnl9IGNvbnN0cnVjdG9yXG4gKi9cblxudmFyIEF1ZGlvQ29udGV4dEZhY3RvcnkgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0F1ZGlvQ29udGV4dEZhY3RvcnlPcHRpb25zfSBbb3B0aW9uc11cbiAgICovXG4gIGZ1bmN0aW9uIEF1ZGlvQ29udGV4dEZhY3Rvcnkob3B0aW9ucykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdWRpb0NvbnRleHRGYWN0b3J5KTtcblxuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIEF1ZGlvQ29udGV4dDogTmF0aXZlQXVkaW9Db250ZXh0XG4gICAgfSwgb3B0aW9ucyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgX0F1ZGlvQ29udGV4dDoge1xuICAgICAgICB2YWx1ZTogb3B0aW9ucy5BdWRpb0NvbnRleHRcbiAgICAgIH0sXG4gICAgICBfYXVkaW9Db250ZXh0OiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIF9ob2xkZXJzOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgU2V0KClcbiAgICAgIH0sXG4gICAgICBBdWRpb0NvbnRleHRGYWN0b3J5OiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBBdWRpb0NvbnRleHRGYWN0b3J5XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRWFjaCBjYWxsIHRvIHtAbGluayBBdWRpb0NvbnRleHRGYWN0b3J5I2dldE9yQ3JlYXRlfSBzaG91bGQgYmUgcGFpcmVkIHdpdGggYVxuICAgKiBjYWxsIHRvIHtAbGluayBBdWRpb0NvbnRleHRGYWN0b3J5I3JlbGVhc2V9LiBDYWxsaW5nIHRoaXMgaW5jcmVtZW50cyBhblxuICAgKiBpbnRlcm5hbCByZWZlcmVuY2UgY291bnQuXG4gICAqIEBwYXJhbSB7Kn0gaG9sZGVyIC0gVGhlIG9iamVjdCB0byBob2xkIGEgcmVmZXJlbmNlIHRvIHRoZSBBdWRpb0NvbnRleHRcbiAgICogQHJldHVybnMgez9BdWRpb0NvbnRleHR9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKEF1ZGlvQ29udGV4dEZhY3RvcnksIFt7XG4gICAga2V5OiAnZ2V0T3JDcmVhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRPckNyZWF0ZShob2xkZXIpIHtcbiAgICAgIGlmICghdGhpcy5faG9sZGVycy5oYXMoaG9sZGVyKSkge1xuICAgICAgICB0aGlzLl9ob2xkZXJzLmFkZChob2xkZXIpO1xuICAgICAgICBpZiAodGhpcy5fQXVkaW9Db250ZXh0ICYmICF0aGlzLl9hdWRpb0NvbnRleHQpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fYXVkaW9Db250ZXh0ID0gbmV3IHRoaXMuX0F1ZGlvQ29udGV4dCgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX2F1ZGlvQ29udGV4dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWNyZW1lbnQgdGhlIGludGVybmFsIHJlZmVyZW5jZSBjb3VudC4gSWYgaXQgcmVhY2hlcyB6ZXJvLCBjbG9zZSBhbmQgZGVzdHJveVxuICAgICAqIHRoZSBBdWRpb0NvbnRleHQuXG4gICAgICogQHBhcmFtIHsqfSBob2xkZXIgLSBUaGUgb2JqZWN0IHRoYXQgaGVsZCBhIHJlZmVyZW5jZSB0byB0aGUgQXVkaW9Db250ZXh0XG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3JlbGVhc2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWxlYXNlKGhvbGRlcikge1xuICAgICAgaWYgKHRoaXMuX2hvbGRlcnMuaGFzKGhvbGRlcikpIHtcbiAgICAgICAgdGhpcy5faG9sZGVycy5kZWxldGUoaG9sZGVyKTtcbiAgICAgICAgaWYgKCF0aGlzLl9ob2xkZXJzLnNpemUgJiYgdGhpcy5fYXVkaW9Db250ZXh0KSB7XG4gICAgICAgICAgdGhpcy5fYXVkaW9Db250ZXh0LmNsb3NlKCk7XG4gICAgICAgICAgdGhpcy5fYXVkaW9Db250ZXh0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBdWRpb0NvbnRleHRGYWN0b3J5O1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBBdWRpb0NvbnRleHRGYWN0b3J5KCk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS93ZWJhdWRpby9hdWRpb2NvbnRleHQuanNcbi8vIG1vZHVsZSBpZCA9IDI0MlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///242\n");

/***/ }),
/* 243 */
/*!******************************************************!*\
  !*** ./node_modules/twilio-video/es5/participant.js ***!
  \******************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RemoteAudioTrack = __webpack_require__(/*! ./media/track/remoteaudiotrack */ 286);\nvar RemoteAudioTrackPublication = __webpack_require__(/*! ./media/track/remoteaudiotrackpublication */ 287);\nvar RemoteDataTrack = __webpack_require__(/*! ./media/track/remotedatatrack */ 288);\nvar RemoteDataTrackPublication = __webpack_require__(/*! ./media/track/remotedatatrackpublication */ 289);\nvar RemoteVideoTrack = __webpack_require__(/*! ./media/track/remotevideotrack */ 290);\nvar RemoteVideoTrackPublication = __webpack_require__(/*! ./media/track/remotevideotrackpublication */ 291);\nvar EventEmitter = __webpack_require__(/*! events */ 207).EventEmitter;\nvar util = __webpack_require__(/*! ./util */ 206);\n\nvar nInstances = 0;\n\n/**\n * {@link NetworkQualityLevel} is a value from 0–5, inclusive, representing the\n * quality of a network connection.\n * @typedef {number} NetworkQualityLevel\n */\n\n/**\n * @extends EventEmitter\n * @property {Map<Track.ID, AudioTrack>} audioTracks -\n *    The {@link Participant}'s {@link AudioTrack}s\n * @property {Map<Track.SID, AudioTrackPublication>} audioTrackPublications -\n *    The {@link Participant}'s {@link AudioTrackPublication}s\n * @property {Map<Track.ID, DataTrack>} dataTracks -\n *    The {@link Participant}'s {@link DataTrack}s\n * @property {Map<Track.SID, DataTrackPublication>} dataTrackPublications -\n *    The {@link Participant}'s {@link DataTrackPublication}s.\n * @property {Participant.Identity} identity - The identity of the {@link Participant}\n * @property {Participant.SID} sid - The {@link Participant}'s SID\n * @property {string} state - \"connected\", \"disconnected\" or \"failed\"\n * @property {Map<Track.ID, Track>} tracks -\n *    The {@link Participant}'s {@link Track}s\n * @property {Map<Track.SID, TrackPublication>} trackPublications -\n *    The {@link Participant}'s {@link TrackPublication}s\n * @property {Map<Track.ID, VideoTrack>} videoTracks -\n *    The {@link Participant}'s {@link VideoTrack}s\n * @property {Map<Track.SID, VideoTrackPublication>} videoTrackPublications -\n *    The {@link Participant}'s {@link VideoTrackPublication}s\n * @emits Participant#disconnected\n * @emits Particiapnt#networkQualityLevelChanged\n * @emits Participant#trackAdded\n * @emits Participant#trackDimensionsChanged\n * @emits Participant#trackDisabled\n * @emits Participant#trackEnabled\n * @emits Participant#trackRemoved\n * @emits Participant#trackStarted\n */\n\nvar Participant = function (_EventEmitter) {\n  _inherits(Participant, _EventEmitter);\n\n  /**\n   * Construct a {@link Participant}.\n   * @param {ParticipantSignaling} signaling\n   * @param {object} [options]\n   */\n  function Participant(signaling, options) {\n    _classCallCheck(this, Participant);\n\n    var _this = _possibleConstructorReturn(this, (Participant.__proto__ || Object.getPrototypeOf(Participant)).call(this));\n\n    options = Object.assign({\n      RemoteAudioTrack: RemoteAudioTrack,\n      RemoteAudioTrackPublication: RemoteAudioTrackPublication,\n      RemoteDataTrack: RemoteDataTrack,\n      RemoteDataTrackPublication: RemoteDataTrackPublication,\n      RemoteVideoTrack: RemoteVideoTrack,\n      RemoteVideoTrackPublication: RemoteVideoTrackPublication,\n      tracks: []\n    }, options);\n\n    var indexed = indexTracksById(options.tracks);\n    var log = options.log.createLog('default', _this);\n    var audioTracks = new Map(indexed.audioTracks);\n    var dataTracks = new Map(indexed.dataTracks);\n    var tracks = new Map(indexed.tracks);\n    var videoTracks = new Map(indexed.videoTracks);\n\n    Object.defineProperties(_this, {\n      _RemoteAudioTrack: {\n        value: options.RemoteAudioTrack\n      },\n      _RemoteAudioTrackPublication: {\n        value: options.RemoteAudioTrackPublication\n      },\n      _RemoteDataTrack: {\n        value: options.RemoteDataTrack\n      },\n      _RemoteDataTrackPublication: {\n        value: options.RemoteDataTrackPublication\n      },\n      _RemoteVideoTrack: {\n        value: options.RemoteVideoTrack\n      },\n      _RemoteVideoTrackPublication: {\n        value: options.RemoteVideoTrackPublication\n      },\n      _instanceId: {\n        value: ++nInstances\n      },\n      _log: {\n        value: log\n      },\n      _signaling: {\n        value: signaling\n      },\n      _trackEventReemitters: {\n        value: new Map()\n      },\n      _trackPublicationEventReemitters: {\n        value: new Map()\n      },\n      _trackSignalingUpdatedEventCallbacks: {\n        value: new Map()\n      },\n      audioTracks: {\n        enumerable: true,\n        value: audioTracks\n      },\n      audioTrackPublications: {\n        enumerable: true,\n        value: new Map()\n      },\n      dataTracks: {\n        enumerable: true,\n        value: dataTracks\n      },\n      dataTrackPublications: {\n        enumerable: true,\n        value: new Map()\n      },\n      identity: {\n        enumerable: true,\n        get: function get() {\n          return signaling.identity;\n        }\n      },\n      sid: {\n        enumerable: true,\n        get: function get() {\n          return signaling.sid;\n        }\n      },\n      state: {\n        enumerable: true,\n        get: function get() {\n          return signaling.state;\n        }\n      },\n      tracks: {\n        enumerable: true,\n        value: tracks\n      },\n      trackPublications: {\n        enumerable: true,\n        value: new Map()\n      },\n      videoTracks: {\n        enumerable: true,\n        value: videoTracks\n      },\n      videoTrackPublications: {\n        enumerable: true,\n        value: new Map()\n      }\n    });\n\n    _this.tracks.forEach(reemitTrackEvents.bind(null, _this));\n    signaling.on('networkQualityLevelChanged', function () {\n      return _this.emit('networkQualityLevelChanged', _this.networkQualityLevel);\n    });\n    reemitSignalingStateChangedEvents(_this, signaling);\n    log.info('Created a new Participant' + (_this.identity ? ': ' + _this.identity : ''));\n    return _this;\n  }\n\n  /**\n   * Get the {@link RemoteTrack} events to re-emit.\n   * @private\n   * @returns {Array<Array<string>>} events\n   */\n\n\n  _createClass(Participant, [{\n    key: '_getTrackEvents',\n    value: function _getTrackEvents() {\n      return [['dimensionsChanged', 'trackDimensionsChanged'], ['disabled', 'trackDisabled'], ['enabled', 'trackEnabled'], ['message', 'trackMessage'], ['started', 'trackStarted']];\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_getTrackPublicationEvents',\n    value: function _getTrackPublicationEvents() {\n      // NOTE(mmalavalli): 'trackDisabled' and 'trackEnabled' will be\n      // re-emitted from the RemoteTrackPublication instead of RemoteTrack\n      // in twilio-video.js@2.0.0 onwards.\n      return [];\n    }\n\n    /**\n     * Get the current {@link NetworkQualityLevel}, if any.\n     * @returns {?NetworkQualityLevel} networkQualityLevel - initially null\n     */\n\n  }, {\n    key: 'toString',\n    value: function toString() {\n      return '[Participant #' + this._instanceId + ': ' + this.sid + ']';\n    }\n\n    /**\n     * @private\n     * @param {RemoteTrack} track\n     * @returns {?RemoteTrack}\n     */\n\n  }, {\n    key: '_addTrack',\n    value: function _addTrack(track) {\n      var log = this._log;\n      if (this.tracks.has(track._id)) {\n        return null;\n      }\n      this.tracks.set(track._id, track);\n\n      var tracksByKind = {\n        audio: this.audioTracks,\n        video: this.videoTracks,\n        data: this.dataTracks\n      }[track.kind];\n      tracksByKind.set(track._id, track);\n      reemitTrackEvents(this, track);\n\n      log.info('Added a new ' + util.trackClass(track) + ':', track._id);\n      log.debug(util.trackClass(track) + ':', track);\n      this.emit('trackAdded', track);\n\n      return track;\n    }\n\n    /**\n     * @private\n     * @param {RemoteTrackPublication} publication\n     * @returns {?RemoteTrackPublication}\n     */\n\n  }, {\n    key: '_addTrackPublication',\n    value: function _addTrackPublication(publication) {\n      var log = this._log;\n      if (this.trackPublications.has(publication.trackSid)) {\n        return null;\n      }\n      this.trackPublications.set(publication.trackSid, publication);\n\n      var trackPublicationsByKind = {\n        audio: this.audioTrackPublications,\n        data: this.dataTrackPublications,\n        video: this.videoTrackPublications\n      }[publication.kind];\n      trackPublicationsByKind.set(publication.trackSid, publication);\n      reemitTrackPublicationEvents(this, publication);\n\n      log.info('Added a new ' + util.trackPublicationClass(publication) + ':', publication.trackSid);\n      log.debug(util.trackPublicationClass(publication) + ':', publication);\n      return publication;\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_handleTrackSignalingEvents',\n    value: function _handleTrackSignalingEvents() {\n      var log = this._log;\n      var self = this;\n\n      if (this.state === 'disconnected') {\n        return;\n      }\n\n      var RemoteAudioTrack = this._RemoteAudioTrack;\n      var RemoteAudioTrackPublication = this._RemoteAudioTrackPublication;\n      var RemoteVideoTrack = this._RemoteVideoTrack;\n      var RemoteVideoTrackPublication = this._RemoteVideoTrackPublication;\n      var RemoteDataTrack = this._RemoteDataTrack;\n      var RemoteDataTrackPublication = this._RemoteDataTrackPublication;\n      var signaling = this._signaling;\n\n      function trackSignalingAdded(signaling) {\n        var RemoteTrackPublication = {\n          audio: RemoteAudioTrackPublication,\n          data: RemoteDataTrackPublication,\n          video: RemoteVideoTrackPublication\n        }[signaling.kind];\n\n        var publication = new RemoteTrackPublication(signaling, { log: log });\n        self._addTrackPublication(publication);\n\n        var isSubscribed = signaling.isSubscribed;\n        if (isSubscribed) {\n          trackSignalingSubscribed(signaling);\n        }\n\n        self._trackSignalingUpdatedEventCallbacks.set(signaling.sid, function () {\n          if (isSubscribed !== signaling.isSubscribed) {\n            isSubscribed = signaling.isSubscribed;\n            if (isSubscribed) {\n              trackSignalingSubscribed(signaling);\n              return;\n            }\n            trackSignalingUnsubscribed(signaling);\n          }\n        });\n        signaling.on('updated', self._trackSignalingUpdatedEventCallbacks.get(signaling.sid));\n      }\n\n      function trackSignalingRemoved(signaling) {\n        if (signaling.isSubscribed) {\n          signaling.setTrackTransceiver(null);\n        }\n        var updated = self._trackSignalingUpdatedEventCallbacks.get(signaling.sid);\n        if (updated) {\n          signaling.removeListener('updated', updated);\n          self._trackSignalingUpdatedEventCallbacks.delete(signaling.id);\n        }\n        var publication = self.trackPublications.get(signaling.sid);\n        if (publication) {\n          self._removeTrackPublication(publication);\n        }\n      }\n\n      function trackSignalingSubscribed(signaling) {\n        var RemoteTrack = {\n          audio: RemoteAudioTrack,\n          video: RemoteVideoTrack,\n          data: RemoteDataTrack\n        }[signaling.kind];\n\n        var publication = self.trackPublications.get(signaling.sid);\n        var trackReceiver = signaling.trackTransceiver;\n\n        // NOTE(mroberts): It should never be the case that the TrackSignaling and\n        // MediaStreamTrack or DataTrackReceiver kinds disagree; however, just in\n        // case, we handle it here.\n        if (!RemoteTrack || signaling.kind !== trackReceiver.kind) {\n          return;\n        }\n\n        var track = signaling.kind === 'data' ? new RemoteTrack(trackReceiver, { log: log, name: signaling.name }) : new RemoteTrack(trackReceiver, signaling.isEnabled, { log: log, name: signaling.name });\n\n        self._addTrack(track, publication);\n      }\n\n      function trackSignalingUnsubscribed(signaling) {\n        var track = util.flatMap(self.tracks).find(function (track) {\n          return track.sid === signaling.sid;\n        });\n        var publication = self.trackPublications.get(signaling.sid);\n        if (track) {\n          self._removeTrack(track, publication);\n        }\n      }\n\n      signaling.on('trackAdded', trackSignalingAdded);\n      signaling.on('trackRemoved', trackSignalingRemoved);\n\n      signaling.tracks.forEach(trackSignalingAdded);\n\n      signaling.on('stateChanged', function stateChanged(state) {\n        if (state === 'disconnected') {\n          log.debug('Removing event listeners');\n          signaling.removeListener('stateChanged', stateChanged);\n          signaling.removeListener('trackAdded', trackSignalingAdded);\n          signaling.removeListener('trackRemoved', trackSignalingRemoved);\n        }\n      });\n    }\n\n    /**\n     * @private\n     * @param {RemoteTrack} track\n     */\n\n  }, {\n    key: '_deleteTrack',\n    value: function _deleteTrack(track) {\n      this.tracks.delete(track._id);\n\n      var tracksByKind = {\n        audio: this.audioTracks,\n        video: this.videoTracks,\n        data: this.dataTracks\n      }[track.kind];\n      tracksByKind.delete(track._id);\n\n      var reemitters = this._trackEventReemitters.get(track._id) || new Map();\n      reemitters.forEach(function (reemitter, event) {\n        track.removeListener(event, reemitter);\n      });\n\n      var log = this._log;\n      log.info('Removed a ' + util.trackClass(track) + ':', track._id);\n      log.debug(util.trackClass(track) + ':', track);\n    }\n\n    /**\n     * @private\n     * @param {RemoteTrack} track\n     * @returns {?RemoteTrack}\n     */\n\n  }, {\n    key: '_removeTrack',\n    value: function _removeTrack(track) {\n      if (!this.tracks.has(track._id)) {\n        return null;\n      }\n      track = this.tracks.get(track._id);\n      this._deleteTrack(track);\n      this.emit('trackRemoved', track);\n      return track;\n    }\n\n    /**\n     * @private\n     * @param {RemoteTrackPublication} publication\n     * @returns {?RemoteTrackPublication}\n     */\n\n  }, {\n    key: '_removeTrackPublication',\n    value: function _removeTrackPublication(publication) {\n      publication = this.trackPublications.get(publication.trackSid);\n      if (!publication) {\n        return null;\n      }\n      this.trackPublications.delete(publication.trackSid);\n\n      var trackPublicationsByKind = {\n        audio: this.audioTrackPublications,\n        data: this.dataTrackPublications,\n        video: this.videoTrackPublications\n      }[publication.kind];\n      trackPublicationsByKind.delete(publication.trackSid);\n\n      var reemitters = this._trackPublicationEventReemitters.get(publication.trackSid) || new Map();\n      reemitters.forEach(function (reemitter, event) {\n        publication.removeListener(event, reemitter);\n      });\n\n      var log = this._log;\n      log.info('Removed a ' + util.trackPublicationClass(publication) + ':', publication.trackSid);\n      log.debug(util.trackPublicationClass(publication) + ':', publication);\n      return publication;\n    }\n  }, {\n    key: 'networkQualityLevel',\n    get: function get() {\n      return this._signaling.networkQualityLevel;\n    }\n\n    /**\n     * Get the current {@link NetworkQualityLevels}, if any.\n     * @private\n     * @deprecated - the decomposed levels are only used for debugging and will be\n     *   removed as soon as we are confident in our implementation\n     * @returns {?NetworkQualityLevels} networkQualityLevels - initially null\n     */\n\n  }, {\n    key: '_networkQualityLevels',\n    get: function get() {\n      return this._signaling.networkQualityLevels;\n    }\n  }]);\n\n  return Participant;\n}(EventEmitter);\n\n/**\n * A {@link Participant.SID} is a 34-character string starting with \"PA\"\n * that uniquely identifies a {@link Participant}.\n * @type string\n * @typedef Participant.SID\n */\n\n/**\n * A {@link Participant.Identity} is a string that identifies a\n * {@link Participant}. You can think of it like a name.\n * @typedef {string} Participant.Identity\n */\n\n/**\n * The {@link Participant} has disconnected.\n * @param {Participant} participant - The {@link Participant} that disconnected.\n * @event Participant#disconnected\n */\n\n/**\n * The {@link Participant}'s {@link NetworkQualityLevel} changed.\n * @param {NetworkQualityLevel} networkQualityLevel - The new\n *   {@link NetworkQualityLevel}\n * @event Participant#networkQualityLevelChanged\n */\n\n/**\n * A {@link Track} was added by the {@link Participant}.\n * @param {Track} track - The {@link Track} that was added\n * @event Participant#trackAdded\n * @deprecated\n */\n\n/**\n * One of the {@link Participant}'s {@link VideoTrack}'s dimensions changed.\n * @param {VideoTrack} track - The {@link VideoTrack} whose dimensions changed\n * @event Participant#trackDimensionsChanged\n */\n\n/**\n * A {@link Track} was disabled by the {@link Participant}.\n * @param {Track} track - The {@link Track} that was disabled.\n * @event Participant#trackDisabled\n */\n\n/**\n * A {@link Track} was enabled by the {@link Participant}.\n * @param {Track} track - The {@link Track} that was enabled\n * @event Participant#trackEnabled\n */\n\n/**\n * A {@link Track} was removed by the {@link Participant}.\n * @param {Track} track - The {@link Track} that was removed\n * @event Participant#trackRemoved\n * @deprecated\n */\n\n/**\n * One of the {@link Participant}'s {@link Track}s started.\n * @param {Track} track - The {@link Track} that started\n * @event Participant#trackStarted\n */\n\n/**\n * Indexed {@link Track}s by {@link Track.ID}.\n * @typedef {object} IndexedTracks\n * @property {Array<{0: Track.ID, 1: AudioTrack}>} audioTracks - Indexed\n *   {@link AudioTrack}s\n * @property {Array<{0: Track.ID, 1: DataTrack}>} dataTracks - Indexed\n *   {@link DataTrack}s\n * @property {Array<{0: Track.ID, 1: Track}>} tracks - Indexed {@link Track}s\n * @property {Array<{0: Track.ID, 1: VideoTrack}>} videoTracks - Indexed\n *   {@link VideoTrack}s\n * @private\n */\n\n/**\n * Index tracks by {@link Track.ID}.\n * @param {Array<Track>} tracks\n * @returns {IndexedTracks}\n * @private\n */\n\n\nfunction indexTracksById(tracks) {\n  var indexedTracks = tracks.map(function (track) {\n    return [track._id, track];\n  });\n  var indexedAudioTracks = indexedTracks.filter(function (keyValue) {\n    return keyValue[1].kind === 'audio';\n  });\n  var indexedVideoTracks = indexedTracks.filter(function (keyValue) {\n    return keyValue[1].kind === 'video';\n  });\n  var indexedDataTracks = indexedTracks.filter(function (keyValue) {\n    return keyValue[1].kind === 'data';\n  });\n\n  return {\n    audioTracks: indexedAudioTracks,\n    dataTracks: indexedDataTracks,\n    tracks: indexedTracks,\n    videoTracks: indexedVideoTracks\n  };\n}\n\n/**\n * Re-emit {@link ParticipantSignaling} 'stateChanged' events.\n * @param {Participant} participant\n * @param {ParticipantSignaling} signaling\n * @private\n */\nfunction reemitSignalingStateChangedEvents(participant, signaling) {\n  var log = participant._log;\n\n  if (participant.state === 'disconnected') {\n    return;\n  }\n\n  // Reemit state transition events from the ParticipantSignaling.\n  signaling.on('stateChanged', function stateChanged(state) {\n    log.debug('Transitioned to state:', state);\n    participant.emit(state, participant);\n    if (state === 'disconnected') {\n      log.debug('Removing Track event reemitters');\n      signaling.removeListener('stateChanged', stateChanged);\n\n      participant.tracks.forEach(function (track) {\n        participant._trackEventReemitters.get(track._id).forEach(function (reemitter, event) {\n          track.removeListener(event, reemitter);\n        });\n      });\n      participant._trackEventReemitters.clear();\n\n      participant.trackPublications.forEach(function (publication) {\n        participant._trackPublicationEventReemitters.get(publication.trackSid).forEach(function (reemitter, event) {\n          publication.removeListener(event, reemitter);\n        });\n      });\n      participant._trackPublicationEventReemitters.clear();\n    }\n  });\n}\n\n/**\n * Re-emit {@link Track} events.\n * @param {Participant} participant\n * @param {Track} track\n * @private\n */\nfunction reemitTrackEvents(participant, track) {\n  var trackEventReemitters = new Map();\n\n  if (participant.state === 'disconnected') {\n    return;\n  }\n\n  participant._getTrackEvents().forEach(function (eventPair) {\n    var trackEvent = eventPair[0];\n    var participantEvent = eventPair[1];\n\n    trackEventReemitters.set(trackEvent, function () {\n      var args = [participantEvent].concat([].slice.call(arguments));\n      return participant.emit.apply(participant, _toConsumableArray(args));\n    });\n\n    track.on(trackEvent, trackEventReemitters.get(trackEvent));\n  });\n\n  participant._trackEventReemitters.set(track._id, trackEventReemitters);\n}\n\n/**\n * Re-emit {@link TrackPublication} events.\n * @private\n * @param {Participant} participant\n * @param {TrackPublication} publication\n */\nfunction reemitTrackPublicationEvents(participant, publication) {\n  var publicationEventReemitters = new Map();\n\n  if (participant.state === 'disconnected') {\n    return;\n  }\n\n  participant._getTrackPublicationEvents().forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        publicationEvent = _ref2[0],\n        participantEvent = _ref2[1];\n\n    publicationEventReemitters.set(publicationEvent, function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      participant.emit.apply(participant, [participantEvent].concat(args, [publication]));\n    });\n    publication.on(publicationEvent, publicationEventReemitters.get(publicationEvent));\n  });\n\n  participant._trackPublicationEventReemitters.set(publication.trackSid, publicationEventReemitters);\n}\n\nmodule.exports = Participant;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9wYXJ0aWNpcGFudC5qcz81YjY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGtDQUFrQyxpQ0FBaUMsZUFBZSxlQUFlLGdCQUFnQixvQkFBb0IsTUFBTSwwQ0FBMEMsK0JBQStCLGFBQWEscUJBQXFCLG1DQUFtQyxFQUFFLEVBQUUsY0FBYyxXQUFXLFVBQVUsRUFBRSxVQUFVLE1BQU0seUNBQXlDLEVBQUUsVUFBVSxrQkFBa0IsRUFBRSxFQUFFLGFBQWEsRUFBRSwyQkFBMkIsMEJBQTBCLFlBQVksRUFBRSwyQ0FBMkMsOEJBQThCLEVBQUUsT0FBTyw2RUFBNkUsRUFBRSxHQUFHLEVBQUU7O0FBRXJwQixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsa0NBQWtDLDBCQUEwQiwwQ0FBMEMsZ0JBQWdCLE9BQU8sa0JBQWtCLEVBQUUsYUFBYSxFQUFFLE9BQU8sd0JBQXdCLEVBQUU7O0FBRWpNLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsdUJBQXVCLG1CQUFPLENBQUMseUNBQWdDO0FBQy9ELGtDQUFrQyxtQkFBTyxDQUFDLG9EQUEyQztBQUNyRixzQkFBc0IsbUJBQU8sQ0FBQyx3Q0FBK0I7QUFDN0QsaUNBQWlDLG1CQUFPLENBQUMsbURBQTBDO0FBQ25GLHVCQUF1QixtQkFBTyxDQUFDLHlDQUFnQztBQUMvRCxrQ0FBa0MsbUJBQU8sQ0FBQyxvREFBMkM7QUFDckYsbUJBQW1CLG1CQUFPLENBQUMsaUJBQVE7QUFDbkMsV0FBVyxtQkFBTyxDQUFDLGlCQUFROztBQUUzQjs7QUFFQTtBQUNBLElBQUksMEJBQTBCO0FBQzlCO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQSxjQUFjLDBCQUEwQjtBQUN4QyxXQUFXLGtCQUFrQixJQUFJLGlCQUFpQjtBQUNsRCxjQUFjLHNDQUFzQztBQUNwRCxXQUFXLGtCQUFrQixJQUFJLDRCQUE0QjtBQUM3RCxjQUFjLHlCQUF5QjtBQUN2QyxXQUFXLGtCQUFrQixJQUFJLGdCQUFnQjtBQUNqRCxjQUFjLHFDQUFxQztBQUNuRCxXQUFXLGtCQUFrQixJQUFJLDJCQUEyQjtBQUM1RCxjQUFjLHFCQUFxQixpQ0FBaUM7QUFDcEUsY0FBYyxnQkFBZ0IsWUFBWSxrQkFBa0I7QUFDNUQsY0FBYyxPQUFPO0FBQ3JCLGNBQWMscUJBQXFCO0FBQ25DLFdBQVcsa0JBQWtCLElBQUksWUFBWTtBQUM3QyxjQUFjLGlDQUFpQztBQUMvQyxXQUFXLGtCQUFrQixJQUFJLHVCQUF1QjtBQUN4RCxjQUFjLDBCQUEwQjtBQUN4QyxXQUFXLGtCQUFrQixJQUFJLGlCQUFpQjtBQUNsRCxjQUFjLHNDQUFzQztBQUNwRCxXQUFXLGtCQUFrQixJQUFJLDRCQUE0QjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixrQkFBa0I7QUFDcEMsYUFBYSxxQkFBcUI7QUFDbEMsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWMsa0JBQWtCO0FBQ2hDO0FBQ0EsZUFBZSxxQkFBcUI7QUFDcEM7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QiwwQkFBMEI7QUFDbEQsaUJBQWlCLHFCQUFxQjtBQUN0Qzs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsWUFBWTtBQUMzQixpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsdUJBQXVCO0FBQ3RDLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVCxpRUFBaUUsV0FBVztBQUM1RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7QUFDQSxnRUFBZ0U7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0ZBQWdGLGlDQUFpQyx5REFBeUQsaUNBQWlDOztBQUUzTTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBLGVBQWUsWUFBWTtBQUMzQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsWUFBWTtBQUMzQixpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLHVCQUF1QjtBQUN0QyxpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QiwyQkFBMkI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHNCQUFzQjtBQUN2Qzs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLE1BQU0sc0JBQXNCO0FBQzVCLCtCQUErQixrQkFBa0I7QUFDakQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSwyQkFBMkI7QUFDakMsSUFBSSxrQkFBa0I7QUFDdEIsYUFBYSxPQUFPO0FBQ3BCOztBQUVBO0FBQ0EsUUFBUSxrQkFBa0I7QUFDMUIsV0FBVyxZQUFZLG9CQUFvQixrQkFBa0I7QUFDN0Q7QUFDQTs7QUFFQTtBQUNBLFFBQVEsa0JBQWtCLElBQUksMEJBQTBCO0FBQ3hELFdBQVcsb0JBQW9CO0FBQy9CLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0EsTUFBTSxZQUFZLG1CQUFtQixrQkFBa0I7QUFDdkQsV0FBVyxNQUFNLGNBQWMsWUFBWTtBQUMzQztBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLGtCQUFrQixJQUFJLGlCQUFpQjtBQUN0RCxXQUFXLFdBQVcsY0FBYyxpQkFBaUI7QUFDckQ7QUFDQTs7QUFFQTtBQUNBLE1BQU0sWUFBWSxzQkFBc0Isa0JBQWtCO0FBQzFELFdBQVcsTUFBTSxjQUFjLFlBQVk7QUFDM0M7QUFDQTs7QUFFQTtBQUNBLE1BQU0sWUFBWSxxQkFBcUIsa0JBQWtCO0FBQ3pELFdBQVcsTUFBTSxjQUFjLFlBQVk7QUFDM0M7QUFDQTs7QUFFQTtBQUNBLE1BQU0sWUFBWSxxQkFBcUIsa0JBQWtCO0FBQ3pELFdBQVcsTUFBTSxjQUFjLFlBQVk7QUFDM0M7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxrQkFBa0IsSUFBSSxZQUFZO0FBQ2pELFdBQVcsTUFBTSxjQUFjLFlBQVk7QUFDM0M7QUFDQTs7QUFFQTtBQUNBLFlBQVksWUFBWSxNQUFNLGVBQWU7QUFDN0MsYUFBYSxPQUFPO0FBQ3BCLGNBQWMsT0FBTywyQkFBMkIsRUFBRTtBQUNsRCxNQUFNLGlCQUFpQjtBQUN2QixjQUFjLE9BQU8sMEJBQTBCLEVBQUU7QUFDakQsTUFBTSxnQkFBZ0I7QUFDdEIsY0FBYyxPQUFPLHNCQUFzQixFQUFFLG1CQUFtQixZQUFZO0FBQzVFLGNBQWMsT0FBTywyQkFBMkIsRUFBRTtBQUNsRCxNQUFNLGlCQUFpQjtBQUN2QjtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLGVBQWU7QUFDbkMsV0FBVyxhQUFhO0FBQ3hCLGFBQWE7QUFDYjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWSwyQkFBMkI7QUFDdkMsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcscUJBQXFCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLFlBQVksWUFBWTtBQUN4QixXQUFXLFlBQVk7QUFDdkIsV0FBVyxNQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBLFlBQVksdUJBQXVCO0FBQ25DO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsaUJBQWlCO0FBQzVCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxRUFBcUUsYUFBYTtBQUNsRjtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBIiwiZmlsZSI6IjI0My5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmVtb3RlQXVkaW9UcmFjayA9IHJlcXVpcmUoJy4vbWVkaWEvdHJhY2svcmVtb3RlYXVkaW90cmFjaycpO1xudmFyIFJlbW90ZUF1ZGlvVHJhY2tQdWJsaWNhdGlvbiA9IHJlcXVpcmUoJy4vbWVkaWEvdHJhY2svcmVtb3RlYXVkaW90cmFja3B1YmxpY2F0aW9uJyk7XG52YXIgUmVtb3RlRGF0YVRyYWNrID0gcmVxdWlyZSgnLi9tZWRpYS90cmFjay9yZW1vdGVkYXRhdHJhY2snKTtcbnZhciBSZW1vdGVEYXRhVHJhY2tQdWJsaWNhdGlvbiA9IHJlcXVpcmUoJy4vbWVkaWEvdHJhY2svcmVtb3RlZGF0YXRyYWNrcHVibGljYXRpb24nKTtcbnZhciBSZW1vdGVWaWRlb1RyYWNrID0gcmVxdWlyZSgnLi9tZWRpYS90cmFjay9yZW1vdGV2aWRlb3RyYWNrJyk7XG52YXIgUmVtb3RlVmlkZW9UcmFja1B1YmxpY2F0aW9uID0gcmVxdWlyZSgnLi9tZWRpYS90cmFjay9yZW1vdGV2aWRlb3RyYWNrcHVibGljYXRpb24nKTtcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG52YXIgbkluc3RhbmNlcyA9IDA7XG5cbi8qKlxuICoge0BsaW5rIE5ldHdvcmtRdWFsaXR5TGV2ZWx9IGlzIGEgdmFsdWUgZnJvbSAw4oCTNSwgaW5jbHVzaXZlLCByZXByZXNlbnRpbmcgdGhlXG4gKiBxdWFsaXR5IG9mIGEgbmV0d29yayBjb25uZWN0aW9uLlxuICogQHR5cGVkZWYge251bWJlcn0gTmV0d29ya1F1YWxpdHlMZXZlbFxuICovXG5cbi8qKlxuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKiBAcHJvcGVydHkge01hcDxUcmFjay5JRCwgQXVkaW9UcmFjaz59IGF1ZGlvVHJhY2tzIC1cbiAqICAgIFRoZSB7QGxpbmsgUGFydGljaXBhbnR9J3Mge0BsaW5rIEF1ZGlvVHJhY2t9c1xuICogQHByb3BlcnR5IHtNYXA8VHJhY2suU0lELCBBdWRpb1RyYWNrUHVibGljYXRpb24+fSBhdWRpb1RyYWNrUHVibGljYXRpb25zIC1cbiAqICAgIFRoZSB7QGxpbmsgUGFydGljaXBhbnR9J3Mge0BsaW5rIEF1ZGlvVHJhY2tQdWJsaWNhdGlvbn1zXG4gKiBAcHJvcGVydHkge01hcDxUcmFjay5JRCwgRGF0YVRyYWNrPn0gZGF0YVRyYWNrcyAtXG4gKiAgICBUaGUge0BsaW5rIFBhcnRpY2lwYW50fSdzIHtAbGluayBEYXRhVHJhY2t9c1xuICogQHByb3BlcnR5IHtNYXA8VHJhY2suU0lELCBEYXRhVHJhY2tQdWJsaWNhdGlvbj59IGRhdGFUcmFja1B1YmxpY2F0aW9ucyAtXG4gKiAgICBUaGUge0BsaW5rIFBhcnRpY2lwYW50fSdzIHtAbGluayBEYXRhVHJhY2tQdWJsaWNhdGlvbn1zLlxuICogQHByb3BlcnR5IHtQYXJ0aWNpcGFudC5JZGVudGl0eX0gaWRlbnRpdHkgLSBUaGUgaWRlbnRpdHkgb2YgdGhlIHtAbGluayBQYXJ0aWNpcGFudH1cbiAqIEBwcm9wZXJ0eSB7UGFydGljaXBhbnQuU0lEfSBzaWQgLSBUaGUge0BsaW5rIFBhcnRpY2lwYW50fSdzIFNJRFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHN0YXRlIC0gXCJjb25uZWN0ZWRcIiwgXCJkaXNjb25uZWN0ZWRcIiBvciBcImZhaWxlZFwiXG4gKiBAcHJvcGVydHkge01hcDxUcmFjay5JRCwgVHJhY2s+fSB0cmFja3MgLVxuICogICAgVGhlIHtAbGluayBQYXJ0aWNpcGFudH0ncyB7QGxpbmsgVHJhY2t9c1xuICogQHByb3BlcnR5IHtNYXA8VHJhY2suU0lELCBUcmFja1B1YmxpY2F0aW9uPn0gdHJhY2tQdWJsaWNhdGlvbnMgLVxuICogICAgVGhlIHtAbGluayBQYXJ0aWNpcGFudH0ncyB7QGxpbmsgVHJhY2tQdWJsaWNhdGlvbn1zXG4gKiBAcHJvcGVydHkge01hcDxUcmFjay5JRCwgVmlkZW9UcmFjaz59IHZpZGVvVHJhY2tzIC1cbiAqICAgIFRoZSB7QGxpbmsgUGFydGljaXBhbnR9J3Mge0BsaW5rIFZpZGVvVHJhY2t9c1xuICogQHByb3BlcnR5IHtNYXA8VHJhY2suU0lELCBWaWRlb1RyYWNrUHVibGljYXRpb24+fSB2aWRlb1RyYWNrUHVibGljYXRpb25zIC1cbiAqICAgIFRoZSB7QGxpbmsgUGFydGljaXBhbnR9J3Mge0BsaW5rIFZpZGVvVHJhY2tQdWJsaWNhdGlvbn1zXG4gKiBAZW1pdHMgUGFydGljaXBhbnQjZGlzY29ubmVjdGVkXG4gKiBAZW1pdHMgUGFydGljaWFwbnQjbmV0d29ya1F1YWxpdHlMZXZlbENoYW5nZWRcbiAqIEBlbWl0cyBQYXJ0aWNpcGFudCN0cmFja0FkZGVkXG4gKiBAZW1pdHMgUGFydGljaXBhbnQjdHJhY2tEaW1lbnNpb25zQ2hhbmdlZFxuICogQGVtaXRzIFBhcnRpY2lwYW50I3RyYWNrRGlzYWJsZWRcbiAqIEBlbWl0cyBQYXJ0aWNpcGFudCN0cmFja0VuYWJsZWRcbiAqIEBlbWl0cyBQYXJ0aWNpcGFudCN0cmFja1JlbW92ZWRcbiAqIEBlbWl0cyBQYXJ0aWNpcGFudCN0cmFja1N0YXJ0ZWRcbiAqL1xuXG52YXIgUGFydGljaXBhbnQgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICBfaW5oZXJpdHMoUGFydGljaXBhbnQsIF9FdmVudEVtaXR0ZXIpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgUGFydGljaXBhbnR9LlxuICAgKiBAcGFyYW0ge1BhcnRpY2lwYW50U2lnbmFsaW5nfSBzaWduYWxpbmdcbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgKi9cbiAgZnVuY3Rpb24gUGFydGljaXBhbnQoc2lnbmFsaW5nLCBvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBhcnRpY2lwYW50KTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQYXJ0aWNpcGFudC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBhcnRpY2lwYW50KSkuY2FsbCh0aGlzKSk7XG5cbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBSZW1vdGVBdWRpb1RyYWNrOiBSZW1vdGVBdWRpb1RyYWNrLFxuICAgICAgUmVtb3RlQXVkaW9UcmFja1B1YmxpY2F0aW9uOiBSZW1vdGVBdWRpb1RyYWNrUHVibGljYXRpb24sXG4gICAgICBSZW1vdGVEYXRhVHJhY2s6IFJlbW90ZURhdGFUcmFjayxcbiAgICAgIFJlbW90ZURhdGFUcmFja1B1YmxpY2F0aW9uOiBSZW1vdGVEYXRhVHJhY2tQdWJsaWNhdGlvbixcbiAgICAgIFJlbW90ZVZpZGVvVHJhY2s6IFJlbW90ZVZpZGVvVHJhY2ssXG4gICAgICBSZW1vdGVWaWRlb1RyYWNrUHVibGljYXRpb246IFJlbW90ZVZpZGVvVHJhY2tQdWJsaWNhdGlvbixcbiAgICAgIHRyYWNrczogW11cbiAgICB9LCBvcHRpb25zKTtcblxuICAgIHZhciBpbmRleGVkID0gaW5kZXhUcmFja3NCeUlkKG9wdGlvbnMudHJhY2tzKTtcbiAgICB2YXIgbG9nID0gb3B0aW9ucy5sb2cuY3JlYXRlTG9nKCdkZWZhdWx0JywgX3RoaXMpO1xuICAgIHZhciBhdWRpb1RyYWNrcyA9IG5ldyBNYXAoaW5kZXhlZC5hdWRpb1RyYWNrcyk7XG4gICAgdmFyIGRhdGFUcmFja3MgPSBuZXcgTWFwKGluZGV4ZWQuZGF0YVRyYWNrcyk7XG4gICAgdmFyIHRyYWNrcyA9IG5ldyBNYXAoaW5kZXhlZC50cmFja3MpO1xuICAgIHZhciB2aWRlb1RyYWNrcyA9IG5ldyBNYXAoaW5kZXhlZC52aWRlb1RyYWNrcyk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgX1JlbW90ZUF1ZGlvVHJhY2s6IHtcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMuUmVtb3RlQXVkaW9UcmFja1xuICAgICAgfSxcbiAgICAgIF9SZW1vdGVBdWRpb1RyYWNrUHVibGljYXRpb246IHtcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMuUmVtb3RlQXVkaW9UcmFja1B1YmxpY2F0aW9uXG4gICAgICB9LFxuICAgICAgX1JlbW90ZURhdGFUcmFjazoge1xuICAgICAgICB2YWx1ZTogb3B0aW9ucy5SZW1vdGVEYXRhVHJhY2tcbiAgICAgIH0sXG4gICAgICBfUmVtb3RlRGF0YVRyYWNrUHVibGljYXRpb246IHtcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMuUmVtb3RlRGF0YVRyYWNrUHVibGljYXRpb25cbiAgICAgIH0sXG4gICAgICBfUmVtb3RlVmlkZW9UcmFjazoge1xuICAgICAgICB2YWx1ZTogb3B0aW9ucy5SZW1vdGVWaWRlb1RyYWNrXG4gICAgICB9LFxuICAgICAgX1JlbW90ZVZpZGVvVHJhY2tQdWJsaWNhdGlvbjoge1xuICAgICAgICB2YWx1ZTogb3B0aW9ucy5SZW1vdGVWaWRlb1RyYWNrUHVibGljYXRpb25cbiAgICAgIH0sXG4gICAgICBfaW5zdGFuY2VJZDoge1xuICAgICAgICB2YWx1ZTogKytuSW5zdGFuY2VzXG4gICAgICB9LFxuICAgICAgX2xvZzoge1xuICAgICAgICB2YWx1ZTogbG9nXG4gICAgICB9LFxuICAgICAgX3NpZ25hbGluZzoge1xuICAgICAgICB2YWx1ZTogc2lnbmFsaW5nXG4gICAgICB9LFxuICAgICAgX3RyYWNrRXZlbnRSZWVtaXR0ZXJzOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgTWFwKClcbiAgICAgIH0sXG4gICAgICBfdHJhY2tQdWJsaWNhdGlvbkV2ZW50UmVlbWl0dGVyczoge1xuICAgICAgICB2YWx1ZTogbmV3IE1hcCgpXG4gICAgICB9LFxuICAgICAgX3RyYWNrU2lnbmFsaW5nVXBkYXRlZEV2ZW50Q2FsbGJhY2tzOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgTWFwKClcbiAgICAgIH0sXG4gICAgICBhdWRpb1RyYWNrczoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogYXVkaW9UcmFja3NcbiAgICAgIH0sXG4gICAgICBhdWRpb1RyYWNrUHVibGljYXRpb25zOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBuZXcgTWFwKClcbiAgICAgIH0sXG4gICAgICBkYXRhVHJhY2tzOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBkYXRhVHJhY2tzXG4gICAgICB9LFxuICAgICAgZGF0YVRyYWNrUHVibGljYXRpb25zOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBuZXcgTWFwKClcbiAgICAgIH0sXG4gICAgICBpZGVudGl0eToge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gc2lnbmFsaW5nLmlkZW50aXR5O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc2lkOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBzaWduYWxpbmcuc2lkO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3RhdGU6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHNpZ25hbGluZy5zdGF0ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHRyYWNrczoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdHJhY2tzXG4gICAgICB9LFxuICAgICAgdHJhY2tQdWJsaWNhdGlvbnM6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG5ldyBNYXAoKVxuICAgICAgfSxcbiAgICAgIHZpZGVvVHJhY2tzOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2aWRlb1RyYWNrc1xuICAgICAgfSxcbiAgICAgIHZpZGVvVHJhY2tQdWJsaWNhdGlvbnM6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG5ldyBNYXAoKVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX3RoaXMudHJhY2tzLmZvckVhY2gocmVlbWl0VHJhY2tFdmVudHMuYmluZChudWxsLCBfdGhpcykpO1xuICAgIHNpZ25hbGluZy5vbignbmV0d29ya1F1YWxpdHlMZXZlbENoYW5nZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RoaXMuZW1pdCgnbmV0d29ya1F1YWxpdHlMZXZlbENoYW5nZWQnLCBfdGhpcy5uZXR3b3JrUXVhbGl0eUxldmVsKTtcbiAgICB9KTtcbiAgICByZWVtaXRTaWduYWxpbmdTdGF0ZUNoYW5nZWRFdmVudHMoX3RoaXMsIHNpZ25hbGluZyk7XG4gICAgbG9nLmluZm8oJ0NyZWF0ZWQgYSBuZXcgUGFydGljaXBhbnQnICsgKF90aGlzLmlkZW50aXR5ID8gJzogJyArIF90aGlzLmlkZW50aXR5IDogJycpKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB7QGxpbmsgUmVtb3RlVHJhY2t9IGV2ZW50cyB0byByZS1lbWl0LlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJucyB7QXJyYXk8QXJyYXk8c3RyaW5nPj59IGV2ZW50c1xuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhQYXJ0aWNpcGFudCwgW3tcbiAgICBrZXk6ICdfZ2V0VHJhY2tFdmVudHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0VHJhY2tFdmVudHMoKSB7XG4gICAgICByZXR1cm4gW1snZGltZW5zaW9uc0NoYW5nZWQnLCAndHJhY2tEaW1lbnNpb25zQ2hhbmdlZCddLCBbJ2Rpc2FibGVkJywgJ3RyYWNrRGlzYWJsZWQnXSwgWydlbmFibGVkJywgJ3RyYWNrRW5hYmxlZCddLCBbJ21lc3NhZ2UnLCAndHJhY2tNZXNzYWdlJ10sIFsnc3RhcnRlZCcsICd0cmFja1N0YXJ0ZWQnXV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2dldFRyYWNrUHVibGljYXRpb25FdmVudHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0VHJhY2tQdWJsaWNhdGlvbkV2ZW50cygpIHtcbiAgICAgIC8vIE5PVEUobW1hbGF2YWxsaSk6ICd0cmFja0Rpc2FibGVkJyBhbmQgJ3RyYWNrRW5hYmxlZCcgd2lsbCBiZVxuICAgICAgLy8gcmUtZW1pdHRlZCBmcm9tIHRoZSBSZW1vdGVUcmFja1B1YmxpY2F0aW9uIGluc3RlYWQgb2YgUmVtb3RlVHJhY2tcbiAgICAgIC8vIGluIHR3aWxpby12aWRlby5qc0AyLjAuMCBvbndhcmRzLlxuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCB7QGxpbmsgTmV0d29ya1F1YWxpdHlMZXZlbH0sIGlmIGFueS5cbiAgICAgKiBAcmV0dXJucyB7P05ldHdvcmtRdWFsaXR5TGV2ZWx9IG5ldHdvcmtRdWFsaXR5TGV2ZWwgLSBpbml0aWFsbHkgbnVsbFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd0b1N0cmluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuICdbUGFydGljaXBhbnQgIycgKyB0aGlzLl9pbnN0YW5jZUlkICsgJzogJyArIHRoaXMuc2lkICsgJ10nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZW1vdGVUcmFja30gdHJhY2tcbiAgICAgKiBAcmV0dXJucyB7P1JlbW90ZVRyYWNrfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfYWRkVHJhY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkVHJhY2sodHJhY2spIHtcbiAgICAgIHZhciBsb2cgPSB0aGlzLl9sb2c7XG4gICAgICBpZiAodGhpcy50cmFja3MuaGFzKHRyYWNrLl9pZCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLnRyYWNrcy5zZXQodHJhY2suX2lkLCB0cmFjayk7XG5cbiAgICAgIHZhciB0cmFja3NCeUtpbmQgPSB7XG4gICAgICAgIGF1ZGlvOiB0aGlzLmF1ZGlvVHJhY2tzLFxuICAgICAgICB2aWRlbzogdGhpcy52aWRlb1RyYWNrcyxcbiAgICAgICAgZGF0YTogdGhpcy5kYXRhVHJhY2tzXG4gICAgICB9W3RyYWNrLmtpbmRdO1xuICAgICAgdHJhY2tzQnlLaW5kLnNldCh0cmFjay5faWQsIHRyYWNrKTtcbiAgICAgIHJlZW1pdFRyYWNrRXZlbnRzKHRoaXMsIHRyYWNrKTtcblxuICAgICAgbG9nLmluZm8oJ0FkZGVkIGEgbmV3ICcgKyB1dGlsLnRyYWNrQ2xhc3ModHJhY2spICsgJzonLCB0cmFjay5faWQpO1xuICAgICAgbG9nLmRlYnVnKHV0aWwudHJhY2tDbGFzcyh0cmFjaykgKyAnOicsIHRyYWNrKTtcbiAgICAgIHRoaXMuZW1pdCgndHJhY2tBZGRlZCcsIHRyYWNrKTtcblxuICAgICAgcmV0dXJuIHRyYWNrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZW1vdGVUcmFja1B1YmxpY2F0aW9ufSBwdWJsaWNhdGlvblxuICAgICAqIEByZXR1cm5zIHs/UmVtb3RlVHJhY2tQdWJsaWNhdGlvbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2FkZFRyYWNrUHVibGljYXRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkVHJhY2tQdWJsaWNhdGlvbihwdWJsaWNhdGlvbikge1xuICAgICAgdmFyIGxvZyA9IHRoaXMuX2xvZztcbiAgICAgIGlmICh0aGlzLnRyYWNrUHVibGljYXRpb25zLmhhcyhwdWJsaWNhdGlvbi50cmFja1NpZCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLnRyYWNrUHVibGljYXRpb25zLnNldChwdWJsaWNhdGlvbi50cmFja1NpZCwgcHVibGljYXRpb24pO1xuXG4gICAgICB2YXIgdHJhY2tQdWJsaWNhdGlvbnNCeUtpbmQgPSB7XG4gICAgICAgIGF1ZGlvOiB0aGlzLmF1ZGlvVHJhY2tQdWJsaWNhdGlvbnMsXG4gICAgICAgIGRhdGE6IHRoaXMuZGF0YVRyYWNrUHVibGljYXRpb25zLFxuICAgICAgICB2aWRlbzogdGhpcy52aWRlb1RyYWNrUHVibGljYXRpb25zXG4gICAgICB9W3B1YmxpY2F0aW9uLmtpbmRdO1xuICAgICAgdHJhY2tQdWJsaWNhdGlvbnNCeUtpbmQuc2V0KHB1YmxpY2F0aW9uLnRyYWNrU2lkLCBwdWJsaWNhdGlvbik7XG4gICAgICByZWVtaXRUcmFja1B1YmxpY2F0aW9uRXZlbnRzKHRoaXMsIHB1YmxpY2F0aW9uKTtcblxuICAgICAgbG9nLmluZm8oJ0FkZGVkIGEgbmV3ICcgKyB1dGlsLnRyYWNrUHVibGljYXRpb25DbGFzcyhwdWJsaWNhdGlvbikgKyAnOicsIHB1YmxpY2F0aW9uLnRyYWNrU2lkKTtcbiAgICAgIGxvZy5kZWJ1Zyh1dGlsLnRyYWNrUHVibGljYXRpb25DbGFzcyhwdWJsaWNhdGlvbikgKyAnOicsIHB1YmxpY2F0aW9uKTtcbiAgICAgIHJldHVybiBwdWJsaWNhdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfaGFuZGxlVHJhY2tTaWduYWxpbmdFdmVudHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVHJhY2tTaWduYWxpbmdFdmVudHMoKSB7XG4gICAgICB2YXIgbG9nID0gdGhpcy5fbG9nO1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgUmVtb3RlQXVkaW9UcmFjayA9IHRoaXMuX1JlbW90ZUF1ZGlvVHJhY2s7XG4gICAgICB2YXIgUmVtb3RlQXVkaW9UcmFja1B1YmxpY2F0aW9uID0gdGhpcy5fUmVtb3RlQXVkaW9UcmFja1B1YmxpY2F0aW9uO1xuICAgICAgdmFyIFJlbW90ZVZpZGVvVHJhY2sgPSB0aGlzLl9SZW1vdGVWaWRlb1RyYWNrO1xuICAgICAgdmFyIFJlbW90ZVZpZGVvVHJhY2tQdWJsaWNhdGlvbiA9IHRoaXMuX1JlbW90ZVZpZGVvVHJhY2tQdWJsaWNhdGlvbjtcbiAgICAgIHZhciBSZW1vdGVEYXRhVHJhY2sgPSB0aGlzLl9SZW1vdGVEYXRhVHJhY2s7XG4gICAgICB2YXIgUmVtb3RlRGF0YVRyYWNrUHVibGljYXRpb24gPSB0aGlzLl9SZW1vdGVEYXRhVHJhY2tQdWJsaWNhdGlvbjtcbiAgICAgIHZhciBzaWduYWxpbmcgPSB0aGlzLl9zaWduYWxpbmc7XG5cbiAgICAgIGZ1bmN0aW9uIHRyYWNrU2lnbmFsaW5nQWRkZWQoc2lnbmFsaW5nKSB7XG4gICAgICAgIHZhciBSZW1vdGVUcmFja1B1YmxpY2F0aW9uID0ge1xuICAgICAgICAgIGF1ZGlvOiBSZW1vdGVBdWRpb1RyYWNrUHVibGljYXRpb24sXG4gICAgICAgICAgZGF0YTogUmVtb3RlRGF0YVRyYWNrUHVibGljYXRpb24sXG4gICAgICAgICAgdmlkZW86IFJlbW90ZVZpZGVvVHJhY2tQdWJsaWNhdGlvblxuICAgICAgICB9W3NpZ25hbGluZy5raW5kXTtcblxuICAgICAgICB2YXIgcHVibGljYXRpb24gPSBuZXcgUmVtb3RlVHJhY2tQdWJsaWNhdGlvbihzaWduYWxpbmcsIHsgbG9nOiBsb2cgfSk7XG4gICAgICAgIHNlbGYuX2FkZFRyYWNrUHVibGljYXRpb24ocHVibGljYXRpb24pO1xuXG4gICAgICAgIHZhciBpc1N1YnNjcmliZWQgPSBzaWduYWxpbmcuaXNTdWJzY3JpYmVkO1xuICAgICAgICBpZiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgdHJhY2tTaWduYWxpbmdTdWJzY3JpYmVkKHNpZ25hbGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLl90cmFja1NpZ25hbGluZ1VwZGF0ZWRFdmVudENhbGxiYWNrcy5zZXQoc2lnbmFsaW5nLnNpZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChpc1N1YnNjcmliZWQgIT09IHNpZ25hbGluZy5pc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICAgIGlzU3Vic2NyaWJlZCA9IHNpZ25hbGluZy5pc1N1YnNjcmliZWQ7XG4gICAgICAgICAgICBpZiAoaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICAgIHRyYWNrU2lnbmFsaW5nU3Vic2NyaWJlZChzaWduYWxpbmcpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFja1NpZ25hbGluZ1Vuc3Vic2NyaWJlZChzaWduYWxpbmcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNpZ25hbGluZy5vbigndXBkYXRlZCcsIHNlbGYuX3RyYWNrU2lnbmFsaW5nVXBkYXRlZEV2ZW50Q2FsbGJhY2tzLmdldChzaWduYWxpbmcuc2lkKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRyYWNrU2lnbmFsaW5nUmVtb3ZlZChzaWduYWxpbmcpIHtcbiAgICAgICAgaWYgKHNpZ25hbGluZy5pc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICBzaWduYWxpbmcuc2V0VHJhY2tUcmFuc2NlaXZlcihudWxsKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXBkYXRlZCA9IHNlbGYuX3RyYWNrU2lnbmFsaW5nVXBkYXRlZEV2ZW50Q2FsbGJhY2tzLmdldChzaWduYWxpbmcuc2lkKTtcbiAgICAgICAgaWYgKHVwZGF0ZWQpIHtcbiAgICAgICAgICBzaWduYWxpbmcucmVtb3ZlTGlzdGVuZXIoJ3VwZGF0ZWQnLCB1cGRhdGVkKTtcbiAgICAgICAgICBzZWxmLl90cmFja1NpZ25hbGluZ1VwZGF0ZWRFdmVudENhbGxiYWNrcy5kZWxldGUoc2lnbmFsaW5nLmlkKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHVibGljYXRpb24gPSBzZWxmLnRyYWNrUHVibGljYXRpb25zLmdldChzaWduYWxpbmcuc2lkKTtcbiAgICAgICAgaWYgKHB1YmxpY2F0aW9uKSB7XG4gICAgICAgICAgc2VsZi5fcmVtb3ZlVHJhY2tQdWJsaWNhdGlvbihwdWJsaWNhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdHJhY2tTaWduYWxpbmdTdWJzY3JpYmVkKHNpZ25hbGluZykge1xuICAgICAgICB2YXIgUmVtb3RlVHJhY2sgPSB7XG4gICAgICAgICAgYXVkaW86IFJlbW90ZUF1ZGlvVHJhY2ssXG4gICAgICAgICAgdmlkZW86IFJlbW90ZVZpZGVvVHJhY2ssXG4gICAgICAgICAgZGF0YTogUmVtb3RlRGF0YVRyYWNrXG4gICAgICAgIH1bc2lnbmFsaW5nLmtpbmRdO1xuXG4gICAgICAgIHZhciBwdWJsaWNhdGlvbiA9IHNlbGYudHJhY2tQdWJsaWNhdGlvbnMuZ2V0KHNpZ25hbGluZy5zaWQpO1xuICAgICAgICB2YXIgdHJhY2tSZWNlaXZlciA9IHNpZ25hbGluZy50cmFja1RyYW5zY2VpdmVyO1xuXG4gICAgICAgIC8vIE5PVEUobXJvYmVydHMpOiBJdCBzaG91bGQgbmV2ZXIgYmUgdGhlIGNhc2UgdGhhdCB0aGUgVHJhY2tTaWduYWxpbmcgYW5kXG4gICAgICAgIC8vIE1lZGlhU3RyZWFtVHJhY2sgb3IgRGF0YVRyYWNrUmVjZWl2ZXIga2luZHMgZGlzYWdyZWU7IGhvd2V2ZXIsIGp1c3QgaW5cbiAgICAgICAgLy8gY2FzZSwgd2UgaGFuZGxlIGl0IGhlcmUuXG4gICAgICAgIGlmICghUmVtb3RlVHJhY2sgfHwgc2lnbmFsaW5nLmtpbmQgIT09IHRyYWNrUmVjZWl2ZXIua2luZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0cmFjayA9IHNpZ25hbGluZy5raW5kID09PSAnZGF0YScgPyBuZXcgUmVtb3RlVHJhY2sodHJhY2tSZWNlaXZlciwgeyBsb2c6IGxvZywgbmFtZTogc2lnbmFsaW5nLm5hbWUgfSkgOiBuZXcgUmVtb3RlVHJhY2sodHJhY2tSZWNlaXZlciwgc2lnbmFsaW5nLmlzRW5hYmxlZCwgeyBsb2c6IGxvZywgbmFtZTogc2lnbmFsaW5nLm5hbWUgfSk7XG5cbiAgICAgICAgc2VsZi5fYWRkVHJhY2sodHJhY2ssIHB1YmxpY2F0aW9uKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdHJhY2tTaWduYWxpbmdVbnN1YnNjcmliZWQoc2lnbmFsaW5nKSB7XG4gICAgICAgIHZhciB0cmFjayA9IHV0aWwuZmxhdE1hcChzZWxmLnRyYWNrcykuZmluZChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgICByZXR1cm4gdHJhY2suc2lkID09PSBzaWduYWxpbmcuc2lkO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHB1YmxpY2F0aW9uID0gc2VsZi50cmFja1B1YmxpY2F0aW9ucy5nZXQoc2lnbmFsaW5nLnNpZCk7XG4gICAgICAgIGlmICh0cmFjaykge1xuICAgICAgICAgIHNlbGYuX3JlbW92ZVRyYWNrKHRyYWNrLCBwdWJsaWNhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2lnbmFsaW5nLm9uKCd0cmFja0FkZGVkJywgdHJhY2tTaWduYWxpbmdBZGRlZCk7XG4gICAgICBzaWduYWxpbmcub24oJ3RyYWNrUmVtb3ZlZCcsIHRyYWNrU2lnbmFsaW5nUmVtb3ZlZCk7XG5cbiAgICAgIHNpZ25hbGluZy50cmFja3MuZm9yRWFjaCh0cmFja1NpZ25hbGluZ0FkZGVkKTtcblxuICAgICAgc2lnbmFsaW5nLm9uKCdzdGF0ZUNoYW5nZWQnLCBmdW5jdGlvbiBzdGF0ZUNoYW5nZWQoc3RhdGUpIHtcbiAgICAgICAgaWYgKHN0YXRlID09PSAnZGlzY29ubmVjdGVkJykge1xuICAgICAgICAgIGxvZy5kZWJ1ZygnUmVtb3ZpbmcgZXZlbnQgbGlzdGVuZXJzJyk7XG4gICAgICAgICAgc2lnbmFsaW5nLnJlbW92ZUxpc3RlbmVyKCdzdGF0ZUNoYW5nZWQnLCBzdGF0ZUNoYW5nZWQpO1xuICAgICAgICAgIHNpZ25hbGluZy5yZW1vdmVMaXN0ZW5lcigndHJhY2tBZGRlZCcsIHRyYWNrU2lnbmFsaW5nQWRkZWQpO1xuICAgICAgICAgIHNpZ25hbGluZy5yZW1vdmVMaXN0ZW5lcigndHJhY2tSZW1vdmVkJywgdHJhY2tTaWduYWxpbmdSZW1vdmVkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1JlbW90ZVRyYWNrfSB0cmFja1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfZGVsZXRlVHJhY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlVHJhY2sodHJhY2spIHtcbiAgICAgIHRoaXMudHJhY2tzLmRlbGV0ZSh0cmFjay5faWQpO1xuXG4gICAgICB2YXIgdHJhY2tzQnlLaW5kID0ge1xuICAgICAgICBhdWRpbzogdGhpcy5hdWRpb1RyYWNrcyxcbiAgICAgICAgdmlkZW86IHRoaXMudmlkZW9UcmFja3MsXG4gICAgICAgIGRhdGE6IHRoaXMuZGF0YVRyYWNrc1xuICAgICAgfVt0cmFjay5raW5kXTtcbiAgICAgIHRyYWNrc0J5S2luZC5kZWxldGUodHJhY2suX2lkKTtcblxuICAgICAgdmFyIHJlZW1pdHRlcnMgPSB0aGlzLl90cmFja0V2ZW50UmVlbWl0dGVycy5nZXQodHJhY2suX2lkKSB8fCBuZXcgTWFwKCk7XG4gICAgICByZWVtaXR0ZXJzLmZvckVhY2goZnVuY3Rpb24gKHJlZW1pdHRlciwgZXZlbnQpIHtcbiAgICAgICAgdHJhY2sucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIHJlZW1pdHRlcik7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGxvZyA9IHRoaXMuX2xvZztcbiAgICAgIGxvZy5pbmZvKCdSZW1vdmVkIGEgJyArIHV0aWwudHJhY2tDbGFzcyh0cmFjaykgKyAnOicsIHRyYWNrLl9pZCk7XG4gICAgICBsb2cuZGVidWcodXRpbC50cmFja0NsYXNzKHRyYWNrKSArICc6JywgdHJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZW1vdGVUcmFja30gdHJhY2tcbiAgICAgKiBAcmV0dXJucyB7P1JlbW90ZVRyYWNrfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfcmVtb3ZlVHJhY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlVHJhY2sodHJhY2spIHtcbiAgICAgIGlmICghdGhpcy50cmFja3MuaGFzKHRyYWNrLl9pZCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB0cmFjayA9IHRoaXMudHJhY2tzLmdldCh0cmFjay5faWQpO1xuICAgICAgdGhpcy5fZGVsZXRlVHJhY2sodHJhY2spO1xuICAgICAgdGhpcy5lbWl0KCd0cmFja1JlbW92ZWQnLCB0cmFjayk7XG4gICAgICByZXR1cm4gdHJhY2s7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1JlbW90ZVRyYWNrUHVibGljYXRpb259IHB1YmxpY2F0aW9uXG4gICAgICogQHJldHVybnMgez9SZW1vdGVUcmFja1B1YmxpY2F0aW9ufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfcmVtb3ZlVHJhY2tQdWJsaWNhdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmVUcmFja1B1YmxpY2F0aW9uKHB1YmxpY2F0aW9uKSB7XG4gICAgICBwdWJsaWNhdGlvbiA9IHRoaXMudHJhY2tQdWJsaWNhdGlvbnMuZ2V0KHB1YmxpY2F0aW9uLnRyYWNrU2lkKTtcbiAgICAgIGlmICghcHVibGljYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLnRyYWNrUHVibGljYXRpb25zLmRlbGV0ZShwdWJsaWNhdGlvbi50cmFja1NpZCk7XG5cbiAgICAgIHZhciB0cmFja1B1YmxpY2F0aW9uc0J5S2luZCA9IHtcbiAgICAgICAgYXVkaW86IHRoaXMuYXVkaW9UcmFja1B1YmxpY2F0aW9ucyxcbiAgICAgICAgZGF0YTogdGhpcy5kYXRhVHJhY2tQdWJsaWNhdGlvbnMsXG4gICAgICAgIHZpZGVvOiB0aGlzLnZpZGVvVHJhY2tQdWJsaWNhdGlvbnNcbiAgICAgIH1bcHVibGljYXRpb24ua2luZF07XG4gICAgICB0cmFja1B1YmxpY2F0aW9uc0J5S2luZC5kZWxldGUocHVibGljYXRpb24udHJhY2tTaWQpO1xuXG4gICAgICB2YXIgcmVlbWl0dGVycyA9IHRoaXMuX3RyYWNrUHVibGljYXRpb25FdmVudFJlZW1pdHRlcnMuZ2V0KHB1YmxpY2F0aW9uLnRyYWNrU2lkKSB8fCBuZXcgTWFwKCk7XG4gICAgICByZWVtaXR0ZXJzLmZvckVhY2goZnVuY3Rpb24gKHJlZW1pdHRlciwgZXZlbnQpIHtcbiAgICAgICAgcHVibGljYXRpb24ucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIHJlZW1pdHRlcik7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGxvZyA9IHRoaXMuX2xvZztcbiAgICAgIGxvZy5pbmZvKCdSZW1vdmVkIGEgJyArIHV0aWwudHJhY2tQdWJsaWNhdGlvbkNsYXNzKHB1YmxpY2F0aW9uKSArICc6JywgcHVibGljYXRpb24udHJhY2tTaWQpO1xuICAgICAgbG9nLmRlYnVnKHV0aWwudHJhY2tQdWJsaWNhdGlvbkNsYXNzKHB1YmxpY2F0aW9uKSArICc6JywgcHVibGljYXRpb24pO1xuICAgICAgcmV0dXJuIHB1YmxpY2F0aW9uO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ25ldHdvcmtRdWFsaXR5TGV2ZWwnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NpZ25hbGluZy5uZXR3b3JrUXVhbGl0eUxldmVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCB7QGxpbmsgTmV0d29ya1F1YWxpdHlMZXZlbHN9LCBpZiBhbnkuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZGVwcmVjYXRlZCAtIHRoZSBkZWNvbXBvc2VkIGxldmVscyBhcmUgb25seSB1c2VkIGZvciBkZWJ1Z2dpbmcgYW5kIHdpbGwgYmVcbiAgICAgKiAgIHJlbW92ZWQgYXMgc29vbiBhcyB3ZSBhcmUgY29uZmlkZW50IGluIG91ciBpbXBsZW1lbnRhdGlvblxuICAgICAqIEByZXR1cm5zIHs/TmV0d29ya1F1YWxpdHlMZXZlbHN9IG5ldHdvcmtRdWFsaXR5TGV2ZWxzIC0gaW5pdGlhbGx5IG51bGxcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX25ldHdvcmtRdWFsaXR5TGV2ZWxzJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zaWduYWxpbmcubmV0d29ya1F1YWxpdHlMZXZlbHM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBhcnRpY2lwYW50O1xufShFdmVudEVtaXR0ZXIpO1xuXG4vKipcbiAqIEEge0BsaW5rIFBhcnRpY2lwYW50LlNJRH0gaXMgYSAzNC1jaGFyYWN0ZXIgc3RyaW5nIHN0YXJ0aW5nIHdpdGggXCJQQVwiXG4gKiB0aGF0IHVuaXF1ZWx5IGlkZW50aWZpZXMgYSB7QGxpbmsgUGFydGljaXBhbnR9LlxuICogQHR5cGUgc3RyaW5nXG4gKiBAdHlwZWRlZiBQYXJ0aWNpcGFudC5TSURcbiAqL1xuXG4vKipcbiAqIEEge0BsaW5rIFBhcnRpY2lwYW50LklkZW50aXR5fSBpcyBhIHN0cmluZyB0aGF0IGlkZW50aWZpZXMgYVxuICoge0BsaW5rIFBhcnRpY2lwYW50fS4gWW91IGNhbiB0aGluayBvZiBpdCBsaWtlIGEgbmFtZS5cbiAqIEB0eXBlZGVmIHtzdHJpbmd9IFBhcnRpY2lwYW50LklkZW50aXR5XG4gKi9cblxuLyoqXG4gKiBUaGUge0BsaW5rIFBhcnRpY2lwYW50fSBoYXMgZGlzY29ubmVjdGVkLlxuICogQHBhcmFtIHtQYXJ0aWNpcGFudH0gcGFydGljaXBhbnQgLSBUaGUge0BsaW5rIFBhcnRpY2lwYW50fSB0aGF0IGRpc2Nvbm5lY3RlZC5cbiAqIEBldmVudCBQYXJ0aWNpcGFudCNkaXNjb25uZWN0ZWRcbiAqL1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgUGFydGljaXBhbnR9J3Mge0BsaW5rIE5ldHdvcmtRdWFsaXR5TGV2ZWx9IGNoYW5nZWQuXG4gKiBAcGFyYW0ge05ldHdvcmtRdWFsaXR5TGV2ZWx9IG5ldHdvcmtRdWFsaXR5TGV2ZWwgLSBUaGUgbmV3XG4gKiAgIHtAbGluayBOZXR3b3JrUXVhbGl0eUxldmVsfVxuICogQGV2ZW50IFBhcnRpY2lwYW50I25ldHdvcmtRdWFsaXR5TGV2ZWxDaGFuZ2VkXG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBUcmFja30gd2FzIGFkZGVkIGJ5IHRoZSB7QGxpbmsgUGFydGljaXBhbnR9LlxuICogQHBhcmFtIHtUcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIFRyYWNrfSB0aGF0IHdhcyBhZGRlZFxuICogQGV2ZW50IFBhcnRpY2lwYW50I3RyYWNrQWRkZWRcbiAqIEBkZXByZWNhdGVkXG4gKi9cblxuLyoqXG4gKiBPbmUgb2YgdGhlIHtAbGluayBQYXJ0aWNpcGFudH0ncyB7QGxpbmsgVmlkZW9UcmFja30ncyBkaW1lbnNpb25zIGNoYW5nZWQuXG4gKiBAcGFyYW0ge1ZpZGVvVHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBWaWRlb1RyYWNrfSB3aG9zZSBkaW1lbnNpb25zIGNoYW5nZWRcbiAqIEBldmVudCBQYXJ0aWNpcGFudCN0cmFja0RpbWVuc2lvbnNDaGFuZ2VkXG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBUcmFja30gd2FzIGRpc2FibGVkIGJ5IHRoZSB7QGxpbmsgUGFydGljaXBhbnR9LlxuICogQHBhcmFtIHtUcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIFRyYWNrfSB0aGF0IHdhcyBkaXNhYmxlZC5cbiAqIEBldmVudCBQYXJ0aWNpcGFudCN0cmFja0Rpc2FibGVkXG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBUcmFja30gd2FzIGVuYWJsZWQgYnkgdGhlIHtAbGluayBQYXJ0aWNpcGFudH0uXG4gKiBAcGFyYW0ge1RyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgVHJhY2t9IHRoYXQgd2FzIGVuYWJsZWRcbiAqIEBldmVudCBQYXJ0aWNpcGFudCN0cmFja0VuYWJsZWRcbiAqL1xuXG4vKipcbiAqIEEge0BsaW5rIFRyYWNrfSB3YXMgcmVtb3ZlZCBieSB0aGUge0BsaW5rIFBhcnRpY2lwYW50fS5cbiAqIEBwYXJhbSB7VHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBUcmFja30gdGhhdCB3YXMgcmVtb3ZlZFxuICogQGV2ZW50IFBhcnRpY2lwYW50I3RyYWNrUmVtb3ZlZFxuICogQGRlcHJlY2F0ZWRcbiAqL1xuXG4vKipcbiAqIE9uZSBvZiB0aGUge0BsaW5rIFBhcnRpY2lwYW50fSdzIHtAbGluayBUcmFja31zIHN0YXJ0ZWQuXG4gKiBAcGFyYW0ge1RyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgVHJhY2t9IHRoYXQgc3RhcnRlZFxuICogQGV2ZW50IFBhcnRpY2lwYW50I3RyYWNrU3RhcnRlZFxuICovXG5cbi8qKlxuICogSW5kZXhlZCB7QGxpbmsgVHJhY2t9cyBieSB7QGxpbmsgVHJhY2suSUR9LlxuICogQHR5cGVkZWYge29iamVjdH0gSW5kZXhlZFRyYWNrc1xuICogQHByb3BlcnR5IHtBcnJheTx7MDogVHJhY2suSUQsIDE6IEF1ZGlvVHJhY2t9Pn0gYXVkaW9UcmFja3MgLSBJbmRleGVkXG4gKiAgIHtAbGluayBBdWRpb1RyYWNrfXNcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8ezA6IFRyYWNrLklELCAxOiBEYXRhVHJhY2t9Pn0gZGF0YVRyYWNrcyAtIEluZGV4ZWRcbiAqICAge0BsaW5rIERhdGFUcmFja31zXG4gKiBAcHJvcGVydHkge0FycmF5PHswOiBUcmFjay5JRCwgMTogVHJhY2t9Pn0gdHJhY2tzIC0gSW5kZXhlZCB7QGxpbmsgVHJhY2t9c1xuICogQHByb3BlcnR5IHtBcnJheTx7MDogVHJhY2suSUQsIDE6IFZpZGVvVHJhY2t9Pn0gdmlkZW9UcmFja3MgLSBJbmRleGVkXG4gKiAgIHtAbGluayBWaWRlb1RyYWNrfXNcbiAqIEBwcml2YXRlXG4gKi9cblxuLyoqXG4gKiBJbmRleCB0cmFja3MgYnkge0BsaW5rIFRyYWNrLklEfS5cbiAqIEBwYXJhbSB7QXJyYXk8VHJhY2s+fSB0cmFja3NcbiAqIEByZXR1cm5zIHtJbmRleGVkVHJhY2tzfVxuICogQHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIGluZGV4VHJhY2tzQnlJZCh0cmFja3MpIHtcbiAgdmFyIGluZGV4ZWRUcmFja3MgPSB0cmFja3MubWFwKGZ1bmN0aW9uICh0cmFjaykge1xuICAgIHJldHVybiBbdHJhY2suX2lkLCB0cmFja107XG4gIH0pO1xuICB2YXIgaW5kZXhlZEF1ZGlvVHJhY2tzID0gaW5kZXhlZFRyYWNrcy5maWx0ZXIoZnVuY3Rpb24gKGtleVZhbHVlKSB7XG4gICAgcmV0dXJuIGtleVZhbHVlWzFdLmtpbmQgPT09ICdhdWRpbyc7XG4gIH0pO1xuICB2YXIgaW5kZXhlZFZpZGVvVHJhY2tzID0gaW5kZXhlZFRyYWNrcy5maWx0ZXIoZnVuY3Rpb24gKGtleVZhbHVlKSB7XG4gICAgcmV0dXJuIGtleVZhbHVlWzFdLmtpbmQgPT09ICd2aWRlbyc7XG4gIH0pO1xuICB2YXIgaW5kZXhlZERhdGFUcmFja3MgPSBpbmRleGVkVHJhY2tzLmZpbHRlcihmdW5jdGlvbiAoa2V5VmFsdWUpIHtcbiAgICByZXR1cm4ga2V5VmFsdWVbMV0ua2luZCA9PT0gJ2RhdGEnO1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIGF1ZGlvVHJhY2tzOiBpbmRleGVkQXVkaW9UcmFja3MsXG4gICAgZGF0YVRyYWNrczogaW5kZXhlZERhdGFUcmFja3MsXG4gICAgdHJhY2tzOiBpbmRleGVkVHJhY2tzLFxuICAgIHZpZGVvVHJhY2tzOiBpbmRleGVkVmlkZW9UcmFja3NcbiAgfTtcbn1cblxuLyoqXG4gKiBSZS1lbWl0IHtAbGluayBQYXJ0aWNpcGFudFNpZ25hbGluZ30gJ3N0YXRlQ2hhbmdlZCcgZXZlbnRzLlxuICogQHBhcmFtIHtQYXJ0aWNpcGFudH0gcGFydGljaXBhbnRcbiAqIEBwYXJhbSB7UGFydGljaXBhbnRTaWduYWxpbmd9IHNpZ25hbGluZ1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVlbWl0U2lnbmFsaW5nU3RhdGVDaGFuZ2VkRXZlbnRzKHBhcnRpY2lwYW50LCBzaWduYWxpbmcpIHtcbiAgdmFyIGxvZyA9IHBhcnRpY2lwYW50Ll9sb2c7XG5cbiAgaWYgKHBhcnRpY2lwYW50LnN0YXRlID09PSAnZGlzY29ubmVjdGVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFJlZW1pdCBzdGF0ZSB0cmFuc2l0aW9uIGV2ZW50cyBmcm9tIHRoZSBQYXJ0aWNpcGFudFNpZ25hbGluZy5cbiAgc2lnbmFsaW5nLm9uKCdzdGF0ZUNoYW5nZWQnLCBmdW5jdGlvbiBzdGF0ZUNoYW5nZWQoc3RhdGUpIHtcbiAgICBsb2cuZGVidWcoJ1RyYW5zaXRpb25lZCB0byBzdGF0ZTonLCBzdGF0ZSk7XG4gICAgcGFydGljaXBhbnQuZW1pdChzdGF0ZSwgcGFydGljaXBhbnQpO1xuICAgIGlmIChzdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICAgIGxvZy5kZWJ1ZygnUmVtb3ZpbmcgVHJhY2sgZXZlbnQgcmVlbWl0dGVycycpO1xuICAgICAgc2lnbmFsaW5nLnJlbW92ZUxpc3RlbmVyKCdzdGF0ZUNoYW5nZWQnLCBzdGF0ZUNoYW5nZWQpO1xuXG4gICAgICBwYXJ0aWNpcGFudC50cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgcGFydGljaXBhbnQuX3RyYWNrRXZlbnRSZWVtaXR0ZXJzLmdldCh0cmFjay5faWQpLmZvckVhY2goZnVuY3Rpb24gKHJlZW1pdHRlciwgZXZlbnQpIHtcbiAgICAgICAgICB0cmFjay5yZW1vdmVMaXN0ZW5lcihldmVudCwgcmVlbWl0dGVyKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHBhcnRpY2lwYW50Ll90cmFja0V2ZW50UmVlbWl0dGVycy5jbGVhcigpO1xuXG4gICAgICBwYXJ0aWNpcGFudC50cmFja1B1YmxpY2F0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChwdWJsaWNhdGlvbikge1xuICAgICAgICBwYXJ0aWNpcGFudC5fdHJhY2tQdWJsaWNhdGlvbkV2ZW50UmVlbWl0dGVycy5nZXQocHVibGljYXRpb24udHJhY2tTaWQpLmZvckVhY2goZnVuY3Rpb24gKHJlZW1pdHRlciwgZXZlbnQpIHtcbiAgICAgICAgICBwdWJsaWNhdGlvbi5yZW1vdmVMaXN0ZW5lcihldmVudCwgcmVlbWl0dGVyKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHBhcnRpY2lwYW50Ll90cmFja1B1YmxpY2F0aW9uRXZlbnRSZWVtaXR0ZXJzLmNsZWFyKCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBSZS1lbWl0IHtAbGluayBUcmFja30gZXZlbnRzLlxuICogQHBhcmFtIHtQYXJ0aWNpcGFudH0gcGFydGljaXBhbnRcbiAqIEBwYXJhbSB7VHJhY2t9IHRyYWNrXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZWVtaXRUcmFja0V2ZW50cyhwYXJ0aWNpcGFudCwgdHJhY2spIHtcbiAgdmFyIHRyYWNrRXZlbnRSZWVtaXR0ZXJzID0gbmV3IE1hcCgpO1xuXG4gIGlmIChwYXJ0aWNpcGFudC5zdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwYXJ0aWNpcGFudC5fZ2V0VHJhY2tFdmVudHMoKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudFBhaXIpIHtcbiAgICB2YXIgdHJhY2tFdmVudCA9IGV2ZW50UGFpclswXTtcbiAgICB2YXIgcGFydGljaXBhbnRFdmVudCA9IGV2ZW50UGFpclsxXTtcblxuICAgIHRyYWNrRXZlbnRSZWVtaXR0ZXJzLnNldCh0cmFja0V2ZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYXJncyA9IFtwYXJ0aWNpcGFudEV2ZW50XS5jb25jYXQoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICAgIHJldHVybiBwYXJ0aWNpcGFudC5lbWl0LmFwcGx5KHBhcnRpY2lwYW50LCBfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpO1xuICAgIH0pO1xuXG4gICAgdHJhY2sub24odHJhY2tFdmVudCwgdHJhY2tFdmVudFJlZW1pdHRlcnMuZ2V0KHRyYWNrRXZlbnQpKTtcbiAgfSk7XG5cbiAgcGFydGljaXBhbnQuX3RyYWNrRXZlbnRSZWVtaXR0ZXJzLnNldCh0cmFjay5faWQsIHRyYWNrRXZlbnRSZWVtaXR0ZXJzKTtcbn1cblxuLyoqXG4gKiBSZS1lbWl0IHtAbGluayBUcmFja1B1YmxpY2F0aW9ufSBldmVudHMuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQYXJ0aWNpcGFudH0gcGFydGljaXBhbnRcbiAqIEBwYXJhbSB7VHJhY2tQdWJsaWNhdGlvbn0gcHVibGljYXRpb25cbiAqL1xuZnVuY3Rpb24gcmVlbWl0VHJhY2tQdWJsaWNhdGlvbkV2ZW50cyhwYXJ0aWNpcGFudCwgcHVibGljYXRpb24pIHtcbiAgdmFyIHB1YmxpY2F0aW9uRXZlbnRSZWVtaXR0ZXJzID0gbmV3IE1hcCgpO1xuXG4gIGlmIChwYXJ0aWNpcGFudC5zdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwYXJ0aWNpcGFudC5fZ2V0VHJhY2tQdWJsaWNhdGlvbkV2ZW50cygpLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSxcbiAgICAgICAgcHVibGljYXRpb25FdmVudCA9IF9yZWYyWzBdLFxuICAgICAgICBwYXJ0aWNpcGFudEV2ZW50ID0gX3JlZjJbMV07XG5cbiAgICBwdWJsaWNhdGlvbkV2ZW50UmVlbWl0dGVycy5zZXQocHVibGljYXRpb25FdmVudCwgZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgcGFydGljaXBhbnQuZW1pdC5hcHBseShwYXJ0aWNpcGFudCwgW3BhcnRpY2lwYW50RXZlbnRdLmNvbmNhdChhcmdzLCBbcHVibGljYXRpb25dKSk7XG4gICAgfSk7XG4gICAgcHVibGljYXRpb24ub24ocHVibGljYXRpb25FdmVudCwgcHVibGljYXRpb25FdmVudFJlZW1pdHRlcnMuZ2V0KHB1YmxpY2F0aW9uRXZlbnQpKTtcbiAgfSk7XG5cbiAgcGFydGljaXBhbnQuX3RyYWNrUHVibGljYXRpb25FdmVudFJlZW1pdHRlcnMuc2V0KHB1YmxpY2F0aW9uLnRyYWNrU2lkLCBwdWJsaWNhdGlvbkV2ZW50UmVlbWl0dGVycyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUGFydGljaXBhbnQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9wYXJ0aWNpcGFudC5qc1xuLy8gbW9kdWxlIGlkID0gMjQzXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///243\n");

/***/ }),
/* 244 */
/*!***********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/remotemediatrack.js ***!
  \***********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _require = __webpack_require__(/*! ../../util */ 206),\n    deprecateEvents = _require.deprecateEvents;\n\nfunction mixinRemoteMediaTrack(AudioOrVideoTrack) {\n  /**\n   * A {@link RemoteMediaTrack} represents a {@link MediaTrack} published to a\n   * {@link Room} by a {@link RemoteParticipant}.\n   * @emits RemoteMediaTrack#disabled\n   * @emits RemoteMediaTrack#enabled\n   * @emits RemoteMediaTrack#unsubscribed\n   */\n  return function (_AudioOrVideoTrack) {\n    _inherits(RemoteMediaTrack, _AudioOrVideoTrack);\n\n    /**\n     * Construct a {@link RemoteMediaTrack}.\n     * @param {MediaTrackReceiver} mediaTrackReceiver\n     * @param {boolean} isEnabled\n     * @param {{log: Log, name: ?string}} options\n     */\n    function RemoteMediaTrack(mediaTrackReceiver, isEnabled, options) {\n      _classCallCheck(this, RemoteMediaTrack);\n\n      var _this = _possibleConstructorReturn(this, (RemoteMediaTrack.__proto__ || Object.getPrototypeOf(RemoteMediaTrack)).call(this, mediaTrackReceiver, options));\n\n      Object.defineProperties(_this, {\n        _isEnabled: {\n          value: isEnabled,\n          writable: true\n        },\n        _isSubscribed: {\n          value: true,\n          writable: true\n        },\n        _sid: {\n          value: null,\n          writable: true\n        }\n      });\n\n      deprecateEvents('RemoteMediaTrack', _this, new Map([['unsubscribed', null]]), _this._log);\n      return _this;\n    }\n\n    /**\n     * The {@link RemoteMediaTrack}'s ID.\n     * @property {Track.ID}\n     * @deprecated Use the parent {@link RemoteTrackPublication}'s .trackName or\n     *   .trackSid instead\n     */\n\n\n    _createClass(RemoteMediaTrack, [{\n      key: '_setEnabled',\n\n\n      /**\n       * @private\n       * @param {boolean} isEnabled\n       */\n      value: function _setEnabled(isEnabled) {\n        if (this._isEnabled !== isEnabled) {\n          this._isEnabled = isEnabled;\n          this.emit(this._isEnabled ? 'enabled' : 'disabled', this);\n        }\n      }\n\n      /**\n       * @private\n       * @param {Track.SID} sid\n       */\n\n    }, {\n      key: '_setSid',\n      value: function _setSid(sid) {\n        if (!this._sid) {\n          this._sid = sid;\n        }\n      }\n\n      /**\n       * @private\n       */\n\n    }, {\n      key: '_unsubscribe',\n      value: function _unsubscribe() {\n        if (this._isSubscribed) {\n          this._isSubscribed = false;\n          this.emit('unsubscribed', this);\n        }\n      }\n    }, {\n      key: 'id',\n      get: function get() {\n        this._log.deprecated('RemoteMediaTrack#id has been deprecated and is ' + 'scheduled for removal in twilio-video.js@2.0.0. Use the parent ' + 'RemoteTrackPublication\\'s .trackName or .trackSid instead.');\n        return this._id;\n      }\n\n      /**\n       * Whether the {@link RemoteMediaTrack} is enabled\n       * @property {boolean}\n       */\n\n    }, {\n      key: 'isEnabled',\n      get: function get() {\n        return this._isEnabled;\n      }\n\n      /**\n       * Whether the {@link RemoteMediaTrack} is subscribed to\n       * @property {boolean}\n       * @deprecated Use the parent {@link RemoteTrackPublication}'s .isSubscribed\n       *   instead\n       */\n\n    }, {\n      key: 'isSubscribed',\n      get: function get() {\n        this._log.deprecated('RemoteMediaTrack#isSubscribed has been deprecated and is ' + 'scheduled for removal in twilio-video.js@2.0.0. Use the ' + 'parent RemoteTrackPublication\\'s .isSubscribed instead.');\n        return this._isSubscribed;\n      }\n\n      /**\n       * The SID assigned to the {@link RemoteMediaTrack}\n       * @property {Track.SID}\n       */\n\n    }, {\n      key: 'sid',\n      get: function get() {\n        return this._sid;\n      }\n    }]);\n\n    return RemoteMediaTrack;\n  }(AudioOrVideoTrack);\n}\n\n/**\n * A {@link RemoteMediaTrack} was disabled.\n * @param {RemoteMediaTrack} track - The {@link RemoteMediaTrack} that was\n *   disabled\n * @event RemoteMediaTrack#disabled\n */\n\n/**\n * A {@link RemoteMediaTrack} was enabled.\n * @param {RemoteMediaTrack} track - The {@link RemoteMediaTrack} that was\n *   enabled\n * @event RemoteMediaTrack#enabled\n */\n\n/**\n * The {@link RemoteMediaTrack} was unsubscribed from.\n * @event RemoteMediaTrack#unsubscribed\n * @param {RemoteMediaTrack} track - The {@link RemoteMediaTrack} that was\n *   unsubscribed from\n * @deprecated Use the parent {@link RemoteTrackPublication}'s \"unsubscribed\"\n *   event instead\n */\n\nmodule.exports = mixinRemoteMediaTrack;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9yZW1vdGVtZWRpYXRyYWNrLmpzPzcwYjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsZUFBZSxtQkFBTyxDQUFDLHFCQUFZO0FBQ25DOztBQUVBO0FBQ0E7QUFDQSxRQUFRLHVCQUF1QixlQUFlLGlCQUFpQjtBQUMvRCxNQUFNLFdBQVcsT0FBTyx3QkFBd0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLHVCQUF1QjtBQUMzQyxlQUFlLG1CQUFtQjtBQUNsQyxlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCLHlCQUF5QjtBQUN6QztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZLHVCQUF1QjtBQUNuQyxrQkFBa0I7QUFDbEIsbUNBQW1DLDZCQUE2QjtBQUNoRTtBQUNBOzs7QUFHQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixVQUFVO0FBQzNCOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLHVCQUF1QjtBQUM3QyxvQkFBb0I7QUFDcEI7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLHVCQUF1QjtBQUM3QyxvQkFBb0I7QUFDcEIscUNBQXFDLDZCQUE2QjtBQUNsRTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0NBQWtDO0FBQ2xDLG9CQUFvQjtBQUNwQjs7QUFFQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsTUFBTSx1QkFBdUI7QUFDN0IsV0FBVyxpQkFBaUIsY0FBYyx1QkFBdUI7QUFDakU7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSx1QkFBdUI7QUFDN0IsV0FBVyxpQkFBaUIsY0FBYyx1QkFBdUI7QUFDakU7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUSx1QkFBdUI7QUFDL0I7QUFDQSxXQUFXLGlCQUFpQixjQUFjLHVCQUF1QjtBQUNqRTtBQUNBLCtCQUErQiw2QkFBNkI7QUFDNUQ7QUFDQTs7QUFFQSIsImZpbGUiOiIyNDQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnLi4vLi4vdXRpbCcpLFxuICAgIGRlcHJlY2F0ZUV2ZW50cyA9IF9yZXF1aXJlLmRlcHJlY2F0ZUV2ZW50cztcblxuZnVuY3Rpb24gbWl4aW5SZW1vdGVNZWRpYVRyYWNrKEF1ZGlvT3JWaWRlb1RyYWNrKSB7XG4gIC8qKlxuICAgKiBBIHtAbGluayBSZW1vdGVNZWRpYVRyYWNrfSByZXByZXNlbnRzIGEge0BsaW5rIE1lZGlhVHJhY2t9IHB1Ymxpc2hlZCB0byBhXG4gICAqIHtAbGluayBSb29tfSBieSBhIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudH0uXG4gICAqIEBlbWl0cyBSZW1vdGVNZWRpYVRyYWNrI2Rpc2FibGVkXG4gICAqIEBlbWl0cyBSZW1vdGVNZWRpYVRyYWNrI2VuYWJsZWRcbiAgICogQGVtaXRzIFJlbW90ZU1lZGlhVHJhY2sjdW5zdWJzY3JpYmVkXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gKF9BdWRpb09yVmlkZW9UcmFjaykge1xuICAgIF9pbmhlcml0cyhSZW1vdGVNZWRpYVRyYWNrLCBfQXVkaW9PclZpZGVvVHJhY2spO1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IGEge0BsaW5rIFJlbW90ZU1lZGlhVHJhY2t9LlxuICAgICAqIEBwYXJhbSB7TWVkaWFUcmFja1JlY2VpdmVyfSBtZWRpYVRyYWNrUmVjZWl2ZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzRW5hYmxlZFxuICAgICAqIEBwYXJhbSB7e2xvZzogTG9nLCBuYW1lOiA/c3RyaW5nfX0gb3B0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlbW90ZU1lZGlhVHJhY2sobWVkaWFUcmFja1JlY2VpdmVyLCBpc0VuYWJsZWQsIG9wdGlvbnMpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZW1vdGVNZWRpYVRyYWNrKTtcblxuICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJlbW90ZU1lZGlhVHJhY2suX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSZW1vdGVNZWRpYVRyYWNrKSkuY2FsbCh0aGlzLCBtZWRpYVRyYWNrUmVjZWl2ZXIsIG9wdGlvbnMpKTtcblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX3RoaXMsIHtcbiAgICAgICAgX2lzRW5hYmxlZDoge1xuICAgICAgICAgIHZhbHVlOiBpc0VuYWJsZWQsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgX2lzU3Vic2NyaWJlZDoge1xuICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIF9zaWQ6IHtcbiAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZGVwcmVjYXRlRXZlbnRzKCdSZW1vdGVNZWRpYVRyYWNrJywgX3RoaXMsIG5ldyBNYXAoW1sndW5zdWJzY3JpYmVkJywgbnVsbF1dKSwgX3RoaXMuX2xvZyk7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHtAbGluayBSZW1vdGVNZWRpYVRyYWNrfSdzIElELlxuICAgICAqIEBwcm9wZXJ0eSB7VHJhY2suSUR9XG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBwYXJlbnQge0BsaW5rIFJlbW90ZVRyYWNrUHVibGljYXRpb259J3MgLnRyYWNrTmFtZSBvclxuICAgICAqICAgLnRyYWNrU2lkIGluc3RlYWRcbiAgICAgKi9cblxuXG4gICAgX2NyZWF0ZUNsYXNzKFJlbW90ZU1lZGlhVHJhY2ssIFt7XG4gICAgICBrZXk6ICdfc2V0RW5hYmxlZCcsXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBpc0VuYWJsZWRcbiAgICAgICAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRFbmFibGVkKGlzRW5hYmxlZCkge1xuICAgICAgICBpZiAodGhpcy5faXNFbmFibGVkICE9PSBpc0VuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLl9pc0VuYWJsZWQgPSBpc0VuYWJsZWQ7XG4gICAgICAgICAgdGhpcy5lbWl0KHRoaXMuX2lzRW5hYmxlZCA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCcsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqIEBwYXJhbSB7VHJhY2suU0lEfSBzaWRcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiAnX3NldFNpZCcsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldFNpZChzaWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zaWQpIHtcbiAgICAgICAgICB0aGlzLl9zaWQgPSBzaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6ICdfdW5zdWJzY3JpYmUnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF91bnN1YnNjcmliZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzU3Vic2NyaWJlZCkge1xuICAgICAgICAgIHRoaXMuX2lzU3Vic2NyaWJlZCA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMuZW1pdCgndW5zdWJzY3JpYmVkJywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdpZCcsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgdGhpcy5fbG9nLmRlcHJlY2F0ZWQoJ1JlbW90ZU1lZGlhVHJhY2sjaWQgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgaXMgJyArICdzY2hlZHVsZWQgZm9yIHJlbW92YWwgaW4gdHdpbGlvLXZpZGVvLmpzQDIuMC4wLiBVc2UgdGhlIHBhcmVudCAnICsgJ1JlbW90ZVRyYWNrUHVibGljYXRpb25cXCdzIC50cmFja05hbWUgb3IgLnRyYWNrU2lkIGluc3RlYWQuJyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBXaGV0aGVyIHRoZSB7QGxpbmsgUmVtb3RlTWVkaWFUcmFja30gaXMgZW5hYmxlZFxuICAgICAgICogQHByb3BlcnR5IHtib29sZWFufVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6ICdpc0VuYWJsZWQnLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0VuYWJsZWQ7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogV2hldGhlciB0aGUge0BsaW5rIFJlbW90ZU1lZGlhVHJhY2t9IGlzIHN1YnNjcmliZWQgdG9cbiAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn1cbiAgICAgICAqIEBkZXByZWNhdGVkIFVzZSB0aGUgcGFyZW50IHtAbGluayBSZW1vdGVUcmFja1B1YmxpY2F0aW9ufSdzIC5pc1N1YnNjcmliZWRcbiAgICAgICAqICAgaW5zdGVhZFxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6ICdpc1N1YnNjcmliZWQnLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHRoaXMuX2xvZy5kZXByZWNhdGVkKCdSZW1vdGVNZWRpYVRyYWNrI2lzU3Vic2NyaWJlZCBoYXMgYmVlbiBkZXByZWNhdGVkIGFuZCBpcyAnICsgJ3NjaGVkdWxlZCBmb3IgcmVtb3ZhbCBpbiB0d2lsaW8tdmlkZW8uanNAMi4wLjAuIFVzZSB0aGUgJyArICdwYXJlbnQgUmVtb3RlVHJhY2tQdWJsaWNhdGlvblxcJ3MgLmlzU3Vic2NyaWJlZCBpbnN0ZWFkLicpO1xuICAgICAgICByZXR1cm4gdGhpcy5faXNTdWJzY3JpYmVkO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBTSUQgYXNzaWduZWQgdG8gdGhlIHtAbGluayBSZW1vdGVNZWRpYVRyYWNrfVxuICAgICAgICogQHByb3BlcnR5IHtUcmFjay5TSUR9XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogJ3NpZCcsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpZDtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUmVtb3RlTWVkaWFUcmFjaztcbiAgfShBdWRpb09yVmlkZW9UcmFjayk7XG59XG5cbi8qKlxuICogQSB7QGxpbmsgUmVtb3RlTWVkaWFUcmFja30gd2FzIGRpc2FibGVkLlxuICogQHBhcmFtIHtSZW1vdGVNZWRpYVRyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgUmVtb3RlTWVkaWFUcmFja30gdGhhdCB3YXNcbiAqICAgZGlzYWJsZWRcbiAqIEBldmVudCBSZW1vdGVNZWRpYVRyYWNrI2Rpc2FibGVkXG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBSZW1vdGVNZWRpYVRyYWNrfSB3YXMgZW5hYmxlZC5cbiAqIEBwYXJhbSB7UmVtb3RlTWVkaWFUcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIFJlbW90ZU1lZGlhVHJhY2t9IHRoYXQgd2FzXG4gKiAgIGVuYWJsZWRcbiAqIEBldmVudCBSZW1vdGVNZWRpYVRyYWNrI2VuYWJsZWRcbiAqL1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgUmVtb3RlTWVkaWFUcmFja30gd2FzIHVuc3Vic2NyaWJlZCBmcm9tLlxuICogQGV2ZW50IFJlbW90ZU1lZGlhVHJhY2sjdW5zdWJzY3JpYmVkXG4gKiBAcGFyYW0ge1JlbW90ZU1lZGlhVHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBSZW1vdGVNZWRpYVRyYWNrfSB0aGF0IHdhc1xuICogICB1bnN1YnNjcmliZWQgZnJvbVxuICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBwYXJlbnQge0BsaW5rIFJlbW90ZVRyYWNrUHVibGljYXRpb259J3MgXCJ1bnN1YnNjcmliZWRcIlxuICogICBldmVudCBpbnN0ZWFkXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBtaXhpblJlbW90ZU1lZGlhVHJhY2s7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9yZW1vdGVtZWRpYXRyYWNrLmpzXG4vLyBtb2R1bGUgaWQgPSAyNDRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///244\n");

/***/ }),
/* 245 */
/*!***********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/trackpublication.js ***!
  \***********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _require = __webpack_require__(/*! events */ 207),\n    EventEmitter = _require.EventEmitter;\n\nvar _require2 = __webpack_require__(/*! ../../util */ 206),\n    buildLogLevels = _require2.buildLogLevels;\n\nvar _require3 = __webpack_require__(/*! ../../util/constants */ 208),\n    DEFAULT_LOG_LEVEL = _require3.DEFAULT_LOG_LEVEL;\n\nvar Log = __webpack_require__(/*! ../../util/log */ 214);\nvar nInstances = 0;\n\n/**\n * A {@link TrackPublication} represents a {@link Track} that\n * has been published to a {@link Room}.\n * @property {string} trackName - the published {@link Track}'s name\n * @property {Track.SID} trackSid - SID assigned to the published {@link Track}\n * @emits TrackPublication#trackDisabled\n * @emits TrackPublication#trackEnabled\n */\n\nvar TrackPublication = function (_EventEmitter) {\n  _inherits(TrackPublication, _EventEmitter);\n\n  /**\n   * Construct a {@link TrackPublication}.\n   * @param {string} trackName - the published {@link Track}'s name\n   * @param {Track.SID} trackSid - SID assigned to the {@link Track}\n   * @param {TrackPublicationOptions} options - {@link TrackPublication} options\n   */\n  function TrackPublication(trackName, trackSid, options) {\n    _classCallCheck(this, TrackPublication);\n\n    var _this = _possibleConstructorReturn(this, (TrackPublication.__proto__ || Object.getPrototypeOf(TrackPublication)).call(this));\n\n    options = Object.assign({\n      logLevel: DEFAULT_LOG_LEVEL\n    }, options);\n\n    var logLevels = buildLogLevels(options.logLevel);\n\n    Object.defineProperties(_this, {\n      _instanceId: {\n        value: nInstances++\n      },\n      _log: {\n        value: options.log || new Log('default', _this, logLevels)\n      },\n      trackName: {\n        value: trackName\n      },\n      trackSid: {\n        value: trackSid\n      }\n    });\n    return _this;\n  }\n\n  _createClass(TrackPublication, [{\n    key: 'toString',\n    value: function toString() {\n      return '[TrackPublication #' + this._instanceId + ': ' + this.trackSid + ']';\n    }\n  }]);\n\n  return TrackPublication;\n}(EventEmitter);\n\n/**\n * The published {@link Track} was disabled.\n * @event TrackPublication#trackDisabled\n */\n\n/**\n * The published {@link Track} was enabled.\n * @event TrackPublication#trackEnabled\n */\n\n/**\n * A {@link LocalAudioTrackPublication} or a {@link RemoteAudioTrackPublication}.\n * @typedef {LocalAudioTrackPublication|RemoteAudioTrackPublication} AudioTrackPublication\n */\n\n/**\n * A {@link LocalDataTrackPublication} or a {@link RemoteDataTrackPublication}.\n * @typedef {LocalDataTrackPublication|RemoteDataTrackPublication} DataTrackPublication\n */\n\n/**\n * A {@link LocalVideoTrackPublication} or a {@link RemoteVideoTrackPublication}.\n * @typedef {LocalVideoTrackPublication|RemoteVideoTrackPublication} VideoTrackPublication\n */\n\n/**\n * {@link TrackPublication} options\n * @typedef {object} TrackPublicationOptions\n * @property {LogLevel|LogLevels} logLevel - Log level for 'media' modules\n */\n\nmodule.exports = TrackPublication;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay90cmFja3B1YmxpY2F0aW9uLmpzPzQxNmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsZUFBZSxtQkFBTyxDQUFDLGlCQUFRO0FBQy9COztBQUVBLGdCQUFnQixtQkFBTyxDQUFDLHFCQUFZO0FBQ3BDOztBQUVBLGdCQUFnQixtQkFBTyxDQUFDLCtCQUFzQjtBQUM5Qzs7QUFFQSxVQUFVLG1CQUFPLENBQUMseUJBQWdCO0FBQ2xDOztBQUVBO0FBQ0EsTUFBTSx1QkFBdUIsZUFBZSxZQUFZO0FBQ3hELDRCQUE0QixXQUFXO0FBQ3ZDLGNBQWMsT0FBTyw0QkFBNEIsWUFBWTtBQUM3RCxjQUFjLFVBQVUsMkNBQTJDO0FBQ25FO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHVCQUF1QjtBQUN6QyxhQUFhLE9BQU8sNEJBQTRCLFlBQVk7QUFDNUQsYUFBYSxVQUFVLGlDQUFpQztBQUN4RCxhQUFhLHdCQUF3QixZQUFZLHVCQUF1QjtBQUN4RTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTs7QUFFQTtBQUNBLE1BQU0saUNBQWlDLE9BQU8sa0NBQWtDO0FBQ2hGLGFBQWEsdURBQXVEO0FBQ3BFOztBQUVBO0FBQ0EsTUFBTSxnQ0FBZ0MsT0FBTyxpQ0FBaUM7QUFDOUUsYUFBYSxxREFBcUQ7QUFDbEU7O0FBRUE7QUFDQSxNQUFNLGlDQUFpQyxPQUFPLGtDQUFrQztBQUNoRixhQUFhLHVEQUF1RDtBQUNwRTs7QUFFQTtBQUNBLElBQUksdUJBQXVCO0FBQzNCLGFBQWEsT0FBTztBQUNwQixjQUFjLG1CQUFtQjtBQUNqQzs7QUFFQSIsImZpbGUiOiIyNDUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnZXZlbnRzJyksXG4gICAgRXZlbnRFbWl0dGVyID0gX3JlcXVpcmUuRXZlbnRFbWl0dGVyO1xuXG52YXIgX3JlcXVpcmUyID0gcmVxdWlyZSgnLi4vLi4vdXRpbCcpLFxuICAgIGJ1aWxkTG9nTGV2ZWxzID0gX3JlcXVpcmUyLmJ1aWxkTG9nTGV2ZWxzO1xuXG52YXIgX3JlcXVpcmUzID0gcmVxdWlyZSgnLi4vLi4vdXRpbC9jb25zdGFudHMnKSxcbiAgICBERUZBVUxUX0xPR19MRVZFTCA9IF9yZXF1aXJlMy5ERUZBVUxUX0xPR19MRVZFTDtcblxudmFyIExvZyA9IHJlcXVpcmUoJy4uLy4uL3V0aWwvbG9nJyk7XG52YXIgbkluc3RhbmNlcyA9IDA7XG5cbi8qKlxuICogQSB7QGxpbmsgVHJhY2tQdWJsaWNhdGlvbn0gcmVwcmVzZW50cyBhIHtAbGluayBUcmFja30gdGhhdFxuICogaGFzIGJlZW4gcHVibGlzaGVkIHRvIGEge0BsaW5rIFJvb219LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHRyYWNrTmFtZSAtIHRoZSBwdWJsaXNoZWQge0BsaW5rIFRyYWNrfSdzIG5hbWVcbiAqIEBwcm9wZXJ0eSB7VHJhY2suU0lEfSB0cmFja1NpZCAtIFNJRCBhc3NpZ25lZCB0byB0aGUgcHVibGlzaGVkIHtAbGluayBUcmFja31cbiAqIEBlbWl0cyBUcmFja1B1YmxpY2F0aW9uI3RyYWNrRGlzYWJsZWRcbiAqIEBlbWl0cyBUcmFja1B1YmxpY2F0aW9uI3RyYWNrRW5hYmxlZFxuICovXG5cbnZhciBUcmFja1B1YmxpY2F0aW9uID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgX2luaGVyaXRzKFRyYWNrUHVibGljYXRpb24sIF9FdmVudEVtaXR0ZXIpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgVHJhY2tQdWJsaWNhdGlvbn0uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFja05hbWUgLSB0aGUgcHVibGlzaGVkIHtAbGluayBUcmFja30ncyBuYW1lXG4gICAqIEBwYXJhbSB7VHJhY2suU0lEfSB0cmFja1NpZCAtIFNJRCBhc3NpZ25lZCB0byB0aGUge0BsaW5rIFRyYWNrfVxuICAgKiBAcGFyYW0ge1RyYWNrUHVibGljYXRpb25PcHRpb25zfSBvcHRpb25zIC0ge0BsaW5rIFRyYWNrUHVibGljYXRpb259IG9wdGlvbnNcbiAgICovXG4gIGZ1bmN0aW9uIFRyYWNrUHVibGljYXRpb24odHJhY2tOYW1lLCB0cmFja1NpZCwgb3B0aW9ucykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFja1B1YmxpY2F0aW9uKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUcmFja1B1YmxpY2F0aW9uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVHJhY2tQdWJsaWNhdGlvbikpLmNhbGwodGhpcykpO1xuXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgbG9nTGV2ZWw6IERFRkFVTFRfTE9HX0xFVkVMXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICB2YXIgbG9nTGV2ZWxzID0gYnVpbGRMb2dMZXZlbHMob3B0aW9ucy5sb2dMZXZlbCk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgX2luc3RhbmNlSWQ6IHtcbiAgICAgICAgdmFsdWU6IG5JbnN0YW5jZXMrK1xuICAgICAgfSxcbiAgICAgIF9sb2c6IHtcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMubG9nIHx8IG5ldyBMb2coJ2RlZmF1bHQnLCBfdGhpcywgbG9nTGV2ZWxzKVxuICAgICAgfSxcbiAgICAgIHRyYWNrTmFtZToge1xuICAgICAgICB2YWx1ZTogdHJhY2tOYW1lXG4gICAgICB9LFxuICAgICAgdHJhY2tTaWQ6IHtcbiAgICAgICAgdmFsdWU6IHRyYWNrU2lkXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRyYWNrUHVibGljYXRpb24sIFt7XG4gICAga2V5OiAndG9TdHJpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiAnW1RyYWNrUHVibGljYXRpb24gIycgKyB0aGlzLl9pbnN0YW5jZUlkICsgJzogJyArIHRoaXMudHJhY2tTaWQgKyAnXSc7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRyYWNrUHVibGljYXRpb247XG59KEV2ZW50RW1pdHRlcik7XG5cbi8qKlxuICogVGhlIHB1Ymxpc2hlZCB7QGxpbmsgVHJhY2t9IHdhcyBkaXNhYmxlZC5cbiAqIEBldmVudCBUcmFja1B1YmxpY2F0aW9uI3RyYWNrRGlzYWJsZWRcbiAqL1xuXG4vKipcbiAqIFRoZSBwdWJsaXNoZWQge0BsaW5rIFRyYWNrfSB3YXMgZW5hYmxlZC5cbiAqIEBldmVudCBUcmFja1B1YmxpY2F0aW9uI3RyYWNrRW5hYmxlZFxuICovXG5cbi8qKlxuICogQSB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrUHVibGljYXRpb259IG9yIGEge0BsaW5rIFJlbW90ZUF1ZGlvVHJhY2tQdWJsaWNhdGlvbn0uXG4gKiBAdHlwZWRlZiB7TG9jYWxBdWRpb1RyYWNrUHVibGljYXRpb258UmVtb3RlQXVkaW9UcmFja1B1YmxpY2F0aW9ufSBBdWRpb1RyYWNrUHVibGljYXRpb25cbiAqL1xuXG4vKipcbiAqIEEge0BsaW5rIExvY2FsRGF0YVRyYWNrUHVibGljYXRpb259IG9yIGEge0BsaW5rIFJlbW90ZURhdGFUcmFja1B1YmxpY2F0aW9ufS5cbiAqIEB0eXBlZGVmIHtMb2NhbERhdGFUcmFja1B1YmxpY2F0aW9ufFJlbW90ZURhdGFUcmFja1B1YmxpY2F0aW9ufSBEYXRhVHJhY2tQdWJsaWNhdGlvblxuICovXG5cbi8qKlxuICogQSB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrUHVibGljYXRpb259IG9yIGEge0BsaW5rIFJlbW90ZVZpZGVvVHJhY2tQdWJsaWNhdGlvbn0uXG4gKiBAdHlwZWRlZiB7TG9jYWxWaWRlb1RyYWNrUHVibGljYXRpb258UmVtb3RlVmlkZW9UcmFja1B1YmxpY2F0aW9ufSBWaWRlb1RyYWNrUHVibGljYXRpb25cbiAqL1xuXG4vKipcbiAqIHtAbGluayBUcmFja1B1YmxpY2F0aW9ufSBvcHRpb25zXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBUcmFja1B1YmxpY2F0aW9uT3B0aW9uc1xuICogQHByb3BlcnR5IHtMb2dMZXZlbHxMb2dMZXZlbHN9IGxvZ0xldmVsIC0gTG9nIGxldmVsIGZvciAnbWVkaWEnIG1vZHVsZXNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRyYWNrUHVibGljYXRpb247XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay90cmFja3B1YmxpY2F0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAyNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///245\n");

/***/ }),
/* 246 */
/*!************************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/statsreport.js ***!
  \************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LocalAudioTrackStats = __webpack_require__(/*! ./localaudiotrackstats */ 292);\nvar LocalVideoTrackStats = __webpack_require__(/*! ./localvideotrackstats */ 293);\nvar RemoteAudioTrackStats = __webpack_require__(/*! ./remoteaudiotrackstats */ 294);\nvar RemoteVideoTrackStats = __webpack_require__(/*! ./remotevideotrackstats */ 295);\n\n/**\n * Statistics report for an RTCPeerConnection.\n * @property {string} peerConnectionId - ID of the RTCPeerConnection\n * @property {Array<LocalAudioTrackStats>} localAudioTrackStats - List of {@link LocalAudioTrackStats}\n * @property {Array<LocalVideoTrackStats>} localVideoTrackStats - List of {@link LocalVideoTrackStats}\n * @property {Array<RemoteAudioTrackStats>} remoteAudioTrackStats - List of {@link RemoteAudioTrackStats}\n * @property {Array<RemoteVideoTrackStats>} remoteVideoTrackStats - List of {@link RemoteVideoTrackStats}\n */\n\nvar StatsReport =\n/**\n * @param {string} peerConnectionId - RTCPeerConnection ID\n * @param {StandardizedStatsResponse} statsResponse\n */\nfunction StatsReport(peerConnectionId, statsResponse) {\n  _classCallCheck(this, StatsReport);\n\n  if (typeof peerConnectionId !== 'string') {\n    throw new Error('RTCPeerConnection id must be a string');\n  }\n\n  Object.defineProperties(this, {\n    peerConnectionId: {\n      value: peerConnectionId,\n      enumerable: true\n    },\n    localAudioTrackStats: {\n      value: statsResponse.localAudioTrackStats.map(function (report) {\n        return new LocalAudioTrackStats(report.trackId, report);\n      }),\n      enumerable: true\n    },\n    localVideoTrackStats: {\n      value: statsResponse.localVideoTrackStats.map(function (report) {\n        return new LocalVideoTrackStats(report.trackId, report);\n      }),\n      enumerable: true\n    },\n    remoteAudioTrackStats: {\n      value: statsResponse.remoteAudioTrackStats.map(function (report) {\n        return new RemoteAudioTrackStats(report.trackId, report);\n      }),\n      enumerable: true\n    },\n    remoteVideoTrackStats: {\n      value: statsResponse.remoteVideoTrackStats.map(function (report) {\n        return new RemoteVideoTrackStats(report.trackId, report);\n      }),\n      enumerable: true\n    }\n  });\n};\n\nmodule.exports = StatsReport;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9zdGF0c3JlcG9ydC5qcz85MjUzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLDJCQUEyQixtQkFBTyxDQUFDLGlDQUF3QjtBQUMzRCwyQkFBMkIsbUJBQU8sQ0FBQyxpQ0FBd0I7QUFDM0QsNEJBQTRCLG1CQUFPLENBQUMsa0NBQXlCO0FBQzdELDRCQUE0QixtQkFBTyxDQUFDLGtDQUF5Qjs7QUFFN0Q7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLDRCQUE0QixpQ0FBaUM7QUFDM0UsY0FBYyw0QkFBNEIsaUNBQWlDO0FBQzNFLGNBQWMsNkJBQTZCLGtDQUFrQztBQUM3RSxjQUFjLDZCQUE2QixrQ0FBa0M7QUFDN0U7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLDBCQUEwQjtBQUNyQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBIiwiZmlsZSI6IjI0Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIExvY2FsQXVkaW9UcmFja1N0YXRzID0gcmVxdWlyZSgnLi9sb2NhbGF1ZGlvdHJhY2tzdGF0cycpO1xudmFyIExvY2FsVmlkZW9UcmFja1N0YXRzID0gcmVxdWlyZSgnLi9sb2NhbHZpZGVvdHJhY2tzdGF0cycpO1xudmFyIFJlbW90ZUF1ZGlvVHJhY2tTdGF0cyA9IHJlcXVpcmUoJy4vcmVtb3RlYXVkaW90cmFja3N0YXRzJyk7XG52YXIgUmVtb3RlVmlkZW9UcmFja1N0YXRzID0gcmVxdWlyZSgnLi9yZW1vdGV2aWRlb3RyYWNrc3RhdHMnKTtcblxuLyoqXG4gKiBTdGF0aXN0aWNzIHJlcG9ydCBmb3IgYW4gUlRDUGVlckNvbm5lY3Rpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcGVlckNvbm5lY3Rpb25JZCAtIElEIG9mIHRoZSBSVENQZWVyQ29ubmVjdGlvblxuICogQHByb3BlcnR5IHtBcnJheTxMb2NhbEF1ZGlvVHJhY2tTdGF0cz59IGxvY2FsQXVkaW9UcmFja1N0YXRzIC0gTGlzdCBvZiB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrU3RhdHN9XG4gKiBAcHJvcGVydHkge0FycmF5PExvY2FsVmlkZW9UcmFja1N0YXRzPn0gbG9jYWxWaWRlb1RyYWNrU3RhdHMgLSBMaXN0IG9mIHtAbGluayBMb2NhbFZpZGVvVHJhY2tTdGF0c31cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8UmVtb3RlQXVkaW9UcmFja1N0YXRzPn0gcmVtb3RlQXVkaW9UcmFja1N0YXRzIC0gTGlzdCBvZiB7QGxpbmsgUmVtb3RlQXVkaW9UcmFja1N0YXRzfVxuICogQHByb3BlcnR5IHtBcnJheTxSZW1vdGVWaWRlb1RyYWNrU3RhdHM+fSByZW1vdGVWaWRlb1RyYWNrU3RhdHMgLSBMaXN0IG9mIHtAbGluayBSZW1vdGVWaWRlb1RyYWNrU3RhdHN9XG4gKi9cblxudmFyIFN0YXRzUmVwb3J0ID1cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHBlZXJDb25uZWN0aW9uSWQgLSBSVENQZWVyQ29ubmVjdGlvbiBJRFxuICogQHBhcmFtIHtTdGFuZGFyZGl6ZWRTdGF0c1Jlc3BvbnNlfSBzdGF0c1Jlc3BvbnNlXG4gKi9cbmZ1bmN0aW9uIFN0YXRzUmVwb3J0KHBlZXJDb25uZWN0aW9uSWQsIHN0YXRzUmVzcG9uc2UpIHtcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0YXRzUmVwb3J0KTtcblxuICBpZiAodHlwZW9mIHBlZXJDb25uZWN0aW9uSWQgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSVENQZWVyQ29ubmVjdGlvbiBpZCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gIH1cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgcGVlckNvbm5lY3Rpb25JZDoge1xuICAgICAgdmFsdWU6IHBlZXJDb25uZWN0aW9uSWQsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBsb2NhbEF1ZGlvVHJhY2tTdGF0czoge1xuICAgICAgdmFsdWU6IHN0YXRzUmVzcG9uc2UubG9jYWxBdWRpb1RyYWNrU3RhdHMubWFwKGZ1bmN0aW9uIChyZXBvcnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMb2NhbEF1ZGlvVHJhY2tTdGF0cyhyZXBvcnQudHJhY2tJZCwgcmVwb3J0KTtcbiAgICAgIH0pLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgbG9jYWxWaWRlb1RyYWNrU3RhdHM6IHtcbiAgICAgIHZhbHVlOiBzdGF0c1Jlc3BvbnNlLmxvY2FsVmlkZW9UcmFja1N0YXRzLm1hcChmdW5jdGlvbiAocmVwb3J0KSB7XG4gICAgICAgIHJldHVybiBuZXcgTG9jYWxWaWRlb1RyYWNrU3RhdHMocmVwb3J0LnRyYWNrSWQsIHJlcG9ydCk7XG4gICAgICB9KSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIHJlbW90ZUF1ZGlvVHJhY2tTdGF0czoge1xuICAgICAgdmFsdWU6IHN0YXRzUmVzcG9uc2UucmVtb3RlQXVkaW9UcmFja1N0YXRzLm1hcChmdW5jdGlvbiAocmVwb3J0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVtb3RlQXVkaW9UcmFja1N0YXRzKHJlcG9ydC50cmFja0lkLCByZXBvcnQpO1xuICAgICAgfSksXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICByZW1vdGVWaWRlb1RyYWNrU3RhdHM6IHtcbiAgICAgIHZhbHVlOiBzdGF0c1Jlc3BvbnNlLnJlbW90ZVZpZGVvVHJhY2tTdGF0cy5tYXAoZnVuY3Rpb24gKHJlcG9ydCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlbW90ZVZpZGVvVHJhY2tTdGF0cyhyZXBvcnQudHJhY2tJZCwgcmVwb3J0KTtcbiAgICAgIH0pLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN0YXRzUmVwb3J0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvc3RhdHMvc3RhdHNyZXBvcnQuanNcbi8vIG1vZHVsZSBpZCA9IDI0NlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///246\n");

/***/ }),
/* 247 */
/*!****************************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/localtrackstats.js ***!
  \****************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TrackStats = __webpack_require__(/*! ./trackstats */ 248);\n\n/**\n * Statistics for a {@link LocalTrack}.\n * @extends TrackStats\n * @property {?number} bytesSent - Number of bytes sent\n * @property {?number} packetsSent - Number of packets sent\n * @property {?number} roundTripTime - Round trip time in milliseconds\n */\n\nvar LocalTrackStats = function (_TrackStats) {\n  _inherits(LocalTrackStats, _TrackStats);\n\n  /**\n   * @param {string} trackId - {@link LocalTrack} ID\n   * @param {StandardizedTrackStatsReport} statsReport\n   */\n  function LocalTrackStats(trackId, statsReport) {\n    _classCallCheck(this, LocalTrackStats);\n\n    var _this = _possibleConstructorReturn(this, (LocalTrackStats.__proto__ || Object.getPrototypeOf(LocalTrackStats)).call(this, trackId, statsReport));\n\n    Object.defineProperties(_this, {\n      bytesSent: {\n        value: typeof statsReport.bytesSent === 'number' ? statsReport.bytesSent : null,\n        enumerable: true\n      },\n      packetsSent: {\n        value: typeof statsReport.packetsSent === 'number' ? statsReport.packetsSent : null,\n        enumerable: true\n      },\n      roundTripTime: {\n        value: typeof statsReport.roundTripTime === 'number' ? statsReport.roundTripTime : null,\n        enumerable: true\n      }\n    });\n    return _this;\n  }\n\n  return LocalTrackStats;\n}(TrackStats);\n\nmodule.exports = LocalTrackStats;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9sb2NhbHRyYWNrc3RhdHMuanM/ZDI0OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLGlCQUFpQixtQkFBTyxDQUFDLHVCQUFjOztBQUV2QztBQUNBLHFCQUFxQixpQkFBaUI7QUFDdEM7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSxPQUFPLFlBQVksaUJBQWlCO0FBQ2pELGFBQWEsNkJBQTZCO0FBQzFDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiMjQ3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBUcmFja1N0YXRzID0gcmVxdWlyZSgnLi90cmFja3N0YXRzJyk7XG5cbi8qKlxuICogU3RhdGlzdGljcyBmb3IgYSB7QGxpbmsgTG9jYWxUcmFja30uXG4gKiBAZXh0ZW5kcyBUcmFja1N0YXRzXG4gKiBAcHJvcGVydHkgez9udW1iZXJ9IGJ5dGVzU2VudCAtIE51bWJlciBvZiBieXRlcyBzZW50XG4gKiBAcHJvcGVydHkgez9udW1iZXJ9IHBhY2tldHNTZW50IC0gTnVtYmVyIG9mIHBhY2tldHMgc2VudFxuICogQHByb3BlcnR5IHs/bnVtYmVyfSByb3VuZFRyaXBUaW1lIC0gUm91bmQgdHJpcCB0aW1lIGluIG1pbGxpc2Vjb25kc1xuICovXG5cbnZhciBMb2NhbFRyYWNrU3RhdHMgPSBmdW5jdGlvbiAoX1RyYWNrU3RhdHMpIHtcbiAgX2luaGVyaXRzKExvY2FsVHJhY2tTdGF0cywgX1RyYWNrU3RhdHMpO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHJhY2tJZCAtIHtAbGluayBMb2NhbFRyYWNrfSBJRFxuICAgKiBAcGFyYW0ge1N0YW5kYXJkaXplZFRyYWNrU3RhdHNSZXBvcnR9IHN0YXRzUmVwb3J0XG4gICAqL1xuICBmdW5jdGlvbiBMb2NhbFRyYWNrU3RhdHModHJhY2tJZCwgc3RhdHNSZXBvcnQpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9jYWxUcmFja1N0YXRzKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMb2NhbFRyYWNrU3RhdHMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMb2NhbFRyYWNrU3RhdHMpKS5jYWxsKHRoaXMsIHRyYWNrSWQsIHN0YXRzUmVwb3J0KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgYnl0ZXNTZW50OiB7XG4gICAgICAgIHZhbHVlOiB0eXBlb2Ygc3RhdHNSZXBvcnQuYnl0ZXNTZW50ID09PSAnbnVtYmVyJyA/IHN0YXRzUmVwb3J0LmJ5dGVzU2VudCA6IG51bGwsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBwYWNrZXRzU2VudDoge1xuICAgICAgICB2YWx1ZTogdHlwZW9mIHN0YXRzUmVwb3J0LnBhY2tldHNTZW50ID09PSAnbnVtYmVyJyA/IHN0YXRzUmVwb3J0LnBhY2tldHNTZW50IDogbnVsbCxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHJvdW5kVHJpcFRpbWU6IHtcbiAgICAgICAgdmFsdWU6IHR5cGVvZiBzdGF0c1JlcG9ydC5yb3VuZFRyaXBUaW1lID09PSAnbnVtYmVyJyA/IHN0YXRzUmVwb3J0LnJvdW5kVHJpcFRpbWUgOiBudWxsLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgcmV0dXJuIExvY2FsVHJhY2tTdGF0cztcbn0oVHJhY2tTdGF0cyk7XG5cbm1vZHVsZS5leHBvcnRzID0gTG9jYWxUcmFja1N0YXRzO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvc3RhdHMvbG9jYWx0cmFja3N0YXRzLmpzXG4vLyBtb2R1bGUgaWQgPSAyNDdcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///247\n");

/***/ }),
/* 248 */
/*!***********************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/trackstats.js ***!
  \***********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Statistics for a {@link Track}.\n * @property {Track.ID} trackId - The {@link Track} ID\n * @property {Track.SID} trackSid - The {@link Track}'s SID when published in\n *  in a {@link Room}\n * @property {number} timestamp - A Unix timestamp in milliseconds indicating\n *   when the {@link TrackStats} were gathered\n * @property {string} ssrc - The {@link Track}'s SSRC when transmitted over the\n *   RTCPeerConnection\n * @property {?number} packetsLost - The number of packets lost\n * @property {?string} codec - The name of the codec used to encode the\n *   {@link Track}'s media\n */\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TrackStats =\n/**\n * @param {string} trackId - {@link Track} ID\n * @param {StandardizedTrackStatsReport} statsReport\n */\nfunction TrackStats(trackId, statsReport) {\n  _classCallCheck(this, TrackStats);\n\n  if (typeof trackId !== 'string') {\n    throw new Error('Track id must be a string');\n  }\n\n  Object.defineProperties(this, {\n    trackId: {\n      value: trackId,\n      enumerable: true\n    },\n    trackSid: {\n      value: statsReport.trackSid,\n      enumerable: true\n    },\n    timestamp: {\n      value: statsReport.timestamp,\n      enumerable: true\n    },\n    ssrc: {\n      value: statsReport.ssrc,\n      enumerable: true\n    },\n    packetsLost: {\n      value: typeof statsReport.packetsLost === 'number' ? statsReport.packetsLost : null,\n      enumerable: true\n    },\n    codec: {\n      value: typeof statsReport.codecName === 'string' ? statsReport.codecName : null,\n      enumerable: true\n    }\n  });\n};\n\nmodule.exports = TrackStats;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy90cmFja3N0YXRzLmpzP2NmMGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQSxxQkFBcUIsWUFBWTtBQUNqQyxjQUFjLFNBQVMsZ0JBQWdCLFlBQVk7QUFDbkQsY0FBYyxVQUFVLGlCQUFpQixZQUFZO0FBQ3JELFVBQVU7QUFDVixjQUFjLE9BQU87QUFDckIsZUFBZSxpQkFBaUI7QUFDaEMsY0FBYyxPQUFPLGFBQWEsWUFBWTtBQUM5QztBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsTUFBTSxZQUFZO0FBQ2xCOztBQUVBLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKO0FBQ0E7QUFDQSxXQUFXLE9BQU8sWUFBWSxZQUFZO0FBQzFDLFdBQVcsNkJBQTZCO0FBQ3hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBIiwiZmlsZSI6IjI0OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTdGF0aXN0aWNzIGZvciBhIHtAbGluayBUcmFja30uXG4gKiBAcHJvcGVydHkge1RyYWNrLklEfSB0cmFja0lkIC0gVGhlIHtAbGluayBUcmFja30gSURcbiAqIEBwcm9wZXJ0eSB7VHJhY2suU0lEfSB0cmFja1NpZCAtIFRoZSB7QGxpbmsgVHJhY2t9J3MgU0lEIHdoZW4gcHVibGlzaGVkIGluXG4gKiAgaW4gYSB7QGxpbmsgUm9vbX1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lc3RhbXAgLSBBIFVuaXggdGltZXN0YW1wIGluIG1pbGxpc2Vjb25kcyBpbmRpY2F0aW5nXG4gKiAgIHdoZW4gdGhlIHtAbGluayBUcmFja1N0YXRzfSB3ZXJlIGdhdGhlcmVkXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc3NyYyAtIFRoZSB7QGxpbmsgVHJhY2t9J3MgU1NSQyB3aGVuIHRyYW5zbWl0dGVkIG92ZXIgdGhlXG4gKiAgIFJUQ1BlZXJDb25uZWN0aW9uXG4gKiBAcHJvcGVydHkgez9udW1iZXJ9IHBhY2tldHNMb3N0IC0gVGhlIG51bWJlciBvZiBwYWNrZXRzIGxvc3RcbiAqIEBwcm9wZXJ0eSB7P3N0cmluZ30gY29kZWMgLSBUaGUgbmFtZSBvZiB0aGUgY29kZWMgdXNlZCB0byBlbmNvZGUgdGhlXG4gKiAgIHtAbGluayBUcmFja30ncyBtZWRpYVxuICovXG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBUcmFja1N0YXRzID1cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHRyYWNrSWQgLSB7QGxpbmsgVHJhY2t9IElEXG4gKiBAcGFyYW0ge1N0YW5kYXJkaXplZFRyYWNrU3RhdHNSZXBvcnR9IHN0YXRzUmVwb3J0XG4gKi9cbmZ1bmN0aW9uIFRyYWNrU3RhdHModHJhY2tJZCwgc3RhdHNSZXBvcnQpIHtcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYWNrU3RhdHMpO1xuXG4gIGlmICh0eXBlb2YgdHJhY2tJZCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYWNrIGlkIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICB0cmFja0lkOiB7XG4gICAgICB2YWx1ZTogdHJhY2tJZCxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIHRyYWNrU2lkOiB7XG4gICAgICB2YWx1ZTogc3RhdHNSZXBvcnQudHJhY2tTaWQsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICB0aW1lc3RhbXA6IHtcbiAgICAgIHZhbHVlOiBzdGF0c1JlcG9ydC50aW1lc3RhbXAsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBzc3JjOiB7XG4gICAgICB2YWx1ZTogc3RhdHNSZXBvcnQuc3NyYyxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIHBhY2tldHNMb3N0OiB7XG4gICAgICB2YWx1ZTogdHlwZW9mIHN0YXRzUmVwb3J0LnBhY2tldHNMb3N0ID09PSAnbnVtYmVyJyA/IHN0YXRzUmVwb3J0LnBhY2tldHNMb3N0IDogbnVsbCxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIGNvZGVjOiB7XG4gICAgICB2YWx1ZTogdHlwZW9mIHN0YXRzUmVwb3J0LmNvZGVjTmFtZSA9PT0gJ3N0cmluZycgPyBzdGF0c1JlcG9ydC5jb2RlY05hbWUgOiBudWxsLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRyYWNrU3RhdHM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy90cmFja3N0YXRzLmpzXG4vLyBtb2R1bGUgaWQgPSAyNDhcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///248\n");

/***/ }),
/* 249 */
/*!*****************************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/remotetrackstats.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TrackStats = __webpack_require__(/*! ./trackstats */ 248);\n\n/**\n * Statistics for a remote {@link Track}.\n * @extends TrackStats\n * @property {?number} bytesReceived - Number of bytes received\n * @property {?number} packetsReceived - Number of packets received\n */\n\nvar RemoteTrackStats = function (_TrackStats) {\n  _inherits(RemoteTrackStats, _TrackStats);\n\n  /*\n   * @param {string} trackId - {@link Track} ID\n   * @param {StandardizedTrackStatsReport} statsReport\n   */\n  function RemoteTrackStats(trackId, statsReport) {\n    _classCallCheck(this, RemoteTrackStats);\n\n    var _this = _possibleConstructorReturn(this, (RemoteTrackStats.__proto__ || Object.getPrototypeOf(RemoteTrackStats)).call(this, trackId, statsReport));\n\n    Object.defineProperties(_this, {\n      bytesReceived: {\n        value: typeof statsReport.bytesReceived === 'number' ? statsReport.bytesReceived : null,\n        enumerable: true\n      },\n      packetsReceived: {\n        value: typeof statsReport.packetsReceived === 'number' ? statsReport.packetsReceived : null,\n        enumerable: true\n      }\n    });\n    return _this;\n  }\n\n  return RemoteTrackStats;\n}(TrackStats);\n\nmodule.exports = RemoteTrackStats;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9yZW1vdGV0cmFja3N0YXRzLmpzP2IwNWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSxpQkFBaUIsbUJBQU8sQ0FBQyx1QkFBYzs7QUFFdkM7QUFDQSw0QkFBNEIsWUFBWTtBQUN4QztBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGFBQWEsT0FBTyxZQUFZLFlBQVk7QUFDNUMsYUFBYSw2QkFBNkI7QUFDMUM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjI0OS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgVHJhY2tTdGF0cyA9IHJlcXVpcmUoJy4vdHJhY2tzdGF0cycpO1xuXG4vKipcbiAqIFN0YXRpc3RpY3MgZm9yIGEgcmVtb3RlIHtAbGluayBUcmFja30uXG4gKiBAZXh0ZW5kcyBUcmFja1N0YXRzXG4gKiBAcHJvcGVydHkgez9udW1iZXJ9IGJ5dGVzUmVjZWl2ZWQgLSBOdW1iZXIgb2YgYnl0ZXMgcmVjZWl2ZWRcbiAqIEBwcm9wZXJ0eSB7P251bWJlcn0gcGFja2V0c1JlY2VpdmVkIC0gTnVtYmVyIG9mIHBhY2tldHMgcmVjZWl2ZWRcbiAqL1xuXG52YXIgUmVtb3RlVHJhY2tTdGF0cyA9IGZ1bmN0aW9uIChfVHJhY2tTdGF0cykge1xuICBfaW5oZXJpdHMoUmVtb3RlVHJhY2tTdGF0cywgX1RyYWNrU3RhdHMpO1xuXG4gIC8qXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFja0lkIC0ge0BsaW5rIFRyYWNrfSBJRFxuICAgKiBAcGFyYW0ge1N0YW5kYXJkaXplZFRyYWNrU3RhdHNSZXBvcnR9IHN0YXRzUmVwb3J0XG4gICAqL1xuICBmdW5jdGlvbiBSZW1vdGVUcmFja1N0YXRzKHRyYWNrSWQsIHN0YXRzUmVwb3J0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbW90ZVRyYWNrU3RhdHMpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJlbW90ZVRyYWNrU3RhdHMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSZW1vdGVUcmFja1N0YXRzKSkuY2FsbCh0aGlzLCB0cmFja0lkLCBzdGF0c1JlcG9ydCkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX3RoaXMsIHtcbiAgICAgIGJ5dGVzUmVjZWl2ZWQ6IHtcbiAgICAgICAgdmFsdWU6IHR5cGVvZiBzdGF0c1JlcG9ydC5ieXRlc1JlY2VpdmVkID09PSAnbnVtYmVyJyA/IHN0YXRzUmVwb3J0LmJ5dGVzUmVjZWl2ZWQgOiBudWxsLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICB9LFxuICAgICAgcGFja2V0c1JlY2VpdmVkOiB7XG4gICAgICAgIHZhbHVlOiB0eXBlb2Ygc3RhdHNSZXBvcnQucGFja2V0c1JlY2VpdmVkID09PSAnbnVtYmVyJyA/IHN0YXRzUmVwb3J0LnBhY2tldHNSZWNlaXZlZCA6IG51bGwsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICByZXR1cm4gUmVtb3RlVHJhY2tTdGF0cztcbn0oVHJhY2tTdGF0cyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVtb3RlVHJhY2tTdGF0cztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3N0YXRzL3JlbW90ZXRyYWNrc3RhdHMuanNcbi8vIG1vZHVsZSBpZCA9IDI0OVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///249\n");

/***/ }),
/* 250 */
/*!***************************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/receiverreport.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar average = __webpack_require__(/*! ./average */ 251);\nvar SenderOrReceiverReport = __webpack_require__(/*! ./senderorreceiverreport */ 252);\nvar sum = __webpack_require__(/*! ./sum */ 253);\n\n/**\n * @interface ReceiverSummary\n * @property {number} bitrate\n * @property {number} fractionLost - 0–1\n * @property {number} [jitter] - s (undefined for video tracks in Chrome)\n */\n\n/**\n * @extends SenderOrReceiverReport\n * @property {number} deltaPacketsLost\n * @property {number} deltaPacketsReceived\n * @property {number} [fractionLost] - 0–1 (undefined in Firefox)\n * @property {number} [jitter] - s (undefined for video tracks in Chrome)\n * @property {number} phonyPacketsLost - 0–1\n */\n\nvar ReceiverReport = function (_SenderOrReceiverRepo) {\n  _inherits(ReceiverReport, _SenderOrReceiverRepo);\n\n  /**\n   * @param {StatsId} id\n   * @param {TrackId} trackId\n   * @param {number} bitrate - bps\n   * @param {number} deltaPacketsLost\n   * @param {number} deltaPacketsReceived\n   * @param {number} [fractionLost] - 0–1 (undefined in Firefox)\n   * @param {number} [jitter] - s (undefined for video tracks in Chrome)\n   */\n  function ReceiverReport(id, trackId, bitrate, deltaPacketsLost, deltaPacketsReceived, fractionLost, jitter) {\n    _classCallCheck(this, ReceiverReport);\n\n    var _this = _possibleConstructorReturn(this, (ReceiverReport.__proto__ || Object.getPrototypeOf(ReceiverReport)).call(this, id, trackId, bitrate));\n\n    var phonyFractionLost = deltaPacketsReceived > 0 ? deltaPacketsLost / deltaPacketsReceived : 0;\n    Object.defineProperties(_this, {\n      deltaPacketsLost: {\n        enumerable: true,\n        value: deltaPacketsLost\n      },\n      deltaPacketsReceived: {\n        enumerable: true,\n        value: deltaPacketsReceived\n      },\n      fractionLost: {\n        enumerable: true,\n        value: fractionLost\n      },\n      jitter: {\n        enumerable: true,\n        value: jitter\n      },\n      phonyFractionLost: {\n        enumerable: true,\n        value: phonyFractionLost\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * Create a {@link ReceiverReport}.\n   * @param {string} trackId\n   * @param {RTCStats} olderStats\n   * @param {RTCStats} newerStats\n   * @returns {ReceiverReport}\n   */\n\n\n  _createClass(ReceiverReport, [{\n    key: 'summarize',\n\n\n    /**\n     * Summarize the {@link ReceiveReport}.\n     * @returns {ReceiverSummary}\n     */\n    value: function summarize() {\n      return {\n        bitrate: this.bitrate,\n        fractionLost: typeof this.fractionLost === 'number' ? this.fractionLost : this.phonyFractionLost,\n        jitter: this.jitter\n      };\n    }\n  }], [{\n    key: 'of',\n    value: function of(trackId, olderStats, newerStats) {\n      if (olderStats.id !== newerStats.id) {\n        throw new Error('RTCStats IDs must match');\n      }\n      var secondsElapsed = (newerStats.timestamp - olderStats.timestamp) / 1000;\n      var deltaBytesReceived = newerStats.bytesReceived - olderStats.bytesReceived;\n      var bitrate = secondsElapsed > 0 ? deltaBytesReceived / secondsElapsed * 8 : 0;\n      var deltaPacketsLost = Math.max(newerStats.packetsLost - olderStats.packetsLost, 0);\n      var deltaPacketsReceived = newerStats.packetsReceived - olderStats.packetsReceived;\n      var fractionLost = newerStats.fractionLost,\n          jitter = newerStats.jitter;\n\n      return new ReceiverReport(olderStats.id, trackId, bitrate, deltaPacketsLost, deltaPacketsReceived, fractionLost, jitter);\n    }\n\n    /**\n     * Summarize {@link ReceiverReport}s by summing and averaging their values.\n     * @param {Array<ReceiverReport>} reports\n     * @returns {ReceiverSummary}\n     */\n\n  }, {\n    key: 'summarize',\n    value: function summarize(reports) {\n      var summaries = reports.map(function (report) {\n        return report.summarize();\n      });\n      var bitrate = sum(summaries.map(function (summary) {\n        return summary.bitrate;\n      }));\n      var fractionLost = average(summaries.map(function (summary) {\n        return summary.fractionLost;\n      }));\n      var jitter = average(summaries.map(function (summary) {\n        return summary.jitter;\n      }));\n      return {\n        bitrate: bitrate,\n        fractionLost: fractionLost,\n        jitter: jitter\n      };\n    }\n  }]);\n\n  return ReceiverReport;\n}(SenderOrReceiverReport);\n\nmodule.exports = ReceiverReport;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9yZWNlaXZlcnJlcG9ydC5qcz85N2EyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLGNBQWMsbUJBQU8sQ0FBQyxvQkFBVztBQUNqQyw2QkFBNkIsbUJBQU8sQ0FBQyxtQ0FBMEI7QUFDL0QsVUFBVSxtQkFBTyxDQUFDLGdCQUFPOztBQUV6QjtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsZUFBZSxxQkFBcUI7QUFDcEMsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsU0FBUztBQUN0QixhQUFhLFNBQVM7QUFDdEIsZUFBZTtBQUNmOzs7QUFHQTtBQUNBOzs7QUFHQTtBQUNBLHNCQUFzQixvQkFBb0I7QUFDMUMsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IscUJBQXFCO0FBQ3ZDLGVBQWUsc0JBQXNCO0FBQ3JDLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiMjUwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBhdmVyYWdlID0gcmVxdWlyZSgnLi9hdmVyYWdlJyk7XG52YXIgU2VuZGVyT3JSZWNlaXZlclJlcG9ydCA9IHJlcXVpcmUoJy4vc2VuZGVyb3JyZWNlaXZlcnJlcG9ydCcpO1xudmFyIHN1bSA9IHJlcXVpcmUoJy4vc3VtJyk7XG5cbi8qKlxuICogQGludGVyZmFjZSBSZWNlaXZlclN1bW1hcnlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBiaXRyYXRlXG4gKiBAcHJvcGVydHkge251bWJlcn0gZnJhY3Rpb25Mb3N0IC0gMOKAkzFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbaml0dGVyXSAtIHMgKHVuZGVmaW5lZCBmb3IgdmlkZW8gdHJhY2tzIGluIENocm9tZSlcbiAqL1xuXG4vKipcbiAqIEBleHRlbmRzIFNlbmRlck9yUmVjZWl2ZXJSZXBvcnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZWx0YVBhY2tldHNMb3N0XG4gKiBAcHJvcGVydHkge251bWJlcn0gZGVsdGFQYWNrZXRzUmVjZWl2ZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZnJhY3Rpb25Mb3N0XSAtIDDigJMxICh1bmRlZmluZWQgaW4gRmlyZWZveClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbaml0dGVyXSAtIHMgKHVuZGVmaW5lZCBmb3IgdmlkZW8gdHJhY2tzIGluIENocm9tZSlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwaG9ueVBhY2tldHNMb3N0IC0gMOKAkzFcbiAqL1xuXG52YXIgUmVjZWl2ZXJSZXBvcnQgPSBmdW5jdGlvbiAoX1NlbmRlck9yUmVjZWl2ZXJSZXBvKSB7XG4gIF9pbmhlcml0cyhSZWNlaXZlclJlcG9ydCwgX1NlbmRlck9yUmVjZWl2ZXJSZXBvKTtcblxuICAvKipcbiAgICogQHBhcmFtIHtTdGF0c0lkfSBpZFxuICAgKiBAcGFyYW0ge1RyYWNrSWR9IHRyYWNrSWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IGJpdHJhdGUgLSBicHNcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhUGFja2V0c0xvc3RcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhUGFja2V0c1JlY2VpdmVkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJhY3Rpb25Mb3N0XSAtIDDigJMxICh1bmRlZmluZWQgaW4gRmlyZWZveClcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtqaXR0ZXJdIC0gcyAodW5kZWZpbmVkIGZvciB2aWRlbyB0cmFja3MgaW4gQ2hyb21lKVxuICAgKi9cbiAgZnVuY3Rpb24gUmVjZWl2ZXJSZXBvcnQoaWQsIHRyYWNrSWQsIGJpdHJhdGUsIGRlbHRhUGFja2V0c0xvc3QsIGRlbHRhUGFja2V0c1JlY2VpdmVkLCBmcmFjdGlvbkxvc3QsIGppdHRlcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZWNlaXZlclJlcG9ydCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmVjZWl2ZXJSZXBvcnQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSZWNlaXZlclJlcG9ydCkpLmNhbGwodGhpcywgaWQsIHRyYWNrSWQsIGJpdHJhdGUpKTtcblxuICAgIHZhciBwaG9ueUZyYWN0aW9uTG9zdCA9IGRlbHRhUGFja2V0c1JlY2VpdmVkID4gMCA/IGRlbHRhUGFja2V0c0xvc3QgLyBkZWx0YVBhY2tldHNSZWNlaXZlZCA6IDA7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX3RoaXMsIHtcbiAgICAgIGRlbHRhUGFja2V0c0xvc3Q6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGRlbHRhUGFja2V0c0xvc3RcbiAgICAgIH0sXG4gICAgICBkZWx0YVBhY2tldHNSZWNlaXZlZDoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogZGVsdGFQYWNrZXRzUmVjZWl2ZWRcbiAgICAgIH0sXG4gICAgICBmcmFjdGlvbkxvc3Q6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGZyYWN0aW9uTG9zdFxuICAgICAgfSxcbiAgICAgIGppdHRlcjoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogaml0dGVyXG4gICAgICB9LFxuICAgICAgcGhvbnlGcmFjdGlvbkxvc3Q6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHBob255RnJhY3Rpb25Mb3N0XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHtAbGluayBSZWNlaXZlclJlcG9ydH0uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFja0lkXG4gICAqIEBwYXJhbSB7UlRDU3RhdHN9IG9sZGVyU3RhdHNcbiAgICogQHBhcmFtIHtSVENTdGF0c30gbmV3ZXJTdGF0c1xuICAgKiBAcmV0dXJucyB7UmVjZWl2ZXJSZXBvcnR9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFJlY2VpdmVyUmVwb3J0LCBbe1xuICAgIGtleTogJ3N1bW1hcml6ZScsXG5cblxuICAgIC8qKlxuICAgICAqIFN1bW1hcml6ZSB0aGUge0BsaW5rIFJlY2VpdmVSZXBvcnR9LlxuICAgICAqIEByZXR1cm5zIHtSZWNlaXZlclN1bW1hcnl9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1bW1hcml6ZSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJpdHJhdGU6IHRoaXMuYml0cmF0ZSxcbiAgICAgICAgZnJhY3Rpb25Mb3N0OiB0eXBlb2YgdGhpcy5mcmFjdGlvbkxvc3QgPT09ICdudW1iZXInID8gdGhpcy5mcmFjdGlvbkxvc3QgOiB0aGlzLnBob255RnJhY3Rpb25Mb3N0LFxuICAgICAgICBqaXR0ZXI6IHRoaXMuaml0dGVyXG4gICAgICB9O1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAnb2YnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZih0cmFja0lkLCBvbGRlclN0YXRzLCBuZXdlclN0YXRzKSB7XG4gICAgICBpZiAob2xkZXJTdGF0cy5pZCAhPT0gbmV3ZXJTdGF0cy5pZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JUQ1N0YXRzIElEcyBtdXN0IG1hdGNoJyk7XG4gICAgICB9XG4gICAgICB2YXIgc2Vjb25kc0VsYXBzZWQgPSAobmV3ZXJTdGF0cy50aW1lc3RhbXAgLSBvbGRlclN0YXRzLnRpbWVzdGFtcCkgLyAxMDAwO1xuICAgICAgdmFyIGRlbHRhQnl0ZXNSZWNlaXZlZCA9IG5ld2VyU3RhdHMuYnl0ZXNSZWNlaXZlZCAtIG9sZGVyU3RhdHMuYnl0ZXNSZWNlaXZlZDtcbiAgICAgIHZhciBiaXRyYXRlID0gc2Vjb25kc0VsYXBzZWQgPiAwID8gZGVsdGFCeXRlc1JlY2VpdmVkIC8gc2Vjb25kc0VsYXBzZWQgKiA4IDogMDtcbiAgICAgIHZhciBkZWx0YVBhY2tldHNMb3N0ID0gTWF0aC5tYXgobmV3ZXJTdGF0cy5wYWNrZXRzTG9zdCAtIG9sZGVyU3RhdHMucGFja2V0c0xvc3QsIDApO1xuICAgICAgdmFyIGRlbHRhUGFja2V0c1JlY2VpdmVkID0gbmV3ZXJTdGF0cy5wYWNrZXRzUmVjZWl2ZWQgLSBvbGRlclN0YXRzLnBhY2tldHNSZWNlaXZlZDtcbiAgICAgIHZhciBmcmFjdGlvbkxvc3QgPSBuZXdlclN0YXRzLmZyYWN0aW9uTG9zdCxcbiAgICAgICAgICBqaXR0ZXIgPSBuZXdlclN0YXRzLmppdHRlcjtcblxuICAgICAgcmV0dXJuIG5ldyBSZWNlaXZlclJlcG9ydChvbGRlclN0YXRzLmlkLCB0cmFja0lkLCBiaXRyYXRlLCBkZWx0YVBhY2tldHNMb3N0LCBkZWx0YVBhY2tldHNSZWNlaXZlZCwgZnJhY3Rpb25Mb3N0LCBqaXR0ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN1bW1hcml6ZSB7QGxpbmsgUmVjZWl2ZXJSZXBvcnR9cyBieSBzdW1taW5nIGFuZCBhdmVyYWdpbmcgdGhlaXIgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8UmVjZWl2ZXJSZXBvcnQ+fSByZXBvcnRzXG4gICAgICogQHJldHVybnMge1JlY2VpdmVyU3VtbWFyeX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc3VtbWFyaXplJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3VtbWFyaXplKHJlcG9ydHMpIHtcbiAgICAgIHZhciBzdW1tYXJpZXMgPSByZXBvcnRzLm1hcChmdW5jdGlvbiAocmVwb3J0KSB7XG4gICAgICAgIHJldHVybiByZXBvcnQuc3VtbWFyaXplKCk7XG4gICAgICB9KTtcbiAgICAgIHZhciBiaXRyYXRlID0gc3VtKHN1bW1hcmllcy5tYXAoZnVuY3Rpb24gKHN1bW1hcnkpIHtcbiAgICAgICAgcmV0dXJuIHN1bW1hcnkuYml0cmF0ZTtcbiAgICAgIH0pKTtcbiAgICAgIHZhciBmcmFjdGlvbkxvc3QgPSBhdmVyYWdlKHN1bW1hcmllcy5tYXAoZnVuY3Rpb24gKHN1bW1hcnkpIHtcbiAgICAgICAgcmV0dXJuIHN1bW1hcnkuZnJhY3Rpb25Mb3N0O1xuICAgICAgfSkpO1xuICAgICAgdmFyIGppdHRlciA9IGF2ZXJhZ2Uoc3VtbWFyaWVzLm1hcChmdW5jdGlvbiAoc3VtbWFyeSkge1xuICAgICAgICByZXR1cm4gc3VtbWFyeS5qaXR0ZXI7XG4gICAgICB9KSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBiaXRyYXRlOiBiaXRyYXRlLFxuICAgICAgICBmcmFjdGlvbkxvc3Q6IGZyYWN0aW9uTG9zdCxcbiAgICAgICAgaml0dGVyOiBqaXR0ZXJcbiAgICAgIH07XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlY2VpdmVyUmVwb3J0O1xufShTZW5kZXJPclJlY2VpdmVyUmVwb3J0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWNlaXZlclJlcG9ydDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3N0YXRzL3JlY2VpdmVycmVwb3J0LmpzXG4vLyBtb2R1bGUgaWQgPSAyNTBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///250\n");

/***/ }),
/* 251 */
/*!********************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/average.js ***!
  \********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* eslint no-undefined:0 */\n\n\n/**\n * @param {Array<number|undefined>} xs\n * @returns {number|undefined}\n */\n\nfunction average(xs) {\n  xs = xs.filter(function (x) {\n    return typeof x === 'number';\n  });\n  return xs.length < 1 ? undefined : xs.reduce(function (y, x) {\n    return x + y;\n  }) / xs.length;\n}\n\nmodule.exports = average;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9hdmVyYWdlLmpzPzhkNDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDYTs7QUFFYjtBQUNBLFdBQVcsd0JBQXdCO0FBQ25DLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSIsImZpbGUiOiIyNTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQgbm8tdW5kZWZpbmVkOjAgKi9cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcnx1bmRlZmluZWQ+fSB4c1xuICogQHJldHVybnMge251bWJlcnx1bmRlZmluZWR9XG4gKi9cblxuZnVuY3Rpb24gYXZlcmFnZSh4cykge1xuICB4cyA9IHhzLmZpbHRlcihmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ251bWJlcic7XG4gIH0pO1xuICByZXR1cm4geHMubGVuZ3RoIDwgMSA/IHVuZGVmaW5lZCA6IHhzLnJlZHVjZShmdW5jdGlvbiAoeSwgeCkge1xuICAgIHJldHVybiB4ICsgeTtcbiAgfSkgLyB4cy5sZW5ndGg7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXZlcmFnZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3N0YXRzL2F2ZXJhZ2UuanNcbi8vIG1vZHVsZSBpZCA9IDI1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///251\n");

/***/ }),
/* 252 */
/*!***********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/senderorreceiverreport.js ***!
  \***********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * @property {StatsId} id\n * @property {TrackId} trackId\n * @property {number} bitrate - bps\n */\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SenderOrReceiverReport =\n/**\n * Construct a {@link SenderOrReceiverReport}.\n * @param {StatsId} id\n * @param {TrackId} trackId\n * @param {number} bitrate - bps\n */\nfunction SenderOrReceiverReport(id, trackId, bitrate) {\n  _classCallCheck(this, SenderOrReceiverReport);\n\n  Object.defineProperties(this, {\n    id: {\n      enumerable: true,\n      value: id\n    },\n    trackId: {\n      enumerable: true,\n      value: trackId\n    },\n    bitrate: {\n      enumerable: true,\n      value: bitrate\n    }\n  });\n};\n\nmodule.exports = SenderOrReceiverReport;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9zZW5kZXJvcnJlY2VpdmVycmVwb3J0LmpzP2ZiZjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsT0FBTztBQUNyQjs7QUFFQSxpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SjtBQUNBO0FBQ0EsZ0JBQWdCLDZCQUE2QjtBQUM3QyxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBIiwiZmlsZSI6IjI1Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAcHJvcGVydHkge1N0YXRzSWR9IGlkXG4gKiBAcHJvcGVydHkge1RyYWNrSWR9IHRyYWNrSWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBiaXRyYXRlIC0gYnBzXG4gKi9cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFNlbmRlck9yUmVjZWl2ZXJSZXBvcnQgPVxuLyoqXG4gKiBDb25zdHJ1Y3QgYSB7QGxpbmsgU2VuZGVyT3JSZWNlaXZlclJlcG9ydH0uXG4gKiBAcGFyYW0ge1N0YXRzSWR9IGlkXG4gKiBAcGFyYW0ge1RyYWNrSWR9IHRyYWNrSWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRyYXRlIC0gYnBzXG4gKi9cbmZ1bmN0aW9uIFNlbmRlck9yUmVjZWl2ZXJSZXBvcnQoaWQsIHRyYWNrSWQsIGJpdHJhdGUpIHtcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlbmRlck9yUmVjZWl2ZXJSZXBvcnQpO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICBpZDoge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBpZFxuICAgIH0sXG4gICAgdHJhY2tJZDoge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB0cmFja0lkXG4gICAgfSxcbiAgICBiaXRyYXRlOiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGJpdHJhdGVcbiAgICB9XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTZW5kZXJPclJlY2VpdmVyUmVwb3J0O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvc3RhdHMvc2VuZGVyb3JyZWNlaXZlcnJlcG9ydC5qc1xuLy8gbW9kdWxlIGlkID0gMjUyXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///252\n");

/***/ }),
/* 253 */
/*!****************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/sum.js ***!
  \****************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * @param {Array<number|undefined>} xs\n * @returns {number}\n */\n\nfunction sum(xs) {\n  return xs.reduce(function (y, x) {\n    return typeof x === 'number' ? x + y : y;\n  }, 0);\n}\n\nmodule.exports = sum;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9zdW0uanM/NzEzNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBLFdBQVcsd0JBQXdCO0FBQ25DLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJmaWxlIjoiMjUzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyfHVuZGVmaW5lZD59IHhzXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5cbmZ1bmN0aW9uIHN1bSh4cykge1xuICByZXR1cm4geHMucmVkdWNlKGZ1bmN0aW9uICh5LCB4KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnbnVtYmVyJyA/IHggKyB5IDogeTtcbiAgfSwgMCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3VtO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvc3RhdHMvc3VtLmpzXG4vLyBtb2R1bGUgaWQgPSAyNTNcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///253\n");

/***/ }),
/* 254 */
/*!*************************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/senderreport.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* eslint no-undefined:0 */\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar average = __webpack_require__(/*! ./average */ 251);\nvar SenderOrReceiverReport = __webpack_require__(/*! ./senderorreceiverreport */ 252);\nvar sum = __webpack_require__(/*! ./sum */ 253);\n\n/**\n * @interface SenderSummary\n * @property {number} bitrate\n * @property {number} [rtt] - s (undefined in Chrome)\n */\n\n/**\n * @extends SenderOrReceiverReport\n * @property {number} [rtt] - s (undefined in Chrome)\n */\n\nvar SenderReport = function (_SenderOrReceiverRepo) {\n  _inherits(SenderReport, _SenderOrReceiverRepo);\n\n  /**\n   * Construct a {@link SenderReport}.\n   * @param {StatsId} id\n   * @param {TrackId} trackId\n   * @param {number} bitrate - bps\n   * @param {number} [rtt] - s\n   */\n  function SenderReport(id, trackId, bitrate, rtt) {\n    _classCallCheck(this, SenderReport);\n\n    var _this = _possibleConstructorReturn(this, (SenderReport.__proto__ || Object.getPrototypeOf(SenderReport)).call(this, id, trackId, bitrate));\n\n    Object.defineProperties(_this, {\n      rtt: {\n        enumerable: true,\n        value: rtt\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * Create a {@link SenderReport}.\n   * @param {string} trackId\n   * @param {RTCStats} olderStats\n   * @param {RTCStats} newerStats\n   * @param {RTCRemoteInboundRtpStreamStats} [newerRemoteStats]\n   * @returns {SenderReport}\n   */\n\n\n  _createClass(SenderReport, null, [{\n    key: 'of',\n    value: function of(trackId, olderStats, newerStats, newerRemoteStats) {\n      if (olderStats.id !== newerStats.id) {\n        throw new Error('RTCStats IDs must match');\n      }\n      var secondsElapsed = (newerStats.timestamp - olderStats.timestamp) / 1000;\n      var deltaBytesSent = newerStats.bytesSent - olderStats.bytesSent;\n      var bitrate = secondsElapsed > 0 ? deltaBytesSent / secondsElapsed * 8 : 0;\n      var rtt = newerRemoteStats && typeof newerRemoteStats.roundTripTime === 'number' ? newerRemoteStats.roundTripTime / 1000 : undefined;\n      return new SenderReport(olderStats.id, trackId, bitrate, rtt);\n    }\n\n    /**\n     * Summarize {@link SenderReport}s by summing and averaging their values.\n     * @param {Array<SenderReport>} reports\n     * @returns {SenderSummary}\n     */\n\n  }, {\n    key: 'summarize',\n    value: function summarize(reports) {\n      var bitrate = sum(reports.map(function (report) {\n        return report.bitrate;\n      }));\n      var rtt = average(reports.map(function (report) {\n        return report.rtt;\n      }));\n      return {\n        bitrate: bitrate,\n        rtt: rtt\n      };\n    }\n  }]);\n\n  return SenderReport;\n}(SenderOrReceiverReport);\n\nmodule.exports = SenderReport;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9zZW5kZXJyZXBvcnQuanM/ZDY0MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLGNBQWMsbUJBQU8sQ0FBQyxvQkFBVztBQUNqQyw2QkFBNkIsbUJBQU8sQ0FBQyxtQ0FBMEI7QUFDL0QsVUFBVSxtQkFBTyxDQUFDLGdCQUFPOztBQUV6QjtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsbUJBQW1CO0FBQ3JDLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsZUFBZSxtQkFBbUI7QUFDbEMsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsU0FBUztBQUN0QixhQUFhLFNBQVM7QUFDdEIsYUFBYSwrQkFBK0I7QUFDNUMsZUFBZTtBQUNmOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsbUJBQW1CO0FBQ3JDLGVBQWUsb0JBQW9CO0FBQ25DLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiMjU0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50IG5vLXVuZGVmaW5lZDowICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIGF2ZXJhZ2UgPSByZXF1aXJlKCcuL2F2ZXJhZ2UnKTtcbnZhciBTZW5kZXJPclJlY2VpdmVyUmVwb3J0ID0gcmVxdWlyZSgnLi9zZW5kZXJvcnJlY2VpdmVycmVwb3J0Jyk7XG52YXIgc3VtID0gcmVxdWlyZSgnLi9zdW0nKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIFNlbmRlclN1bW1hcnlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBiaXRyYXRlXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3J0dF0gLSBzICh1bmRlZmluZWQgaW4gQ2hyb21lKVxuICovXG5cbi8qKlxuICogQGV4dGVuZHMgU2VuZGVyT3JSZWNlaXZlclJlcG9ydFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtydHRdIC0gcyAodW5kZWZpbmVkIGluIENocm9tZSlcbiAqL1xuXG52YXIgU2VuZGVyUmVwb3J0ID0gZnVuY3Rpb24gKF9TZW5kZXJPclJlY2VpdmVyUmVwbykge1xuICBfaW5oZXJpdHMoU2VuZGVyUmVwb3J0LCBfU2VuZGVyT3JSZWNlaXZlclJlcG8pO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgU2VuZGVyUmVwb3J0fS5cbiAgICogQHBhcmFtIHtTdGF0c0lkfSBpZFxuICAgKiBAcGFyYW0ge1RyYWNrSWR9IHRyYWNrSWRcbiAgICogQHBhcmFtIHtudW1iZXJ9IGJpdHJhdGUgLSBicHNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtydHRdIC0gc1xuICAgKi9cbiAgZnVuY3Rpb24gU2VuZGVyUmVwb3J0KGlkLCB0cmFja0lkLCBiaXRyYXRlLCBydHQpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VuZGVyUmVwb3J0KTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTZW5kZXJSZXBvcnQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTZW5kZXJSZXBvcnQpKS5jYWxsKHRoaXMsIGlkLCB0cmFja0lkLCBiaXRyYXRlKSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgcnR0OiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBydHRcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEge0BsaW5rIFNlbmRlclJlcG9ydH0uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFja0lkXG4gICAqIEBwYXJhbSB7UlRDU3RhdHN9IG9sZGVyU3RhdHNcbiAgICogQHBhcmFtIHtSVENTdGF0c30gbmV3ZXJTdGF0c1xuICAgKiBAcGFyYW0ge1JUQ1JlbW90ZUluYm91bmRSdHBTdHJlYW1TdGF0c30gW25ld2VyUmVtb3RlU3RhdHNdXG4gICAqIEByZXR1cm5zIHtTZW5kZXJSZXBvcnR9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFNlbmRlclJlcG9ydCwgbnVsbCwgW3tcbiAgICBrZXk6ICdvZicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9mKHRyYWNrSWQsIG9sZGVyU3RhdHMsIG5ld2VyU3RhdHMsIG5ld2VyUmVtb3RlU3RhdHMpIHtcbiAgICAgIGlmIChvbGRlclN0YXRzLmlkICE9PSBuZXdlclN0YXRzLmlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUlRDU3RhdHMgSURzIG11c3QgbWF0Y2gnKTtcbiAgICAgIH1cbiAgICAgIHZhciBzZWNvbmRzRWxhcHNlZCA9IChuZXdlclN0YXRzLnRpbWVzdGFtcCAtIG9sZGVyU3RhdHMudGltZXN0YW1wKSAvIDEwMDA7XG4gICAgICB2YXIgZGVsdGFCeXRlc1NlbnQgPSBuZXdlclN0YXRzLmJ5dGVzU2VudCAtIG9sZGVyU3RhdHMuYnl0ZXNTZW50O1xuICAgICAgdmFyIGJpdHJhdGUgPSBzZWNvbmRzRWxhcHNlZCA+IDAgPyBkZWx0YUJ5dGVzU2VudCAvIHNlY29uZHNFbGFwc2VkICogOCA6IDA7XG4gICAgICB2YXIgcnR0ID0gbmV3ZXJSZW1vdGVTdGF0cyAmJiB0eXBlb2YgbmV3ZXJSZW1vdGVTdGF0cy5yb3VuZFRyaXBUaW1lID09PSAnbnVtYmVyJyA/IG5ld2VyUmVtb3RlU3RhdHMucm91bmRUcmlwVGltZSAvIDEwMDAgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gbmV3IFNlbmRlclJlcG9ydChvbGRlclN0YXRzLmlkLCB0cmFja0lkLCBiaXRyYXRlLCBydHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN1bW1hcml6ZSB7QGxpbmsgU2VuZGVyUmVwb3J0fXMgYnkgc3VtbWluZyBhbmQgYXZlcmFnaW5nIHRoZWlyIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5PFNlbmRlclJlcG9ydD59IHJlcG9ydHNcbiAgICAgKiBAcmV0dXJucyB7U2VuZGVyU3VtbWFyeX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc3VtbWFyaXplJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3VtbWFyaXplKHJlcG9ydHMpIHtcbiAgICAgIHZhciBiaXRyYXRlID0gc3VtKHJlcG9ydHMubWFwKGZ1bmN0aW9uIChyZXBvcnQpIHtcbiAgICAgICAgcmV0dXJuIHJlcG9ydC5iaXRyYXRlO1xuICAgICAgfSkpO1xuICAgICAgdmFyIHJ0dCA9IGF2ZXJhZ2UocmVwb3J0cy5tYXAoZnVuY3Rpb24gKHJlcG9ydCkge1xuICAgICAgICByZXR1cm4gcmVwb3J0LnJ0dDtcbiAgICAgIH0pKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJpdHJhdGU6IGJpdHJhdGUsXG4gICAgICAgIHJ0dDogcnR0XG4gICAgICB9O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTZW5kZXJSZXBvcnQ7XG59KFNlbmRlck9yUmVjZWl2ZXJSZXBvcnQpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNlbmRlclJlcG9ydDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3N0YXRzL3NlbmRlcnJlcG9ydC5qc1xuLy8gbW9kdWxlIGlkID0gMjU0XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///254\n");

/***/ }),
/* 255 */
/*!******************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/senderorreceiverreportfactory.js ***!
  \******************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * @property {StatsId} id\n * @property {TrackId} trackId\n * @property {RTCStats} lastStats\n */\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SenderOrReceiverReportFactory =\n/**\n * @param {StatsId} id\n * @param {TrackId} trackId\n * @param {RTCStats} initialStats\n */\nfunction SenderOrReceiverReportFactory(id, trackId, initialStats) {\n  _classCallCheck(this, SenderOrReceiverReportFactory);\n\n  Object.defineProperties(this, {\n    id: {\n      enumerable: true,\n      value: id,\n      writable: true\n    },\n    trackId: {\n      enumerable: true,\n      value: trackId,\n      writable: true\n    },\n    lastStats: {\n      enumerable: true,\n      value: initialStats,\n      writable: true\n    }\n  });\n};\n\nmodule.exports = SenderOrReceiverReportFactory;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9zZW5kZXJvcnJlY2VpdmVycmVwb3J0ZmFjdG9yeS5qcz9iZGIzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFNBQVM7QUFDdkI7O0FBRUEsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdko7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJmaWxlIjoiMjU1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBwcm9wZXJ0eSB7U3RhdHNJZH0gaWRcbiAqIEBwcm9wZXJ0eSB7VHJhY2tJZH0gdHJhY2tJZFxuICogQHByb3BlcnR5IHtSVENTdGF0c30gbGFzdFN0YXRzXG4gKi9cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFNlbmRlck9yUmVjZWl2ZXJSZXBvcnRGYWN0b3J5ID1cbi8qKlxuICogQHBhcmFtIHtTdGF0c0lkfSBpZFxuICogQHBhcmFtIHtUcmFja0lkfSB0cmFja0lkXG4gKiBAcGFyYW0ge1JUQ1N0YXRzfSBpbml0aWFsU3RhdHNcbiAqL1xuZnVuY3Rpb24gU2VuZGVyT3JSZWNlaXZlclJlcG9ydEZhY3RvcnkoaWQsIHRyYWNrSWQsIGluaXRpYWxTdGF0cykge1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VuZGVyT3JSZWNlaXZlclJlcG9ydEZhY3RvcnkpO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICBpZDoge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBpZCxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSxcbiAgICB0cmFja0lkOiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHRyYWNrSWQsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgbGFzdFN0YXRzOiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGluaXRpYWxTdGF0cyxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU2VuZGVyT3JSZWNlaXZlclJlcG9ydEZhY3Rvcnk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9zZW5kZXJvcnJlY2VpdmVycmVwb3J0ZmFjdG9yeS5qc1xuLy8gbW9kdWxlIGlkID0gMjU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///255\n");

/***/ }),
/* 256 */
/*!**************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/recording.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EventEmitter = __webpack_require__(/*! events */ 207).EventEmitter;\n\n/**\n * Represents recording state\n * @extends EventEmitter\n * @property {?boolean} isEnabled\n */\n\nvar RecordingSignaling = function (_EventEmitter) {\n  _inherits(RecordingSignaling, _EventEmitter);\n\n  /**\n   * Construct a {@link RecordingSignaling}.\n   */\n  function RecordingSignaling() {\n    _classCallCheck(this, RecordingSignaling);\n\n    var _this = _possibleConstructorReturn(this, (RecordingSignaling.__proto__ || Object.getPrototypeOf(RecordingSignaling)).call(this));\n\n    Object.defineProperties(_this, {\n      _isEnabled: {\n        value: null,\n        writable: true\n      },\n      isEnabled: {\n        enumerable: true,\n        get: function get() {\n          return this._isEnabled;\n        }\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * Disable the {@link RecordingSignaling} if it is not already disabled.\n   * @return {this}\n   */\n\n\n  _createClass(RecordingSignaling, [{\n    key: 'disable',\n    value: function disable() {\n      return this.enable(false);\n    }\n\n    /**\n     * Enable (or disable) the {@link RecordingSignaling} if it is not already enabled\n     * (or disabled).\n     * @param {boolean} [enabled=true]\n     * @return {this}\n     */\n\n  }, {\n    key: 'enable',\n    value: function enable(enabled) {\n      enabled = typeof enabled === 'boolean' ? enabled : true;\n      if (this.isEnabled !== enabled) {\n        this._isEnabled = enabled;\n        this.emit('updated');\n      }\n      return this;\n    }\n  }]);\n\n  return RecordingSignaling;\n}(EventEmitter);\n\n/**\n * Emitted whenever the {@link RecordingSignaling} is updated\n * @event RecordingSignaling#updated\n */\n\nmodule.exports = RecordingSignaling;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvcmVjb3JkaW5nLmpzPzQzYzYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsbUJBQW1CLG1CQUFPLENBQUMsaUJBQVE7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBUztBQUN2Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHlCQUF5QjtBQUMzQztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IseUJBQXlCO0FBQzNDLGNBQWM7QUFDZDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdDQUFnQyx5QkFBeUI7QUFDekQ7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCO0FBQ2hCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLHlCQUF5Qix5QkFBeUI7QUFDbEQ7QUFDQTs7QUFFQSIsImZpbGUiOiIyNTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHJlY29yZGluZyBzdGF0ZVxuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKiBAcHJvcGVydHkgez9ib29sZWFufSBpc0VuYWJsZWRcbiAqL1xuXG52YXIgUmVjb3JkaW5nU2lnbmFsaW5nID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgX2luaGVyaXRzKFJlY29yZGluZ1NpZ25hbGluZywgX0V2ZW50RW1pdHRlcik7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBSZWNvcmRpbmdTaWduYWxpbmd9LlxuICAgKi9cbiAgZnVuY3Rpb24gUmVjb3JkaW5nU2lnbmFsaW5nKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZWNvcmRpbmdTaWduYWxpbmcpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJlY29yZGluZ1NpZ25hbGluZy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJlY29yZGluZ1NpZ25hbGluZykpLmNhbGwodGhpcykpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX3RoaXMsIHtcbiAgICAgIF9pc0VuYWJsZWQ6IHtcbiAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9LFxuICAgICAgaXNFbmFibGVkOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9pc0VuYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZSB0aGUge0BsaW5rIFJlY29yZGluZ1NpZ25hbGluZ30gaWYgaXQgaXMgbm90IGFscmVhZHkgZGlzYWJsZWQuXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFJlY29yZGluZ1NpZ25hbGluZywgW3tcbiAgICBrZXk6ICdkaXNhYmxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmVuYWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIChvciBkaXNhYmxlKSB0aGUge0BsaW5rIFJlY29yZGluZ1NpZ25hbGluZ30gaWYgaXQgaXMgbm90IGFscmVhZHkgZW5hYmxlZFxuICAgICAqIChvciBkaXNhYmxlZCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZW5hYmxlZD10cnVlXVxuICAgICAqIEByZXR1cm4ge3RoaXN9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2VuYWJsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVuYWJsZShlbmFibGVkKSB7XG4gICAgICBlbmFibGVkID0gdHlwZW9mIGVuYWJsZWQgPT09ICdib29sZWFuJyA/IGVuYWJsZWQgOiB0cnVlO1xuICAgICAgaWYgKHRoaXMuaXNFbmFibGVkICE9PSBlbmFibGVkKSB7XG4gICAgICAgIHRoaXMuX2lzRW5hYmxlZCA9IGVuYWJsZWQ7XG4gICAgICAgIHRoaXMuZW1pdCgndXBkYXRlZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlY29yZGluZ1NpZ25hbGluZztcbn0oRXZlbnRFbWl0dGVyKTtcblxuLyoqXG4gKiBFbWl0dGVkIHdoZW5ldmVyIHRoZSB7QGxpbmsgUmVjb3JkaW5nU2lnbmFsaW5nfSBpcyB1cGRhdGVkXG4gKiBAZXZlbnQgUmVjb3JkaW5nU2lnbmFsaW5nI3VwZGF0ZWRcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlY29yZGluZ1NpZ25hbGluZztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3NpZ25hbGluZy9yZWNvcmRpbmcuanNcbi8vIG1vZHVsZSBpZCA9IDI1NlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///256\n");

/***/ }),
/* 257 */
/*!*********************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/room.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DefaultRecordingSignaling = __webpack_require__(/*! ./recording */ 256);\nvar StateMachine = __webpack_require__(/*! ../statemachine */ 215);\n\n/*\nRoomSignaling States\n-----------------------\n\n    +-----------+     +--------------+\n    |           |     |              |\n    | connected |---->| disconnected |\n    |           |     |              |\n    +-----------+     +--------------+\n          |  ^               ^\n          |  |               |\n          |  |   +--------------+\n          |  +---|              |\n          |      | reconnecting |\n          +----->|              |\n                 +--------------+\n\n*/\n\nvar states = {\n  connected: ['reconnecting', 'disconnected'],\n  reconnecting: ['connected', 'disconnected'],\n  disconnected: []\n};\n\n/**\n * A {@link Room} implementation\n * @extends StateMachine\n * @property {?Participant.SID} dominantSpeakerSid\n * @property {ParticipantSignaling} localParticipant\n * @property {RTCIceConnectionState} mediaConnectionState\n * @property {string} name\n * @property {Map<string, RemoteParticipantSignaling>} participants\n * @property {RecordingSignaling} recording\n * @property {Room.SID} sid\n * @property {string} state - \"connected\", \"reconnecting\", or \"disconnected\"\n * @property {string} signalingConnectionState - \"connected\",\n *   \"reconnecting\", or \"disconnected\"\n * @emits RoomSignaling#mediaConnectionStateChanged\n * @emits RoomSignaling#signalingConnectionStateChanged\n */\n\nvar RoomSignaling = function (_StateMachine) {\n  _inherits(RoomSignaling, _StateMachine);\n\n  /**\n   * Construct a {@link RoomSignaling}.\n   * @param {ParticipantSignaling} localParticipant\n   * @param {Room.SID} sid\n   * @param {string} name\n   */\n  function RoomSignaling(localParticipant, sid, name, options) {\n    _classCallCheck(this, RoomSignaling);\n\n    options = Object.assign({\n      RecordingSignaling: DefaultRecordingSignaling\n    }, options);\n\n    var _this = _possibleConstructorReturn(this, (RoomSignaling.__proto__ || Object.getPrototypeOf(RoomSignaling)).call(this, 'connected', states));\n\n    var RecordingSignaling = options.RecordingSignaling;\n\n    Object.defineProperties(_this, {\n      _mediaConnectionIsReconnecting: {\n        writable: true,\n        value: false\n      },\n      _options: {\n        value: options\n      },\n      dominantSpeakerSid: {\n        enumerable: true,\n        value: null,\n        writable: true\n      },\n      localParticipant: {\n        enumerable: true,\n        value: localParticipant\n      },\n      name: {\n        enumerable: true,\n        value: name\n      },\n      participants: {\n        enumerable: true,\n        value: new Map()\n      },\n      recording: {\n        enumerable: true,\n        value: new RecordingSignaling()\n      },\n      sid: {\n        enumerable: true,\n        value: sid\n      }\n    });\n\n    _this.on('mediaConnectionStateChanged', function () {\n      return maybeUpdateState(_this);\n    });\n    _this.on('signalingConnectionStateChanged', function () {\n      return maybeUpdateState(_this);\n    });\n    return _this;\n  }\n\n  /**\n   * Disconnect, possibly with an Error.\n   * @private\n   * @param {Error} [error]\n   * @returns {boolean}\n   */\n\n\n  _createClass(RoomSignaling, [{\n    key: '_disconnect',\n    value: function _disconnect(error) {\n      if (this.state !== 'disconnected') {\n        this.preempt('disconnected', null, [error]);\n        return true;\n      }\n      return false;\n    }\n\n    /**\n     * Connect {@link RemoteParticipantSignaling} to the {@link RoomSignaling}.\n     * @param {RemoteParticipantSignaling} participant\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'connectParticipant',\n    value: function connectParticipant(participant) {\n      var self = this;\n\n      if (participant.state === 'disconnected') {\n        return false;\n      }\n\n      if (this.participants.has(participant.sid)) {\n        return false;\n      }\n\n      this.participants.set(participant.sid, participant);\n\n      participant.on('stateChanged', function stateChanged(state) {\n        if (state === 'disconnected') {\n          participant.removeListener('stateChanged', stateChanged);\n          self.participants.delete(participant.sid);\n          self.emit('participantDisconnected', participant);\n        }\n      });\n\n      this.emit('participantConnected', participant);\n\n      return true;\n    }\n\n    /**\n     * Disconnect.\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'disconnect',\n    value: function disconnect() {\n      return this._disconnect();\n    }\n\n    /**\n     * Set (or unset) the Dominant Speaker.\n     * @param {?Participant.SID} dominantSpeakerSid\n     * @returns {void}\n     */\n\n  }, {\n    key: 'setDominantSpeaker',\n    value: function setDominantSpeaker(dominantSpeakerSid) {\n      this.dominantSpeakerSid = dominantSpeakerSid;\n      this.emit('dominantSpeakerChanged');\n    }\n  }]);\n\n  return RoomSignaling;\n}(StateMachine);\n\n/**\n * @event RoomSignaling#event:dominantSpeakerChanged\n */\n\n/**\n * {@link RemoteParticipantSignaling} connected to the {@link RoomSignaling}.\n * @event RoomSignaling#event:participantConnected\n * @param {RemoteParticipantSignaling} participantSignaling\n */\n\n/**\n * {@link RemoteParticipantSignaling} disconnected from the {@link RoomSignaling}.\n * @event RoomSignaling#event:participantDisconnected\n * @param {RemoteParticipantSignaling} participantSignaling\n */\n\n/**\n * @event RoomSignaling#event:mediaConnectionStateChanged\n */\n\n/**\n * @event RoomSignaling#event:signalingConnectionStateChanged\n */\n\n/**\n * Maybe update the {@link RoomSignaling} state.\n * @param {RoomSignaling} roomSignaling\n */\n\n\nfunction maybeUpdateState(roomSignaling) {\n  if (roomSignaling.state === 'disconnected' || roomSignaling.signalingConnectionState === 'disconnected') {\n    return;\n  }\n\n  var newState = void 0;\n\n  if (roomSignaling.signalingConnectionState === 'reconnecting') {\n    newState = roomSignaling.signalingConnectionState;\n  } else if (roomSignaling.mediaConnectionState === 'failed') {\n    roomSignaling._mediaConnectionIsReconnecting = true;\n    newState = 'reconnecting';\n  } else if (roomSignaling.mediaConnectionState === 'new' || roomSignaling.mediaConnectionState === 'checking') {\n    newState = roomSignaling._mediaConnectionIsReconnecting ? 'reconnecting' : 'connected';\n  } else {\n    roomSignaling._mediaConnectionIsReconnecting = false;\n    newState = 'connected';\n  }\n\n  if (newState === roomSignaling.state) {\n    return;\n  }\n\n  roomSignaling.preempt(newState);\n}\n\nmodule.exports = RoomSignaling;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvcm9vbS5qcz9hODcyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLGdDQUFnQyxtQkFBTyxDQUFDLHNCQUFhO0FBQ3JELG1CQUFtQixtQkFBTyxDQUFDLDBCQUFpQjs7QUFFNUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSxXQUFXO0FBQ2pCO0FBQ0EsY0FBYyxpQkFBaUI7QUFDL0IsY0FBYyxxQkFBcUI7QUFDbkMsY0FBYyxzQkFBc0I7QUFDcEMsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsd0NBQXdDO0FBQ3RELGNBQWMsbUJBQW1CO0FBQ2pDLGNBQWMsU0FBUztBQUN2QixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0Isb0JBQW9CO0FBQ3RDLGFBQWEscUJBQXFCO0FBQ2xDLGFBQWEsU0FBUztBQUN0QixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE1BQU07QUFDbkIsZUFBZTtBQUNmOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsaUNBQWlDLFNBQVMsb0JBQW9CO0FBQzlFLGVBQWUsMkJBQTJCO0FBQzFDLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLGlCQUFpQjtBQUNoQyxpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLGlDQUFpQyxtQkFBbUIsb0JBQW9CO0FBQzVFO0FBQ0EsV0FBVywyQkFBMkI7QUFDdEM7O0FBRUE7QUFDQSxJQUFJLGlDQUFpQyx3QkFBd0Isb0JBQW9CO0FBQ2pGO0FBQ0EsV0FBVywyQkFBMkI7QUFDdEM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQixvQkFBb0I7QUFDekMsV0FBVyxjQUFjO0FBQ3pCOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBIiwiZmlsZSI6IjI1Ny5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgRGVmYXVsdFJlY29yZGluZ1NpZ25hbGluZyA9IHJlcXVpcmUoJy4vcmVjb3JkaW5nJyk7XG52YXIgU3RhdGVNYWNoaW5lID0gcmVxdWlyZSgnLi4vc3RhdGVtYWNoaW5lJyk7XG5cbi8qXG5Sb29tU2lnbmFsaW5nIFN0YXRlc1xuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICstLS0tLS0tLS0tLSsgICAgICstLS0tLS0tLS0tLS0tLStcbiAgICB8ICAgICAgICAgICB8ICAgICB8ICAgICAgICAgICAgICB8XG4gICAgfCBjb25uZWN0ZWQgfC0tLS0+fCBkaXNjb25uZWN0ZWQgfFxuICAgIHwgICAgICAgICAgIHwgICAgIHwgICAgICAgICAgICAgIHxcbiAgICArLS0tLS0tLS0tLS0rICAgICArLS0tLS0tLS0tLS0tLS0rXG4gICAgICAgICAgfCAgXiAgICAgICAgICAgICAgIF5cbiAgICAgICAgICB8ICB8ICAgICAgICAgICAgICAgfFxuICAgICAgICAgIHwgIHwgICArLS0tLS0tLS0tLS0tLS0rXG4gICAgICAgICAgfCAgKy0tLXwgICAgICAgICAgICAgIHxcbiAgICAgICAgICB8ICAgICAgfCByZWNvbm5lY3RpbmcgfFxuICAgICAgICAgICstLS0tLT58ICAgICAgICAgICAgICB8XG4gICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLStcblxuKi9cblxudmFyIHN0YXRlcyA9IHtcbiAgY29ubmVjdGVkOiBbJ3JlY29ubmVjdGluZycsICdkaXNjb25uZWN0ZWQnXSxcbiAgcmVjb25uZWN0aW5nOiBbJ2Nvbm5lY3RlZCcsICdkaXNjb25uZWN0ZWQnXSxcbiAgZGlzY29ubmVjdGVkOiBbXVxufTtcblxuLyoqXG4gKiBBIHtAbGluayBSb29tfSBpbXBsZW1lbnRhdGlvblxuICogQGV4dGVuZHMgU3RhdGVNYWNoaW5lXG4gKiBAcHJvcGVydHkgez9QYXJ0aWNpcGFudC5TSUR9IGRvbWluYW50U3BlYWtlclNpZFxuICogQHByb3BlcnR5IHtQYXJ0aWNpcGFudFNpZ25hbGluZ30gbG9jYWxQYXJ0aWNpcGFudFxuICogQHByb3BlcnR5IHtSVENJY2VDb25uZWN0aW9uU3RhdGV9IG1lZGlhQ29ubmVjdGlvblN0YXRlXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbmFtZVxuICogQHByb3BlcnR5IHtNYXA8c3RyaW5nLCBSZW1vdGVQYXJ0aWNpcGFudFNpZ25hbGluZz59IHBhcnRpY2lwYW50c1xuICogQHByb3BlcnR5IHtSZWNvcmRpbmdTaWduYWxpbmd9IHJlY29yZGluZ1xuICogQHByb3BlcnR5IHtSb29tLlNJRH0gc2lkXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc3RhdGUgLSBcImNvbm5lY3RlZFwiLCBcInJlY29ubmVjdGluZ1wiLCBvciBcImRpc2Nvbm5lY3RlZFwiXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc2lnbmFsaW5nQ29ubmVjdGlvblN0YXRlIC0gXCJjb25uZWN0ZWRcIixcbiAqICAgXCJyZWNvbm5lY3RpbmdcIiwgb3IgXCJkaXNjb25uZWN0ZWRcIlxuICogQGVtaXRzIFJvb21TaWduYWxpbmcjbWVkaWFDb25uZWN0aW9uU3RhdGVDaGFuZ2VkXG4gKiBAZW1pdHMgUm9vbVNpZ25hbGluZyNzaWduYWxpbmdDb25uZWN0aW9uU3RhdGVDaGFuZ2VkXG4gKi9cblxudmFyIFJvb21TaWduYWxpbmcgPSBmdW5jdGlvbiAoX1N0YXRlTWFjaGluZSkge1xuICBfaW5oZXJpdHMoUm9vbVNpZ25hbGluZywgX1N0YXRlTWFjaGluZSk7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBSb29tU2lnbmFsaW5nfS5cbiAgICogQHBhcmFtIHtQYXJ0aWNpcGFudFNpZ25hbGluZ30gbG9jYWxQYXJ0aWNpcGFudFxuICAgKiBAcGFyYW0ge1Jvb20uU0lEfSBzaWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICovXG4gIGZ1bmN0aW9uIFJvb21TaWduYWxpbmcobG9jYWxQYXJ0aWNpcGFudCwgc2lkLCBuYW1lLCBvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvb21TaWduYWxpbmcpO1xuXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgUmVjb3JkaW5nU2lnbmFsaW5nOiBEZWZhdWx0UmVjb3JkaW5nU2lnbmFsaW5nXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUm9vbVNpZ25hbGluZy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJvb21TaWduYWxpbmcpKS5jYWxsKHRoaXMsICdjb25uZWN0ZWQnLCBzdGF0ZXMpKTtcblxuICAgIHZhciBSZWNvcmRpbmdTaWduYWxpbmcgPSBvcHRpb25zLlJlY29yZGluZ1NpZ25hbGluZztcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBfbWVkaWFDb25uZWN0aW9uSXNSZWNvbm5lY3Rpbmc6IHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIF9vcHRpb25zOiB7XG4gICAgICAgIHZhbHVlOiBvcHRpb25zXG4gICAgICB9LFxuICAgICAgZG9taW5hbnRTcGVha2VyU2lkOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGxvY2FsUGFydGljaXBhbnQ6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGxvY2FsUGFydGljaXBhbnRcbiAgICAgIH0sXG4gICAgICBuYW1lOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBuYW1lXG4gICAgICB9LFxuICAgICAgcGFydGljaXBhbnRzOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBuZXcgTWFwKClcbiAgICAgIH0sXG4gICAgICByZWNvcmRpbmc6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG5ldyBSZWNvcmRpbmdTaWduYWxpbmcoKVxuICAgICAgfSxcbiAgICAgIHNpZDoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogc2lkXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfdGhpcy5vbignbWVkaWFDb25uZWN0aW9uU3RhdGVDaGFuZ2VkJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG1heWJlVXBkYXRlU3RhdGUoX3RoaXMpO1xuICAgIH0pO1xuICAgIF90aGlzLm9uKCdzaWduYWxpbmdDb25uZWN0aW9uU3RhdGVDaGFuZ2VkJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG1heWJlVXBkYXRlU3RhdGUoX3RoaXMpO1xuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0LCBwb3NzaWJseSB3aXRoIGFuIEVycm9yLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Vycm9yfSBbZXJyb3JdXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhSb29tU2lnbmFsaW5nLCBbe1xuICAgIGtleTogJ19kaXNjb25uZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2Rpc2Nvbm5lY3QoZXJyb3IpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlICE9PSAnZGlzY29ubmVjdGVkJykge1xuICAgICAgICB0aGlzLnByZWVtcHQoJ2Rpc2Nvbm5lY3RlZCcsIG51bGwsIFtlcnJvcl0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudFNpZ25hbGluZ30gdG8gdGhlIHtAbGluayBSb29tU2lnbmFsaW5nfS5cbiAgICAgKiBAcGFyYW0ge1JlbW90ZVBhcnRpY2lwYW50U2lnbmFsaW5nfSBwYXJ0aWNpcGFudFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdjb25uZWN0UGFydGljaXBhbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb25uZWN0UGFydGljaXBhbnQocGFydGljaXBhbnQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgaWYgKHBhcnRpY2lwYW50LnN0YXRlID09PSAnZGlzY29ubmVjdGVkJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnBhcnRpY2lwYW50cy5oYXMocGFydGljaXBhbnQuc2lkKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucGFydGljaXBhbnRzLnNldChwYXJ0aWNpcGFudC5zaWQsIHBhcnRpY2lwYW50KTtcblxuICAgICAgcGFydGljaXBhbnQub24oJ3N0YXRlQ2hhbmdlZCcsIGZ1bmN0aW9uIHN0YXRlQ2hhbmdlZChzdGF0ZSkge1xuICAgICAgICBpZiAoc3RhdGUgPT09ICdkaXNjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgcGFydGljaXBhbnQucmVtb3ZlTGlzdGVuZXIoJ3N0YXRlQ2hhbmdlZCcsIHN0YXRlQ2hhbmdlZCk7XG4gICAgICAgICAgc2VsZi5wYXJ0aWNpcGFudHMuZGVsZXRlKHBhcnRpY2lwYW50LnNpZCk7XG4gICAgICAgICAgc2VsZi5lbWl0KCdwYXJ0aWNpcGFudERpc2Nvbm5lY3RlZCcsIHBhcnRpY2lwYW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuZW1pdCgncGFydGljaXBhbnRDb25uZWN0ZWQnLCBwYXJ0aWNpcGFudCk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3QuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2Rpc2Nvbm5lY3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNjb25uZWN0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Rpc2Nvbm5lY3QoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgKG9yIHVuc2V0KSB0aGUgRG9taW5hbnQgU3BlYWtlci5cbiAgICAgKiBAcGFyYW0gez9QYXJ0aWNpcGFudC5TSUR9IGRvbWluYW50U3BlYWtlclNpZFxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXREb21pbmFudFNwZWFrZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREb21pbmFudFNwZWFrZXIoZG9taW5hbnRTcGVha2VyU2lkKSB7XG4gICAgICB0aGlzLmRvbWluYW50U3BlYWtlclNpZCA9IGRvbWluYW50U3BlYWtlclNpZDtcbiAgICAgIHRoaXMuZW1pdCgnZG9taW5hbnRTcGVha2VyQ2hhbmdlZCcpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSb29tU2lnbmFsaW5nO1xufShTdGF0ZU1hY2hpbmUpO1xuXG4vKipcbiAqIEBldmVudCBSb29tU2lnbmFsaW5nI2V2ZW50OmRvbWluYW50U3BlYWtlckNoYW5nZWRcbiAqL1xuXG4vKipcbiAqIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudFNpZ25hbGluZ30gY29ubmVjdGVkIHRvIHRoZSB7QGxpbmsgUm9vbVNpZ25hbGluZ30uXG4gKiBAZXZlbnQgUm9vbVNpZ25hbGluZyNldmVudDpwYXJ0aWNpcGFudENvbm5lY3RlZFxuICogQHBhcmFtIHtSZW1vdGVQYXJ0aWNpcGFudFNpZ25hbGluZ30gcGFydGljaXBhbnRTaWduYWxpbmdcbiAqL1xuXG4vKipcbiAqIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudFNpZ25hbGluZ30gZGlzY29ubmVjdGVkIGZyb20gdGhlIHtAbGluayBSb29tU2lnbmFsaW5nfS5cbiAqIEBldmVudCBSb29tU2lnbmFsaW5nI2V2ZW50OnBhcnRpY2lwYW50RGlzY29ubmVjdGVkXG4gKiBAcGFyYW0ge1JlbW90ZVBhcnRpY2lwYW50U2lnbmFsaW5nfSBwYXJ0aWNpcGFudFNpZ25hbGluZ1xuICovXG5cbi8qKlxuICogQGV2ZW50IFJvb21TaWduYWxpbmcjZXZlbnQ6bWVkaWFDb25uZWN0aW9uU3RhdGVDaGFuZ2VkXG4gKi9cblxuLyoqXG4gKiBAZXZlbnQgUm9vbVNpZ25hbGluZyNldmVudDpzaWduYWxpbmdDb25uZWN0aW9uU3RhdGVDaGFuZ2VkXG4gKi9cblxuLyoqXG4gKiBNYXliZSB1cGRhdGUgdGhlIHtAbGluayBSb29tU2lnbmFsaW5nfSBzdGF0ZS5cbiAqIEBwYXJhbSB7Um9vbVNpZ25hbGluZ30gcm9vbVNpZ25hbGluZ1xuICovXG5cblxuZnVuY3Rpb24gbWF5YmVVcGRhdGVTdGF0ZShyb29tU2lnbmFsaW5nKSB7XG4gIGlmIChyb29tU2lnbmFsaW5nLnN0YXRlID09PSAnZGlzY29ubmVjdGVkJyB8fCByb29tU2lnbmFsaW5nLnNpZ25hbGluZ0Nvbm5lY3Rpb25TdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgbmV3U3RhdGUgPSB2b2lkIDA7XG5cbiAgaWYgKHJvb21TaWduYWxpbmcuc2lnbmFsaW5nQ29ubmVjdGlvblN0YXRlID09PSAncmVjb25uZWN0aW5nJykge1xuICAgIG5ld1N0YXRlID0gcm9vbVNpZ25hbGluZy5zaWduYWxpbmdDb25uZWN0aW9uU3RhdGU7XG4gIH0gZWxzZSBpZiAocm9vbVNpZ25hbGluZy5tZWRpYUNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2ZhaWxlZCcpIHtcbiAgICByb29tU2lnbmFsaW5nLl9tZWRpYUNvbm5lY3Rpb25Jc1JlY29ubmVjdGluZyA9IHRydWU7XG4gICAgbmV3U3RhdGUgPSAncmVjb25uZWN0aW5nJztcbiAgfSBlbHNlIGlmIChyb29tU2lnbmFsaW5nLm1lZGlhQ29ubmVjdGlvblN0YXRlID09PSAnbmV3JyB8fCByb29tU2lnbmFsaW5nLm1lZGlhQ29ubmVjdGlvblN0YXRlID09PSAnY2hlY2tpbmcnKSB7XG4gICAgbmV3U3RhdGUgPSByb29tU2lnbmFsaW5nLl9tZWRpYUNvbm5lY3Rpb25Jc1JlY29ubmVjdGluZyA/ICdyZWNvbm5lY3RpbmcnIDogJ2Nvbm5lY3RlZCc7XG4gIH0gZWxzZSB7XG4gICAgcm9vbVNpZ25hbGluZy5fbWVkaWFDb25uZWN0aW9uSXNSZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICBuZXdTdGF0ZSA9ICdjb25uZWN0ZWQnO1xuICB9XG5cbiAgaWYgKG5ld1N0YXRlID09PSByb29tU2lnbmFsaW5nLnN0YXRlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcm9vbVNpZ25hbGluZy5wcmVlbXB0KG5ld1N0YXRlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSb29tU2lnbmFsaW5nO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvc2lnbmFsaW5nL3Jvb20uanNcbi8vIG1vZHVsZSBpZCA9IDI1N1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///257\n");

/***/ }),
/* 258 */
/*!**********************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/track.js ***!
  \**********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _require = __webpack_require__(/*! events */ 207),\n    EventEmitter = _require.EventEmitter;\n\n/**\n * A {@link Track} implementation\n * @extends EventEmitter\n * @property {Track.Kind} kind\n * @property {string} name\n */\n\n\nvar TrackSignaling = function (_EventEmitter) {\n  _inherits(TrackSignaling, _EventEmitter);\n\n  /**\n   * Construct a {@link TrackSignaling}.\n   * @param {string} name\n   * @param {Track.Kind} kind\n   * @param {boolean} isEnabled\n   */\n  function TrackSignaling(name, kind, isEnabled) {\n    _classCallCheck(this, TrackSignaling);\n\n    var _this = _possibleConstructorReturn(this, (TrackSignaling.__proto__ || Object.getPrototypeOf(TrackSignaling)).call(this));\n\n    var sid = null;\n    Object.defineProperties(_this, {\n      _isEnabled: {\n        value: isEnabled,\n        writable: true\n      },\n      _trackTransceiver: {\n        value: null,\n        writable: true\n      },\n      _sid: {\n        get: function get() {\n          return sid;\n        },\n        set: function set(_sid) {\n          if (sid === null) {\n            sid = _sid;\n          }\n        }\n      },\n      kind: {\n        enumerable: true,\n        value: kind\n      },\n      name: {\n        enumerable: true,\n        value: name\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * Whether the {@link TrackSignaling} is enabled.\n   * @property {boolean}\n   */\n\n\n  _createClass(TrackSignaling, [{\n    key: 'disable',\n\n\n    /**\n     * Disable the {@link TrackSignaling} if it is not already disabled.\n     * @return {this}\n     */\n    value: function disable() {\n      return this.enable(false);\n    }\n\n    /**\n     * Enable (or disable) the {@link TrackSignaling} if it is not already enabled\n     * (or disabled).\n     * @param {boolean} [enabled=true]\n     * @return {this}\n     */\n\n  }, {\n    key: 'enable',\n    value: function enable(enabled) {\n      enabled = typeof enabled === 'boolean' ? enabled : true;\n      if (this.isEnabled !== enabled) {\n        this._isEnabled = enabled;\n        this.emit('updated');\n      }\n      return this;\n    }\n\n    /**\n     * Set the {@link TrackTransceiver} on the {@link TrackSignaling}.\n     * @param {TrackTransceiver} trackTransceiver\n     * @returns {this}\n     */\n\n  }, {\n    key: 'setTrackTransceiver',\n    value: function setTrackTransceiver(trackTransceiver) {\n      trackTransceiver = trackTransceiver || null;\n      if (this.trackTransceiver !== trackTransceiver) {\n        this._trackTransceiver = trackTransceiver;\n        this.emit('updated');\n      }\n      return this;\n    }\n\n    /**\n     * Set the SID on the {@link TrackSignaling} once.\n     * @param {string} sid\n     * @returns {this}\n     */\n\n  }, {\n    key: 'setSid',\n    value: function setSid(sid) {\n      if (this.sid === null) {\n        this._sid = sid;\n        this.emit('updated');\n      }\n      return this;\n    }\n  }, {\n    key: 'isEnabled',\n    get: function get() {\n      return this._isEnabled;\n    }\n\n    /**\n     * The {@link TrackSignaling}'s {@link Track.SID}.\n     * @property {Track.SID}\n     */\n\n  }, {\n    key: 'sid',\n    get: function get() {\n      return this._sid;\n    }\n\n    /**\n     * The {@link TrackSignaling}'s {@link TrackTransceiver}.\n     * @property {TrackTransceiver}\n     */\n\n  }, {\n    key: 'trackTransceiver',\n    get: function get() {\n      return this._trackTransceiver;\n    }\n  }]);\n\n  return TrackSignaling;\n}(EventEmitter);\n\n/**\n * Emitted whenever the {@link TrackSignaling} is updated\n * @event TrackSignaling#updated\n */\n\nmodule.exports = TrackSignaling;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdHJhY2suanM/MmRhYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSxlQUFlLG1CQUFPLENBQUMsaUJBQVE7QUFDL0I7O0FBRUE7QUFDQSxNQUFNLFlBQVk7QUFDbEI7QUFDQSxjQUFjLFdBQVc7QUFDekIsY0FBYyxPQUFPO0FBQ3JCOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHFCQUFxQjtBQUN2QyxhQUFhLE9BQU87QUFDcEIsYUFBYSxXQUFXO0FBQ3hCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IscUJBQXFCO0FBQ3ZDLGdCQUFnQjtBQUNoQjs7O0FBR0E7QUFDQTs7O0FBR0E7QUFDQSxvQkFBb0IscUJBQXFCO0FBQ3pDLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdDQUFnQyxxQkFBcUI7QUFDckQ7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZ0JBQWdCO0FBQ2hCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsdUJBQXVCLFNBQVMscUJBQXFCO0FBQ3JFLGVBQWUsaUJBQWlCO0FBQ2hDLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCLHFCQUFxQjtBQUNoRCxlQUFlLE9BQU87QUFDdEIsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWSxxQkFBcUIsSUFBSSxnQkFBZ0I7QUFDckQsa0JBQWtCO0FBQ2xCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVkscUJBQXFCLElBQUksdUJBQXVCO0FBQzVELGtCQUFrQjtBQUNsQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLHlCQUF5QixxQkFBcUI7QUFDOUM7QUFDQTs7QUFFQSIsImZpbGUiOiIyNTguanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnZXZlbnRzJyksXG4gICAgRXZlbnRFbWl0dGVyID0gX3JlcXVpcmUuRXZlbnRFbWl0dGVyO1xuXG4vKipcbiAqIEEge0BsaW5rIFRyYWNrfSBpbXBsZW1lbnRhdGlvblxuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKiBAcHJvcGVydHkge1RyYWNrLktpbmR9IGtpbmRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBuYW1lXG4gKi9cblxuXG52YXIgVHJhY2tTaWduYWxpbmcgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICBfaW5oZXJpdHMoVHJhY2tTaWduYWxpbmcsIF9FdmVudEVtaXR0ZXIpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgVHJhY2tTaWduYWxpbmd9LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0ge1RyYWNrLktpbmR9IGtpbmRcbiAgICogQHBhcmFtIHtib29sZWFufSBpc0VuYWJsZWRcbiAgICovXG4gIGZ1bmN0aW9uIFRyYWNrU2lnbmFsaW5nKG5hbWUsIGtpbmQsIGlzRW5hYmxlZCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUcmFja1NpZ25hbGluZyk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVHJhY2tTaWduYWxpbmcuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUcmFja1NpZ25hbGluZykpLmNhbGwodGhpcykpO1xuXG4gICAgdmFyIHNpZCA9IG51bGw7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX3RoaXMsIHtcbiAgICAgIF9pc0VuYWJsZWQ6IHtcbiAgICAgICAgdmFsdWU6IGlzRW5hYmxlZCxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBfdHJhY2tUcmFuc2NlaXZlcjoge1xuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBfc2lkOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBzaWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KF9zaWQpIHtcbiAgICAgICAgICBpZiAoc2lkID09PSBudWxsKSB7XG4gICAgICAgICAgICBzaWQgPSBfc2lkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGtpbmQ6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGtpbmRcbiAgICAgIH0sXG4gICAgICBuYW1lOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBuYW1lXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIHtAbGluayBUcmFja1NpZ25hbGluZ30gaXMgZW5hYmxlZC5cbiAgICogQHByb3BlcnR5IHtib29sZWFufVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhUcmFja1NpZ25hbGluZywgW3tcbiAgICBrZXk6ICdkaXNhYmxlJyxcblxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZSB0aGUge0BsaW5rIFRyYWNrU2lnbmFsaW5nfSBpZiBpdCBpcyBub3QgYWxyZWFkeSBkaXNhYmxlZC5cbiAgICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZW5hYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgKG9yIGRpc2FibGUpIHRoZSB7QGxpbmsgVHJhY2tTaWduYWxpbmd9IGlmIGl0IGlzIG5vdCBhbHJlYWR5IGVuYWJsZWRcbiAgICAgKiAob3IgZGlzYWJsZWQpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2VuYWJsZWQ9dHJ1ZV1cbiAgICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdlbmFibGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGUoZW5hYmxlZCkge1xuICAgICAgZW5hYmxlZCA9IHR5cGVvZiBlbmFibGVkID09PSAnYm9vbGVhbicgPyBlbmFibGVkIDogdHJ1ZTtcbiAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCAhPT0gZW5hYmxlZCkge1xuICAgICAgICB0aGlzLl9pc0VuYWJsZWQgPSBlbmFibGVkO1xuICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZWQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUge0BsaW5rIFRyYWNrVHJhbnNjZWl2ZXJ9IG9uIHRoZSB7QGxpbmsgVHJhY2tTaWduYWxpbmd9LlxuICAgICAqIEBwYXJhbSB7VHJhY2tUcmFuc2NlaXZlcn0gdHJhY2tUcmFuc2NlaXZlclxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRUcmFja1RyYW5zY2VpdmVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VHJhY2tUcmFuc2NlaXZlcih0cmFja1RyYW5zY2VpdmVyKSB7XG4gICAgICB0cmFja1RyYW5zY2VpdmVyID0gdHJhY2tUcmFuc2NlaXZlciB8fCBudWxsO1xuICAgICAgaWYgKHRoaXMudHJhY2tUcmFuc2NlaXZlciAhPT0gdHJhY2tUcmFuc2NlaXZlcikge1xuICAgICAgICB0aGlzLl90cmFja1RyYW5zY2VpdmVyID0gdHJhY2tUcmFuc2NlaXZlcjtcbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGVkJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIFNJRCBvbiB0aGUge0BsaW5rIFRyYWNrU2lnbmFsaW5nfSBvbmNlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzaWRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2V0U2lkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U2lkKHNpZCkge1xuICAgICAgaWYgKHRoaXMuc2lkID09PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3NpZCA9IHNpZDtcbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGVkJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc0VuYWJsZWQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2lzRW5hYmxlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUge0BsaW5rIFRyYWNrU2lnbmFsaW5nfSdzIHtAbGluayBUcmFjay5TSUR9LlxuICAgICAqIEBwcm9wZXJ0eSB7VHJhY2suU0lEfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzaWQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NpZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUge0BsaW5rIFRyYWNrU2lnbmFsaW5nfSdzIHtAbGluayBUcmFja1RyYW5zY2VpdmVyfS5cbiAgICAgKiBAcHJvcGVydHkge1RyYWNrVHJhbnNjZWl2ZXJ9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RyYWNrVHJhbnNjZWl2ZXInLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3RyYWNrVHJhbnNjZWl2ZXI7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRyYWNrU2lnbmFsaW5nO1xufShFdmVudEVtaXR0ZXIpO1xuXG4vKipcbiAqIEVtaXR0ZWQgd2hlbmV2ZXIgdGhlIHtAbGluayBUcmFja1NpZ25hbGluZ30gaXMgdXBkYXRlZFxuICogQGV2ZW50IFRyYWNrU2lnbmFsaW5nI3VwZGF0ZWRcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRyYWNrU2lnbmFsaW5nO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvc2lnbmFsaW5nL3RyYWNrLmpzXG4vLyBtb2R1bGUgaWQgPSAyNThcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///258\n");

/***/ }),
/* 259 */
/*!*********************************************!*\
  !*** ./node_modules/twilio-video/src/ws.js ***!
  \*********************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = WebSocket;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL3NyYy93cy5qcz80NDk3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjI1OS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gV2ViU29ja2V0O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL3NyYy93cy5qc1xuLy8gbW9kdWxlIGlkID0gMjU5XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///259\n");

/***/ }),
/* 260 */
/*!*************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/v2/sipjsmediahandler.js ***!
  \*************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SIP = __webpack_require__(/*! ../../sip */ 229);\n\nvar SIPJSMediaHandler = function () {\n  function SIPJSMediaHandler(peerConnectionManager, createMessage) {\n    _classCallCheck(this, SIPJSMediaHandler);\n\n    Object.defineProperties(this, {\n      createMessage: {\n        enumerable: true,\n        value: createMessage\n      },\n      peerConnectionManager: {\n        enumerable: true,\n        value: peerConnectionManager\n      }\n    });\n  }\n\n  _createClass(SIPJSMediaHandler, [{\n    key: 'close',\n    value: function close() {\n      this.peerConnectionManager.close();\n    }\n  }, {\n    key: 'getDescription',\n    value: function getDescription() {\n      var connectMessage = Object.assign({\n        /* eslint camelcase:0 */\n        peer_connections: this.peerConnectionManager.getStates()\n      }, this.createMessage());\n      return Promise.resolve({\n        body: JSON.stringify(connectMessage),\n        contentType: 'application/room-signaling+json'\n      });\n    }\n  }, {\n    key: 'hasDescription',\n    value: function hasDescription() {\n      return true;\n    }\n  }, {\n    key: 'hold',\n    value: function hold() {\n      // NOTE(mroberts): We don't use SIP.js's hold functionality.\n    }\n  }, {\n    key: 'isReady',\n    value: function isReady() {\n      // NOTE(mroberts): We don't use SIP.js's isReady functionality.\n      return true;\n    }\n  }, {\n    key: 'isMuted',\n    value: function isMuted() {\n      // NOTE(mroberts): We don't use SIP.js's isMuted functionality.\n      return {\n        audio: false,\n        video: false\n      };\n    }\n  }, {\n    key: 'mute',\n    value: function mute() {\n      // NOTE(mroberts): We don't use SIP.js's mute functionality.\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      // NOTE(mroberts): We don't use SIP.js's render functionality.\n    }\n  }, {\n    key: 'setDescription',\n    value: function setDescription(message) {\n      var roomState = getRoomState(message);\n      if (roomState) {\n        var peerConnectionStates = roomState.peer_connections;\n        if (peerConnectionStates) {\n          return this.peerConnectionManager.update(peerConnectionStates);\n        }\n      }\n      return Promise.resolve();\n    }\n  }, {\n    key: 'unhold',\n    value: function unhold() {\n      // NOTE(mroberts): We don't use SIP.js's unhold functionality.\n    }\n  }, {\n    key: 'unmute',\n    value: function unmute() {\n      // NOTE(mroberts): We don't use SIP.js's unmute functionality.\n    }\n  }, {\n    key: 'updateIceServers',\n    value: function updateIceServers() {\n      // NOTE(mroberts): We don't use SIP.js's ICE server functionality.\n    }\n  }], [{\n    key: 'defaultFactory',\n    value: function defaultFactory() {\n      // NOTE(mroberts): We don't use SIP.js's defaultFactory functionality.\n    }\n  }]);\n\n  return SIPJSMediaHandler;\n}();\n\nSIPJSMediaHandler.defaultFactory.isSupported = function isSupported() {\n  return SIP.WebRTC.isSupported();\n};\n\nfunction getRoomState(message) {\n  try {\n    return JSON.parse(message.body);\n  } catch (error) {\n    return null;\n  }\n}\n\nmodule.exports = SIPJSMediaHandler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvc2lwanNtZWRpYWhhbmRsZXIuanM/ZDBkNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosVUFBVSxtQkFBTyxDQUFDLG9CQUFXOztBQUU3QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjI2MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFNJUCA9IHJlcXVpcmUoJy4uLy4uL3NpcCcpO1xuXG52YXIgU0lQSlNNZWRpYUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNJUEpTTWVkaWFIYW5kbGVyKHBlZXJDb25uZWN0aW9uTWFuYWdlciwgY3JlYXRlTWVzc2FnZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTSVBKU01lZGlhSGFuZGxlcik7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICBjcmVhdGVNZXNzYWdlOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBjcmVhdGVNZXNzYWdlXG4gICAgICB9LFxuICAgICAgcGVlckNvbm5lY3Rpb25NYW5hZ2VyOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBwZWVyQ29ubmVjdGlvbk1hbmFnZXJcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTSVBKU01lZGlhSGFuZGxlciwgW3tcbiAgICBrZXk6ICdjbG9zZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbk1hbmFnZXIuY2xvc2UoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXREZXNjcmlwdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlc2NyaXB0aW9uKCkge1xuICAgICAgdmFyIGNvbm5lY3RNZXNzYWdlID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIC8qIGVzbGludCBjYW1lbGNhc2U6MCAqL1xuICAgICAgICBwZWVyX2Nvbm5lY3Rpb25zOiB0aGlzLnBlZXJDb25uZWN0aW9uTWFuYWdlci5nZXRTdGF0ZXMoKVxuICAgICAgfSwgdGhpcy5jcmVhdGVNZXNzYWdlKCkpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNvbm5lY3RNZXNzYWdlKSxcbiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9yb29tLXNpZ25hbGluZytqc29uJ1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFzRGVzY3JpcHRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNEZXNjcmlwdGlvbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hvbGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBob2xkKCkge1xuICAgICAgLy8gTk9URShtcm9iZXJ0cyk6IFdlIGRvbid0IHVzZSBTSVAuanMncyBob2xkIGZ1bmN0aW9uYWxpdHkuXG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNSZWFkeScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzUmVhZHkoKSB7XG4gICAgICAvLyBOT1RFKG1yb2JlcnRzKTogV2UgZG9uJ3QgdXNlIFNJUC5qcydzIGlzUmVhZHkgZnVuY3Rpb25hbGl0eS5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzTXV0ZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc011dGVkKCkge1xuICAgICAgLy8gTk9URShtcm9iZXJ0cyk6IFdlIGRvbid0IHVzZSBTSVAuanMncyBpc011dGVkIGZ1bmN0aW9uYWxpdHkuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBhdWRpbzogZmFsc2UsXG4gICAgICAgIHZpZGVvOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdtdXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbXV0ZSgpIHtcbiAgICAgIC8vIE5PVEUobXJvYmVydHMpOiBXZSBkb24ndCB1c2UgU0lQLmpzJ3MgbXV0ZSBmdW5jdGlvbmFsaXR5LlxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIC8vIE5PVEUobXJvYmVydHMpOiBXZSBkb24ndCB1c2UgU0lQLmpzJ3MgcmVuZGVyIGZ1bmN0aW9uYWxpdHkuXG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0RGVzY3JpcHRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREZXNjcmlwdGlvbihtZXNzYWdlKSB7XG4gICAgICB2YXIgcm9vbVN0YXRlID0gZ2V0Um9vbVN0YXRlKG1lc3NhZ2UpO1xuICAgICAgaWYgKHJvb21TdGF0ZSkge1xuICAgICAgICB2YXIgcGVlckNvbm5lY3Rpb25TdGF0ZXMgPSByb29tU3RhdGUucGVlcl9jb25uZWN0aW9ucztcbiAgICAgICAgaWYgKHBlZXJDb25uZWN0aW9uU3RhdGVzKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb25NYW5hZ2VyLnVwZGF0ZShwZWVyQ29ubmVjdGlvblN0YXRlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd1bmhvbGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bmhvbGQoKSB7XG4gICAgICAvLyBOT1RFKG1yb2JlcnRzKTogV2UgZG9uJ3QgdXNlIFNJUC5qcydzIHVuaG9sZCBmdW5jdGlvbmFsaXR5LlxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3VubXV0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVubXV0ZSgpIHtcbiAgICAgIC8vIE5PVEUobXJvYmVydHMpOiBXZSBkb24ndCB1c2UgU0lQLmpzJ3MgdW5tdXRlIGZ1bmN0aW9uYWxpdHkuXG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndXBkYXRlSWNlU2VydmVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUljZVNlcnZlcnMoKSB7XG4gICAgICAvLyBOT1RFKG1yb2JlcnRzKTogV2UgZG9uJ3QgdXNlIFNJUC5qcydzIElDRSBzZXJ2ZXIgZnVuY3Rpb25hbGl0eS5cbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogJ2RlZmF1bHRGYWN0b3J5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVmYXVsdEZhY3RvcnkoKSB7XG4gICAgICAvLyBOT1RFKG1yb2JlcnRzKTogV2UgZG9uJ3QgdXNlIFNJUC5qcydzIGRlZmF1bHRGYWN0b3J5IGZ1bmN0aW9uYWxpdHkuXG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNJUEpTTWVkaWFIYW5kbGVyO1xufSgpO1xuXG5TSVBKU01lZGlhSGFuZGxlci5kZWZhdWx0RmFjdG9yeS5pc1N1cHBvcnRlZCA9IGZ1bmN0aW9uIGlzU3VwcG9ydGVkKCkge1xuICByZXR1cm4gU0lQLldlYlJUQy5pc1N1cHBvcnRlZCgpO1xufTtcblxuZnVuY3Rpb24gZ2V0Um9vbVN0YXRlKG1lc3NhZ2UpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShtZXNzYWdlLmJvZHkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU0lQSlNNZWRpYUhhbmRsZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvc2lwanNtZWRpYWhhbmRsZXIuanNcbi8vIG1vZHVsZSBpZCA9IDI2MFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///260\n");

/***/ }),
/* 261 */
/*!***********************************************************!*\
  !*** ./node_modules/twilio-video/es5/createlocaltrack.js ***!
  \***********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar defaultCreateLocalTracks = __webpack_require__(/*! ./createlocaltracks */ 221);\nvar DEFAULT_LOG_LEVEL = __webpack_require__(/*! ./util/constants */ 208).DEFAULT_LOG_LEVEL;\n\n/**\n * Request a {@link LocalAudioTrack} or {@link LocalVideoTrack}.\n * @param {Track.Kind} kind - \"audio\" or \"video\"\n * @param {CreateLocalTrackOptions} [options]\n * @returns {Promise<LocalAudioTrack|LocalVideoTrack>}\n * @private\n */\nfunction createLocalTrack(kind, options) {\n  options = Object.assign({\n    createLocalTracks: defaultCreateLocalTracks,\n    logLevel: DEFAULT_LOG_LEVEL\n  }, options);\n\n  var createOptions = {};\n  createOptions.logLevel = options.logLevel;\n  delete options.logLevel;\n\n  var createLocalTracks = options.createLocalTracks;\n  delete options.createLocalTracks;\n  createOptions[kind] = Object.keys(options).length > 0 ? options : true;\n\n  return createLocalTracks(createOptions).then(function (localTracks) {\n    return localTracks[0];\n  });\n}\n\n/**\n * Request a {@link LocalAudioTrack}.\n * @param {CreateLocalTrackOptions} [options] - Options for requesting a {@link LocalAudioTrack}\n * @returns {Promise<LocalAudioTrack>}\n * @example\n * var Video = require('twilio-video');\n *\n * // Connect to the Room with just video\n * Video.connect('my-token', {\n *   name: 'my-cool-room',\n *   video: true\n * }).then(function(room) {\n *   // Add audio after connecting to the Room\n *   Video.createLocalAudioTrack().then(function(localTrack) {\n *     room.localParticipant.publishTrack(localTrack);\n *   });\n * });\n * @example\n * var Video = require('twilio-video');\n *\n * // Request the default LocalAudioTrack with a custom name\n * Video.createLocalAudioTrack({ name: 'microphone' }).then(function(localTrack) {\n *   console.log(localTrack.name); // 'microphone'\n * });\n */\nfunction createLocalAudioTrack(options) {\n  return createLocalTrack('audio', options);\n}\n\n/**\n * Request a {@link LocalVideoTrack}.\n * @param {CreateLocalTrackOptions} [options] - Options for requesting a {@link LocalVideoTrack}\n * @returns {Promise<LocalVideoTrack>}\n * @example\n * var Video = require('twilio-video');\n *\n * // Connect to the Room with just audio\n * Video.connect('my-token', {\n *   name: 'my-cool-room',\n *   audio: true\n * }).then(function(room) {\n *   // Add video after connecting to the Room\n *   Video.createLocalVideoTrack().then(function(localTrack) {\n *     room.localParticipant.publishTrack(localTrack);\n *   });\n * });\n * @example\n * var Video = require('twilio-video');\n *\n * // Request the default LocalVideoTrack with a custom name\n * Video.createLocalVideoTrack({ name: 'camera' }).then(function(localTrack) {\n *   console.log(localTrack.name); // 'camera'\n * });\n */\nfunction createLocalVideoTrack(options) {\n  return createLocalTrack('video', options);\n}\n\n/**\n * Create {@link LocalTrack} options.\n * @typedef {MediaTrackConstraints} CreateLocalTrackOptions\n * @property {LogLevel|LogLevels} logLevel\n * @property {string} [name] - The {@link LocalTrack}'s name; by default,\n *   it is set to the {@link LocalTrack}'s ID.\n * @property {boolean} [workaroundWebKitBug180748=false] - Only valid for\n *   {@link LocalAudioTrack}s; setting this attempts to workaround WebKit Bug\n *   180748, where, in Safari, getUserMedia may return a silent audio\n *   MediaStreamTrack.\n */\n\nmodule.exports = {\n  audio: createLocalAudioTrack,\n  video: createLocalVideoTrack\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9jcmVhdGVsb2NhbHRyYWNrLmpzP2Y0NWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsK0JBQStCLG1CQUFPLENBQUMsOEJBQXFCO0FBQzVELHdCQUF3QixtQkFBTyxDQUFDLDJCQUFrQjs7QUFFbEQ7QUFDQSxjQUFjLHNCQUFzQixLQUFLLHNCQUFzQjtBQUMvRCxXQUFXLFdBQVc7QUFDdEIsV0FBVyx3QkFBd0I7QUFDbkMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsY0FBYyxzQkFBc0I7QUFDcEMsV0FBVyx3QkFBd0IsdUNBQXVDO0FBQzFFLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHFCQUFxQjtBQUNyRCxrQ0FBa0M7QUFDbEMsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYyxzQkFBc0I7QUFDcEMsV0FBVyx3QkFBd0IsdUNBQXVDO0FBQzFFLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGlCQUFpQjtBQUNqRCxrQ0FBa0M7QUFDbEMsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUIsYUFBYSxzQkFBc0I7QUFDbkMsY0FBYyxtQkFBbUI7QUFDakMsY0FBYyxPQUFPLGVBQWUsaUJBQWlCLFFBQVE7QUFDN0QsdUJBQXVCLGlCQUFpQjtBQUN4QyxjQUFjLFFBQVE7QUFDdEIsTUFBTSxzQkFBc0IsRUFBRTtBQUM5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMjYxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZGVmYXVsdENyZWF0ZUxvY2FsVHJhY2tzID0gcmVxdWlyZSgnLi9jcmVhdGVsb2NhbHRyYWNrcycpO1xudmFyIERFRkFVTFRfTE9HX0xFVkVMID0gcmVxdWlyZSgnLi91dGlsL2NvbnN0YW50cycpLkRFRkFVTFRfTE9HX0xFVkVMO1xuXG4vKipcbiAqIFJlcXVlc3QgYSB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfSBvciB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfS5cbiAqIEBwYXJhbSB7VHJhY2suS2luZH0ga2luZCAtIFwiYXVkaW9cIiBvciBcInZpZGVvXCJcbiAqIEBwYXJhbSB7Q3JlYXRlTG9jYWxUcmFja09wdGlvbnN9IFtvcHRpb25zXVxuICogQHJldHVybnMge1Byb21pc2U8TG9jYWxBdWRpb1RyYWNrfExvY2FsVmlkZW9UcmFjaz59XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVMb2NhbFRyYWNrKGtpbmQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIGNyZWF0ZUxvY2FsVHJhY2tzOiBkZWZhdWx0Q3JlYXRlTG9jYWxUcmFja3MsXG4gICAgbG9nTGV2ZWw6IERFRkFVTFRfTE9HX0xFVkVMXG4gIH0sIG9wdGlvbnMpO1xuXG4gIHZhciBjcmVhdGVPcHRpb25zID0ge307XG4gIGNyZWF0ZU9wdGlvbnMubG9nTGV2ZWwgPSBvcHRpb25zLmxvZ0xldmVsO1xuICBkZWxldGUgb3B0aW9ucy5sb2dMZXZlbDtcblxuICB2YXIgY3JlYXRlTG9jYWxUcmFja3MgPSBvcHRpb25zLmNyZWF0ZUxvY2FsVHJhY2tzO1xuICBkZWxldGUgb3B0aW9ucy5jcmVhdGVMb2NhbFRyYWNrcztcbiAgY3JlYXRlT3B0aW9uc1traW5kXSA9IE9iamVjdC5rZXlzKG9wdGlvbnMpLmxlbmd0aCA+IDAgPyBvcHRpb25zIDogdHJ1ZTtcblxuICByZXR1cm4gY3JlYXRlTG9jYWxUcmFja3MoY3JlYXRlT3B0aW9ucykudGhlbihmdW5jdGlvbiAobG9jYWxUcmFja3MpIHtcbiAgICByZXR1cm4gbG9jYWxUcmFja3NbMF07XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlcXVlc3QgYSB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfS5cbiAqIEBwYXJhbSB7Q3JlYXRlTG9jYWxUcmFja09wdGlvbnN9IFtvcHRpb25zXSAtIE9wdGlvbnMgZm9yIHJlcXVlc3RpbmcgYSB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfVxuICogQHJldHVybnMge1Byb21pc2U8TG9jYWxBdWRpb1RyYWNrPn1cbiAqIEBleGFtcGxlXG4gKiB2YXIgVmlkZW8gPSByZXF1aXJlKCd0d2lsaW8tdmlkZW8nKTtcbiAqXG4gKiAvLyBDb25uZWN0IHRvIHRoZSBSb29tIHdpdGgganVzdCB2aWRlb1xuICogVmlkZW8uY29ubmVjdCgnbXktdG9rZW4nLCB7XG4gKiAgIG5hbWU6ICdteS1jb29sLXJvb20nLFxuICogICB2aWRlbzogdHJ1ZVxuICogfSkudGhlbihmdW5jdGlvbihyb29tKSB7XG4gKiAgIC8vIEFkZCBhdWRpbyBhZnRlciBjb25uZWN0aW5nIHRvIHRoZSBSb29tXG4gKiAgIFZpZGVvLmNyZWF0ZUxvY2FsQXVkaW9UcmFjaygpLnRoZW4oZnVuY3Rpb24obG9jYWxUcmFjaykge1xuICogICAgIHJvb20ubG9jYWxQYXJ0aWNpcGFudC5wdWJsaXNoVHJhY2sobG9jYWxUcmFjayk7XG4gKiAgIH0pO1xuICogfSk7XG4gKiBAZXhhbXBsZVxuICogdmFyIFZpZGVvID0gcmVxdWlyZSgndHdpbGlvLXZpZGVvJyk7XG4gKlxuICogLy8gUmVxdWVzdCB0aGUgZGVmYXVsdCBMb2NhbEF1ZGlvVHJhY2sgd2l0aCBhIGN1c3RvbSBuYW1lXG4gKiBWaWRlby5jcmVhdGVMb2NhbEF1ZGlvVHJhY2soeyBuYW1lOiAnbWljcm9waG9uZScgfSkudGhlbihmdW5jdGlvbihsb2NhbFRyYWNrKSB7XG4gKiAgIGNvbnNvbGUubG9nKGxvY2FsVHJhY2submFtZSk7IC8vICdtaWNyb3Bob25lJ1xuICogfSk7XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUxvY2FsQXVkaW9UcmFjayhvcHRpb25zKSB7XG4gIHJldHVybiBjcmVhdGVMb2NhbFRyYWNrKCdhdWRpbycsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIFJlcXVlc3QgYSB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfS5cbiAqIEBwYXJhbSB7Q3JlYXRlTG9jYWxUcmFja09wdGlvbnN9IFtvcHRpb25zXSAtIE9wdGlvbnMgZm9yIHJlcXVlc3RpbmcgYSB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfVxuICogQHJldHVybnMge1Byb21pc2U8TG9jYWxWaWRlb1RyYWNrPn1cbiAqIEBleGFtcGxlXG4gKiB2YXIgVmlkZW8gPSByZXF1aXJlKCd0d2lsaW8tdmlkZW8nKTtcbiAqXG4gKiAvLyBDb25uZWN0IHRvIHRoZSBSb29tIHdpdGgganVzdCBhdWRpb1xuICogVmlkZW8uY29ubmVjdCgnbXktdG9rZW4nLCB7XG4gKiAgIG5hbWU6ICdteS1jb29sLXJvb20nLFxuICogICBhdWRpbzogdHJ1ZVxuICogfSkudGhlbihmdW5jdGlvbihyb29tKSB7XG4gKiAgIC8vIEFkZCB2aWRlbyBhZnRlciBjb25uZWN0aW5nIHRvIHRoZSBSb29tXG4gKiAgIFZpZGVvLmNyZWF0ZUxvY2FsVmlkZW9UcmFjaygpLnRoZW4oZnVuY3Rpb24obG9jYWxUcmFjaykge1xuICogICAgIHJvb20ubG9jYWxQYXJ0aWNpcGFudC5wdWJsaXNoVHJhY2sobG9jYWxUcmFjayk7XG4gKiAgIH0pO1xuICogfSk7XG4gKiBAZXhhbXBsZVxuICogdmFyIFZpZGVvID0gcmVxdWlyZSgndHdpbGlvLXZpZGVvJyk7XG4gKlxuICogLy8gUmVxdWVzdCB0aGUgZGVmYXVsdCBMb2NhbFZpZGVvVHJhY2sgd2l0aCBhIGN1c3RvbSBuYW1lXG4gKiBWaWRlby5jcmVhdGVMb2NhbFZpZGVvVHJhY2soeyBuYW1lOiAnY2FtZXJhJyB9KS50aGVuKGZ1bmN0aW9uKGxvY2FsVHJhY2spIHtcbiAqICAgY29uc29sZS5sb2cobG9jYWxUcmFjay5uYW1lKTsgLy8gJ2NhbWVyYSdcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBjcmVhdGVMb2NhbFZpZGVvVHJhY2sob3B0aW9ucykge1xuICByZXR1cm4gY3JlYXRlTG9jYWxUcmFjaygndmlkZW8nLCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUge0BsaW5rIExvY2FsVHJhY2t9IG9wdGlvbnMuXG4gKiBAdHlwZWRlZiB7TWVkaWFUcmFja0NvbnN0cmFpbnRzfSBDcmVhdGVMb2NhbFRyYWNrT3B0aW9uc1xuICogQHByb3BlcnR5IHtMb2dMZXZlbHxMb2dMZXZlbHN9IGxvZ0xldmVsXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW25hbWVdIC0gVGhlIHtAbGluayBMb2NhbFRyYWNrfSdzIG5hbWU7IGJ5IGRlZmF1bHQsXG4gKiAgIGl0IGlzIHNldCB0byB0aGUge0BsaW5rIExvY2FsVHJhY2t9J3MgSUQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3b3JrYXJvdW5kV2ViS2l0QnVnMTgwNzQ4PWZhbHNlXSAtIE9ubHkgdmFsaWQgZm9yXG4gKiAgIHtAbGluayBMb2NhbEF1ZGlvVHJhY2t9czsgc2V0dGluZyB0aGlzIGF0dGVtcHRzIHRvIHdvcmthcm91bmQgV2ViS2l0IEJ1Z1xuICogICAxODA3NDgsIHdoZXJlLCBpbiBTYWZhcmksIGdldFVzZXJNZWRpYSBtYXkgcmV0dXJuIGEgc2lsZW50IGF1ZGlvXG4gKiAgIE1lZGlhU3RyZWFtVHJhY2suXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGF1ZGlvOiBjcmVhdGVMb2NhbEF1ZGlvVHJhY2ssXG4gIHZpZGVvOiBjcmVhdGVMb2NhbFZpZGVvVHJhY2tcbn07XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9jcmVhdGVsb2NhbHRyYWNrLmpzXG4vLyBtb2R1bGUgaWQgPSAyNjFcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///261\n");

/***/ }),
/* 262 */
/*!**************************************************!*\
  !*** ./node_modules/twilio-video/es5/connect.js ***!
  \**************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar CancelablePromise = __webpack_require__(/*! ./util/cancelablepromise */ 220);\nvar createCancelableRoomPromise = __webpack_require__(/*! ./cancelableroompromise */ 263);\nvar createLocalTracks = __webpack_require__(/*! ./createlocaltracks */ 221);\nvar ConstantIceServerSource = __webpack_require__(/*! ./iceserversource/constant */ 283);\nvar constants = __webpack_require__(/*! ./util/constants */ 208);\nvar Room = __webpack_require__(/*! ./room */ 284);\nvar E = __webpack_require__(/*! ./util/constants */ 208).typeErrors;\nvar EncodingParametersImpl = __webpack_require__(/*! ./encodingparameters */ 297);\nvar guessBrowser = __webpack_require__(/*! ./util */ 206).guessBrowser;\nvar LocalAudioTrack = __webpack_require__(/*! ./media/track/es5/localaudiotrack */ 216);\nvar LocalDataTrack = __webpack_require__(/*! ./media/track/es5/localdatatrack */ 217);\nvar LocalParticipant = __webpack_require__(/*! ./localparticipant */ 298);\nvar LocalVideoTrack = __webpack_require__(/*! ./media/track/es5/localvideotrack */ 218);\nvar Log = __webpack_require__(/*! ./util/log */ 214);\nvar MediaStreamTrack = __webpack_require__(/*! @twilio/webrtc */ 212).MediaStreamTrack;\nvar NTSIceServerSource = __webpack_require__(/*! ./iceserversource/nts */ 302);\nvar SignalingV2 = __webpack_require__(/*! ./signaling/v2 */ 307);\nvar util = __webpack_require__(/*! ./util */ 206);\n\n// This is used to make out which connect() call a particular Log statement\n// belongs to. Each call to connect() increments this counter.\nvar connectCalls = 0;\n\nvar didPrintSafariWarning = false;\n\n/**\n * Connect to a {@link Room}.\n *   <br><br>\n *   By default, this will automatically acquire an array containing a\n *   {@link LocalAudioTrack} and {@link LocalVideoTrack} before connecting to\n *   the {@link Room}. These will be stopped when you disconnect from the\n *   {@link Room}.\n *   <br><br>\n *   You can override the default behavior by specifying\n *   <code>options</code>. For example, rather than acquiring a\n *   {@link LocalAudioTrack} and {@link LocalVideoTrack} automatically, you can\n *   pass your own array which you can stop yourself. See {@link ConnectOptions}\n *   for more information.\n * @param {string} token - The Access Token string\n * @param {ConnectOptions} [options] - Options to override the default behavior\n * @returns {CancelablePromise<Room>}\n * @throws {RangeError}\n * @throws {TwilioError}\n * @throws {TypeError}\n * @example\n * var Video = require('twilio-video');\n * var token = getAccessToken();\n * Video.connect(token, {\n *   name: 'my-cool-room'\n * }).then(function(room) {\n *   room.on('participantConnected', function(participant) {\n *     console.log(participant.identity + ' has connected');\n *   });\n\n *   room.once('disconnected', function() {\n *     console.log('You left the Room:', room.name);\n *   });\n * });\n * @example\n * var Video = require('twilio-video');\n * var token = getAccessToken();\n *\n * // Connect with audio-only\n * Video.connect(token, {\n *   name: 'my-cool-room',\n *   audio: true\n * }).then(function(room) {\n *   room.on('participantConnected', function(participant) {\n *     console.log(participant.identity + ' has connected');\n *   });\n *\n *   room.once('disconnected', function() {\n *     console.log('You left the Room:', room.name);\n *   });\n * });\n * @example\n * var Video = require('twilio-video');\n * var token = getAccessToken();\n *\n * // Connect with media acquired using getUserMedia()\n * navigator.mediaDevices.getUserMedia({\n *   audio: true,\n *   video: true\n * }).then(function(mediaStream) {\n *   return Video.connect(token, {\n *     name: 'my-cool-room',\n *     tracks: mediaStream.getTracks()\n *   });\n * }).then(function(room) {\n *   room.on('participantConnected', function(participant) {\n *     console.log(participant.identity + ' has connected');\n *   });\n *\n *   room.once('disconnected', function() {\n *     console.log('You left the Room:', room.name);\n *   });\n * });\n * @example\n * var Video = require('twilio-video');\n * var token = getAccessToken();\n *\n * // Connect with custom names for LocalAudioTrack and LocalVideoTrack\n * Video.connect(token, {\n *   name: 'my-cool-room'\n *   audio: { name: 'microphone' },\n *   video: { name: 'camera' }\n * }).then(function(room) {\n *   room.localParticipants.trackPublications.forEach(function(publication) {\n *     console.log('The LocalTrack \"' + publication.trackName + '\" was successfully published');\n *   });\n * });\n */\nfunction connect(token, options) {\n  if (typeof options === 'undefined') {\n    options = {};\n  }\n  if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) !== 'object' || Array.isArray(options)) {\n    return CancelablePromise.reject(E.INVALID_TYPE('options', 'object'));\n  }\n\n  options = Object.assign({\n    abortOnIceServersTimeout: false,\n    createLocalTracks: createLocalTracks,\n    environment: constants.DEFAULT_ENVIRONMENT,\n    iceServersTimeout: constants.ICE_SERVERS_TIMEOUT_MS,\n    insights: true,\n    LocalAudioTrack: LocalAudioTrack,\n    LocalDataTrack: LocalDataTrack,\n    LocalParticipant: LocalParticipant,\n    LocalVideoTrack: LocalVideoTrack,\n    MediaStreamTrack: MediaStreamTrack,\n    logLevel: constants.DEFAULT_LOG_LEVEL,\n    maxAudioBitrate: null,\n    maxVideoBitrate: null,\n    name: null,\n    preferredAudioCodecs: [],\n    preferredVideoCodecs: [],\n    realm: constants.DEFAULT_REALM,\n    signaling: SignalingV2\n  }, util.filterObject(options));\n\n  /* eslint new-cap:0 */\n  options = Object.assign({\n    wsServer: constants.WS_SERVER(options.environment, options.realm)\n  }, options);\n\n  var logLevels = util.buildLogLevels(options.logLevel);\n  var logComponentName = '[connect #' + ++connectCalls + ']';\n\n  var log = void 0;\n  try {\n    log = new Log('default', logComponentName, logLevels);\n  } catch (error) {\n    return CancelablePromise.reject(error);\n  }\n  options.log = log;\n\n  // NOTE(mroberts): Print the Safari warning once if the log-level is at least\n  // \"warn\", i.e. neither \"error\" nor \"off\".\n  if (guessBrowser() === 'safari' && !didPrintSafariWarning && log.logLevel !== 'error' && log.logLevel !== 'off') {\n    didPrintSafariWarning = true;\n    log.warn(['This release of twilio-video.js includes experimental support for', 'Safari 11 and newer. Support for Safari is \"experimental\" because,', 'at the time of writing, Safari does not support VP8. This means you', 'may experience codec issues in Group Rooms. You may also experience', 'codec issues in Peer-to-Peer (P2P) Rooms containing Android- or', 'iOS-based Participants who do not support H.264. However, P2P Rooms', 'with browser-based Participants should work. Please test this release', 'and report any issues to https://github.com/twilio/twilio-video.js'].join(' '));\n  }\n\n  if (typeof token !== 'string') {\n    return CancelablePromise.reject(E.INVALID_TYPE('token', 'string'));\n  }\n\n  // NOTE(mmalavalli): The Room \"name\" in \"options\" was being used\n  // as the LocalTrack name in asLocalTrack(). So we pass a copy of\n  // \"options\" without the \"name\".\n  var localTrackOptions = Object.assign({}, options);\n  delete localTrackOptions.name;\n\n  if ('tracks' in options) {\n    if (!Array.isArray(options.tracks)) {\n      return CancelablePromise.reject(E.INVALID_TYPE('options.tracks', 'Array of LocalAudioTrack, LocalVideoTrack or MediaStreamTrack'));\n    }\n    try {\n      options.tracks = options.tracks.map(function (track) {\n        return util.asLocalTrack(track, localTrackOptions);\n      });\n    } catch (error) {\n      return CancelablePromise.reject(error);\n    }\n  }\n\n  var Signaling = options.signaling;\n  var signaling = new Signaling(options.wsServer, options);\n\n  log.info('Connecting to a Room');\n  log.debug('Options:', options);\n\n  var encodingParameters = new EncodingParametersImpl({\n    maxAudioBitrate: options.maxAudioBitrate,\n    maxVideoBitrate: options.maxVideoBitrate\n  });\n\n  var ntsIceServerSourceOptions = Object.assign({}, options, {\n    abortOnTimeout: options.abortOnIceServersTimeout,\n    timeout: options.iceServersTimeout\n  });\n\n  var iceServerSource = Array.isArray(options.iceServers) ? new ConstantIceServerSource(options.iceServers) : _typeof(options.iceServers) === 'object' ? options.iceServers : new NTSIceServerSource(token, ntsIceServerSourceOptions);\n\n  var preferredCodecs = {\n    audio: options.preferredAudioCodecs,\n    video: options.preferredVideoCodecs.map(normalizeVideoCodecSettings)\n  };\n\n  // Create a CancelableRoomPromise<Room> that resolves after these steps:\n  // 1 - Get the LocalTracks.\n  // 2 - Create the LocalParticipant using options.tracks.\n  // 3 - Connect to rtc-room-service and create the RoomSignaling.\n  // 4 - Create the Room and then resolve the CancelablePromise.\n  var cancelableRoomPromise = createCancelableRoomPromise(getLocalTracks.bind(null, options), createLocalParticipant.bind(null, signaling, log, encodingParameters, options), createRoomSignaling.bind(null, token, options, signaling, iceServerSource, encodingParameters, preferredCodecs), createRoom.bind(null, options));\n\n  cancelableRoomPromise.then(function (room) {\n    log.info('Connected to Room:', room.toString());\n    log.info('Room name:', room.name);\n    log.debug('Room:', room);\n    return room;\n  }, function (error) {\n    if (iceServerSource.isStarted) {\n      iceServerSource.stop();\n    }\n    if (cancelableRoomPromise._isCanceled) {\n      log.info('Attempt to connect to a Room was canceled');\n    } else {\n      log.info('Error while connecting to a Room:', error);\n    }\n  });\n\n  return cancelableRoomPromise;\n}\n\n/**\n * You may pass these options to {@link connect} in order to override the\n * default behavior.\n * @typedef {object} ConnectOptions\n * @property {boolean} [abortOnIceServersTimeout=false] - If fetching ICE\n *   servers times out (for example, due to a restrictive network or slow HTTP\n *   proxy), then, by default, twilio-video.js will fallback to using hard-coded\n *   STUN servers and continue connecting to the Room. Setting this property to\n *   <code>true</code> will cause twilio-video.js to abort instead, and\n *   {@link connect} will reject with a {@link ConfigurationAcquireFailedError}.\n * @property {boolean|CreateLocalTrackOptions} [audio=true] - Whether or not to\n *   get local audio with <code>getUserMedia</code> when <code>tracks</code>\n *   are not provided.\n * @property {boolean} [dominantSpeaker=false] - Whether to enable the Dominant\n *   Speaker API or not. This only takes effect in Group Rooms.\n * @property {Array<RTCIceServer>} iceServers - Override the STUN and TURN\n *   servers used when connecting to {@link Room}s\n * @property {number} [iceServersTimeout=3000] - Override the amount of time, in\n *   milliseconds, that the SDK will wait when acquiring STUN and TURN servers\n * @property {RTCIceTransportPolicy} [iceTransportPolicy=\"all\"] - Override the\n *   ICE transport policy to be one of \"relay\" or \"all\"\n * @property {boolean} [insights=true] - Whether publishing events\n *   to the Insights gateway is enabled or not\n * @property {?number} [maxAudioBitrate=null] - Max outgoing audio bitrate (bps);\n *   A <code>null</code> value does not set any bitrate limit; This value is set\n *   as a hint for variable bitrate codecs, but will not take effect for fixed\n *   bitrate codecs\n * @property {?number} [maxVideoBitrate=null] - Max outgoing video bitrate (bps);\n *   A <code>null</code> value does not set any bitrate limit; This value is set\n *   as a hint for variable bitrate codecs, but will not take effect for fixed\n *   bitrate codecs\n * @property {?string} [name=null] - Set to connect to a {@link Room} by name\n * @property {boolean} [networkQuality=false] - Whether to enable the Network\n *   Quality API or not. This only takes effect in Group Rooms.\n * @property {Array<AudioCodec>} [preferredAudioCodecs=[]] - Preferred audio codecs;\n *  An empty array preserves the current audio codec preference order.\n * @property {Array<VideoCodec|VideoCodecSettings>} [preferredVideoCodecs=[]] -\n *  Preferred video codecs; An empty array preserves the current video codec\n *  preference order. If you want to set a preferred video codec on a Group Room,\n *  you will need to create the Room using the REST API and set the\n *  <code>VideoCodecs</code> property.\n *  See <a href=\"https://www.twilio.com/docs/api/video/rooms-resource#create-room\">\n *  here</a> for more information.\n * @property {LogLevel|LogLevels} [logLevel='warn'] - Set the log verbosity\n *   of logging to console. Passing a {@link LogLevel} string will use the same\n *   level for all components. Pass a {@link LogLevels} to set specific log\n *   levels.\n * @property {Array<LocalTrack|MediaStreamTrack>} [tracks] - The\n *   {@link LocalTrack}s or MediaStreamTracks with which to join the\n *   {@link Room}. These tracks can be obtained either by calling\n *   {@link createLocalTracks}, or by constructing them from the MediaStream\n *   obtained by calling <code>getUserMedia()</code>.\n * @property {boolean|CreateLocalTrackOptions} [video=true] - Whether or not to\n *   get local video with <code>getUserMedia</code> when <code>tracks</code>\n *   are not provided.\n */\n\n/**\n * You may pass these levels to {@link ConnectOptions} to override\n *   log levels for individual components.\n * @typedef {object} LogLevels\n * @property {LogLevel} [default='warn'] - Log level for 'default' modules.\n * @property {LogLevel} [media='warn'] - Log level for 'media' modules.\n * @property {LogLevel} [signaling='warn'] - Log level for 'signaling' modules.\n * @property {LogLevel} [webrtc='warn'] - Log level for 'webrtc' modules.\n */\n\n/**\n * Video codec settings.\n * @typedef {object} VideoCodecSettings\n * @property {VideoCodec} codec - Video codec name\n */\n\n/**\n * VP8 codec settings.\n * @typedef {VideoCodecSettings} VP8CodecSettings\n * @property {VideoCodec} name - \"VP8\"\n * @property {boolean} [simulcast=false] - Enable/disable VP8 simulcast; if\n *   enabled, Twilio's Video SDK will send three video streams of different\n *   qualities\n */\n\n/**\n * Names of the supported audio codecs.\n * @enum {string}\n */\n// eslint-disable-next-line\nvar AudioCodec = {\n  isac: 'isac',\n  opus: 'opus',\n  PCMA: 'PCMA',\n  PCMU: 'PCMU'\n};\n\n/**\n * Names of the supported video codecs.\n * @enum {string}\n */\n// eslint-disable-next-line\nvar VideoCodec = {\n  H264: 'H264',\n  VP8: 'VP8',\n  VP9: 'VP9'\n};\n\n/**\n * Levels for logging verbosity.\n * @enum {string}\n */\n// eslint-disable-next-line\nvar LogLevel = {\n  debug: 'debug',\n  info: 'info',\n  warn: 'warn',\n  error: 'error',\n  off: 'off'\n};\n\nfunction createLocalParticipant(signaling, log, encodingParameters, options, localTracks) {\n  var localParticipantSignaling = signaling.createLocalParticipantSignaling(encodingParameters);\n  log.debug('Creating a new LocalParticipant:', localParticipantSignaling);\n  return new options.LocalParticipant(localParticipantSignaling, localTracks, options);\n}\n\nfunction createRoom(options, localParticipant, roomSignaling) {\n  var room = new Room(localParticipant, roomSignaling, options);\n  var log = options.log;\n\n  log.debug('Creating a new Room:', room);\n  roomSignaling.on('stateChanged', function stateChanged() {\n    log.info('Disconnected from Room:', room.toString());\n    roomSignaling.removeListener('stateChanged', stateChanged);\n  });\n\n  return room;\n}\n\nfunction createRoomSignaling(token, options, signaling, iceServerSource, encodingParameters, preferredCodecs, localParticipant) {\n  var log = options.log;\n  log.info('Getting ICE servers');\n  log.debug('Options:', options);\n\n  return iceServerSource.start().then(function (iceServers) {\n    var roomSignalingParams = {\n      token: token\n    };\n\n    log.info('Got ICE servers');\n    log.debug('ICE servers:', iceServers);\n\n    options.iceServers = iceServers;\n    log.debug('Creating a new RoomSignaling');\n    log.debug('RoomSignaling params:', roomSignalingParams);\n\n    return signaling.connect(localParticipant._signaling, token, iceServerSource, encodingParameters, preferredCodecs, options);\n  });\n}\n\nfunction getLocalTracks(options, handleLocalTracks) {\n  var log = options.log;\n\n  options.shouldStopLocalTracks = !options.tracks;\n  if (options.shouldStopLocalTracks) {\n    log.info('LocalTracks were not provided, so they will be acquired ' + 'automatically before connecting to the Room. LocalTracks will ' + 'be released if connecting to the Room fails or if the Room ' + 'is disconnected');\n  } else {\n    log.info('Getting LocalTracks');\n    log.debug('Options:', options);\n  }\n\n  return options.createLocalTracks(options).then(function getLocalTracksSucceeded(localTracks) {\n    var promise = handleLocalTracks(localTracks);\n\n    promise.catch(function handleLocalTracksFailed() {\n      if (options.shouldStopLocalTracks) {\n        log.info('The automatically acquired LocalTracks will now be stopped');\n        localTracks.forEach(function (track) {\n          track.stop();\n        });\n      }\n    });\n\n    return promise;\n  });\n}\n\nfunction normalizeVideoCodecSettings(nameOrSettings) {\n  var settings = typeof nameOrSettings === 'string' ? { codec: nameOrSettings } : nameOrSettings;\n  switch (settings.codec.toLowerCase()) {\n    case 'vp8':\n      {\n        return Object.assign({ simulcast: false }, settings);\n      }\n    default:\n      {\n        return settings;\n      }\n  }\n}\n\nmodule.exports = connect;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9jb25uZWN0LmpzP2MxNTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsb0dBQW9HLG1CQUFtQixFQUFFLG1CQUFtQiw4SEFBOEg7O0FBRTFRLHdCQUF3QixtQkFBTyxDQUFDLG1DQUEwQjtBQUMxRCxrQ0FBa0MsbUJBQU8sQ0FBQyxrQ0FBeUI7QUFDbkUsd0JBQXdCLG1CQUFPLENBQUMsOEJBQXFCO0FBQ3JELDhCQUE4QixtQkFBTyxDQUFDLHFDQUE0QjtBQUNsRSxnQkFBZ0IsbUJBQU8sQ0FBQywyQkFBa0I7QUFDMUMsV0FBVyxtQkFBTyxDQUFDLGlCQUFRO0FBQzNCLFFBQVEsbUJBQU8sQ0FBQywyQkFBa0I7QUFDbEMsNkJBQTZCLG1CQUFPLENBQUMsK0JBQXNCO0FBQzNELG1CQUFtQixtQkFBTyxDQUFDLGlCQUFRO0FBQ25DLHNCQUFzQixtQkFBTyxDQUFDLDRDQUFtQztBQUNqRSxxQkFBcUIsbUJBQU8sQ0FBQywyQ0FBa0M7QUFDL0QsdUJBQXVCLG1CQUFPLENBQUMsNkJBQW9CO0FBQ25ELHNCQUFzQixtQkFBTyxDQUFDLDRDQUFtQztBQUNqRSxVQUFVLG1CQUFPLENBQUMscUJBQVk7QUFDOUIsdUJBQXVCLG1CQUFPLENBQUMseUJBQWdCO0FBQy9DLHlCQUF5QixtQkFBTyxDQUFDLGdDQUF1QjtBQUN4RCxrQkFBa0IsbUJBQU8sQ0FBQyx5QkFBZ0I7QUFDMUMsV0FBVyxtQkFBTyxDQUFDLGlCQUFROztBQUUzQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxpQkFBaUIsV0FBVztBQUM1QjtBQUNBO0FBQ0EsTUFBTSxzQkFBc0IsTUFBTSxzQkFBc0I7QUFDeEQsVUFBVSxXQUFXO0FBQ3JCLE1BQU0sV0FBVztBQUNqQjtBQUNBO0FBQ0E7QUFDQSxNQUFNLHNCQUFzQixNQUFNLHNCQUFzQjtBQUN4RCwyREFBMkQ7QUFDM0Q7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxlQUFlO0FBQzFCLGFBQWE7QUFDYixZQUFZO0FBQ1osWUFBWTtBQUNaLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHFCQUFxQjtBQUNsQyxhQUFhO0FBQ2IsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQyxjQUFjO0FBQ2hEO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sY0FBYyxxQkFBcUIsc0NBQXNDO0FBQy9FLGNBQWMsZ0NBQWdDO0FBQzlDO0FBQ0E7QUFDQSxjQUFjLFFBQVE7QUFDdEI7QUFDQSxjQUFjLG9CQUFvQjtBQUNsQyxzQ0FBc0MsV0FBVztBQUNqRCxjQUFjLE9BQU87QUFDckI7QUFDQSxjQUFjLHNCQUFzQjtBQUNwQztBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBLGNBQWMsUUFBUTtBQUN0Qiw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0Qiw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBLGNBQWMsUUFBUSxvQ0FBb0MsV0FBVztBQUNyRSxjQUFjLFFBQVE7QUFDdEI7QUFDQSxjQUFjLGtCQUFrQjtBQUNoQztBQUNBLGNBQWMscUNBQXFDO0FBQ25ELDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxtQkFBbUI7QUFDakMsdUNBQXVDLGVBQWU7QUFDdEQsdUNBQXVDLGdCQUFnQjtBQUN2RDtBQUNBLGNBQWMsbUNBQW1DO0FBQ2pELE1BQU0saUJBQWlCO0FBQ3ZCLE1BQU0sV0FBVztBQUNqQixNQUFNLHdCQUF3QjtBQUM5QjtBQUNBLGNBQWMsZ0NBQWdDO0FBQzlDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlDQUFpQyxxQkFBcUI7QUFDdEQ7QUFDQSxhQUFhLE9BQU87QUFDcEIsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsU0FBUztBQUN2QixjQUFjLFNBQVM7QUFDdkIsY0FBYyxTQUFTO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsY0FBYyxXQUFXO0FBQ3pCOztBQUVBO0FBQ0E7QUFDQSxhQUFhLG1CQUFtQjtBQUNoQyxjQUFjLFdBQVc7QUFDekIsY0FBYyxRQUFRLGtEQUFrRDtBQUN4RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSx1REFBdUQsd0JBQXdCO0FBQy9FO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixtQkFBbUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMjYyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBDYW5jZWxhYmxlUHJvbWlzZSA9IHJlcXVpcmUoJy4vdXRpbC9jYW5jZWxhYmxlcHJvbWlzZScpO1xudmFyIGNyZWF0ZUNhbmNlbGFibGVSb29tUHJvbWlzZSA9IHJlcXVpcmUoJy4vY2FuY2VsYWJsZXJvb21wcm9taXNlJyk7XG52YXIgY3JlYXRlTG9jYWxUcmFja3MgPSByZXF1aXJlKCcuL2NyZWF0ZWxvY2FsdHJhY2tzJyk7XG52YXIgQ29uc3RhbnRJY2VTZXJ2ZXJTb3VyY2UgPSByZXF1aXJlKCcuL2ljZXNlcnZlcnNvdXJjZS9jb25zdGFudCcpO1xudmFyIGNvbnN0YW50cyA9IHJlcXVpcmUoJy4vdXRpbC9jb25zdGFudHMnKTtcbnZhciBSb29tID0gcmVxdWlyZSgnLi9yb29tJyk7XG52YXIgRSA9IHJlcXVpcmUoJy4vdXRpbC9jb25zdGFudHMnKS50eXBlRXJyb3JzO1xudmFyIEVuY29kaW5nUGFyYW1ldGVyc0ltcGwgPSByZXF1aXJlKCcuL2VuY29kaW5ncGFyYW1ldGVycycpO1xudmFyIGd1ZXNzQnJvd3NlciA9IHJlcXVpcmUoJy4vdXRpbCcpLmd1ZXNzQnJvd3NlcjtcbnZhciBMb2NhbEF1ZGlvVHJhY2sgPSByZXF1aXJlKCcuL21lZGlhL3RyYWNrL2VzNS9sb2NhbGF1ZGlvdHJhY2snKTtcbnZhciBMb2NhbERhdGFUcmFjayA9IHJlcXVpcmUoJy4vbWVkaWEvdHJhY2svZXM1L2xvY2FsZGF0YXRyYWNrJyk7XG52YXIgTG9jYWxQYXJ0aWNpcGFudCA9IHJlcXVpcmUoJy4vbG9jYWxwYXJ0aWNpcGFudCcpO1xudmFyIExvY2FsVmlkZW9UcmFjayA9IHJlcXVpcmUoJy4vbWVkaWEvdHJhY2svZXM1L2xvY2FsdmlkZW90cmFjaycpO1xudmFyIExvZyA9IHJlcXVpcmUoJy4vdXRpbC9sb2cnKTtcbnZhciBNZWRpYVN0cmVhbVRyYWNrID0gcmVxdWlyZSgnQHR3aWxpby93ZWJydGMnKS5NZWRpYVN0cmVhbVRyYWNrO1xudmFyIE5UU0ljZVNlcnZlclNvdXJjZSA9IHJlcXVpcmUoJy4vaWNlc2VydmVyc291cmNlL250cycpO1xudmFyIFNpZ25hbGluZ1YyID0gcmVxdWlyZSgnLi9zaWduYWxpbmcvdjInKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cbi8vIFRoaXMgaXMgdXNlZCB0byBtYWtlIG91dCB3aGljaCBjb25uZWN0KCkgY2FsbCBhIHBhcnRpY3VsYXIgTG9nIHN0YXRlbWVudFxuLy8gYmVsb25ncyB0by4gRWFjaCBjYWxsIHRvIGNvbm5lY3QoKSBpbmNyZW1lbnRzIHRoaXMgY291bnRlci5cbnZhciBjb25uZWN0Q2FsbHMgPSAwO1xuXG52YXIgZGlkUHJpbnRTYWZhcmlXYXJuaW5nID0gZmFsc2U7XG5cbi8qKlxuICogQ29ubmVjdCB0byBhIHtAbGluayBSb29tfS5cbiAqICAgPGJyPjxicj5cbiAqICAgQnkgZGVmYXVsdCwgdGhpcyB3aWxsIGF1dG9tYXRpY2FsbHkgYWNxdWlyZSBhbiBhcnJheSBjb250YWluaW5nIGFcbiAqICAge0BsaW5rIExvY2FsQXVkaW9UcmFja30gYW5kIHtAbGluayBMb2NhbFZpZGVvVHJhY2t9IGJlZm9yZSBjb25uZWN0aW5nIHRvXG4gKiAgIHRoZSB7QGxpbmsgUm9vbX0uIFRoZXNlIHdpbGwgYmUgc3RvcHBlZCB3aGVuIHlvdSBkaXNjb25uZWN0IGZyb20gdGhlXG4gKiAgIHtAbGluayBSb29tfS5cbiAqICAgPGJyPjxicj5cbiAqICAgWW91IGNhbiBvdmVycmlkZSB0aGUgZGVmYXVsdCBiZWhhdmlvciBieSBzcGVjaWZ5aW5nXG4gKiAgIDxjb2RlPm9wdGlvbnM8L2NvZGU+LiBGb3IgZXhhbXBsZSwgcmF0aGVyIHRoYW4gYWNxdWlyaW5nIGFcbiAqICAge0BsaW5rIExvY2FsQXVkaW9UcmFja30gYW5kIHtAbGluayBMb2NhbFZpZGVvVHJhY2t9IGF1dG9tYXRpY2FsbHksIHlvdSBjYW5cbiAqICAgcGFzcyB5b3VyIG93biBhcnJheSB3aGljaCB5b3UgY2FuIHN0b3AgeW91cnNlbGYuIFNlZSB7QGxpbmsgQ29ubmVjdE9wdGlvbnN9XG4gKiAgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IHRva2VuIC0gVGhlIEFjY2VzcyBUb2tlbiBzdHJpbmdcbiAqIEBwYXJhbSB7Q29ubmVjdE9wdGlvbnN9IFtvcHRpb25zXSAtIE9wdGlvbnMgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmVoYXZpb3JcbiAqIEByZXR1cm5zIHtDYW5jZWxhYmxlUHJvbWlzZTxSb29tPn1cbiAqIEB0aHJvd3Mge1JhbmdlRXJyb3J9XG4gKiBAdGhyb3dzIHtUd2lsaW9FcnJvcn1cbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn1cbiAqIEBleGFtcGxlXG4gKiB2YXIgVmlkZW8gPSByZXF1aXJlKCd0d2lsaW8tdmlkZW8nKTtcbiAqIHZhciB0b2tlbiA9IGdldEFjY2Vzc1Rva2VuKCk7XG4gKiBWaWRlby5jb25uZWN0KHRva2VuLCB7XG4gKiAgIG5hbWU6ICdteS1jb29sLXJvb20nXG4gKiB9KS50aGVuKGZ1bmN0aW9uKHJvb20pIHtcbiAqICAgcm9vbS5vbigncGFydGljaXBhbnRDb25uZWN0ZWQnLCBmdW5jdGlvbihwYXJ0aWNpcGFudCkge1xuICogICAgIGNvbnNvbGUubG9nKHBhcnRpY2lwYW50LmlkZW50aXR5ICsgJyBoYXMgY29ubmVjdGVkJyk7XG4gKiAgIH0pO1xuXG4gKiAgIHJvb20ub25jZSgnZGlzY29ubmVjdGVkJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgY29uc29sZS5sb2coJ1lvdSBsZWZ0IHRoZSBSb29tOicsIHJvb20ubmFtZSk7XG4gKiAgIH0pO1xuICogfSk7XG4gKiBAZXhhbXBsZVxuICogdmFyIFZpZGVvID0gcmVxdWlyZSgndHdpbGlvLXZpZGVvJyk7XG4gKiB2YXIgdG9rZW4gPSBnZXRBY2Nlc3NUb2tlbigpO1xuICpcbiAqIC8vIENvbm5lY3Qgd2l0aCBhdWRpby1vbmx5XG4gKiBWaWRlby5jb25uZWN0KHRva2VuLCB7XG4gKiAgIG5hbWU6ICdteS1jb29sLXJvb20nLFxuICogICBhdWRpbzogdHJ1ZVxuICogfSkudGhlbihmdW5jdGlvbihyb29tKSB7XG4gKiAgIHJvb20ub24oJ3BhcnRpY2lwYW50Q29ubmVjdGVkJywgZnVuY3Rpb24ocGFydGljaXBhbnQpIHtcbiAqICAgICBjb25zb2xlLmxvZyhwYXJ0aWNpcGFudC5pZGVudGl0eSArICcgaGFzIGNvbm5lY3RlZCcpO1xuICogICB9KTtcbiAqXG4gKiAgIHJvb20ub25jZSgnZGlzY29ubmVjdGVkJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgY29uc29sZS5sb2coJ1lvdSBsZWZ0IHRoZSBSb29tOicsIHJvb20ubmFtZSk7XG4gKiAgIH0pO1xuICogfSk7XG4gKiBAZXhhbXBsZVxuICogdmFyIFZpZGVvID0gcmVxdWlyZSgndHdpbGlvLXZpZGVvJyk7XG4gKiB2YXIgdG9rZW4gPSBnZXRBY2Nlc3NUb2tlbigpO1xuICpcbiAqIC8vIENvbm5lY3Qgd2l0aCBtZWRpYSBhY3F1aXJlZCB1c2luZyBnZXRVc2VyTWVkaWEoKVxuICogbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICogICBhdWRpbzogdHJ1ZSxcbiAqICAgdmlkZW86IHRydWVcbiAqIH0pLnRoZW4oZnVuY3Rpb24obWVkaWFTdHJlYW0pIHtcbiAqICAgcmV0dXJuIFZpZGVvLmNvbm5lY3QodG9rZW4sIHtcbiAqICAgICBuYW1lOiAnbXktY29vbC1yb29tJyxcbiAqICAgICB0cmFja3M6IG1lZGlhU3RyZWFtLmdldFRyYWNrcygpXG4gKiAgIH0pO1xuICogfSkudGhlbihmdW5jdGlvbihyb29tKSB7XG4gKiAgIHJvb20ub24oJ3BhcnRpY2lwYW50Q29ubmVjdGVkJywgZnVuY3Rpb24ocGFydGljaXBhbnQpIHtcbiAqICAgICBjb25zb2xlLmxvZyhwYXJ0aWNpcGFudC5pZGVudGl0eSArICcgaGFzIGNvbm5lY3RlZCcpO1xuICogICB9KTtcbiAqXG4gKiAgIHJvb20ub25jZSgnZGlzY29ubmVjdGVkJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgY29uc29sZS5sb2coJ1lvdSBsZWZ0IHRoZSBSb29tOicsIHJvb20ubmFtZSk7XG4gKiAgIH0pO1xuICogfSk7XG4gKiBAZXhhbXBsZVxuICogdmFyIFZpZGVvID0gcmVxdWlyZSgndHdpbGlvLXZpZGVvJyk7XG4gKiB2YXIgdG9rZW4gPSBnZXRBY2Nlc3NUb2tlbigpO1xuICpcbiAqIC8vIENvbm5lY3Qgd2l0aCBjdXN0b20gbmFtZXMgZm9yIExvY2FsQXVkaW9UcmFjayBhbmQgTG9jYWxWaWRlb1RyYWNrXG4gKiBWaWRlby5jb25uZWN0KHRva2VuLCB7XG4gKiAgIG5hbWU6ICdteS1jb29sLXJvb20nXG4gKiAgIGF1ZGlvOiB7IG5hbWU6ICdtaWNyb3Bob25lJyB9LFxuICogICB2aWRlbzogeyBuYW1lOiAnY2FtZXJhJyB9XG4gKiB9KS50aGVuKGZ1bmN0aW9uKHJvb20pIHtcbiAqICAgcm9vbS5sb2NhbFBhcnRpY2lwYW50cy50cmFja1B1YmxpY2F0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKHB1YmxpY2F0aW9uKSB7XG4gKiAgICAgY29uc29sZS5sb2coJ1RoZSBMb2NhbFRyYWNrIFwiJyArIHB1YmxpY2F0aW9uLnRyYWNrTmFtZSArICdcIiB3YXMgc3VjY2Vzc2Z1bGx5IHB1Ymxpc2hlZCcpO1xuICogICB9KTtcbiAqIH0pO1xuICovXG5mdW5jdGlvbiBjb25uZWN0KHRva2VuLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgaWYgKCh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yob3B0aW9ucykpICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgcmV0dXJuIENhbmNlbGFibGVQcm9taXNlLnJlamVjdChFLklOVkFMSURfVFlQRSgnb3B0aW9ucycsICdvYmplY3QnKSk7XG4gIH1cblxuICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgYWJvcnRPbkljZVNlcnZlcnNUaW1lb3V0OiBmYWxzZSxcbiAgICBjcmVhdGVMb2NhbFRyYWNrczogY3JlYXRlTG9jYWxUcmFja3MsXG4gICAgZW52aXJvbm1lbnQ6IGNvbnN0YW50cy5ERUZBVUxUX0VOVklST05NRU5ULFxuICAgIGljZVNlcnZlcnNUaW1lb3V0OiBjb25zdGFudHMuSUNFX1NFUlZFUlNfVElNRU9VVF9NUyxcbiAgICBpbnNpZ2h0czogdHJ1ZSxcbiAgICBMb2NhbEF1ZGlvVHJhY2s6IExvY2FsQXVkaW9UcmFjayxcbiAgICBMb2NhbERhdGFUcmFjazogTG9jYWxEYXRhVHJhY2ssXG4gICAgTG9jYWxQYXJ0aWNpcGFudDogTG9jYWxQYXJ0aWNpcGFudCxcbiAgICBMb2NhbFZpZGVvVHJhY2s6IExvY2FsVmlkZW9UcmFjayxcbiAgICBNZWRpYVN0cmVhbVRyYWNrOiBNZWRpYVN0cmVhbVRyYWNrLFxuICAgIGxvZ0xldmVsOiBjb25zdGFudHMuREVGQVVMVF9MT0dfTEVWRUwsXG4gICAgbWF4QXVkaW9CaXRyYXRlOiBudWxsLFxuICAgIG1heFZpZGVvQml0cmF0ZTogbnVsbCxcbiAgICBuYW1lOiBudWxsLFxuICAgIHByZWZlcnJlZEF1ZGlvQ29kZWNzOiBbXSxcbiAgICBwcmVmZXJyZWRWaWRlb0NvZGVjczogW10sXG4gICAgcmVhbG06IGNvbnN0YW50cy5ERUZBVUxUX1JFQUxNLFxuICAgIHNpZ25hbGluZzogU2lnbmFsaW5nVjJcbiAgfSwgdXRpbC5maWx0ZXJPYmplY3Qob3B0aW9ucykpO1xuXG4gIC8qIGVzbGludCBuZXctY2FwOjAgKi9cbiAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgIHdzU2VydmVyOiBjb25zdGFudHMuV1NfU0VSVkVSKG9wdGlvbnMuZW52aXJvbm1lbnQsIG9wdGlvbnMucmVhbG0pXG4gIH0sIG9wdGlvbnMpO1xuXG4gIHZhciBsb2dMZXZlbHMgPSB1dGlsLmJ1aWxkTG9nTGV2ZWxzKG9wdGlvbnMubG9nTGV2ZWwpO1xuICB2YXIgbG9nQ29tcG9uZW50TmFtZSA9ICdbY29ubmVjdCAjJyArICsrY29ubmVjdENhbGxzICsgJ10nO1xuXG4gIHZhciBsb2cgPSB2b2lkIDA7XG4gIHRyeSB7XG4gICAgbG9nID0gbmV3IExvZygnZGVmYXVsdCcsIGxvZ0NvbXBvbmVudE5hbWUsIGxvZ0xldmVscyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIENhbmNlbGFibGVQcm9taXNlLnJlamVjdChlcnJvcik7XG4gIH1cbiAgb3B0aW9ucy5sb2cgPSBsb2c7XG5cbiAgLy8gTk9URShtcm9iZXJ0cyk6IFByaW50IHRoZSBTYWZhcmkgd2FybmluZyBvbmNlIGlmIHRoZSBsb2ctbGV2ZWwgaXMgYXQgbGVhc3RcbiAgLy8gXCJ3YXJuXCIsIGkuZS4gbmVpdGhlciBcImVycm9yXCIgbm9yIFwib2ZmXCIuXG4gIGlmIChndWVzc0Jyb3dzZXIoKSA9PT0gJ3NhZmFyaScgJiYgIWRpZFByaW50U2FmYXJpV2FybmluZyAmJiBsb2cubG9nTGV2ZWwgIT09ICdlcnJvcicgJiYgbG9nLmxvZ0xldmVsICE9PSAnb2ZmJykge1xuICAgIGRpZFByaW50U2FmYXJpV2FybmluZyA9IHRydWU7XG4gICAgbG9nLndhcm4oWydUaGlzIHJlbGVhc2Ugb2YgdHdpbGlvLXZpZGVvLmpzIGluY2x1ZGVzIGV4cGVyaW1lbnRhbCBzdXBwb3J0IGZvcicsICdTYWZhcmkgMTEgYW5kIG5ld2VyLiBTdXBwb3J0IGZvciBTYWZhcmkgaXMgXCJleHBlcmltZW50YWxcIiBiZWNhdXNlLCcsICdhdCB0aGUgdGltZSBvZiB3cml0aW5nLCBTYWZhcmkgZG9lcyBub3Qgc3VwcG9ydCBWUDguIFRoaXMgbWVhbnMgeW91JywgJ21heSBleHBlcmllbmNlIGNvZGVjIGlzc3VlcyBpbiBHcm91cCBSb29tcy4gWW91IG1heSBhbHNvIGV4cGVyaWVuY2UnLCAnY29kZWMgaXNzdWVzIGluIFBlZXItdG8tUGVlciAoUDJQKSBSb29tcyBjb250YWluaW5nIEFuZHJvaWQtIG9yJywgJ2lPUy1iYXNlZCBQYXJ0aWNpcGFudHMgd2hvIGRvIG5vdCBzdXBwb3J0IEguMjY0LiBIb3dldmVyLCBQMlAgUm9vbXMnLCAnd2l0aCBicm93c2VyLWJhc2VkIFBhcnRpY2lwYW50cyBzaG91bGQgd29yay4gUGxlYXNlIHRlc3QgdGhpcyByZWxlYXNlJywgJ2FuZCByZXBvcnQgYW55IGlzc3VlcyB0byBodHRwczovL2dpdGh1Yi5jb20vdHdpbGlvL3R3aWxpby12aWRlby5qcyddLmpvaW4oJyAnKSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHRva2VuICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBDYW5jZWxhYmxlUHJvbWlzZS5yZWplY3QoRS5JTlZBTElEX1RZUEUoJ3Rva2VuJywgJ3N0cmluZycpKTtcbiAgfVxuXG4gIC8vIE5PVEUobW1hbGF2YWxsaSk6IFRoZSBSb29tIFwibmFtZVwiIGluIFwib3B0aW9uc1wiIHdhcyBiZWluZyB1c2VkXG4gIC8vIGFzIHRoZSBMb2NhbFRyYWNrIG5hbWUgaW4gYXNMb2NhbFRyYWNrKCkuIFNvIHdlIHBhc3MgYSBjb3B5IG9mXG4gIC8vIFwib3B0aW9uc1wiIHdpdGhvdXQgdGhlIFwibmFtZVwiLlxuICB2YXIgbG9jYWxUcmFja09wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgZGVsZXRlIGxvY2FsVHJhY2tPcHRpb25zLm5hbWU7XG5cbiAgaWYgKCd0cmFja3MnIGluIG9wdGlvbnMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkob3B0aW9ucy50cmFja3MpKSB7XG4gICAgICByZXR1cm4gQ2FuY2VsYWJsZVByb21pc2UucmVqZWN0KEUuSU5WQUxJRF9UWVBFKCdvcHRpb25zLnRyYWNrcycsICdBcnJheSBvZiBMb2NhbEF1ZGlvVHJhY2ssIExvY2FsVmlkZW9UcmFjayBvciBNZWRpYVN0cmVhbVRyYWNrJykpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgb3B0aW9ucy50cmFja3MgPSBvcHRpb25zLnRyYWNrcy5tYXAoZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHJldHVybiB1dGlsLmFzTG9jYWxUcmFjayh0cmFjaywgbG9jYWxUcmFja09wdGlvbnMpO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBDYW5jZWxhYmxlUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBTaWduYWxpbmcgPSBvcHRpb25zLnNpZ25hbGluZztcbiAgdmFyIHNpZ25hbGluZyA9IG5ldyBTaWduYWxpbmcob3B0aW9ucy53c1NlcnZlciwgb3B0aW9ucyk7XG5cbiAgbG9nLmluZm8oJ0Nvbm5lY3RpbmcgdG8gYSBSb29tJyk7XG4gIGxvZy5kZWJ1ZygnT3B0aW9uczonLCBvcHRpb25zKTtcblxuICB2YXIgZW5jb2RpbmdQYXJhbWV0ZXJzID0gbmV3IEVuY29kaW5nUGFyYW1ldGVyc0ltcGwoe1xuICAgIG1heEF1ZGlvQml0cmF0ZTogb3B0aW9ucy5tYXhBdWRpb0JpdHJhdGUsXG4gICAgbWF4VmlkZW9CaXRyYXRlOiBvcHRpb25zLm1heFZpZGVvQml0cmF0ZVxuICB9KTtcblxuICB2YXIgbnRzSWNlU2VydmVyU291cmNlT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICBhYm9ydE9uVGltZW91dDogb3B0aW9ucy5hYm9ydE9uSWNlU2VydmVyc1RpbWVvdXQsXG4gICAgdGltZW91dDogb3B0aW9ucy5pY2VTZXJ2ZXJzVGltZW91dFxuICB9KTtcblxuICB2YXIgaWNlU2VydmVyU291cmNlID0gQXJyYXkuaXNBcnJheShvcHRpb25zLmljZVNlcnZlcnMpID8gbmV3IENvbnN0YW50SWNlU2VydmVyU291cmNlKG9wdGlvbnMuaWNlU2VydmVycykgOiBfdHlwZW9mKG9wdGlvbnMuaWNlU2VydmVycykgPT09ICdvYmplY3QnID8gb3B0aW9ucy5pY2VTZXJ2ZXJzIDogbmV3IE5UU0ljZVNlcnZlclNvdXJjZSh0b2tlbiwgbnRzSWNlU2VydmVyU291cmNlT3B0aW9ucyk7XG5cbiAgdmFyIHByZWZlcnJlZENvZGVjcyA9IHtcbiAgICBhdWRpbzogb3B0aW9ucy5wcmVmZXJyZWRBdWRpb0NvZGVjcyxcbiAgICB2aWRlbzogb3B0aW9ucy5wcmVmZXJyZWRWaWRlb0NvZGVjcy5tYXAobm9ybWFsaXplVmlkZW9Db2RlY1NldHRpbmdzKVxuICB9O1xuXG4gIC8vIENyZWF0ZSBhIENhbmNlbGFibGVSb29tUHJvbWlzZTxSb29tPiB0aGF0IHJlc29sdmVzIGFmdGVyIHRoZXNlIHN0ZXBzOlxuICAvLyAxIC0gR2V0IHRoZSBMb2NhbFRyYWNrcy5cbiAgLy8gMiAtIENyZWF0ZSB0aGUgTG9jYWxQYXJ0aWNpcGFudCB1c2luZyBvcHRpb25zLnRyYWNrcy5cbiAgLy8gMyAtIENvbm5lY3QgdG8gcnRjLXJvb20tc2VydmljZSBhbmQgY3JlYXRlIHRoZSBSb29tU2lnbmFsaW5nLlxuICAvLyA0IC0gQ3JlYXRlIHRoZSBSb29tIGFuZCB0aGVuIHJlc29sdmUgdGhlIENhbmNlbGFibGVQcm9taXNlLlxuICB2YXIgY2FuY2VsYWJsZVJvb21Qcm9taXNlID0gY3JlYXRlQ2FuY2VsYWJsZVJvb21Qcm9taXNlKGdldExvY2FsVHJhY2tzLmJpbmQobnVsbCwgb3B0aW9ucyksIGNyZWF0ZUxvY2FsUGFydGljaXBhbnQuYmluZChudWxsLCBzaWduYWxpbmcsIGxvZywgZW5jb2RpbmdQYXJhbWV0ZXJzLCBvcHRpb25zKSwgY3JlYXRlUm9vbVNpZ25hbGluZy5iaW5kKG51bGwsIHRva2VuLCBvcHRpb25zLCBzaWduYWxpbmcsIGljZVNlcnZlclNvdXJjZSwgZW5jb2RpbmdQYXJhbWV0ZXJzLCBwcmVmZXJyZWRDb2RlY3MpLCBjcmVhdGVSb29tLmJpbmQobnVsbCwgb3B0aW9ucykpO1xuXG4gIGNhbmNlbGFibGVSb29tUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyb29tKSB7XG4gICAgbG9nLmluZm8oJ0Nvbm5lY3RlZCB0byBSb29tOicsIHJvb20udG9TdHJpbmcoKSk7XG4gICAgbG9nLmluZm8oJ1Jvb20gbmFtZTonLCByb29tLm5hbWUpO1xuICAgIGxvZy5kZWJ1ZygnUm9vbTonLCByb29tKTtcbiAgICByZXR1cm4gcm9vbTtcbiAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgaWYgKGljZVNlcnZlclNvdXJjZS5pc1N0YXJ0ZWQpIHtcbiAgICAgIGljZVNlcnZlclNvdXJjZS5zdG9wKCk7XG4gICAgfVxuICAgIGlmIChjYW5jZWxhYmxlUm9vbVByb21pc2UuX2lzQ2FuY2VsZWQpIHtcbiAgICAgIGxvZy5pbmZvKCdBdHRlbXB0IHRvIGNvbm5lY3QgdG8gYSBSb29tIHdhcyBjYW5jZWxlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2cuaW5mbygnRXJyb3Igd2hpbGUgY29ubmVjdGluZyB0byBhIFJvb206JywgZXJyb3IpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGNhbmNlbGFibGVSb29tUHJvbWlzZTtcbn1cblxuLyoqXG4gKiBZb3UgbWF5IHBhc3MgdGhlc2Ugb3B0aW9ucyB0byB7QGxpbmsgY29ubmVjdH0gaW4gb3JkZXIgdG8gb3ZlcnJpZGUgdGhlXG4gKiBkZWZhdWx0IGJlaGF2aW9yLlxuICogQHR5cGVkZWYge29iamVjdH0gQ29ubmVjdE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2Fib3J0T25JY2VTZXJ2ZXJzVGltZW91dD1mYWxzZV0gLSBJZiBmZXRjaGluZyBJQ0VcbiAqICAgc2VydmVycyB0aW1lcyBvdXQgKGZvciBleGFtcGxlLCBkdWUgdG8gYSByZXN0cmljdGl2ZSBuZXR3b3JrIG9yIHNsb3cgSFRUUFxuICogICBwcm94eSksIHRoZW4sIGJ5IGRlZmF1bHQsIHR3aWxpby12aWRlby5qcyB3aWxsIGZhbGxiYWNrIHRvIHVzaW5nIGhhcmQtY29kZWRcbiAqICAgU1RVTiBzZXJ2ZXJzIGFuZCBjb250aW51ZSBjb25uZWN0aW5nIHRvIHRoZSBSb29tLiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgdG9cbiAqICAgPGNvZGU+dHJ1ZTwvY29kZT4gd2lsbCBjYXVzZSB0d2lsaW8tdmlkZW8uanMgdG8gYWJvcnQgaW5zdGVhZCwgYW5kXG4gKiAgIHtAbGluayBjb25uZWN0fSB3aWxsIHJlamVjdCB3aXRoIGEge0BsaW5rIENvbmZpZ3VyYXRpb25BY3F1aXJlRmFpbGVkRXJyb3J9LlxuICogQHByb3BlcnR5IHtib29sZWFufENyZWF0ZUxvY2FsVHJhY2tPcHRpb25zfSBbYXVkaW89dHJ1ZV0gLSBXaGV0aGVyIG9yIG5vdCB0b1xuICogICBnZXQgbG9jYWwgYXVkaW8gd2l0aCA8Y29kZT5nZXRVc2VyTWVkaWE8L2NvZGU+IHdoZW4gPGNvZGU+dHJhY2tzPC9jb2RlPlxuICogICBhcmUgbm90IHByb3ZpZGVkLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbZG9taW5hbnRTcGVha2VyPWZhbHNlXSAtIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBEb21pbmFudFxuICogICBTcGVha2VyIEFQSSBvciBub3QuIFRoaXMgb25seSB0YWtlcyBlZmZlY3QgaW4gR3JvdXAgUm9vbXMuXG4gKiBAcHJvcGVydHkge0FycmF5PFJUQ0ljZVNlcnZlcj59IGljZVNlcnZlcnMgLSBPdmVycmlkZSB0aGUgU1RVTiBhbmQgVFVSTlxuICogICBzZXJ2ZXJzIHVzZWQgd2hlbiBjb25uZWN0aW5nIHRvIHtAbGluayBSb29tfXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbaWNlU2VydmVyc1RpbWVvdXQ9MzAwMF0gLSBPdmVycmlkZSB0aGUgYW1vdW50IG9mIHRpbWUsIGluXG4gKiAgIG1pbGxpc2Vjb25kcywgdGhhdCB0aGUgU0RLIHdpbGwgd2FpdCB3aGVuIGFjcXVpcmluZyBTVFVOIGFuZCBUVVJOIHNlcnZlcnNcbiAqIEBwcm9wZXJ0eSB7UlRDSWNlVHJhbnNwb3J0UG9saWN5fSBbaWNlVHJhbnNwb3J0UG9saWN5PVwiYWxsXCJdIC0gT3ZlcnJpZGUgdGhlXG4gKiAgIElDRSB0cmFuc3BvcnQgcG9saWN5IHRvIGJlIG9uZSBvZiBcInJlbGF5XCIgb3IgXCJhbGxcIlxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW5zaWdodHM9dHJ1ZV0gLSBXaGV0aGVyIHB1Ymxpc2hpbmcgZXZlbnRzXG4gKiAgIHRvIHRoZSBJbnNpZ2h0cyBnYXRld2F5IGlzIGVuYWJsZWQgb3Igbm90XG4gKiBAcHJvcGVydHkgez9udW1iZXJ9IFttYXhBdWRpb0JpdHJhdGU9bnVsbF0gLSBNYXggb3V0Z29pbmcgYXVkaW8gYml0cmF0ZSAoYnBzKTtcbiAqICAgQSA8Y29kZT5udWxsPC9jb2RlPiB2YWx1ZSBkb2VzIG5vdCBzZXQgYW55IGJpdHJhdGUgbGltaXQ7IFRoaXMgdmFsdWUgaXMgc2V0XG4gKiAgIGFzIGEgaGludCBmb3IgdmFyaWFibGUgYml0cmF0ZSBjb2RlY3MsIGJ1dCB3aWxsIG5vdCB0YWtlIGVmZmVjdCBmb3IgZml4ZWRcbiAqICAgYml0cmF0ZSBjb2RlY3NcbiAqIEBwcm9wZXJ0eSB7P251bWJlcn0gW21heFZpZGVvQml0cmF0ZT1udWxsXSAtIE1heCBvdXRnb2luZyB2aWRlbyBiaXRyYXRlIChicHMpO1xuICogICBBIDxjb2RlPm51bGw8L2NvZGU+IHZhbHVlIGRvZXMgbm90IHNldCBhbnkgYml0cmF0ZSBsaW1pdDsgVGhpcyB2YWx1ZSBpcyBzZXRcbiAqICAgYXMgYSBoaW50IGZvciB2YXJpYWJsZSBiaXRyYXRlIGNvZGVjcywgYnV0IHdpbGwgbm90IHRha2UgZWZmZWN0IGZvciBmaXhlZFxuICogICBiaXRyYXRlIGNvZGVjc1xuICogQHByb3BlcnR5IHs/c3RyaW5nfSBbbmFtZT1udWxsXSAtIFNldCB0byBjb25uZWN0IHRvIGEge0BsaW5rIFJvb219IGJ5IG5hbWVcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW25ldHdvcmtRdWFsaXR5PWZhbHNlXSAtIFdoZXRoZXIgdG8gZW5hYmxlIHRoZSBOZXR3b3JrXG4gKiAgIFF1YWxpdHkgQVBJIG9yIG5vdC4gVGhpcyBvbmx5IHRha2VzIGVmZmVjdCBpbiBHcm91cCBSb29tcy5cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8QXVkaW9Db2RlYz59IFtwcmVmZXJyZWRBdWRpb0NvZGVjcz1bXV0gLSBQcmVmZXJyZWQgYXVkaW8gY29kZWNzO1xuICogIEFuIGVtcHR5IGFycmF5IHByZXNlcnZlcyB0aGUgY3VycmVudCBhdWRpbyBjb2RlYyBwcmVmZXJlbmNlIG9yZGVyLlxuICogQHByb3BlcnR5IHtBcnJheTxWaWRlb0NvZGVjfFZpZGVvQ29kZWNTZXR0aW5ncz59IFtwcmVmZXJyZWRWaWRlb0NvZGVjcz1bXV0gLVxuICogIFByZWZlcnJlZCB2aWRlbyBjb2RlY3M7IEFuIGVtcHR5IGFycmF5IHByZXNlcnZlcyB0aGUgY3VycmVudCB2aWRlbyBjb2RlY1xuICogIHByZWZlcmVuY2Ugb3JkZXIuIElmIHlvdSB3YW50IHRvIHNldCBhIHByZWZlcnJlZCB2aWRlbyBjb2RlYyBvbiBhIEdyb3VwIFJvb20sXG4gKiAgeW91IHdpbGwgbmVlZCB0byBjcmVhdGUgdGhlIFJvb20gdXNpbmcgdGhlIFJFU1QgQVBJIGFuZCBzZXQgdGhlXG4gKiAgPGNvZGU+VmlkZW9Db2RlY3M8L2NvZGU+IHByb3BlcnR5LlxuICogIFNlZSA8YSBocmVmPVwiaHR0cHM6Ly93d3cudHdpbGlvLmNvbS9kb2NzL2FwaS92aWRlby9yb29tcy1yZXNvdXJjZSNjcmVhdGUtcm9vbVwiPlxuICogIGhlcmU8L2E+IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICogQHByb3BlcnR5IHtMb2dMZXZlbHxMb2dMZXZlbHN9IFtsb2dMZXZlbD0nd2FybiddIC0gU2V0IHRoZSBsb2cgdmVyYm9zaXR5XG4gKiAgIG9mIGxvZ2dpbmcgdG8gY29uc29sZS4gUGFzc2luZyBhIHtAbGluayBMb2dMZXZlbH0gc3RyaW5nIHdpbGwgdXNlIHRoZSBzYW1lXG4gKiAgIGxldmVsIGZvciBhbGwgY29tcG9uZW50cy4gUGFzcyBhIHtAbGluayBMb2dMZXZlbHN9IHRvIHNldCBzcGVjaWZpYyBsb2dcbiAqICAgbGV2ZWxzLlxuICogQHByb3BlcnR5IHtBcnJheTxMb2NhbFRyYWNrfE1lZGlhU3RyZWFtVHJhY2s+fSBbdHJhY2tzXSAtIFRoZVxuICogICB7QGxpbmsgTG9jYWxUcmFja31zIG9yIE1lZGlhU3RyZWFtVHJhY2tzIHdpdGggd2hpY2ggdG8gam9pbiB0aGVcbiAqICAge0BsaW5rIFJvb219LiBUaGVzZSB0cmFja3MgY2FuIGJlIG9idGFpbmVkIGVpdGhlciBieSBjYWxsaW5nXG4gKiAgIHtAbGluayBjcmVhdGVMb2NhbFRyYWNrc30sIG9yIGJ5IGNvbnN0cnVjdGluZyB0aGVtIGZyb20gdGhlIE1lZGlhU3RyZWFtXG4gKiAgIG9idGFpbmVkIGJ5IGNhbGxpbmcgPGNvZGU+Z2V0VXNlck1lZGlhKCk8L2NvZGU+LlxuICogQHByb3BlcnR5IHtib29sZWFufENyZWF0ZUxvY2FsVHJhY2tPcHRpb25zfSBbdmlkZW89dHJ1ZV0gLSBXaGV0aGVyIG9yIG5vdCB0b1xuICogICBnZXQgbG9jYWwgdmlkZW8gd2l0aCA8Y29kZT5nZXRVc2VyTWVkaWE8L2NvZGU+IHdoZW4gPGNvZGU+dHJhY2tzPC9jb2RlPlxuICogICBhcmUgbm90IHByb3ZpZGVkLlxuICovXG5cbi8qKlxuICogWW91IG1heSBwYXNzIHRoZXNlIGxldmVscyB0byB7QGxpbmsgQ29ubmVjdE9wdGlvbnN9IHRvIG92ZXJyaWRlXG4gKiAgIGxvZyBsZXZlbHMgZm9yIGluZGl2aWR1YWwgY29tcG9uZW50cy5cbiAqIEB0eXBlZGVmIHtvYmplY3R9IExvZ0xldmVsc1xuICogQHByb3BlcnR5IHtMb2dMZXZlbH0gW2RlZmF1bHQ9J3dhcm4nXSAtIExvZyBsZXZlbCBmb3IgJ2RlZmF1bHQnIG1vZHVsZXMuXG4gKiBAcHJvcGVydHkge0xvZ0xldmVsfSBbbWVkaWE9J3dhcm4nXSAtIExvZyBsZXZlbCBmb3IgJ21lZGlhJyBtb2R1bGVzLlxuICogQHByb3BlcnR5IHtMb2dMZXZlbH0gW3NpZ25hbGluZz0nd2FybiddIC0gTG9nIGxldmVsIGZvciAnc2lnbmFsaW5nJyBtb2R1bGVzLlxuICogQHByb3BlcnR5IHtMb2dMZXZlbH0gW3dlYnJ0Yz0nd2FybiddIC0gTG9nIGxldmVsIGZvciAnd2VicnRjJyBtb2R1bGVzLlxuICovXG5cbi8qKlxuICogVmlkZW8gY29kZWMgc2V0dGluZ3MuXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBWaWRlb0NvZGVjU2V0dGluZ3NcbiAqIEBwcm9wZXJ0eSB7VmlkZW9Db2RlY30gY29kZWMgLSBWaWRlbyBjb2RlYyBuYW1lXG4gKi9cblxuLyoqXG4gKiBWUDggY29kZWMgc2V0dGluZ3MuXG4gKiBAdHlwZWRlZiB7VmlkZW9Db2RlY1NldHRpbmdzfSBWUDhDb2RlY1NldHRpbmdzXG4gKiBAcHJvcGVydHkge1ZpZGVvQ29kZWN9IG5hbWUgLSBcIlZQOFwiXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzaW11bGNhc3Q9ZmFsc2VdIC0gRW5hYmxlL2Rpc2FibGUgVlA4IHNpbXVsY2FzdDsgaWZcbiAqICAgZW5hYmxlZCwgVHdpbGlvJ3MgVmlkZW8gU0RLIHdpbGwgc2VuZCB0aHJlZSB2aWRlbyBzdHJlYW1zIG9mIGRpZmZlcmVudFxuICogICBxdWFsaXRpZXNcbiAqL1xuXG4vKipcbiAqIE5hbWVzIG9mIHRoZSBzdXBwb3J0ZWQgYXVkaW8gY29kZWNzLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG52YXIgQXVkaW9Db2RlYyA9IHtcbiAgaXNhYzogJ2lzYWMnLFxuICBvcHVzOiAnb3B1cycsXG4gIFBDTUE6ICdQQ01BJyxcbiAgUENNVTogJ1BDTVUnXG59O1xuXG4vKipcbiAqIE5hbWVzIG9mIHRoZSBzdXBwb3J0ZWQgdmlkZW8gY29kZWNzLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG52YXIgVmlkZW9Db2RlYyA9IHtcbiAgSDI2NDogJ0gyNjQnLFxuICBWUDg6ICdWUDgnLFxuICBWUDk6ICdWUDknXG59O1xuXG4vKipcbiAqIExldmVscyBmb3IgbG9nZ2luZyB2ZXJib3NpdHkuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbnZhciBMb2dMZXZlbCA9IHtcbiAgZGVidWc6ICdkZWJ1ZycsXG4gIGluZm86ICdpbmZvJyxcbiAgd2FybjogJ3dhcm4nLFxuICBlcnJvcjogJ2Vycm9yJyxcbiAgb2ZmOiAnb2ZmJ1xufTtcblxuZnVuY3Rpb24gY3JlYXRlTG9jYWxQYXJ0aWNpcGFudChzaWduYWxpbmcsIGxvZywgZW5jb2RpbmdQYXJhbWV0ZXJzLCBvcHRpb25zLCBsb2NhbFRyYWNrcykge1xuICB2YXIgbG9jYWxQYXJ0aWNpcGFudFNpZ25hbGluZyA9IHNpZ25hbGluZy5jcmVhdGVMb2NhbFBhcnRpY2lwYW50U2lnbmFsaW5nKGVuY29kaW5nUGFyYW1ldGVycyk7XG4gIGxvZy5kZWJ1ZygnQ3JlYXRpbmcgYSBuZXcgTG9jYWxQYXJ0aWNpcGFudDonLCBsb2NhbFBhcnRpY2lwYW50U2lnbmFsaW5nKTtcbiAgcmV0dXJuIG5ldyBvcHRpb25zLkxvY2FsUGFydGljaXBhbnQobG9jYWxQYXJ0aWNpcGFudFNpZ25hbGluZywgbG9jYWxUcmFja3MsIG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVSb29tKG9wdGlvbnMsIGxvY2FsUGFydGljaXBhbnQsIHJvb21TaWduYWxpbmcpIHtcbiAgdmFyIHJvb20gPSBuZXcgUm9vbShsb2NhbFBhcnRpY2lwYW50LCByb29tU2lnbmFsaW5nLCBvcHRpb25zKTtcbiAgdmFyIGxvZyA9IG9wdGlvbnMubG9nO1xuXG4gIGxvZy5kZWJ1ZygnQ3JlYXRpbmcgYSBuZXcgUm9vbTonLCByb29tKTtcbiAgcm9vbVNpZ25hbGluZy5vbignc3RhdGVDaGFuZ2VkJywgZnVuY3Rpb24gc3RhdGVDaGFuZ2VkKCkge1xuICAgIGxvZy5pbmZvKCdEaXNjb25uZWN0ZWQgZnJvbSBSb29tOicsIHJvb20udG9TdHJpbmcoKSk7XG4gICAgcm9vbVNpZ25hbGluZy5yZW1vdmVMaXN0ZW5lcignc3RhdGVDaGFuZ2VkJywgc3RhdGVDaGFuZ2VkKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJvb207XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVJvb21TaWduYWxpbmcodG9rZW4sIG9wdGlvbnMsIHNpZ25hbGluZywgaWNlU2VydmVyU291cmNlLCBlbmNvZGluZ1BhcmFtZXRlcnMsIHByZWZlcnJlZENvZGVjcywgbG9jYWxQYXJ0aWNpcGFudCkge1xuICB2YXIgbG9nID0gb3B0aW9ucy5sb2c7XG4gIGxvZy5pbmZvKCdHZXR0aW5nIElDRSBzZXJ2ZXJzJyk7XG4gIGxvZy5kZWJ1ZygnT3B0aW9uczonLCBvcHRpb25zKTtcblxuICByZXR1cm4gaWNlU2VydmVyU291cmNlLnN0YXJ0KCkudGhlbihmdW5jdGlvbiAoaWNlU2VydmVycykge1xuICAgIHZhciByb29tU2lnbmFsaW5nUGFyYW1zID0ge1xuICAgICAgdG9rZW46IHRva2VuXG4gICAgfTtcblxuICAgIGxvZy5pbmZvKCdHb3QgSUNFIHNlcnZlcnMnKTtcbiAgICBsb2cuZGVidWcoJ0lDRSBzZXJ2ZXJzOicsIGljZVNlcnZlcnMpO1xuXG4gICAgb3B0aW9ucy5pY2VTZXJ2ZXJzID0gaWNlU2VydmVycztcbiAgICBsb2cuZGVidWcoJ0NyZWF0aW5nIGEgbmV3IFJvb21TaWduYWxpbmcnKTtcbiAgICBsb2cuZGVidWcoJ1Jvb21TaWduYWxpbmcgcGFyYW1zOicsIHJvb21TaWduYWxpbmdQYXJhbXMpO1xuXG4gICAgcmV0dXJuIHNpZ25hbGluZy5jb25uZWN0KGxvY2FsUGFydGljaXBhbnQuX3NpZ25hbGluZywgdG9rZW4sIGljZVNlcnZlclNvdXJjZSwgZW5jb2RpbmdQYXJhbWV0ZXJzLCBwcmVmZXJyZWRDb2RlY3MsIG9wdGlvbnMpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0TG9jYWxUcmFja3Mob3B0aW9ucywgaGFuZGxlTG9jYWxUcmFja3MpIHtcbiAgdmFyIGxvZyA9IG9wdGlvbnMubG9nO1xuXG4gIG9wdGlvbnMuc2hvdWxkU3RvcExvY2FsVHJhY2tzID0gIW9wdGlvbnMudHJhY2tzO1xuICBpZiAob3B0aW9ucy5zaG91bGRTdG9wTG9jYWxUcmFja3MpIHtcbiAgICBsb2cuaW5mbygnTG9jYWxUcmFja3Mgd2VyZSBub3QgcHJvdmlkZWQsIHNvIHRoZXkgd2lsbCBiZSBhY3F1aXJlZCAnICsgJ2F1dG9tYXRpY2FsbHkgYmVmb3JlIGNvbm5lY3RpbmcgdG8gdGhlIFJvb20uIExvY2FsVHJhY2tzIHdpbGwgJyArICdiZSByZWxlYXNlZCBpZiBjb25uZWN0aW5nIHRvIHRoZSBSb29tIGZhaWxzIG9yIGlmIHRoZSBSb29tICcgKyAnaXMgZGlzY29ubmVjdGVkJyk7XG4gIH0gZWxzZSB7XG4gICAgbG9nLmluZm8oJ0dldHRpbmcgTG9jYWxUcmFja3MnKTtcbiAgICBsb2cuZGVidWcoJ09wdGlvbnM6Jywgb3B0aW9ucyk7XG4gIH1cblxuICByZXR1cm4gb3B0aW9ucy5jcmVhdGVMb2NhbFRyYWNrcyhvcHRpb25zKS50aGVuKGZ1bmN0aW9uIGdldExvY2FsVHJhY2tzU3VjY2VlZGVkKGxvY2FsVHJhY2tzKSB7XG4gICAgdmFyIHByb21pc2UgPSBoYW5kbGVMb2NhbFRyYWNrcyhsb2NhbFRyYWNrcyk7XG5cbiAgICBwcm9taXNlLmNhdGNoKGZ1bmN0aW9uIGhhbmRsZUxvY2FsVHJhY2tzRmFpbGVkKCkge1xuICAgICAgaWYgKG9wdGlvbnMuc2hvdWxkU3RvcExvY2FsVHJhY2tzKSB7XG4gICAgICAgIGxvZy5pbmZvKCdUaGUgYXV0b21hdGljYWxseSBhY3F1aXJlZCBMb2NhbFRyYWNrcyB3aWxsIG5vdyBiZSBzdG9wcGVkJyk7XG4gICAgICAgIGxvY2FsVHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgICAgdHJhY2suc3RvcCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVmlkZW9Db2RlY1NldHRpbmdzKG5hbWVPclNldHRpbmdzKSB7XG4gIHZhciBzZXR0aW5ncyA9IHR5cGVvZiBuYW1lT3JTZXR0aW5ncyA9PT0gJ3N0cmluZycgPyB7IGNvZGVjOiBuYW1lT3JTZXR0aW5ncyB9IDogbmFtZU9yU2V0dGluZ3M7XG4gIHN3aXRjaCAoc2V0dGluZ3MuY29kZWMudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ3ZwOCc6XG4gICAgICB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHsgc2ltdWxjYXN0OiBmYWxzZSB9LCBzZXR0aW5ncyk7XG4gICAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIHNldHRpbmdzO1xuICAgICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29ubmVjdDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L2Nvbm5lY3QuanNcbi8vIG1vZHVsZSBpZCA9IDI2MlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///262\n");

/***/ }),
/* 263 */
/*!****************************************************************!*\
  !*** ./node_modules/twilio-video/es5/cancelableroompromise.js ***!
  \****************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar CancelablePromise = __webpack_require__(/*! ./util/cancelablepromise */ 220);\n\n/**\n * Create a {@link CancelablePromise<Room>}.\n * @param {function(function(Array<LocalTrack>): CancelablePromise<RoomSignaling>):\n *   Promise<function(): CancelablePromise<RoomSignaling>>} getLocalTracks\n * @param {function(Array<LocalTrack>): LocalParticipant} createLocalParticipant\n * @param {function(Array<LocalTrack>): CancelablePromise<RoomSignaling>} createRoomSignaling\n * @param {function(LocalParticipant, RoomSignaling): Room} createRoom\n * @returns CancelablePromise<Room>\n */\nfunction createCancelableRoomPromise(getLocalTracks, createLocalParticipant, createRoomSignaling, createRoom) {\n  var cancelableRoomSignalingPromise = void 0;\n  var cancelationError = new Error('Canceled');\n\n  return new CancelablePromise(function onCreate(resolve, reject, isCanceled) {\n    var localParticipant = void 0;\n    getLocalTracks(function getLocalTracksSucceeded(localTracks) {\n      if (isCanceled()) {\n        return CancelablePromise.reject(cancelationError);\n      }\n      localParticipant = createLocalParticipant(localTracks);\n      return createRoomSignaling(localParticipant).then(function createRoomSignalingSucceeded(getCancelableRoomSignalingPromise) {\n        if (isCanceled()) {\n          throw cancelationError;\n        }\n        cancelableRoomSignalingPromise = getCancelableRoomSignalingPromise();\n        return cancelableRoomSignalingPromise;\n      });\n    }).then(function roomSignalingConnected(roomSignaling) {\n      if (isCanceled()) {\n        roomSignaling.disconnect();\n        throw cancelationError;\n      }\n      resolve(createRoom(localParticipant, roomSignaling));\n    }).catch(function onError(error) {\n      reject(error);\n    });\n  }, function onCancel() {\n    if (cancelableRoomSignalingPromise) {\n      cancelableRoomSignalingPromise.cancel();\n    }\n  });\n}\n\nmodule.exports = createCancelableRoomPromise;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9jYW5jZWxhYmxlcm9vbXByb21pc2UuanM/NGQwYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYix3QkFBd0IsbUJBQU8sQ0FBQyxtQ0FBMEI7O0FBRTFEO0FBQ0EsYUFBYSw4QkFBOEI7QUFDM0MsV0FBVztBQUNYLDJEQUEyRDtBQUMzRCxXQUFXLDhDQUE4QztBQUN6RCxXQUFXLDhEQUE4RDtBQUN6RSxXQUFXLGdEQUFnRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJmaWxlIjoiMjYzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ2FuY2VsYWJsZVByb21pc2UgPSByZXF1aXJlKCcuL3V0aWwvY2FuY2VsYWJsZXByb21pc2UnKTtcblxuLyoqXG4gKiBDcmVhdGUgYSB7QGxpbmsgQ2FuY2VsYWJsZVByb21pc2U8Um9vbT59LlxuICogQHBhcmFtIHtmdW5jdGlvbihmdW5jdGlvbihBcnJheTxMb2NhbFRyYWNrPik6IENhbmNlbGFibGVQcm9taXNlPFJvb21TaWduYWxpbmc+KTpcbiAqICAgUHJvbWlzZTxmdW5jdGlvbigpOiBDYW5jZWxhYmxlUHJvbWlzZTxSb29tU2lnbmFsaW5nPj59IGdldExvY2FsVHJhY2tzXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKEFycmF5PExvY2FsVHJhY2s+KTogTG9jYWxQYXJ0aWNpcGFudH0gY3JlYXRlTG9jYWxQYXJ0aWNpcGFudFxuICogQHBhcmFtIHtmdW5jdGlvbihBcnJheTxMb2NhbFRyYWNrPik6IENhbmNlbGFibGVQcm9taXNlPFJvb21TaWduYWxpbmc+fSBjcmVhdGVSb29tU2lnbmFsaW5nXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKExvY2FsUGFydGljaXBhbnQsIFJvb21TaWduYWxpbmcpOiBSb29tfSBjcmVhdGVSb29tXG4gKiBAcmV0dXJucyBDYW5jZWxhYmxlUHJvbWlzZTxSb29tPlxuICovXG5mdW5jdGlvbiBjcmVhdGVDYW5jZWxhYmxlUm9vbVByb21pc2UoZ2V0TG9jYWxUcmFja3MsIGNyZWF0ZUxvY2FsUGFydGljaXBhbnQsIGNyZWF0ZVJvb21TaWduYWxpbmcsIGNyZWF0ZVJvb20pIHtcbiAgdmFyIGNhbmNlbGFibGVSb29tU2lnbmFsaW5nUHJvbWlzZSA9IHZvaWQgMDtcbiAgdmFyIGNhbmNlbGF0aW9uRXJyb3IgPSBuZXcgRXJyb3IoJ0NhbmNlbGVkJyk7XG5cbiAgcmV0dXJuIG5ldyBDYW5jZWxhYmxlUHJvbWlzZShmdW5jdGlvbiBvbkNyZWF0ZShyZXNvbHZlLCByZWplY3QsIGlzQ2FuY2VsZWQpIHtcbiAgICB2YXIgbG9jYWxQYXJ0aWNpcGFudCA9IHZvaWQgMDtcbiAgICBnZXRMb2NhbFRyYWNrcyhmdW5jdGlvbiBnZXRMb2NhbFRyYWNrc1N1Y2NlZWRlZChsb2NhbFRyYWNrcykge1xuICAgICAgaWYgKGlzQ2FuY2VsZWQoKSkge1xuICAgICAgICByZXR1cm4gQ2FuY2VsYWJsZVByb21pc2UucmVqZWN0KGNhbmNlbGF0aW9uRXJyb3IpO1xuICAgICAgfVxuICAgICAgbG9jYWxQYXJ0aWNpcGFudCA9IGNyZWF0ZUxvY2FsUGFydGljaXBhbnQobG9jYWxUcmFja3MpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVJvb21TaWduYWxpbmcobG9jYWxQYXJ0aWNpcGFudCkudGhlbihmdW5jdGlvbiBjcmVhdGVSb29tU2lnbmFsaW5nU3VjY2VlZGVkKGdldENhbmNlbGFibGVSb29tU2lnbmFsaW5nUHJvbWlzZSkge1xuICAgICAgICBpZiAoaXNDYW5jZWxlZCgpKSB7XG4gICAgICAgICAgdGhyb3cgY2FuY2VsYXRpb25FcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBjYW5jZWxhYmxlUm9vbVNpZ25hbGluZ1Byb21pc2UgPSBnZXRDYW5jZWxhYmxlUm9vbVNpZ25hbGluZ1Byb21pc2UoKTtcbiAgICAgICAgcmV0dXJuIGNhbmNlbGFibGVSb29tU2lnbmFsaW5nUHJvbWlzZTtcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gcm9vbVNpZ25hbGluZ0Nvbm5lY3RlZChyb29tU2lnbmFsaW5nKSB7XG4gICAgICBpZiAoaXNDYW5jZWxlZCgpKSB7XG4gICAgICAgIHJvb21TaWduYWxpbmcuZGlzY29ubmVjdCgpO1xuICAgICAgICB0aHJvdyBjYW5jZWxhdGlvbkVycm9yO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShjcmVhdGVSb29tKGxvY2FsUGFydGljaXBhbnQsIHJvb21TaWduYWxpbmcpKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiBvbkVycm9yKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH0pO1xuICB9LCBmdW5jdGlvbiBvbkNhbmNlbCgpIHtcbiAgICBpZiAoY2FuY2VsYWJsZVJvb21TaWduYWxpbmdQcm9taXNlKSB7XG4gICAgICBjYW5jZWxhYmxlUm9vbVNpZ25hbGluZ1Byb21pc2UuY2FuY2VsKCk7XG4gICAgfVxuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVDYW5jZWxhYmxlUm9vbVByb21pc2U7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9jYW5jZWxhYmxlcm9vbXByb21pc2UuanNcbi8vIG1vZHVsZSBpZCA9IDI2M1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///263\n");

/***/ }),
/* 264 */
/*!*****************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/getstats.js ***!
  \*****************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* global RTCRtpTransceiver */\n\n\nvar flatMap = __webpack_require__(/*! ./util */ 210).flatMap;\nvar guessBrowser = __webpack_require__(/*! ./util */ 210).guessBrowser;\n\nvar guess = guessBrowser();\nvar isChrome = guess === 'chrome';\nvar isFirefox = guess === 'firefox';\nvar isSafari = guess === 'safari';\n\nvar chromeMajorVersion = isChrome\n  ? parseInt(navigator.userAgent.match(/Chrome\\/([0-9]+)/)[1], 10)\n  : null;\n\n/**\n * Get the standardized {@link RTCPeerConnection} statistics.\n * @param {RTCPeerConnection} peerConnection\n * @param {object} [options] - Used for testing\n * @returns {Promise.<StandardizedStatsResponse>}\n */\nfunction getStats(peerConnection, options) {\n  if (!(peerConnection && typeof peerConnection.getStats === 'function')) {\n    return Promise.reject(new Error('Given PeerConnection does not support getStats'));\n  }\n  return _getStats(peerConnection, options);\n}\n\n/**\n * getStats() implementation.\n * @param {RTCPeerConnection} peerConnection\n * @param {object} [options] - Used for testing\n * @returns {Promise.<StandardizedStatsResponse>}\n */\nfunction _getStats(peerConnection, options) {\n  var localAudioTracks = getTracks(peerConnection, 'audio', 'local');\n  var localVideoTracks = getTracks(peerConnection, 'video', 'local');\n  var remoteAudioTracks = getTracks(peerConnection, 'audio');\n  var remoteVideoTracks = getTracks(peerConnection, 'video');\n\n  var statsResponse = {\n    activeIceCandidatePair: null,\n    localAudioTrackStats: [],\n    localVideoTrackStats: [],\n    remoteAudioTrackStats: [],\n    remoteVideoTrackStats: []\n  };\n\n  var trackStatsPromises = flatMap([\n    [localAudioTracks, 'localAudioTrackStats', false],\n    [localVideoTracks, 'localVideoTrackStats', false],\n    [remoteAudioTracks, 'remoteAudioTrackStats', true],\n    [remoteVideoTracks, 'remoteVideoTrackStats', true]\n  ], function(triple) {\n    var tracks = triple[0];\n    var statsArrayName = triple[1];\n    var isRemote = triple[2];\n    return tracks.map(function(track) {\n      return getTrackStats(peerConnection, track, Object.assign({\n        isRemote: isRemote\n      }, options)).then(function(stats) {\n        stats.trackId = track.id;\n        statsResponse[statsArrayName].push(stats);\n      });\n    });\n  });\n\n  return Promise.all(trackStatsPromises).then(function() {\n    return getActiveIceCandidatePairStats(peerConnection, options);\n  }).then(function(activeIceCandidatePairStatsReport) {\n    statsResponse.activeIceCandidatePair = activeIceCandidatePairStatsReport;\n    return statsResponse;\n  });\n}\n\n/**\n * Generate the {@link StandardizedActiveIceCandidatePairStatsReport} for the\n * {@link RTCPeerConnection}.\n * @param {RTCPeerConnection} peerConnection\n * @param {object} [options]\n * @returns {Promise<StandardizedActiveIceCandidatePairStatsReport>}\n */\nfunction getActiveIceCandidatePairStats(peerConnection, options) {\n  options = options || {};\n\n  if (typeof options.testForChrome !== 'undefined' || isChrome\n    || typeof options.testForSafari  !== 'undefined' || isSafari) {\n    return peerConnection.getStats().then(\n      standardizeChromeOrSafariActiveIceCandidatePairStats);\n  }\n  if (typeof options.testForFirefox !== 'undefined' || isFirefox) {\n    return peerConnection.getStats().then(standardizeFirefoxActiveIceCandidatePairStats);\n  }\n  return Promise.reject(new Error('RTCPeerConnection#getStats() not supported'));\n}\n\n/**\n * Standardize the active RTCIceCandidate pair's statistics in Chrome or Safari.\n * @param {RTCStatsReport} stats\n * @returns {?StandardizedActiveIceCandidatePairStatsReport}\n */\nfunction standardizeChromeOrSafariActiveIceCandidatePairStats(stats) {\n  var activeCandidatePairStats = Array.from(stats.values()).find(function(stat) {\n    return stat.type === 'candidate-pair' && stat.nominated;\n  });\n\n  if (!activeCandidatePairStats) {\n    return null;\n  }\n\n  var activeLocalCandidateStats = stats.get(activeCandidatePairStats.localCandidateId);\n  var activeRemoteCandidateStats = stats.get(activeCandidatePairStats.remoteCandidateId);\n\n  var standardizedCandidateStatsKeys = [\n    { key: 'candidateType', type: 'string' },\n    { key: 'ip', type: 'string' },\n    { key: 'port', type: 'number' },\n    { key: 'priority', type: 'number' },\n    { key: 'protocol', type: 'string' },\n    { key: 'url', type: 'string' }\n  ];\n\n  var standardizedLocalCandidateStatsKeys = standardizedCandidateStatsKeys.concat([\n    { key: 'deleted', type: 'boolean' },\n    { key: 'relayProtocol', type: 'string' }\n  ]);\n\n  var standatdizedLocalCandidateStatsReport = activeLocalCandidateStats\n    ? standardizedLocalCandidateStatsKeys.reduce(function(report, keyInfo) {\n      report[keyInfo.key] = typeof activeLocalCandidateStats[keyInfo.key] === keyInfo.type\n        ? activeLocalCandidateStats[keyInfo.key]\n        : keyInfo.key === 'deleted' ? false : null;\n      return report;\n    }, {})\n    : null;\n\n  var standardizedRemoteCandidateStatsReport = activeRemoteCandidateStats\n    ? standardizedCandidateStatsKeys.reduce(function(report, keyInfo) {\n      report[keyInfo.key] = typeof activeRemoteCandidateStats[keyInfo.key] === keyInfo.type\n        ? activeRemoteCandidateStats[keyInfo.key]\n        : null;\n      return report;\n    }, {})\n    : null;\n\n  return [\n    { key: 'availableIncomingBitrate', type: 'number' },\n    { key: 'availableOutgoingBitrate', type: 'number' },\n    { key: 'bytesReceived', type: 'number' },\n    { key: 'bytesSent', type: 'number' },\n    { key: 'consentRequestsSent', type: 'number' },\n    { key: 'currentRoundTripTime', type: 'number' },\n    { key: 'lastPacketReceivedTimestamp', type: 'number' },\n    { key: 'lastPacketSentTimestamp', type: 'number' },\n    { key: 'nominated', type: 'boolean' },\n    { key: 'priority', type: 'number' },\n    { key: 'readable', type: 'boolean' },\n    { key: 'requestsReceived', type: 'number' },\n    { key: 'requestsSent', type: 'number' },\n    { key: 'responsesReceived', type: 'number' },\n    { key: 'responsesSent', type: 'number' },\n    { key: 'retransmissionsReceived', type: 'number' },\n    { key: 'retransmissionsSent', type: 'number' },\n    { key: 'state', type: 'string' },\n    { key: 'totalRoundTripTime', type: 'number' },\n    { key: 'transportId', type: 'string' },\n    { key: 'writable', type: 'boolean' }\n  ].reduce(function(report, keyInfo) {\n    report[keyInfo.key] = typeof activeCandidatePairStats[keyInfo.key] === keyInfo.type\n      ? activeCandidatePairStats[keyInfo.key]\n      : null;\n    return report;\n  }, {\n    localCandidate: standatdizedLocalCandidateStatsReport,\n    remoteCandidate: standardizedRemoteCandidateStatsReport\n  });\n}\n\n/**\n * Standardize the active RTCIceCandidate pair's statistics in Firefox.\n * @param {RTCStatsReport} stats\n * @returns {?StandardizedActiveIceCandidatePairStatsReport}\n */\nfunction standardizeFirefoxActiveIceCandidatePairStats(stats) {\n  var activeCandidatePairStats = Array.from(stats.values()).find(function(stat) {\n    return stat.type === 'candidate-pair' && stat.nominated;\n  });\n\n  if (!activeCandidatePairStats) {\n    return null;\n  }\n\n  var activeLocalCandidateStats = stats.get(activeCandidatePairStats.localCandidateId);\n  var activeRemoteCandidateStats = stats.get(activeCandidatePairStats.remoteCandidateId);\n\n  var standardizedCandidateStatsKeys = [\n    { key: 'candidateType', type: 'string' },\n    { key: 'ip', ffKeys: ['address', 'ipAddress'], type: 'string' },\n    { key: 'port', ffKeys: ['portNumber'], type: 'number' },\n    { key: 'priority', type: 'number' },\n    { key: 'protocol', ffKeys: ['transport'], type: 'string' },\n    { key: 'url', type: 'string' }\n  ];\n\n  var standardizedLocalCandidateStatsKeys = standardizedCandidateStatsKeys.concat([\n    { key: 'deleted', type: 'boolean' },\n    { key: 'relayProtocol', type: 'string' }\n  ]);\n\n  var candidateTypes = {\n    host: 'host',\n    peerreflexive: 'prflx',\n    relayed: 'relay',\n    serverreflexive: 'srflx'\n  };\n\n  var standatdizedLocalCandidateStatsReport = activeLocalCandidateStats\n    ? standardizedLocalCandidateStatsKeys.reduce(function(report, keyInfo) {\n      var key = keyInfo.ffKeys && keyInfo.ffKeys.find(function(key) {\n        return key in activeLocalCandidateStats;\n      }) || keyInfo.key;\n      report[keyInfo.key] = typeof activeLocalCandidateStats[key] === keyInfo.type\n        ? key === 'candidateType'\n          ? candidateTypes[activeLocalCandidateStats[key]] || activeLocalCandidateStats[key]\n          : activeLocalCandidateStats[key]\n        : key === 'deleted' ? false : null;\n      return report;\n    }, {})\n    : null;\n\n  var standardizedRemoteCandidateStatsReport = activeRemoteCandidateStats\n    ? standardizedCandidateStatsKeys.reduce(function(report, keyInfo) {\n      var key = keyInfo.ffKeys && keyInfo.ffKeys.find(function(key) {\n        return key in activeRemoteCandidateStats;\n      }) || keyInfo.key;\n      report[keyInfo.key] = typeof activeRemoteCandidateStats[key] === keyInfo.type\n        ? key === 'candidateType'\n          ? candidateTypes[activeRemoteCandidateStats[key]] || activeRemoteCandidateStats[key]\n          : activeRemoteCandidateStats[key]\n        : null;\n      return report;\n    }, {})\n    : null;\n\n  return [\n    { key: 'availableIncomingBitrate', type: 'number' },\n    { key: 'availableOutgoingBitrate', type: 'number' },\n    { key: 'bytesReceived', type: 'number' },\n    { key: 'bytesSent', type: 'number' },\n    { key: 'consentRequestsSent', type: 'number' },\n    { key: 'currentRoundTripTime', type: 'number' },\n    { key: 'lastPacketReceivedTimestamp', type: 'number' },\n    { key: 'lastPacketSentTimestamp', type: 'number' },\n    { key: 'nominated', type: 'boolean' },\n    { key: 'priority', type: 'number' },\n    { key: 'readable', type: 'boolean' },\n    { key: 'requestsReceived', type: 'number' },\n    { key: 'requestsSent', type: 'number' },\n    { key: 'responsesReceived', type: 'number' },\n    { key: 'responsesSent', type: 'number' },\n    { key: 'retransmissionsReceived', type: 'number' },\n    { key: 'retransmissionsSent', type: 'number' },\n    { key: 'state', type: 'string' },\n    { key: 'totalRoundTripTime', type: 'number' },\n    { key: 'transportId', type: 'string' },\n    { key: 'writable', type: 'boolean' }\n  ].reduce(function(report, keyInfo) {\n    report[keyInfo.key] = typeof activeCandidatePairStats[keyInfo.key] === keyInfo.type\n      ? activeCandidatePairStats[keyInfo.key]\n      : null;\n    return report;\n  }, {\n    localCandidate: standatdizedLocalCandidateStatsReport,\n    remoteCandidate: standardizedRemoteCandidateStatsReport\n  });\n}\n\n/**\n * Get local/remote audio/video MediaStreamTracks.\n * @param {RTCPeerConnection} peerConnection - The RTCPeerConnection\n * @param {string} kind - 'audio' or 'video'\n * @param {string} [localOrRemote] - 'local' or 'remote'\n * @returns {Array<MediaStreamTrack>}\n */\nfunction getTracks(peerConnection, kind, localOrRemote) {\n  var getSendersOrReceivers = localOrRemote === 'local' ? 'getSenders' : 'getReceivers';\n  // NOTE(mmalavalli): In Electron 2.x (Chrome 61), if the remote peer adds a second\n  // MediaStreamTrack after completing the negotiation for the first MediaStreamTrack,\n  // then the array returned by RTCPeerConnection.getReceivers() will contain only\n  // the RTCRtpReceiver for the first MediaStreamTrack. In order to work around this,\n  // we construct the array of remote MediaStreamTracks using\n  // RTCPeerConnection.getRemoteStreams() instead.\n  if (peerConnection[getSendersOrReceivers] && !(chromeMajorVersion && chromeMajorVersion < 66)) {\n    return peerConnection[getSendersOrReceivers]().map(function(senderOrReceiver) {\n      return senderOrReceiver.track;\n    }).filter(function(track) {\n      return track && track.kind === kind;\n    });\n  }\n  var getStreams = localOrRemote === 'local' ? 'getLocalStreams' : 'getRemoteStreams';\n  return flatMap(peerConnection[getStreams](), function(stream) {\n    var getTracks = kind === 'audio' ? 'getAudioTracks' : 'getVideoTracks';\n    return stream[getTracks]();\n  });\n}\n\n/**\n * Get the standardized statistics for a particular MediaStreamTrack.\n * @param {RTCPeerConnection} peerConnection\n * @param {MediaStreamTrack} track\n * @param {object} [options] - Used for testing\n * @returns {Promise.<StandardizedTrackStatsReport>}\n */\nfunction getTrackStats(peerConnection, track, options) {\n  options = options || {};\n\n  if (typeof options.testForChrome !== 'undefined' || isChrome) {\n    return chromeOrSafariGetTrackStats(peerConnection, track);\n  }\n  if (typeof options.testForFirefox  !== 'undefined' || isFirefox) {\n    return firefoxGetTrackStats(peerConnection, track, options.isRemote);\n  }\n  if (typeof options.testForSafari  !== 'undefined' || isSafari) {\n    if (typeof options.testForSafari  !== 'undefined'\n      || 'currentDirection' in RTCRtpTransceiver.prototype) {\n      return chromeOrSafariGetTrackStats(peerConnection, track);\n    }\n    // NOTE(syerrapragada): getStats() is not supported on\n    // Safari versions where plan-b is the SDP format\n    // due to this bug: https://bugs.webkit.org/show_bug.cgi?id=192601\n    return Promise.reject(new Error([\n      'getStats() is not supported on this version of Safari',\n      'due to this bug: https://bugs.webkit.org/show_bug.cgi?id=192601'\n    ].join(' ')));\n  }\n  return Promise.reject(new Error('RTCPeerConnection#getStats() not supported'));\n}\n\n/**\n * Get the standardized statistics for a particular MediaStreamTrack in Chrome or Safari.\n * @param {RTCPeerConnection} peerConnection\n * @param {MediaStreamTrack} track\n * @returns {Promise.<StandardizedTrackStatsReport>}\n */\nfunction chromeOrSafariGetTrackStats(peerConnection, track) {\n  return new Promise(function(resolve, reject) {\n    if (chromeMajorVersion && chromeMajorVersion < 67) {\n      peerConnection.getStats(function(response) {\n        resolve(standardizeChromeLegacyStats(response, track));\n      }, null, reject);\n      return;\n    }\n    peerConnection.getStats(track).then(function(response) {\n      resolve(standardizeChromeOrSafariStats(response));\n    }, reject);\n  });\n}\n\n/**\n * Get the standardized statistics for a particular MediaStreamTrack in Firefox.\n * @param {RTCPeerConnection} peerConnection\n * @param {MediaStreamTrack} track\n * @param {boolean} isRemote\n * @returns {Promise.<StandardizedTrackStatsReport>}\n */\nfunction firefoxGetTrackStats(peerConnection, track, isRemote) {\n  return new Promise(function(resolve, reject) {\n    peerConnection.getStats(track).then(function(response) {\n      resolve(standardizeFirefoxStats(response, isRemote));\n    }, reject);\n  });\n}\n\n/**\n * Standardize the MediaStreamTrack's legacy statistics in Chrome.\n * @param {RTCStatsResponse} response\n * @param {MediaStreamTrack} track\n * @returns {StandardizedTrackStatsReport}\n */\nfunction standardizeChromeLegacyStats(response, track) {\n  var ssrcReport = response.result().find(function(report) {\n    return report.type === 'ssrc' && report.stat('googTrackId') === track.id;\n  });\n\n  var standardizedStats = {};\n\n  if (ssrcReport) {\n    standardizedStats.timestamp = Math.round(Number(ssrcReport.timestamp));\n    standardizedStats = ssrcReport.names().reduce(function(stats, name) {\n      switch (name) {\n        case 'googCodecName':\n          stats.codecName = ssrcReport.stat(name);\n          break;\n        case 'googRtt':\n          stats.roundTripTime = Number(ssrcReport.stat(name));\n          break;\n        case 'googJitterReceived':\n          stats.jitter = Number(ssrcReport.stat(name));\n          break;\n        case 'googFrameWidthInput':\n          stats.frameWidthInput = Number(ssrcReport.stat(name));\n          break;\n        case 'googFrameHeightInput':\n          stats.frameHeightInput = Number(ssrcReport.stat(name));\n          break;\n        case 'googFrameWidthSent':\n          stats.frameWidthSent = Number(ssrcReport.stat(name));\n          break;\n        case 'googFrameHeightSent':\n          stats.frameHeightSent = Number(ssrcReport.stat(name));\n          break;\n        case 'googFrameWidthReceived':\n          stats.frameWidthReceived = Number(ssrcReport.stat(name));\n          break;\n        case 'googFrameHeightReceived':\n          stats.frameHeightReceived = Number(ssrcReport.stat(name));\n          break;\n        case 'googFrameRateInput':\n          stats.frameRateInput = Number(ssrcReport.stat(name));\n          break;\n        case 'googFrameRateSent':\n          stats.frameRateSent = Number(ssrcReport.stat(name));\n          break;\n        case 'googFrameRateReceived':\n          stats.frameRateReceived = Number(ssrcReport.stat(name));\n          break;\n        case 'ssrc':\n          stats[name] = ssrcReport.stat(name);\n          break;\n        case 'bytesReceived':\n        case 'bytesSent':\n        case 'packetsLost':\n        case 'packetsReceived':\n        case 'packetsSent':\n        case 'audioInputLevel':\n        case 'audioOutputLevel':\n          stats[name] = Number(ssrcReport.stat(name));\n          break;\n      }\n\n      return stats;\n    }, standardizedStats);\n  }\n\n  return standardizedStats;\n}\n\n/**\n * Standardize the MediaStreamTrack's statistics in Chrome or Safari.\n * @param {RTCStatsReport} response\n * @returns {StandardizedTrackStatsReport}\n */\nfunction standardizeChromeOrSafariStats(response) {\n  var inbound = null;\n  var outbound = null;\n  var track = null;\n  var codec = null;\n\n  response.forEach(function(stat) {\n    switch (stat.type) {\n      case 'inbound-rtp':\n        inbound = stat;\n        break;\n      case 'outbound-rtp':\n        outbound = stat;\n        break;\n      case 'track':\n        track = stat;\n        break;\n      case 'codec':\n        codec = stat;\n        break;\n    }\n  });\n\n  var isRemote = track && track.remoteSource;\n  var standardizedStats = {};\n\n  var first = isRemote ? inbound : outbound;\n  var second = track;\n  var third = codec;\n\n  function getStatValue(name) {\n    if (first && typeof first[name] !== 'undefined') {\n      return first[name];\n    }\n\n    if (second && typeof second[name] !== 'undefined') {\n      return second[name];\n    }\n\n    if (third && typeof third[name] !== 'undefined') {\n      return third[name];\n    }\n\n    return null;\n  }\n\n  var ssrc = getStatValue('ssrc');\n  if (typeof ssrc === 'number') {\n    standardizedStats.ssrc = String(ssrc);\n  }\n\n  var timestamp = getStatValue('timestamp');\n  standardizedStats.timestamp = Math.round(timestamp);\n\n  var mimeType = getStatValue('mimeType');\n  if (typeof mimeType === 'string') {\n    mimeType = mimeType.split('/');\n    standardizedStats.codecName = mimeType[mimeType.length - 1];\n  }\n\n  var roundTripTime = getStatValue('roundTripTime');\n  if (typeof roundTripTime === 'number') {\n    standardizedStats.roundTripTime = roundTripTime;\n  }\n\n  var jitter = getStatValue('jitter');\n  if (typeof jitter === 'number') {\n    standardizedStats.jitter = Math.round(jitter * 1000);\n  }\n\n  var frameWidth = getStatValue('frameWidth');\n  if (typeof frameWidth === 'number') {\n    if (isRemote) {\n      standardizedStats.frameWidthReceived = frameWidth;\n    } else {\n      standardizedStats.frameWidthSent = frameWidth;\n    }\n  }\n\n  var frameHeight = getStatValue('frameHeight');\n  if (typeof frameHeight === 'number') {\n    if (isRemote) {\n      standardizedStats.frameHeightReceived = frameHeight;\n    } else {\n      standardizedStats.frameHeightSent = frameHeight;\n    }\n  }\n\n  var framesPerSecond = getStatValue('framesPerSecond');\n  if (typeof framesPerSecond === 'number') {\n    standardizedStats.frameRateSent = framesPerSecond;\n  }\n\n  var bytesReceived = getStatValue('bytesReceived');\n  if (typeof bytesReceived === 'number') {\n    standardizedStats.bytesReceived = bytesReceived;\n  }\n\n  var bytesSent = getStatValue('bytesSent');\n  if (typeof bytesSent === 'number') {\n    standardizedStats.bytesSent = bytesSent;\n  }\n\n  var packetsLost = getStatValue('packetsLost');\n  if (typeof packetsLost === 'number') {\n    standardizedStats.packetsLost = packetsLost;\n  }\n\n  var packetsReceived = getStatValue('packetsReceived');\n  if (typeof packetsReceived === 'number') {\n    standardizedStats.packetsReceived = packetsReceived;\n  }\n\n  var packetsSent = getStatValue('packetsSent');\n  if (typeof packetsSent === 'number') {\n    standardizedStats.packetsSent = packetsSent;\n  }\n\n  var audioLevel = getStatValue('audioLevel');\n  if (typeof audioLevel === 'number') {\n    if (isRemote) {\n      standardizedStats.audioOutputLevel = audioLevel;\n    } else {\n      standardizedStats.audioInputLevel = audioLevel;\n    }\n  }\n\n  return standardizedStats;\n}\n\n/**\n * Standardize the MediaStreamTrack's statistics in Firefox.\n * @param {RTCStatsReport} response\n * @param {boolean} isRemote\n * @returns {StandardizedTrackStatsReport}\n */\nfunction standardizeFirefoxStats(response, isRemote) {\n  // NOTE(mroberts): If getStats is called on a closed RTCPeerConnection,\n  // Firefox returns undefined instead of an RTCStatsReport. We workaround this\n  // here. See the following bug for more details:\n  //\n  //   https://bugzilla.mozilla.org/show_bug.cgi?id=1377225\n  //\n  response = response || new Map();\n\n  var inbound = null;\n  var outbound = null;\n\n  // NOTE(mmalavalli): Starting from Firefox 63, RTC{Inbound, Outbound}RTPStreamStats.isRemote\n  // will be deprecated, followed by its removal in Firefox 66. Also, trying to\n  // access members of the remote RTC{Inbound, Outbound}RTPStreamStats without\n  // using RTCStatsReport.get(remoteId) will trigger console warnings. So, we\n  // no longer depend on \"isRemote\", and we call RTCStatsReport.get(remoteId)\n  // to access the remote RTC{Inbound, Outbound}RTPStreamStats.\n  //\n  // Source: https://blog.mozilla.org/webrtc/getstats-isremote-65/\n  //\n  response.forEach(function(stat) {\n    if (stat.isRemote) {\n      return;\n    }\n    switch (stat.type) {\n      case 'inbound-rtp':\n        inbound = stat;\n        outbound = response.get(stat.remoteId);\n        break;\n      case 'outbound-rtp':\n        outbound = stat;\n        inbound = response.get(stat.remoteId);\n        break;\n    }\n  });\n\n  var first = isRemote ? inbound : outbound;\n  var second = isRemote ? outbound : inbound;\n\n  function getStatValue(name) {\n    if (first && typeof first[name] !== 'undefined') {\n      return first[name];\n    }\n    if (second && typeof second[name] !== 'undefined') {\n      return second[name];\n    }\n    return null;\n  }\n\n  var standardizedStats = {};\n  var timestamp = getStatValue('timestamp');\n  standardizedStats.timestamp = Math.round(timestamp);\n\n  var ssrc = getStatValue('ssrc');\n  if (typeof ssrc === 'number') {\n    standardizedStats.ssrc = String(ssrc);\n  }\n\n  var bytesSent = getStatValue('bytesSent');\n  if (typeof bytesSent === 'number') {\n    standardizedStats.bytesSent = bytesSent;\n  }\n\n  var packetsLost = getStatValue('packetsLost');\n  if (typeof packetsLost === 'number') {\n    standardizedStats.packetsLost = packetsLost;\n  }\n\n  var packetsSent = getStatValue('packetsSent');\n  if (typeof packetsSent === 'number') {\n    standardizedStats.packetsSent = packetsSent;\n  }\n\n  var roundTripTime = getStatValue('roundTripTime');\n  if (typeof roundTripTime === 'number') {\n    standardizedStats.roundTripTime = roundTripTime;\n  }\n\n  var jitter = getStatValue('jitter');\n  if (typeof jitter === 'number') {\n    standardizedStats.jitter = Math.round(jitter * 1000);\n  }\n\n  var frameRateSent = getStatValue('framerateMean');\n  if (typeof frameRateSent === 'number') {\n    standardizedStats.frameRateSent = Math.round(frameRateSent);\n  }\n\n  var bytesReceived = getStatValue('bytesReceived');\n  if (typeof bytesReceived === 'number') {\n    standardizedStats.bytesReceived = bytesReceived;\n  }\n\n  var packetsReceived = getStatValue('packetsReceived');\n  if (typeof packetsReceived === 'number') {\n    standardizedStats.packetsReceived = packetsReceived;\n  }\n\n  var frameRateReceived = getStatValue('framerateMean');\n  if (typeof frameRateReceived === 'number') {\n    standardizedStats.frameRateReceived = Math.round(frameRateReceived);\n  }\n\n  return standardizedStats;\n}\n\n/**\n * Standardized RTCIceCandidate statistics.\n * @typedef {object} StandardizedIceCandidateStatsReport\n * @property {'host'|'prflx'|'relay'|'srflx'} candidateType\n * @property {string} ip\n * @property {number} port\n * @property {number} priority\n * @property {'tcp'|'udp'} protocol\n * @property {string} url\n */\n\n/**\n * Standardized local RTCIceCandidate statistics.\n * @typedef {StandardizedIceCandidateStatsReport} StandardizedLocalIceCandidateStatsReport\n * @property {boolean} [deleted=false]\n * @property {'tcp'|'tls'|'udp'} relayProtocol\n */\n\n/**\n * Standardized active RTCIceCandidate pair statistics.\n * @typedef {object} StandardizedActiveIceCandidatePairStatsReport\n * @property {number} availableIncomingBitrate\n * @property {number} availableOutgoingBitrate\n * @property {number} bytesReceived\n * @property {number} bytesSent\n * @property {number} consentRequestsSent\n * @property {number} currentRoundTripTime\n * @property {number} lastPacketReceivedTimestamp\n * @property {number} lastPacketSentTimestamp\n * @property {StandardizedLocalIceCandidateStatsReport} localCandidate\n * @property {boolean} nominated\n * @property {number} priority\n * @property {boolean} readable\n * @property {StandardizedIceCandidateStatsReport} remoteCandidate\n * @property {number} requestsReceived\n * @property {number} requestsSent\n * @property {number} responsesReceived\n * @property {number} responsesSent\n * @property {number} retransmissionsReceived\n * @property {number} retransmissionsSent\n * @property {'frozen'|'waiting'|'in-progress'|'failed'|'succeeded'} state\n * @property {number} totalRoundTripTime\n * @property {string} transportId\n * @property {boolean} writable\n */\n\n/**\n * Standardized {@link RTCPeerConnection} statistics.\n * @typedef {Object} StandardizedStatsResponse\n * @property {StandardizedActiveIceCandidatePairStatsReport} activeIceCandidatePair - Stats for active ICE candidate pair\n * @property Array<StandardizedTrackStatsReport> localAudioTracks - Stats for local audio MediaStreamTracks\n * @property Array<StandardizedTrackStatsReport> localVideoTracks - Stats for local video MediaStreamTracks\n * @property Array<StandardizedTrackStatsReport> remoteAudioTracks - Stats for remote audio MediaStreamTracks\n * @property Array<StandardizedTrackStatsReport> remoteVideoTracks - Stats for remote video MediaStreamTracks\n */\n\n/**\n * Standardized MediaStreamTrack statistics.\n * @typedef {Object} StandardizedTrackStatsReport\n * @property {string} trackId - MediaStreamTrack ID\n * @property {string} ssrc - SSRC of the MediaStreamTrack\n * @property {number} timestamp - The Unix timestamp in milliseconds\n * @property {string} [codecName] - Name of the codec used to encode the MediaStreamTrack's media\n * @property {number} [roundTripTime] - Round trip time in milliseconds\n * @property {number} [jitter] - Jitter in milliseconds\n * @property {number} [frameWidthInput] - Width in pixels of the local video MediaStreamTrack's captured frame\n * @property {number} [frameHeightInput] - Height in pixels of the local video MediaStreamTrack's captured frame\n * @property {number} [frameWidthSent] - Width in pixels of the local video MediaStreamTrack's encoded frame\n * @property {number} [frameHeightSent] - Height in pixels of the local video MediaStreamTrack's encoded frame\n * @property {number} [frameWidthReceived] - Width in pixels of the remote video MediaStreamTrack's received frame\n * @property {number} [frameHeightReceived] - Height in pixels of the remote video MediaStreamTrack's received frame\n * @property {number} [frameRateInput] - Captured frames per second of the local video MediaStreamTrack\n * @property {number} [frameRateSent] - Frames per second of the local video MediaStreamTrack's encoded video\n * @property {number} [frameRateReceived] - Frames per second of the remote video MediaStreamTrack's received video\n * @property {number} [bytesReceived] - Number of bytes of the remote MediaStreamTrack's media received\n * @property {number} [bytesSent] - Number of bytes of the local MediaStreamTrack's media sent\n * @property {number} [packetsLost] - Number of packets of the MediaStreamTrack's media lost\n * @property {number} [packetsReceived] - Number of packets of the remote MediaStreamTrack's media received\n * @property {number} [packetsSent] - Number of packets of the local MediaStreamTrack's media sent\n * @property {AudioLevel} [audioInputLevel] - The {@link AudioLevel} of the local audio MediaStreamTrack\n * @property {AudioLevel} [audioOutputLevel] - The {@link AudioLevel} of the remote video MediaStreamTrack\n */\n\nmodule.exports = getStats;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL2dldHN0YXRzLmpzPzU3NmEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDYTs7QUFFYixjQUFjLG1CQUFPLENBQUMsaUJBQVE7QUFDOUIsbUJBQW1CLG1CQUFPLENBQUMsaUJBQVE7O0FBRW5DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlCQUF5Qix3QkFBd0I7QUFDakQsV0FBVyxrQkFBa0I7QUFDN0IsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0IsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsaUJBQWlCLG9EQUFvRDtBQUNyRSxJQUFJLHdCQUF3QjtBQUM1QixXQUFXLGtCQUFrQjtBQUM3QixXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLLHVDQUF1QztBQUM1QyxLQUFLLDRCQUE0QjtBQUNqQyxLQUFLLDhCQUE4QjtBQUNuQyxLQUFLLGtDQUFrQztBQUN2QyxLQUFLLGtDQUFrQztBQUN2QyxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxLQUFLLGtDQUFrQztBQUN2QyxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7O0FBRUE7QUFDQSxLQUFLLGtEQUFrRDtBQUN2RCxLQUFLLGtEQUFrRDtBQUN2RCxLQUFLLHVDQUF1QztBQUM1QyxLQUFLLG1DQUFtQztBQUN4QyxLQUFLLDZDQUE2QztBQUNsRCxLQUFLLDhDQUE4QztBQUNuRCxLQUFLLHFEQUFxRDtBQUMxRCxLQUFLLGlEQUFpRDtBQUN0RCxLQUFLLG9DQUFvQztBQUN6QyxLQUFLLGtDQUFrQztBQUN2QyxLQUFLLG1DQUFtQztBQUN4QyxLQUFLLDBDQUEwQztBQUMvQyxLQUFLLHNDQUFzQztBQUMzQyxLQUFLLDJDQUEyQztBQUNoRCxLQUFLLHVDQUF1QztBQUM1QyxLQUFLLGlEQUFpRDtBQUN0RCxLQUFLLDZDQUE2QztBQUNsRCxLQUFLLCtCQUErQjtBQUNwQyxLQUFLLDRDQUE0QztBQUNqRCxLQUFLLHFDQUFxQztBQUMxQyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUssdUNBQXVDO0FBQzVDLEtBQUssOERBQThEO0FBQ25FLEtBQUssc0RBQXNEO0FBQzNELEtBQUssa0NBQWtDO0FBQ3ZDLEtBQUsseURBQXlEO0FBQzlELEtBQUs7QUFDTDs7QUFFQTtBQUNBLEtBQUssa0NBQWtDO0FBQ3ZDLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7O0FBRUE7QUFDQSxLQUFLLGtEQUFrRDtBQUN2RCxLQUFLLGtEQUFrRDtBQUN2RCxLQUFLLHVDQUF1QztBQUM1QyxLQUFLLG1DQUFtQztBQUN4QyxLQUFLLDZDQUE2QztBQUNsRCxLQUFLLDhDQUE4QztBQUNuRCxLQUFLLHFEQUFxRDtBQUMxRCxLQUFLLGlEQUFpRDtBQUN0RCxLQUFLLG9DQUFvQztBQUN6QyxLQUFLLGtDQUFrQztBQUN2QyxLQUFLLG1DQUFtQztBQUN4QyxLQUFLLDBDQUEwQztBQUMvQyxLQUFLLHNDQUFzQztBQUMzQyxLQUFLLDJDQUEyQztBQUNoRCxLQUFLLHVDQUF1QztBQUM1QyxLQUFLLGlEQUFpRDtBQUN0RCxLQUFLLDZDQUE2QztBQUNsRCxLQUFLLCtCQUErQjtBQUNwQyxLQUFLLDRDQUE0QztBQUNqRCxLQUFLLHFDQUFxQztBQUMxQyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGtCQUFrQjtBQUM3QixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0IsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxPQUFPO0FBQ2xCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGtCQUFrQjtBQUM3QixXQUFXLGlCQUFpQjtBQUM1QixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0IsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxpQkFBaUI7QUFDNUIsV0FBVyxpQkFBaUI7QUFDNUIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxxREFBcUQsa0JBQWtCO0FBQ3ZFO0FBQ0Esc0NBQXNDLGtCQUFrQjtBQUN4RDtBQUNBO0FBQ0EsOEJBQThCLGtCQUFrQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGNBQWMsK0JBQStCO0FBQzdDLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsWUFBWTtBQUMxQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTtBQUNBLGFBQWEsb0NBQW9DO0FBQ2pELGNBQWMsUUFBUTtBQUN0QixjQUFjLGtCQUFrQjtBQUNoQzs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyx5Q0FBeUM7QUFDdkQsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsT0FBTztBQUNyQixjQUFjLFFBQVE7QUFDdEIsY0FBYyxvQ0FBb0M7QUFDbEQsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxzREFBc0Q7QUFDcEUsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLFFBQVE7QUFDdEI7O0FBRUE7QUFDQSxpQkFBaUIsd0JBQXdCO0FBQ3pDLGFBQWEsT0FBTztBQUNwQixjQUFjLDhDQUE4QztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQixjQUFjLFdBQVcsMEJBQTBCLGlCQUFpQjtBQUNwRSxjQUFjLFdBQVcsMkJBQTJCLGlCQUFpQjtBQUNyRTs7QUFFQSIsImZpbGUiOiIyNjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgUlRDUnRwVHJhbnNjZWl2ZXIgKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIGZsYXRNYXAgPSByZXF1aXJlKCcuL3V0aWwnKS5mbGF0TWFwO1xudmFyIGd1ZXNzQnJvd3NlciA9IHJlcXVpcmUoJy4vdXRpbCcpLmd1ZXNzQnJvd3NlcjtcblxudmFyIGd1ZXNzID0gZ3Vlc3NCcm93c2VyKCk7XG52YXIgaXNDaHJvbWUgPSBndWVzcyA9PT0gJ2Nocm9tZSc7XG52YXIgaXNGaXJlZm94ID0gZ3Vlc3MgPT09ICdmaXJlZm94JztcbnZhciBpc1NhZmFyaSA9IGd1ZXNzID09PSAnc2FmYXJpJztcblxudmFyIGNocm9tZU1ham9yVmVyc2lvbiA9IGlzQ2hyb21lXG4gID8gcGFyc2VJbnQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ2hyb21lXFwvKFswLTldKykvKVsxXSwgMTApXG4gIDogbnVsbDtcblxuLyoqXG4gKiBHZXQgdGhlIHN0YW5kYXJkaXplZCB7QGxpbmsgUlRDUGVlckNvbm5lY3Rpb259IHN0YXRpc3RpY3MuXG4gKiBAcGFyYW0ge1JUQ1BlZXJDb25uZWN0aW9ufSBwZWVyQ29ubmVjdGlvblxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFVzZWQgZm9yIHRlc3RpbmdcbiAqIEByZXR1cm5zIHtQcm9taXNlLjxTdGFuZGFyZGl6ZWRTdGF0c1Jlc3BvbnNlPn1cbiAqL1xuZnVuY3Rpb24gZ2V0U3RhdHMocGVlckNvbm5lY3Rpb24sIG9wdGlvbnMpIHtcbiAgaWYgKCEocGVlckNvbm5lY3Rpb24gJiYgdHlwZW9mIHBlZXJDb25uZWN0aW9uLmdldFN0YXRzID09PSAnZnVuY3Rpb24nKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0dpdmVuIFBlZXJDb25uZWN0aW9uIGRvZXMgbm90IHN1cHBvcnQgZ2V0U3RhdHMnKSk7XG4gIH1cbiAgcmV0dXJuIF9nZXRTdGF0cyhwZWVyQ29ubmVjdGlvbiwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogZ2V0U3RhdHMoKSBpbXBsZW1lbnRhdGlvbi5cbiAqIEBwYXJhbSB7UlRDUGVlckNvbm5lY3Rpb259IHBlZXJDb25uZWN0aW9uXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVXNlZCBmb3IgdGVzdGluZ1xuICogQHJldHVybnMge1Byb21pc2UuPFN0YW5kYXJkaXplZFN0YXRzUmVzcG9uc2U+fVxuICovXG5mdW5jdGlvbiBfZ2V0U3RhdHMocGVlckNvbm5lY3Rpb24sIG9wdGlvbnMpIHtcbiAgdmFyIGxvY2FsQXVkaW9UcmFja3MgPSBnZXRUcmFja3MocGVlckNvbm5lY3Rpb24sICdhdWRpbycsICdsb2NhbCcpO1xuICB2YXIgbG9jYWxWaWRlb1RyYWNrcyA9IGdldFRyYWNrcyhwZWVyQ29ubmVjdGlvbiwgJ3ZpZGVvJywgJ2xvY2FsJyk7XG4gIHZhciByZW1vdGVBdWRpb1RyYWNrcyA9IGdldFRyYWNrcyhwZWVyQ29ubmVjdGlvbiwgJ2F1ZGlvJyk7XG4gIHZhciByZW1vdGVWaWRlb1RyYWNrcyA9IGdldFRyYWNrcyhwZWVyQ29ubmVjdGlvbiwgJ3ZpZGVvJyk7XG5cbiAgdmFyIHN0YXRzUmVzcG9uc2UgPSB7XG4gICAgYWN0aXZlSWNlQ2FuZGlkYXRlUGFpcjogbnVsbCxcbiAgICBsb2NhbEF1ZGlvVHJhY2tTdGF0czogW10sXG4gICAgbG9jYWxWaWRlb1RyYWNrU3RhdHM6IFtdLFxuICAgIHJlbW90ZUF1ZGlvVHJhY2tTdGF0czogW10sXG4gICAgcmVtb3RlVmlkZW9UcmFja1N0YXRzOiBbXVxuICB9O1xuXG4gIHZhciB0cmFja1N0YXRzUHJvbWlzZXMgPSBmbGF0TWFwKFtcbiAgICBbbG9jYWxBdWRpb1RyYWNrcywgJ2xvY2FsQXVkaW9UcmFja1N0YXRzJywgZmFsc2VdLFxuICAgIFtsb2NhbFZpZGVvVHJhY2tzLCAnbG9jYWxWaWRlb1RyYWNrU3RhdHMnLCBmYWxzZV0sXG4gICAgW3JlbW90ZUF1ZGlvVHJhY2tzLCAncmVtb3RlQXVkaW9UcmFja1N0YXRzJywgdHJ1ZV0sXG4gICAgW3JlbW90ZVZpZGVvVHJhY2tzLCAncmVtb3RlVmlkZW9UcmFja1N0YXRzJywgdHJ1ZV1cbiAgXSwgZnVuY3Rpb24odHJpcGxlKSB7XG4gICAgdmFyIHRyYWNrcyA9IHRyaXBsZVswXTtcbiAgICB2YXIgc3RhdHNBcnJheU5hbWUgPSB0cmlwbGVbMV07XG4gICAgdmFyIGlzUmVtb3RlID0gdHJpcGxlWzJdO1xuICAgIHJldHVybiB0cmFja3MubWFwKGZ1bmN0aW9uKHRyYWNrKSB7XG4gICAgICByZXR1cm4gZ2V0VHJhY2tTdGF0cyhwZWVyQ29ubmVjdGlvbiwgdHJhY2ssIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBpc1JlbW90ZTogaXNSZW1vdGVcbiAgICAgIH0sIG9wdGlvbnMpKS50aGVuKGZ1bmN0aW9uKHN0YXRzKSB7XG4gICAgICAgIHN0YXRzLnRyYWNrSWQgPSB0cmFjay5pZDtcbiAgICAgICAgc3RhdHNSZXNwb25zZVtzdGF0c0FycmF5TmFtZV0ucHVzaChzdGF0cyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIFByb21pc2UuYWxsKHRyYWNrU3RhdHNQcm9taXNlcykudGhlbihmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ2V0QWN0aXZlSWNlQ2FuZGlkYXRlUGFpclN0YXRzKHBlZXJDb25uZWN0aW9uLCBvcHRpb25zKTtcbiAgfSkudGhlbihmdW5jdGlvbihhY3RpdmVJY2VDYW5kaWRhdGVQYWlyU3RhdHNSZXBvcnQpIHtcbiAgICBzdGF0c1Jlc3BvbnNlLmFjdGl2ZUljZUNhbmRpZGF0ZVBhaXIgPSBhY3RpdmVJY2VDYW5kaWRhdGVQYWlyU3RhdHNSZXBvcnQ7XG4gICAgcmV0dXJuIHN0YXRzUmVzcG9uc2U7XG4gIH0pO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIHRoZSB7QGxpbmsgU3RhbmRhcmRpemVkQWN0aXZlSWNlQ2FuZGlkYXRlUGFpclN0YXRzUmVwb3J0fSBmb3IgdGhlXG4gKiB7QGxpbmsgUlRDUGVlckNvbm5lY3Rpb259LlxuICogQHBhcmFtIHtSVENQZWVyQ29ubmVjdGlvbn0gcGVlckNvbm5lY3Rpb25cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEByZXR1cm5zIHtQcm9taXNlPFN0YW5kYXJkaXplZEFjdGl2ZUljZUNhbmRpZGF0ZVBhaXJTdGF0c1JlcG9ydD59XG4gKi9cbmZ1bmN0aW9uIGdldEFjdGl2ZUljZUNhbmRpZGF0ZVBhaXJTdGF0cyhwZWVyQ29ubmVjdGlvbiwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMudGVzdEZvckNocm9tZSAhPT0gJ3VuZGVmaW5lZCcgfHwgaXNDaHJvbWVcbiAgICB8fCB0eXBlb2Ygb3B0aW9ucy50ZXN0Rm9yU2FmYXJpICAhPT0gJ3VuZGVmaW5lZCcgfHwgaXNTYWZhcmkpIHtcbiAgICByZXR1cm4gcGVlckNvbm5lY3Rpb24uZ2V0U3RhdHMoKS50aGVuKFxuICAgICAgc3RhbmRhcmRpemVDaHJvbWVPclNhZmFyaUFjdGl2ZUljZUNhbmRpZGF0ZVBhaXJTdGF0cyk7XG4gIH1cbiAgaWYgKHR5cGVvZiBvcHRpb25zLnRlc3RGb3JGaXJlZm94ICE9PSAndW5kZWZpbmVkJyB8fCBpc0ZpcmVmb3gpIHtcbiAgICByZXR1cm4gcGVlckNvbm5lY3Rpb24uZ2V0U3RhdHMoKS50aGVuKHN0YW5kYXJkaXplRmlyZWZveEFjdGl2ZUljZUNhbmRpZGF0ZVBhaXJTdGF0cyk7XG4gIH1cbiAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignUlRDUGVlckNvbm5lY3Rpb24jZ2V0U3RhdHMoKSBub3Qgc3VwcG9ydGVkJykpO1xufVxuXG4vKipcbiAqIFN0YW5kYXJkaXplIHRoZSBhY3RpdmUgUlRDSWNlQ2FuZGlkYXRlIHBhaXIncyBzdGF0aXN0aWNzIGluIENocm9tZSBvciBTYWZhcmkuXG4gKiBAcGFyYW0ge1JUQ1N0YXRzUmVwb3J0fSBzdGF0c1xuICogQHJldHVybnMgez9TdGFuZGFyZGl6ZWRBY3RpdmVJY2VDYW5kaWRhdGVQYWlyU3RhdHNSZXBvcnR9XG4gKi9cbmZ1bmN0aW9uIHN0YW5kYXJkaXplQ2hyb21lT3JTYWZhcmlBY3RpdmVJY2VDYW5kaWRhdGVQYWlyU3RhdHMoc3RhdHMpIHtcbiAgdmFyIGFjdGl2ZUNhbmRpZGF0ZVBhaXJTdGF0cyA9IEFycmF5LmZyb20oc3RhdHMudmFsdWVzKCkpLmZpbmQoZnVuY3Rpb24oc3RhdCkge1xuICAgIHJldHVybiBzdGF0LnR5cGUgPT09ICdjYW5kaWRhdGUtcGFpcicgJiYgc3RhdC5ub21pbmF0ZWQ7XG4gIH0pO1xuXG4gIGlmICghYWN0aXZlQ2FuZGlkYXRlUGFpclN0YXRzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgYWN0aXZlTG9jYWxDYW5kaWRhdGVTdGF0cyA9IHN0YXRzLmdldChhY3RpdmVDYW5kaWRhdGVQYWlyU3RhdHMubG9jYWxDYW5kaWRhdGVJZCk7XG4gIHZhciBhY3RpdmVSZW1vdGVDYW5kaWRhdGVTdGF0cyA9IHN0YXRzLmdldChhY3RpdmVDYW5kaWRhdGVQYWlyU3RhdHMucmVtb3RlQ2FuZGlkYXRlSWQpO1xuXG4gIHZhciBzdGFuZGFyZGl6ZWRDYW5kaWRhdGVTdGF0c0tleXMgPSBbXG4gICAgeyBrZXk6ICdjYW5kaWRhdGVUeXBlJywgdHlwZTogJ3N0cmluZycgfSxcbiAgICB7IGtleTogJ2lwJywgdHlwZTogJ3N0cmluZycgfSxcbiAgICB7IGtleTogJ3BvcnQnLCB0eXBlOiAnbnVtYmVyJyB9LFxuICAgIHsga2V5OiAncHJpb3JpdHknLCB0eXBlOiAnbnVtYmVyJyB9LFxuICAgIHsga2V5OiAncHJvdG9jb2wnLCB0eXBlOiAnc3RyaW5nJyB9LFxuICAgIHsga2V5OiAndXJsJywgdHlwZTogJ3N0cmluZycgfVxuICBdO1xuXG4gIHZhciBzdGFuZGFyZGl6ZWRMb2NhbENhbmRpZGF0ZVN0YXRzS2V5cyA9IHN0YW5kYXJkaXplZENhbmRpZGF0ZVN0YXRzS2V5cy5jb25jYXQoW1xuICAgIHsga2V5OiAnZGVsZXRlZCcsIHR5cGU6ICdib29sZWFuJyB9LFxuICAgIHsga2V5OiAncmVsYXlQcm90b2NvbCcsIHR5cGU6ICdzdHJpbmcnIH1cbiAgXSk7XG5cbiAgdmFyIHN0YW5kYXRkaXplZExvY2FsQ2FuZGlkYXRlU3RhdHNSZXBvcnQgPSBhY3RpdmVMb2NhbENhbmRpZGF0ZVN0YXRzXG4gICAgPyBzdGFuZGFyZGl6ZWRMb2NhbENhbmRpZGF0ZVN0YXRzS2V5cy5yZWR1Y2UoZnVuY3Rpb24ocmVwb3J0LCBrZXlJbmZvKSB7XG4gICAgICByZXBvcnRba2V5SW5mby5rZXldID0gdHlwZW9mIGFjdGl2ZUxvY2FsQ2FuZGlkYXRlU3RhdHNba2V5SW5mby5rZXldID09PSBrZXlJbmZvLnR5cGVcbiAgICAgICAgPyBhY3RpdmVMb2NhbENhbmRpZGF0ZVN0YXRzW2tleUluZm8ua2V5XVxuICAgICAgICA6IGtleUluZm8ua2V5ID09PSAnZGVsZXRlZCcgPyBmYWxzZSA6IG51bGw7XG4gICAgICByZXR1cm4gcmVwb3J0O1xuICAgIH0sIHt9KVxuICAgIDogbnVsbDtcblxuICB2YXIgc3RhbmRhcmRpemVkUmVtb3RlQ2FuZGlkYXRlU3RhdHNSZXBvcnQgPSBhY3RpdmVSZW1vdGVDYW5kaWRhdGVTdGF0c1xuICAgID8gc3RhbmRhcmRpemVkQ2FuZGlkYXRlU3RhdHNLZXlzLnJlZHVjZShmdW5jdGlvbihyZXBvcnQsIGtleUluZm8pIHtcbiAgICAgIHJlcG9ydFtrZXlJbmZvLmtleV0gPSB0eXBlb2YgYWN0aXZlUmVtb3RlQ2FuZGlkYXRlU3RhdHNba2V5SW5mby5rZXldID09PSBrZXlJbmZvLnR5cGVcbiAgICAgICAgPyBhY3RpdmVSZW1vdGVDYW5kaWRhdGVTdGF0c1trZXlJbmZvLmtleV1cbiAgICAgICAgOiBudWxsO1xuICAgICAgcmV0dXJuIHJlcG9ydDtcbiAgICB9LCB7fSlcbiAgICA6IG51bGw7XG5cbiAgcmV0dXJuIFtcbiAgICB7IGtleTogJ2F2YWlsYWJsZUluY29taW5nQml0cmF0ZScsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICdhdmFpbGFibGVPdXRnb2luZ0JpdHJhdGUnLCB0eXBlOiAnbnVtYmVyJyB9LFxuICAgIHsga2V5OiAnYnl0ZXNSZWNlaXZlZCcsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICdieXRlc1NlbnQnLCB0eXBlOiAnbnVtYmVyJyB9LFxuICAgIHsga2V5OiAnY29uc2VudFJlcXVlc3RzU2VudCcsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICdjdXJyZW50Um91bmRUcmlwVGltZScsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICdsYXN0UGFja2V0UmVjZWl2ZWRUaW1lc3RhbXAnLCB0eXBlOiAnbnVtYmVyJyB9LFxuICAgIHsga2V5OiAnbGFzdFBhY2tldFNlbnRUaW1lc3RhbXAnLCB0eXBlOiAnbnVtYmVyJyB9LFxuICAgIHsga2V5OiAnbm9taW5hdGVkJywgdHlwZTogJ2Jvb2xlYW4nIH0sXG4gICAgeyBrZXk6ICdwcmlvcml0eScsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICdyZWFkYWJsZScsIHR5cGU6ICdib29sZWFuJyB9LFxuICAgIHsga2V5OiAncmVxdWVzdHNSZWNlaXZlZCcsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICdyZXF1ZXN0c1NlbnQnLCB0eXBlOiAnbnVtYmVyJyB9LFxuICAgIHsga2V5OiAncmVzcG9uc2VzUmVjZWl2ZWQnLCB0eXBlOiAnbnVtYmVyJyB9LFxuICAgIHsga2V5OiAncmVzcG9uc2VzU2VudCcsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICdyZXRyYW5zbWlzc2lvbnNSZWNlaXZlZCcsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICdyZXRyYW5zbWlzc2lvbnNTZW50JywgdHlwZTogJ251bWJlcicgfSxcbiAgICB7IGtleTogJ3N0YXRlJywgdHlwZTogJ3N0cmluZycgfSxcbiAgICB7IGtleTogJ3RvdGFsUm91bmRUcmlwVGltZScsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICd0cmFuc3BvcnRJZCcsIHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgeyBrZXk6ICd3cml0YWJsZScsIHR5cGU6ICdib29sZWFuJyB9XG4gIF0ucmVkdWNlKGZ1bmN0aW9uKHJlcG9ydCwga2V5SW5mbykge1xuICAgIHJlcG9ydFtrZXlJbmZvLmtleV0gPSB0eXBlb2YgYWN0aXZlQ2FuZGlkYXRlUGFpclN0YXRzW2tleUluZm8ua2V5XSA9PT0ga2V5SW5mby50eXBlXG4gICAgICA/IGFjdGl2ZUNhbmRpZGF0ZVBhaXJTdGF0c1trZXlJbmZvLmtleV1cbiAgICAgIDogbnVsbDtcbiAgICByZXR1cm4gcmVwb3J0O1xuICB9LCB7XG4gICAgbG9jYWxDYW5kaWRhdGU6IHN0YW5kYXRkaXplZExvY2FsQ2FuZGlkYXRlU3RhdHNSZXBvcnQsXG4gICAgcmVtb3RlQ2FuZGlkYXRlOiBzdGFuZGFyZGl6ZWRSZW1vdGVDYW5kaWRhdGVTdGF0c1JlcG9ydFxuICB9KTtcbn1cblxuLyoqXG4gKiBTdGFuZGFyZGl6ZSB0aGUgYWN0aXZlIFJUQ0ljZUNhbmRpZGF0ZSBwYWlyJ3Mgc3RhdGlzdGljcyBpbiBGaXJlZm94LlxuICogQHBhcmFtIHtSVENTdGF0c1JlcG9ydH0gc3RhdHNcbiAqIEByZXR1cm5zIHs/U3RhbmRhcmRpemVkQWN0aXZlSWNlQ2FuZGlkYXRlUGFpclN0YXRzUmVwb3J0fVxuICovXG5mdW5jdGlvbiBzdGFuZGFyZGl6ZUZpcmVmb3hBY3RpdmVJY2VDYW5kaWRhdGVQYWlyU3RhdHMoc3RhdHMpIHtcbiAgdmFyIGFjdGl2ZUNhbmRpZGF0ZVBhaXJTdGF0cyA9IEFycmF5LmZyb20oc3RhdHMudmFsdWVzKCkpLmZpbmQoZnVuY3Rpb24oc3RhdCkge1xuICAgIHJldHVybiBzdGF0LnR5cGUgPT09ICdjYW5kaWRhdGUtcGFpcicgJiYgc3RhdC5ub21pbmF0ZWQ7XG4gIH0pO1xuXG4gIGlmICghYWN0aXZlQ2FuZGlkYXRlUGFpclN0YXRzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgYWN0aXZlTG9jYWxDYW5kaWRhdGVTdGF0cyA9IHN0YXRzLmdldChhY3RpdmVDYW5kaWRhdGVQYWlyU3RhdHMubG9jYWxDYW5kaWRhdGVJZCk7XG4gIHZhciBhY3RpdmVSZW1vdGVDYW5kaWRhdGVTdGF0cyA9IHN0YXRzLmdldChhY3RpdmVDYW5kaWRhdGVQYWlyU3RhdHMucmVtb3RlQ2FuZGlkYXRlSWQpO1xuXG4gIHZhciBzdGFuZGFyZGl6ZWRDYW5kaWRhdGVTdGF0c0tleXMgPSBbXG4gICAgeyBrZXk6ICdjYW5kaWRhdGVUeXBlJywgdHlwZTogJ3N0cmluZycgfSxcbiAgICB7IGtleTogJ2lwJywgZmZLZXlzOiBbJ2FkZHJlc3MnLCAnaXBBZGRyZXNzJ10sIHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgeyBrZXk6ICdwb3J0JywgZmZLZXlzOiBbJ3BvcnROdW1iZXInXSwgdHlwZTogJ251bWJlcicgfSxcbiAgICB7IGtleTogJ3ByaW9yaXR5JywgdHlwZTogJ251bWJlcicgfSxcbiAgICB7IGtleTogJ3Byb3RvY29sJywgZmZLZXlzOiBbJ3RyYW5zcG9ydCddLCB0eXBlOiAnc3RyaW5nJyB9LFxuICAgIHsga2V5OiAndXJsJywgdHlwZTogJ3N0cmluZycgfVxuICBdO1xuXG4gIHZhciBzdGFuZGFyZGl6ZWRMb2NhbENhbmRpZGF0ZVN0YXRzS2V5cyA9IHN0YW5kYXJkaXplZENhbmRpZGF0ZVN0YXRzS2V5cy5jb25jYXQoW1xuICAgIHsga2V5OiAnZGVsZXRlZCcsIHR5cGU6ICdib29sZWFuJyB9LFxuICAgIHsga2V5OiAncmVsYXlQcm90b2NvbCcsIHR5cGU6ICdzdHJpbmcnIH1cbiAgXSk7XG5cbiAgdmFyIGNhbmRpZGF0ZVR5cGVzID0ge1xuICAgIGhvc3Q6ICdob3N0JyxcbiAgICBwZWVycmVmbGV4aXZlOiAncHJmbHgnLFxuICAgIHJlbGF5ZWQ6ICdyZWxheScsXG4gICAgc2VydmVycmVmbGV4aXZlOiAnc3JmbHgnXG4gIH07XG5cbiAgdmFyIHN0YW5kYXRkaXplZExvY2FsQ2FuZGlkYXRlU3RhdHNSZXBvcnQgPSBhY3RpdmVMb2NhbENhbmRpZGF0ZVN0YXRzXG4gICAgPyBzdGFuZGFyZGl6ZWRMb2NhbENhbmRpZGF0ZVN0YXRzS2V5cy5yZWR1Y2UoZnVuY3Rpb24ocmVwb3J0LCBrZXlJbmZvKSB7XG4gICAgICB2YXIga2V5ID0ga2V5SW5mby5mZktleXMgJiYga2V5SW5mby5mZktleXMuZmluZChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleSBpbiBhY3RpdmVMb2NhbENhbmRpZGF0ZVN0YXRzO1xuICAgICAgfSkgfHwga2V5SW5mby5rZXk7XG4gICAgICByZXBvcnRba2V5SW5mby5rZXldID0gdHlwZW9mIGFjdGl2ZUxvY2FsQ2FuZGlkYXRlU3RhdHNba2V5XSA9PT0ga2V5SW5mby50eXBlXG4gICAgICAgID8ga2V5ID09PSAnY2FuZGlkYXRlVHlwZSdcbiAgICAgICAgICA/IGNhbmRpZGF0ZVR5cGVzW2FjdGl2ZUxvY2FsQ2FuZGlkYXRlU3RhdHNba2V5XV0gfHwgYWN0aXZlTG9jYWxDYW5kaWRhdGVTdGF0c1trZXldXG4gICAgICAgICAgOiBhY3RpdmVMb2NhbENhbmRpZGF0ZVN0YXRzW2tleV1cbiAgICAgICAgOiBrZXkgPT09ICdkZWxldGVkJyA/IGZhbHNlIDogbnVsbDtcbiAgICAgIHJldHVybiByZXBvcnQ7XG4gICAgfSwge30pXG4gICAgOiBudWxsO1xuXG4gIHZhciBzdGFuZGFyZGl6ZWRSZW1vdGVDYW5kaWRhdGVTdGF0c1JlcG9ydCA9IGFjdGl2ZVJlbW90ZUNhbmRpZGF0ZVN0YXRzXG4gICAgPyBzdGFuZGFyZGl6ZWRDYW5kaWRhdGVTdGF0c0tleXMucmVkdWNlKGZ1bmN0aW9uKHJlcG9ydCwga2V5SW5mbykge1xuICAgICAgdmFyIGtleSA9IGtleUluZm8uZmZLZXlzICYmIGtleUluZm8uZmZLZXlzLmZpbmQoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBrZXkgaW4gYWN0aXZlUmVtb3RlQ2FuZGlkYXRlU3RhdHM7XG4gICAgICB9KSB8fCBrZXlJbmZvLmtleTtcbiAgICAgIHJlcG9ydFtrZXlJbmZvLmtleV0gPSB0eXBlb2YgYWN0aXZlUmVtb3RlQ2FuZGlkYXRlU3RhdHNba2V5XSA9PT0ga2V5SW5mby50eXBlXG4gICAgICAgID8ga2V5ID09PSAnY2FuZGlkYXRlVHlwZSdcbiAgICAgICAgICA/IGNhbmRpZGF0ZVR5cGVzW2FjdGl2ZVJlbW90ZUNhbmRpZGF0ZVN0YXRzW2tleV1dIHx8IGFjdGl2ZVJlbW90ZUNhbmRpZGF0ZVN0YXRzW2tleV1cbiAgICAgICAgICA6IGFjdGl2ZVJlbW90ZUNhbmRpZGF0ZVN0YXRzW2tleV1cbiAgICAgICAgOiBudWxsO1xuICAgICAgcmV0dXJuIHJlcG9ydDtcbiAgICB9LCB7fSlcbiAgICA6IG51bGw7XG5cbiAgcmV0dXJuIFtcbiAgICB7IGtleTogJ2F2YWlsYWJsZUluY29taW5nQml0cmF0ZScsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICdhdmFpbGFibGVPdXRnb2luZ0JpdHJhdGUnLCB0eXBlOiAnbnVtYmVyJyB9LFxuICAgIHsga2V5OiAnYnl0ZXNSZWNlaXZlZCcsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICdieXRlc1NlbnQnLCB0eXBlOiAnbnVtYmVyJyB9LFxuICAgIHsga2V5OiAnY29uc2VudFJlcXVlc3RzU2VudCcsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICdjdXJyZW50Um91bmRUcmlwVGltZScsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICdsYXN0UGFja2V0UmVjZWl2ZWRUaW1lc3RhbXAnLCB0eXBlOiAnbnVtYmVyJyB9LFxuICAgIHsga2V5OiAnbGFzdFBhY2tldFNlbnRUaW1lc3RhbXAnLCB0eXBlOiAnbnVtYmVyJyB9LFxuICAgIHsga2V5OiAnbm9taW5hdGVkJywgdHlwZTogJ2Jvb2xlYW4nIH0sXG4gICAgeyBrZXk6ICdwcmlvcml0eScsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICdyZWFkYWJsZScsIHR5cGU6ICdib29sZWFuJyB9LFxuICAgIHsga2V5OiAncmVxdWVzdHNSZWNlaXZlZCcsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICdyZXF1ZXN0c1NlbnQnLCB0eXBlOiAnbnVtYmVyJyB9LFxuICAgIHsga2V5OiAncmVzcG9uc2VzUmVjZWl2ZWQnLCB0eXBlOiAnbnVtYmVyJyB9LFxuICAgIHsga2V5OiAncmVzcG9uc2VzU2VudCcsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICdyZXRyYW5zbWlzc2lvbnNSZWNlaXZlZCcsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICdyZXRyYW5zbWlzc2lvbnNTZW50JywgdHlwZTogJ251bWJlcicgfSxcbiAgICB7IGtleTogJ3N0YXRlJywgdHlwZTogJ3N0cmluZycgfSxcbiAgICB7IGtleTogJ3RvdGFsUm91bmRUcmlwVGltZScsIHR5cGU6ICdudW1iZXInIH0sXG4gICAgeyBrZXk6ICd0cmFuc3BvcnRJZCcsIHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgeyBrZXk6ICd3cml0YWJsZScsIHR5cGU6ICdib29sZWFuJyB9XG4gIF0ucmVkdWNlKGZ1bmN0aW9uKHJlcG9ydCwga2V5SW5mbykge1xuICAgIHJlcG9ydFtrZXlJbmZvLmtleV0gPSB0eXBlb2YgYWN0aXZlQ2FuZGlkYXRlUGFpclN0YXRzW2tleUluZm8ua2V5XSA9PT0ga2V5SW5mby50eXBlXG4gICAgICA/IGFjdGl2ZUNhbmRpZGF0ZVBhaXJTdGF0c1trZXlJbmZvLmtleV1cbiAgICAgIDogbnVsbDtcbiAgICByZXR1cm4gcmVwb3J0O1xuICB9LCB7XG4gICAgbG9jYWxDYW5kaWRhdGU6IHN0YW5kYXRkaXplZExvY2FsQ2FuZGlkYXRlU3RhdHNSZXBvcnQsXG4gICAgcmVtb3RlQ2FuZGlkYXRlOiBzdGFuZGFyZGl6ZWRSZW1vdGVDYW5kaWRhdGVTdGF0c1JlcG9ydFxuICB9KTtcbn1cblxuLyoqXG4gKiBHZXQgbG9jYWwvcmVtb3RlIGF1ZGlvL3ZpZGVvIE1lZGlhU3RyZWFtVHJhY2tzLlxuICogQHBhcmFtIHtSVENQZWVyQ29ubmVjdGlvbn0gcGVlckNvbm5lY3Rpb24gLSBUaGUgUlRDUGVlckNvbm5lY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBraW5kIC0gJ2F1ZGlvJyBvciAndmlkZW8nXG4gKiBAcGFyYW0ge3N0cmluZ30gW2xvY2FsT3JSZW1vdGVdIC0gJ2xvY2FsJyBvciAncmVtb3RlJ1xuICogQHJldHVybnMge0FycmF5PE1lZGlhU3RyZWFtVHJhY2s+fVxuICovXG5mdW5jdGlvbiBnZXRUcmFja3MocGVlckNvbm5lY3Rpb24sIGtpbmQsIGxvY2FsT3JSZW1vdGUpIHtcbiAgdmFyIGdldFNlbmRlcnNPclJlY2VpdmVycyA9IGxvY2FsT3JSZW1vdGUgPT09ICdsb2NhbCcgPyAnZ2V0U2VuZGVycycgOiAnZ2V0UmVjZWl2ZXJzJztcbiAgLy8gTk9URShtbWFsYXZhbGxpKTogSW4gRWxlY3Ryb24gMi54IChDaHJvbWUgNjEpLCBpZiB0aGUgcmVtb3RlIHBlZXIgYWRkcyBhIHNlY29uZFxuICAvLyBNZWRpYVN0cmVhbVRyYWNrIGFmdGVyIGNvbXBsZXRpbmcgdGhlIG5lZ290aWF0aW9uIGZvciB0aGUgZmlyc3QgTWVkaWFTdHJlYW1UcmFjayxcbiAgLy8gdGhlbiB0aGUgYXJyYXkgcmV0dXJuZWQgYnkgUlRDUGVlckNvbm5lY3Rpb24uZ2V0UmVjZWl2ZXJzKCkgd2lsbCBjb250YWluIG9ubHlcbiAgLy8gdGhlIFJUQ1J0cFJlY2VpdmVyIGZvciB0aGUgZmlyc3QgTWVkaWFTdHJlYW1UcmFjay4gSW4gb3JkZXIgdG8gd29yayBhcm91bmQgdGhpcyxcbiAgLy8gd2UgY29uc3RydWN0IHRoZSBhcnJheSBvZiByZW1vdGUgTWVkaWFTdHJlYW1UcmFja3MgdXNpbmdcbiAgLy8gUlRDUGVlckNvbm5lY3Rpb24uZ2V0UmVtb3RlU3RyZWFtcygpIGluc3RlYWQuXG4gIGlmIChwZWVyQ29ubmVjdGlvbltnZXRTZW5kZXJzT3JSZWNlaXZlcnNdICYmICEoY2hyb21lTWFqb3JWZXJzaW9uICYmIGNocm9tZU1ham9yVmVyc2lvbiA8IDY2KSkge1xuICAgIHJldHVybiBwZWVyQ29ubmVjdGlvbltnZXRTZW5kZXJzT3JSZWNlaXZlcnNdKCkubWFwKGZ1bmN0aW9uKHNlbmRlck9yUmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiBzZW5kZXJPclJlY2VpdmVyLnRyYWNrO1xuICAgIH0pLmZpbHRlcihmdW5jdGlvbih0cmFjaykge1xuICAgICAgcmV0dXJuIHRyYWNrICYmIHRyYWNrLmtpbmQgPT09IGtpbmQ7XG4gICAgfSk7XG4gIH1cbiAgdmFyIGdldFN0cmVhbXMgPSBsb2NhbE9yUmVtb3RlID09PSAnbG9jYWwnID8gJ2dldExvY2FsU3RyZWFtcycgOiAnZ2V0UmVtb3RlU3RyZWFtcyc7XG4gIHJldHVybiBmbGF0TWFwKHBlZXJDb25uZWN0aW9uW2dldFN0cmVhbXNdKCksIGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgIHZhciBnZXRUcmFja3MgPSBraW5kID09PSAnYXVkaW8nID8gJ2dldEF1ZGlvVHJhY2tzJyA6ICdnZXRWaWRlb1RyYWNrcyc7XG4gICAgcmV0dXJuIHN0cmVhbVtnZXRUcmFja3NdKCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldCB0aGUgc3RhbmRhcmRpemVkIHN0YXRpc3RpY3MgZm9yIGEgcGFydGljdWxhciBNZWRpYVN0cmVhbVRyYWNrLlxuICogQHBhcmFtIHtSVENQZWVyQ29ubmVjdGlvbn0gcGVlckNvbm5lY3Rpb25cbiAqIEBwYXJhbSB7TWVkaWFTdHJlYW1UcmFja30gdHJhY2tcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBVc2VkIGZvciB0ZXN0aW5nXG4gKiBAcmV0dXJucyB7UHJvbWlzZS48U3RhbmRhcmRpemVkVHJhY2tTdGF0c1JlcG9ydD59XG4gKi9cbmZ1bmN0aW9uIGdldFRyYWNrU3RhdHMocGVlckNvbm5lY3Rpb24sIHRyYWNrLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy50ZXN0Rm9yQ2hyb21lICE9PSAndW5kZWZpbmVkJyB8fCBpc0Nocm9tZSkge1xuICAgIHJldHVybiBjaHJvbWVPclNhZmFyaUdldFRyYWNrU3RhdHMocGVlckNvbm5lY3Rpb24sIHRyYWNrKTtcbiAgfVxuICBpZiAodHlwZW9mIG9wdGlvbnMudGVzdEZvckZpcmVmb3ggICE9PSAndW5kZWZpbmVkJyB8fCBpc0ZpcmVmb3gpIHtcbiAgICByZXR1cm4gZmlyZWZveEdldFRyYWNrU3RhdHMocGVlckNvbm5lY3Rpb24sIHRyYWNrLCBvcHRpb25zLmlzUmVtb3RlKTtcbiAgfVxuICBpZiAodHlwZW9mIG9wdGlvbnMudGVzdEZvclNhZmFyaSAgIT09ICd1bmRlZmluZWQnIHx8IGlzU2FmYXJpKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnRlc3RGb3JTYWZhcmkgICE9PSAndW5kZWZpbmVkJ1xuICAgICAgfHwgJ2N1cnJlbnREaXJlY3Rpb24nIGluIFJUQ1J0cFRyYW5zY2VpdmVyLnByb3RvdHlwZSkge1xuICAgICAgcmV0dXJuIGNocm9tZU9yU2FmYXJpR2V0VHJhY2tTdGF0cyhwZWVyQ29ubmVjdGlvbiwgdHJhY2spO1xuICAgIH1cbiAgICAvLyBOT1RFKHN5ZXJyYXByYWdhZGEpOiBnZXRTdGF0cygpIGlzIG5vdCBzdXBwb3J0ZWQgb25cbiAgICAvLyBTYWZhcmkgdmVyc2lvbnMgd2hlcmUgcGxhbi1iIGlzIHRoZSBTRFAgZm9ybWF0XG4gICAgLy8gZHVlIHRvIHRoaXMgYnVnOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTkyNjAxXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihbXG4gICAgICAnZ2V0U3RhdHMoKSBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgdmVyc2lvbiBvZiBTYWZhcmknLFxuICAgICAgJ2R1ZSB0byB0aGlzIGJ1ZzogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE5MjYwMSdcbiAgICBdLmpvaW4oJyAnKSkpO1xuICB9XG4gIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1JUQ1BlZXJDb25uZWN0aW9uI2dldFN0YXRzKCkgbm90IHN1cHBvcnRlZCcpKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHN0YW5kYXJkaXplZCBzdGF0aXN0aWNzIGZvciBhIHBhcnRpY3VsYXIgTWVkaWFTdHJlYW1UcmFjayBpbiBDaHJvbWUgb3IgU2FmYXJpLlxuICogQHBhcmFtIHtSVENQZWVyQ29ubmVjdGlvbn0gcGVlckNvbm5lY3Rpb25cbiAqIEBwYXJhbSB7TWVkaWFTdHJlYW1UcmFja30gdHJhY2tcbiAqIEByZXR1cm5zIHtQcm9taXNlLjxTdGFuZGFyZGl6ZWRUcmFja1N0YXRzUmVwb3J0Pn1cbiAqL1xuZnVuY3Rpb24gY2hyb21lT3JTYWZhcmlHZXRUcmFja1N0YXRzKHBlZXJDb25uZWN0aW9uLCB0cmFjaykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKGNocm9tZU1ham9yVmVyc2lvbiAmJiBjaHJvbWVNYWpvclZlcnNpb24gPCA2Nykge1xuICAgICAgcGVlckNvbm5lY3Rpb24uZ2V0U3RhdHMoZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgcmVzb2x2ZShzdGFuZGFyZGl6ZUNocm9tZUxlZ2FjeVN0YXRzKHJlc3BvbnNlLCB0cmFjaykpO1xuICAgICAgfSwgbnVsbCwgcmVqZWN0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcGVlckNvbm5lY3Rpb24uZ2V0U3RhdHModHJhY2spLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgIHJlc29sdmUoc3RhbmRhcmRpemVDaHJvbWVPclNhZmFyaVN0YXRzKHJlc3BvbnNlKSk7XG4gICAgfSwgcmVqZWN0KTtcbiAgfSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBzdGFuZGFyZGl6ZWQgc3RhdGlzdGljcyBmb3IgYSBwYXJ0aWN1bGFyIE1lZGlhU3RyZWFtVHJhY2sgaW4gRmlyZWZveC5cbiAqIEBwYXJhbSB7UlRDUGVlckNvbm5lY3Rpb259IHBlZXJDb25uZWN0aW9uXG4gKiBAcGFyYW0ge01lZGlhU3RyZWFtVHJhY2t9IHRyYWNrXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzUmVtb3RlXG4gKiBAcmV0dXJucyB7UHJvbWlzZS48U3RhbmRhcmRpemVkVHJhY2tTdGF0c1JlcG9ydD59XG4gKi9cbmZ1bmN0aW9uIGZpcmVmb3hHZXRUcmFja1N0YXRzKHBlZXJDb25uZWN0aW9uLCB0cmFjaywgaXNSZW1vdGUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHBlZXJDb25uZWN0aW9uLmdldFN0YXRzKHRyYWNrKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICByZXNvbHZlKHN0YW5kYXJkaXplRmlyZWZveFN0YXRzKHJlc3BvbnNlLCBpc1JlbW90ZSkpO1xuICAgIH0sIHJlamVjdCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFN0YW5kYXJkaXplIHRoZSBNZWRpYVN0cmVhbVRyYWNrJ3MgbGVnYWN5IHN0YXRpc3RpY3MgaW4gQ2hyb21lLlxuICogQHBhcmFtIHtSVENTdGF0c1Jlc3BvbnNlfSByZXNwb25zZVxuICogQHBhcmFtIHtNZWRpYVN0cmVhbVRyYWNrfSB0cmFja1xuICogQHJldHVybnMge1N0YW5kYXJkaXplZFRyYWNrU3RhdHNSZXBvcnR9XG4gKi9cbmZ1bmN0aW9uIHN0YW5kYXJkaXplQ2hyb21lTGVnYWN5U3RhdHMocmVzcG9uc2UsIHRyYWNrKSB7XG4gIHZhciBzc3JjUmVwb3J0ID0gcmVzcG9uc2UucmVzdWx0KCkuZmluZChmdW5jdGlvbihyZXBvcnQpIHtcbiAgICByZXR1cm4gcmVwb3J0LnR5cGUgPT09ICdzc3JjJyAmJiByZXBvcnQuc3RhdCgnZ29vZ1RyYWNrSWQnKSA9PT0gdHJhY2suaWQ7XG4gIH0pO1xuXG4gIHZhciBzdGFuZGFyZGl6ZWRTdGF0cyA9IHt9O1xuXG4gIGlmIChzc3JjUmVwb3J0KSB7XG4gICAgc3RhbmRhcmRpemVkU3RhdHMudGltZXN0YW1wID0gTWF0aC5yb3VuZChOdW1iZXIoc3NyY1JlcG9ydC50aW1lc3RhbXApKTtcbiAgICBzdGFuZGFyZGl6ZWRTdGF0cyA9IHNzcmNSZXBvcnQubmFtZXMoKS5yZWR1Y2UoZnVuY3Rpb24oc3RhdHMsIG5hbWUpIHtcbiAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICBjYXNlICdnb29nQ29kZWNOYW1lJzpcbiAgICAgICAgICBzdGF0cy5jb2RlY05hbWUgPSBzc3JjUmVwb3J0LnN0YXQobmFtZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2dvb2dSdHQnOlxuICAgICAgICAgIHN0YXRzLnJvdW5kVHJpcFRpbWUgPSBOdW1iZXIoc3NyY1JlcG9ydC5zdGF0KG5hbWUpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZ29vZ0ppdHRlclJlY2VpdmVkJzpcbiAgICAgICAgICBzdGF0cy5qaXR0ZXIgPSBOdW1iZXIoc3NyY1JlcG9ydC5zdGF0KG5hbWUpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZ29vZ0ZyYW1lV2lkdGhJbnB1dCc6XG4gICAgICAgICAgc3RhdHMuZnJhbWVXaWR0aElucHV0ID0gTnVtYmVyKHNzcmNSZXBvcnQuc3RhdChuYW1lKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2dvb2dGcmFtZUhlaWdodElucHV0JzpcbiAgICAgICAgICBzdGF0cy5mcmFtZUhlaWdodElucHV0ID0gTnVtYmVyKHNzcmNSZXBvcnQuc3RhdChuYW1lKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2dvb2dGcmFtZVdpZHRoU2VudCc6XG4gICAgICAgICAgc3RhdHMuZnJhbWVXaWR0aFNlbnQgPSBOdW1iZXIoc3NyY1JlcG9ydC5zdGF0KG5hbWUpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZ29vZ0ZyYW1lSGVpZ2h0U2VudCc6XG4gICAgICAgICAgc3RhdHMuZnJhbWVIZWlnaHRTZW50ID0gTnVtYmVyKHNzcmNSZXBvcnQuc3RhdChuYW1lKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2dvb2dGcmFtZVdpZHRoUmVjZWl2ZWQnOlxuICAgICAgICAgIHN0YXRzLmZyYW1lV2lkdGhSZWNlaXZlZCA9IE51bWJlcihzc3JjUmVwb3J0LnN0YXQobmFtZSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdnb29nRnJhbWVIZWlnaHRSZWNlaXZlZCc6XG4gICAgICAgICAgc3RhdHMuZnJhbWVIZWlnaHRSZWNlaXZlZCA9IE51bWJlcihzc3JjUmVwb3J0LnN0YXQobmFtZSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdnb29nRnJhbWVSYXRlSW5wdXQnOlxuICAgICAgICAgIHN0YXRzLmZyYW1lUmF0ZUlucHV0ID0gTnVtYmVyKHNzcmNSZXBvcnQuc3RhdChuYW1lKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2dvb2dGcmFtZVJhdGVTZW50JzpcbiAgICAgICAgICBzdGF0cy5mcmFtZVJhdGVTZW50ID0gTnVtYmVyKHNzcmNSZXBvcnQuc3RhdChuYW1lKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2dvb2dGcmFtZVJhdGVSZWNlaXZlZCc6XG4gICAgICAgICAgc3RhdHMuZnJhbWVSYXRlUmVjZWl2ZWQgPSBOdW1iZXIoc3NyY1JlcG9ydC5zdGF0KG5hbWUpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc3NyYyc6XG4gICAgICAgICAgc3RhdHNbbmFtZV0gPSBzc3JjUmVwb3J0LnN0YXQobmFtZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2J5dGVzUmVjZWl2ZWQnOlxuICAgICAgICBjYXNlICdieXRlc1NlbnQnOlxuICAgICAgICBjYXNlICdwYWNrZXRzTG9zdCc6XG4gICAgICAgIGNhc2UgJ3BhY2tldHNSZWNlaXZlZCc6XG4gICAgICAgIGNhc2UgJ3BhY2tldHNTZW50JzpcbiAgICAgICAgY2FzZSAnYXVkaW9JbnB1dExldmVsJzpcbiAgICAgICAgY2FzZSAnYXVkaW9PdXRwdXRMZXZlbCc6XG4gICAgICAgICAgc3RhdHNbbmFtZV0gPSBOdW1iZXIoc3NyY1JlcG9ydC5zdGF0KG5hbWUpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0YXRzO1xuICAgIH0sIHN0YW5kYXJkaXplZFN0YXRzKTtcbiAgfVxuXG4gIHJldHVybiBzdGFuZGFyZGl6ZWRTdGF0cztcbn1cblxuLyoqXG4gKiBTdGFuZGFyZGl6ZSB0aGUgTWVkaWFTdHJlYW1UcmFjaydzIHN0YXRpc3RpY3MgaW4gQ2hyb21lIG9yIFNhZmFyaS5cbiAqIEBwYXJhbSB7UlRDU3RhdHNSZXBvcnR9IHJlc3BvbnNlXG4gKiBAcmV0dXJucyB7U3RhbmRhcmRpemVkVHJhY2tTdGF0c1JlcG9ydH1cbiAqL1xuZnVuY3Rpb24gc3RhbmRhcmRpemVDaHJvbWVPclNhZmFyaVN0YXRzKHJlc3BvbnNlKSB7XG4gIHZhciBpbmJvdW5kID0gbnVsbDtcbiAgdmFyIG91dGJvdW5kID0gbnVsbDtcbiAgdmFyIHRyYWNrID0gbnVsbDtcbiAgdmFyIGNvZGVjID0gbnVsbDtcblxuICByZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uKHN0YXQpIHtcbiAgICBzd2l0Y2ggKHN0YXQudHlwZSkge1xuICAgICAgY2FzZSAnaW5ib3VuZC1ydHAnOlxuICAgICAgICBpbmJvdW5kID0gc3RhdDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdvdXRib3VuZC1ydHAnOlxuICAgICAgICBvdXRib3VuZCA9IHN0YXQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndHJhY2snOlxuICAgICAgICB0cmFjayA9IHN0YXQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY29kZWMnOlxuICAgICAgICBjb2RlYyA9IHN0YXQ7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGlzUmVtb3RlID0gdHJhY2sgJiYgdHJhY2sucmVtb3RlU291cmNlO1xuICB2YXIgc3RhbmRhcmRpemVkU3RhdHMgPSB7fTtcblxuICB2YXIgZmlyc3QgPSBpc1JlbW90ZSA/IGluYm91bmQgOiBvdXRib3VuZDtcbiAgdmFyIHNlY29uZCA9IHRyYWNrO1xuICB2YXIgdGhpcmQgPSBjb2RlYztcblxuICBmdW5jdGlvbiBnZXRTdGF0VmFsdWUobmFtZSkge1xuICAgIGlmIChmaXJzdCAmJiB0eXBlb2YgZmlyc3RbbmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gZmlyc3RbbmFtZV07XG4gICAgfVxuXG4gICAgaWYgKHNlY29uZCAmJiB0eXBlb2Ygc2Vjb25kW25hbWVdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHNlY29uZFtuYW1lXTtcbiAgICB9XG5cbiAgICBpZiAodGhpcmQgJiYgdHlwZW9mIHRoaXJkW25hbWVdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIHRoaXJkW25hbWVdO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHNzcmMgPSBnZXRTdGF0VmFsdWUoJ3NzcmMnKTtcbiAgaWYgKHR5cGVvZiBzc3JjID09PSAnbnVtYmVyJykge1xuICAgIHN0YW5kYXJkaXplZFN0YXRzLnNzcmMgPSBTdHJpbmcoc3NyYyk7XG4gIH1cblxuICB2YXIgdGltZXN0YW1wID0gZ2V0U3RhdFZhbHVlKCd0aW1lc3RhbXAnKTtcbiAgc3RhbmRhcmRpemVkU3RhdHMudGltZXN0YW1wID0gTWF0aC5yb3VuZCh0aW1lc3RhbXApO1xuXG4gIHZhciBtaW1lVHlwZSA9IGdldFN0YXRWYWx1ZSgnbWltZVR5cGUnKTtcbiAgaWYgKHR5cGVvZiBtaW1lVHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICBtaW1lVHlwZSA9IG1pbWVUeXBlLnNwbGl0KCcvJyk7XG4gICAgc3RhbmRhcmRpemVkU3RhdHMuY29kZWNOYW1lID0gbWltZVR5cGVbbWltZVR5cGUubGVuZ3RoIC0gMV07XG4gIH1cblxuICB2YXIgcm91bmRUcmlwVGltZSA9IGdldFN0YXRWYWx1ZSgncm91bmRUcmlwVGltZScpO1xuICBpZiAodHlwZW9mIHJvdW5kVHJpcFRpbWUgPT09ICdudW1iZXInKSB7XG4gICAgc3RhbmRhcmRpemVkU3RhdHMucm91bmRUcmlwVGltZSA9IHJvdW5kVHJpcFRpbWU7XG4gIH1cblxuICB2YXIgaml0dGVyID0gZ2V0U3RhdFZhbHVlKCdqaXR0ZXInKTtcbiAgaWYgKHR5cGVvZiBqaXR0ZXIgPT09ICdudW1iZXInKSB7XG4gICAgc3RhbmRhcmRpemVkU3RhdHMuaml0dGVyID0gTWF0aC5yb3VuZChqaXR0ZXIgKiAxMDAwKTtcbiAgfVxuXG4gIHZhciBmcmFtZVdpZHRoID0gZ2V0U3RhdFZhbHVlKCdmcmFtZVdpZHRoJyk7XG4gIGlmICh0eXBlb2YgZnJhbWVXaWR0aCA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAoaXNSZW1vdGUpIHtcbiAgICAgIHN0YW5kYXJkaXplZFN0YXRzLmZyYW1lV2lkdGhSZWNlaXZlZCA9IGZyYW1lV2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YW5kYXJkaXplZFN0YXRzLmZyYW1lV2lkdGhTZW50ID0gZnJhbWVXaWR0aDtcbiAgICB9XG4gIH1cblxuICB2YXIgZnJhbWVIZWlnaHQgPSBnZXRTdGF0VmFsdWUoJ2ZyYW1lSGVpZ2h0Jyk7XG4gIGlmICh0eXBlb2YgZnJhbWVIZWlnaHQgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKGlzUmVtb3RlKSB7XG4gICAgICBzdGFuZGFyZGl6ZWRTdGF0cy5mcmFtZUhlaWdodFJlY2VpdmVkID0gZnJhbWVIZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YW5kYXJkaXplZFN0YXRzLmZyYW1lSGVpZ2h0U2VudCA9IGZyYW1lSGVpZ2h0O1xuICAgIH1cbiAgfVxuXG4gIHZhciBmcmFtZXNQZXJTZWNvbmQgPSBnZXRTdGF0VmFsdWUoJ2ZyYW1lc1BlclNlY29uZCcpO1xuICBpZiAodHlwZW9mIGZyYW1lc1BlclNlY29uZCA9PT0gJ251bWJlcicpIHtcbiAgICBzdGFuZGFyZGl6ZWRTdGF0cy5mcmFtZVJhdGVTZW50ID0gZnJhbWVzUGVyU2Vjb25kO1xuICB9XG5cbiAgdmFyIGJ5dGVzUmVjZWl2ZWQgPSBnZXRTdGF0VmFsdWUoJ2J5dGVzUmVjZWl2ZWQnKTtcbiAgaWYgKHR5cGVvZiBieXRlc1JlY2VpdmVkID09PSAnbnVtYmVyJykge1xuICAgIHN0YW5kYXJkaXplZFN0YXRzLmJ5dGVzUmVjZWl2ZWQgPSBieXRlc1JlY2VpdmVkO1xuICB9XG5cbiAgdmFyIGJ5dGVzU2VudCA9IGdldFN0YXRWYWx1ZSgnYnl0ZXNTZW50Jyk7XG4gIGlmICh0eXBlb2YgYnl0ZXNTZW50ID09PSAnbnVtYmVyJykge1xuICAgIHN0YW5kYXJkaXplZFN0YXRzLmJ5dGVzU2VudCA9IGJ5dGVzU2VudDtcbiAgfVxuXG4gIHZhciBwYWNrZXRzTG9zdCA9IGdldFN0YXRWYWx1ZSgncGFja2V0c0xvc3QnKTtcbiAgaWYgKHR5cGVvZiBwYWNrZXRzTG9zdCA9PT0gJ251bWJlcicpIHtcbiAgICBzdGFuZGFyZGl6ZWRTdGF0cy5wYWNrZXRzTG9zdCA9IHBhY2tldHNMb3N0O1xuICB9XG5cbiAgdmFyIHBhY2tldHNSZWNlaXZlZCA9IGdldFN0YXRWYWx1ZSgncGFja2V0c1JlY2VpdmVkJyk7XG4gIGlmICh0eXBlb2YgcGFja2V0c1JlY2VpdmVkID09PSAnbnVtYmVyJykge1xuICAgIHN0YW5kYXJkaXplZFN0YXRzLnBhY2tldHNSZWNlaXZlZCA9IHBhY2tldHNSZWNlaXZlZDtcbiAgfVxuXG4gIHZhciBwYWNrZXRzU2VudCA9IGdldFN0YXRWYWx1ZSgncGFja2V0c1NlbnQnKTtcbiAgaWYgKHR5cGVvZiBwYWNrZXRzU2VudCA9PT0gJ251bWJlcicpIHtcbiAgICBzdGFuZGFyZGl6ZWRTdGF0cy5wYWNrZXRzU2VudCA9IHBhY2tldHNTZW50O1xuICB9XG5cbiAgdmFyIGF1ZGlvTGV2ZWwgPSBnZXRTdGF0VmFsdWUoJ2F1ZGlvTGV2ZWwnKTtcbiAgaWYgKHR5cGVvZiBhdWRpb0xldmVsID09PSAnbnVtYmVyJykge1xuICAgIGlmIChpc1JlbW90ZSkge1xuICAgICAgc3RhbmRhcmRpemVkU3RhdHMuYXVkaW9PdXRwdXRMZXZlbCA9IGF1ZGlvTGV2ZWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YW5kYXJkaXplZFN0YXRzLmF1ZGlvSW5wdXRMZXZlbCA9IGF1ZGlvTGV2ZWw7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0YW5kYXJkaXplZFN0YXRzO1xufVxuXG4vKipcbiAqIFN0YW5kYXJkaXplIHRoZSBNZWRpYVN0cmVhbVRyYWNrJ3Mgc3RhdGlzdGljcyBpbiBGaXJlZm94LlxuICogQHBhcmFtIHtSVENTdGF0c1JlcG9ydH0gcmVzcG9uc2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNSZW1vdGVcbiAqIEByZXR1cm5zIHtTdGFuZGFyZGl6ZWRUcmFja1N0YXRzUmVwb3J0fVxuICovXG5mdW5jdGlvbiBzdGFuZGFyZGl6ZUZpcmVmb3hTdGF0cyhyZXNwb25zZSwgaXNSZW1vdGUpIHtcbiAgLy8gTk9URShtcm9iZXJ0cyk6IElmIGdldFN0YXRzIGlzIGNhbGxlZCBvbiBhIGNsb3NlZCBSVENQZWVyQ29ubmVjdGlvbixcbiAgLy8gRmlyZWZveCByZXR1cm5zIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIGFuIFJUQ1N0YXRzUmVwb3J0LiBXZSB3b3JrYXJvdW5kIHRoaXNcbiAgLy8gaGVyZS4gU2VlIHRoZSBmb2xsb3dpbmcgYnVnIGZvciBtb3JlIGRldGFpbHM6XG4gIC8vXG4gIC8vICAgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM3NzIyNVxuICAvL1xuICByZXNwb25zZSA9IHJlc3BvbnNlIHx8IG5ldyBNYXAoKTtcblxuICB2YXIgaW5ib3VuZCA9IG51bGw7XG4gIHZhciBvdXRib3VuZCA9IG51bGw7XG5cbiAgLy8gTk9URShtbWFsYXZhbGxpKTogU3RhcnRpbmcgZnJvbSBGaXJlZm94IDYzLCBSVEN7SW5ib3VuZCwgT3V0Ym91bmR9UlRQU3RyZWFtU3RhdHMuaXNSZW1vdGVcbiAgLy8gd2lsbCBiZSBkZXByZWNhdGVkLCBmb2xsb3dlZCBieSBpdHMgcmVtb3ZhbCBpbiBGaXJlZm94IDY2LiBBbHNvLCB0cnlpbmcgdG9cbiAgLy8gYWNjZXNzIG1lbWJlcnMgb2YgdGhlIHJlbW90ZSBSVEN7SW5ib3VuZCwgT3V0Ym91bmR9UlRQU3RyZWFtU3RhdHMgd2l0aG91dFxuICAvLyB1c2luZyBSVENTdGF0c1JlcG9ydC5nZXQocmVtb3RlSWQpIHdpbGwgdHJpZ2dlciBjb25zb2xlIHdhcm5pbmdzLiBTbywgd2VcbiAgLy8gbm8gbG9uZ2VyIGRlcGVuZCBvbiBcImlzUmVtb3RlXCIsIGFuZCB3ZSBjYWxsIFJUQ1N0YXRzUmVwb3J0LmdldChyZW1vdGVJZClcbiAgLy8gdG8gYWNjZXNzIHRoZSByZW1vdGUgUlRDe0luYm91bmQsIE91dGJvdW5kfVJUUFN0cmVhbVN0YXRzLlxuICAvL1xuICAvLyBTb3VyY2U6IGh0dHBzOi8vYmxvZy5tb3ppbGxhLm9yZy93ZWJydGMvZ2V0c3RhdHMtaXNyZW1vdGUtNjUvXG4gIC8vXG4gIHJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24oc3RhdCkge1xuICAgIGlmIChzdGF0LmlzUmVtb3RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAoc3RhdC50eXBlKSB7XG4gICAgICBjYXNlICdpbmJvdW5kLXJ0cCc6XG4gICAgICAgIGluYm91bmQgPSBzdGF0O1xuICAgICAgICBvdXRib3VuZCA9IHJlc3BvbnNlLmdldChzdGF0LnJlbW90ZUlkKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdvdXRib3VuZC1ydHAnOlxuICAgICAgICBvdXRib3VuZCA9IHN0YXQ7XG4gICAgICAgIGluYm91bmQgPSByZXNwb25zZS5nZXQoc3RhdC5yZW1vdGVJZCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGZpcnN0ID0gaXNSZW1vdGUgPyBpbmJvdW5kIDogb3V0Ym91bmQ7XG4gIHZhciBzZWNvbmQgPSBpc1JlbW90ZSA/IG91dGJvdW5kIDogaW5ib3VuZDtcblxuICBmdW5jdGlvbiBnZXRTdGF0VmFsdWUobmFtZSkge1xuICAgIGlmIChmaXJzdCAmJiB0eXBlb2YgZmlyc3RbbmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gZmlyc3RbbmFtZV07XG4gICAgfVxuICAgIGlmIChzZWNvbmQgJiYgdHlwZW9mIHNlY29uZFtuYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBzZWNvbmRbbmFtZV07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHN0YW5kYXJkaXplZFN0YXRzID0ge307XG4gIHZhciB0aW1lc3RhbXAgPSBnZXRTdGF0VmFsdWUoJ3RpbWVzdGFtcCcpO1xuICBzdGFuZGFyZGl6ZWRTdGF0cy50aW1lc3RhbXAgPSBNYXRoLnJvdW5kKHRpbWVzdGFtcCk7XG5cbiAgdmFyIHNzcmMgPSBnZXRTdGF0VmFsdWUoJ3NzcmMnKTtcbiAgaWYgKHR5cGVvZiBzc3JjID09PSAnbnVtYmVyJykge1xuICAgIHN0YW5kYXJkaXplZFN0YXRzLnNzcmMgPSBTdHJpbmcoc3NyYyk7XG4gIH1cblxuICB2YXIgYnl0ZXNTZW50ID0gZ2V0U3RhdFZhbHVlKCdieXRlc1NlbnQnKTtcbiAgaWYgKHR5cGVvZiBieXRlc1NlbnQgPT09ICdudW1iZXInKSB7XG4gICAgc3RhbmRhcmRpemVkU3RhdHMuYnl0ZXNTZW50ID0gYnl0ZXNTZW50O1xuICB9XG5cbiAgdmFyIHBhY2tldHNMb3N0ID0gZ2V0U3RhdFZhbHVlKCdwYWNrZXRzTG9zdCcpO1xuICBpZiAodHlwZW9mIHBhY2tldHNMb3N0ID09PSAnbnVtYmVyJykge1xuICAgIHN0YW5kYXJkaXplZFN0YXRzLnBhY2tldHNMb3N0ID0gcGFja2V0c0xvc3Q7XG4gIH1cblxuICB2YXIgcGFja2V0c1NlbnQgPSBnZXRTdGF0VmFsdWUoJ3BhY2tldHNTZW50Jyk7XG4gIGlmICh0eXBlb2YgcGFja2V0c1NlbnQgPT09ICdudW1iZXInKSB7XG4gICAgc3RhbmRhcmRpemVkU3RhdHMucGFja2V0c1NlbnQgPSBwYWNrZXRzU2VudDtcbiAgfVxuXG4gIHZhciByb3VuZFRyaXBUaW1lID0gZ2V0U3RhdFZhbHVlKCdyb3VuZFRyaXBUaW1lJyk7XG4gIGlmICh0eXBlb2Ygcm91bmRUcmlwVGltZSA9PT0gJ251bWJlcicpIHtcbiAgICBzdGFuZGFyZGl6ZWRTdGF0cy5yb3VuZFRyaXBUaW1lID0gcm91bmRUcmlwVGltZTtcbiAgfVxuXG4gIHZhciBqaXR0ZXIgPSBnZXRTdGF0VmFsdWUoJ2ppdHRlcicpO1xuICBpZiAodHlwZW9mIGppdHRlciA9PT0gJ251bWJlcicpIHtcbiAgICBzdGFuZGFyZGl6ZWRTdGF0cy5qaXR0ZXIgPSBNYXRoLnJvdW5kKGppdHRlciAqIDEwMDApO1xuICB9XG5cbiAgdmFyIGZyYW1lUmF0ZVNlbnQgPSBnZXRTdGF0VmFsdWUoJ2ZyYW1lcmF0ZU1lYW4nKTtcbiAgaWYgKHR5cGVvZiBmcmFtZVJhdGVTZW50ID09PSAnbnVtYmVyJykge1xuICAgIHN0YW5kYXJkaXplZFN0YXRzLmZyYW1lUmF0ZVNlbnQgPSBNYXRoLnJvdW5kKGZyYW1lUmF0ZVNlbnQpO1xuICB9XG5cbiAgdmFyIGJ5dGVzUmVjZWl2ZWQgPSBnZXRTdGF0VmFsdWUoJ2J5dGVzUmVjZWl2ZWQnKTtcbiAgaWYgKHR5cGVvZiBieXRlc1JlY2VpdmVkID09PSAnbnVtYmVyJykge1xuICAgIHN0YW5kYXJkaXplZFN0YXRzLmJ5dGVzUmVjZWl2ZWQgPSBieXRlc1JlY2VpdmVkO1xuICB9XG5cbiAgdmFyIHBhY2tldHNSZWNlaXZlZCA9IGdldFN0YXRWYWx1ZSgncGFja2V0c1JlY2VpdmVkJyk7XG4gIGlmICh0eXBlb2YgcGFja2V0c1JlY2VpdmVkID09PSAnbnVtYmVyJykge1xuICAgIHN0YW5kYXJkaXplZFN0YXRzLnBhY2tldHNSZWNlaXZlZCA9IHBhY2tldHNSZWNlaXZlZDtcbiAgfVxuXG4gIHZhciBmcmFtZVJhdGVSZWNlaXZlZCA9IGdldFN0YXRWYWx1ZSgnZnJhbWVyYXRlTWVhbicpO1xuICBpZiAodHlwZW9mIGZyYW1lUmF0ZVJlY2VpdmVkID09PSAnbnVtYmVyJykge1xuICAgIHN0YW5kYXJkaXplZFN0YXRzLmZyYW1lUmF0ZVJlY2VpdmVkID0gTWF0aC5yb3VuZChmcmFtZVJhdGVSZWNlaXZlZCk7XG4gIH1cblxuICByZXR1cm4gc3RhbmRhcmRpemVkU3RhdHM7XG59XG5cbi8qKlxuICogU3RhbmRhcmRpemVkIFJUQ0ljZUNhbmRpZGF0ZSBzdGF0aXN0aWNzLlxuICogQHR5cGVkZWYge29iamVjdH0gU3RhbmRhcmRpemVkSWNlQ2FuZGlkYXRlU3RhdHNSZXBvcnRcbiAqIEBwcm9wZXJ0eSB7J2hvc3QnfCdwcmZseCd8J3JlbGF5J3wnc3JmbHgnfSBjYW5kaWRhdGVUeXBlXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaXBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwb3J0XG4gKiBAcHJvcGVydHkge251bWJlcn0gcHJpb3JpdHlcbiAqIEBwcm9wZXJ0eSB7J3RjcCd8J3VkcCd9IHByb3RvY29sXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdXJsXG4gKi9cblxuLyoqXG4gKiBTdGFuZGFyZGl6ZWQgbG9jYWwgUlRDSWNlQ2FuZGlkYXRlIHN0YXRpc3RpY3MuXG4gKiBAdHlwZWRlZiB7U3RhbmRhcmRpemVkSWNlQ2FuZGlkYXRlU3RhdHNSZXBvcnR9IFN0YW5kYXJkaXplZExvY2FsSWNlQ2FuZGlkYXRlU3RhdHNSZXBvcnRcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2RlbGV0ZWQ9ZmFsc2VdXG4gKiBAcHJvcGVydHkgeyd0Y3AnfCd0bHMnfCd1ZHAnfSByZWxheVByb3RvY29sXG4gKi9cblxuLyoqXG4gKiBTdGFuZGFyZGl6ZWQgYWN0aXZlIFJUQ0ljZUNhbmRpZGF0ZSBwYWlyIHN0YXRpc3RpY3MuXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBTdGFuZGFyZGl6ZWRBY3RpdmVJY2VDYW5kaWRhdGVQYWlyU3RhdHNSZXBvcnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhdmFpbGFibGVJbmNvbWluZ0JpdHJhdGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhdmFpbGFibGVPdXRnb2luZ0JpdHJhdGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBieXRlc1JlY2VpdmVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gYnl0ZXNTZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gY29uc2VudFJlcXVlc3RzU2VudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGN1cnJlbnRSb3VuZFRyaXBUaW1lXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGFzdFBhY2tldFJlY2VpdmVkVGltZXN0YW1wXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGFzdFBhY2tldFNlbnRUaW1lc3RhbXBcbiAqIEBwcm9wZXJ0eSB7U3RhbmRhcmRpemVkTG9jYWxJY2VDYW5kaWRhdGVTdGF0c1JlcG9ydH0gbG9jYWxDYW5kaWRhdGVcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbm9taW5hdGVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gcHJpb3JpdHlcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcmVhZGFibGVcbiAqIEBwcm9wZXJ0eSB7U3RhbmRhcmRpemVkSWNlQ2FuZGlkYXRlU3RhdHNSZXBvcnR9IHJlbW90ZUNhbmRpZGF0ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJlcXVlc3RzUmVjZWl2ZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZXF1ZXN0c1NlbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZXNwb25zZXNSZWNlaXZlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJlc3BvbnNlc1NlbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZXRyYW5zbWlzc2lvbnNSZWNlaXZlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJldHJhbnNtaXNzaW9uc1NlbnRcbiAqIEBwcm9wZXJ0eSB7J2Zyb3plbid8J3dhaXRpbmcnfCdpbi1wcm9ncmVzcyd8J2ZhaWxlZCd8J3N1Y2NlZWRlZCd9IHN0YXRlXG4gKiBAcHJvcGVydHkge251bWJlcn0gdG90YWxSb3VuZFRyaXBUaW1lXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHJhbnNwb3J0SWRcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gd3JpdGFibGVcbiAqL1xuXG4vKipcbiAqIFN0YW5kYXJkaXplZCB7QGxpbmsgUlRDUGVlckNvbm5lY3Rpb259IHN0YXRpc3RpY3MuXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTdGFuZGFyZGl6ZWRTdGF0c1Jlc3BvbnNlXG4gKiBAcHJvcGVydHkge1N0YW5kYXJkaXplZEFjdGl2ZUljZUNhbmRpZGF0ZVBhaXJTdGF0c1JlcG9ydH0gYWN0aXZlSWNlQ2FuZGlkYXRlUGFpciAtIFN0YXRzIGZvciBhY3RpdmUgSUNFIGNhbmRpZGF0ZSBwYWlyXG4gKiBAcHJvcGVydHkgQXJyYXk8U3RhbmRhcmRpemVkVHJhY2tTdGF0c1JlcG9ydD4gbG9jYWxBdWRpb1RyYWNrcyAtIFN0YXRzIGZvciBsb2NhbCBhdWRpbyBNZWRpYVN0cmVhbVRyYWNrc1xuICogQHByb3BlcnR5IEFycmF5PFN0YW5kYXJkaXplZFRyYWNrU3RhdHNSZXBvcnQ+IGxvY2FsVmlkZW9UcmFja3MgLSBTdGF0cyBmb3IgbG9jYWwgdmlkZW8gTWVkaWFTdHJlYW1UcmFja3NcbiAqIEBwcm9wZXJ0eSBBcnJheTxTdGFuZGFyZGl6ZWRUcmFja1N0YXRzUmVwb3J0PiByZW1vdGVBdWRpb1RyYWNrcyAtIFN0YXRzIGZvciByZW1vdGUgYXVkaW8gTWVkaWFTdHJlYW1UcmFja3NcbiAqIEBwcm9wZXJ0eSBBcnJheTxTdGFuZGFyZGl6ZWRUcmFja1N0YXRzUmVwb3J0PiByZW1vdGVWaWRlb1RyYWNrcyAtIFN0YXRzIGZvciByZW1vdGUgdmlkZW8gTWVkaWFTdHJlYW1UcmFja3NcbiAqL1xuXG4vKipcbiAqIFN0YW5kYXJkaXplZCBNZWRpYVN0cmVhbVRyYWNrIHN0YXRpc3RpY3MuXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTdGFuZGFyZGl6ZWRUcmFja1N0YXRzUmVwb3J0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gdHJhY2tJZCAtIE1lZGlhU3RyZWFtVHJhY2sgSURcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzc3JjIC0gU1NSQyBvZiB0aGUgTWVkaWFTdHJlYW1UcmFja1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWVzdGFtcCAtIFRoZSBVbml4IHRpbWVzdGFtcCBpbiBtaWxsaXNlY29uZHNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbY29kZWNOYW1lXSAtIE5hbWUgb2YgdGhlIGNvZGVjIHVzZWQgdG8gZW5jb2RlIHRoZSBNZWRpYVN0cmVhbVRyYWNrJ3MgbWVkaWFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcm91bmRUcmlwVGltZV0gLSBSb3VuZCB0cmlwIHRpbWUgaW4gbWlsbGlzZWNvbmRzXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2ppdHRlcl0gLSBKaXR0ZXIgaW4gbWlsbGlzZWNvbmRzXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2ZyYW1lV2lkdGhJbnB1dF0gLSBXaWR0aCBpbiBwaXhlbHMgb2YgdGhlIGxvY2FsIHZpZGVvIE1lZGlhU3RyZWFtVHJhY2sncyBjYXB0dXJlZCBmcmFtZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtmcmFtZUhlaWdodElucHV0XSAtIEhlaWdodCBpbiBwaXhlbHMgb2YgdGhlIGxvY2FsIHZpZGVvIE1lZGlhU3RyZWFtVHJhY2sncyBjYXB0dXJlZCBmcmFtZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtmcmFtZVdpZHRoU2VudF0gLSBXaWR0aCBpbiBwaXhlbHMgb2YgdGhlIGxvY2FsIHZpZGVvIE1lZGlhU3RyZWFtVHJhY2sncyBlbmNvZGVkIGZyYW1lXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2ZyYW1lSGVpZ2h0U2VudF0gLSBIZWlnaHQgaW4gcGl4ZWxzIG9mIHRoZSBsb2NhbCB2aWRlbyBNZWRpYVN0cmVhbVRyYWNrJ3MgZW5jb2RlZCBmcmFtZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtmcmFtZVdpZHRoUmVjZWl2ZWRdIC0gV2lkdGggaW4gcGl4ZWxzIG9mIHRoZSByZW1vdGUgdmlkZW8gTWVkaWFTdHJlYW1UcmFjaydzIHJlY2VpdmVkIGZyYW1lXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2ZyYW1lSGVpZ2h0UmVjZWl2ZWRdIC0gSGVpZ2h0IGluIHBpeGVscyBvZiB0aGUgcmVtb3RlIHZpZGVvIE1lZGlhU3RyZWFtVHJhY2sncyByZWNlaXZlZCBmcmFtZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtmcmFtZVJhdGVJbnB1dF0gLSBDYXB0dXJlZCBmcmFtZXMgcGVyIHNlY29uZCBvZiB0aGUgbG9jYWwgdmlkZW8gTWVkaWFTdHJlYW1UcmFja1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtmcmFtZVJhdGVTZW50XSAtIEZyYW1lcyBwZXIgc2Vjb25kIG9mIHRoZSBsb2NhbCB2aWRlbyBNZWRpYVN0cmVhbVRyYWNrJ3MgZW5jb2RlZCB2aWRlb1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtmcmFtZVJhdGVSZWNlaXZlZF0gLSBGcmFtZXMgcGVyIHNlY29uZCBvZiB0aGUgcmVtb3RlIHZpZGVvIE1lZGlhU3RyZWFtVHJhY2sncyByZWNlaXZlZCB2aWRlb1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtieXRlc1JlY2VpdmVkXSAtIE51bWJlciBvZiBieXRlcyBvZiB0aGUgcmVtb3RlIE1lZGlhU3RyZWFtVHJhY2sncyBtZWRpYSByZWNlaXZlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtieXRlc1NlbnRdIC0gTnVtYmVyIG9mIGJ5dGVzIG9mIHRoZSBsb2NhbCBNZWRpYVN0cmVhbVRyYWNrJ3MgbWVkaWEgc2VudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtwYWNrZXRzTG9zdF0gLSBOdW1iZXIgb2YgcGFja2V0cyBvZiB0aGUgTWVkaWFTdHJlYW1UcmFjaydzIG1lZGlhIGxvc3RcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGFja2V0c1JlY2VpdmVkXSAtIE51bWJlciBvZiBwYWNrZXRzIG9mIHRoZSByZW1vdGUgTWVkaWFTdHJlYW1UcmFjaydzIG1lZGlhIHJlY2VpdmVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3BhY2tldHNTZW50XSAtIE51bWJlciBvZiBwYWNrZXRzIG9mIHRoZSBsb2NhbCBNZWRpYVN0cmVhbVRyYWNrJ3MgbWVkaWEgc2VudFxuICogQHByb3BlcnR5IHtBdWRpb0xldmVsfSBbYXVkaW9JbnB1dExldmVsXSAtIFRoZSB7QGxpbmsgQXVkaW9MZXZlbH0gb2YgdGhlIGxvY2FsIGF1ZGlvIE1lZGlhU3RyZWFtVHJhY2tcbiAqIEBwcm9wZXJ0eSB7QXVkaW9MZXZlbH0gW2F1ZGlvT3V0cHV0TGV2ZWxdIC0gVGhlIHtAbGluayBBdWRpb0xldmVsfSBvZiB0aGUgcmVtb3RlIHZpZGVvIE1lZGlhU3RyZWFtVHJhY2tcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFN0YXRzO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL2dldHN0YXRzLmpzXG4vLyBtb2R1bGUgaWQgPSAyNjRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///264\n");

/***/ }),
/* 265 */
/*!*********************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/getusermedia.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * This function is very similar to <code>navigator.getUserMedia</code> except\n * that it does not use callbacks and returns a Promise for a MediaStream\n * @function getUserMedia\n * @param {MediaStreamConstraints} [constraints={audio:true,video:true}] - the\n *   MediaStreamConstraints object specifying what kind of LocalMediaStream to\n *   request from the browser (by default both audio and video)\n * @returns Promise<MediaStream>\n */\nfunction getUserMedia(constraints) {\n  return new Promise(function getUserMediaPromise(resolve, reject) {\n    _getUserMedia(constraints || { audio: true, video: true }, resolve, reject);\n  });\n}\n\nfunction _getUserMedia(constraints, onSuccess, onFailure) {\n  if (typeof window !== 'undefined' && typeof navigator !== 'undefined') {\n    if (typeof navigator.mediaDevices === 'object' &&\n        typeof navigator.mediaDevices.getUserMedia === 'function') {\n      navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onFailure);\n      return;\n    } else if (typeof navigator.webkitGetUserMedia === 'function') {\n      navigator.webkitGetUserMedia(constraints, onSuccess, onFailure);\n      return;\n    } else if (typeof navigator.mozGetUserMedia === 'function') {\n      navigator.mozGetUserMedia(constraints, onSuccess, onFailure);\n      return;\n    }\n  }\n  onFailure(new Error('getUserMedia is not supported'));\n}\n\nmodule.exports = getUserMedia;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL2dldHVzZXJtZWRpYS5qcz9iNzFiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx1QkFBdUIsZUFBZSxzQkFBc0I7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDJCQUEyQjtBQUM3RCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjI2NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHZlcnkgc2ltaWxhciB0byA8Y29kZT5uYXZpZ2F0b3IuZ2V0VXNlck1lZGlhPC9jb2RlPiBleGNlcHRcbiAqIHRoYXQgaXQgZG9lcyBub3QgdXNlIGNhbGxiYWNrcyBhbmQgcmV0dXJucyBhIFByb21pc2UgZm9yIGEgTWVkaWFTdHJlYW1cbiAqIEBmdW5jdGlvbiBnZXRVc2VyTWVkaWFcbiAqIEBwYXJhbSB7TWVkaWFTdHJlYW1Db25zdHJhaW50c30gW2NvbnN0cmFpbnRzPXthdWRpbzp0cnVlLHZpZGVvOnRydWV9XSAtIHRoZVxuICogICBNZWRpYVN0cmVhbUNvbnN0cmFpbnRzIG9iamVjdCBzcGVjaWZ5aW5nIHdoYXQga2luZCBvZiBMb2NhbE1lZGlhU3RyZWFtIHRvXG4gKiAgIHJlcXVlc3QgZnJvbSB0aGUgYnJvd3NlciAoYnkgZGVmYXVsdCBib3RoIGF1ZGlvIGFuZCB2aWRlbylcbiAqIEByZXR1cm5zIFByb21pc2U8TWVkaWFTdHJlYW0+XG4gKi9cbmZ1bmN0aW9uIGdldFVzZXJNZWRpYShjb25zdHJhaW50cykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZ2V0VXNlck1lZGlhUHJvbWlzZShyZXNvbHZlLCByZWplY3QpIHtcbiAgICBfZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzIHx8IHsgYXVkaW86IHRydWUsIHZpZGVvOiB0cnVlIH0sIHJlc29sdmUsIHJlamVjdCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBfZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvci5tZWRpYURldmljZXMgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpLnRoZW4ob25TdWNjZXNzLCBvbkZhaWx1cmUpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEoY29uc3RyYWludHMsIG9uU3VjY2Vzcywgb25GYWlsdXJlKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIG9uRmFpbHVyZShuZXcgRXJyb3IoJ2dldFVzZXJNZWRpYSBpcyBub3Qgc3VwcG9ydGVkJykpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFVzZXJNZWRpYTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0B0d2lsaW8vd2VicnRjL2xpYi9nZXR1c2VybWVkaWEuanNcbi8vIG1vZHVsZSBpZCA9IDI2NVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///265\n");

/***/ }),
/* 266 */
/*!*************************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/mediastreamtrack.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* global MediaStreamTrack */\n\n\nif (typeof MediaStreamTrack !== 'undefined') {\n  module.exports = MediaStreamTrack;\n} else {\n  module.exports = function MediaStreamTrack() {\n    throw new Error('WebRTC is not supported in this browser');\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL21lZGlhc3RyZWFtdHJhY2suanM/MWNkNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNhOztBQUViO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMjY2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIE1lZGlhU3RyZWFtVHJhY2sgKi9cbid1c2Ugc3RyaWN0JztcblxuaWYgKHR5cGVvZiBNZWRpYVN0cmVhbVRyYWNrICE9PSAndW5kZWZpbmVkJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IE1lZGlhU3RyZWFtVHJhY2s7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIE1lZGlhU3RyZWFtVHJhY2soKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdXZWJSVEMgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXInKTtcbiAgfTtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0B0d2lsaW8vd2VicnRjL2xpYi9tZWRpYXN0cmVhbXRyYWNrLmpzXG4vLyBtb2R1bGUgaWQgPSAyNjZcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///266\n");

/***/ }),
/* 267 */
/*!************************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/rtcicecandidate.js ***!
  \************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* global mozRTCIceCandidate, RTCIceCandidate */\n\n\nif (typeof RTCIceCandidate !== 'undefined') {\n  module.exports = RTCIceCandidate;\n} else if (typeof mozRTCIceCandidate !== 'undefined') {\n  module.exports = mozRTCIceCandidate;\n} else {\n  module.exports = function RTCIceCandidate() {\n    throw new Error('WebRTC is unsupported');\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3J0Y2ljZWNhbmRpZGF0ZS5qcz80NTRmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ2E7O0FBRWI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIyNjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgbW96UlRDSWNlQ2FuZGlkYXRlLCBSVENJY2VDYW5kaWRhdGUgKi9cbid1c2Ugc3RyaWN0JztcblxuaWYgKHR5cGVvZiBSVENJY2VDYW5kaWRhdGUgIT09ICd1bmRlZmluZWQnKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gUlRDSWNlQ2FuZGlkYXRlO1xufSBlbHNlIGlmICh0eXBlb2YgbW96UlRDSWNlQ2FuZGlkYXRlICE9PSAndW5kZWZpbmVkJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IG1velJUQ0ljZUNhbmRpZGF0ZTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gUlRDSWNlQ2FuZGlkYXRlKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignV2ViUlRDIGlzIHVuc3VwcG9ydGVkJyk7XG4gIH07XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AdHdpbGlvL3dlYnJ0Yy9saWIvcnRjaWNlY2FuZGlkYXRlLmpzXG4vLyBtb2R1bGUgaWQgPSAyNjdcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///267\n");

/***/ }),
/* 268 */
/*!********************************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/rtcpeerconnection/index.js ***!
  \********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar guessBrowser = __webpack_require__(/*! ../util */ 210).guessBrowser;\n\nswitch (guessBrowser()) {\n  case 'chrome':\n    module.exports = __webpack_require__(/*! ./chrome */ 269);\n    break;\n  case 'firefox':\n    module.exports = __webpack_require__(/*! ./firefox */ 273);\n    break;\n  case 'safari':\n    module.exports = __webpack_require__(/*! ./safari */ 274);\n    break;\n  default:\n    if (typeof RTCPeerConnection === 'undefined') {\n      break;\n    }\n    module.exports = RTCPeerConnection;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3J0Y3BlZXJjb25uZWN0aW9uL2luZGV4LmpzP2Q0MjYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsbUJBQW1CLG1CQUFPLENBQUMsa0JBQVM7O0FBRXBDO0FBQ0E7QUFDQSxxQkFBcUIsbUJBQU8sQ0FBQyxtQkFBVTtBQUN2QztBQUNBO0FBQ0EscUJBQXFCLG1CQUFPLENBQUMsb0JBQVc7QUFDeEM7QUFDQTtBQUNBLHFCQUFxQixtQkFBTyxDQUFDLG1CQUFVO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjI2OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGd1ZXNzQnJvd3NlciA9IHJlcXVpcmUoJy4uL3V0aWwnKS5ndWVzc0Jyb3dzZXI7XG5cbnN3aXRjaCAoZ3Vlc3NCcm93c2VyKCkpIHtcbiAgY2FzZSAnY2hyb21lJzpcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2hyb21lJyk7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ2ZpcmVmb3gnOlxuICAgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9maXJlZm94Jyk7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ3NhZmFyaSc6XG4gICAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL3NhZmFyaScpO1xuICAgIGJyZWFrO1xuICBkZWZhdWx0OlxuICAgIGlmICh0eXBlb2YgUlRDUGVlckNvbm5lY3Rpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSVENQZWVyQ29ubmVjdGlvbjtcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0B0d2lsaW8vd2VicnRjL2xpYi9ydGNwZWVyY29ubmVjdGlvbi9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMjY4XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///268\n");

/***/ }),
/* 269 */
/*!*********************************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/rtcpeerconnection/chrome.js ***!
  \*********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* globals RTCDataChannel, RTCSessionDescription, webkitRTCPeerConnection */\n\n\nvar ChromeRTCSessionDescription = __webpack_require__(/*! ../rtcsessiondescription/chrome */ 231);\nvar EventTarget = __webpack_require__(/*! ../util/eventtarget */ 222);\nvar inherits = __webpack_require__(/*! util */ 213).inherits;\nvar Latch = __webpack_require__(/*! ../util/latch */ 232);\nvar MediaStream = __webpack_require__(/*! ../mediastream */ 230);\nvar RTCRtpSenderShim = __webpack_require__(/*! ../rtcrtpsender */ 223);\nvar sdpUtils = __webpack_require__(/*! ../util/sdp */ 224);\nvar util = __webpack_require__(/*! ../util */ 210);\n\nvar PeerConnection = typeof RTCPeerConnection !== 'undefined'\n  ? RTCPeerConnection\n  : webkitRTCPeerConnection;\n\n// NOTE(mroberts): This class wraps Chrome's RTCPeerConnection implementation.\n// It provides some functionality not currently present in Chrome, namely the\n// abilities to\n//\n//   1. Rollback, per the workaround suggested here:\n//      https://bugs.chromium.org/p/webrtc/issues/detail?id=5738#c3\n//\n//   2. Listen for track events, per the adapter.js workaround.\n//\n//   3. Set iceTransportPolicy.\n//\nfunction ChromeRTCPeerConnection(configuration, constraints) {\n  if (!(this instanceof ChromeRTCPeerConnection)) {\n    return new ChromeRTCPeerConnection(configuration, constraints);\n  }\n\n  EventTarget.call(this);\n\n  // NOTE(mhuynh): See\n  // https://webrtc.org/web-apis/chrome/unified-plan/\n  // for transition from 'plan-b' default to 'unified-plan' as default.\n  var newConfiguration = Object.assign({ sdpSemantics: 'plan-b' }, configuration);\n  if (newConfiguration.iceTransportPolicy) {\n    newConfiguration.iceTransports = newConfiguration.iceTransportPolicy;\n  }\n\n  util.interceptEvent(this, 'datachannel');\n  util.interceptEvent(this, 'signalingstatechange');\n\n  /* eslint new-cap:0 */\n  var peerConnection = new PeerConnection(newConfiguration, constraints);\n  var sdpSemantics = getSdpSemantics(newConfiguration.sdpSemantics);\n\n  Object.defineProperties(this, {\n    _localStream: {\n      value: new MediaStream()\n    },\n    _peerConnection: {\n      value: peerConnection\n    },\n    _pendingLocalOffer: {\n      value: null,\n      writable: true\n    },\n    _pendingRemoteOffer: {\n      value: null,\n      writable: true\n    },\n    _sdpSemantics: {\n      value: sdpSemantics\n    },\n    _senders: {\n      value: new Map()\n    },\n    _signalingStateLatch: {\n      value: new Latch()\n    },\n    _tracksToSSRCs: {\n      value: new Map()\n    },\n    localDescription: {\n      enumerable: true,\n      get: function() {\n        return this._pendingLocalOffer ? this._pendingLocalOffer : peerConnection.localDescription;\n      }\n    },\n    remoteDescription: {\n      enumerable: true,\n      get: function() {\n        return this._pendingRemoteOffer ? this._pendingRemoteOffer : peerConnection.remoteDescription;\n      }\n    },\n    signalingState: {\n      enumerable: true,\n      get: function() {\n        if (this._pendingLocalOffer) {\n          return 'have-local-offer';\n        } else if (this._pendingRemoteOffer) {\n          return 'have-remote-offer';\n        }\n        return peerConnection.signalingState;\n      }\n    }\n  });\n\n  var self = this;\n\n  if (sdpSemantics === 'plan-b') {\n    // NOTE(mmalavalli): Because of a bug related to \"ontrack\" in Chrome 63 and below,\n    // we prevent it from being delegated to ChromeRTCPeerConnection.\n    // Existing bug: https://bugs.chromium.org/p/chromium/issues/detail?id=774303\n    // Bug filed by us: https://bugs.chromium.org/p/chromium/issues/detail?id=783433\n    util.interceptEvent(this, 'track');\n  }\n\n  peerConnection.addEventListener('datachannel', function ondatachannel(event) {\n    shimDataChannel(event.channel);\n    self.dispatchEvent(event);\n  });\n\n  peerConnection.addEventListener('signalingstatechange', function onsignalingstatechange() {\n    if (!self._pendingLocalOffer && !self._pendingRemoteOffer) {\n      self.dispatchEvent.apply(self, arguments);\n    }\n  });\n\n  peerConnection.ontrack = function ontrack() {\n    // NOTE(mroberts): adapter.js's \"track\" event shim only kicks off if we set\n    // the ontrack property of the RTCPeerConnection.\n  };\n\n  peerConnection.addStream(this._localStream);\n  util.proxyProperties(PeerConnection.prototype, this, peerConnection);\n}\n\ninherits(ChromeRTCPeerConnection, EventTarget);\n\n// NOTE(mmalavalli): This shim supports our limited case of adding\n// all MediaStreamTracks to one MediaStream. It has been implemented this\n// keeping in mind that this is to be maintained only until \"addTrack\" is\n// supported natively in Chrome.\n// NOTE(mmalavalli): This shim also works around a Chrome bug in \"unified-plan\"\n// SDPs where adding a MediaStreamTrack that was previously added and removed\n// generates an SDP where the MSID does not match the MediaStreamTrack ID.\n//\n// Chrome bug: https://bugs.chromium.org/p/chromium/issues/detail?id=894231\n//\nChromeRTCPeerConnection.prototype.addTrack = function addTrack() {\n  var args = [].slice.call(arguments);\n  var track = args[0];\n  var sender = this._senders.get(track);\n\n  if (this._peerConnection.signalingState === 'closed') {\n    throw new Error('Cannot add MediaStreamTrack [' + track.id + ', '\n      + track.kind + ']: RTCPeerConnection is closed');\n  }\n  if (sender && sender.track) {\n    throw new Error('Cannot add MediaStreamTrack [' + track.id + ', '\n      + track.kind + ']: RTCPeerConnection already has it');\n  }\n  if (this._peerConnection.addTrack) {\n    if (this._sdpSemantics === 'unified-plan') {\n      sender = getActiveSenders(this._peerConnection).get(track)\n        || this._peerConnection.addTrack.apply(this._peerConnection, args);\n      this._senders.set(track, sender);\n      return sender;\n    }\n    return this._peerConnection.addTrack.apply(this._peerConnection, args);\n  }\n\n  this._peerConnection.removeStream(this._localStream);\n  this._localStream.addTrack(track);\n  this._peerConnection.addStream(this._localStream);\n\n  sender = new RTCRtpSenderShim(track);\n  this._senders.set(track, sender);\n  return sender;\n};\n\n// NOTE(mmalavalli): This shim works around a Chrome bug in \"unified-plan\"\n// SDPs where adding a MediaStreamTrack that was previously added and removed\n// generates an SDP where the MSID does not match the MediaStreamTrack ID.\n//\n// Chrome bug: https://bugs.chromium.org/p/chromium/issues/detail?id=894231\n//\nif (PeerConnection.prototype.addTransceiver) {\n  ChromeRTCPeerConnection.prototype.addTransceiver = function addTransceiver() {\n    var transceiver = this._peerConnection.addTransceiver.apply(this._peerConnection, arguments);\n    var sender = transceiver.sender;\n    var track = sender.track;\n    this._senders.set(track, sender);\n    return transceiver;\n  };\n}\n\n// NOTE(mmalavalli): This shim supports our limited case of removing\n// MediaStreamTracks from one MediaStream. It has been implemented this\n// keeping in mind that this is to be maintained only until \"removeTrack\" is\n// supported natively in Chrome.\n// NOTE(mmalavalli): This shim also works around a Chrome bug in \"unified-plan\"\n// SDPs where adding a MediaStreamTrack that was previously added and removed\n// generates an SDP where the MSID does not match the MediaStreamTrack ID.\n//\n// Chrome bug: https://bugs.chromium.org/p/chromium/issues/detail?id=894231\n//\nChromeRTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n  if (this._peerConnection.signalingState === 'closed') {\n    throw new Error('Cannot remove MediaStreamTrack: RTCPeerConnection is closed');\n  }\n\n  if (this._peerConnection.removeTrack) {\n    try {\n      if (this._sdpSemantics === 'unified-plan') {\n        if (sender.track) {\n          this._senders.set(sender.track, new RTCRtpSenderShim(null));\n        }\n      } else {\n        this._peerConnection.removeTrack(sender);\n      }\n    }\n    catch (error) {\n      // NOTE(mhuynh): Do nothing.\n      // In Chrome, will throw a 'sender was not created by this peer connection'\n      // This behavior does not seem to be spec compliant, so a temporary shim\n      // is introduced.\n    }\n    return;\n  }\n\n  var track = sender.track;\n  if (!track) {\n    return;\n  }\n  sender = this._senders.get(track);\n  if (sender && sender.track) {\n    sender.track = null;\n    this._peerConnection.removeStream(this._localStream);\n    this._localStream.removeTrack(track);\n    this._peerConnection.addStream(this._localStream);\n  }\n};\n\nChromeRTCPeerConnection.prototype.getSenders = function getSenders() {\n  return this._peerConnection.getSenders && this._sdpSemantics === 'plan-b'\n    ? this._peerConnection.getSenders()\n    : Array.from(this._senders.values());\n};\n\nChromeRTCPeerConnection.prototype.addIceCandidate = function addIceCandidate(candidate) {\n  var args = [].slice.call(arguments);\n  var promise;\n  var self = this;\n\n  if (this.signalingState === 'have-remote-offer') {\n    // NOTE(mroberts): Because the ChromeRTCPeerConnection simulates the\n    // \"have-remote-offer\" signalingStates, we only want to invoke the true\n    // addIceCandidates method when the remote description has been applied.\n    promise = this._signalingStateLatch.when('low').then(function signalingStatesResolved() {\n      return self._peerConnection.addIceCandidate(candidate);\n    });\n  } else {\n    promise = this._peerConnection.addIceCandidate(candidate);\n  }\n\n  return args.length > 1\n    ? util.legacyPromise(promise, args[1], args[2])\n    : promise;\n};\n\n// NOTE(mroberts): The WebRTC spec does not specify that close should throw an\n// Error; however, in Chrome it does. We workaround this by checking the\n// signalingState manually.\nChromeRTCPeerConnection.prototype.close = function close() {\n  if (this.signalingState !== 'closed') {\n    this._pendingLocalOffer = null;\n    this._pendingRemoteOffer = null;\n    this._peerConnection.close();\n  }\n};\n\n// NOTE(mroberts): Because we workaround Chrome's lack of rollback support by\n// \"faking\" setRemoteDescription, we cannot create an answer until we actually\n// apply the remote description. This means, once you call createAnswer, you\n// can no longer rollback. This is acceptable for our use case because we will\n// apply the newly-created answer almost immediately; however, this may be\n// unacceptable for other use cases.\nChromeRTCPeerConnection.prototype.createAnswer = function createAnswer() {\n  var args = [].slice.call(arguments);\n  var promise;\n  var isPlanB = this._sdpSemantics === 'plan-b';\n  var self = this;\n\n  if (this._pendingRemoteOffer) {\n    var mediaStreamTracks = isPlanB ? util.flatMap(this.getRemoteStreams(), function(mediaStream) {\n      return mediaStream.getTracks();\n    }) : [];\n\n    promise = this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then(function setRemoteDescriptionSucceeded() {\n      if (isPlanB) {\n        maybeDispatchTrackEvents(self, mediaStreamTracks);\n      }\n      // NOTE(mroberts): The signalingStates between the ChromeRTCPeerConnection\n      // and the underlying RTCPeerConnection implementation have converged. We\n      // can unblock any pending calls to addIceCandidate now.\n      self._signalingStateLatch.lower();\n      return self._peerConnection.createAnswer();\n    }).then(function createAnswerSucceeded(answer) {\n      self._pendingRemoteOffer = null;\n      return new RTCSessionDescription({\n        type: 'answer',\n        sdp: updateTrackIdsToSSRCs(self._sdpSemantics, self._tracksToSSRCs, answer.sdp)\n      });\n    }, function setRemoteDescriptionOrCreateAnswerFailed(error) {\n      self._pendingRemoteOffer = null;\n      throw error;\n    });\n  } else {\n    promise = this._peerConnection.createAnswer().then(function(answer) {\n      return new RTCSessionDescription({\n        type: 'answer',\n        sdp: updateTrackIdsToSSRCs(self._sdpSemantics, self._tracksToSSRCs, answer.sdp)\n      });\n    });\n  }\n\n  return args.length > 1\n    ? util.legacyPromise(promise, args[0], args[1])\n    : promise;\n};\n\nChromeRTCPeerConnection.prototype.createOffer = function createOffer() {\n  var args = [].slice.call(arguments);\n  var options = (args.length > 1 ? args[2] : args[0]) || {};\n  var self = this;\n\n  var promise = this._peerConnection.createOffer(options).then(function(offer) {\n    return new ChromeRTCSessionDescription({\n      type: offer.type,\n      sdp: updateTrackIdsToSSRCs(self._sdpSemantics, self._tracksToSSRCs, offer.sdp)\n    });\n  });\n\n  return args.length > 1\n    ? util.legacyPromise(promise, args[0], args[1])\n    : promise;\n};\n\nChromeRTCPeerConnection.prototype.createDataChannel = function createDataChannel(label, dataChannelDict) {\n  dataChannelDict = shimDataChannelInit(dataChannelDict);\n  var dataChannel = this._peerConnection.createDataChannel(label, dataChannelDict);\n  shimDataChannel(dataChannel);\n  return dataChannel;\n};\n\nChromeRTCPeerConnection.prototype.setLocalDescription = function setLocalDescription() {\n  var args = [].slice.call(arguments);\n  var description = args[0];\n  var promise = setDescription(this, true, description);\n  return args.length > 1\n    ? util.legacyPromise(promise, args[1], args[2])\n    : promise;\n};\n\nChromeRTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {\n  var args = [].slice.call(arguments);\n  var description = args[0];\n  var promise = setDescription(this, false, description);\n  return args.length > 1\n    ? util.legacyPromise(promise, args[1], args[2])\n    : promise;\n};\n\nutil.delegateMethods(\n  PeerConnection.prototype,\n  ChromeRTCPeerConnection.prototype,\n  '_peerConnection');\n\n// Dispatch 'track' events to ChromeRTCPeerConnection if new\n// MediaStreamTracks have been added. This is a temporary workaround\n// for the unreliable MediaStreamTrack#addtrack event. Do this only if\n// the native RTCPeerConnection has not implemented 'ontrack'.\nfunction maybeDispatchTrackEvents(peerConnection, mediaStreamTracks) {\n  var currentMediaStreamTracks = util.flatMap(peerConnection.getRemoteStreams(), function(mediaStream) {\n    return mediaStream.getTracks();\n  });\n  var mediaStreamTracksAdded = util.difference(currentMediaStreamTracks, mediaStreamTracks);\n\n  mediaStreamTracksAdded.forEach(function(mediaStreamTrack) {\n    var newEvent = new Event('track');\n    newEvent.track = mediaStreamTrack;\n    peerConnection.dispatchEvent(newEvent);\n  });\n}\n\n// NOTE(mroberts): We workaround Chrome's lack of rollback support, per the\n// workaround suggested here: https://bugs.chromium.org/p/webrtc/issues/detail?id=5738#c3\n// Namely, we \"fake\" setting the local or remote description and instead buffer\n// it. If we receive or create an answer, then we will actually apply the\n// description. Until we receive or create an answer, we will be able to\n// \"rollback\" by simply discarding the buffer description.\nfunction setDescription(peerConnection, local, description) {\n  function setPendingLocalOffer(offer) {\n    if (local) {\n      peerConnection._pendingLocalOffer = offer;\n    } else {\n      peerConnection._pendingRemoteOffer = offer;\n    }\n  }\n\n  function clearPendingLocalOffer() {\n    if (local) {\n      peerConnection._pendingLocalOffer = null;\n    } else {\n      peerConnection._pendingRemoteOffer = null;\n    }\n  }\n\n  var pendingLocalOffer = local ? peerConnection._pendingLocalOffer : peerConnection._pendingRemoteOffer;\n  var pendingRemoteOffer = local ? peerConnection._pendingRemoteOffer : peerConnection._pendingLocalOffer;\n  var intermediateState = local ? 'have-local-offer' : 'have-remote-offer';\n  var setLocalDescription = local ? 'setLocalDescription' : 'setRemoteDescription';\n  var promise;\n\n  var isPlanB = peerConnection._sdpSemantics === 'plan-b';\n  var mediaStreamTracks = isPlanB ? util.flatMap(peerConnection.getRemoteStreams(), function(mediaStream) {\n    return mediaStream.getTracks();\n  }) : [];\n\n  if (!local && pendingRemoteOffer && description.type === 'answer') {\n    promise = setRemoteAnswer(peerConnection, description);\n  } else if (description.type === 'offer') {\n    if (peerConnection.signalingState !== intermediateState && peerConnection.signalingState !== 'stable') {\n      // NOTE(mroberts): Error message copied from Firefox.\n      return Promise.reject(new Error('Cannot set ' + (local ? 'local' : 'remote') +\n        ' offer in state ' + peerConnection.signalingState));\n    }\n\n    // We need to save this local offer in case of a rollback. We also need to\n    // check to see if the signalingState between the ChromeRTCPeerConnection\n    // and the underlying RTCPeerConnection implementation are about to diverge.\n    // If so, we need to ensure subsequent calls to addIceCandidate will block.\n    if (!pendingLocalOffer && peerConnection._signalingStateLatch.state === 'low') {\n      peerConnection._signalingStateLatch.raise();\n    }\n    var previousSignalingState = peerConnection.signalingState;\n    setPendingLocalOffer(unwrap(description));\n    promise = Promise.resolve();\n\n    // Only dispatch a signalingstatechange event if we transitioned.\n    if (peerConnection.signalingState !== previousSignalingState) {\n      promise.then(function dispatchSignalingStateChangeEvent() {\n        peerConnection.dispatchEvent(new Event('signalingstatechange'));\n      });\n    }\n\n  } else if (description.type === 'rollback') {\n    if (peerConnection.signalingState !== intermediateState) {\n      // NOTE(mroberts): Error message copied from Firefox.\n      promise = Promise.reject(new Error('Cannot rollback ' +\n        (local ? 'local' : 'remote') + ' description in ' + peerConnection.signalingState));\n    } else {\n      // Reset the pending offer.\n      clearPendingLocalOffer();\n      promise = Promise.resolve();\n      promise.then(function dispatchSignalingStateChangeEvent() {\n        peerConnection.dispatchEvent(new Event('signalingstatechange'));\n      });\n    }\n  }\n\n  return promise || peerConnection._peerConnection[setLocalDescription](unwrap(description)).then(function() {\n    if (!local && isPlanB) {\n      maybeDispatchTrackEvents(peerConnection, mediaStreamTracks);\n    }\n  });\n}\n\nfunction setRemoteAnswer(peerConnection, answer) {\n  var isPlanB = peerConnection._sdpSemantics === 'plan-b';\n  var mediaStreamTracks = isPlanB ? util.flatMap(peerConnection.getRemoteStreams(), function(mediaStream) {\n    return mediaStream.getTracks();\n  }) : [];\n  // Apply the pending local offer.\n  var pendingLocalOffer = peerConnection._pendingLocalOffer;\n  return peerConnection._peerConnection.setLocalDescription(pendingLocalOffer).then(function setLocalOfferSucceeded() {\n    peerConnection._pendingLocalOffer = null;\n    return peerConnection.setRemoteDescription(answer);\n  }).then(function setRemoteAnswerSucceeded() {\n    if (isPlanB) {\n      maybeDispatchTrackEvents(peerConnection, mediaStreamTracks);\n    }\n    // NOTE(mroberts): The signalingStates between the ChromeRTCPeerConnection\n    // and the underlying RTCPeerConnection implementation have converged. We\n    // can unblock any pending calls to addIceCandidate now.\n    peerConnection._signalingStateLatch.lower();\n  });\n}\n\nfunction unwrap(description) {\n  if (description instanceof ChromeRTCSessionDescription) {\n    if (description._description) {\n      return description._description;\n    }\n  }\n  return new RTCSessionDescription(description);\n}\n\n/**\n * Check whether or not we need to apply our maxPacketLifeTime shim. We are\n * pretty conservative: we'll only apply it if the legacy maxRetransmitTime\n * property is available _and_ the standard maxPacketLifeTime property is _not_\n * available (the thinking being that Chrome will land the standards-compliant\n * property).\n * @returns {boolean}\n */\nfunction needsMaxPacketLifeTimeShim() {\n  return 'maxRetransmitTime' in RTCDataChannel.prototype\n    && !('maxPacketLifeTime' in RTCDataChannel.prototype);\n}\n\n/**\n * Shim an RTCDataChannelInit dictionary (if necessary). This function returns\n * a copy of the original RTCDataChannelInit.\n * @param {RTCDataChannelInit} dataChannelDict\n * @returns {RTCDataChannelInit}\n */\nfunction shimDataChannelInit(dataChannelDict) {\n  dataChannelDict = Object.assign({}, dataChannelDict);\n  if (needsMaxPacketLifeTimeShim() && 'maxPacketLifeTime' in dataChannelDict) {\n    dataChannelDict.maxRetransmitTime = dataChannelDict.maxPacketLifeTime;\n  }\n  return dataChannelDict;\n}\n\n/**\n * Shim an RTCDataChannel (if necessary). This function mutates the\n * RTCDataChannel.\n * @param {RTCDataChannel} dataChannel\n * @returns {RTCDataChannel}\n */\nfunction shimDataChannel(dataChannel) {\n  Object.defineProperty(dataChannel, 'maxRetransmits', {\n    value: dataChannel.maxRetransmits === 65535\n      ? null\n      : dataChannel.maxRetransmits\n  });\n  if (needsMaxPacketLifeTimeShim()) {\n    // NOTE(mroberts): We can rename `maxRetransmitTime` to `maxPacketLifeTime`.\n    //\n    //   https://bugs.chromium.org/p/chromium/issues/detail?id=696681\n    //\n    Object.defineProperty(dataChannel, 'maxPacketLifeTime', {\n      value: dataChannel.maxRetransmitTime === 65535\n        ? null\n        : dataChannel.maxRetransmitTime\n    });\n  }\n  return dataChannel;\n}\n\n/**\n * Gets the active RTCRtpSenders of the RTCPeerConnection.\n * @param peerConnection\n * @returns {Map<MediaStreamTrack, RTCRtpSender>}\n */\nfunction getActiveSenders(peerConnection) {\n  return new Map(peerConnection.getSenders().filter(function(sender) {\n    return sender.track;\n  }).map(function(sender) {\n    return [sender.track, sender];\n  }));\n}\n\n/**\n * Get the actual `sdpSemantics`.\n * @param {SdpSemantics} sdpSemantics\n * @returns {SdpSemantics}\n */\nfunction getSdpSemantics(sdpSemantics) {\n  // NOTE(mmalavalli): Once Chrome stops supporting \"plan-b\" SDPs, it will\n  // ignore the \"sdpSemantics\" flag. So, in order to differentiate between\n  // versions of Chrome which support only \"plan-b\" SDPs and versions of Chrome\n  // which support only \"unified-plan\" SDPs, which check whether PeerConnection's\n  // addStream() method is present.\n  return sdpUtils.checkIfSdpSemanticsIsSupported()\n    ? sdpSemantics\n    : PeerConnection.prototype.addStream ? 'plan-b' : 'unified-plan';\n}\n\n/**\n * Update the mappings from MediaStreamTrack IDs to SSRCs as indicated by both\n * the Map from MediaStreamTrack IDs to SSRCs and the SDP itself. This method\n * ensures that SSRCs never change once announced.\n * @param {SdpSemantics} sdpSemantics\n * @param {Map<string, Set<string>>} trackIdsToSSRCs\n * @param {string} sdp - an SDP whose format is determined by `sdpSemantics`\n * @returns {string} updatedSdp - updated SDP\n */\nfunction updateTrackIdsToSSRCs(sdpSemantics, tracksToSSRCs, sdp) {\n  return sdpSemantics === 'unified-plan'\n    ? sdpUtils.updateUnifiedPlanTrackIdsToSSRCs(tracksToSSRCs, sdp)\n    : sdpUtils.updatePlanBTrackIdsToSSRCs(tracksToSSRCs, sdp);\n}\n\nmodule.exports = ChromeRTCPeerConnection;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3J0Y3BlZXJjb25uZWN0aW9uL2Nocm9tZS5qcz8yMGZhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ2E7O0FBRWIsa0NBQWtDLG1CQUFPLENBQUMsMENBQWlDO0FBQzNFLGtCQUFrQixtQkFBTyxDQUFDLDhCQUFxQjtBQUMvQyxlQUFlLG1CQUFPLENBQUMsZUFBTTtBQUM3QixZQUFZLG1CQUFPLENBQUMsd0JBQWU7QUFDbkMsa0JBQWtCLG1CQUFPLENBQUMseUJBQWdCO0FBQzFDLHVCQUF1QixtQkFBTyxDQUFDLDBCQUFpQjtBQUNoRCxlQUFlLG1CQUFPLENBQUMsc0JBQWE7QUFDcEMsV0FBVyxtQkFBTyxDQUFDLGtCQUFTOztBQUU1QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3Qyx5QkFBeUI7QUFDakU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QixhQUFhO0FBQ2I7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEIsV0FBVyx5QkFBeUI7QUFDcEMsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMjY5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFscyBSVENEYXRhQ2hhbm5lbCwgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uLCB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ2hyb21lUlRDU2Vzc2lvbkRlc2NyaXB0aW9uID0gcmVxdWlyZSgnLi4vcnRjc2Vzc2lvbmRlc2NyaXB0aW9uL2Nocm9tZScpO1xudmFyIEV2ZW50VGFyZ2V0ID0gcmVxdWlyZSgnLi4vdXRpbC9ldmVudHRhcmdldCcpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgndXRpbCcpLmluaGVyaXRzO1xudmFyIExhdGNoID0gcmVxdWlyZSgnLi4vdXRpbC9sYXRjaCcpO1xudmFyIE1lZGlhU3RyZWFtID0gcmVxdWlyZSgnLi4vbWVkaWFzdHJlYW0nKTtcbnZhciBSVENSdHBTZW5kZXJTaGltID0gcmVxdWlyZSgnLi4vcnRjcnRwc2VuZGVyJyk7XG52YXIgc2RwVXRpbHMgPSByZXF1aXJlKCcuLi91dGlsL3NkcCcpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuLi91dGlsJyk7XG5cbnZhciBQZWVyQ29ubmVjdGlvbiA9IHR5cGVvZiBSVENQZWVyQ29ubmVjdGlvbiAhPT0gJ3VuZGVmaW5lZCdcbiAgPyBSVENQZWVyQ29ubmVjdGlvblxuICA6IHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uO1xuXG4vLyBOT1RFKG1yb2JlcnRzKTogVGhpcyBjbGFzcyB3cmFwcyBDaHJvbWUncyBSVENQZWVyQ29ubmVjdGlvbiBpbXBsZW1lbnRhdGlvbi5cbi8vIEl0IHByb3ZpZGVzIHNvbWUgZnVuY3Rpb25hbGl0eSBub3QgY3VycmVudGx5IHByZXNlbnQgaW4gQ2hyb21lLCBuYW1lbHkgdGhlXG4vLyBhYmlsaXRpZXMgdG9cbi8vXG4vLyAgIDEuIFJvbGxiYWNrLCBwZXIgdGhlIHdvcmthcm91bmQgc3VnZ2VzdGVkIGhlcmU6XG4vLyAgICAgIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC93ZWJydGMvaXNzdWVzL2RldGFpbD9pZD01NzM4I2MzXG4vL1xuLy8gICAyLiBMaXN0ZW4gZm9yIHRyYWNrIGV2ZW50cywgcGVyIHRoZSBhZGFwdGVyLmpzIHdvcmthcm91bmQuXG4vL1xuLy8gICAzLiBTZXQgaWNlVHJhbnNwb3J0UG9saWN5LlxuLy9cbmZ1bmN0aW9uIENocm9tZVJUQ1BlZXJDb25uZWN0aW9uKGNvbmZpZ3VyYXRpb24sIGNvbnN0cmFpbnRzKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDaHJvbWVSVENQZWVyQ29ubmVjdGlvbikpIHtcbiAgICByZXR1cm4gbmV3IENocm9tZVJUQ1BlZXJDb25uZWN0aW9uKGNvbmZpZ3VyYXRpb24sIGNvbnN0cmFpbnRzKTtcbiAgfVxuXG4gIEV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG5cbiAgLy8gTk9URShtaHV5bmgpOiBTZWVcbiAgLy8gaHR0cHM6Ly93ZWJydGMub3JnL3dlYi1hcGlzL2Nocm9tZS91bmlmaWVkLXBsYW4vXG4gIC8vIGZvciB0cmFuc2l0aW9uIGZyb20gJ3BsYW4tYicgZGVmYXVsdCB0byAndW5pZmllZC1wbGFuJyBhcyBkZWZhdWx0LlxuICB2YXIgbmV3Q29uZmlndXJhdGlvbiA9IE9iamVjdC5hc3NpZ24oeyBzZHBTZW1hbnRpY3M6ICdwbGFuLWInIH0sIGNvbmZpZ3VyYXRpb24pO1xuICBpZiAobmV3Q29uZmlndXJhdGlvbi5pY2VUcmFuc3BvcnRQb2xpY3kpIHtcbiAgICBuZXdDb25maWd1cmF0aW9uLmljZVRyYW5zcG9ydHMgPSBuZXdDb25maWd1cmF0aW9uLmljZVRyYW5zcG9ydFBvbGljeTtcbiAgfVxuXG4gIHV0aWwuaW50ZXJjZXB0RXZlbnQodGhpcywgJ2RhdGFjaGFubmVsJyk7XG4gIHV0aWwuaW50ZXJjZXB0RXZlbnQodGhpcywgJ3NpZ25hbGluZ3N0YXRlY2hhbmdlJyk7XG5cbiAgLyogZXNsaW50IG5ldy1jYXA6MCAqL1xuICB2YXIgcGVlckNvbm5lY3Rpb24gPSBuZXcgUGVlckNvbm5lY3Rpb24obmV3Q29uZmlndXJhdGlvbiwgY29uc3RyYWludHMpO1xuICB2YXIgc2RwU2VtYW50aWNzID0gZ2V0U2RwU2VtYW50aWNzKG5ld0NvbmZpZ3VyYXRpb24uc2RwU2VtYW50aWNzKTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgX2xvY2FsU3RyZWFtOiB7XG4gICAgICB2YWx1ZTogbmV3IE1lZGlhU3RyZWFtKClcbiAgICB9LFxuICAgIF9wZWVyQ29ubmVjdGlvbjoge1xuICAgICAgdmFsdWU6IHBlZXJDb25uZWN0aW9uXG4gICAgfSxcbiAgICBfcGVuZGluZ0xvY2FsT2ZmZXI6IHtcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9LFxuICAgIF9wZW5kaW5nUmVtb3RlT2ZmZXI6IHtcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9LFxuICAgIF9zZHBTZW1hbnRpY3M6IHtcbiAgICAgIHZhbHVlOiBzZHBTZW1hbnRpY3NcbiAgICB9LFxuICAgIF9zZW5kZXJzOiB7XG4gICAgICB2YWx1ZTogbmV3IE1hcCgpXG4gICAgfSxcbiAgICBfc2lnbmFsaW5nU3RhdGVMYXRjaDoge1xuICAgICAgdmFsdWU6IG5ldyBMYXRjaCgpXG4gICAgfSxcbiAgICBfdHJhY2tzVG9TU1JDczoge1xuICAgICAgdmFsdWU6IG5ldyBNYXAoKVxuICAgIH0sXG4gICAgbG9jYWxEZXNjcmlwdGlvbjoge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wZW5kaW5nTG9jYWxPZmZlciA/IHRoaXMuX3BlbmRpbmdMb2NhbE9mZmVyIDogcGVlckNvbm5lY3Rpb24ubG9jYWxEZXNjcmlwdGlvbjtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbW90ZURlc2NyaXB0aW9uOiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BlbmRpbmdSZW1vdGVPZmZlciA/IHRoaXMuX3BlbmRpbmdSZW1vdGVPZmZlciA6IHBlZXJDb25uZWN0aW9uLnJlbW90ZURlc2NyaXB0aW9uO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2lnbmFsaW5nU3RhdGU6IHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0xvY2FsT2ZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gJ2hhdmUtbG9jYWwtb2ZmZXInO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3BlbmRpbmdSZW1vdGVPZmZlcikge1xuICAgICAgICAgIHJldHVybiAnaGF2ZS1yZW1vdGUtb2ZmZXInO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwZWVyQ29ubmVjdGlvbi5zaWduYWxpbmdTdGF0ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAoc2RwU2VtYW50aWNzID09PSAncGxhbi1iJykge1xuICAgIC8vIE5PVEUobW1hbGF2YWxsaSk6IEJlY2F1c2Ugb2YgYSBidWcgcmVsYXRlZCB0byBcIm9udHJhY2tcIiBpbiBDaHJvbWUgNjMgYW5kIGJlbG93LFxuICAgIC8vIHdlIHByZXZlbnQgaXQgZnJvbSBiZWluZyBkZWxlZ2F0ZWQgdG8gQ2hyb21lUlRDUGVlckNvbm5lY3Rpb24uXG4gICAgLy8gRXhpc3RpbmcgYnVnOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD03NzQzMDNcbiAgICAvLyBCdWcgZmlsZWQgYnkgdXM6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTc4MzQzM1xuICAgIHV0aWwuaW50ZXJjZXB0RXZlbnQodGhpcywgJ3RyYWNrJyk7XG4gIH1cblxuICBwZWVyQ29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdkYXRhY2hhbm5lbCcsIGZ1bmN0aW9uIG9uZGF0YWNoYW5uZWwoZXZlbnQpIHtcbiAgICBzaGltRGF0YUNoYW5uZWwoZXZlbnQuY2hhbm5lbCk7XG4gICAgc2VsZi5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfSk7XG5cbiAgcGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignc2lnbmFsaW5nc3RhdGVjaGFuZ2UnLCBmdW5jdGlvbiBvbnNpZ25hbGluZ3N0YXRlY2hhbmdlKCkge1xuICAgIGlmICghc2VsZi5fcGVuZGluZ0xvY2FsT2ZmZXIgJiYgIXNlbGYuX3BlbmRpbmdSZW1vdGVPZmZlcikge1xuICAgICAgc2VsZi5kaXNwYXRjaEV2ZW50LmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9KTtcblxuICBwZWVyQ29ubmVjdGlvbi5vbnRyYWNrID0gZnVuY3Rpb24gb250cmFjaygpIHtcbiAgICAvLyBOT1RFKG1yb2JlcnRzKTogYWRhcHRlci5qcydzIFwidHJhY2tcIiBldmVudCBzaGltIG9ubHkga2lja3Mgb2ZmIGlmIHdlIHNldFxuICAgIC8vIHRoZSBvbnRyYWNrIHByb3BlcnR5IG9mIHRoZSBSVENQZWVyQ29ubmVjdGlvbi5cbiAgfTtcblxuICBwZWVyQ29ubmVjdGlvbi5hZGRTdHJlYW0odGhpcy5fbG9jYWxTdHJlYW0pO1xuICB1dGlsLnByb3h5UHJvcGVydGllcyhQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsIHRoaXMsIHBlZXJDb25uZWN0aW9uKTtcbn1cblxuaW5oZXJpdHMoQ2hyb21lUlRDUGVlckNvbm5lY3Rpb24sIEV2ZW50VGFyZ2V0KTtcblxuLy8gTk9URShtbWFsYXZhbGxpKTogVGhpcyBzaGltIHN1cHBvcnRzIG91ciBsaW1pdGVkIGNhc2Ugb2YgYWRkaW5nXG4vLyBhbGwgTWVkaWFTdHJlYW1UcmFja3MgdG8gb25lIE1lZGlhU3RyZWFtLiBJdCBoYXMgYmVlbiBpbXBsZW1lbnRlZCB0aGlzXG4vLyBrZWVwaW5nIGluIG1pbmQgdGhhdCB0aGlzIGlzIHRvIGJlIG1haW50YWluZWQgb25seSB1bnRpbCBcImFkZFRyYWNrXCIgaXNcbi8vIHN1cHBvcnRlZCBuYXRpdmVseSBpbiBDaHJvbWUuXG4vLyBOT1RFKG1tYWxhdmFsbGkpOiBUaGlzIHNoaW0gYWxzbyB3b3JrcyBhcm91bmQgYSBDaHJvbWUgYnVnIGluIFwidW5pZmllZC1wbGFuXCJcbi8vIFNEUHMgd2hlcmUgYWRkaW5nIGEgTWVkaWFTdHJlYW1UcmFjayB0aGF0IHdhcyBwcmV2aW91c2x5IGFkZGVkIGFuZCByZW1vdmVkXG4vLyBnZW5lcmF0ZXMgYW4gU0RQIHdoZXJlIHRoZSBNU0lEIGRvZXMgbm90IG1hdGNoIHRoZSBNZWRpYVN0cmVhbVRyYWNrIElELlxuLy9cbi8vIENocm9tZSBidWc6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTg5NDIzMVxuLy9cbkNocm9tZVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjayA9IGZ1bmN0aW9uIGFkZFRyYWNrKCkge1xuICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgdmFyIHRyYWNrID0gYXJnc1swXTtcbiAgdmFyIHNlbmRlciA9IHRoaXMuX3NlbmRlcnMuZ2V0KHRyYWNrKTtcblxuICBpZiAodGhpcy5fcGVlckNvbm5lY3Rpb24uc2lnbmFsaW5nU3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWRkIE1lZGlhU3RyZWFtVHJhY2sgWycgKyB0cmFjay5pZCArICcsICdcbiAgICAgICsgdHJhY2sua2luZCArICddOiBSVENQZWVyQ29ubmVjdGlvbiBpcyBjbG9zZWQnKTtcbiAgfVxuICBpZiAoc2VuZGVyICYmIHNlbmRlci50cmFjaykge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFkZCBNZWRpYVN0cmVhbVRyYWNrIFsnICsgdHJhY2suaWQgKyAnLCAnXG4gICAgICArIHRyYWNrLmtpbmQgKyAnXTogUlRDUGVlckNvbm5lY3Rpb24gYWxyZWFkeSBoYXMgaXQnKTtcbiAgfVxuICBpZiAodGhpcy5fcGVlckNvbm5lY3Rpb24uYWRkVHJhY2spIHtcbiAgICBpZiAodGhpcy5fc2RwU2VtYW50aWNzID09PSAndW5pZmllZC1wbGFuJykge1xuICAgICAgc2VuZGVyID0gZ2V0QWN0aXZlU2VuZGVycyh0aGlzLl9wZWVyQ29ubmVjdGlvbikuZ2V0KHRyYWNrKVxuICAgICAgICB8fCB0aGlzLl9wZWVyQ29ubmVjdGlvbi5hZGRUcmFjay5hcHBseSh0aGlzLl9wZWVyQ29ubmVjdGlvbiwgYXJncyk7XG4gICAgICB0aGlzLl9zZW5kZXJzLnNldCh0cmFjaywgc2VuZGVyKTtcbiAgICAgIHJldHVybiBzZW5kZXI7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9wZWVyQ29ubmVjdGlvbi5hZGRUcmFjay5hcHBseSh0aGlzLl9wZWVyQ29ubmVjdGlvbiwgYXJncyk7XG4gIH1cblxuICB0aGlzLl9wZWVyQ29ubmVjdGlvbi5yZW1vdmVTdHJlYW0odGhpcy5fbG9jYWxTdHJlYW0pO1xuICB0aGlzLl9sb2NhbFN0cmVhbS5hZGRUcmFjayh0cmFjayk7XG4gIHRoaXMuX3BlZXJDb25uZWN0aW9uLmFkZFN0cmVhbSh0aGlzLl9sb2NhbFN0cmVhbSk7XG5cbiAgc2VuZGVyID0gbmV3IFJUQ1J0cFNlbmRlclNoaW0odHJhY2spO1xuICB0aGlzLl9zZW5kZXJzLnNldCh0cmFjaywgc2VuZGVyKTtcbiAgcmV0dXJuIHNlbmRlcjtcbn07XG5cbi8vIE5PVEUobW1hbGF2YWxsaSk6IFRoaXMgc2hpbSB3b3JrcyBhcm91bmQgYSBDaHJvbWUgYnVnIGluIFwidW5pZmllZC1wbGFuXCJcbi8vIFNEUHMgd2hlcmUgYWRkaW5nIGEgTWVkaWFTdHJlYW1UcmFjayB0aGF0IHdhcyBwcmV2aW91c2x5IGFkZGVkIGFuZCByZW1vdmVkXG4vLyBnZW5lcmF0ZXMgYW4gU0RQIHdoZXJlIHRoZSBNU0lEIGRvZXMgbm90IG1hdGNoIHRoZSBNZWRpYVN0cmVhbVRyYWNrIElELlxuLy9cbi8vIENocm9tZSBidWc6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTg5NDIzMVxuLy9cbmlmIChQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhbnNjZWl2ZXIpIHtcbiAgQ2hyb21lUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYW5zY2VpdmVyID0gZnVuY3Rpb24gYWRkVHJhbnNjZWl2ZXIoKSB7XG4gICAgdmFyIHRyYW5zY2VpdmVyID0gdGhpcy5fcGVlckNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIuYXBwbHkodGhpcy5fcGVlckNvbm5lY3Rpb24sIGFyZ3VtZW50cyk7XG4gICAgdmFyIHNlbmRlciA9IHRyYW5zY2VpdmVyLnNlbmRlcjtcbiAgICB2YXIgdHJhY2sgPSBzZW5kZXIudHJhY2s7XG4gICAgdGhpcy5fc2VuZGVycy5zZXQodHJhY2ssIHNlbmRlcik7XG4gICAgcmV0dXJuIHRyYW5zY2VpdmVyO1xuICB9O1xufVxuXG4vLyBOT1RFKG1tYWxhdmFsbGkpOiBUaGlzIHNoaW0gc3VwcG9ydHMgb3VyIGxpbWl0ZWQgY2FzZSBvZiByZW1vdmluZ1xuLy8gTWVkaWFTdHJlYW1UcmFja3MgZnJvbSBvbmUgTWVkaWFTdHJlYW0uIEl0IGhhcyBiZWVuIGltcGxlbWVudGVkIHRoaXNcbi8vIGtlZXBpbmcgaW4gbWluZCB0aGF0IHRoaXMgaXMgdG8gYmUgbWFpbnRhaW5lZCBvbmx5IHVudGlsIFwicmVtb3ZlVHJhY2tcIiBpc1xuLy8gc3VwcG9ydGVkIG5hdGl2ZWx5IGluIENocm9tZS5cbi8vIE5PVEUobW1hbGF2YWxsaSk6IFRoaXMgc2hpbSBhbHNvIHdvcmtzIGFyb3VuZCBhIENocm9tZSBidWcgaW4gXCJ1bmlmaWVkLXBsYW5cIlxuLy8gU0RQcyB3aGVyZSBhZGRpbmcgYSBNZWRpYVN0cmVhbVRyYWNrIHRoYXQgd2FzIHByZXZpb3VzbHkgYWRkZWQgYW5kIHJlbW92ZWRcbi8vIGdlbmVyYXRlcyBhbiBTRFAgd2hlcmUgdGhlIE1TSUQgZG9lcyBub3QgbWF0Y2ggdGhlIE1lZGlhU3RyZWFtVHJhY2sgSUQuXG4vL1xuLy8gQ2hyb21lIGJ1ZzogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9ODk0MjMxXG4vL1xuQ2hyb21lUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrID0gZnVuY3Rpb24gcmVtb3ZlVHJhY2soc2VuZGVyKSB7XG4gIGlmICh0aGlzLl9wZWVyQ29ubmVjdGlvbi5zaWduYWxpbmdTdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCByZW1vdmUgTWVkaWFTdHJlYW1UcmFjazogUlRDUGVlckNvbm5lY3Rpb24gaXMgY2xvc2VkJyk7XG4gIH1cblxuICBpZiAodGhpcy5fcGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2spIHtcbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMuX3NkcFNlbWFudGljcyA9PT0gJ3VuaWZpZWQtcGxhbicpIHtcbiAgICAgICAgaWYgKHNlbmRlci50cmFjaykge1xuICAgICAgICAgIHRoaXMuX3NlbmRlcnMuc2V0KHNlbmRlci50cmFjaywgbmV3IFJUQ1J0cFNlbmRlclNoaW0obnVsbCkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9wZWVyQ29ubmVjdGlvbi5yZW1vdmVUcmFjayhzZW5kZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIE5PVEUobWh1eW5oKTogRG8gbm90aGluZy5cbiAgICAgIC8vIEluIENocm9tZSwgd2lsbCB0aHJvdyBhICdzZW5kZXIgd2FzIG5vdCBjcmVhdGVkIGJ5IHRoaXMgcGVlciBjb25uZWN0aW9uJ1xuICAgICAgLy8gVGhpcyBiZWhhdmlvciBkb2VzIG5vdCBzZWVtIHRvIGJlIHNwZWMgY29tcGxpYW50LCBzbyBhIHRlbXBvcmFyeSBzaGltXG4gICAgICAvLyBpcyBpbnRyb2R1Y2VkLlxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgdHJhY2sgPSBzZW5kZXIudHJhY2s7XG4gIGlmICghdHJhY2spIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2VuZGVyID0gdGhpcy5fc2VuZGVycy5nZXQodHJhY2spO1xuICBpZiAoc2VuZGVyICYmIHNlbmRlci50cmFjaykge1xuICAgIHNlbmRlci50cmFjayA9IG51bGw7XG4gICAgdGhpcy5fcGVlckNvbm5lY3Rpb24ucmVtb3ZlU3RyZWFtKHRoaXMuX2xvY2FsU3RyZWFtKTtcbiAgICB0aGlzLl9sb2NhbFN0cmVhbS5yZW1vdmVUcmFjayh0cmFjayk7XG4gICAgdGhpcy5fcGVlckNvbm5lY3Rpb24uYWRkU3RyZWFtKHRoaXMuX2xvY2FsU3RyZWFtKTtcbiAgfVxufTtcblxuQ2hyb21lUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnMgPSBmdW5jdGlvbiBnZXRTZW5kZXJzKCkge1xuICByZXR1cm4gdGhpcy5fcGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycyAmJiB0aGlzLl9zZHBTZW1hbnRpY3MgPT09ICdwbGFuLWInXG4gICAgPyB0aGlzLl9wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKClcbiAgICA6IEFycmF5LmZyb20odGhpcy5fc2VuZGVycy52YWx1ZXMoKSk7XG59O1xuXG5DaHJvbWVSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlID0gZnVuY3Rpb24gYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSkge1xuICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgdmFyIHByb21pc2U7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAodGhpcy5zaWduYWxpbmdTdGF0ZSA9PT0gJ2hhdmUtcmVtb3RlLW9mZmVyJykge1xuICAgIC8vIE5PVEUobXJvYmVydHMpOiBCZWNhdXNlIHRoZSBDaHJvbWVSVENQZWVyQ29ubmVjdGlvbiBzaW11bGF0ZXMgdGhlXG4gICAgLy8gXCJoYXZlLXJlbW90ZS1vZmZlclwiIHNpZ25hbGluZ1N0YXRlcywgd2Ugb25seSB3YW50IHRvIGludm9rZSB0aGUgdHJ1ZVxuICAgIC8vIGFkZEljZUNhbmRpZGF0ZXMgbWV0aG9kIHdoZW4gdGhlIHJlbW90ZSBkZXNjcmlwdGlvbiBoYXMgYmVlbiBhcHBsaWVkLlxuICAgIHByb21pc2UgPSB0aGlzLl9zaWduYWxpbmdTdGF0ZUxhdGNoLndoZW4oJ2xvdycpLnRoZW4oZnVuY3Rpb24gc2lnbmFsaW5nU3RhdGVzUmVzb2x2ZWQoKSB7XG4gICAgICByZXR1cm4gc2VsZi5fcGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcHJvbWlzZSA9IHRoaXMuX3BlZXJDb25uZWN0aW9uLmFkZEljZUNhbmRpZGF0ZShjYW5kaWRhdGUpO1xuICB9XG5cbiAgcmV0dXJuIGFyZ3MubGVuZ3RoID4gMVxuICAgID8gdXRpbC5sZWdhY3lQcm9taXNlKHByb21pc2UsIGFyZ3NbMV0sIGFyZ3NbMl0pXG4gICAgOiBwcm9taXNlO1xufTtcblxuLy8gTk9URShtcm9iZXJ0cyk6IFRoZSBXZWJSVEMgc3BlYyBkb2VzIG5vdCBzcGVjaWZ5IHRoYXQgY2xvc2Ugc2hvdWxkIHRocm93IGFuXG4vLyBFcnJvcjsgaG93ZXZlciwgaW4gQ2hyb21lIGl0IGRvZXMuIFdlIHdvcmthcm91bmQgdGhpcyBieSBjaGVja2luZyB0aGVcbi8vIHNpZ25hbGluZ1N0YXRlIG1hbnVhbGx5LlxuQ2hyb21lUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gY2xvc2UoKSB7XG4gIGlmICh0aGlzLnNpZ25hbGluZ1N0YXRlICE9PSAnY2xvc2VkJykge1xuICAgIHRoaXMuX3BlbmRpbmdMb2NhbE9mZmVyID0gbnVsbDtcbiAgICB0aGlzLl9wZW5kaW5nUmVtb3RlT2ZmZXIgPSBudWxsO1xuICAgIHRoaXMuX3BlZXJDb25uZWN0aW9uLmNsb3NlKCk7XG4gIH1cbn07XG5cbi8vIE5PVEUobXJvYmVydHMpOiBCZWNhdXNlIHdlIHdvcmthcm91bmQgQ2hyb21lJ3MgbGFjayBvZiByb2xsYmFjayBzdXBwb3J0IGJ5XG4vLyBcImZha2luZ1wiIHNldFJlbW90ZURlc2NyaXB0aW9uLCB3ZSBjYW5ub3QgY3JlYXRlIGFuIGFuc3dlciB1bnRpbCB3ZSBhY3R1YWxseVxuLy8gYXBwbHkgdGhlIHJlbW90ZSBkZXNjcmlwdGlvbi4gVGhpcyBtZWFucywgb25jZSB5b3UgY2FsbCBjcmVhdGVBbnN3ZXIsIHlvdVxuLy8gY2FuIG5vIGxvbmdlciByb2xsYmFjay4gVGhpcyBpcyBhY2NlcHRhYmxlIGZvciBvdXIgdXNlIGNhc2UgYmVjYXVzZSB3ZSB3aWxsXG4vLyBhcHBseSB0aGUgbmV3bHktY3JlYXRlZCBhbnN3ZXIgYWxtb3N0IGltbWVkaWF0ZWx5OyBob3dldmVyLCB0aGlzIG1heSBiZVxuLy8gdW5hY2NlcHRhYmxlIGZvciBvdGhlciB1c2UgY2FzZXMuXG5DaHJvbWVSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlQW5zd2VyID0gZnVuY3Rpb24gY3JlYXRlQW5zd2VyKCkge1xuICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgdmFyIHByb21pc2U7XG4gIHZhciBpc1BsYW5CID0gdGhpcy5fc2RwU2VtYW50aWNzID09PSAncGxhbi1iJztcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmICh0aGlzLl9wZW5kaW5nUmVtb3RlT2ZmZXIpIHtcbiAgICB2YXIgbWVkaWFTdHJlYW1UcmFja3MgPSBpc1BsYW5CID8gdXRpbC5mbGF0TWFwKHRoaXMuZ2V0UmVtb3RlU3RyZWFtcygpLCBmdW5jdGlvbihtZWRpYVN0cmVhbSkge1xuICAgICAgcmV0dXJuIG1lZGlhU3RyZWFtLmdldFRyYWNrcygpO1xuICAgIH0pIDogW107XG5cbiAgICBwcm9taXNlID0gdGhpcy5fcGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24odGhpcy5fcGVuZGluZ1JlbW90ZU9mZmVyKS50aGVuKGZ1bmN0aW9uIHNldFJlbW90ZURlc2NyaXB0aW9uU3VjY2VlZGVkKCkge1xuICAgICAgaWYgKGlzUGxhbkIpIHtcbiAgICAgICAgbWF5YmVEaXNwYXRjaFRyYWNrRXZlbnRzKHNlbGYsIG1lZGlhU3RyZWFtVHJhY2tzKTtcbiAgICAgIH1cbiAgICAgIC8vIE5PVEUobXJvYmVydHMpOiBUaGUgc2lnbmFsaW5nU3RhdGVzIGJldHdlZW4gdGhlIENocm9tZVJUQ1BlZXJDb25uZWN0aW9uXG4gICAgICAvLyBhbmQgdGhlIHVuZGVybHlpbmcgUlRDUGVlckNvbm5lY3Rpb24gaW1wbGVtZW50YXRpb24gaGF2ZSBjb252ZXJnZWQuIFdlXG4gICAgICAvLyBjYW4gdW5ibG9jayBhbnkgcGVuZGluZyBjYWxscyB0byBhZGRJY2VDYW5kaWRhdGUgbm93LlxuICAgICAgc2VsZi5fc2lnbmFsaW5nU3RhdGVMYXRjaC5sb3dlcigpO1xuICAgICAgcmV0dXJuIHNlbGYuX3BlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gY3JlYXRlQW5zd2VyU3VjY2VlZGVkKGFuc3dlcikge1xuICAgICAgc2VsZi5fcGVuZGluZ1JlbW90ZU9mZmVyID0gbnVsbDtcbiAgICAgIHJldHVybiBuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHtcbiAgICAgICAgdHlwZTogJ2Fuc3dlcicsXG4gICAgICAgIHNkcDogdXBkYXRlVHJhY2tJZHNUb1NTUkNzKHNlbGYuX3NkcFNlbWFudGljcywgc2VsZi5fdHJhY2tzVG9TU1JDcywgYW5zd2VyLnNkcClcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uIHNldFJlbW90ZURlc2NyaXB0aW9uT3JDcmVhdGVBbnN3ZXJGYWlsZWQoZXJyb3IpIHtcbiAgICAgIHNlbGYuX3BlbmRpbmdSZW1vdGVPZmZlciA9IG51bGw7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBwcm9taXNlID0gdGhpcy5fcGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCkudGhlbihmdW5jdGlvbihhbnN3ZXIpIHtcbiAgICAgIHJldHVybiBuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHtcbiAgICAgICAgdHlwZTogJ2Fuc3dlcicsXG4gICAgICAgIHNkcDogdXBkYXRlVHJhY2tJZHNUb1NTUkNzKHNlbGYuX3NkcFNlbWFudGljcywgc2VsZi5fdHJhY2tzVG9TU1JDcywgYW5zd2VyLnNkcClcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGFyZ3MubGVuZ3RoID4gMVxuICAgID8gdXRpbC5sZWdhY3lQcm9taXNlKHByb21pc2UsIGFyZ3NbMF0sIGFyZ3NbMV0pXG4gICAgOiBwcm9taXNlO1xufTtcblxuQ2hyb21lUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyID0gZnVuY3Rpb24gY3JlYXRlT2ZmZXIoKSB7XG4gIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICB2YXIgb3B0aW9ucyA9IChhcmdzLmxlbmd0aCA+IDEgPyBhcmdzWzJdIDogYXJnc1swXSkgfHwge307XG4gIHZhciBzZWxmID0gdGhpcztcblxuICB2YXIgcHJvbWlzZSA9IHRoaXMuX3BlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24ob2ZmZXIpIHtcbiAgICByZXR1cm4gbmV3IENocm9tZVJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7XG4gICAgICB0eXBlOiBvZmZlci50eXBlLFxuICAgICAgc2RwOiB1cGRhdGVUcmFja0lkc1RvU1NSQ3Moc2VsZi5fc2RwU2VtYW50aWNzLCBzZWxmLl90cmFja3NUb1NTUkNzLCBvZmZlci5zZHApXG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiBhcmdzLmxlbmd0aCA+IDFcbiAgICA/IHV0aWwubGVnYWN5UHJvbWlzZShwcm9taXNlLCBhcmdzWzBdLCBhcmdzWzFdKVxuICAgIDogcHJvbWlzZTtcbn07XG5cbkNocm9tZVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVEYXRhQ2hhbm5lbCA9IGZ1bmN0aW9uIGNyZWF0ZURhdGFDaGFubmVsKGxhYmVsLCBkYXRhQ2hhbm5lbERpY3QpIHtcbiAgZGF0YUNoYW5uZWxEaWN0ID0gc2hpbURhdGFDaGFubmVsSW5pdChkYXRhQ2hhbm5lbERpY3QpO1xuICB2YXIgZGF0YUNoYW5uZWwgPSB0aGlzLl9wZWVyQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbChsYWJlbCwgZGF0YUNoYW5uZWxEaWN0KTtcbiAgc2hpbURhdGFDaGFubmVsKGRhdGFDaGFubmVsKTtcbiAgcmV0dXJuIGRhdGFDaGFubmVsO1xufTtcblxuQ2hyb21lUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb24gPSBmdW5jdGlvbiBzZXRMb2NhbERlc2NyaXB0aW9uKCkge1xuICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgdmFyIGRlc2NyaXB0aW9uID0gYXJnc1swXTtcbiAgdmFyIHByb21pc2UgPSBzZXREZXNjcmlwdGlvbih0aGlzLCB0cnVlLCBkZXNjcmlwdGlvbik7XG4gIHJldHVybiBhcmdzLmxlbmd0aCA+IDFcbiAgICA/IHV0aWwubGVnYWN5UHJvbWlzZShwcm9taXNlLCBhcmdzWzFdLCBhcmdzWzJdKVxuICAgIDogcHJvbWlzZTtcbn07XG5cbkNocm9tZVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRSZW1vdGVEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uIHNldFJlbW90ZURlc2NyaXB0aW9uKCkge1xuICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgdmFyIGRlc2NyaXB0aW9uID0gYXJnc1swXTtcbiAgdmFyIHByb21pc2UgPSBzZXREZXNjcmlwdGlvbih0aGlzLCBmYWxzZSwgZGVzY3JpcHRpb24pO1xuICByZXR1cm4gYXJncy5sZW5ndGggPiAxXG4gICAgPyB1dGlsLmxlZ2FjeVByb21pc2UocHJvbWlzZSwgYXJnc1sxXSwgYXJnc1syXSlcbiAgICA6IHByb21pc2U7XG59O1xuXG51dGlsLmRlbGVnYXRlTWV0aG9kcyhcbiAgUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFxuICBDaHJvbWVSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsXG4gICdfcGVlckNvbm5lY3Rpb24nKTtcblxuLy8gRGlzcGF0Y2ggJ3RyYWNrJyBldmVudHMgdG8gQ2hyb21lUlRDUGVlckNvbm5lY3Rpb24gaWYgbmV3XG4vLyBNZWRpYVN0cmVhbVRyYWNrcyBoYXZlIGJlZW4gYWRkZWQuIFRoaXMgaXMgYSB0ZW1wb3Jhcnkgd29ya2Fyb3VuZFxuLy8gZm9yIHRoZSB1bnJlbGlhYmxlIE1lZGlhU3RyZWFtVHJhY2sjYWRkdHJhY2sgZXZlbnQuIERvIHRoaXMgb25seSBpZlxuLy8gdGhlIG5hdGl2ZSBSVENQZWVyQ29ubmVjdGlvbiBoYXMgbm90IGltcGxlbWVudGVkICdvbnRyYWNrJy5cbmZ1bmN0aW9uIG1heWJlRGlzcGF0Y2hUcmFja0V2ZW50cyhwZWVyQ29ubmVjdGlvbiwgbWVkaWFTdHJlYW1UcmFja3MpIHtcbiAgdmFyIGN1cnJlbnRNZWRpYVN0cmVhbVRyYWNrcyA9IHV0aWwuZmxhdE1hcChwZWVyQ29ubmVjdGlvbi5nZXRSZW1vdGVTdHJlYW1zKCksIGZ1bmN0aW9uKG1lZGlhU3RyZWFtKSB7XG4gICAgcmV0dXJuIG1lZGlhU3RyZWFtLmdldFRyYWNrcygpO1xuICB9KTtcbiAgdmFyIG1lZGlhU3RyZWFtVHJhY2tzQWRkZWQgPSB1dGlsLmRpZmZlcmVuY2UoY3VycmVudE1lZGlhU3RyZWFtVHJhY2tzLCBtZWRpYVN0cmVhbVRyYWNrcyk7XG5cbiAgbWVkaWFTdHJlYW1UcmFja3NBZGRlZC5mb3JFYWNoKGZ1bmN0aW9uKG1lZGlhU3RyZWFtVHJhY2spIHtcbiAgICB2YXIgbmV3RXZlbnQgPSBuZXcgRXZlbnQoJ3RyYWNrJyk7XG4gICAgbmV3RXZlbnQudHJhY2sgPSBtZWRpYVN0cmVhbVRyYWNrO1xuICAgIHBlZXJDb25uZWN0aW9uLmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuICB9KTtcbn1cblxuLy8gTk9URShtcm9iZXJ0cyk6IFdlIHdvcmthcm91bmQgQ2hyb21lJ3MgbGFjayBvZiByb2xsYmFjayBzdXBwb3J0LCBwZXIgdGhlXG4vLyB3b3JrYXJvdW5kIHN1Z2dlc3RlZCBoZXJlOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3Avd2VicnRjL2lzc3Vlcy9kZXRhaWw/aWQ9NTczOCNjM1xuLy8gTmFtZWx5LCB3ZSBcImZha2VcIiBzZXR0aW5nIHRoZSBsb2NhbCBvciByZW1vdGUgZGVzY3JpcHRpb24gYW5kIGluc3RlYWQgYnVmZmVyXG4vLyBpdC4gSWYgd2UgcmVjZWl2ZSBvciBjcmVhdGUgYW4gYW5zd2VyLCB0aGVuIHdlIHdpbGwgYWN0dWFsbHkgYXBwbHkgdGhlXG4vLyBkZXNjcmlwdGlvbi4gVW50aWwgd2UgcmVjZWl2ZSBvciBjcmVhdGUgYW4gYW5zd2VyLCB3ZSB3aWxsIGJlIGFibGUgdG9cbi8vIFwicm9sbGJhY2tcIiBieSBzaW1wbHkgZGlzY2FyZGluZyB0aGUgYnVmZmVyIGRlc2NyaXB0aW9uLlxuZnVuY3Rpb24gc2V0RGVzY3JpcHRpb24ocGVlckNvbm5lY3Rpb24sIGxvY2FsLCBkZXNjcmlwdGlvbikge1xuICBmdW5jdGlvbiBzZXRQZW5kaW5nTG9jYWxPZmZlcihvZmZlcikge1xuICAgIGlmIChsb2NhbCkge1xuICAgICAgcGVlckNvbm5lY3Rpb24uX3BlbmRpbmdMb2NhbE9mZmVyID0gb2ZmZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZXJDb25uZWN0aW9uLl9wZW5kaW5nUmVtb3RlT2ZmZXIgPSBvZmZlcjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhclBlbmRpbmdMb2NhbE9mZmVyKCkge1xuICAgIGlmIChsb2NhbCkge1xuICAgICAgcGVlckNvbm5lY3Rpb24uX3BlbmRpbmdMb2NhbE9mZmVyID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcGVlckNvbm5lY3Rpb24uX3BlbmRpbmdSZW1vdGVPZmZlciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgdmFyIHBlbmRpbmdMb2NhbE9mZmVyID0gbG9jYWwgPyBwZWVyQ29ubmVjdGlvbi5fcGVuZGluZ0xvY2FsT2ZmZXIgOiBwZWVyQ29ubmVjdGlvbi5fcGVuZGluZ1JlbW90ZU9mZmVyO1xuICB2YXIgcGVuZGluZ1JlbW90ZU9mZmVyID0gbG9jYWwgPyBwZWVyQ29ubmVjdGlvbi5fcGVuZGluZ1JlbW90ZU9mZmVyIDogcGVlckNvbm5lY3Rpb24uX3BlbmRpbmdMb2NhbE9mZmVyO1xuICB2YXIgaW50ZXJtZWRpYXRlU3RhdGUgPSBsb2NhbCA/ICdoYXZlLWxvY2FsLW9mZmVyJyA6ICdoYXZlLXJlbW90ZS1vZmZlcic7XG4gIHZhciBzZXRMb2NhbERlc2NyaXB0aW9uID0gbG9jYWwgPyAnc2V0TG9jYWxEZXNjcmlwdGlvbicgOiAnc2V0UmVtb3RlRGVzY3JpcHRpb24nO1xuICB2YXIgcHJvbWlzZTtcblxuICB2YXIgaXNQbGFuQiA9IHBlZXJDb25uZWN0aW9uLl9zZHBTZW1hbnRpY3MgPT09ICdwbGFuLWInO1xuICB2YXIgbWVkaWFTdHJlYW1UcmFja3MgPSBpc1BsYW5CID8gdXRpbC5mbGF0TWFwKHBlZXJDb25uZWN0aW9uLmdldFJlbW90ZVN0cmVhbXMoKSwgZnVuY3Rpb24obWVkaWFTdHJlYW0pIHtcbiAgICByZXR1cm4gbWVkaWFTdHJlYW0uZ2V0VHJhY2tzKCk7XG4gIH0pIDogW107XG5cbiAgaWYgKCFsb2NhbCAmJiBwZW5kaW5nUmVtb3RlT2ZmZXIgJiYgZGVzY3JpcHRpb24udHlwZSA9PT0gJ2Fuc3dlcicpIHtcbiAgICBwcm9taXNlID0gc2V0UmVtb3RlQW5zd2VyKHBlZXJDb25uZWN0aW9uLCBkZXNjcmlwdGlvbik7XG4gIH0gZWxzZSBpZiAoZGVzY3JpcHRpb24udHlwZSA9PT0gJ29mZmVyJykge1xuICAgIGlmIChwZWVyQ29ubmVjdGlvbi5zaWduYWxpbmdTdGF0ZSAhPT0gaW50ZXJtZWRpYXRlU3RhdGUgJiYgcGVlckNvbm5lY3Rpb24uc2lnbmFsaW5nU3RhdGUgIT09ICdzdGFibGUnKSB7XG4gICAgICAvLyBOT1RFKG1yb2JlcnRzKTogRXJyb3IgbWVzc2FnZSBjb3BpZWQgZnJvbSBGaXJlZm94LlxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQ2Fubm90IHNldCAnICsgKGxvY2FsID8gJ2xvY2FsJyA6ICdyZW1vdGUnKSArXG4gICAgICAgICcgb2ZmZXIgaW4gc3RhdGUgJyArIHBlZXJDb25uZWN0aW9uLnNpZ25hbGluZ1N0YXRlKSk7XG4gICAgfVxuXG4gICAgLy8gV2UgbmVlZCB0byBzYXZlIHRoaXMgbG9jYWwgb2ZmZXIgaW4gY2FzZSBvZiBhIHJvbGxiYWNrLiBXZSBhbHNvIG5lZWQgdG9cbiAgICAvLyBjaGVjayB0byBzZWUgaWYgdGhlIHNpZ25hbGluZ1N0YXRlIGJldHdlZW4gdGhlIENocm9tZVJUQ1BlZXJDb25uZWN0aW9uXG4gICAgLy8gYW5kIHRoZSB1bmRlcmx5aW5nIFJUQ1BlZXJDb25uZWN0aW9uIGltcGxlbWVudGF0aW9uIGFyZSBhYm91dCB0byBkaXZlcmdlLlxuICAgIC8vIElmIHNvLCB3ZSBuZWVkIHRvIGVuc3VyZSBzdWJzZXF1ZW50IGNhbGxzIHRvIGFkZEljZUNhbmRpZGF0ZSB3aWxsIGJsb2NrLlxuICAgIGlmICghcGVuZGluZ0xvY2FsT2ZmZXIgJiYgcGVlckNvbm5lY3Rpb24uX3NpZ25hbGluZ1N0YXRlTGF0Y2guc3RhdGUgPT09ICdsb3cnKSB7XG4gICAgICBwZWVyQ29ubmVjdGlvbi5fc2lnbmFsaW5nU3RhdGVMYXRjaC5yYWlzZSgpO1xuICAgIH1cbiAgICB2YXIgcHJldmlvdXNTaWduYWxpbmdTdGF0ZSA9IHBlZXJDb25uZWN0aW9uLnNpZ25hbGluZ1N0YXRlO1xuICAgIHNldFBlbmRpbmdMb2NhbE9mZmVyKHVud3JhcChkZXNjcmlwdGlvbikpO1xuICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcblxuICAgIC8vIE9ubHkgZGlzcGF0Y2ggYSBzaWduYWxpbmdzdGF0ZWNoYW5nZSBldmVudCBpZiB3ZSB0cmFuc2l0aW9uZWQuXG4gICAgaWYgKHBlZXJDb25uZWN0aW9uLnNpZ25hbGluZ1N0YXRlICE9PSBwcmV2aW91c1NpZ25hbGluZ1N0YXRlKSB7XG4gICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gZGlzcGF0Y2hTaWduYWxpbmdTdGF0ZUNoYW5nZUV2ZW50KCkge1xuICAgICAgICBwZWVyQ29ubmVjdGlvbi5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnc2lnbmFsaW5nc3RhdGVjaGFuZ2UnKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgfSBlbHNlIGlmIChkZXNjcmlwdGlvbi50eXBlID09PSAncm9sbGJhY2snKSB7XG4gICAgaWYgKHBlZXJDb25uZWN0aW9uLnNpZ25hbGluZ1N0YXRlICE9PSBpbnRlcm1lZGlhdGVTdGF0ZSkge1xuICAgICAgLy8gTk9URShtcm9iZXJ0cyk6IEVycm9yIG1lc3NhZ2UgY29waWVkIGZyb20gRmlyZWZveC5cbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0Nhbm5vdCByb2xsYmFjayAnICtcbiAgICAgICAgKGxvY2FsID8gJ2xvY2FsJyA6ICdyZW1vdGUnKSArICcgZGVzY3JpcHRpb24gaW4gJyArIHBlZXJDb25uZWN0aW9uLnNpZ25hbGluZ1N0YXRlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlc2V0IHRoZSBwZW5kaW5nIG9mZmVyLlxuICAgICAgY2xlYXJQZW5kaW5nTG9jYWxPZmZlcigpO1xuICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIGRpc3BhdGNoU2lnbmFsaW5nU3RhdGVDaGFuZ2VFdmVudCgpIHtcbiAgICAgICAgcGVlckNvbm5lY3Rpb24uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3NpZ25hbGluZ3N0YXRlY2hhbmdlJykpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHByb21pc2UgfHwgcGVlckNvbm5lY3Rpb24uX3BlZXJDb25uZWN0aW9uW3NldExvY2FsRGVzY3JpcHRpb25dKHVud3JhcChkZXNjcmlwdGlvbikpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFsb2NhbCAmJiBpc1BsYW5CKSB7XG4gICAgICBtYXliZURpc3BhdGNoVHJhY2tFdmVudHMocGVlckNvbm5lY3Rpb24sIG1lZGlhU3RyZWFtVHJhY2tzKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXRSZW1vdGVBbnN3ZXIocGVlckNvbm5lY3Rpb24sIGFuc3dlcikge1xuICB2YXIgaXNQbGFuQiA9IHBlZXJDb25uZWN0aW9uLl9zZHBTZW1hbnRpY3MgPT09ICdwbGFuLWInO1xuICB2YXIgbWVkaWFTdHJlYW1UcmFja3MgPSBpc1BsYW5CID8gdXRpbC5mbGF0TWFwKHBlZXJDb25uZWN0aW9uLmdldFJlbW90ZVN0cmVhbXMoKSwgZnVuY3Rpb24obWVkaWFTdHJlYW0pIHtcbiAgICByZXR1cm4gbWVkaWFTdHJlYW0uZ2V0VHJhY2tzKCk7XG4gIH0pIDogW107XG4gIC8vIEFwcGx5IHRoZSBwZW5kaW5nIGxvY2FsIG9mZmVyLlxuICB2YXIgcGVuZGluZ0xvY2FsT2ZmZXIgPSBwZWVyQ29ubmVjdGlvbi5fcGVuZGluZ0xvY2FsT2ZmZXI7XG4gIHJldHVybiBwZWVyQ29ubmVjdGlvbi5fcGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihwZW5kaW5nTG9jYWxPZmZlcikudGhlbihmdW5jdGlvbiBzZXRMb2NhbE9mZmVyU3VjY2VlZGVkKCkge1xuICAgIHBlZXJDb25uZWN0aW9uLl9wZW5kaW5nTG9jYWxPZmZlciA9IG51bGw7XG4gICAgcmV0dXJuIHBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKGFuc3dlcik7XG4gIH0pLnRoZW4oZnVuY3Rpb24gc2V0UmVtb3RlQW5zd2VyU3VjY2VlZGVkKCkge1xuICAgIGlmIChpc1BsYW5CKSB7XG4gICAgICBtYXliZURpc3BhdGNoVHJhY2tFdmVudHMocGVlckNvbm5lY3Rpb24sIG1lZGlhU3RyZWFtVHJhY2tzKTtcbiAgICB9XG4gICAgLy8gTk9URShtcm9iZXJ0cyk6IFRoZSBzaWduYWxpbmdTdGF0ZXMgYmV0d2VlbiB0aGUgQ2hyb21lUlRDUGVlckNvbm5lY3Rpb25cbiAgICAvLyBhbmQgdGhlIHVuZGVybHlpbmcgUlRDUGVlckNvbm5lY3Rpb24gaW1wbGVtZW50YXRpb24gaGF2ZSBjb252ZXJnZWQuIFdlXG4gICAgLy8gY2FuIHVuYmxvY2sgYW55IHBlbmRpbmcgY2FsbHMgdG8gYWRkSWNlQ2FuZGlkYXRlIG5vdy5cbiAgICBwZWVyQ29ubmVjdGlvbi5fc2lnbmFsaW5nU3RhdGVMYXRjaC5sb3dlcigpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdW53cmFwKGRlc2NyaXB0aW9uKSB7XG4gIGlmIChkZXNjcmlwdGlvbiBpbnN0YW5jZW9mIENocm9tZVJUQ1Nlc3Npb25EZXNjcmlwdGlvbikge1xuICAgIGlmIChkZXNjcmlwdGlvbi5fZGVzY3JpcHRpb24pIHtcbiAgICAgIHJldHVybiBkZXNjcmlwdGlvbi5fZGVzY3JpcHRpb247XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKGRlc2NyaXB0aW9uKTtcbn1cblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIG9yIG5vdCB3ZSBuZWVkIHRvIGFwcGx5IG91ciBtYXhQYWNrZXRMaWZlVGltZSBzaGltLiBXZSBhcmVcbiAqIHByZXR0eSBjb25zZXJ2YXRpdmU6IHdlJ2xsIG9ubHkgYXBwbHkgaXQgaWYgdGhlIGxlZ2FjeSBtYXhSZXRyYW5zbWl0VGltZVxuICogcHJvcGVydHkgaXMgYXZhaWxhYmxlIF9hbmRfIHRoZSBzdGFuZGFyZCBtYXhQYWNrZXRMaWZlVGltZSBwcm9wZXJ0eSBpcyBfbm90X1xuICogYXZhaWxhYmxlICh0aGUgdGhpbmtpbmcgYmVpbmcgdGhhdCBDaHJvbWUgd2lsbCBsYW5kIHRoZSBzdGFuZGFyZHMtY29tcGxpYW50XG4gKiBwcm9wZXJ0eSkuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gbmVlZHNNYXhQYWNrZXRMaWZlVGltZVNoaW0oKSB7XG4gIHJldHVybiAnbWF4UmV0cmFuc21pdFRpbWUnIGluIFJUQ0RhdGFDaGFubmVsLnByb3RvdHlwZVxuICAgICYmICEoJ21heFBhY2tldExpZmVUaW1lJyBpbiBSVENEYXRhQ2hhbm5lbC5wcm90b3R5cGUpO1xufVxuXG4vKipcbiAqIFNoaW0gYW4gUlRDRGF0YUNoYW5uZWxJbml0IGRpY3Rpb25hcnkgKGlmIG5lY2Vzc2FyeSkuIFRoaXMgZnVuY3Rpb24gcmV0dXJuc1xuICogYSBjb3B5IG9mIHRoZSBvcmlnaW5hbCBSVENEYXRhQ2hhbm5lbEluaXQuXG4gKiBAcGFyYW0ge1JUQ0RhdGFDaGFubmVsSW5pdH0gZGF0YUNoYW5uZWxEaWN0XG4gKiBAcmV0dXJucyB7UlRDRGF0YUNoYW5uZWxJbml0fVxuICovXG5mdW5jdGlvbiBzaGltRGF0YUNoYW5uZWxJbml0KGRhdGFDaGFubmVsRGljdCkge1xuICBkYXRhQ2hhbm5lbERpY3QgPSBPYmplY3QuYXNzaWduKHt9LCBkYXRhQ2hhbm5lbERpY3QpO1xuICBpZiAobmVlZHNNYXhQYWNrZXRMaWZlVGltZVNoaW0oKSAmJiAnbWF4UGFja2V0TGlmZVRpbWUnIGluIGRhdGFDaGFubmVsRGljdCkge1xuICAgIGRhdGFDaGFubmVsRGljdC5tYXhSZXRyYW5zbWl0VGltZSA9IGRhdGFDaGFubmVsRGljdC5tYXhQYWNrZXRMaWZlVGltZTtcbiAgfVxuICByZXR1cm4gZGF0YUNoYW5uZWxEaWN0O1xufVxuXG4vKipcbiAqIFNoaW0gYW4gUlRDRGF0YUNoYW5uZWwgKGlmIG5lY2Vzc2FyeSkuIFRoaXMgZnVuY3Rpb24gbXV0YXRlcyB0aGVcbiAqIFJUQ0RhdGFDaGFubmVsLlxuICogQHBhcmFtIHtSVENEYXRhQ2hhbm5lbH0gZGF0YUNoYW5uZWxcbiAqIEByZXR1cm5zIHtSVENEYXRhQ2hhbm5lbH1cbiAqL1xuZnVuY3Rpb24gc2hpbURhdGFDaGFubmVsKGRhdGFDaGFubmVsKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkYXRhQ2hhbm5lbCwgJ21heFJldHJhbnNtaXRzJywge1xuICAgIHZhbHVlOiBkYXRhQ2hhbm5lbC5tYXhSZXRyYW5zbWl0cyA9PT0gNjU1MzVcbiAgICAgID8gbnVsbFxuICAgICAgOiBkYXRhQ2hhbm5lbC5tYXhSZXRyYW5zbWl0c1xuICB9KTtcbiAgaWYgKG5lZWRzTWF4UGFja2V0TGlmZVRpbWVTaGltKCkpIHtcbiAgICAvLyBOT1RFKG1yb2JlcnRzKTogV2UgY2FuIHJlbmFtZSBgbWF4UmV0cmFuc21pdFRpbWVgIHRvIGBtYXhQYWNrZXRMaWZlVGltZWAuXG4gICAgLy9cbiAgICAvLyAgIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTY5NjY4MVxuICAgIC8vXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRhdGFDaGFubmVsLCAnbWF4UGFja2V0TGlmZVRpbWUnLCB7XG4gICAgICB2YWx1ZTogZGF0YUNoYW5uZWwubWF4UmV0cmFuc21pdFRpbWUgPT09IDY1NTM1XG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IGRhdGFDaGFubmVsLm1heFJldHJhbnNtaXRUaW1lXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGRhdGFDaGFubmVsO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGFjdGl2ZSBSVENSdHBTZW5kZXJzIG9mIHRoZSBSVENQZWVyQ29ubmVjdGlvbi5cbiAqIEBwYXJhbSBwZWVyQ29ubmVjdGlvblxuICogQHJldHVybnMge01hcDxNZWRpYVN0cmVhbVRyYWNrLCBSVENSdHBTZW5kZXI+fVxuICovXG5mdW5jdGlvbiBnZXRBY3RpdmVTZW5kZXJzKHBlZXJDb25uZWN0aW9uKSB7XG4gIHJldHVybiBuZXcgTWFwKHBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maWx0ZXIoZnVuY3Rpb24oc2VuZGVyKSB7XG4gICAgcmV0dXJuIHNlbmRlci50cmFjaztcbiAgfSkubWFwKGZ1bmN0aW9uKHNlbmRlcikge1xuICAgIHJldHVybiBbc2VuZGVyLnRyYWNrLCBzZW5kZXJdO1xuICB9KSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBhY3R1YWwgYHNkcFNlbWFudGljc2AuXG4gKiBAcGFyYW0ge1NkcFNlbWFudGljc30gc2RwU2VtYW50aWNzXG4gKiBAcmV0dXJucyB7U2RwU2VtYW50aWNzfVxuICovXG5mdW5jdGlvbiBnZXRTZHBTZW1hbnRpY3Moc2RwU2VtYW50aWNzKSB7XG4gIC8vIE5PVEUobW1hbGF2YWxsaSk6IE9uY2UgQ2hyb21lIHN0b3BzIHN1cHBvcnRpbmcgXCJwbGFuLWJcIiBTRFBzLCBpdCB3aWxsXG4gIC8vIGlnbm9yZSB0aGUgXCJzZHBTZW1hbnRpY3NcIiBmbGFnLiBTbywgaW4gb3JkZXIgdG8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuXG4gIC8vIHZlcnNpb25zIG9mIENocm9tZSB3aGljaCBzdXBwb3J0IG9ubHkgXCJwbGFuLWJcIiBTRFBzIGFuZCB2ZXJzaW9ucyBvZiBDaHJvbWVcbiAgLy8gd2hpY2ggc3VwcG9ydCBvbmx5IFwidW5pZmllZC1wbGFuXCIgU0RQcywgd2hpY2ggY2hlY2sgd2hldGhlciBQZWVyQ29ubmVjdGlvbidzXG4gIC8vIGFkZFN0cmVhbSgpIG1ldGhvZCBpcyBwcmVzZW50LlxuICByZXR1cm4gc2RwVXRpbHMuY2hlY2tJZlNkcFNlbWFudGljc0lzU3VwcG9ydGVkKClcbiAgICA/IHNkcFNlbWFudGljc1xuICAgIDogUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbSA/ICdwbGFuLWInIDogJ3VuaWZpZWQtcGxhbic7XG59XG5cbi8qKlxuICogVXBkYXRlIHRoZSBtYXBwaW5ncyBmcm9tIE1lZGlhU3RyZWFtVHJhY2sgSURzIHRvIFNTUkNzIGFzIGluZGljYXRlZCBieSBib3RoXG4gKiB0aGUgTWFwIGZyb20gTWVkaWFTdHJlYW1UcmFjayBJRHMgdG8gU1NSQ3MgYW5kIHRoZSBTRFAgaXRzZWxmLiBUaGlzIG1ldGhvZFxuICogZW5zdXJlcyB0aGF0IFNTUkNzIG5ldmVyIGNoYW5nZSBvbmNlIGFubm91bmNlZC5cbiAqIEBwYXJhbSB7U2RwU2VtYW50aWNzfSBzZHBTZW1hbnRpY3NcbiAqIEBwYXJhbSB7TWFwPHN0cmluZywgU2V0PHN0cmluZz4+fSB0cmFja0lkc1RvU1NSQ3NcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZHAgLSBhbiBTRFAgd2hvc2UgZm9ybWF0IGlzIGRldGVybWluZWQgYnkgYHNkcFNlbWFudGljc2BcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHVwZGF0ZWRTZHAgLSB1cGRhdGVkIFNEUFxuICovXG5mdW5jdGlvbiB1cGRhdGVUcmFja0lkc1RvU1NSQ3Moc2RwU2VtYW50aWNzLCB0cmFja3NUb1NTUkNzLCBzZHApIHtcbiAgcmV0dXJuIHNkcFNlbWFudGljcyA9PT0gJ3VuaWZpZWQtcGxhbidcbiAgICA/IHNkcFV0aWxzLnVwZGF0ZVVuaWZpZWRQbGFuVHJhY2tJZHNUb1NTUkNzKHRyYWNrc1RvU1NSQ3MsIHNkcClcbiAgICA6IHNkcFV0aWxzLnVwZGF0ZVBsYW5CVHJhY2tJZHNUb1NTUkNzKHRyYWNrc1RvU1NSQ3MsIHNkcCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ2hyb21lUlRDUGVlckNvbm5lY3Rpb247XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AdHdpbGlvL3dlYnJ0Yy9saWIvcnRjcGVlcmNvbm5lY3Rpb24vY2hyb21lLmpzXG4vLyBtb2R1bGUgaWQgPSAyNjlcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///269\n");

/***/ }),
/* 270 */
/*!************************************************************************!*\
  !*** ./node_modules/node-libs-browser/node_modules/process/browser.js ***!
  \************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbm9kZS1saWJzLWJyb3dzZXIvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcz85NGQ0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQ0FBcUM7O0FBRXJDO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFVBQVUiLCJmaWxlIjoiMjcwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL25vZGUtbGlicy1icm93c2VyL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanNcbi8vIG1vZHVsZSBpZCA9IDI3MFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///270\n");

/***/ }),
/* 271 */
/*!******************************************************!*\
  !*** ./node_modules/util/support/isBufferBrowser.js ***!
  \******************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXRpbC9zdXBwb3J0L2lzQnVmZmVyQnJvd3Nlci5qcz83YzJlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIyNzEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQnVmZmVyKGFyZykge1xuICByZXR1cm4gYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnXG4gICAgJiYgdHlwZW9mIGFyZy5jb3B5ID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5maWxsID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5yZWFkVUludDggPT09ICdmdW5jdGlvbic7XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdXRpbC9zdXBwb3J0L2lzQnVmZmVyQnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMjcxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///271\n");

/***/ }),
/* 272 */
/*!***************************************************!*\
  !*** ./node_modules/inherits/inherits_browser.js ***!
  \***************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW5oZXJpdHMvaW5oZXJpdHNfYnJvd3Nlci5qcz8yYzJlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjI3Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbImlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgfVxufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvaW5oZXJpdHMvaW5oZXJpdHNfYnJvd3Nlci5qc1xuLy8gbW9kdWxlIGlkID0gMjcyXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///272\n");

/***/ }),
/* 273 */
/*!**********************************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/rtcpeerconnection/firefox.js ***!
  \**********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* globals mozRTCPeerConnection, RTCPeerConnection */\n\n\nvar EventTarget = __webpack_require__(/*! ../util/eventtarget */ 222);\nvar FirefoxRTCSessionDescription = __webpack_require__(/*! ../rtcsessiondescription/firefox */ 233);\nvar RTCRtpSenderShim = __webpack_require__(/*! ../rtcrtpsender */ 223);\nvar inherits = __webpack_require__(/*! util */ 213).inherits;\nvar updateTracksToSSRCs = __webpack_require__(/*! ../util/sdp */ 224).updateUnifiedPlanTrackIdsToSSRCs;\nvar util = __webpack_require__(/*! ../util */ 210);\n\nvar PeerConnection = typeof RTCPeerConnection !== 'undefined'\n  ? RTCPeerConnection\n  : mozRTCPeerConnection;\n\n// NOTE(mroberts): This is a short-lived workaround. Checking the user agent\n// string might not fix every affected Firefox instance, but it should be good\n// enough for this bug.\nvar needsWorkaroundForBug1480277 = typeof navigator === 'object'\n  && navigator.userAgent\n  && (navigator.userAgent.match(/Firefox\\/61/) || navigator.userAgent.match(/Firefox\\/62/));\n\n// NOTE(mroberts): This class wraps Firefox's RTCPeerConnection implementation.\n// It provides some functionality not currently present in Firefox, namely the\n// abilities to\n//\n//   1. Call setLocalDescription and setRemoteDescription with new offers in\n//      signalingStates \"have-local-offer\" and \"have-remote-offer\",\n//      respectively.\n//\n//   2. The ability to call createOffer in signalingState \"have-local-offer\".\n//\n// Both of these are implemented using rollbacks to workaround the following\n// bug:\n//\n//   https://bugzilla.mozilla.org/show_bug.cgi?id=1072388\n//\n// We also provide a workaround for a bug where Firefox may change the\n// previously-negotiated DTLS role in an answer, which breaks Chrome:\n//\n//     https://bugzilla.mozilla.org/show_bug.cgi?id=1240897\n//\nfunction FirefoxRTCPeerConnection(configuration) {\n  if (!(this instanceof FirefoxRTCPeerConnection)) {\n    return new FirefoxRTCPeerConnection(configuration);\n  }\n\n  EventTarget.call(this);\n\n  util.interceptEvent(this, 'signalingstatechange');\n\n  /* eslint new-cap:0 */\n  var peerConnection = new PeerConnection(configuration);\n\n  Object.defineProperties(this, {\n    _initiallyNegotiatedDtlsRole: {\n      value: null,\n      writable: true\n    },\n    _isClosed: {\n      value: false,\n      writable: true\n    },\n    _peerConnection: {\n      value: peerConnection\n    },\n    _rollingBack: {\n      value: false,\n      writable: true\n    },\n    _senders: {\n      value: new Map()\n    },\n    _tracksToSSRCs: {\n      value: new Map()\n    },\n    iceGatheringState: {\n      enumerable: true,\n      get: function() {\n        return this._isClosed ? 'complete' : this._peerConnection.iceGatheringState;\n      }\n    },\n    localDescription: {\n      enumerable: true,\n      get: function() {\n        return overwriteWithInitiallyNegotiatedDtlsRole(this._peerConnection.localDescription, this._initiallyNegotiatedDtlsRole);\n      }\n    },\n    signalingState: {\n      enumerable: true,\n      get: function() {\n        return this._isClosed ? 'closed' : this._peerConnection.signalingState;\n      }\n    }\n  });\n\n  var self = this;\n  var previousSignalingState;\n\n  peerConnection.addEventListener('signalingstatechange', function onsignalingstatechange() {\n    if (!self._rollingBack && self.signalingState !== previousSignalingState) {\n      previousSignalingState = self.signalingState;\n\n      // NOTE(mmalavalli): In Firefox, 'signalingstatechange' event is\n      // triggered synchronously in the same tick after\n      // RTCPeerConnection#close() is called. So we mimic Chrome's behavior\n      // by triggering 'signalingstatechange' on the next tick.\n      var dispatchEventToSelf = self.dispatchEvent.apply.bind(self.dispatchEvent, self, arguments);\n      if (self._isClosed) {\n        setTimeout(dispatchEventToSelf);\n      } else {\n        dispatchEventToSelf();\n      }\n    }\n  });\n\n  util.proxyProperties(PeerConnection.prototype, this, peerConnection);\n}\n\ninherits(FirefoxRTCPeerConnection, EventTarget);\n\n// NOTE(mmalavalli): Firefox throws a TypeError when the PeerConnection's\n// prototype's \"peerIdentity\" property is accessed. In order to overcome\n// this, we ignore this property while delegating methods.\n// Reference: https://bugzilla.mozilla.org/show_bug.cgi?id=1363815\nObject.defineProperty(FirefoxRTCPeerConnection.prototype, 'peerIdentity', {\n  enumerable: true,\n  value: Promise.resolve({\n    idp: '',\n    name: ''\n  })\n});\n\n// NOTE(mmalavalli): Because we are not delegating to the native\n// RTCPeerConnection#removeTrack(), we have to manually maintain a list of added\n// tracks. So we disable the delegation to the native RTCPeerConnection#addTrack()\n// for now.\nFirefoxRTCPeerConnection.prototype.addTrack = function addTrack() {\n  var args = [].slice.call(arguments);\n  var track = args[0];\n  var sender = this._senders.get(track);\n  if (sender && sender.track) {\n    throw new Error('Cannot add MediaStreamTrack [' + track.id + ', '\n      + track.kind + ']: RTCPeerConnection already has it');\n  }\n  sender = getActiveSenders(this._peerConnection).get(track)\n    || this._peerConnection.addTrack.apply(this._peerConnection, args);\n\n  if (needsWorkaroundForBug1480277) {\n    sender.replaceTrack(track);\n  }\n\n  this._senders.set(track, sender);\n  return sender;\n};\n\nif (PeerConnection.prototype.addTransceiver) {\n  FirefoxRTCPeerConnection.prototype.addTransceiver = function addTransceiver() {\n    var transceiver = this._peerConnection.addTransceiver.apply(this._peerConnection, arguments);\n    var sender = transceiver.sender;\n    var track = sender.track;\n    if (track && needsWorkaroundForBug1480277) {\n      sender.replaceTrack(track);\n    }\n    this._senders.set(track, sender);\n    return transceiver;\n  };\n}\n\n// NOTE(mmalavalli): RTCPeerConnection#removeTrack() has a bug in the\n// Firefox <--> Chrome interop case, which is mentioned below. So we disable\n// its delegation for now. Also, we maintain only one RTCRtpSender per\n// MediaStreamTrack for our use case, and not worry about multiple RTCRtpSenders\n// due to replaceTrack().\n// Bugzilla: https://bugzilla.mozilla.org/show_bug.cgi?id=1133874\nFirefoxRTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n  if (this._isClosed) {\n    throw new Error('Cannot remove MediaStreamTrack: RTCPeerConnection is closed');\n  }\n  var track = sender.track;\n  if (!track) {\n    return;\n  }\n  sender = this._senders.get(track);\n  if (sender && sender.track) {\n    this._senders.set(track, new RTCRtpSenderShim(null));\n  }\n};\n\n// NOTE(mmalavalli): Because we are not delegating to the native\n// RTCPeerConnection#removeTrack(), we have to manually maintain a list of added\n// tracks. So we disable the delegation to the native RTCPeerConnection#getSenders()\n// for now.\nFirefoxRTCPeerConnection.prototype.getSenders = function getSenders() {\n  return Array.from(this._senders.values());\n};\n\nFirefoxRTCPeerConnection.prototype.createAnswer = function createAnswer() {\n  var args = [].slice.call(arguments);\n  var promise;\n  var self = this;\n\n  promise = this._peerConnection.createAnswer().then(function createAnswerSucceeded(answer) {\n    saveInitiallyNegotiatedDtlsRole(self, answer);\n    return overwriteWithInitiallyNegotiatedDtlsRole(answer, self._initiallyNegotiatedDtlsRole);\n  });\n\n  return typeof args[0] === 'function'\n    ? util.legacyPromise(promise, args[0], args[1])\n    : promise;\n};\n\n// NOTE(mroberts): The WebRTC spec allows you to call createOffer from any\n// signalingState other than \"closed\"; however, Firefox has not yet implemented\n// this (https://bugzilla.mozilla.org/show_bug.cgi?id=1072388). We workaround\n// this by rolling back if we are in state \"have-local-offer\" or\n// \"have-remote-offer\". This is acceptable for our use case because we will\n// apply the newly-created offer almost immediately; however, this may be\n// unacceptable for other use cases.\nFirefoxRTCPeerConnection.prototype.createOffer = function createOffer() {\n  var args = [].slice.call(arguments);\n  var options = (args.length > 1 ? args[2] : args[0]) || {};\n  var promise;\n  var self = this;\n\n  if (this.signalingState === 'have-local-offer' ||\n      this.signalingState === 'have-remote-offer') {\n    var local = this.signalingState === 'have-local-offer';\n    promise = rollback(this, local, function rollbackSucceeded() {\n      return self.createOffer(options);\n    });\n  } else {\n    promise = self._peerConnection.createOffer(options);\n  }\n\n  promise = promise.then(function(offer) {\n    return new FirefoxRTCSessionDescription({\n      type: offer.type,\n      sdp: updateTracksToSSRCs(self._tracksToSSRCs, offer.sdp)\n    });\n  });\n\n  return args.length > 1\n    ? util.legacyPromise(promise, args[0], args[1])\n    : promise;\n};\n\n// NOTE(mroberts): While Firefox will reject the Promise returned by\n// setLocalDescription when called from signalingState \"have-local-offer\" with\n// an answer, it still updates the .localDescription property. We workaround\n// this by explicitly handling this case.\nFirefoxRTCPeerConnection.prototype.setLocalDescription = function setLocalDescription() {\n  var args = [].slice.call(arguments);\n  var description = args[0];\n  var promise;\n\n  if (description && description.type === 'answer' && this.signalingState === 'have-local-offer') {\n    promise = Promise.reject(new Error('Cannot set local answer in state have-local-offer'));\n  }\n\n  if (promise) {\n    return args.length > 1\n      ? util.legacyPromise(promise, args[1], args[2])\n      : promise;\n  }\n\n  return this._peerConnection.setLocalDescription.apply(this._peerConnection, args);\n};\n\n// NOTE(mroberts): The WebRTC spec allows you to call setRemoteDescription with\n// an offer multiple times in signalingState \"have-remote-offer\"; however,\n// Firefox has not yet implemented this (https://bugzilla.mozilla.org/show_bug.cgi?id=1072388).\n// We workaround this by rolling back if we are in state \"have-remote-offer\".\n// This is acceptable for our use case; however, this may be unacceptable for\n// other use cases.\n//\n// While Firefox will reject the Promise returned by setRemoteDescription when\n// called from signalingState \"have-remote-offer\" with an answer, it sill\n// updates the .remoteDescription property. We workaround this by explicitly\n// handling this case.\nFirefoxRTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {\n  var args = [].slice.call(arguments);\n  var description = args[0];\n  var promise;\n  var self = this;\n\n  if (description && this.signalingState === 'have-remote-offer') {\n    if (description.type === 'answer') {\n      promise = Promise.reject(new Error('Cannot set remote answer in state have-remote-offer'));\n    } else if (description.type === 'offer') {\n      promise = rollback(this, false, function rollbackSucceeded() {\n        return self._peerConnection.setRemoteDescription(description);\n      });\n    }\n  }\n\n  if (!promise) {\n    promise = this._peerConnection.setRemoteDescription(description);\n  }\n\n  promise = promise.then(function setRemoteDescriptionSucceeded() {\n    saveInitiallyNegotiatedDtlsRole(self, description, true);\n  });\n\n  return args.length > 1\n    ? util.legacyPromise(promise, args[1], args[2])\n    : promise;\n};\n\n// NOTE(mroberts): The WebRTC spec specifies that the PeerConnection's internal\n// isClosed slot should immediately be set to true; however, in Firefox it\n// occurs in the next tick. We workaround this by tracking isClosed manually.\nFirefoxRTCPeerConnection.prototype.close = function close() {\n  if (this.signalingState !== 'closed') {\n    this._isClosed = true;\n    this._peerConnection.close();\n  }\n};\n\nutil.delegateMethods(\n  PeerConnection.prototype,\n  FirefoxRTCPeerConnection.prototype,\n  '_peerConnection');\n\nfunction rollback(peerConnection, local, onceRolledBack) {\n  var setLocalDescription = local ? 'setLocalDescription' : 'setRemoteDescription';\n  peerConnection._rollingBack = true;\n  return peerConnection._peerConnection[setLocalDescription](new FirefoxRTCSessionDescription({\n    type: 'rollback'\n  })).then(onceRolledBack).then(function onceRolledBackSucceeded(result) {\n    peerConnection._rollingBack = false;\n    return result;\n  }, function rollbackOrOnceRolledBackFailed(error) {\n    peerConnection._rollingBack = false;\n    throw error;\n  });\n}\n\n/**\n * Extract the initially negotiated DTLS role out of an RTCSessionDescription's\n * sdp property and save it on the FirefoxRTCPeerConnection if and only if\n *\n *   1. A DTLS role was not already saved on the FirefoxRTCPeerConnection, and\n *   2. The description is an answer.\n *\n * @private\n * @param {FirefoxRTCPeerConnection} peerConnection\n * @param {RTCSessionDescription} description\n * @param {boolean} [remote=false] - if true, save the inverse of the DTLS role,\n *   e.g. \"active\" instead of \"passive\" and vice versa\n * @returns {undefined}\n */\nfunction saveInitiallyNegotiatedDtlsRole(peerConnection, description, remote) {\n  // NOTE(mroberts): JSEP specifies that offers always offer \"actpass\" as the\n  // DTLS role. We need to inspect answers to figure out the negotiated DTLS\n  // role.\n  if (peerConnection._initiallyNegotiatedDtlsRole || description.type === 'offer') {\n    return;\n  }\n\n  var match = description.sdp.match(/a=setup:([a-z]+)/);\n  if (!match) {\n    return;\n  }\n\n  var dtlsRole = match[1];\n  peerConnection._initiallyNegotiatedDtlsRole = remote ? {\n    active: 'passive',\n    passive: 'active'\n  }[dtlsRole] : dtlsRole;\n}\n\n/**\n * Overwrite the DTLS role in the sdp property of an RTCSessionDescription if\n * and only if\n *\n *   1. The description is an answer, and\n *   2. A DTLS role is provided.\n *\n * @private\n * @param {RTCSessionDescription} [description]\n * @param {string} [dtlsRole] - one of \"active\" or \"passive\"\n * @returns {?RTCSessionDescription} description\n */\nfunction overwriteWithInitiallyNegotiatedDtlsRole(description, dtlsRole) {\n  if (description && description.type === 'answer' && dtlsRole) {\n    return new FirefoxRTCSessionDescription({\n      type: description.type,\n      sdp: description.sdp.replace(/a=setup:[a-z]+/g, 'a=setup:' + dtlsRole)\n    });\n  }\n  return description;\n}\n\n/**\n * Gets the active RTCRtpSenders of the RTCPeerConnection.\n * @param peerConnection\n * @returns {Map<MediaStreamTrack, RTCRtpSender>}\n */\nfunction getActiveSenders(peerConnection) {\n  return new Map(peerConnection.getSenders().filter(function(sender) {\n    return sender.track;\n  }).map(function(sender) {\n    return [sender.track, sender];\n  }));\n}\n\nmodule.exports = FirefoxRTCPeerConnection;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3J0Y3BlZXJjb25uZWN0aW9uL2ZpcmVmb3guanM/NjAyNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNhOztBQUViLGtCQUFrQixtQkFBTyxDQUFDLDhCQUFxQjtBQUMvQyxtQ0FBbUMsbUJBQU8sQ0FBQywyQ0FBa0M7QUFDN0UsdUJBQXVCLG1CQUFPLENBQUMsMEJBQWlCO0FBQ2hELGVBQWUsbUJBQU8sQ0FBQyxlQUFNO0FBQzdCLDBCQUEwQixtQkFBTyxDQUFDLHNCQUFhO0FBQy9DLFdBQVcsbUJBQU8sQ0FBQyxrQkFBUzs7QUFFNUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsaUVBQWlFO0FBQ2pFO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRDtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx5QkFBeUI7QUFDcEMsV0FBVyxzQkFBc0I7QUFDakMsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsc0JBQXNCO0FBQ2pDLFdBQVcsT0FBTztBQUNsQixhQUFhLHVCQUF1QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDs7QUFFQSIsImZpbGUiOiIyNzMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWxzIG1velJUQ1BlZXJDb25uZWN0aW9uLCBSVENQZWVyQ29ubmVjdGlvbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRUYXJnZXQgPSByZXF1aXJlKCcuLi91dGlsL2V2ZW50dGFyZ2V0Jyk7XG52YXIgRmlyZWZveFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiA9IHJlcXVpcmUoJy4uL3J0Y3Nlc3Npb25kZXNjcmlwdGlvbi9maXJlZm94Jyk7XG52YXIgUlRDUnRwU2VuZGVyU2hpbSA9IHJlcXVpcmUoJy4uL3J0Y3J0cHNlbmRlcicpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgndXRpbCcpLmluaGVyaXRzO1xudmFyIHVwZGF0ZVRyYWNrc1RvU1NSQ3MgPSByZXF1aXJlKCcuLi91dGlsL3NkcCcpLnVwZGF0ZVVuaWZpZWRQbGFuVHJhY2tJZHNUb1NTUkNzO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuLi91dGlsJyk7XG5cbnZhciBQZWVyQ29ubmVjdGlvbiA9IHR5cGVvZiBSVENQZWVyQ29ubmVjdGlvbiAhPT0gJ3VuZGVmaW5lZCdcbiAgPyBSVENQZWVyQ29ubmVjdGlvblxuICA6IG1velJUQ1BlZXJDb25uZWN0aW9uO1xuXG4vLyBOT1RFKG1yb2JlcnRzKTogVGhpcyBpcyBhIHNob3J0LWxpdmVkIHdvcmthcm91bmQuIENoZWNraW5nIHRoZSB1c2VyIGFnZW50XG4vLyBzdHJpbmcgbWlnaHQgbm90IGZpeCBldmVyeSBhZmZlY3RlZCBGaXJlZm94IGluc3RhbmNlLCBidXQgaXQgc2hvdWxkIGJlIGdvb2Rcbi8vIGVub3VnaCBmb3IgdGhpcyBidWcuXG52YXIgbmVlZHNXb3JrYXJvdW5kRm9yQnVnMTQ4MDI3NyA9IHR5cGVvZiBuYXZpZ2F0b3IgPT09ICdvYmplY3QnXG4gICYmIG5hdmlnYXRvci51c2VyQWdlbnRcbiAgJiYgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0ZpcmVmb3hcXC82MS8pIHx8IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0ZpcmVmb3hcXC82Mi8pKTtcblxuLy8gTk9URShtcm9iZXJ0cyk6IFRoaXMgY2xhc3Mgd3JhcHMgRmlyZWZveCdzIFJUQ1BlZXJDb25uZWN0aW9uIGltcGxlbWVudGF0aW9uLlxuLy8gSXQgcHJvdmlkZXMgc29tZSBmdW5jdGlvbmFsaXR5IG5vdCBjdXJyZW50bHkgcHJlc2VudCBpbiBGaXJlZm94LCBuYW1lbHkgdGhlXG4vLyBhYmlsaXRpZXMgdG9cbi8vXG4vLyAgIDEuIENhbGwgc2V0TG9jYWxEZXNjcmlwdGlvbiBhbmQgc2V0UmVtb3RlRGVzY3JpcHRpb24gd2l0aCBuZXcgb2ZmZXJzIGluXG4vLyAgICAgIHNpZ25hbGluZ1N0YXRlcyBcImhhdmUtbG9jYWwtb2ZmZXJcIiBhbmQgXCJoYXZlLXJlbW90ZS1vZmZlclwiLFxuLy8gICAgICByZXNwZWN0aXZlbHkuXG4vL1xuLy8gICAyLiBUaGUgYWJpbGl0eSB0byBjYWxsIGNyZWF0ZU9mZmVyIGluIHNpZ25hbGluZ1N0YXRlIFwiaGF2ZS1sb2NhbC1vZmZlclwiLlxuLy9cbi8vIEJvdGggb2YgdGhlc2UgYXJlIGltcGxlbWVudGVkIHVzaW5nIHJvbGxiYWNrcyB0byB3b3JrYXJvdW5kIHRoZSBmb2xsb3dpbmdcbi8vIGJ1Zzpcbi8vXG4vLyAgIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTEwNzIzODhcbi8vXG4vLyBXZSBhbHNvIHByb3ZpZGUgYSB3b3JrYXJvdW5kIGZvciBhIGJ1ZyB3aGVyZSBGaXJlZm94IG1heSBjaGFuZ2UgdGhlXG4vLyBwcmV2aW91c2x5LW5lZ290aWF0ZWQgRFRMUyByb2xlIGluIGFuIGFuc3dlciwgd2hpY2ggYnJlYWtzIENocm9tZTpcbi8vXG4vLyAgICAgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTI0MDg5N1xuLy9cbmZ1bmN0aW9uIEZpcmVmb3hSVENQZWVyQ29ubmVjdGlvbihjb25maWd1cmF0aW9uKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGaXJlZm94UlRDUGVlckNvbm5lY3Rpb24pKSB7XG4gICAgcmV0dXJuIG5ldyBGaXJlZm94UlRDUGVlckNvbm5lY3Rpb24oY29uZmlndXJhdGlvbik7XG4gIH1cblxuICBFdmVudFRhcmdldC5jYWxsKHRoaXMpO1xuXG4gIHV0aWwuaW50ZXJjZXB0RXZlbnQodGhpcywgJ3NpZ25hbGluZ3N0YXRlY2hhbmdlJyk7XG5cbiAgLyogZXNsaW50IG5ldy1jYXA6MCAqL1xuICB2YXIgcGVlckNvbm5lY3Rpb24gPSBuZXcgUGVlckNvbm5lY3Rpb24oY29uZmlndXJhdGlvbik7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgIF9pbml0aWFsbHlOZWdvdGlhdGVkRHRsc1JvbGU6IHtcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9LFxuICAgIF9pc0Nsb3NlZDoge1xuICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9LFxuICAgIF9wZWVyQ29ubmVjdGlvbjoge1xuICAgICAgdmFsdWU6IHBlZXJDb25uZWN0aW9uXG4gICAgfSxcbiAgICBfcm9sbGluZ0JhY2s6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBfc2VuZGVyczoge1xuICAgICAgdmFsdWU6IG5ldyBNYXAoKVxuICAgIH0sXG4gICAgX3RyYWNrc1RvU1NSQ3M6IHtcbiAgICAgIHZhbHVlOiBuZXcgTWFwKClcbiAgICB9LFxuICAgIGljZUdhdGhlcmluZ1N0YXRlOiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzQ2xvc2VkID8gJ2NvbXBsZXRlJyA6IHRoaXMuX3BlZXJDb25uZWN0aW9uLmljZUdhdGhlcmluZ1N0YXRlO1xuICAgICAgfVxuICAgIH0sXG4gICAgbG9jYWxEZXNjcmlwdGlvbjoge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBvdmVyd3JpdGVXaXRoSW5pdGlhbGx5TmVnb3RpYXRlZER0bHNSb2xlKHRoaXMuX3BlZXJDb25uZWN0aW9uLmxvY2FsRGVzY3JpcHRpb24sIHRoaXMuX2luaXRpYWxseU5lZ290aWF0ZWREdGxzUm9sZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBzaWduYWxpbmdTdGF0ZToge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Nsb3NlZCA/ICdjbG9zZWQnIDogdGhpcy5fcGVlckNvbm5lY3Rpb24uc2lnbmFsaW5nU3RhdGU7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBwcmV2aW91c1NpZ25hbGluZ1N0YXRlO1xuXG4gIHBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3NpZ25hbGluZ3N0YXRlY2hhbmdlJywgZnVuY3Rpb24gb25zaWduYWxpbmdzdGF0ZWNoYW5nZSgpIHtcbiAgICBpZiAoIXNlbGYuX3JvbGxpbmdCYWNrICYmIHNlbGYuc2lnbmFsaW5nU3RhdGUgIT09IHByZXZpb3VzU2lnbmFsaW5nU3RhdGUpIHtcbiAgICAgIHByZXZpb3VzU2lnbmFsaW5nU3RhdGUgPSBzZWxmLnNpZ25hbGluZ1N0YXRlO1xuXG4gICAgICAvLyBOT1RFKG1tYWxhdmFsbGkpOiBJbiBGaXJlZm94LCAnc2lnbmFsaW5nc3RhdGVjaGFuZ2UnIGV2ZW50IGlzXG4gICAgICAvLyB0cmlnZ2VyZWQgc3luY2hyb25vdXNseSBpbiB0aGUgc2FtZSB0aWNrIGFmdGVyXG4gICAgICAvLyBSVENQZWVyQ29ubmVjdGlvbiNjbG9zZSgpIGlzIGNhbGxlZC4gU28gd2UgbWltaWMgQ2hyb21lJ3MgYmVoYXZpb3JcbiAgICAgIC8vIGJ5IHRyaWdnZXJpbmcgJ3NpZ25hbGluZ3N0YXRlY2hhbmdlJyBvbiB0aGUgbmV4dCB0aWNrLlxuICAgICAgdmFyIGRpc3BhdGNoRXZlbnRUb1NlbGYgPSBzZWxmLmRpc3BhdGNoRXZlbnQuYXBwbHkuYmluZChzZWxmLmRpc3BhdGNoRXZlbnQsIHNlbGYsIGFyZ3VtZW50cyk7XG4gICAgICBpZiAoc2VsZi5faXNDbG9zZWQpIHtcbiAgICAgICAgc2V0VGltZW91dChkaXNwYXRjaEV2ZW50VG9TZWxmKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpc3BhdGNoRXZlbnRUb1NlbGYoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHV0aWwucHJveHlQcm9wZXJ0aWVzKFBlZXJDb25uZWN0aW9uLnByb3RvdHlwZSwgdGhpcywgcGVlckNvbm5lY3Rpb24pO1xufVxuXG5pbmhlcml0cyhGaXJlZm94UlRDUGVlckNvbm5lY3Rpb24sIEV2ZW50VGFyZ2V0KTtcblxuLy8gTk9URShtbWFsYXZhbGxpKTogRmlyZWZveCB0aHJvd3MgYSBUeXBlRXJyb3Igd2hlbiB0aGUgUGVlckNvbm5lY3Rpb24nc1xuLy8gcHJvdG90eXBlJ3MgXCJwZWVySWRlbnRpdHlcIiBwcm9wZXJ0eSBpcyBhY2Nlc3NlZC4gSW4gb3JkZXIgdG8gb3ZlcmNvbWVcbi8vIHRoaXMsIHdlIGlnbm9yZSB0aGlzIHByb3BlcnR5IHdoaWxlIGRlbGVnYXRpbmcgbWV0aG9kcy5cbi8vIFJlZmVyZW5jZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM2MzgxNVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpcmVmb3hSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsICdwZWVySWRlbnRpdHknLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHZhbHVlOiBQcm9taXNlLnJlc29sdmUoe1xuICAgIGlkcDogJycsXG4gICAgbmFtZTogJydcbiAgfSlcbn0pO1xuXG4vLyBOT1RFKG1tYWxhdmFsbGkpOiBCZWNhdXNlIHdlIGFyZSBub3QgZGVsZWdhdGluZyB0byB0aGUgbmF0aXZlXG4vLyBSVENQZWVyQ29ubmVjdGlvbiNyZW1vdmVUcmFjaygpLCB3ZSBoYXZlIHRvIG1hbnVhbGx5IG1haW50YWluIGEgbGlzdCBvZiBhZGRlZFxuLy8gdHJhY2tzLiBTbyB3ZSBkaXNhYmxlIHRoZSBkZWxlZ2F0aW9uIHRvIHRoZSBuYXRpdmUgUlRDUGVlckNvbm5lY3Rpb24jYWRkVHJhY2soKVxuLy8gZm9yIG5vdy5cbkZpcmVmb3hSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2sgPSBmdW5jdGlvbiBhZGRUcmFjaygpIHtcbiAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gIHZhciB0cmFjayA9IGFyZ3NbMF07XG4gIHZhciBzZW5kZXIgPSB0aGlzLl9zZW5kZXJzLmdldCh0cmFjayk7XG4gIGlmIChzZW5kZXIgJiYgc2VuZGVyLnRyYWNrKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWRkIE1lZGlhU3RyZWFtVHJhY2sgWycgKyB0cmFjay5pZCArICcsICdcbiAgICAgICsgdHJhY2sua2luZCArICddOiBSVENQZWVyQ29ubmVjdGlvbiBhbHJlYWR5IGhhcyBpdCcpO1xuICB9XG4gIHNlbmRlciA9IGdldEFjdGl2ZVNlbmRlcnModGhpcy5fcGVlckNvbm5lY3Rpb24pLmdldCh0cmFjaylcbiAgICB8fCB0aGlzLl9wZWVyQ29ubmVjdGlvbi5hZGRUcmFjay5hcHBseSh0aGlzLl9wZWVyQ29ubmVjdGlvbiwgYXJncyk7XG5cbiAgaWYgKG5lZWRzV29ya2Fyb3VuZEZvckJ1ZzE0ODAyNzcpIHtcbiAgICBzZW5kZXIucmVwbGFjZVRyYWNrKHRyYWNrKTtcbiAgfVxuXG4gIHRoaXMuX3NlbmRlcnMuc2V0KHRyYWNrLCBzZW5kZXIpO1xuICByZXR1cm4gc2VuZGVyO1xufTtcblxuaWYgKFBlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFuc2NlaXZlcikge1xuICBGaXJlZm94UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYW5zY2VpdmVyID0gZnVuY3Rpb24gYWRkVHJhbnNjZWl2ZXIoKSB7XG4gICAgdmFyIHRyYW5zY2VpdmVyID0gdGhpcy5fcGVlckNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIuYXBwbHkodGhpcy5fcGVlckNvbm5lY3Rpb24sIGFyZ3VtZW50cyk7XG4gICAgdmFyIHNlbmRlciA9IHRyYW5zY2VpdmVyLnNlbmRlcjtcbiAgICB2YXIgdHJhY2sgPSBzZW5kZXIudHJhY2s7XG4gICAgaWYgKHRyYWNrICYmIG5lZWRzV29ya2Fyb3VuZEZvckJ1ZzE0ODAyNzcpIHtcbiAgICAgIHNlbmRlci5yZXBsYWNlVHJhY2sodHJhY2spO1xuICAgIH1cbiAgICB0aGlzLl9zZW5kZXJzLnNldCh0cmFjaywgc2VuZGVyKTtcbiAgICByZXR1cm4gdHJhbnNjZWl2ZXI7XG4gIH07XG59XG5cbi8vIE5PVEUobW1hbGF2YWxsaSk6IFJUQ1BlZXJDb25uZWN0aW9uI3JlbW92ZVRyYWNrKCkgaGFzIGEgYnVnIGluIHRoZVxuLy8gRmlyZWZveCA8LS0+IENocm9tZSBpbnRlcm9wIGNhc2UsIHdoaWNoIGlzIG1lbnRpb25lZCBiZWxvdy4gU28gd2UgZGlzYWJsZVxuLy8gaXRzIGRlbGVnYXRpb24gZm9yIG5vdy4gQWxzbywgd2UgbWFpbnRhaW4gb25seSBvbmUgUlRDUnRwU2VuZGVyIHBlclxuLy8gTWVkaWFTdHJlYW1UcmFjayBmb3Igb3VyIHVzZSBjYXNlLCBhbmQgbm90IHdvcnJ5IGFib3V0IG11bHRpcGxlIFJUQ1J0cFNlbmRlcnNcbi8vIGR1ZSB0byByZXBsYWNlVHJhY2soKS5cbi8vIEJ1Z3ppbGxhOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMTMzODc0XG5GaXJlZm94UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrID0gZnVuY3Rpb24gcmVtb3ZlVHJhY2soc2VuZGVyKSB7XG4gIGlmICh0aGlzLl9pc0Nsb3NlZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJlbW92ZSBNZWRpYVN0cmVhbVRyYWNrOiBSVENQZWVyQ29ubmVjdGlvbiBpcyBjbG9zZWQnKTtcbiAgfVxuICB2YXIgdHJhY2sgPSBzZW5kZXIudHJhY2s7XG4gIGlmICghdHJhY2spIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2VuZGVyID0gdGhpcy5fc2VuZGVycy5nZXQodHJhY2spO1xuICBpZiAoc2VuZGVyICYmIHNlbmRlci50cmFjaykge1xuICAgIHRoaXMuX3NlbmRlcnMuc2V0KHRyYWNrLCBuZXcgUlRDUnRwU2VuZGVyU2hpbShudWxsKSk7XG4gIH1cbn07XG5cbi8vIE5PVEUobW1hbGF2YWxsaSk6IEJlY2F1c2Ugd2UgYXJlIG5vdCBkZWxlZ2F0aW5nIHRvIHRoZSBuYXRpdmVcbi8vIFJUQ1BlZXJDb25uZWN0aW9uI3JlbW92ZVRyYWNrKCksIHdlIGhhdmUgdG8gbWFudWFsbHkgbWFpbnRhaW4gYSBsaXN0IG9mIGFkZGVkXG4vLyB0cmFja3MuIFNvIHdlIGRpc2FibGUgdGhlIGRlbGVnYXRpb24gdG8gdGhlIG5hdGl2ZSBSVENQZWVyQ29ubmVjdGlvbiNnZXRTZW5kZXJzKClcbi8vIGZvciBub3cuXG5GaXJlZm94UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnMgPSBmdW5jdGlvbiBnZXRTZW5kZXJzKCkge1xuICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9zZW5kZXJzLnZhbHVlcygpKTtcbn07XG5cbkZpcmVmb3hSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY3JlYXRlQW5zd2VyID0gZnVuY3Rpb24gY3JlYXRlQW5zd2VyKCkge1xuICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgdmFyIHByb21pc2U7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBwcm9taXNlID0gdGhpcy5fcGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCkudGhlbihmdW5jdGlvbiBjcmVhdGVBbnN3ZXJTdWNjZWVkZWQoYW5zd2VyKSB7XG4gICAgc2F2ZUluaXRpYWxseU5lZ290aWF0ZWREdGxzUm9sZShzZWxmLCBhbnN3ZXIpO1xuICAgIHJldHVybiBvdmVyd3JpdGVXaXRoSW5pdGlhbGx5TmVnb3RpYXRlZER0bHNSb2xlKGFuc3dlciwgc2VsZi5faW5pdGlhbGx5TmVnb3RpYXRlZER0bHNSb2xlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHR5cGVvZiBhcmdzWzBdID09PSAnZnVuY3Rpb24nXG4gICAgPyB1dGlsLmxlZ2FjeVByb21pc2UocHJvbWlzZSwgYXJnc1swXSwgYXJnc1sxXSlcbiAgICA6IHByb21pc2U7XG59O1xuXG4vLyBOT1RFKG1yb2JlcnRzKTogVGhlIFdlYlJUQyBzcGVjIGFsbG93cyB5b3UgdG8gY2FsbCBjcmVhdGVPZmZlciBmcm9tIGFueVxuLy8gc2lnbmFsaW5nU3RhdGUgb3RoZXIgdGhhbiBcImNsb3NlZFwiOyBob3dldmVyLCBGaXJlZm94IGhhcyBub3QgeWV0IGltcGxlbWVudGVkXG4vLyB0aGlzIChodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMDcyMzg4KS4gV2Ugd29ya2Fyb3VuZFxuLy8gdGhpcyBieSByb2xsaW5nIGJhY2sgaWYgd2UgYXJlIGluIHN0YXRlIFwiaGF2ZS1sb2NhbC1vZmZlclwiIG9yXG4vLyBcImhhdmUtcmVtb3RlLW9mZmVyXCIuIFRoaXMgaXMgYWNjZXB0YWJsZSBmb3Igb3VyIHVzZSBjYXNlIGJlY2F1c2Ugd2Ugd2lsbFxuLy8gYXBwbHkgdGhlIG5ld2x5LWNyZWF0ZWQgb2ZmZXIgYWxtb3N0IGltbWVkaWF0ZWx5OyBob3dldmVyLCB0aGlzIG1heSBiZVxuLy8gdW5hY2NlcHRhYmxlIGZvciBvdGhlciB1c2UgY2FzZXMuXG5GaXJlZm94UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyID0gZnVuY3Rpb24gY3JlYXRlT2ZmZXIoKSB7XG4gIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICB2YXIgb3B0aW9ucyA9IChhcmdzLmxlbmd0aCA+IDEgPyBhcmdzWzJdIDogYXJnc1swXSkgfHwge307XG4gIHZhciBwcm9taXNlO1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKHRoaXMuc2lnbmFsaW5nU3RhdGUgPT09ICdoYXZlLWxvY2FsLW9mZmVyJyB8fFxuICAgICAgdGhpcy5zaWduYWxpbmdTdGF0ZSA9PT0gJ2hhdmUtcmVtb3RlLW9mZmVyJykge1xuICAgIHZhciBsb2NhbCA9IHRoaXMuc2lnbmFsaW5nU3RhdGUgPT09ICdoYXZlLWxvY2FsLW9mZmVyJztcbiAgICBwcm9taXNlID0gcm9sbGJhY2sodGhpcywgbG9jYWwsIGZ1bmN0aW9uIHJvbGxiYWNrU3VjY2VlZGVkKCkge1xuICAgICAgcmV0dXJuIHNlbGYuY3JlYXRlT2ZmZXIob3B0aW9ucyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcHJvbWlzZSA9IHNlbGYuX3BlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKG9wdGlvbnMpO1xuICB9XG5cbiAgcHJvbWlzZSA9IHByb21pc2UudGhlbihmdW5jdGlvbihvZmZlcikge1xuICAgIHJldHVybiBuZXcgRmlyZWZveFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7XG4gICAgICB0eXBlOiBvZmZlci50eXBlLFxuICAgICAgc2RwOiB1cGRhdGVUcmFja3NUb1NTUkNzKHNlbGYuX3RyYWNrc1RvU1NSQ3MsIG9mZmVyLnNkcClcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIGFyZ3MubGVuZ3RoID4gMVxuICAgID8gdXRpbC5sZWdhY3lQcm9taXNlKHByb21pc2UsIGFyZ3NbMF0sIGFyZ3NbMV0pXG4gICAgOiBwcm9taXNlO1xufTtcblxuLy8gTk9URShtcm9iZXJ0cyk6IFdoaWxlIEZpcmVmb3ggd2lsbCByZWplY3QgdGhlIFByb21pc2UgcmV0dXJuZWQgYnlcbi8vIHNldExvY2FsRGVzY3JpcHRpb24gd2hlbiBjYWxsZWQgZnJvbSBzaWduYWxpbmdTdGF0ZSBcImhhdmUtbG9jYWwtb2ZmZXJcIiB3aXRoXG4vLyBhbiBhbnN3ZXIsIGl0IHN0aWxsIHVwZGF0ZXMgdGhlIC5sb2NhbERlc2NyaXB0aW9uIHByb3BlcnR5LiBXZSB3b3JrYXJvdW5kXG4vLyB0aGlzIGJ5IGV4cGxpY2l0bHkgaGFuZGxpbmcgdGhpcyBjYXNlLlxuRmlyZWZveFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uID0gZnVuY3Rpb24gc2V0TG9jYWxEZXNjcmlwdGlvbigpIHtcbiAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gIHZhciBkZXNjcmlwdGlvbiA9IGFyZ3NbMF07XG4gIHZhciBwcm9taXNlO1xuXG4gIGlmIChkZXNjcmlwdGlvbiAmJiBkZXNjcmlwdGlvbi50eXBlID09PSAnYW5zd2VyJyAmJiB0aGlzLnNpZ25hbGluZ1N0YXRlID09PSAnaGF2ZS1sb2NhbC1vZmZlcicpIHtcbiAgICBwcm9taXNlID0gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdDYW5ub3Qgc2V0IGxvY2FsIGFuc3dlciBpbiBzdGF0ZSBoYXZlLWxvY2FsLW9mZmVyJykpO1xuICB9XG5cbiAgaWYgKHByb21pc2UpIHtcbiAgICByZXR1cm4gYXJncy5sZW5ndGggPiAxXG4gICAgICA/IHV0aWwubGVnYWN5UHJvbWlzZShwcm9taXNlLCBhcmdzWzFdLCBhcmdzWzJdKVxuICAgICAgOiBwcm9taXNlO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX3BlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24uYXBwbHkodGhpcy5fcGVlckNvbm5lY3Rpb24sIGFyZ3MpO1xufTtcblxuLy8gTk9URShtcm9iZXJ0cyk6IFRoZSBXZWJSVEMgc3BlYyBhbGxvd3MgeW91IHRvIGNhbGwgc2V0UmVtb3RlRGVzY3JpcHRpb24gd2l0aFxuLy8gYW4gb2ZmZXIgbXVsdGlwbGUgdGltZXMgaW4gc2lnbmFsaW5nU3RhdGUgXCJoYXZlLXJlbW90ZS1vZmZlclwiOyBob3dldmVyLFxuLy8gRmlyZWZveCBoYXMgbm90IHlldCBpbXBsZW1lbnRlZCB0aGlzIChodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMDcyMzg4KS5cbi8vIFdlIHdvcmthcm91bmQgdGhpcyBieSByb2xsaW5nIGJhY2sgaWYgd2UgYXJlIGluIHN0YXRlIFwiaGF2ZS1yZW1vdGUtb2ZmZXJcIi5cbi8vIFRoaXMgaXMgYWNjZXB0YWJsZSBmb3Igb3VyIHVzZSBjYXNlOyBob3dldmVyLCB0aGlzIG1heSBiZSB1bmFjY2VwdGFibGUgZm9yXG4vLyBvdGhlciB1c2UgY2FzZXMuXG4vL1xuLy8gV2hpbGUgRmlyZWZveCB3aWxsIHJlamVjdCB0aGUgUHJvbWlzZSByZXR1cm5lZCBieSBzZXRSZW1vdGVEZXNjcmlwdGlvbiB3aGVuXG4vLyBjYWxsZWQgZnJvbSBzaWduYWxpbmdTdGF0ZSBcImhhdmUtcmVtb3RlLW9mZmVyXCIgd2l0aCBhbiBhbnN3ZXIsIGl0IHNpbGxcbi8vIHVwZGF0ZXMgdGhlIC5yZW1vdGVEZXNjcmlwdGlvbiBwcm9wZXJ0eS4gV2Ugd29ya2Fyb3VuZCB0aGlzIGJ5IGV4cGxpY2l0bHlcbi8vIGhhbmRsaW5nIHRoaXMgY2FzZS5cbkZpcmVmb3hSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb24gPSBmdW5jdGlvbiBzZXRSZW1vdGVEZXNjcmlwdGlvbigpIHtcbiAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gIHZhciBkZXNjcmlwdGlvbiA9IGFyZ3NbMF07XG4gIHZhciBwcm9taXNlO1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKGRlc2NyaXB0aW9uICYmIHRoaXMuc2lnbmFsaW5nU3RhdGUgPT09ICdoYXZlLXJlbW90ZS1vZmZlcicpIHtcbiAgICBpZiAoZGVzY3JpcHRpb24udHlwZSA9PT0gJ2Fuc3dlcicpIHtcbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0Nhbm5vdCBzZXQgcmVtb3RlIGFuc3dlciBpbiBzdGF0ZSBoYXZlLXJlbW90ZS1vZmZlcicpKTtcbiAgICB9IGVsc2UgaWYgKGRlc2NyaXB0aW9uLnR5cGUgPT09ICdvZmZlcicpIHtcbiAgICAgIHByb21pc2UgPSByb2xsYmFjayh0aGlzLCBmYWxzZSwgZnVuY3Rpb24gcm9sbGJhY2tTdWNjZWVkZWQoKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihkZXNjcmlwdGlvbik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAoIXByb21pc2UpIHtcbiAgICBwcm9taXNlID0gdGhpcy5fcGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oZGVzY3JpcHRpb24pO1xuICB9XG5cbiAgcHJvbWlzZSA9IHByb21pc2UudGhlbihmdW5jdGlvbiBzZXRSZW1vdGVEZXNjcmlwdGlvblN1Y2NlZWRlZCgpIHtcbiAgICBzYXZlSW5pdGlhbGx5TmVnb3RpYXRlZER0bHNSb2xlKHNlbGYsIGRlc2NyaXB0aW9uLCB0cnVlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGFyZ3MubGVuZ3RoID4gMVxuICAgID8gdXRpbC5sZWdhY3lQcm9taXNlKHByb21pc2UsIGFyZ3NbMV0sIGFyZ3NbMl0pXG4gICAgOiBwcm9taXNlO1xufTtcblxuLy8gTk9URShtcm9iZXJ0cyk6IFRoZSBXZWJSVEMgc3BlYyBzcGVjaWZpZXMgdGhhdCB0aGUgUGVlckNvbm5lY3Rpb24ncyBpbnRlcm5hbFxuLy8gaXNDbG9zZWQgc2xvdCBzaG91bGQgaW1tZWRpYXRlbHkgYmUgc2V0IHRvIHRydWU7IGhvd2V2ZXIsIGluIEZpcmVmb3ggaXRcbi8vIG9jY3VycyBpbiB0aGUgbmV4dCB0aWNrLiBXZSB3b3JrYXJvdW5kIHRoaXMgYnkgdHJhY2tpbmcgaXNDbG9zZWQgbWFudWFsbHkuXG5GaXJlZm94UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gY2xvc2UoKSB7XG4gIGlmICh0aGlzLnNpZ25hbGluZ1N0YXRlICE9PSAnY2xvc2VkJykge1xuICAgIHRoaXMuX2lzQ2xvc2VkID0gdHJ1ZTtcbiAgICB0aGlzLl9wZWVyQ29ubmVjdGlvbi5jbG9zZSgpO1xuICB9XG59O1xuXG51dGlsLmRlbGVnYXRlTWV0aG9kcyhcbiAgUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFxuICBGaXJlZm94UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFxuICAnX3BlZXJDb25uZWN0aW9uJyk7XG5cbmZ1bmN0aW9uIHJvbGxiYWNrKHBlZXJDb25uZWN0aW9uLCBsb2NhbCwgb25jZVJvbGxlZEJhY2spIHtcbiAgdmFyIHNldExvY2FsRGVzY3JpcHRpb24gPSBsb2NhbCA/ICdzZXRMb2NhbERlc2NyaXB0aW9uJyA6ICdzZXRSZW1vdGVEZXNjcmlwdGlvbic7XG4gIHBlZXJDb25uZWN0aW9uLl9yb2xsaW5nQmFjayA9IHRydWU7XG4gIHJldHVybiBwZWVyQ29ubmVjdGlvbi5fcGVlckNvbm5lY3Rpb25bc2V0TG9jYWxEZXNjcmlwdGlvbl0obmV3IEZpcmVmb3hSVENTZXNzaW9uRGVzY3JpcHRpb24oe1xuICAgIHR5cGU6ICdyb2xsYmFjaydcbiAgfSkpLnRoZW4ob25jZVJvbGxlZEJhY2spLnRoZW4oZnVuY3Rpb24gb25jZVJvbGxlZEJhY2tTdWNjZWVkZWQocmVzdWx0KSB7XG4gICAgcGVlckNvbm5lY3Rpb24uX3JvbGxpbmdCYWNrID0gZmFsc2U7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwgZnVuY3Rpb24gcm9sbGJhY2tPck9uY2VSb2xsZWRCYWNrRmFpbGVkKGVycm9yKSB7XG4gICAgcGVlckNvbm5lY3Rpb24uX3JvbGxpbmdCYWNrID0gZmFsc2U7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH0pO1xufVxuXG4vKipcbiAqIEV4dHJhY3QgdGhlIGluaXRpYWxseSBuZWdvdGlhdGVkIERUTFMgcm9sZSBvdXQgb2YgYW4gUlRDU2Vzc2lvbkRlc2NyaXB0aW9uJ3NcbiAqIHNkcCBwcm9wZXJ0eSBhbmQgc2F2ZSBpdCBvbiB0aGUgRmlyZWZveFJUQ1BlZXJDb25uZWN0aW9uIGlmIGFuZCBvbmx5IGlmXG4gKlxuICogICAxLiBBIERUTFMgcm9sZSB3YXMgbm90IGFscmVhZHkgc2F2ZWQgb24gdGhlIEZpcmVmb3hSVENQZWVyQ29ubmVjdGlvbiwgYW5kXG4gKiAgIDIuIFRoZSBkZXNjcmlwdGlvbiBpcyBhbiBhbnN3ZXIuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RmlyZWZveFJUQ1BlZXJDb25uZWN0aW9ufSBwZWVyQ29ubmVjdGlvblxuICogQHBhcmFtIHtSVENTZXNzaW9uRGVzY3JpcHRpb259IGRlc2NyaXB0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtyZW1vdGU9ZmFsc2VdIC0gaWYgdHJ1ZSwgc2F2ZSB0aGUgaW52ZXJzZSBvZiB0aGUgRFRMUyByb2xlLFxuICogICBlLmcuIFwiYWN0aXZlXCIgaW5zdGVhZCBvZiBcInBhc3NpdmVcIiBhbmQgdmljZSB2ZXJzYVxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuZnVuY3Rpb24gc2F2ZUluaXRpYWxseU5lZ290aWF0ZWREdGxzUm9sZShwZWVyQ29ubmVjdGlvbiwgZGVzY3JpcHRpb24sIHJlbW90ZSkge1xuICAvLyBOT1RFKG1yb2JlcnRzKTogSlNFUCBzcGVjaWZpZXMgdGhhdCBvZmZlcnMgYWx3YXlzIG9mZmVyIFwiYWN0cGFzc1wiIGFzIHRoZVxuICAvLyBEVExTIHJvbGUuIFdlIG5lZWQgdG8gaW5zcGVjdCBhbnN3ZXJzIHRvIGZpZ3VyZSBvdXQgdGhlIG5lZ290aWF0ZWQgRFRMU1xuICAvLyByb2xlLlxuICBpZiAocGVlckNvbm5lY3Rpb24uX2luaXRpYWxseU5lZ290aWF0ZWREdGxzUm9sZSB8fCBkZXNjcmlwdGlvbi50eXBlID09PSAnb2ZmZXInKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG1hdGNoID0gZGVzY3JpcHRpb24uc2RwLm1hdGNoKC9hPXNldHVwOihbYS16XSspLyk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZHRsc1JvbGUgPSBtYXRjaFsxXTtcbiAgcGVlckNvbm5lY3Rpb24uX2luaXRpYWxseU5lZ290aWF0ZWREdGxzUm9sZSA9IHJlbW90ZSA/IHtcbiAgICBhY3RpdmU6ICdwYXNzaXZlJyxcbiAgICBwYXNzaXZlOiAnYWN0aXZlJ1xuICB9W2R0bHNSb2xlXSA6IGR0bHNSb2xlO1xufVxuXG4vKipcbiAqIE92ZXJ3cml0ZSB0aGUgRFRMUyByb2xlIGluIHRoZSBzZHAgcHJvcGVydHkgb2YgYW4gUlRDU2Vzc2lvbkRlc2NyaXB0aW9uIGlmXG4gKiBhbmQgb25seSBpZlxuICpcbiAqICAgMS4gVGhlIGRlc2NyaXB0aW9uIGlzIGFuIGFuc3dlciwgYW5kXG4gKiAgIDIuIEEgRFRMUyByb2xlIGlzIHByb3ZpZGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1JUQ1Nlc3Npb25EZXNjcmlwdGlvbn0gW2Rlc2NyaXB0aW9uXVxuICogQHBhcmFtIHtzdHJpbmd9IFtkdGxzUm9sZV0gLSBvbmUgb2YgXCJhY3RpdmVcIiBvciBcInBhc3NpdmVcIlxuICogQHJldHVybnMgez9SVENTZXNzaW9uRGVzY3JpcHRpb259IGRlc2NyaXB0aW9uXG4gKi9cbmZ1bmN0aW9uIG92ZXJ3cml0ZVdpdGhJbml0aWFsbHlOZWdvdGlhdGVkRHRsc1JvbGUoZGVzY3JpcHRpb24sIGR0bHNSb2xlKSB7XG4gIGlmIChkZXNjcmlwdGlvbiAmJiBkZXNjcmlwdGlvbi50eXBlID09PSAnYW5zd2VyJyAmJiBkdGxzUm9sZSkge1xuICAgIHJldHVybiBuZXcgRmlyZWZveFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7XG4gICAgICB0eXBlOiBkZXNjcmlwdGlvbi50eXBlLFxuICAgICAgc2RwOiBkZXNjcmlwdGlvbi5zZHAucmVwbGFjZSgvYT1zZXR1cDpbYS16XSsvZywgJ2E9c2V0dXA6JyArIGR0bHNSb2xlKVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBkZXNjcmlwdGlvbjtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBhY3RpdmUgUlRDUnRwU2VuZGVycyBvZiB0aGUgUlRDUGVlckNvbm5lY3Rpb24uXG4gKiBAcGFyYW0gcGVlckNvbm5lY3Rpb25cbiAqIEByZXR1cm5zIHtNYXA8TWVkaWFTdHJlYW1UcmFjaywgUlRDUnRwU2VuZGVyPn1cbiAqL1xuZnVuY3Rpb24gZ2V0QWN0aXZlU2VuZGVycyhwZWVyQ29ubmVjdGlvbikge1xuICByZXR1cm4gbmV3IE1hcChwZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmlsdGVyKGZ1bmN0aW9uKHNlbmRlcikge1xuICAgIHJldHVybiBzZW5kZXIudHJhY2s7XG4gIH0pLm1hcChmdW5jdGlvbihzZW5kZXIpIHtcbiAgICByZXR1cm4gW3NlbmRlci50cmFjaywgc2VuZGVyXTtcbiAgfSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEZpcmVmb3hSVENQZWVyQ29ubmVjdGlvbjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0B0d2lsaW8vd2VicnRjL2xpYi9ydGNwZWVyY29ubmVjdGlvbi9maXJlZm94LmpzXG4vLyBtb2R1bGUgaWQgPSAyNzNcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///273\n");

/***/ }),
/* 274 */
/*!*********************************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/rtcpeerconnection/safari.js ***!
  \*********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* globals RTCPeerConnection, RTCRtpTransceiver, RTCSessionDescription */\n\n\nvar EventTarget = __webpack_require__(/*! ../util/eventtarget */ 222);\nvar inherits = __webpack_require__(/*! util */ 213).inherits;\nvar Latch = __webpack_require__(/*! ../util/latch */ 232);\nvar RTCRtpSenderShim = __webpack_require__(/*! ../rtcrtpsender */ 223);\nvar sdpUtils = __webpack_require__(/*! ../util/sdp */ 224);\nvar util = __webpack_require__(/*! ../util */ 210);\n\nvar isUnifiedPlan = 'currentDirection' in RTCRtpTransceiver.prototype;\n\nvar updateTrackIdsToSSRCs = isUnifiedPlan\n  ? sdpUtils.updateUnifiedPlanTrackIdsToSSRCs\n  : sdpUtils.updatePlanBTrackIdsToSSRCs;\n\nfunction SafariRTCPeerConnection(configuration) {\n  if (!(this instanceof SafariRTCPeerConnection)) {\n    return new SafariRTCPeerConnection(configuration);\n  }\n\n  EventTarget.call(this);\n\n  util.interceptEvent(this, 'datachannel');\n  util.interceptEvent(this, 'iceconnectionstatechange');\n  util.interceptEvent(this, 'signalingstatechange');\n  util.interceptEvent(this, 'track');\n\n  var peerConnection = new RTCPeerConnection(configuration);\n\n  Object.defineProperties(this, {\n    _audioTransceiver: {\n      value: null,\n      writable: true\n    },\n    _isClosed: {\n      value: false,\n      writable: true\n    },\n    _peerConnection: {\n      value: peerConnection\n    },\n    _pendingLocalOffer: {\n      value: null,\n      writable: true\n    },\n    _pendingRemoteOffer: {\n      value: null,\n      writable: true\n    },\n    _senders: {\n      value: new Map()\n    },\n    _signalingStateLatch: {\n      value: new Latch()\n    },\n    _tracksToSSRCs: {\n      value: new Map()\n    },\n    _videoTransceiver: {\n      value: null,\n      writable: true\n    },\n    localDescription: {\n      enumerable: true,\n      get: function() {\n        return this._pendingLocalOffer || this._peerConnection.localDescription;\n      }\n    },\n    iceConnectionState: {\n      enumerable: true,\n      get: function() {\n        return this._isClosed ? 'closed' : this._peerConnection.iceConnectionState;\n      }\n    },\n    iceGatheringState: {\n      enumerable: true,\n      get: function() {\n        return this._isClosed ? 'complete' : this._peerConnection.iceGatheringState;\n      }\n    },\n    // NOTE(mroberts): Keep this here until the following is fixed.\n    //\n    //   https://bugs.webkit.org/show_bug.cgi?id=174323\n    //\n    remoteDescription: {\n      enumerable: true,\n      get: function() {\n        return this._pendingRemoteOffer || this._peerConnection.remoteDescription;\n      }\n    },\n    signalingState: {\n      enumerable: true,\n      get: function() {\n        if (this._isClosed) {\n          return 'closed';\n        } else if (this._pendingLocalOffer) {\n          return 'have-local-offer';\n        } else if (this._pendingRemoteOffer) {\n          return 'have-remote-offer';\n        }\n        return this._peerConnection.signalingState;\n      }\n    }\n  });\n\n  var self = this;\n\n  peerConnection.addEventListener('datachannel', function ondatachannel(event) {\n    shimDataChannel(event.channel);\n    self.dispatchEvent(event);\n  });\n\n  peerConnection.addEventListener('iceconnectionstatechange', function oniceconnectionstatechange() {\n    if (self._isClosed) {\n      return;\n    }\n    self.dispatchEvent.apply(self, arguments);\n  });\n\n  peerConnection.addEventListener('signalingstatechange', function onsignalingstatechange() {\n    if (self._isClosed) {\n      return;\n    }\n    if (!self._pendingLocalOffer && !self._pendingRemoteOffer) {\n      self.dispatchEvent.apply(self, arguments);\n    }\n  });\n\n  // NOTE(syerrapragada): This ensures that SafariRTCPeerConnection's \"remoteDescription\", when accessed\n  // in an RTCTrackEvent listener, will point to the underlying RTCPeerConnection's\n  // \"remoteDescription\". Before this fix, this was still pointing to \"_pendingRemoteOffer\"\n  // even though a new remote RTCSessionDescription had already been applied.\n  peerConnection.addEventListener('track', function ontrack(event) {\n    self._pendingRemoteOffer = null;\n    self.dispatchEvent(event);\n  });\n\n  util.proxyProperties(RTCPeerConnection.prototype, this, peerConnection);\n}\n\ninherits(SafariRTCPeerConnection, EventTarget);\n\nSafariRTCPeerConnection.prototype.addIceCandidate = function addIceCandidate(candidate) {\n  var self = this;\n  if (this.signalingState === 'have-remote-offer') {\n    return this._signalingStateLatch.when('low').then(function signalingStatesResolved() {\n      return self._peerConnection.addIceCandidate(candidate);\n    });\n  }\n  return this._peerConnection.addIceCandidate(candidate);\n};\n\nSafariRTCPeerConnection.prototype.createOffer = function createOffer(options) {\n  options = Object.assign({}, options);\n  var self = this;\n\n  // NOTE(mroberts): In general, this is not the way to do this; however, it's\n  // good enough for our application.\n  if (options.offerToReceiveAudio && !this._audioTransceiver && !(isUnifiedPlan && hasSendersForTracksOfKind(this, 'audio'))) {\n    delete options.offerToReceiveAudio;\n    try {\n      this._audioTransceiver = isUnifiedPlan\n        ? this.addTransceiver('audio', { direction: 'recvonly' })\n        : this.addTransceiver('audio');\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }\n\n  if (options.offerToReceiveVideo && !this._videoTransceiver && !(isUnifiedPlan && hasSendersForTracksOfKind(this, 'video'))) {\n    delete options.offerToReceiveVideo;\n    try {\n      this._videoTransceiver = isUnifiedPlan\n        ? this.addTransceiver('video', { direction: 'recvonly' })\n        : this.addTransceiver('video');\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }\n\n  return this._peerConnection.createOffer(options).then(function(offer) {\n    return new RTCSessionDescription({\n      type: offer.type,\n      sdp: updateTrackIdsToSSRCs(self._tracksToSSRCs, offer.sdp)\n    });\n  });\n};\n\nSafariRTCPeerConnection.prototype.createAnswer = function createAnswer(options) {\n  var self = this;\n\n  if (this._pendingRemoteOffer) {\n    return this._peerConnection.setRemoteDescription(this._pendingRemoteOffer).then(function setRemoteDescriptionSucceeded() {\n      self._signalingStateLatch.lower();\n      return self._peerConnection.createAnswer();\n    }).then(function createAnswerSucceeded(answer) {\n      self._pendingRemoteOffer = null;\n      return isUnifiedPlan ? new RTCSessionDescription({\n        type: answer.type,\n        sdp: updateTrackIdsToSSRCs(self._tracksToSSRCs, answer.sdp)\n      }) : answer;\n    }, function setRemoteDescriptionOrCreateAnswerFailed(error) {\n      self._pendingRemoteOffer = null;\n      throw error;\n    });\n  }\n\n  return this._peerConnection.createAnswer(options).then(function(answer) {\n    return isUnifiedPlan ? new RTCSessionDescription({\n      type: answer.type,\n      sdp: updateTrackIdsToSSRCs(self._tracksToSSRCs, answer.sdp)\n    }) : answer;\n  });\n};\n\nSafariRTCPeerConnection.prototype.createDataChannel = function createDataChannel(label, dataChannelDict) {\n  var dataChannel = this._peerConnection.createDataChannel(label, dataChannelDict);\n  shimDataChannel(dataChannel);\n  return dataChannel;\n};\n\nSafariRTCPeerConnection.prototype.setLocalDescription = function setLocalDescription(description) {\n  return setDescription(this, true, description);\n};\n\nSafariRTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription(description) {\n  return setDescription(this, false, description);\n};\n\nSafariRTCPeerConnection.prototype.close = function close() {\n  if (this._isClosed) {\n    return;\n  }\n  this._isClosed = true;\n  this._peerConnection.close();\n  var self = this;\n  setTimeout(function() {\n    self.dispatchEvent(new Event('iceconnectionstatechange'));\n    self.dispatchEvent(new Event('signalingstatechange'));\n  });\n};\n\n// NOTE(mmalavalli): Because we are not delegating to the native\n// RTCPeerConnection#removeTrack(), we have to manually maintain a list of added\n// tracks. So we disable the delegation to the native RTCPeerConnection#addTrack()\n// for now. Also, we maintain only one RTCRtpSender per MediaStreamTrack for our\n// use case, and not worry about multiple RTCRtpSenders due to replaceTrack().\nSafariRTCPeerConnection.prototype.addTrack = function addTrack() {\n  var args = [].slice.call(arguments);\n  var track = args[0];\n  var sender = this._senders.get(track);\n  if (sender && sender.track) {\n    throw new Error('Cannot add MediaStreamTrack [' + track.id + ', '\n      + track.kind + ']: RTCPeerConnection already has it');\n  }\n  sender = getActiveSenders(this._peerConnection).get(track)\n    || this._peerConnection.addTrack.apply(this._peerConnection, args);\n\n  // NOTE(mmalavalli): webrtc-adapter has a bug where the \"addTrack\" shim\n  // does not return an RTCRtpSender and returns undefined instead. An issue\n  // [https://github.com/webrtc/adapter/issues/714] has been filed. For now,\n  // we manually get the RTCRtpSender associated with the added track and\n  // return it.\n  sender = sender || getActiveSenders(this._peerConnection).get(track);\n  this._senders.set(track, sender);\n  return sender;\n};\n\n// NOTE(mmalavalli): This shim works around a Safari bug in \"unified-plan\"\n// SDPs where adding a MediaStreamTrack that was previously added and removed\n// generates an SDP where the MSID does not match the MediaStreamTrack ID.\n//\n// Safari bug: https://bugs.webkit.org/show_bug.cgi?id=192101\n//\nif (RTCPeerConnection.prototype.addTransceiver) {\n  SafariRTCPeerConnection.prototype.addTransceiver = function addTransceiver() {\n    var transceiver = this._peerConnection.addTransceiver.apply(this._peerConnection, arguments);\n    var sender = transceiver.sender;\n    var track = sender.track;\n    this._senders.set(track, sender);\n    return transceiver;\n  };\n}\n\n// NOTE(mroberts): We can't really remove tracks right now, at least if we\n// ever want to add them back...\n//\n//     https://bugs.webkit.org/show_bug.cgi?id=174327\n//\n// NOTE(mmalavalli): This shim also works around a Safari bug in \"unified-plan\"\n// SDPs where adding a MediaStreamTrack that was previously added and removed\n// generates an SDP where the MSID does not match the MediaStreamTrack ID.\n//\n// Safari bug: https://bugs.webkit.org/show_bug.cgi?id=192101\n//\nSafariRTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n  if (this._isClosed) {\n    throw new Error('Cannot remove MediaStreamTrack: RTCPeerConnection is closed');\n  }\n  var track = sender.track;\n  if (!track) {\n    return;\n  }\n  sender = this._senders.get(track);\n  if (sender && sender.track) {\n    this._senders.set(track, new RTCRtpSenderShim(null));\n  }\n};\n\n// NOTE(mmalavalli): Because we are not delegating to the native\n// RTCPeerConnection#removeTrack(), we have to manually maintain a list of added\n// tracks. So we disable the delegation to the native RTCPeerConnection#getSenders()\n// for now.\nSafariRTCPeerConnection.prototype.getSenders = function getSenders() {\n  return Array.from(this._senders.values());\n};\n\nutil.delegateMethods(\n  RTCPeerConnection.prototype,\n  SafariRTCPeerConnection.prototype,\n  '_peerConnection');\n\nfunction setDescription(peerConnection, local, description) {\n  function setPendingLocalOffer(offer) {\n    if (local) {\n      peerConnection._pendingLocalOffer = offer;\n    } else {\n      peerConnection._pendingRemoteOffer = offer;\n    }\n  }\n\n  function clearPendingLocalOffer() {\n    if (local) {\n      peerConnection._pendingLocalOffer = null;\n    } else {\n      peerConnection._pendingRemoteOffer = null;\n    }\n  }\n\n  var pendingLocalOffer = local ? peerConnection._pendingLocalOffer : peerConnection._pendingRemoteOffer;\n  var pendingRemoteOffer = local ? peerConnection._pendingRemoteOffer : peerConnection._pendingLocalOffer;\n  var intermediateState = local ? 'have-local-offer' : 'have-remote-offer';\n  var setLocalDescription = local ? 'setLocalDescription' : 'setRemoteDescription';\n\n  if (!local && pendingRemoteOffer && description.type === 'answer') {\n    return setRemoteAnswer(peerConnection, description);\n  } else if (description.type === 'offer') {\n    if (peerConnection.signalingState !== intermediateState && peerConnection.signalingState !== 'stable') {\n      return Promise.reject(new Error('Cannot set ' + (local ? 'local' : 'remote') +\n        ' offer in state ' + peerConnection.signalingState));\n    }\n\n    if (!pendingLocalOffer && peerConnection._signalingStateLatch.state === 'low') {\n      peerConnection._signalingStateLatch.raise();\n    }\n    var previousSignalingState = peerConnection.signalingState;\n    setPendingLocalOffer(description);\n\n    // Only dispatch a signalingstatechange event if we transitioned.\n    if (peerConnection.signalingState !== previousSignalingState) {\n      return Promise.resolve().then(function dispatchSignalingStateChangeEvent() {\n        peerConnection.dispatchEvent(new Event('signalingstatechange'));\n      });\n    }\n\n    return Promise.resolve();\n  } else if (description.type === 'rollback') {\n    if (peerConnection.signalingState !== intermediateState) {\n      return Promise.reject(new Error('Cannot rollback ' +\n        (local ? 'local' : 'remote') + ' description in ' + peerConnection.signalingState));\n    }\n    clearPendingLocalOffer();\n    return Promise.resolve().then(function dispatchSignalingStateChangeEvent() {\n      peerConnection.dispatchEvent(new Event('signalingstatechange'));\n    });\n  }\n\n  return peerConnection._peerConnection[setLocalDescription](description);\n}\n\nfunction setRemoteAnswer(peerConnection, answer) {\n  var pendingLocalOffer = peerConnection._pendingLocalOffer;\n  return peerConnection._peerConnection.setLocalDescription(pendingLocalOffer).then(function setLocalOfferSucceeded() {\n    peerConnection._pendingLocalOffer = null;\n    return peerConnection.setRemoteDescription(answer);\n  }).then(function setRemoteAnswerSucceeded() {\n    peerConnection._signalingStateLatch.lower();\n  });\n}\n\n/**\n * Whether a SafariRTCPeerConnection has any RTCRtpSender(s) for the given\n * MediaStreamTrack kind.\n * @param {SafariRTCPeerConnection} peerConnection\n * @param {'audio' | 'video'} kind\n * @returns {boolean}\n */\nfunction hasSendersForTracksOfKind(peerConnection, kind) {\n  return !!peerConnection.getTransceivers().find(function(transceiver) {\n    return transceiver.sender && transceiver.sender.track && transceiver.sender.track.kind === kind;\n  });\n}\n\n/**\n * Shim an RTCDataChannel. This function mutates the RTCDataChannel.\n * @param {RTCDataChannel} dataChannel\n * @returns {RTCDataChannel}\n */\nfunction shimDataChannel(dataChannel) {\n  return Object.defineProperties(dataChannel, {\n    maxPacketLifeTime: {\n      value: dataChannel.maxPacketLifeTime === 65535\n        ? null\n        : dataChannel.maxPacketLifeTime\n    },\n    maxRetransmits: {\n      value: dataChannel.maxRetransmits === 65535\n        ? null\n        : dataChannel.maxRetransmits\n    }\n  });\n}\n\n/**\n * Gets the active RTCRtpSenders of the RTCPeerConnection.\n * @param peerConnection\n * @returns {Map<MediaStreamTrack, RTCRtpSender>}\n */\nfunction getActiveSenders(peerConnection) {\n  return new Map(peerConnection.getSenders().filter(function(sender) {\n    return sender.track;\n  }).map(function(sender) {\n    return [sender.track, sender];\n  }));\n}\n\nmodule.exports = SafariRTCPeerConnection;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3J0Y3BlZXJjb25uZWN0aW9uL3NhZmFyaS5qcz83YmJlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ2E7O0FBRWIsa0JBQWtCLG1CQUFPLENBQUMsOEJBQXFCO0FBQy9DLGVBQWUsbUJBQU8sQ0FBQyxlQUFNO0FBQzdCLFlBQVksbUJBQU8sQ0FBQyx3QkFBZTtBQUNuQyx1QkFBdUIsbUJBQU8sQ0FBQywwQkFBaUI7QUFDaEQsZUFBZSxtQkFBTyxDQUFDLHNCQUFhO0FBQ3BDLFdBQVcsbUJBQU8sQ0FBQyxrQkFBUzs7QUFFNUI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCO0FBQzVCOztBQUVBLGdFQUFnRTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHdCQUF3QjtBQUNoRTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msd0JBQXdCO0FBQ2hFO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsd0JBQXdCO0FBQ25DLFdBQVcsa0JBQWtCO0FBQzdCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxlQUFlO0FBQzFCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDs7QUFFQSIsImZpbGUiOiIyNzQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWxzIFJUQ1BlZXJDb25uZWN0aW9uLCBSVENSdHBUcmFuc2NlaXZlciwgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFdmVudFRhcmdldCA9IHJlcXVpcmUoJy4uL3V0aWwvZXZlbnR0YXJnZXQnKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ3V0aWwnKS5pbmhlcml0cztcbnZhciBMYXRjaCA9IHJlcXVpcmUoJy4uL3V0aWwvbGF0Y2gnKTtcbnZhciBSVENSdHBTZW5kZXJTaGltID0gcmVxdWlyZSgnLi4vcnRjcnRwc2VuZGVyJyk7XG52YXIgc2RwVXRpbHMgPSByZXF1aXJlKCcuLi91dGlsL3NkcCcpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuLi91dGlsJyk7XG5cbnZhciBpc1VuaWZpZWRQbGFuID0gJ2N1cnJlbnREaXJlY3Rpb24nIGluIFJUQ1J0cFRyYW5zY2VpdmVyLnByb3RvdHlwZTtcblxudmFyIHVwZGF0ZVRyYWNrSWRzVG9TU1JDcyA9IGlzVW5pZmllZFBsYW5cbiAgPyBzZHBVdGlscy51cGRhdGVVbmlmaWVkUGxhblRyYWNrSWRzVG9TU1JDc1xuICA6IHNkcFV0aWxzLnVwZGF0ZVBsYW5CVHJhY2tJZHNUb1NTUkNzO1xuXG5mdW5jdGlvbiBTYWZhcmlSVENQZWVyQ29ubmVjdGlvbihjb25maWd1cmF0aW9uKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTYWZhcmlSVENQZWVyQ29ubmVjdGlvbikpIHtcbiAgICByZXR1cm4gbmV3IFNhZmFyaVJUQ1BlZXJDb25uZWN0aW9uKGNvbmZpZ3VyYXRpb24pO1xuICB9XG5cbiAgRXZlbnRUYXJnZXQuY2FsbCh0aGlzKTtcblxuICB1dGlsLmludGVyY2VwdEV2ZW50KHRoaXMsICdkYXRhY2hhbm5lbCcpO1xuICB1dGlsLmludGVyY2VwdEV2ZW50KHRoaXMsICdpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UnKTtcbiAgdXRpbC5pbnRlcmNlcHRFdmVudCh0aGlzLCAnc2lnbmFsaW5nc3RhdGVjaGFuZ2UnKTtcbiAgdXRpbC5pbnRlcmNlcHRFdmVudCh0aGlzLCAndHJhY2snKTtcblxuICB2YXIgcGVlckNvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24oY29uZmlndXJhdGlvbik7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgIF9hdWRpb1RyYW5zY2VpdmVyOiB7XG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBfaXNDbG9zZWQ6IHtcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBfcGVlckNvbm5lY3Rpb246IHtcbiAgICAgIHZhbHVlOiBwZWVyQ29ubmVjdGlvblxuICAgIH0sXG4gICAgX3BlbmRpbmdMb2NhbE9mZmVyOiB7XG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBfcGVuZGluZ1JlbW90ZU9mZmVyOiB7XG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBfc2VuZGVyczoge1xuICAgICAgdmFsdWU6IG5ldyBNYXAoKVxuICAgIH0sXG4gICAgX3NpZ25hbGluZ1N0YXRlTGF0Y2g6IHtcbiAgICAgIHZhbHVlOiBuZXcgTGF0Y2goKVxuICAgIH0sXG4gICAgX3RyYWNrc1RvU1NSQ3M6IHtcbiAgICAgIHZhbHVlOiBuZXcgTWFwKClcbiAgICB9LFxuICAgIF92aWRlb1RyYW5zY2VpdmVyOiB7XG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBsb2NhbERlc2NyaXB0aW9uOiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BlbmRpbmdMb2NhbE9mZmVyIHx8IHRoaXMuX3BlZXJDb25uZWN0aW9uLmxvY2FsRGVzY3JpcHRpb247XG4gICAgICB9XG4gICAgfSxcbiAgICBpY2VDb25uZWN0aW9uU3RhdGU6IHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNDbG9zZWQgPyAnY2xvc2VkJyA6IHRoaXMuX3BlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGljZUdhdGhlcmluZ1N0YXRlOiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzQ2xvc2VkID8gJ2NvbXBsZXRlJyA6IHRoaXMuX3BlZXJDb25uZWN0aW9uLmljZUdhdGhlcmluZ1N0YXRlO1xuICAgICAgfVxuICAgIH0sXG4gICAgLy8gTk9URShtcm9iZXJ0cyk6IEtlZXAgdGhpcyBoZXJlIHVudGlsIHRoZSBmb2xsb3dpbmcgaXMgZml4ZWQuXG4gICAgLy9cbiAgICAvLyAgIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNzQzMjNcbiAgICAvL1xuICAgIHJlbW90ZURlc2NyaXB0aW9uOiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BlbmRpbmdSZW1vdGVPZmZlciB8fCB0aGlzLl9wZWVyQ29ubmVjdGlvbi5yZW1vdGVEZXNjcmlwdGlvbjtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNpZ25hbGluZ1N0YXRlOiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQ2xvc2VkKSB7XG4gICAgICAgICAgcmV0dXJuICdjbG9zZWQnO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3BlbmRpbmdMb2NhbE9mZmVyKSB7XG4gICAgICAgICAgcmV0dXJuICdoYXZlLWxvY2FsLW9mZmVyJztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9wZW5kaW5nUmVtb3RlT2ZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gJ2hhdmUtcmVtb3RlLW9mZmVyJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcGVlckNvbm5lY3Rpb24uc2lnbmFsaW5nU3RhdGU7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgcGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignZGF0YWNoYW5uZWwnLCBmdW5jdGlvbiBvbmRhdGFjaGFubmVsKGV2ZW50KSB7XG4gICAgc2hpbURhdGFDaGFubmVsKGV2ZW50LmNoYW5uZWwpO1xuICAgIHNlbGYuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH0pO1xuXG4gIHBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2ljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZScsIGZ1bmN0aW9uIG9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKCkge1xuICAgIGlmIChzZWxmLl9pc0Nsb3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZWxmLmRpc3BhdGNoRXZlbnQuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgfSk7XG5cbiAgcGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignc2lnbmFsaW5nc3RhdGVjaGFuZ2UnLCBmdW5jdGlvbiBvbnNpZ25hbGluZ3N0YXRlY2hhbmdlKCkge1xuICAgIGlmIChzZWxmLl9pc0Nsb3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXNlbGYuX3BlbmRpbmdMb2NhbE9mZmVyICYmICFzZWxmLl9wZW5kaW5nUmVtb3RlT2ZmZXIpIHtcbiAgICAgIHNlbGYuZGlzcGF0Y2hFdmVudC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gTk9URShzeWVycmFwcmFnYWRhKTogVGhpcyBlbnN1cmVzIHRoYXQgU2FmYXJpUlRDUGVlckNvbm5lY3Rpb24ncyBcInJlbW90ZURlc2NyaXB0aW9uXCIsIHdoZW4gYWNjZXNzZWRcbiAgLy8gaW4gYW4gUlRDVHJhY2tFdmVudCBsaXN0ZW5lciwgd2lsbCBwb2ludCB0byB0aGUgdW5kZXJseWluZyBSVENQZWVyQ29ubmVjdGlvbidzXG4gIC8vIFwicmVtb3RlRGVzY3JpcHRpb25cIi4gQmVmb3JlIHRoaXMgZml4LCB0aGlzIHdhcyBzdGlsbCBwb2ludGluZyB0byBcIl9wZW5kaW5nUmVtb3RlT2ZmZXJcIlxuICAvLyBldmVuIHRob3VnaCBhIG5ldyByZW1vdGUgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uIGhhZCBhbHJlYWR5IGJlZW4gYXBwbGllZC5cbiAgcGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcigndHJhY2snLCBmdW5jdGlvbiBvbnRyYWNrKGV2ZW50KSB7XG4gICAgc2VsZi5fcGVuZGluZ1JlbW90ZU9mZmVyID0gbnVsbDtcbiAgICBzZWxmLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICB9KTtcblxuICB1dGlsLnByb3h5UHJvcGVydGllcyhSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsIHRoaXMsIHBlZXJDb25uZWN0aW9uKTtcbn1cblxuaW5oZXJpdHMoU2FmYXJpUlRDUGVlckNvbm5lY3Rpb24sIEV2ZW50VGFyZ2V0KTtcblxuU2FmYXJpUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZSA9IGZ1bmN0aW9uIGFkZEljZUNhbmRpZGF0ZShjYW5kaWRhdGUpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAodGhpcy5zaWduYWxpbmdTdGF0ZSA9PT0gJ2hhdmUtcmVtb3RlLW9mZmVyJykge1xuICAgIHJldHVybiB0aGlzLl9zaWduYWxpbmdTdGF0ZUxhdGNoLndoZW4oJ2xvdycpLnRoZW4oZnVuY3Rpb24gc2lnbmFsaW5nU3RhdGVzUmVzb2x2ZWQoKSB7XG4gICAgICByZXR1cm4gc2VsZi5fcGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHRoaXMuX3BlZXJDb25uZWN0aW9uLmFkZEljZUNhbmRpZGF0ZShjYW5kaWRhdGUpO1xufTtcblxuU2FmYXJpUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyID0gZnVuY3Rpb24gY3JlYXRlT2ZmZXIob3B0aW9ucykge1xuICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICAvLyBOT1RFKG1yb2JlcnRzKTogSW4gZ2VuZXJhbCwgdGhpcyBpcyBub3QgdGhlIHdheSB0byBkbyB0aGlzOyBob3dldmVyLCBpdCdzXG4gIC8vIGdvb2QgZW5vdWdoIGZvciBvdXIgYXBwbGljYXRpb24uXG4gIGlmIChvcHRpb25zLm9mZmVyVG9SZWNlaXZlQXVkaW8gJiYgIXRoaXMuX2F1ZGlvVHJhbnNjZWl2ZXIgJiYgIShpc1VuaWZpZWRQbGFuICYmIGhhc1NlbmRlcnNGb3JUcmFja3NPZktpbmQodGhpcywgJ2F1ZGlvJykpKSB7XG4gICAgZGVsZXRlIG9wdGlvbnMub2ZmZXJUb1JlY2VpdmVBdWRpbztcbiAgICB0cnkge1xuICAgICAgdGhpcy5fYXVkaW9UcmFuc2NlaXZlciA9IGlzVW5pZmllZFBsYW5cbiAgICAgICAgPyB0aGlzLmFkZFRyYW5zY2VpdmVyKCdhdWRpbycsIHsgZGlyZWN0aW9uOiAncmVjdm9ubHknIH0pXG4gICAgICAgIDogdGhpcy5hZGRUcmFuc2NlaXZlcignYXVkaW8nKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG9wdGlvbnMub2ZmZXJUb1JlY2VpdmVWaWRlbyAmJiAhdGhpcy5fdmlkZW9UcmFuc2NlaXZlciAmJiAhKGlzVW5pZmllZFBsYW4gJiYgaGFzU2VuZGVyc0ZvclRyYWNrc09mS2luZCh0aGlzLCAndmlkZW8nKSkpIHtcbiAgICBkZWxldGUgb3B0aW9ucy5vZmZlclRvUmVjZWl2ZVZpZGVvO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLl92aWRlb1RyYW5zY2VpdmVyID0gaXNVbmlmaWVkUGxhblxuICAgICAgICA/IHRoaXMuYWRkVHJhbnNjZWl2ZXIoJ3ZpZGVvJywgeyBkaXJlY3Rpb246ICdyZWN2b25seScgfSlcbiAgICAgICAgOiB0aGlzLmFkZFRyYW5zY2VpdmVyKCd2aWRlbycpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcy5fcGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIob3B0aW9ucykudGhlbihmdW5jdGlvbihvZmZlcikge1xuICAgIHJldHVybiBuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHtcbiAgICAgIHR5cGU6IG9mZmVyLnR5cGUsXG4gICAgICBzZHA6IHVwZGF0ZVRyYWNrSWRzVG9TU1JDcyhzZWxmLl90cmFja3NUb1NTUkNzLCBvZmZlci5zZHApXG4gICAgfSk7XG4gIH0pO1xufTtcblxuU2FmYXJpUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZUFuc3dlciA9IGZ1bmN0aW9uIGNyZWF0ZUFuc3dlcihvcHRpb25zKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAodGhpcy5fcGVuZGluZ1JlbW90ZU9mZmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHRoaXMuX3BlbmRpbmdSZW1vdGVPZmZlcikudGhlbihmdW5jdGlvbiBzZXRSZW1vdGVEZXNjcmlwdGlvblN1Y2NlZWRlZCgpIHtcbiAgICAgIHNlbGYuX3NpZ25hbGluZ1N0YXRlTGF0Y2gubG93ZXIoKTtcbiAgICAgIHJldHVybiBzZWxmLl9wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIGNyZWF0ZUFuc3dlclN1Y2NlZWRlZChhbnN3ZXIpIHtcbiAgICAgIHNlbGYuX3BlbmRpbmdSZW1vdGVPZmZlciA9IG51bGw7XG4gICAgICByZXR1cm4gaXNVbmlmaWVkUGxhbiA/IG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe1xuICAgICAgICB0eXBlOiBhbnN3ZXIudHlwZSxcbiAgICAgICAgc2RwOiB1cGRhdGVUcmFja0lkc1RvU1NSQ3Moc2VsZi5fdHJhY2tzVG9TU1JDcywgYW5zd2VyLnNkcClcbiAgICAgIH0pIDogYW5zd2VyO1xuICAgIH0sIGZ1bmN0aW9uIHNldFJlbW90ZURlc2NyaXB0aW9uT3JDcmVhdGVBbnN3ZXJGYWlsZWQoZXJyb3IpIHtcbiAgICAgIHNlbGYuX3BlbmRpbmdSZW1vdGVPZmZlciA9IG51bGw7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIob3B0aW9ucykudGhlbihmdW5jdGlvbihhbnN3ZXIpIHtcbiAgICByZXR1cm4gaXNVbmlmaWVkUGxhbiA/IG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe1xuICAgICAgdHlwZTogYW5zd2VyLnR5cGUsXG4gICAgICBzZHA6IHVwZGF0ZVRyYWNrSWRzVG9TU1JDcyhzZWxmLl90cmFja3NUb1NTUkNzLCBhbnN3ZXIuc2RwKVxuICAgIH0pIDogYW5zd2VyO1xuICB9KTtcbn07XG5cblNhZmFyaVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVEYXRhQ2hhbm5lbCA9IGZ1bmN0aW9uIGNyZWF0ZURhdGFDaGFubmVsKGxhYmVsLCBkYXRhQ2hhbm5lbERpY3QpIHtcbiAgdmFyIGRhdGFDaGFubmVsID0gdGhpcy5fcGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwobGFiZWwsIGRhdGFDaGFubmVsRGljdCk7XG4gIHNoaW1EYXRhQ2hhbm5lbChkYXRhQ2hhbm5lbCk7XG4gIHJldHVybiBkYXRhQ2hhbm5lbDtcbn07XG5cblNhZmFyaVJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uID0gZnVuY3Rpb24gc2V0TG9jYWxEZXNjcmlwdGlvbihkZXNjcmlwdGlvbikge1xuICByZXR1cm4gc2V0RGVzY3JpcHRpb24odGhpcywgdHJ1ZSwgZGVzY3JpcHRpb24pO1xufTtcblxuU2FmYXJpUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uID0gZnVuY3Rpb24gc2V0UmVtb3RlRGVzY3JpcHRpb24oZGVzY3JpcHRpb24pIHtcbiAgcmV0dXJuIHNldERlc2NyaXB0aW9uKHRoaXMsIGZhbHNlLCBkZXNjcmlwdGlvbik7XG59O1xuXG5TYWZhcmlSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgaWYgKHRoaXMuX2lzQ2xvc2VkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRoaXMuX2lzQ2xvc2VkID0gdHJ1ZTtcbiAgdGhpcy5fcGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIHNlbGYuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2ljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZScpKTtcbiAgICBzZWxmLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdzaWduYWxpbmdzdGF0ZWNoYW5nZScpKTtcbiAgfSk7XG59O1xuXG4vLyBOT1RFKG1tYWxhdmFsbGkpOiBCZWNhdXNlIHdlIGFyZSBub3QgZGVsZWdhdGluZyB0byB0aGUgbmF0aXZlXG4vLyBSVENQZWVyQ29ubmVjdGlvbiNyZW1vdmVUcmFjaygpLCB3ZSBoYXZlIHRvIG1hbnVhbGx5IG1haW50YWluIGEgbGlzdCBvZiBhZGRlZFxuLy8gdHJhY2tzLiBTbyB3ZSBkaXNhYmxlIHRoZSBkZWxlZ2F0aW9uIHRvIHRoZSBuYXRpdmUgUlRDUGVlckNvbm5lY3Rpb24jYWRkVHJhY2soKVxuLy8gZm9yIG5vdy4gQWxzbywgd2UgbWFpbnRhaW4gb25seSBvbmUgUlRDUnRwU2VuZGVyIHBlciBNZWRpYVN0cmVhbVRyYWNrIGZvciBvdXJcbi8vIHVzZSBjYXNlLCBhbmQgbm90IHdvcnJ5IGFib3V0IG11bHRpcGxlIFJUQ1J0cFNlbmRlcnMgZHVlIHRvIHJlcGxhY2VUcmFjaygpLlxuU2FmYXJpUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrID0gZnVuY3Rpb24gYWRkVHJhY2soKSB7XG4gIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICB2YXIgdHJhY2sgPSBhcmdzWzBdO1xuICB2YXIgc2VuZGVyID0gdGhpcy5fc2VuZGVycy5nZXQodHJhY2spO1xuICBpZiAoc2VuZGVyICYmIHNlbmRlci50cmFjaykge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFkZCBNZWRpYVN0cmVhbVRyYWNrIFsnICsgdHJhY2suaWQgKyAnLCAnXG4gICAgICArIHRyYWNrLmtpbmQgKyAnXTogUlRDUGVlckNvbm5lY3Rpb24gYWxyZWFkeSBoYXMgaXQnKTtcbiAgfVxuICBzZW5kZXIgPSBnZXRBY3RpdmVTZW5kZXJzKHRoaXMuX3BlZXJDb25uZWN0aW9uKS5nZXQodHJhY2spXG4gICAgfHwgdGhpcy5fcGVlckNvbm5lY3Rpb24uYWRkVHJhY2suYXBwbHkodGhpcy5fcGVlckNvbm5lY3Rpb24sIGFyZ3MpO1xuXG4gIC8vIE5PVEUobW1hbGF2YWxsaSk6IHdlYnJ0Yy1hZGFwdGVyIGhhcyBhIGJ1ZyB3aGVyZSB0aGUgXCJhZGRUcmFja1wiIHNoaW1cbiAgLy8gZG9lcyBub3QgcmV0dXJuIGFuIFJUQ1J0cFNlbmRlciBhbmQgcmV0dXJucyB1bmRlZmluZWQgaW5zdGVhZC4gQW4gaXNzdWVcbiAgLy8gW2h0dHBzOi8vZ2l0aHViLmNvbS93ZWJydGMvYWRhcHRlci9pc3N1ZXMvNzE0XSBoYXMgYmVlbiBmaWxlZC4gRm9yIG5vdyxcbiAgLy8gd2UgbWFudWFsbHkgZ2V0IHRoZSBSVENSdHBTZW5kZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBhZGRlZCB0cmFjayBhbmRcbiAgLy8gcmV0dXJuIGl0LlxuICBzZW5kZXIgPSBzZW5kZXIgfHwgZ2V0QWN0aXZlU2VuZGVycyh0aGlzLl9wZWVyQ29ubmVjdGlvbikuZ2V0KHRyYWNrKTtcbiAgdGhpcy5fc2VuZGVycy5zZXQodHJhY2ssIHNlbmRlcik7XG4gIHJldHVybiBzZW5kZXI7XG59O1xuXG4vLyBOT1RFKG1tYWxhdmFsbGkpOiBUaGlzIHNoaW0gd29ya3MgYXJvdW5kIGEgU2FmYXJpIGJ1ZyBpbiBcInVuaWZpZWQtcGxhblwiXG4vLyBTRFBzIHdoZXJlIGFkZGluZyBhIE1lZGlhU3RyZWFtVHJhY2sgdGhhdCB3YXMgcHJldmlvdXNseSBhZGRlZCBhbmQgcmVtb3ZlZFxuLy8gZ2VuZXJhdGVzIGFuIFNEUCB3aGVyZSB0aGUgTVNJRCBkb2VzIG5vdCBtYXRjaCB0aGUgTWVkaWFTdHJlYW1UcmFjayBJRC5cbi8vXG4vLyBTYWZhcmkgYnVnOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTkyMTAxXG4vL1xuaWYgKFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFuc2NlaXZlcikge1xuICBTYWZhcmlSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhbnNjZWl2ZXIgPSBmdW5jdGlvbiBhZGRUcmFuc2NlaXZlcigpIHtcbiAgICB2YXIgdHJhbnNjZWl2ZXIgPSB0aGlzLl9wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlci5hcHBseSh0aGlzLl9wZWVyQ29ubmVjdGlvbiwgYXJndW1lbnRzKTtcbiAgICB2YXIgc2VuZGVyID0gdHJhbnNjZWl2ZXIuc2VuZGVyO1xuICAgIHZhciB0cmFjayA9IHNlbmRlci50cmFjaztcbiAgICB0aGlzLl9zZW5kZXJzLnNldCh0cmFjaywgc2VuZGVyKTtcbiAgICByZXR1cm4gdHJhbnNjZWl2ZXI7XG4gIH07XG59XG5cbi8vIE5PVEUobXJvYmVydHMpOiBXZSBjYW4ndCByZWFsbHkgcmVtb3ZlIHRyYWNrcyByaWdodCBub3csIGF0IGxlYXN0IGlmIHdlXG4vLyBldmVyIHdhbnQgdG8gYWRkIHRoZW0gYmFjay4uLlxuLy9cbi8vICAgICBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTc0MzI3XG4vL1xuLy8gTk9URShtbWFsYXZhbGxpKTogVGhpcyBzaGltIGFsc28gd29ya3MgYXJvdW5kIGEgU2FmYXJpIGJ1ZyBpbiBcInVuaWZpZWQtcGxhblwiXG4vLyBTRFBzIHdoZXJlIGFkZGluZyBhIE1lZGlhU3RyZWFtVHJhY2sgdGhhdCB3YXMgcHJldmlvdXNseSBhZGRlZCBhbmQgcmVtb3ZlZFxuLy8gZ2VuZXJhdGVzIGFuIFNEUCB3aGVyZSB0aGUgTVNJRCBkb2VzIG5vdCBtYXRjaCB0aGUgTWVkaWFTdHJlYW1UcmFjayBJRC5cbi8vXG4vLyBTYWZhcmkgYnVnOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTkyMTAxXG4vL1xuU2FmYXJpUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrID0gZnVuY3Rpb24gcmVtb3ZlVHJhY2soc2VuZGVyKSB7XG4gIGlmICh0aGlzLl9pc0Nsb3NlZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJlbW92ZSBNZWRpYVN0cmVhbVRyYWNrOiBSVENQZWVyQ29ubmVjdGlvbiBpcyBjbG9zZWQnKTtcbiAgfVxuICB2YXIgdHJhY2sgPSBzZW5kZXIudHJhY2s7XG4gIGlmICghdHJhY2spIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2VuZGVyID0gdGhpcy5fc2VuZGVycy5nZXQodHJhY2spO1xuICBpZiAoc2VuZGVyICYmIHNlbmRlci50cmFjaykge1xuICAgIHRoaXMuX3NlbmRlcnMuc2V0KHRyYWNrLCBuZXcgUlRDUnRwU2VuZGVyU2hpbShudWxsKSk7XG4gIH1cbn07XG5cbi8vIE5PVEUobW1hbGF2YWxsaSk6IEJlY2F1c2Ugd2UgYXJlIG5vdCBkZWxlZ2F0aW5nIHRvIHRoZSBuYXRpdmVcbi8vIFJUQ1BlZXJDb25uZWN0aW9uI3JlbW92ZVRyYWNrKCksIHdlIGhhdmUgdG8gbWFudWFsbHkgbWFpbnRhaW4gYSBsaXN0IG9mIGFkZGVkXG4vLyB0cmFja3MuIFNvIHdlIGRpc2FibGUgdGhlIGRlbGVnYXRpb24gdG8gdGhlIG5hdGl2ZSBSVENQZWVyQ29ubmVjdGlvbiNnZXRTZW5kZXJzKClcbi8vIGZvciBub3cuXG5TYWZhcmlSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycyA9IGZ1bmN0aW9uIGdldFNlbmRlcnMoKSB7XG4gIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX3NlbmRlcnMudmFsdWVzKCkpO1xufTtcblxudXRpbC5kZWxlZ2F0ZU1ldGhvZHMoXG4gIFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcbiAgU2FmYXJpUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLFxuICAnX3BlZXJDb25uZWN0aW9uJyk7XG5cbmZ1bmN0aW9uIHNldERlc2NyaXB0aW9uKHBlZXJDb25uZWN0aW9uLCBsb2NhbCwgZGVzY3JpcHRpb24pIHtcbiAgZnVuY3Rpb24gc2V0UGVuZGluZ0xvY2FsT2ZmZXIob2ZmZXIpIHtcbiAgICBpZiAobG9jYWwpIHtcbiAgICAgIHBlZXJDb25uZWN0aW9uLl9wZW5kaW5nTG9jYWxPZmZlciA9IG9mZmVyO1xuICAgIH0gZWxzZSB7XG4gICAgICBwZWVyQ29ubmVjdGlvbi5fcGVuZGluZ1JlbW90ZU9mZmVyID0gb2ZmZXI7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJQZW5kaW5nTG9jYWxPZmZlcigpIHtcbiAgICBpZiAobG9jYWwpIHtcbiAgICAgIHBlZXJDb25uZWN0aW9uLl9wZW5kaW5nTG9jYWxPZmZlciA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZXJDb25uZWN0aW9uLl9wZW5kaW5nUmVtb3RlT2ZmZXIgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwZW5kaW5nTG9jYWxPZmZlciA9IGxvY2FsID8gcGVlckNvbm5lY3Rpb24uX3BlbmRpbmdMb2NhbE9mZmVyIDogcGVlckNvbm5lY3Rpb24uX3BlbmRpbmdSZW1vdGVPZmZlcjtcbiAgdmFyIHBlbmRpbmdSZW1vdGVPZmZlciA9IGxvY2FsID8gcGVlckNvbm5lY3Rpb24uX3BlbmRpbmdSZW1vdGVPZmZlciA6IHBlZXJDb25uZWN0aW9uLl9wZW5kaW5nTG9jYWxPZmZlcjtcbiAgdmFyIGludGVybWVkaWF0ZVN0YXRlID0gbG9jYWwgPyAnaGF2ZS1sb2NhbC1vZmZlcicgOiAnaGF2ZS1yZW1vdGUtb2ZmZXInO1xuICB2YXIgc2V0TG9jYWxEZXNjcmlwdGlvbiA9IGxvY2FsID8gJ3NldExvY2FsRGVzY3JpcHRpb24nIDogJ3NldFJlbW90ZURlc2NyaXB0aW9uJztcblxuICBpZiAoIWxvY2FsICYmIHBlbmRpbmdSZW1vdGVPZmZlciAmJiBkZXNjcmlwdGlvbi50eXBlID09PSAnYW5zd2VyJykge1xuICAgIHJldHVybiBzZXRSZW1vdGVBbnN3ZXIocGVlckNvbm5lY3Rpb24sIGRlc2NyaXB0aW9uKTtcbiAgfSBlbHNlIGlmIChkZXNjcmlwdGlvbi50eXBlID09PSAnb2ZmZXInKSB7XG4gICAgaWYgKHBlZXJDb25uZWN0aW9uLnNpZ25hbGluZ1N0YXRlICE9PSBpbnRlcm1lZGlhdGVTdGF0ZSAmJiBwZWVyQ29ubmVjdGlvbi5zaWduYWxpbmdTdGF0ZSAhPT0gJ3N0YWJsZScpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0Nhbm5vdCBzZXQgJyArIChsb2NhbCA/ICdsb2NhbCcgOiAncmVtb3RlJykgK1xuICAgICAgICAnIG9mZmVyIGluIHN0YXRlICcgKyBwZWVyQ29ubmVjdGlvbi5zaWduYWxpbmdTdGF0ZSkpO1xuICAgIH1cblxuICAgIGlmICghcGVuZGluZ0xvY2FsT2ZmZXIgJiYgcGVlckNvbm5lY3Rpb24uX3NpZ25hbGluZ1N0YXRlTGF0Y2guc3RhdGUgPT09ICdsb3cnKSB7XG4gICAgICBwZWVyQ29ubmVjdGlvbi5fc2lnbmFsaW5nU3RhdGVMYXRjaC5yYWlzZSgpO1xuICAgIH1cbiAgICB2YXIgcHJldmlvdXNTaWduYWxpbmdTdGF0ZSA9IHBlZXJDb25uZWN0aW9uLnNpZ25hbGluZ1N0YXRlO1xuICAgIHNldFBlbmRpbmdMb2NhbE9mZmVyKGRlc2NyaXB0aW9uKTtcblxuICAgIC8vIE9ubHkgZGlzcGF0Y2ggYSBzaWduYWxpbmdzdGF0ZWNoYW5nZSBldmVudCBpZiB3ZSB0cmFuc2l0aW9uZWQuXG4gICAgaWYgKHBlZXJDb25uZWN0aW9uLnNpZ25hbGluZ1N0YXRlICE9PSBwcmV2aW91c1NpZ25hbGluZ1N0YXRlKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiBkaXNwYXRjaFNpZ25hbGluZ1N0YXRlQ2hhbmdlRXZlbnQoKSB7XG4gICAgICAgIHBlZXJDb25uZWN0aW9uLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdzaWduYWxpbmdzdGF0ZWNoYW5nZScpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfSBlbHNlIGlmIChkZXNjcmlwdGlvbi50eXBlID09PSAncm9sbGJhY2snKSB7XG4gICAgaWYgKHBlZXJDb25uZWN0aW9uLnNpZ25hbGluZ1N0YXRlICE9PSBpbnRlcm1lZGlhdGVTdGF0ZSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQ2Fubm90IHJvbGxiYWNrICcgK1xuICAgICAgICAobG9jYWwgPyAnbG9jYWwnIDogJ3JlbW90ZScpICsgJyBkZXNjcmlwdGlvbiBpbiAnICsgcGVlckNvbm5lY3Rpb24uc2lnbmFsaW5nU3RhdGUpKTtcbiAgICB9XG4gICAgY2xlYXJQZW5kaW5nTG9jYWxPZmZlcigpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uIGRpc3BhdGNoU2lnbmFsaW5nU3RhdGVDaGFuZ2VFdmVudCgpIHtcbiAgICAgIHBlZXJDb25uZWN0aW9uLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdzaWduYWxpbmdzdGF0ZWNoYW5nZScpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBwZWVyQ29ubmVjdGlvbi5fcGVlckNvbm5lY3Rpb25bc2V0TG9jYWxEZXNjcmlwdGlvbl0oZGVzY3JpcHRpb24pO1xufVxuXG5mdW5jdGlvbiBzZXRSZW1vdGVBbnN3ZXIocGVlckNvbm5lY3Rpb24sIGFuc3dlcikge1xuICB2YXIgcGVuZGluZ0xvY2FsT2ZmZXIgPSBwZWVyQ29ubmVjdGlvbi5fcGVuZGluZ0xvY2FsT2ZmZXI7XG4gIHJldHVybiBwZWVyQ29ubmVjdGlvbi5fcGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihwZW5kaW5nTG9jYWxPZmZlcikudGhlbihmdW5jdGlvbiBzZXRMb2NhbE9mZmVyU3VjY2VlZGVkKCkge1xuICAgIHBlZXJDb25uZWN0aW9uLl9wZW5kaW5nTG9jYWxPZmZlciA9IG51bGw7XG4gICAgcmV0dXJuIHBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKGFuc3dlcik7XG4gIH0pLnRoZW4oZnVuY3Rpb24gc2V0UmVtb3RlQW5zd2VyU3VjY2VlZGVkKCkge1xuICAgIHBlZXJDb25uZWN0aW9uLl9zaWduYWxpbmdTdGF0ZUxhdGNoLmxvd2VyKCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFdoZXRoZXIgYSBTYWZhcmlSVENQZWVyQ29ubmVjdGlvbiBoYXMgYW55IFJUQ1J0cFNlbmRlcihzKSBmb3IgdGhlIGdpdmVuXG4gKiBNZWRpYVN0cmVhbVRyYWNrIGtpbmQuXG4gKiBAcGFyYW0ge1NhZmFyaVJUQ1BlZXJDb25uZWN0aW9ufSBwZWVyQ29ubmVjdGlvblxuICogQHBhcmFtIHsnYXVkaW8nIHwgJ3ZpZGVvJ30ga2luZFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGhhc1NlbmRlcnNGb3JUcmFja3NPZktpbmQocGVlckNvbm5lY3Rpb24sIGtpbmQpIHtcbiAgcmV0dXJuICEhcGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZChmdW5jdGlvbih0cmFuc2NlaXZlcikge1xuICAgIHJldHVybiB0cmFuc2NlaXZlci5zZW5kZXIgJiYgdHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrICYmIHRyYW5zY2VpdmVyLnNlbmRlci50cmFjay5raW5kID09PSBraW5kO1xuICB9KTtcbn1cblxuLyoqXG4gKiBTaGltIGFuIFJUQ0RhdGFDaGFubmVsLiBUaGlzIGZ1bmN0aW9uIG11dGF0ZXMgdGhlIFJUQ0RhdGFDaGFubmVsLlxuICogQHBhcmFtIHtSVENEYXRhQ2hhbm5lbH0gZGF0YUNoYW5uZWxcbiAqIEByZXR1cm5zIHtSVENEYXRhQ2hhbm5lbH1cbiAqL1xuZnVuY3Rpb24gc2hpbURhdGFDaGFubmVsKGRhdGFDaGFubmVsKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhkYXRhQ2hhbm5lbCwge1xuICAgIG1heFBhY2tldExpZmVUaW1lOiB7XG4gICAgICB2YWx1ZTogZGF0YUNoYW5uZWwubWF4UGFja2V0TGlmZVRpbWUgPT09IDY1NTM1XG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IGRhdGFDaGFubmVsLm1heFBhY2tldExpZmVUaW1lXG4gICAgfSxcbiAgICBtYXhSZXRyYW5zbWl0czoge1xuICAgICAgdmFsdWU6IGRhdGFDaGFubmVsLm1heFJldHJhbnNtaXRzID09PSA2NTUzNVxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiBkYXRhQ2hhbm5lbC5tYXhSZXRyYW5zbWl0c1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgYWN0aXZlIFJUQ1J0cFNlbmRlcnMgb2YgdGhlIFJUQ1BlZXJDb25uZWN0aW9uLlxuICogQHBhcmFtIHBlZXJDb25uZWN0aW9uXG4gKiBAcmV0dXJucyB7TWFwPE1lZGlhU3RyZWFtVHJhY2ssIFJUQ1J0cFNlbmRlcj59XG4gKi9cbmZ1bmN0aW9uIGdldEFjdGl2ZVNlbmRlcnMocGVlckNvbm5lY3Rpb24pIHtcbiAgcmV0dXJuIG5ldyBNYXAocGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZpbHRlcihmdW5jdGlvbihzZW5kZXIpIHtcbiAgICByZXR1cm4gc2VuZGVyLnRyYWNrO1xuICB9KS5tYXAoZnVuY3Rpb24oc2VuZGVyKSB7XG4gICAgcmV0dXJuIFtzZW5kZXIudHJhY2ssIHNlbmRlcl07XG4gIH0pKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTYWZhcmlSVENQZWVyQ29ubmVjdGlvbjtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0B0d2lsaW8vd2VicnRjL2xpYi9ydGNwZWVyY29ubmVjdGlvbi9zYWZhcmkuanNcbi8vIG1vZHVsZSBpZCA9IDI3NFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///274\n");

/***/ }),
/* 275 */
/*!************************************************************************!*\
  !*** ./node_modules/@twilio/webrtc/lib/rtcsessiondescription/index.js ***!
  \************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar guessBrowser = __webpack_require__(/*! ../util */ 210).guessBrowser;\n\nswitch (guessBrowser()) {\n  case 'chrome':\n    module.exports = __webpack_require__(/*! ./chrome */ 231);\n    break;\n  case 'firefox':\n    module.exports = __webpack_require__(/*! ./firefox */ 233);\n    break;\n  default:\n    if (typeof RTCSessionDescription === 'undefined') {\n      break;\n    }\n    module.exports = RTCSessionDescription;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvbGliL3J0Y3Nlc3Npb25kZXNjcmlwdGlvbi9pbmRleC5qcz9jOTlhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLG1CQUFtQixtQkFBTyxDQUFDLGtCQUFTOztBQUVwQztBQUNBO0FBQ0EscUJBQXFCLG1CQUFPLENBQUMsbUJBQVU7QUFDdkM7QUFDQTtBQUNBLHFCQUFxQixtQkFBTyxDQUFDLG9CQUFXO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjI3NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGd1ZXNzQnJvd3NlciA9IHJlcXVpcmUoJy4uL3V0aWwnKS5ndWVzc0Jyb3dzZXI7XG5cbnN3aXRjaCAoZ3Vlc3NCcm93c2VyKCkpIHtcbiAgY2FzZSAnY2hyb21lJzpcbiAgICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2hyb21lJyk7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ2ZpcmVmb3gnOlxuICAgIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9maXJlZm94Jyk7XG4gICAgYnJlYWs7XG4gIGRlZmF1bHQ6XG4gICAgaWYgKHR5cGVvZiBSVENTZXNzaW9uRGVzY3JpcHRpb24gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBSVENTZXNzaW9uRGVzY3JpcHRpb247XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AdHdpbGlvL3dlYnJ0Yy9saWIvcnRjc2Vzc2lvbmRlc2NyaXB0aW9uL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAyNzVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///275\n");

/***/ }),
/* 276 */
/*!**************************************************!*\
  !*** ./node_modules/@twilio/webrtc/package.json ***!
  \**************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = {\"name\":\"@twilio/webrtc\",\"version\":\"2.2.1\",\"description\":\"WebRTC-related APIs and shims used by twilio-video.js\",\"scripts\":{\"build\":\"npm-run-all clean lint test\",\"clean\":\"rimraf coverage\",\"lint\":\"eslint ./lib\",\"test:unit\":\"istanbul cover node_modules/mocha/bin/_mocha -- ./test/unit/index.js\",\"test:integration:native\":\"karma start karma/integration.conf.js\",\"test:integration:adapter\":\"karma start karma/integration.adapter.conf.js\",\"test:integration\":\"npm-run-all test:integration:*\",\"test\":\"npm-run-all test:*\"},\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/twilio/twilio-webrtc.js.git\"},\"keywords\":[\"shim\",\"twilio\",\"video\",\"webrtc\"],\"author\":\"Manjesh Malavalli <mmalavalli@twilio.com>\",\"contributors\":[\"Mark Roberts <mroberts@twilio.com>\",\"Ryan Rowland <rrowland@twilio.com>\"],\"license\":\"BSD-3-Clause\",\"main\":\"./lib/index.js\",\"bugs\":{\"url\":\"https://github.com/twilio/twilio-webrtc.js/issues\"},\"homepage\":\"https://github.com/twilio/twilio-webrtc.js#readme\",\"devDependencies\":{\"browserify\":\"^14.4.0\",\"envify\":\"^4.1.0\",\"eslint\":\"^4.4.1\",\"istanbul\":\"^0.4.5\",\"karma\":\"^1.7.0\",\"karma-browserify\":\"^5.1.1\",\"karma-chrome-launcher\":\"^2.2.0\",\"karma-firefox-launcher\":\"^1.0.1\",\"karma-mocha\":\"^1.3.0\",\"karma-safari-launcher\":\"^1.0.0\",\"karma-spec-reporter\":\"0.0.31\",\"mocha\":\"^3.5.0\",\"npm-run-all\":\"^4.0.2\",\"release-tool\":\"^0.2.2\",\"rimraf\":\"^2.6.1\",\"travis-multirunner\":\"^4.2.3\",\"watchify\":\"^3.9.0\",\"webrtc-adapter\":\"^6.4.8\"}}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby93ZWJydGMvcGFja2FnZS5qc29uP2ZkYmYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0JBQWtCLDJIQUEySCxzWUFBc1ksZUFBZSx3RUFBd0Usd1BBQXdQLDBEQUEwRCxtRkFBbUYiLCJmaWxlIjoiMjc2LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XCJuYW1lXCI6XCJAdHdpbGlvL3dlYnJ0Y1wiLFwidmVyc2lvblwiOlwiMi4yLjFcIixcImRlc2NyaXB0aW9uXCI6XCJXZWJSVEMtcmVsYXRlZCBBUElzIGFuZCBzaGltcyB1c2VkIGJ5IHR3aWxpby12aWRlby5qc1wiLFwic2NyaXB0c1wiOntcImJ1aWxkXCI6XCJucG0tcnVuLWFsbCBjbGVhbiBsaW50IHRlc3RcIixcImNsZWFuXCI6XCJyaW1yYWYgY292ZXJhZ2VcIixcImxpbnRcIjpcImVzbGludCAuL2xpYlwiLFwidGVzdDp1bml0XCI6XCJpc3RhbmJ1bCBjb3ZlciBub2RlX21vZHVsZXMvbW9jaGEvYmluL19tb2NoYSAtLSAuL3Rlc3QvdW5pdC9pbmRleC5qc1wiLFwidGVzdDppbnRlZ3JhdGlvbjpuYXRpdmVcIjpcImthcm1hIHN0YXJ0IGthcm1hL2ludGVncmF0aW9uLmNvbmYuanNcIixcInRlc3Q6aW50ZWdyYXRpb246YWRhcHRlclwiOlwia2FybWEgc3RhcnQga2FybWEvaW50ZWdyYXRpb24uYWRhcHRlci5jb25mLmpzXCIsXCJ0ZXN0OmludGVncmF0aW9uXCI6XCJucG0tcnVuLWFsbCB0ZXN0OmludGVncmF0aW9uOipcIixcInRlc3RcIjpcIm5wbS1ydW4tYWxsIHRlc3Q6KlwifSxcInJlcG9zaXRvcnlcIjp7XCJ0eXBlXCI6XCJnaXRcIixcInVybFwiOlwiZ2l0K2h0dHBzOi8vZ2l0aHViLmNvbS90d2lsaW8vdHdpbGlvLXdlYnJ0Yy5qcy5naXRcIn0sXCJrZXl3b3Jkc1wiOltcInNoaW1cIixcInR3aWxpb1wiLFwidmlkZW9cIixcIndlYnJ0Y1wiXSxcImF1dGhvclwiOlwiTWFuamVzaCBNYWxhdmFsbGkgPG1tYWxhdmFsbGlAdHdpbGlvLmNvbT5cIixcImNvbnRyaWJ1dG9yc1wiOltcIk1hcmsgUm9iZXJ0cyA8bXJvYmVydHNAdHdpbGlvLmNvbT5cIixcIlJ5YW4gUm93bGFuZCA8cnJvd2xhbmRAdHdpbGlvLmNvbT5cIl0sXCJsaWNlbnNlXCI6XCJCU0QtMy1DbGF1c2VcIixcIm1haW5cIjpcIi4vbGliL2luZGV4LmpzXCIsXCJidWdzXCI6e1widXJsXCI6XCJodHRwczovL2dpdGh1Yi5jb20vdHdpbGlvL3R3aWxpby13ZWJydGMuanMvaXNzdWVzXCJ9LFwiaG9tZXBhZ2VcIjpcImh0dHBzOi8vZ2l0aHViLmNvbS90d2lsaW8vdHdpbGlvLXdlYnJ0Yy5qcyNyZWFkbWVcIixcImRldkRlcGVuZGVuY2llc1wiOntcImJyb3dzZXJpZnlcIjpcIl4xNC40LjBcIixcImVudmlmeVwiOlwiXjQuMS4wXCIsXCJlc2xpbnRcIjpcIl40LjQuMVwiLFwiaXN0YW5idWxcIjpcIl4wLjQuNVwiLFwia2FybWFcIjpcIl4xLjcuMFwiLFwia2FybWEtYnJvd3NlcmlmeVwiOlwiXjUuMS4xXCIsXCJrYXJtYS1jaHJvbWUtbGF1bmNoZXJcIjpcIl4yLjIuMFwiLFwia2FybWEtZmlyZWZveC1sYXVuY2hlclwiOlwiXjEuMC4xXCIsXCJrYXJtYS1tb2NoYVwiOlwiXjEuMy4wXCIsXCJrYXJtYS1zYWZhcmktbGF1bmNoZXJcIjpcIl4xLjAuMFwiLFwia2FybWEtc3BlYy1yZXBvcnRlclwiOlwiMC4wLjMxXCIsXCJtb2NoYVwiOlwiXjMuNS4wXCIsXCJucG0tcnVuLWFsbFwiOlwiXjQuMC4yXCIsXCJyZWxlYXNlLXRvb2xcIjpcIl4wLjIuMlwiLFwicmltcmFmXCI6XCJeMi42LjFcIixcInRyYXZpcy1tdWx0aXJ1bm5lclwiOlwiXjQuMi4zXCIsXCJ3YXRjaGlmeVwiOlwiXjMuOS4wXCIsXCJ3ZWJydGMtYWRhcHRlclwiOlwiXjYuNC44XCJ9fVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0B0d2lsaW8vd2VicnRjL3BhY2thZ2UuanNvblxuLy8gbW9kdWxlIGlkID0gMjc2XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///276\n");

/***/ }),
/* 277 */
/*!**********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/localaudiotrack.js ***!
  \**********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar AudioTrack = __webpack_require__(/*! ./audiotrack */ 234);\nvar mixinLocalMediaTrack = __webpack_require__(/*! ./localmediatrack */ 236);\n\nvar LocalMediaAudioTrack = mixinLocalMediaTrack(AudioTrack);\n\n/**\n * A {@link LocalAudioTrack} is an {@link AudioTrack} representing audio that\n * your {@link LocalParticipant} can publish to a {@link Room}. It can be\n * enabled and disabled with {@link LocalAudioTrack#enable} and\n * {@link LocalAudioTrack#disable} or stopped completely with\n * {@link LocalAudioTrack#stop}.\n * @extends AudioTrack\n * @property {boolean} isStopped - Whether or not the {@link LocalAudioTrack} is\n *   stopped\n * @emits LocalAudioTrack#disabled\n * @emits LocalAudioTrack#enabled\n * @emits LocalAudioTrack#started\n * @emits LocalAudioTrack#stopped\n */\n\nvar LocalAudioTrack = function (_LocalMediaAudioTrack) {\n  _inherits(LocalAudioTrack, _LocalMediaAudioTrack);\n\n  /**\n   * Construct a {@link LocalAudioTrack} from a MediaStreamTrack.\n   * @param {MediaStreamTrack} mediaStreamTrack - An audio MediaStreamTrack\n   * @param {LocalTrackOptions} [options] - {@link LocalTrack} options\n   */\n  function LocalAudioTrack(mediaStreamTrack, options) {\n    _classCallCheck(this, LocalAudioTrack);\n\n    return _possibleConstructorReturn(this, (LocalAudioTrack.__proto__ || Object.getPrototypeOf(LocalAudioTrack)).call(this, mediaStreamTrack, options));\n  }\n\n  _createClass(LocalAudioTrack, [{\n    key: 'toString',\n    value: function toString() {\n      return '[LocalAudioTrack #' + this._instanceId + ': ' + this.id + ']';\n    }\n  }, {\n    key: 'attach',\n    value: function attach(el) {\n      el = _get(LocalAudioTrack.prototype.__proto__ || Object.getPrototypeOf(LocalAudioTrack.prototype), 'attach', this).call(this, el);\n      el.muted = true;\n      return el;\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_end',\n    value: function _end() {\n      return _get(LocalAudioTrack.prototype.__proto__ || Object.getPrototypeOf(LocalAudioTrack.prototype), '_end', this).apply(this, arguments);\n    }\n\n    /**\n     * Disable the {@link LocalAudioTrack}. This is effectively \"mute\".\n     * @returns {this}\n     * @fires LocalAudioTrack#disabled\n     */\n\n  }, {\n    key: 'disable',\n    value: function disable() {\n      return _get(LocalAudioTrack.prototype.__proto__ || Object.getPrototypeOf(LocalAudioTrack.prototype), 'disable', this).apply(this, arguments);\n    }\n\n    /**\n     * Enable the {@link LocalAudioTrack}. This is effectively \"unmute\".\n     * @returns {this}\n     * @fires LocalAudioTrack#enabled\n    */ /**\n       * Enable or disable the {@link LocalAudioTrack}. This is effectively \"unmute\"\n       * or \"mute\".\n       * @param {boolean} [enabled] - Specify false to mute the\n       *   {@link LocalAudioTrack}\n       * @returns {this}\n       * @fires LocalAudioTrack#disabled\n       * @fires LocalAudioTrack#enabled\n       */\n\n  }, {\n    key: 'enable',\n    value: function enable() {\n      return _get(LocalAudioTrack.prototype.__proto__ || Object.getPrototypeOf(LocalAudioTrack.prototype), 'enable', this).apply(this, arguments);\n    }\n\n    /**\n     * Calls stop on the underlying MediaStreamTrack. If you choose to stop a\n     * {@link LocalAudioTrack}, you should unpublish it after stopping.\n     * @returns {this}\n     * @fires LocalAudioTrack#stopped\n     */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      return _get(LocalAudioTrack.prototype.__proto__ || Object.getPrototypeOf(LocalAudioTrack.prototype), 'stop', this).apply(this, arguments);\n    }\n  }]);\n\n  return LocalAudioTrack;\n}(LocalMediaAudioTrack);\n\n/**\n * The {@link LocalAudioTrack} was disabled, i.e. \"muted\".\n * @param {LocalAudioTrack} track - The {@link LocalAudioTrack} that was\n *   disabled\n * @event LocalAudioTrack#disabled\n */\n\n/**\n * The {@link LocalAudioTrack} was enabled, i.e. \"unmuted\".\n * @param {LocalAudioTrack} track - The {@link LocalAudioTrack} that was enabled\n * @event LocalAudioTrack#enabled\n */\n\n/**\n * The {@link LocalAudioTrack} started. This means there is enough audio data to\n * begin playback.\n * @param {LocalAudioTrack} track - The {@link LocalAudioTrack} that started\n * @event LocalAudioTrack#started\n */\n\n/**\n * The {@link LocalAudioTrack} stopped, either because\n * {@link LocalAudioTrack#stop} was called or because the underlying\n * MediaStreamTrack ended).\n * @param {LocalAudioTrack} track - The {@link LocalAudioTrack} that stopped\n * @event LocalAudioTrack#stopped\n */\n\nmodule.exports = LocalAudioTrack;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9sb2NhbGF1ZGlvdHJhY2suanM/ZDhkYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIscURBQXFELGtEQUFrRCw4REFBOEQsMEJBQTBCLDRDQUE0Qyx1QkFBdUIsa0JBQWtCLEVBQUUsT0FBTyx3Q0FBd0MsRUFBRSxFQUFFLDRCQUE0QixtQkFBbUIsRUFBRSxPQUFPLHVCQUF1Qiw0QkFBNEIsa0JBQWtCLEVBQUUsOEJBQThCLEVBQUU7O0FBRXhlLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsaUJBQWlCLG1CQUFPLENBQUMsdUJBQWM7QUFDdkMsMkJBQTJCLG1CQUFPLENBQUMsNEJBQW1COztBQUV0RDs7QUFFQTtBQUNBLE1BQU0sc0JBQXNCLFFBQVEsaUJBQWlCO0FBQ3JELFNBQVMsdUJBQXVCLG1CQUFtQixXQUFXO0FBQzlELDhCQUE4Qiw2QkFBNkI7QUFDM0QsSUFBSSw4QkFBOEI7QUFDbEMsSUFBSSwyQkFBMkI7QUFDL0I7QUFDQSxjQUFjLFFBQVEsaUNBQWlDLHNCQUFzQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEMsYUFBYSxpQkFBaUI7QUFDOUIsYUFBYSxrQkFBa0IsY0FBYyxpQkFBaUI7QUFDOUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUMsaUJBQWlCO0FBQ2pCO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QyxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGdDQUFnQyxzQkFBc0I7QUFDdEQ7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QixZQUFZO0FBQ1osbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVEsc0JBQXNCO0FBQzlCLGlCQUFpQjtBQUNqQjtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0EsUUFBUSxzQkFBc0I7QUFDOUIsV0FBVyxnQkFBZ0IsY0FBYyxzQkFBc0I7QUFDL0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUSxzQkFBc0I7QUFDOUIsV0FBVyxnQkFBZ0IsY0FBYyxzQkFBc0I7QUFDL0Q7QUFDQTs7QUFFQTtBQUNBLFFBQVEsc0JBQXNCO0FBQzlCO0FBQ0EsV0FBVyxnQkFBZ0IsY0FBYyxzQkFBc0I7QUFDL0Q7QUFDQTs7QUFFQTtBQUNBLFFBQVEsc0JBQXNCO0FBQzlCLElBQUksMkJBQTJCO0FBQy9CO0FBQ0EsV0FBVyxnQkFBZ0IsY0FBYyxzQkFBc0I7QUFDL0Q7QUFDQTs7QUFFQSIsImZpbGUiOiIyNzcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTsgfSB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgQXVkaW9UcmFjayA9IHJlcXVpcmUoJy4vYXVkaW90cmFjaycpO1xudmFyIG1peGluTG9jYWxNZWRpYVRyYWNrID0gcmVxdWlyZSgnLi9sb2NhbG1lZGlhdHJhY2snKTtcblxudmFyIExvY2FsTWVkaWFBdWRpb1RyYWNrID0gbWl4aW5Mb2NhbE1lZGlhVHJhY2soQXVkaW9UcmFjayk7XG5cbi8qKlxuICogQSB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfSBpcyBhbiB7QGxpbmsgQXVkaW9UcmFja30gcmVwcmVzZW50aW5nIGF1ZGlvIHRoYXRcbiAqIHlvdXIge0BsaW5rIExvY2FsUGFydGljaXBhbnR9IGNhbiBwdWJsaXNoIHRvIGEge0BsaW5rIFJvb219LiBJdCBjYW4gYmVcbiAqIGVuYWJsZWQgYW5kIGRpc2FibGVkIHdpdGgge0BsaW5rIExvY2FsQXVkaW9UcmFjayNlbmFibGV9IGFuZFxuICoge0BsaW5rIExvY2FsQXVkaW9UcmFjayNkaXNhYmxlfSBvciBzdG9wcGVkIGNvbXBsZXRlbHkgd2l0aFxuICoge0BsaW5rIExvY2FsQXVkaW9UcmFjayNzdG9wfS5cbiAqIEBleHRlbmRzIEF1ZGlvVHJhY2tcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNTdG9wcGVkIC0gV2hldGhlciBvciBub3QgdGhlIHtAbGluayBMb2NhbEF1ZGlvVHJhY2t9IGlzXG4gKiAgIHN0b3BwZWRcbiAqIEBlbWl0cyBMb2NhbEF1ZGlvVHJhY2sjZGlzYWJsZWRcbiAqIEBlbWl0cyBMb2NhbEF1ZGlvVHJhY2sjZW5hYmxlZFxuICogQGVtaXRzIExvY2FsQXVkaW9UcmFjayNzdGFydGVkXG4gKiBAZW1pdHMgTG9jYWxBdWRpb1RyYWNrI3N0b3BwZWRcbiAqL1xuXG52YXIgTG9jYWxBdWRpb1RyYWNrID0gZnVuY3Rpb24gKF9Mb2NhbE1lZGlhQXVkaW9UcmFjaykge1xuICBfaW5oZXJpdHMoTG9jYWxBdWRpb1RyYWNrLCBfTG9jYWxNZWRpYUF1ZGlvVHJhY2spO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfSBmcm9tIGEgTWVkaWFTdHJlYW1UcmFjay5cbiAgICogQHBhcmFtIHtNZWRpYVN0cmVhbVRyYWNrfSBtZWRpYVN0cmVhbVRyYWNrIC0gQW4gYXVkaW8gTWVkaWFTdHJlYW1UcmFja1xuICAgKiBAcGFyYW0ge0xvY2FsVHJhY2tPcHRpb25zfSBbb3B0aW9uc10gLSB7QGxpbmsgTG9jYWxUcmFja30gb3B0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gTG9jYWxBdWRpb1RyYWNrKG1lZGlhU3RyZWFtVHJhY2ssIG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9jYWxBdWRpb1RyYWNrKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTG9jYWxBdWRpb1RyYWNrLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTG9jYWxBdWRpb1RyYWNrKSkuY2FsbCh0aGlzLCBtZWRpYVN0cmVhbVRyYWNrLCBvcHRpb25zKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTG9jYWxBdWRpb1RyYWNrLCBbe1xuICAgIGtleTogJ3RvU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJ1tMb2NhbEF1ZGlvVHJhY2sgIycgKyB0aGlzLl9pbnN0YW5jZUlkICsgJzogJyArIHRoaXMuaWQgKyAnXSc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnYXR0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYXR0YWNoKGVsKSB7XG4gICAgICBlbCA9IF9nZXQoTG9jYWxBdWRpb1RyYWNrLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKExvY2FsQXVkaW9UcmFjay5wcm90b3R5cGUpLCAnYXR0YWNoJywgdGhpcykuY2FsbCh0aGlzLCBlbCk7XG4gICAgICBlbC5tdXRlZCA9IHRydWU7XG4gICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2VuZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9lbmQoKSB7XG4gICAgICByZXR1cm4gX2dldChMb2NhbEF1ZGlvVHJhY2sucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTG9jYWxBdWRpb1RyYWNrLnByb3RvdHlwZSksICdfZW5kJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlIHRoZSB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfS4gVGhpcyBpcyBlZmZlY3RpdmVseSBcIm11dGVcIi5cbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKiBAZmlyZXMgTG9jYWxBdWRpb1RyYWNrI2Rpc2FibGVkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2Rpc2FibGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgICAgcmV0dXJuIF9nZXQoTG9jYWxBdWRpb1RyYWNrLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKExvY2FsQXVkaW9UcmFjay5wcm90b3R5cGUpLCAnZGlzYWJsZScsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIHRoZSB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfS4gVGhpcyBpcyBlZmZlY3RpdmVseSBcInVubXV0ZVwiLlxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqIEBmaXJlcyBMb2NhbEF1ZGlvVHJhY2sjZW5hYmxlZFxuICAgICovIC8qKlxuICAgICAgICogRW5hYmxlIG9yIGRpc2FibGUgdGhlIHtAbGluayBMb2NhbEF1ZGlvVHJhY2t9LiBUaGlzIGlzIGVmZmVjdGl2ZWx5IFwidW5tdXRlXCJcbiAgICAgICAqIG9yIFwibXV0ZVwiLlxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbZW5hYmxlZF0gLSBTcGVjaWZ5IGZhbHNlIHRvIG11dGUgdGhlXG4gICAgICAgKiAgIHtAbGluayBMb2NhbEF1ZGlvVHJhY2t9XG4gICAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgICAqIEBmaXJlcyBMb2NhbEF1ZGlvVHJhY2sjZGlzYWJsZWRcbiAgICAgICAqIEBmaXJlcyBMb2NhbEF1ZGlvVHJhY2sjZW5hYmxlZFxuICAgICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2VuYWJsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICAgIHJldHVybiBfZ2V0KExvY2FsQXVkaW9UcmFjay5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMb2NhbEF1ZGlvVHJhY2sucHJvdG90eXBlKSwgJ2VuYWJsZScsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbHMgc3RvcCBvbiB0aGUgdW5kZXJseWluZyBNZWRpYVN0cmVhbVRyYWNrLiBJZiB5b3UgY2hvb3NlIHRvIHN0b3AgYVxuICAgICAqIHtAbGluayBMb2NhbEF1ZGlvVHJhY2t9LCB5b3Ugc2hvdWxkIHVucHVibGlzaCBpdCBhZnRlciBzdG9wcGluZy5cbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKiBAZmlyZXMgTG9jYWxBdWRpb1RyYWNrI3N0b3BwZWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc3RvcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICByZXR1cm4gX2dldChMb2NhbEF1ZGlvVHJhY2sucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTG9jYWxBdWRpb1RyYWNrLnByb3RvdHlwZSksICdzdG9wJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTG9jYWxBdWRpb1RyYWNrO1xufShMb2NhbE1lZGlhQXVkaW9UcmFjayk7XG5cbi8qKlxuICogVGhlIHtAbGluayBMb2NhbEF1ZGlvVHJhY2t9IHdhcyBkaXNhYmxlZCwgaS5lLiBcIm11dGVkXCIuXG4gKiBAcGFyYW0ge0xvY2FsQXVkaW9UcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIExvY2FsQXVkaW9UcmFja30gdGhhdCB3YXNcbiAqICAgZGlzYWJsZWRcbiAqIEBldmVudCBMb2NhbEF1ZGlvVHJhY2sjZGlzYWJsZWRcbiAqL1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfSB3YXMgZW5hYmxlZCwgaS5lLiBcInVubXV0ZWRcIi5cbiAqIEBwYXJhbSB7TG9jYWxBdWRpb1RyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfSB0aGF0IHdhcyBlbmFibGVkXG4gKiBAZXZlbnQgTG9jYWxBdWRpb1RyYWNrI2VuYWJsZWRcbiAqL1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfSBzdGFydGVkLiBUaGlzIG1lYW5zIHRoZXJlIGlzIGVub3VnaCBhdWRpbyBkYXRhIHRvXG4gKiBiZWdpbiBwbGF5YmFjay5cbiAqIEBwYXJhbSB7TG9jYWxBdWRpb1RyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfSB0aGF0IHN0YXJ0ZWRcbiAqIEBldmVudCBMb2NhbEF1ZGlvVHJhY2sjc3RhcnRlZFxuICovXG5cbi8qKlxuICogVGhlIHtAbGluayBMb2NhbEF1ZGlvVHJhY2t9IHN0b3BwZWQsIGVpdGhlciBiZWNhdXNlXG4gKiB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrI3N0b3B9IHdhcyBjYWxsZWQgb3IgYmVjYXVzZSB0aGUgdW5kZXJseWluZ1xuICogTWVkaWFTdHJlYW1UcmFjayBlbmRlZCkuXG4gKiBAcGFyYW0ge0xvY2FsQXVkaW9UcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIExvY2FsQXVkaW9UcmFja30gdGhhdCBzdG9wcGVkXG4gKiBAZXZlbnQgTG9jYWxBdWRpb1RyYWNrI3N0b3BwZWRcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IExvY2FsQXVkaW9UcmFjaztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L21lZGlhL3RyYWNrL2xvY2FsYXVkaW90cmFjay5qc1xuLy8gbW9kdWxlIGlkID0gMjc3XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///277\n");

/***/ }),
/* 278 */
/*!*********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/localdatatrack.js ***!
  \*********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Track = __webpack_require__(/*! ./ */ 225);\nvar DefaultDataTrackSender = __webpack_require__(/*! ../../data/sender */ 279);\n\n/**\n * A {@link LocalDataTrack} is a {@link Track} representing data that your\n * {@link LocalParticipant} can publish to a {@link Room}.\n * @extends Track\n * @property {Track.Kind} kind - \"data\"\n * @property {?number} maxPacketLifeTime - If non-null, this represents a time\n *   limit (in milliseconds) during which the {@link LocalDataTrack} will send\n *   or re-send data if not acknowledged on the underlying RTCDataChannel(s).\n * @property {?number} maxRetransmits - If non-null, this represents the number\n *   of times the {@link LocalDataTrack} will resend data if not successfully\n *   delivered on the underlying RTCDataChannel(s).\n * @property {boolean} ordered - true if data on the {@link LocalDataTrack} is\n *   guaranteed to be sent in order.\n * @property {boolean} reliable - This is true if both\n *   <code>maxPacketLifeTime</code> and <code>maxRetransmits</code> are set to\n *   null. In other words, if this is true, there is no bound on packet lifetime\n *   or the number of times the {@link LocalDataTrack} will attempt to send\n *   data, ensuring \"reliable\" transmission.\n * @example\n * var Video = require('twilio-video');\n *\n * var localDataTrack = new Video.LocalDataTrack();\n * window.addEventListener('mousemove', function(event) {\n *   localDataTrack.send({\n *     x: e.clientX,\n *     y: e.clientY\n *   });\n * });\n *\n * var token1 = getAccessToken();\n * Video.connect(token1, {\n *   name: 'my-cool-room',\n *   tracks: [localDataTrack]\n * });\n *\n * var token2 = getAccessToken();\n * Video.connect(token2, {\n *   name: 'my-cool-room',\n *   tracks: []\n * }).then(function(room) {\n *   room.on('trackSubscribed', function(track) {\n *     track.on('message', function(message) {\n *       console.log(message); // { x: <number>, y: <number> }\n *     });\n *   });\n * });\n */\n\nvar LocalDataTrack = function (_Track) {\n  _inherits(LocalDataTrack, _Track);\n\n  /**\n   * Construct a {@link LocalDataTrack}.\n   * @param {LocalDataTrackOptions} [options] - {@link LocalDataTrack} options\n   */\n  function LocalDataTrack(options) {\n    _classCallCheck(this, LocalDataTrack);\n\n    options = Object.assign({\n      DataTrackSender: DefaultDataTrackSender,\n      maxPacketLifeTime: null,\n      maxRetransmits: null,\n      ordered: true\n    }, options);\n\n    var DataTrackSender = options.DataTrackSender;\n    var dataTrackSender = new DataTrackSender(options.maxPacketLifeTime, options.maxRetransmits, options.ordered);\n\n    var _this = _possibleConstructorReturn(this, (LocalDataTrack.__proto__ || Object.getPrototypeOf(LocalDataTrack)).call(this, dataTrackSender.id, 'data', options));\n\n    Object.defineProperties(_this, {\n      _trackSender: {\n        value: dataTrackSender\n      },\n      maxPacketLifeTime: {\n        enumerable: true,\n        value: options.maxPacketLifeTime\n      },\n      maxRetransmits: {\n        enumerable: true,\n        value: options.maxRetransmits\n      },\n      ordered: {\n        enumerable: true,\n        value: options.ordered\n      },\n      reliable: {\n        enumerable: true,\n        value: options.maxPacketLifeTime === null && options.maxRetransmits === null\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * Send a message over the {@link LocalDataTrack}.\n   * @param {string|Blob|ArrayBuffer|ArrayBufferView} data\n   * @returns {void}\n   */\n\n\n  _createClass(LocalDataTrack, [{\n    key: 'send',\n    value: function send(data) {\n      this._trackSender.send(data);\n    }\n  }]);\n\n  return LocalDataTrack;\n}(Track);\n\n/**\n * {@link LocalDataTrack} options\n * @typedef {LocalTrackOptions} LocalDataTrackOptions\n * @property {?number} [maxPacketLifeTime=null] - Set this to limit the time\n *   (in milliseconds) during which the LocalDataTrack will send or re-send data\n *   if not successfully delivered on the underlying RTCDataChannel(s). It is an\n *   error to specify both this and <code>maxRetransmits</code>.\n * @property {?number} [maxRetransmits=null] - Set this to limit the number of\n *   times the {@link LocalDataTrack} will send or re-send data if not\n *   acknowledged on the underlying RTCDataChannel(s). It is an error to specify\n *   both this and <code>maxPacketLifeTime</code>.\n * @property {boolean} [ordered=true] - Set this to false to allow data on the\n *   LocalDataTrack to be sent out-of-order.\n */\n\nmodule.exports = LocalDataTrack;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9sb2NhbGRhdGF0cmFjay5qcz82N2UxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLFlBQVksbUJBQU8sQ0FBQyxhQUFJO0FBQ3hCLDZCQUE2QixtQkFBTyxDQUFDLDRCQUFtQjs7QUFFeEQ7QUFDQSxNQUFNLHFCQUFxQixPQUFPLFlBQVk7QUFDOUMsSUFBSSx1QkFBdUIsbUJBQW1CLFdBQVc7QUFDekQ7QUFDQSxjQUFjLFdBQVc7QUFDekIsY0FBYyxRQUFRO0FBQ3RCLCtDQUErQyxxQkFBcUI7QUFDcEU7QUFDQSxjQUFjLFFBQVE7QUFDdEIsbUJBQW1CLHFCQUFxQjtBQUN4QztBQUNBLGNBQWMsUUFBUSxnQ0FBZ0MscUJBQXFCO0FBQzNFO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQSxpQ0FBaUMscUJBQXFCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSw4QkFBOEIsS0FBSztBQUNuQyxRQUFRO0FBQ1IsTUFBTTtBQUNOLElBQUk7QUFDSjs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHFCQUFxQjtBQUN2QyxhQUFhLHNCQUFzQixjQUFjLHFCQUFxQjtBQUN0RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLDhCQUE4QixxQkFBcUI7QUFDbkQsYUFBYSx3Q0FBd0M7QUFDckQsZUFBZTtBQUNmOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQSxJQUFJLHFCQUFxQjtBQUN6QixhQUFhLGtCQUFrQjtBQUMvQixjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGdCQUFnQixxQkFBcUI7QUFDckM7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBOztBQUVBIiwiZmlsZSI6IjI3OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgVHJhY2sgPSByZXF1aXJlKCcuLycpO1xudmFyIERlZmF1bHREYXRhVHJhY2tTZW5kZXIgPSByZXF1aXJlKCcuLi8uLi9kYXRhL3NlbmRlcicpO1xuXG4vKipcbiAqIEEge0BsaW5rIExvY2FsRGF0YVRyYWNrfSBpcyBhIHtAbGluayBUcmFja30gcmVwcmVzZW50aW5nIGRhdGEgdGhhdCB5b3VyXG4gKiB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH0gY2FuIHB1Ymxpc2ggdG8gYSB7QGxpbmsgUm9vbX0uXG4gKiBAZXh0ZW5kcyBUcmFja1xuICogQHByb3BlcnR5IHtUcmFjay5LaW5kfSBraW5kIC0gXCJkYXRhXCJcbiAqIEBwcm9wZXJ0eSB7P251bWJlcn0gbWF4UGFja2V0TGlmZVRpbWUgLSBJZiBub24tbnVsbCwgdGhpcyByZXByZXNlbnRzIGEgdGltZVxuICogICBsaW1pdCAoaW4gbWlsbGlzZWNvbmRzKSBkdXJpbmcgd2hpY2ggdGhlIHtAbGluayBMb2NhbERhdGFUcmFja30gd2lsbCBzZW5kXG4gKiAgIG9yIHJlLXNlbmQgZGF0YSBpZiBub3QgYWNrbm93bGVkZ2VkIG9uIHRoZSB1bmRlcmx5aW5nIFJUQ0RhdGFDaGFubmVsKHMpLlxuICogQHByb3BlcnR5IHs/bnVtYmVyfSBtYXhSZXRyYW5zbWl0cyAtIElmIG5vbi1udWxsLCB0aGlzIHJlcHJlc2VudHMgdGhlIG51bWJlclxuICogICBvZiB0aW1lcyB0aGUge0BsaW5rIExvY2FsRGF0YVRyYWNrfSB3aWxsIHJlc2VuZCBkYXRhIGlmIG5vdCBzdWNjZXNzZnVsbHlcbiAqICAgZGVsaXZlcmVkIG9uIHRoZSB1bmRlcmx5aW5nIFJUQ0RhdGFDaGFubmVsKHMpLlxuICogQHByb3BlcnR5IHtib29sZWFufSBvcmRlcmVkIC0gdHJ1ZSBpZiBkYXRhIG9uIHRoZSB7QGxpbmsgTG9jYWxEYXRhVHJhY2t9IGlzXG4gKiAgIGd1YXJhbnRlZWQgdG8gYmUgc2VudCBpbiBvcmRlci5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcmVsaWFibGUgLSBUaGlzIGlzIHRydWUgaWYgYm90aFxuICogICA8Y29kZT5tYXhQYWNrZXRMaWZlVGltZTwvY29kZT4gYW5kIDxjb2RlPm1heFJldHJhbnNtaXRzPC9jb2RlPiBhcmUgc2V0IHRvXG4gKiAgIG51bGwuIEluIG90aGVyIHdvcmRzLCBpZiB0aGlzIGlzIHRydWUsIHRoZXJlIGlzIG5vIGJvdW5kIG9uIHBhY2tldCBsaWZldGltZVxuICogICBvciB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoZSB7QGxpbmsgTG9jYWxEYXRhVHJhY2t9IHdpbGwgYXR0ZW1wdCB0byBzZW5kXG4gKiAgIGRhdGEsIGVuc3VyaW5nIFwicmVsaWFibGVcIiB0cmFuc21pc3Npb24uXG4gKiBAZXhhbXBsZVxuICogdmFyIFZpZGVvID0gcmVxdWlyZSgndHdpbGlvLXZpZGVvJyk7XG4gKlxuICogdmFyIGxvY2FsRGF0YVRyYWNrID0gbmV3IFZpZGVvLkxvY2FsRGF0YVRyYWNrKCk7XG4gKiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAqICAgbG9jYWxEYXRhVHJhY2suc2VuZCh7XG4gKiAgICAgeDogZS5jbGllbnRYLFxuICogICAgIHk6IGUuY2xpZW50WVxuICogICB9KTtcbiAqIH0pO1xuICpcbiAqIHZhciB0b2tlbjEgPSBnZXRBY2Nlc3NUb2tlbigpO1xuICogVmlkZW8uY29ubmVjdCh0b2tlbjEsIHtcbiAqICAgbmFtZTogJ215LWNvb2wtcm9vbScsXG4gKiAgIHRyYWNrczogW2xvY2FsRGF0YVRyYWNrXVxuICogfSk7XG4gKlxuICogdmFyIHRva2VuMiA9IGdldEFjY2Vzc1Rva2VuKCk7XG4gKiBWaWRlby5jb25uZWN0KHRva2VuMiwge1xuICogICBuYW1lOiAnbXktY29vbC1yb29tJyxcbiAqICAgdHJhY2tzOiBbXVxuICogfSkudGhlbihmdW5jdGlvbihyb29tKSB7XG4gKiAgIHJvb20ub24oJ3RyYWNrU3Vic2NyaWJlZCcsIGZ1bmN0aW9uKHRyYWNrKSB7XG4gKiAgICAgdHJhY2sub24oJ21lc3NhZ2UnLCBmdW5jdGlvbihtZXNzYWdlKSB7XG4gKiAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTsgLy8geyB4OiA8bnVtYmVyPiwgeTogPG51bWJlcj4gfVxuICogICAgIH0pO1xuICogICB9KTtcbiAqIH0pO1xuICovXG5cbnZhciBMb2NhbERhdGFUcmFjayA9IGZ1bmN0aW9uIChfVHJhY2spIHtcbiAgX2luaGVyaXRzKExvY2FsRGF0YVRyYWNrLCBfVHJhY2spO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgTG9jYWxEYXRhVHJhY2t9LlxuICAgKiBAcGFyYW0ge0xvY2FsRGF0YVRyYWNrT3B0aW9uc30gW29wdGlvbnNdIC0ge0BsaW5rIExvY2FsRGF0YVRyYWNrfSBvcHRpb25zXG4gICAqL1xuICBmdW5jdGlvbiBMb2NhbERhdGFUcmFjayhvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvY2FsRGF0YVRyYWNrKTtcblxuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIERhdGFUcmFja1NlbmRlcjogRGVmYXVsdERhdGFUcmFja1NlbmRlcixcbiAgICAgIG1heFBhY2tldExpZmVUaW1lOiBudWxsLFxuICAgICAgbWF4UmV0cmFuc21pdHM6IG51bGwsXG4gICAgICBvcmRlcmVkOiB0cnVlXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICB2YXIgRGF0YVRyYWNrU2VuZGVyID0gb3B0aW9ucy5EYXRhVHJhY2tTZW5kZXI7XG4gICAgdmFyIGRhdGFUcmFja1NlbmRlciA9IG5ldyBEYXRhVHJhY2tTZW5kZXIob3B0aW9ucy5tYXhQYWNrZXRMaWZlVGltZSwgb3B0aW9ucy5tYXhSZXRyYW5zbWl0cywgb3B0aW9ucy5vcmRlcmVkKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMb2NhbERhdGFUcmFjay5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKExvY2FsRGF0YVRyYWNrKSkuY2FsbCh0aGlzLCBkYXRhVHJhY2tTZW5kZXIuaWQsICdkYXRhJywgb3B0aW9ucykpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX3RoaXMsIHtcbiAgICAgIF90cmFja1NlbmRlcjoge1xuICAgICAgICB2YWx1ZTogZGF0YVRyYWNrU2VuZGVyXG4gICAgICB9LFxuICAgICAgbWF4UGFja2V0TGlmZVRpbWU6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMubWF4UGFja2V0TGlmZVRpbWVcbiAgICAgIH0sXG4gICAgICBtYXhSZXRyYW5zbWl0czoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogb3B0aW9ucy5tYXhSZXRyYW5zbWl0c1xuICAgICAgfSxcbiAgICAgIG9yZGVyZWQ6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMub3JkZXJlZFxuICAgICAgfSxcbiAgICAgIHJlbGlhYmxlOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBvcHRpb25zLm1heFBhY2tldExpZmVUaW1lID09PSBudWxsICYmIG9wdGlvbnMubWF4UmV0cmFuc21pdHMgPT09IG51bGxcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBhIG1lc3NhZ2Ugb3ZlciB0aGUge0BsaW5rIExvY2FsRGF0YVRyYWNrfS5cbiAgICogQHBhcmFtIHtzdHJpbmd8QmxvYnxBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IGRhdGFcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKExvY2FsRGF0YVRyYWNrLCBbe1xuICAgIGtleTogJ3NlbmQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kKGRhdGEpIHtcbiAgICAgIHRoaXMuX3RyYWNrU2VuZGVyLnNlbmQoZGF0YSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExvY2FsRGF0YVRyYWNrO1xufShUcmFjayk7XG5cbi8qKlxuICoge0BsaW5rIExvY2FsRGF0YVRyYWNrfSBvcHRpb25zXG4gKiBAdHlwZWRlZiB7TG9jYWxUcmFja09wdGlvbnN9IExvY2FsRGF0YVRyYWNrT3B0aW9uc1xuICogQHByb3BlcnR5IHs/bnVtYmVyfSBbbWF4UGFja2V0TGlmZVRpbWU9bnVsbF0gLSBTZXQgdGhpcyB0byBsaW1pdCB0aGUgdGltZVxuICogICAoaW4gbWlsbGlzZWNvbmRzKSBkdXJpbmcgd2hpY2ggdGhlIExvY2FsRGF0YVRyYWNrIHdpbGwgc2VuZCBvciByZS1zZW5kIGRhdGFcbiAqICAgaWYgbm90IHN1Y2Nlc3NmdWxseSBkZWxpdmVyZWQgb24gdGhlIHVuZGVybHlpbmcgUlRDRGF0YUNoYW5uZWwocykuIEl0IGlzIGFuXG4gKiAgIGVycm9yIHRvIHNwZWNpZnkgYm90aCB0aGlzIGFuZCA8Y29kZT5tYXhSZXRyYW5zbWl0czwvY29kZT4uXG4gKiBAcHJvcGVydHkgez9udW1iZXJ9IFttYXhSZXRyYW5zbWl0cz1udWxsXSAtIFNldCB0aGlzIHRvIGxpbWl0IHRoZSBudW1iZXIgb2ZcbiAqICAgdGltZXMgdGhlIHtAbGluayBMb2NhbERhdGFUcmFja30gd2lsbCBzZW5kIG9yIHJlLXNlbmQgZGF0YSBpZiBub3RcbiAqICAgYWNrbm93bGVkZ2VkIG9uIHRoZSB1bmRlcmx5aW5nIFJUQ0RhdGFDaGFubmVsKHMpLiBJdCBpcyBhbiBlcnJvciB0byBzcGVjaWZ5XG4gKiAgIGJvdGggdGhpcyBhbmQgPGNvZGU+bWF4UGFja2V0TGlmZVRpbWU8L2NvZGU+LlxuICogQHByb3BlcnR5IHtib29sZWFufSBbb3JkZXJlZD10cnVlXSAtIFNldCB0aGlzIHRvIGZhbHNlIHRvIGFsbG93IGRhdGEgb24gdGhlXG4gKiAgIExvY2FsRGF0YVRyYWNrIHRvIGJlIHNlbnQgb3V0LW9mLW9yZGVyLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gTG9jYWxEYXRhVHJhY2s7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9sb2NhbGRhdGF0cmFjay5qc1xuLy8gbW9kdWxlIGlkID0gMjc4XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///278\n");

/***/ }),
/* 279 */
/*!******************************************************!*\
  !*** ./node_modules/twilio-video/es5/data/sender.js ***!
  \******************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DataTrackTransceiver = __webpack_require__(/*! ./transceiver */ 240);\nvar makeUUID = __webpack_require__(/*! ../util */ 206).makeUUID;\n\n/**\n * A {@link DataTrackSender} represents a {@link DataTrackTransceiver} over\n * which data can be sent. Internally, it uses a collection of RTCDataChannels\n * to send data.\n * @extends DataTrackTransceiver\n */\n\nvar DataTrackSender = function (_DataTrackTransceiver) {\n  _inherits(DataTrackSender, _DataTrackTransceiver);\n\n  /**\n   * Construct a {@link DataTrackSender}.\n   * @param {?number} maxPacketLifeTime\n   * @param {?number} maxRetransmits\n   * @param {boolean} ordered\n   */\n  function DataTrackSender(maxPacketLifeTime, maxRetransmtis, ordered) {\n    _classCallCheck(this, DataTrackSender);\n\n    var _this = _possibleConstructorReturn(this, (DataTrackSender.__proto__ || Object.getPrototypeOf(DataTrackSender)).call(this, makeUUID(), maxPacketLifeTime, maxRetransmtis, ordered));\n\n    Object.defineProperties(_this, {\n      _dataChannels: {\n        value: new Set()\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * Add an RTCDataChannel to the {@link DataTrackSender}.\n   * @param {RTCDataChannel} dataChannel\n   * @returns {this}\n   */\n\n\n  _createClass(DataTrackSender, [{\n    key: 'addDataChannel',\n    value: function addDataChannel(dataChannel) {\n      this._dataChannels.add(dataChannel);\n      return this;\n    }\n\n    /**\n     * Remove an RTCDataChannel from the {@link DataTrackSender}.\n     * @param {RTCDataChannel} dataChannel\n     * @returns {this}\n     */\n\n  }, {\n    key: 'removeDataChannel',\n    value: function removeDataChannel(dataChannel) {\n      this._dataChannels.delete(dataChannel);\n      return this;\n    }\n\n    /**\n     * Send data over the {@link DataTrackSender}. Internally, this calls\n     * <code>send</code> over each of the underlying RTCDataChannels.\n     * @param {string|Blob|ArrayBuffer|ArrayBufferView} data\n     * @returns {this}\n     */\n\n  }, {\n    key: 'send',\n    value: function send(data) {\n      this._dataChannels.forEach(function (dataChannel) {\n        try {\n          dataChannel.send(data);\n        } catch (error) {\n          // Do nothing.\n        }\n      });\n      return this;\n    }\n  }]);\n\n  return DataTrackSender;\n}(DataTrackTransceiver);\n\nmodule.exports = DataTrackSender;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9kYXRhL3NlbmRlci5qcz8zN2U2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLDJCQUEyQixtQkFBTyxDQUFDLHdCQUFlO0FBQ2xELGVBQWUsbUJBQU8sQ0FBQyxrQkFBUzs7QUFFaEM7QUFDQSxNQUFNLHNCQUFzQixlQUFlLDJCQUEyQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHNCQUFzQjtBQUN4QyxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLG1DQUFtQyxzQkFBc0I7QUFDekQsYUFBYSxlQUFlO0FBQzVCLGVBQWU7QUFDZjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMENBQTBDLHNCQUFzQjtBQUNoRSxlQUFlLGVBQWU7QUFDOUIsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCLHNCQUFzQjtBQUNqRDtBQUNBLGVBQWUsd0NBQXdDO0FBQ3ZELGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIyNzkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIERhdGFUcmFja1RyYW5zY2VpdmVyID0gcmVxdWlyZSgnLi90cmFuc2NlaXZlcicpO1xudmFyIG1ha2VVVUlEID0gcmVxdWlyZSgnLi4vdXRpbCcpLm1ha2VVVUlEO1xuXG4vKipcbiAqIEEge0BsaW5rIERhdGFUcmFja1NlbmRlcn0gcmVwcmVzZW50cyBhIHtAbGluayBEYXRhVHJhY2tUcmFuc2NlaXZlcn0gb3ZlclxuICogd2hpY2ggZGF0YSBjYW4gYmUgc2VudC4gSW50ZXJuYWxseSwgaXQgdXNlcyBhIGNvbGxlY3Rpb24gb2YgUlRDRGF0YUNoYW5uZWxzXG4gKiB0byBzZW5kIGRhdGEuXG4gKiBAZXh0ZW5kcyBEYXRhVHJhY2tUcmFuc2NlaXZlclxuICovXG5cbnZhciBEYXRhVHJhY2tTZW5kZXIgPSBmdW5jdGlvbiAoX0RhdGFUcmFja1RyYW5zY2VpdmVyKSB7XG4gIF9pbmhlcml0cyhEYXRhVHJhY2tTZW5kZXIsIF9EYXRhVHJhY2tUcmFuc2NlaXZlcik7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBEYXRhVHJhY2tTZW5kZXJ9LlxuICAgKiBAcGFyYW0gez9udW1iZXJ9IG1heFBhY2tldExpZmVUaW1lXG4gICAqIEBwYXJhbSB7P251bWJlcn0gbWF4UmV0cmFuc21pdHNcbiAgICogQHBhcmFtIHtib29sZWFufSBvcmRlcmVkXG4gICAqL1xuICBmdW5jdGlvbiBEYXRhVHJhY2tTZW5kZXIobWF4UGFja2V0TGlmZVRpbWUsIG1heFJldHJhbnNtdGlzLCBvcmRlcmVkKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERhdGFUcmFja1NlbmRlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRGF0YVRyYWNrU2VuZGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRGF0YVRyYWNrU2VuZGVyKSkuY2FsbCh0aGlzLCBtYWtlVVVJRCgpLCBtYXhQYWNrZXRMaWZlVGltZSwgbWF4UmV0cmFuc210aXMsIG9yZGVyZWQpKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBfZGF0YUNoYW5uZWxzOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgU2V0KClcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGFuIFJUQ0RhdGFDaGFubmVsIHRvIHRoZSB7QGxpbmsgRGF0YVRyYWNrU2VuZGVyfS5cbiAgICogQHBhcmFtIHtSVENEYXRhQ2hhbm5lbH0gZGF0YUNoYW5uZWxcbiAgICogQHJldHVybnMge3RoaXN9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKERhdGFUcmFja1NlbmRlciwgW3tcbiAgICBrZXk6ICdhZGREYXRhQ2hhbm5lbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZERhdGFDaGFubmVsKGRhdGFDaGFubmVsKSB7XG4gICAgICB0aGlzLl9kYXRhQ2hhbm5lbHMuYWRkKGRhdGFDaGFubmVsKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbiBSVENEYXRhQ2hhbm5lbCBmcm9tIHRoZSB7QGxpbmsgRGF0YVRyYWNrU2VuZGVyfS5cbiAgICAgKiBAcGFyYW0ge1JUQ0RhdGFDaGFubmVsfSBkYXRhQ2hhbm5lbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZW1vdmVEYXRhQ2hhbm5lbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZURhdGFDaGFubmVsKGRhdGFDaGFubmVsKSB7XG4gICAgICB0aGlzLl9kYXRhQ2hhbm5lbHMuZGVsZXRlKGRhdGFDaGFubmVsKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBvdmVyIHRoZSB7QGxpbmsgRGF0YVRyYWNrU2VuZGVyfS4gSW50ZXJuYWxseSwgdGhpcyBjYWxsc1xuICAgICAqIDxjb2RlPnNlbmQ8L2NvZGU+IG92ZXIgZWFjaCBvZiB0aGUgdW5kZXJseWluZyBSVENEYXRhQ2hhbm5lbHMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8QmxvYnxBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IGRhdGFcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2VuZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmQoZGF0YSkge1xuICAgICAgdGhpcy5fZGF0YUNoYW5uZWxzLmZvckVhY2goZnVuY3Rpb24gKGRhdGFDaGFubmVsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZGF0YUNoYW5uZWwuc2VuZChkYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAvLyBEbyBub3RoaW5nLlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEYXRhVHJhY2tTZW5kZXI7XG59KERhdGFUcmFja1RyYW5zY2VpdmVyKTtcblxubW9kdWxlLmV4cG9ydHMgPSBEYXRhVHJhY2tTZW5kZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9kYXRhL3NlbmRlci5qc1xuLy8gbW9kdWxlIGlkID0gMjc5XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///279\n");

/***/ }),
/* 280 */
/*!**********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/localvideotrack.js ***!
  \**********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar mixinLocalMediaTrack = __webpack_require__(/*! ./localmediatrack */ 236);\nvar VideoTrack = __webpack_require__(/*! ./videotrack */ 241);\n\nvar LocalMediaVideoTrack = mixinLocalMediaTrack(VideoTrack);\n\n/**\n * A {@link LocalVideoTrack} is a {@link VideoTrack} representing video that\n * your {@link LocalParticipant} can publish to a {@link Room}. It can be\n * enabled and disabled with {@link LocalVideoTrack#enable} and\n * {@link LocalVideoTrack#disable} or stopped completely with\n * {@link LocalVideoTrack#stop}.\n * @extends VideoTrack\n * @property {boolean} isStopped - Whether or not the {@link LocalVideoTrack} is\n *   stopped\n * @emits LocalVideoTrack#stopped\n */\n\nvar LocalVideoTrack = function (_LocalMediaVideoTrack) {\n  _inherits(LocalVideoTrack, _LocalMediaVideoTrack);\n\n  /**\n   * Construct a {@link LocalVideoTrack} from a MediaStreamTrack.\n   * @param {MediaStreamTrack} mediaStreamTrack - The underlying MediaStreamTrack\n   * @param {LocalTrackOptions} [options] - {@link LocalTrack} options\n   */\n  function LocalVideoTrack(mediaStreamTrack, options) {\n    _classCallCheck(this, LocalVideoTrack);\n\n    return _possibleConstructorReturn(this, (LocalVideoTrack.__proto__ || Object.getPrototypeOf(LocalVideoTrack)).call(this, mediaStreamTrack, options));\n  }\n\n  _createClass(LocalVideoTrack, [{\n    key: 'toString',\n    value: function toString() {\n      return '[LocalVideoTrack #' + this._instanceId + ': ' + this.id + ']';\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_end',\n    value: function _end() {\n      return _get(LocalVideoTrack.prototype.__proto__ || Object.getPrototypeOf(LocalVideoTrack.prototype), '_end', this).apply(this, arguments);\n    }\n\n    /**\n     * Disable the {@link LocalVideoTrack}. This is effectively \"pause\".\n     * @returns {this}\n     * @fires VideoTrack#disabled\n     */\n\n  }, {\n    key: 'disable',\n    value: function disable() {\n      return _get(LocalVideoTrack.prototype.__proto__ || Object.getPrototypeOf(LocalVideoTrack.prototype), 'disable', this).apply(this, arguments);\n    }\n\n    /**\n     * Enable the {@link LocalVideoTrack}. This is effectively \"unpause\".\n     * @returns {this}\n     * @fires VideoTrack#enabled\n    */ /**\n       * Enable or disable the {@link LocalVideoTrack}. This is effectively \"unpause\"\n       * or \"pause\".\n       * @param {boolean} [enabled] - Specify false to pause the\n       *   {@link LocalVideoTrack}\n       * @returns {this}\n       * @fires VideoTrack#disabled\n       * @fires VideoTrack#enabled\n       */\n\n  }, {\n    key: 'enable',\n    value: function enable() {\n      return _get(LocalVideoTrack.prototype.__proto__ || Object.getPrototypeOf(LocalVideoTrack.prototype), 'enable', this).apply(this, arguments);\n    }\n\n    /**\n     * Calls stop on the underlying MediaStreamTrack. If you choose to stop a\n     * {@link LocalVideoTrack}, you should unpublish it after stopping.\n     * @returns {this}\n     * @fires LocalVideoTrack#stopped\n     */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      return _get(LocalVideoTrack.prototype.__proto__ || Object.getPrototypeOf(LocalVideoTrack.prototype), 'stop', this).apply(this, arguments);\n    }\n  }]);\n\n  return LocalVideoTrack;\n}(LocalMediaVideoTrack);\n\n/**\n * The {@link LocalVideoTrack} was disabled, i.e. \"muted\".\n * @param {LocalVideoTrack} track - The {@link LocalVideoTrack} that was\n *   disabled\n * @event LocalVideoTrack#disabled\n */\n\n/**\n * The {@link LocalVideoTrack} was enabled, i.e. \"unmuted\".\n * @param {LocalVideoTrack} track - The {@link LocalVideoTrack} that was enabled\n * @event LocalVideoTrack#enabled\n */\n\n/**\n * The {@link LocalVideoTrack} started. This means there is enough video data\n * to begin playback.\n * @param {LocalVideoTrack} track - The {@link LocalVideoTrack} that started\n * @event LocalVideoTrack#started\n */\n\n/**\n * The {@link LocalVideoTrack} stopped, either because\n * {@link LocalVideoTrack#stop} was called or because the underlying\n * MediaStreamTrack ended).\n * @param {LocalVideoTrack} track - The {@link LocalVideoTrack} that stopped\n * @event LocalVideoTrack#stopped\n */\n\nmodule.exports = LocalVideoTrack;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9sb2NhbHZpZGVvdHJhY2suanM/YTdjYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIscURBQXFELGtEQUFrRCw4REFBOEQsMEJBQTBCLDRDQUE0Qyx1QkFBdUIsa0JBQWtCLEVBQUUsT0FBTyx3Q0FBd0MsRUFBRSxFQUFFLDRCQUE0QixtQkFBbUIsRUFBRSxPQUFPLHVCQUF1Qiw0QkFBNEIsa0JBQWtCLEVBQUUsOEJBQThCLEVBQUU7O0FBRXhlLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsMkJBQTJCLG1CQUFPLENBQUMsNEJBQW1CO0FBQ3RELGlCQUFpQixtQkFBTyxDQUFDLHVCQUFjOztBQUV2Qzs7QUFFQTtBQUNBLE1BQU0sc0JBQXNCLE9BQU8saUJBQWlCO0FBQ3BELFNBQVMsdUJBQXVCLG1CQUFtQixXQUFXO0FBQzlELDhCQUE4Qiw2QkFBNkI7QUFDM0QsSUFBSSw4QkFBOEI7QUFDbEMsSUFBSSwyQkFBMkI7QUFDL0I7QUFDQSxjQUFjLFFBQVEsaUNBQWlDLHNCQUFzQjtBQUM3RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEMsYUFBYSxpQkFBaUI7QUFDOUIsYUFBYSxrQkFBa0IsY0FBYyxpQkFBaUI7QUFDOUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQyxpQkFBaUI7QUFDakI7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsc0JBQXNCO0FBQ3pDLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsZ0NBQWdDLHNCQUFzQjtBQUN0RDtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCLFlBQVk7QUFDWixtQkFBbUI7QUFDbkI7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUSxzQkFBc0I7QUFDOUIsaUJBQWlCO0FBQ2pCO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQSxRQUFRLHNCQUFzQjtBQUM5QixXQUFXLGdCQUFnQixjQUFjLHNCQUFzQjtBQUMvRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLHNCQUFzQjtBQUM5QixXQUFXLGdCQUFnQixjQUFjLHNCQUFzQjtBQUMvRDtBQUNBOztBQUVBO0FBQ0EsUUFBUSxzQkFBc0I7QUFDOUI7QUFDQSxXQUFXLGdCQUFnQixjQUFjLHNCQUFzQjtBQUMvRDtBQUNBOztBQUVBO0FBQ0EsUUFBUSxzQkFBc0I7QUFDOUIsSUFBSSwyQkFBMkI7QUFDL0I7QUFDQSxXQUFXLGdCQUFnQixjQUFjLHNCQUFzQjtBQUMvRDtBQUNBOztBQUVBIiwiZmlsZSI6IjI4MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IHJldHVybiBnZXQocGFyZW50LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9O1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBtaXhpbkxvY2FsTWVkaWFUcmFjayA9IHJlcXVpcmUoJy4vbG9jYWxtZWRpYXRyYWNrJyk7XG52YXIgVmlkZW9UcmFjayA9IHJlcXVpcmUoJy4vdmlkZW90cmFjaycpO1xuXG52YXIgTG9jYWxNZWRpYVZpZGVvVHJhY2sgPSBtaXhpbkxvY2FsTWVkaWFUcmFjayhWaWRlb1RyYWNrKTtcblxuLyoqXG4gKiBBIHtAbGluayBMb2NhbFZpZGVvVHJhY2t9IGlzIGEge0BsaW5rIFZpZGVvVHJhY2t9IHJlcHJlc2VudGluZyB2aWRlbyB0aGF0XG4gKiB5b3VyIHtAbGluayBMb2NhbFBhcnRpY2lwYW50fSBjYW4gcHVibGlzaCB0byBhIHtAbGluayBSb29tfS4gSXQgY2FuIGJlXG4gKiBlbmFibGVkIGFuZCBkaXNhYmxlZCB3aXRoIHtAbGluayBMb2NhbFZpZGVvVHJhY2sjZW5hYmxlfSBhbmRcbiAqIHtAbGluayBMb2NhbFZpZGVvVHJhY2sjZGlzYWJsZX0gb3Igc3RvcHBlZCBjb21wbGV0ZWx5IHdpdGhcbiAqIHtAbGluayBMb2NhbFZpZGVvVHJhY2sjc3RvcH0uXG4gKiBAZXh0ZW5kcyBWaWRlb1RyYWNrXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGlzU3RvcHBlZCAtIFdoZXRoZXIgb3Igbm90IHRoZSB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfSBpc1xuICogICBzdG9wcGVkXG4gKiBAZW1pdHMgTG9jYWxWaWRlb1RyYWNrI3N0b3BwZWRcbiAqL1xuXG52YXIgTG9jYWxWaWRlb1RyYWNrID0gZnVuY3Rpb24gKF9Mb2NhbE1lZGlhVmlkZW9UcmFjaykge1xuICBfaW5oZXJpdHMoTG9jYWxWaWRlb1RyYWNrLCBfTG9jYWxNZWRpYVZpZGVvVHJhY2spO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfSBmcm9tIGEgTWVkaWFTdHJlYW1UcmFjay5cbiAgICogQHBhcmFtIHtNZWRpYVN0cmVhbVRyYWNrfSBtZWRpYVN0cmVhbVRyYWNrIC0gVGhlIHVuZGVybHlpbmcgTWVkaWFTdHJlYW1UcmFja1xuICAgKiBAcGFyYW0ge0xvY2FsVHJhY2tPcHRpb25zfSBbb3B0aW9uc10gLSB7QGxpbmsgTG9jYWxUcmFja30gb3B0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gTG9jYWxWaWRlb1RyYWNrKG1lZGlhU3RyZWFtVHJhY2ssIG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9jYWxWaWRlb1RyYWNrKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTG9jYWxWaWRlb1RyYWNrLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTG9jYWxWaWRlb1RyYWNrKSkuY2FsbCh0aGlzLCBtZWRpYVN0cmVhbVRyYWNrLCBvcHRpb25zKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTG9jYWxWaWRlb1RyYWNrLCBbe1xuICAgIGtleTogJ3RvU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJ1tMb2NhbFZpZGVvVHJhY2sgIycgKyB0aGlzLl9pbnN0YW5jZUlkICsgJzogJyArIHRoaXMuaWQgKyAnXSc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2VuZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9lbmQoKSB7XG4gICAgICByZXR1cm4gX2dldChMb2NhbFZpZGVvVHJhY2sucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTG9jYWxWaWRlb1RyYWNrLnByb3RvdHlwZSksICdfZW5kJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlIHRoZSB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfS4gVGhpcyBpcyBlZmZlY3RpdmVseSBcInBhdXNlXCIuXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICogQGZpcmVzIFZpZGVvVHJhY2sjZGlzYWJsZWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZGlzYWJsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gICAgICByZXR1cm4gX2dldChMb2NhbFZpZGVvVHJhY2sucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTG9jYWxWaWRlb1RyYWNrLnByb3RvdHlwZSksICdkaXNhYmxlJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgdGhlIHtAbGluayBMb2NhbFZpZGVvVHJhY2t9LiBUaGlzIGlzIGVmZmVjdGl2ZWx5IFwidW5wYXVzZVwiLlxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqIEBmaXJlcyBWaWRlb1RyYWNrI2VuYWJsZWRcbiAgICAqLyAvKipcbiAgICAgICAqIEVuYWJsZSBvciBkaXNhYmxlIHRoZSB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfS4gVGhpcyBpcyBlZmZlY3RpdmVseSBcInVucGF1c2VcIlxuICAgICAgICogb3IgXCJwYXVzZVwiLlxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBbZW5hYmxlZF0gLSBTcGVjaWZ5IGZhbHNlIHRvIHBhdXNlIHRoZVxuICAgICAgICogICB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfVxuICAgICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICAgKiBAZmlyZXMgVmlkZW9UcmFjayNkaXNhYmxlZFxuICAgICAgICogQGZpcmVzIFZpZGVvVHJhY2sjZW5hYmxlZFxuICAgICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2VuYWJsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICAgIHJldHVybiBfZ2V0KExvY2FsVmlkZW9UcmFjay5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMb2NhbFZpZGVvVHJhY2sucHJvdG90eXBlKSwgJ2VuYWJsZScsIHRoaXMpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbHMgc3RvcCBvbiB0aGUgdW5kZXJseWluZyBNZWRpYVN0cmVhbVRyYWNrLiBJZiB5b3UgY2hvb3NlIHRvIHN0b3AgYVxuICAgICAqIHtAbGluayBMb2NhbFZpZGVvVHJhY2t9LCB5b3Ugc2hvdWxkIHVucHVibGlzaCBpdCBhZnRlciBzdG9wcGluZy5cbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKiBAZmlyZXMgTG9jYWxWaWRlb1RyYWNrI3N0b3BwZWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc3RvcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICByZXR1cm4gX2dldChMb2NhbFZpZGVvVHJhY2sucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTG9jYWxWaWRlb1RyYWNrLnByb3RvdHlwZSksICdzdG9wJywgdGhpcykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTG9jYWxWaWRlb1RyYWNrO1xufShMb2NhbE1lZGlhVmlkZW9UcmFjayk7XG5cbi8qKlxuICogVGhlIHtAbGluayBMb2NhbFZpZGVvVHJhY2t9IHdhcyBkaXNhYmxlZCwgaS5lLiBcIm11dGVkXCIuXG4gKiBAcGFyYW0ge0xvY2FsVmlkZW9UcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIExvY2FsVmlkZW9UcmFja30gdGhhdCB3YXNcbiAqICAgZGlzYWJsZWRcbiAqIEBldmVudCBMb2NhbFZpZGVvVHJhY2sjZGlzYWJsZWRcbiAqL1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfSB3YXMgZW5hYmxlZCwgaS5lLiBcInVubXV0ZWRcIi5cbiAqIEBwYXJhbSB7TG9jYWxWaWRlb1RyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfSB0aGF0IHdhcyBlbmFibGVkXG4gKiBAZXZlbnQgTG9jYWxWaWRlb1RyYWNrI2VuYWJsZWRcbiAqL1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfSBzdGFydGVkLiBUaGlzIG1lYW5zIHRoZXJlIGlzIGVub3VnaCB2aWRlbyBkYXRhXG4gKiB0byBiZWdpbiBwbGF5YmFjay5cbiAqIEBwYXJhbSB7TG9jYWxWaWRlb1RyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfSB0aGF0IHN0YXJ0ZWRcbiAqIEBldmVudCBMb2NhbFZpZGVvVHJhY2sjc3RhcnRlZFxuICovXG5cbi8qKlxuICogVGhlIHtAbGluayBMb2NhbFZpZGVvVHJhY2t9IHN0b3BwZWQsIGVpdGhlciBiZWNhdXNlXG4gKiB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrI3N0b3B9IHdhcyBjYWxsZWQgb3IgYmVjYXVzZSB0aGUgdW5kZXJseWluZ1xuICogTWVkaWFTdHJlYW1UcmFjayBlbmRlZCkuXG4gKiBAcGFyYW0ge0xvY2FsVmlkZW9UcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIExvY2FsVmlkZW9UcmFja30gdGhhdCBzdG9wcGVkXG4gKiBAZXZlbnQgTG9jYWxWaWRlb1RyYWNrI3N0b3BwZWRcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IExvY2FsVmlkZW9UcmFjaztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L21lZGlhL3RyYWNrL2xvY2FsdmlkZW90cmFjay5qc1xuLy8gbW9kdWxlIGlkID0gMjgwXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///280\n");

/***/ }),
/* 281 */
/*!********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/webaudio/workaround180748.js ***!
  \********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar detectSilence = __webpack_require__(/*! ./detectsilence */ 282);\n\n/**\n * This function attempts to workaround WebKit Bug 180748. It does so by\n *\n *   1. Calling `getUserMedia`, and\n *   2. Checking to see if the resulting MediaStream is silent.\n *   3. If so, repeat Step 1; otherwise, return the MediaStream.\n *\n * The function only repeats up to `n` times, and it only waits `timeout`\n * milliseconds when detecting silence. Assuming `getUserMedia` is\n * instantaneous, in the best case, this function returns a Promise that\n * resolves immediately; in the worst case, this function returns a Promise that\n * resolves in `n` * `timeout` milliseconds.\n *\n * @param {Log} log\n * @param {function(MediaStreamConstraints): Promise<MediaStream>} getUserMedia\n * @param {MediaStreamConstraints} constraints\n * @param {number} [n=3]\n * @param {number} [timeout=250]\n * @returns Promise<MediaStream>\n */\nfunction workaround(log, getUserMedia, constraints, n, timeout) {\n  n = typeof n === 'number' ? n : 3;\n  var retry = 0;\n\n  // NOTE(mroberts): We have to delay require-ing AudioContextFactory, because\n  // it exports a default instance whose constructor calls Object.assign.\n  var AudioContextFactory = __webpack_require__(/*! ./audiocontext */ 242);\n  var holder = {};\n  var audioContext = AudioContextFactory.getOrCreate(holder);\n\n  /**\n   * We can't use async/await yet, so I need to factor this out.\n   * @returns {Promise<MediaStream>}\n   */\n  function doWorkaround() {\n    return getUserMedia(constraints).then(function (stream) {\n      var isSilentPromise = constraints.audio ? detectSilence(audioContext, stream, timeout).catch(function () {\n        return true;\n      }) : Promise.resolve(false);\n      return isSilentPromise.then(function (isSilent) {\n        if (!isSilent) {\n          log.info('Got a non-silent audio MediaStreamTrack; returning it.');\n          return stream;\n        } else if (n <= 0) {\n          log.warn('Got a silent audio MediaStreamTrack. Normally we would try \\\nto get a new one, but we\\'ve run out of retries; returning it anyway.');\n          return stream;\n        }\n        log.warn('Got a silent audio MediaStreamTrack. Stopping all MediaStreamTracks and calling getUserMedia again. This is retry #' + ++retry + '.');\n        stream.getTracks().forEach(function (track) {\n          return track.stop();\n        });\n        n--;\n        return doWorkaround();\n      });\n    });\n  }\n\n  return doWorkaround().then(function (stream) {\n    AudioContextFactory.release(holder);\n    return stream;\n  }, function (error) {\n    AudioContextFactory.release(holder);\n    throw error;\n  });\n}\n\nmodule.exports = workaround;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS93ZWJhdWRpby93b3JrYXJvdW5kMTgwNzQ4LmpzPzgwZGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsb0JBQW9CLG1CQUFPLENBQUMsMEJBQWlCOztBQUU3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxXQUFXLElBQUk7QUFDZixXQUFXLHVEQUF1RDtBQUNsRSxXQUFXLHVCQUF1QjtBQUNsQyxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRCQUE0QixtQkFBTyxDQUFDLHlCQUFnQjtBQUNwRDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0EsU0FBUztBQUNUO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJmaWxlIjoiMjgxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZGV0ZWN0U2lsZW5jZSA9IHJlcXVpcmUoJy4vZGV0ZWN0c2lsZW5jZScpO1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gYXR0ZW1wdHMgdG8gd29ya2Fyb3VuZCBXZWJLaXQgQnVnIDE4MDc0OC4gSXQgZG9lcyBzbyBieVxuICpcbiAqICAgMS4gQ2FsbGluZyBgZ2V0VXNlck1lZGlhYCwgYW5kXG4gKiAgIDIuIENoZWNraW5nIHRvIHNlZSBpZiB0aGUgcmVzdWx0aW5nIE1lZGlhU3RyZWFtIGlzIHNpbGVudC5cbiAqICAgMy4gSWYgc28sIHJlcGVhdCBTdGVwIDE7IG90aGVyd2lzZSwgcmV0dXJuIHRoZSBNZWRpYVN0cmVhbS5cbiAqXG4gKiBUaGUgZnVuY3Rpb24gb25seSByZXBlYXRzIHVwIHRvIGBuYCB0aW1lcywgYW5kIGl0IG9ubHkgd2FpdHMgYHRpbWVvdXRgXG4gKiBtaWxsaXNlY29uZHMgd2hlbiBkZXRlY3Rpbmcgc2lsZW5jZS4gQXNzdW1pbmcgYGdldFVzZXJNZWRpYWAgaXNcbiAqIGluc3RhbnRhbmVvdXMsIGluIHRoZSBiZXN0IGNhc2UsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBhIFByb21pc2UgdGhhdFxuICogcmVzb2x2ZXMgaW1tZWRpYXRlbHk7IGluIHRoZSB3b3JzdCBjYXNlLCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgYSBQcm9taXNlIHRoYXRcbiAqIHJlc29sdmVzIGluIGBuYCAqIGB0aW1lb3V0YCBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtMb2d9IGxvZ1xuICogQHBhcmFtIHtmdW5jdGlvbihNZWRpYVN0cmVhbUNvbnN0cmFpbnRzKTogUHJvbWlzZTxNZWRpYVN0cmVhbT59IGdldFVzZXJNZWRpYVxuICogQHBhcmFtIHtNZWRpYVN0cmVhbUNvbnN0cmFpbnRzfSBjb25zdHJhaW50c1xuICogQHBhcmFtIHtudW1iZXJ9IFtuPTNdXG4gKiBAcGFyYW0ge251bWJlcn0gW3RpbWVvdXQ9MjUwXVxuICogQHJldHVybnMgUHJvbWlzZTxNZWRpYVN0cmVhbT5cbiAqL1xuZnVuY3Rpb24gd29ya2Fyb3VuZChsb2csIGdldFVzZXJNZWRpYSwgY29uc3RyYWludHMsIG4sIHRpbWVvdXQpIHtcbiAgbiA9IHR5cGVvZiBuID09PSAnbnVtYmVyJyA/IG4gOiAzO1xuICB2YXIgcmV0cnkgPSAwO1xuXG4gIC8vIE5PVEUobXJvYmVydHMpOiBXZSBoYXZlIHRvIGRlbGF5IHJlcXVpcmUtaW5nIEF1ZGlvQ29udGV4dEZhY3RvcnksIGJlY2F1c2VcbiAgLy8gaXQgZXhwb3J0cyBhIGRlZmF1bHQgaW5zdGFuY2Ugd2hvc2UgY29uc3RydWN0b3IgY2FsbHMgT2JqZWN0LmFzc2lnbi5cbiAgdmFyIEF1ZGlvQ29udGV4dEZhY3RvcnkgPSByZXF1aXJlKCcuL2F1ZGlvY29udGV4dCcpO1xuICB2YXIgaG9sZGVyID0ge307XG4gIHZhciBhdWRpb0NvbnRleHQgPSBBdWRpb0NvbnRleHRGYWN0b3J5LmdldE9yQ3JlYXRlKGhvbGRlcik7XG5cbiAgLyoqXG4gICAqIFdlIGNhbid0IHVzZSBhc3luYy9hd2FpdCB5ZXQsIHNvIEkgbmVlZCB0byBmYWN0b3IgdGhpcyBvdXQuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPE1lZGlhU3RyZWFtPn1cbiAgICovXG4gIGZ1bmN0aW9uIGRvV29ya2Fyb3VuZCgpIHtcbiAgICByZXR1cm4gZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKS50aGVuKGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgICAgIHZhciBpc1NpbGVudFByb21pc2UgPSBjb25zdHJhaW50cy5hdWRpbyA/IGRldGVjdFNpbGVuY2UoYXVkaW9Db250ZXh0LCBzdHJlYW0sIHRpbWVvdXQpLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9KSA6IFByb21pc2UucmVzb2x2ZShmYWxzZSk7XG4gICAgICByZXR1cm4gaXNTaWxlbnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGlzU2lsZW50KSB7XG4gICAgICAgIGlmICghaXNTaWxlbnQpIHtcbiAgICAgICAgICBsb2cuaW5mbygnR290IGEgbm9uLXNpbGVudCBhdWRpbyBNZWRpYVN0cmVhbVRyYWNrOyByZXR1cm5pbmcgaXQuJyk7XG4gICAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICAgICAgfSBlbHNlIGlmIChuIDw9IDApIHtcbiAgICAgICAgICBsb2cud2FybignR290IGEgc2lsZW50IGF1ZGlvIE1lZGlhU3RyZWFtVHJhY2suIE5vcm1hbGx5IHdlIHdvdWxkIHRyeSBcXFxudG8gZ2V0IGEgbmV3IG9uZSwgYnV0IHdlXFwndmUgcnVuIG91dCBvZiByZXRyaWVzOyByZXR1cm5pbmcgaXQgYW55d2F5LicpO1xuICAgICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgICAgIH1cbiAgICAgICAgbG9nLndhcm4oJ0dvdCBhIHNpbGVudCBhdWRpbyBNZWRpYVN0cmVhbVRyYWNrLiBTdG9wcGluZyBhbGwgTWVkaWFTdHJlYW1UcmFja3MgYW5kIGNhbGxpbmcgZ2V0VXNlck1lZGlhIGFnYWluLiBUaGlzIGlzIHJldHJ5ICMnICsgKytyZXRyeSArICcuJyk7XG4gICAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICAgIHJldHVybiB0cmFjay5zdG9wKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBuLS07XG4gICAgICAgIHJldHVybiBkb1dvcmthcm91bmQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGRvV29ya2Fyb3VuZCgpLnRoZW4oZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgIEF1ZGlvQ29udGV4dEZhY3RvcnkucmVsZWFzZShob2xkZXIpO1xuICAgIHJldHVybiBzdHJlYW07XG4gIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgIEF1ZGlvQ29udGV4dEZhY3RvcnkucmVsZWFzZShob2xkZXIpO1xuICAgIHRocm93IGVycm9yO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3b3JrYXJvdW5kO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvd2ViYXVkaW8vd29ya2Fyb3VuZDE4MDc0OC5qc1xuLy8gbW9kdWxlIGlkID0gMjgxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///281\n");

/***/ }),
/* 282 */
/*!*****************************************************************!*\
  !*** ./node_modules/twilio-video/es5/webaudio/detectsilence.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Return a Promise that resolves after `timeout` milliseconds.\n * @param {?number} [timeout=0]\n * @returns {Promise<void>}\n */\n\nfunction delay(timeout) {\n  timeout = typeof timeout === 'number' ? timeout : 0;\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, timeout);\n  });\n}\n\n/**\n * Attempt to detect silence. The Promise returned by this function returns\n * false as soon as audio is detected or true after `timeout` milliseconds.\n * @param {AudioContext} audioContext\n * @param {MediaStream} stream\n * @param {?number} [timeout=250]\n * @returns {Promise<boolean>}\n */\nfunction detectSilence(audioContext, stream, timeout) {\n  timeout = typeof timeout === 'number' ? timeout : 250;\n\n  var source = audioContext.createMediaStreamSource(stream);\n  var analyser = audioContext.createAnalyser();\n  analyser.fftSize = 2048;\n  source.connect(analyser);\n\n  var samples = new Uint8Array(analyser.fftSize);\n\n  var timeoutDidFire = false;\n  setTimeout(function () {\n    timeoutDidFire = true;\n  }, timeout);\n\n  /**\n   * We can't use async/await yet, so I need to factor this out.\n   * @returns {Promise<boolean>}\n   */\n  function doDetectSilence() {\n    if (timeoutDidFire) {\n      return Promise.resolve(true);\n    }\n    analyser.getByteTimeDomainData(samples);\n    return samples.some(function (sample) {\n      return sample;\n    }) ? Promise.resolve(false) : delay().then(doDetectSilence);\n  }\n\n  return doDetectSilence().then(function (isSilent) {\n    source.disconnect();\n    return isSilent;\n  }, function (error) {\n    source.disconnect();\n    throw error;\n  });\n}\n\nmodule.exports = detectSilence;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS93ZWJhdWRpby9kZXRlY3RzaWxlbmNlLmpzPzNkM2UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxhQUFhO0FBQ3hCLFdBQVcsWUFBWTtBQUN2QixXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSIsImZpbGUiOiIyODIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogUmV0dXJuIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIGFmdGVyIGB0aW1lb3V0YCBtaWxsaXNlY29uZHMuXG4gKiBAcGFyYW0gez9udW1iZXJ9IFt0aW1lb3V0PTBdXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAqL1xuXG5mdW5jdGlvbiBkZWxheSh0aW1lb3V0KSB7XG4gIHRpbWVvdXQgPSB0eXBlb2YgdGltZW91dCA9PT0gJ251bWJlcicgPyB0aW1lb3V0IDogMDtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZW91dCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEF0dGVtcHQgdG8gZGV0ZWN0IHNpbGVuY2UuIFRoZSBQcm9taXNlIHJldHVybmVkIGJ5IHRoaXMgZnVuY3Rpb24gcmV0dXJuc1xuICogZmFsc2UgYXMgc29vbiBhcyBhdWRpbyBpcyBkZXRlY3RlZCBvciB0cnVlIGFmdGVyIGB0aW1lb3V0YCBtaWxsaXNlY29uZHMuXG4gKiBAcGFyYW0ge0F1ZGlvQ29udGV4dH0gYXVkaW9Db250ZXh0XG4gKiBAcGFyYW0ge01lZGlhU3RyZWFtfSBzdHJlYW1cbiAqIEBwYXJhbSB7P251bWJlcn0gW3RpbWVvdXQ9MjUwXVxuICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59XG4gKi9cbmZ1bmN0aW9uIGRldGVjdFNpbGVuY2UoYXVkaW9Db250ZXh0LCBzdHJlYW0sIHRpbWVvdXQpIHtcbiAgdGltZW91dCA9IHR5cGVvZiB0aW1lb3V0ID09PSAnbnVtYmVyJyA/IHRpbWVvdXQgOiAyNTA7XG5cbiAgdmFyIHNvdXJjZSA9IGF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShzdHJlYW0pO1xuICB2YXIgYW5hbHlzZXIgPSBhdWRpb0NvbnRleHQuY3JlYXRlQW5hbHlzZXIoKTtcbiAgYW5hbHlzZXIuZmZ0U2l6ZSA9IDIwNDg7XG4gIHNvdXJjZS5jb25uZWN0KGFuYWx5c2VyKTtcblxuICB2YXIgc2FtcGxlcyA9IG5ldyBVaW50OEFycmF5KGFuYWx5c2VyLmZmdFNpemUpO1xuXG4gIHZhciB0aW1lb3V0RGlkRmlyZSA9IGZhbHNlO1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICB0aW1lb3V0RGlkRmlyZSA9IHRydWU7XG4gIH0sIHRpbWVvdXQpO1xuXG4gIC8qKlxuICAgKiBXZSBjYW4ndCB1c2UgYXN5bmMvYXdhaXQgeWV0LCBzbyBJIG5lZWQgdG8gZmFjdG9yIHRoaXMgb3V0LlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cbiAgICovXG4gIGZ1bmN0aW9uIGRvRGV0ZWN0U2lsZW5jZSgpIHtcbiAgICBpZiAodGltZW91dERpZEZpcmUpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgfVxuICAgIGFuYWx5c2VyLmdldEJ5dGVUaW1lRG9tYWluRGF0YShzYW1wbGVzKTtcbiAgICByZXR1cm4gc2FtcGxlcy5zb21lKGZ1bmN0aW9uIChzYW1wbGUpIHtcbiAgICAgIHJldHVybiBzYW1wbGU7XG4gICAgfSkgPyBQcm9taXNlLnJlc29sdmUoZmFsc2UpIDogZGVsYXkoKS50aGVuKGRvRGV0ZWN0U2lsZW5jZSk7XG4gIH1cblxuICByZXR1cm4gZG9EZXRlY3RTaWxlbmNlKCkudGhlbihmdW5jdGlvbiAoaXNTaWxlbnQpIHtcbiAgICBzb3VyY2UuZGlzY29ubmVjdCgpO1xuICAgIHJldHVybiBpc1NpbGVudDtcbiAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgc291cmNlLmRpc2Nvbm5lY3QoKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGV0ZWN0U2lsZW5jZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3dlYmF1ZGlvL2RldGVjdHNpbGVuY2UuanNcbi8vIG1vZHVsZSBpZCA9IDI4MlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///282\n");

/***/ }),
/* 283 */
/*!*******************************************************************!*\
  !*** ./node_modules/twilio-video/es5/iceserversource/constant.js ***!
  \*******************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EventEmitter = __webpack_require__(/*! events */ 207).EventEmitter;\n\nvar instances = 0;\n\n/**\n * A {@link ConstantIceServerSource} only ever returns a single set of ICE\n * servers. It is useful for providing a hard-coded set of ICE servers.\n * @extends EventEmitter\n * @implements {IceServerSource}\n */\n\nvar ConstantIceServerSource = function (_EventEmitter) {\n  _inherits(ConstantIceServerSource, _EventEmitter);\n\n  /**\n   * Construct a {@link ConstantIceServerSource}.\n   * @param {Array<RTCIceServerInit>} iceServers\n   */\n  function ConstantIceServerSource(iceServers) {\n    _classCallCheck(this, ConstantIceServerSource);\n\n    var _this = _possibleConstructorReturn(this, (ConstantIceServerSource.__proto__ || Object.getPrototypeOf(ConstantIceServerSource)).call(this));\n\n    Object.defineProperties(_this, {\n      _instance: {\n        value: ++instances\n      },\n      _iceServers: {\n        enumerable: true,\n        value: iceServers,\n        writable: true\n      },\n      _isStarted: {\n        value: false,\n        writable: true\n      },\n      isStarted: {\n        enumerable: true,\n        get: function get() {\n          return this._isStarted;\n        }\n      },\n      status: {\n        enumerable: true,\n        value: 'overrode'\n      }\n    });\n    return _this;\n  }\n\n  _createClass(ConstantIceServerSource, [{\n    key: 'start',\n    value: function start() {\n      this._isStarted = true;\n      return Promise.resolve(this._iceServers);\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this._isStarted = false;\n    }\n  }, {\n    key: 'toString',\n    value: function toString() {\n      return '[ConstantIceServerSource #' + this._instance + ']';\n    }\n  }]);\n\n  return ConstantIceServerSource;\n}(EventEmitter);\n\nmodule.exports = ConstantIceServerSource;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9pY2VzZXJ2ZXJzb3VyY2UvY29uc3RhbnQuanM/MTAyMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSxtQkFBbUIsbUJBQU8sQ0FBQyxpQkFBUTs7QUFFbkM7O0FBRUE7QUFDQSxNQUFNLDhCQUE4QjtBQUNwQztBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsOEJBQThCO0FBQ2hELGFBQWEsd0JBQXdCO0FBQ3JDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIyODMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcblxudmFyIGluc3RhbmNlcyA9IDA7XG5cbi8qKlxuICogQSB7QGxpbmsgQ29uc3RhbnRJY2VTZXJ2ZXJTb3VyY2V9IG9ubHkgZXZlciByZXR1cm5zIGEgc2luZ2xlIHNldCBvZiBJQ0VcbiAqIHNlcnZlcnMuIEl0IGlzIHVzZWZ1bCBmb3IgcHJvdmlkaW5nIGEgaGFyZC1jb2RlZCBzZXQgb2YgSUNFIHNlcnZlcnMuXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBpbXBsZW1lbnRzIHtJY2VTZXJ2ZXJTb3VyY2V9XG4gKi9cblxudmFyIENvbnN0YW50SWNlU2VydmVyU291cmNlID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgX2luaGVyaXRzKENvbnN0YW50SWNlU2VydmVyU291cmNlLCBfRXZlbnRFbWl0dGVyKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGEge0BsaW5rIENvbnN0YW50SWNlU2VydmVyU291cmNlfS5cbiAgICogQHBhcmFtIHtBcnJheTxSVENJY2VTZXJ2ZXJJbml0Pn0gaWNlU2VydmVyc1xuICAgKi9cbiAgZnVuY3Rpb24gQ29uc3RhbnRJY2VTZXJ2ZXJTb3VyY2UoaWNlU2VydmVycykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb25zdGFudEljZVNlcnZlclNvdXJjZSk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ29uc3RhbnRJY2VTZXJ2ZXJTb3VyY2UuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDb25zdGFudEljZVNlcnZlclNvdXJjZSkpLmNhbGwodGhpcykpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX3RoaXMsIHtcbiAgICAgIF9pbnN0YW5jZToge1xuICAgICAgICB2YWx1ZTogKytpbnN0YW5jZXNcbiAgICAgIH0sXG4gICAgICBfaWNlU2VydmVyczoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogaWNlU2VydmVycyxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBfaXNTdGFydGVkOiB7XG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBpc1N0YXJ0ZWQ6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2lzU3RhcnRlZDtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHN0YXR1czoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogJ292ZXJyb2RlJ1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDb25zdGFudEljZVNlcnZlclNvdXJjZSwgW3tcbiAgICBrZXk6ICdzdGFydCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgdGhpcy5faXNTdGFydGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5faWNlU2VydmVycyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc3RvcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICB0aGlzLl9pc1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd0b1N0cmluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuICdbQ29uc3RhbnRJY2VTZXJ2ZXJTb3VyY2UgIycgKyB0aGlzLl9pbnN0YW5jZSArICddJztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29uc3RhbnRJY2VTZXJ2ZXJTb3VyY2U7XG59KEV2ZW50RW1pdHRlcik7XG5cbm1vZHVsZS5leHBvcnRzID0gQ29uc3RhbnRJY2VTZXJ2ZXJTb3VyY2U7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9pY2VzZXJ2ZXJzb3VyY2UvY29uc3RhbnQuanNcbi8vIG1vZHVsZSBpZCA9IDI4M1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///283\n");

/***/ }),
/* 284 */
/*!***********************************************!*\
  !*** ./node_modules/twilio-video/es5/room.js ***!
  \***********************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EventEmitter = __webpack_require__(/*! events */ 207).EventEmitter;\nvar RemoteParticipant = __webpack_require__(/*! ./remoteparticipant */ 285);\nvar StatsReport = __webpack_require__(/*! ./stats/statsreport */ 246);\n\nvar _require = __webpack_require__(/*! ./util */ 206),\n    deprecateEvents = _require.deprecateEvents;\n\nvar _require2 = __webpack_require__(/*! ./util/twilio-video-errors */ 209),\n    MediaConnectionError = _require2.MediaConnectionError;\n\nvar nInstances = 0;\n\n/**\n * A {@link Room} represents communication between you and one or more\n * {@link RemoteParticipant}s sharing {@link AudioTrack}s and\n * {@link VideoTrack}s.\n * <br><br>\n * You can connect to a {@link Room} by calling {@link connect}.\n * @extends EventEmitter\n * @property {?RemoteParticipant} dominantSpeaker - The Dominant Speaker in the\n *   {@link Room}, if any\n * @property {boolean} isRecording - Whether or not the {@link Room} is being\n *   recorded\n * @property {LocalParticipant} localParticipant - Your {@link LocalParticipant}\n *   in the {@link Room}\n * @property {string} name - The {@link Room}'s name\n * @property {Map<Participant.SID, RemoteParticipant>} participants -\n *   The {@link RemoteParticipant}s participating in this {@link Room}\n * @property {Room.SID} sid - The {@link Room}'s SID\n * @property {string} state - \"connected\", \"reconnecting\", or \"disconnected\"\n * @throws {SignalingConnectionDisconnectedError}\n * @emits Room#disconnected\n * @emits Room#participantConnected\n * @emits Room#participantDisconnected\n * @emits Room#reconnected\n * @emits Room#reconnecting\n * @emits Room#recordingStarted\n * @emits Room#recordingStopped\n * @emits Room#trackAdded\n * @emits Room#trackDimensionsChanged\n * @emits Room#trackDisabled\n * @emits Room#trackEnabled\n * @emits Room#trackMessage\n * @emits Room#trackPublished\n * @emits Room#trackRemoved\n * @emits Room#trackStarted\n * @emits Room#trackSubscribed\n * @emits Room#trackUnpublished\n * @emits Room#trackUnsubscribed\n */\n\nvar Room = function (_EventEmitter) {\n  _inherits(Room, _EventEmitter);\n\n  /**\n   * Construct a {@link Room}.\n   * @param {RoomSignaling} signaling\n   * @param {?object} [options={}]\n   */\n  function Room(localParticipant, signaling, options) {\n    _classCallCheck(this, Room);\n\n    var _this = _possibleConstructorReturn(this, (Room.__proto__ || Object.getPrototypeOf(Room)).call(this));\n\n    var log = options.log.createLog('default', _this);\n    var participants = new Map();\n\n    /* istanbul ignore next */\n    Object.defineProperties(_this, {\n      _log: {\n        value: log\n      },\n      _instanceId: {\n        value: ++nInstances\n      },\n      _options: {\n        value: options\n      },\n      _participants: {\n        value: participants\n      },\n      _signaling: {\n        value: signaling\n      },\n      dominantSpeaker: {\n        enumerable: true,\n        get: function get() {\n          return this.participants.get(signaling.dominantSpeakerSid) || null;\n        }\n      },\n      isRecording: {\n        enumerable: true,\n        get: function get() {\n          return signaling.recording.isEnabled || false;\n        }\n      },\n      localParticipant: {\n        enumerable: true,\n        value: localParticipant\n      },\n      name: {\n        enumerable: true,\n        value: signaling.name\n      },\n      participants: {\n        enumerable: true,\n        value: participants\n      },\n      sid: {\n        enumerable: true,\n        value: signaling.sid\n      },\n      state: {\n        enumerable: true,\n        get: function get() {\n          return signaling.state;\n        }\n      }\n    });\n\n    deprecateEvents('Room', _this, new Map([['trackAdded', 'trackSubscribed'], ['trackRemoved', 'trackUnsubscribed']]), log);\n\n    handleRecordingEvents(_this, signaling.recording);\n    handleSignalingEvents(_this, signaling);\n\n    log.info('Created a new Room:', _this.name);\n    log.debug('Initial RemoteParticipants:', Array.from(_this._participants.values()));\n    return _this;\n  }\n\n  _createClass(Room, [{\n    key: 'toString',\n    value: function toString() {\n      return '[Room #' + this._instanceId + ': ' + this.sid + ']';\n    }\n\n    /**\n     * Disconnect from the {@link Room}.\n     * @returns {this}\n     */\n\n  }, {\n    key: 'disconnect',\n    value: function disconnect() {\n      this._log.info('Disconnecting');\n      this._signaling.disconnect();\n      return this;\n    }\n\n    /**\n     * Get the {@link Room}'s media statistics. This is not supported in Safari 12.0 or below\n     * due to this bug : https://bugs.webkit.org/show_bug.cgi?id=192601\n     *\n     * @returns {Promise.<Array<StatsReport>>}\n     */\n\n  }, {\n    key: 'getStats',\n    value: function getStats() {\n      return this._signaling.getStats().then(function (responses) {\n        return Array.from(responses).map(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              id = _ref2[0],\n              response = _ref2[1];\n\n          return new StatsReport(id, response);\n        });\n      });\n    }\n  }]);\n\n  return Room;\n}(EventEmitter);\n\n/**\n * A {@link Room.SID} is a 34-character string starting with \"RM\"\n * that uniquely identifies a {@link Room}.\n * @type string\n * @typedef Room.SID\n */\n\n/**\n * The Dominant Speaker in the {@link Room} changed. Either the Dominant Speaker\n * is a new {@link RemoteParticipant} or the Dominant Speaker has been reset and\n * is now null.\n * @param {?RemoteParticipant} dominantSpeaker - The Dominant Speaker in the\n *   {@link Room}, if any\n * @event Room#dominantSpeakerChanged\n */\n\n/**\n * Your {@link LocalParticipant} was disconnected from the {@link Room} and all\n * other {@link RemoteParticipant}s.\n * @param {Room} room - The {@link Room} your\n *   {@link LocalParticipant} was disconnected from\n * @param {?TwilioError} error - Present when the {@link LocalParticipant} got\n *   disconnected from the {@link Room} unexpectedly\n * @event Room#disconnected\n * @example\n * myRoom.on('disconnected', function(room, error) {\n *   if (error) {\n *     console.log('Unexpectedly disconnected:', error);\n *   }\n *   myRoom.localParticipant.tracks.forEach(function(track) {\n *     track.stop();\n *     track.detach();\n *   });\n * });\n */\n\n/**\n * A {@link RemoteParticipant} joined the {@link Room}.\n * @param {RemoteParticipant} participant - The {@link RemoteParticipant} who joined\n * @event Room#participantConnected\n * @example\n * myRoom.on('participantConnected', function(participant) {\n *   console.log(participant.identity + ' joined the Room');\n * });\n */\n\n/**\n * A {@link RemoteParticipant} left the {@link Room}.\n * @param {RemoteParticipant} participant - The {@link RemoteParticipant} who left\n * @event Room#participantDisconnected\n * @example\n * myRoom.on('participantDisconnected', function(participant) {\n *   console.log(participant.identity + ' left the Room');\n *   participant.tracks.forEach(function(track) {\n *     track.detach().forEach(function(mediaElement) {\n *       mediaElement.remove();\n *     });\n *   });\n * });\n */\n\n/**\n * Your application successfully reconnected to the {@link Room}. When this\n * event is emitted, the {@link Room} is in state \"connected\".\n * @event Room#reconnected\n * @example\n * myRoom.on('reconnected', () => {\n *   console.log('Reconnected!');\n * });\n */\n\n/**\n * Your application is reconnecting to the {@link Room}. Typically this happens\n * when there is a disruption in your media connection. When this event is\n * emitted, the {@link Room} is in state \"reconnecting\". If reconnecting\n * succeeds, the {@link Room} will emit a \"reconnected\" event.\n * @param {TwilioError} error - A {@link TwilioError} explaining why your\n *   application is reconnecting\n * @example\n * myRoom.on('reconnecting', error => {\n *   console.warn('Reconnecting!', error);\n * });\n * @event Room#reconnecting\n */\n\n/**\n * The {@link Room} is now being recorded\n * @event Room#recordingStarted\n */\n\n/**\n * The {@link Room} is no longer being recorded\n * @event Room#recordingStopped\n */\n\n/**\n * A {@link RemoteTrack} was added by a {@link RemoteParticipant} in the {@link Room}.\n * @param {RemoteTrack} track - The {@link RemoteTrack} that was added\n * @param {RemoteParticipant} participant - The {@link RemoteParticipant} who\n *   added the {@link RemoteTrack}\n * @event Room#trackAdded\n * @deprecated Use {@link RemoteParticipant#trackSubscribed} instead\n * @example\n * room.on('trackAdded', function(track, participant) {\n *   var participantView = document.getElementById('participant-view-' + participant.identity);\n *   participantView.appendChild(track.attach());\n * });\n */\n\n/**\n * One of the {@link RemoteParticipant}'s {@link VideoTrack}'s dimensions changed.\n * @param {RemoteVideoTrack} track - The {@link RemoteVideoTrack} whose dimensions changed\n * @param {RemoteParticipant} participant - The {@link RemoteParticipant} whose\n *   {@link RemoteVideoTrack}'s dimensions changed\n * @event Room#trackDimensionsChanged\n */\n\n/**\n * A {@link RemoteTrack} was disabled by a {@link RemoteParticipant} in the {@link Room}.\n * @param {RemoteTrack} track - The {@link RemoteTrack} that was disabled\n * @param {RemoteParticipant} participant - The {@link RemoteParticipant} who\n *   disabled the {@link RemoteTrack}\n * @event Room#trackDisabled\n */\n\n/**\n * A {@link RemoteTrack} was enabled by a {@link RemoteParticipant} in the {@link Room}.\n * @param {RemoteTrack} track - The {@link RemoteTrack} that was enabled\n * @param {RemoteParticipant} participant - The {@link RemoteParticipant} who\n *   enabled the {@link RemoteTrack}\n * @event Room#trackEnabled\n */\n\n/**\n * A message was received over one of the {@link RemoteParticipant}'s\n * {@link RemoteDataTrack}'s.\n * @param {string|ArrayBuffer} data\n * @param {RemoteVideoTrack} track - The {@link RemoteDataTrack} over which the\n *   message was received\n * @param {RemoteParticipant} participant - The {@link RemoteParticipant} whose\n *   {@link RemoteDataTrack} received the message\n * @event Room#trackMessage\n */\n\n/**\n * A {@link RemoteTrack} was published by a {@link RemoteParticipant} after\n * connecting to the {@link Room}. This event is not emitted for\n * {@link RemoteTrack}s that were published while the {@link RemoteParticipant}\n * was connecting to the {@link Room}.\n * @event Room#trackPublished\n * @param {RemoteTrackPublication} publication - The {@link RemoteTrackPublication}\n *   which represents the published {@link RemoteTrack}\n * @param {RemoteParticipant} participant - The {@link RemoteParticipant} who\n *   published the {@link RemoteTrack}\n * @example\n * function trackPublished(publication, participant) {\n *   console.log(`RemoteParticipant ${participant.sid} published Track ${publication.trackSid}`);\n * }\n *\n * // Handle RemoteTracks published after connecting to the Room.\n * room.on('trackPublished', trackPublished);\n *\n * room.on('participantConnected', participant => {\n *   // Handle RemoteTracks published while connecting to the Room.\n *   participant.trackPublications.forEach(publication => trackPublished(publication, participant));\n * });\n */\n\n/**\n * A {@link RemoteTrack} was removed by a {@link RemoteParticipant} in the {@link Room}.\n * @param {RemoteTrack} track - The {@link RemoteTrack} that was removed\n * @param {RemoteParticipant} participant - The {@link RemoteParticipant} who\n *   removed the {@link RemoteTrack}\n * @event Room#trackRemoved\n * @deprecated Use {@link RemoteParticipant#trackUnsubscribed} instead\n * @example\n * room.on('trackRemoved', function(track, participant) {\n *   track.detach().forEach(function(mediaElement) {\n *     mediaElement.remove();\n *   });\n * });\n */\n\n/**\n * One of a {@link RemoteParticipant}'s {@link RemoteTrack}s in the {@link Room} started.\n * @param {RemoteTrack} track - The {@link RemoteTrack} that started\n * @param {RemoteParticipant} participant - The {@link RemoteParticipant} whose\n *   {@link RemoteTrack} started\n * @event Room#trackStarted\n */\n\n/**\n * A {@link RemoteParticipant}'s {@link RemoteTrack} was subscribed to.\n * @param {RemoteTrack} track - The {@link RemoteTrack} that was subscribed\n * @param {RemoteParticipant} participant - The {@link RemoteParticipant} whose\n *   {@link RemoteTrack} was subscribed\n * @event Room#trackSubscribed\n * @example\n * room.on('trackSubscribed', function(track, participant) {\n *   var participantView = document.getElementById('participant-view-' + participant.identity);\n *   participantView.appendChild(track.attach());\n * });\n */\n\n/**\n * A {@link RemoteParticipant}'s {@link RemoteTrack} could not be subscribed to.\n * @param {TwilioError} error - The reason the {@link RemoteTrack} could not be\n *   subscribed to\n * @param {RemoteTrackPublication} publication - The\n *   {@link RemoteTrackPublication} for the {@link RemoteTrack} that could not\n *   be subscribed to\n * @param {RemoteParticipant} participant - The {@link RemoteParticipant} whose\n *   {@link RemoteTrack} could not be subscribed to\n * @event Room#trackSubscriptionFailed\n */\n\n/**\n * A {@link RemoteTrack} was unpublished by a {@link RemoteParticipant} to the {@link Room}.\n * @event Room#trackUnpublished\n * @param {RemoteTrackPublication} publication - The {@link RemoteTrackPublication}\n *   which represents the unpublished {@link RemoteTrack}\n * @param {RemoteParticipant} participant - The {@link RemoteParticipant} who\n *   unpublished the {@link RemoteTrack}\n */\n\n/**\n * A {@link RemoteParticipant}'s {@link RemoteTrack} was unsubscribed from.\n * @param {RemoteTrack} track - The {@link RemoteTrack} that was unsubscribed\n * @param {RemoteParticipant} participant - The {@link RemoteParticipant} whose\n *   {@link RemoteTrack} was unsubscribed\n * @event Room#trackUnsubscribed\n * @example\n * room.on('trackUnsubscribed', function(track, participant) {\n *   track.detach().forEach(function(mediaElement) {\n *     mediaElement.remove();\n *   });\n * });\n */\n\nfunction connectParticipant(room, participantSignaling) {\n  var log = room._log;\n  var participant = new RemoteParticipant(participantSignaling, { log: log });\n\n  log.info('A new RemoteParticipant connected:', participant);\n  room._participants.set(participant.sid, participant);\n  room.emit('participantConnected', participant);\n\n  // Reemit Track events from the RemoteParticipant.\n  var eventListeners = [['trackSubscribed', 'trackAdded'], 'trackDimensionsChanged', 'trackDisabled', 'trackEnabled', 'trackMessage', 'trackPublished', ['trackUnsubscribed', 'trackRemoved'], 'trackStarted', 'trackSubscribed', 'trackSubscriptionFailed', 'trackUnpublished', 'trackUnsubscribed'].map(function (eventOrEventPair) {\n    var participantEvent = typeof eventOrEventPair === 'string' ? eventOrEventPair : eventOrEventPair[0];\n    var roomEvent = typeof eventOrEventPair === 'string' ? eventOrEventPair : eventOrEventPair[1];\n    function reemit() {\n      var args = [].slice.call(arguments);\n      args.unshift(roomEvent);\n      args.push(participant);\n      room.emit.apply(room, _toConsumableArray(args));\n    }\n    participant.on(participantEvent, reemit);\n    return [participantEvent, reemit];\n  });\n\n  // Reemit state transition events from the RemoteParticipant.\n  participant.once('disconnected', function participantDisconnected() {\n    var dominantSpeaker = room.dominantSpeaker;\n    log.info('RemoteParticipant disconnected:', participant);\n    room._participants.delete(participant.sid);\n    eventListeners.forEach(function (args) {\n      participant.removeListener(args[0], args[1]);\n    });\n    room.emit('participantDisconnected', participant);\n    if (participant === dominantSpeaker) {\n      room.emit('dominantSpeakerChanged', room.dominantSpeaker);\n    }\n  });\n}\n\nfunction handleRecordingEvents(room, recording) {\n  recording.on('updated', function updated() {\n    var started = recording.isEnabled;\n    room._log.info('Recording ' + (started ? 'started' : 'stopped'));\n    room.emit('recording' + (started ? 'Started' : 'Stopped'));\n  });\n}\n\nfunction handleSignalingEvents(room, signaling) {\n  var log = room._log;\n\n  // Reemit RemoteParticipant events from the RoomSignaling.\n  log.debug('Creating a new RemoteParticipant for each ParticipantSignaling ' + 'in the RoomSignaling');\n  signaling.participants.forEach(connectParticipant.bind(null, room));\n  log.debug('Setting up RemoteParticipant creation for all subsequent ' + 'ParticipantSignalings that connect to the RoomSignaling');\n  signaling.on('participantConnected', connectParticipant.bind(null, room));\n\n  signaling.on('dominantSpeakerChanged', function () {\n    return room.emit('dominantSpeakerChanged', room.dominantSpeaker);\n  });\n\n  // Reemit state transition events from the RoomSignaling.\n  signaling.on('stateChanged', function stateChanged(state, error) {\n    log.info('Transitioned to state:', state);\n    switch (state) {\n      case 'disconnected':\n        room.participants.forEach(function (participant) {\n          participant._unsubscribeTracks();\n        });\n        room.emit(state, room, error);\n        signaling.removeListener('stateChanged', stateChanged);\n        break;\n      case 'reconnecting':\n        room.emit('reconnecting', new MediaConnectionError());\n        break;\n      default:\n        room.emit('reconnected');\n    }\n  });\n}\n\nmodule.exports = Room;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9yb29tLmpzPzQxZmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsa0NBQWtDLGlDQUFpQyxlQUFlLGVBQWUsZ0JBQWdCLG9CQUFvQixNQUFNLDBDQUEwQywrQkFBK0IsYUFBYSxxQkFBcUIsbUNBQW1DLEVBQUUsRUFBRSxjQUFjLFdBQVcsVUFBVSxFQUFFLFVBQVUsTUFBTSx5Q0FBeUMsRUFBRSxVQUFVLGtCQUFrQixFQUFFLEVBQUUsYUFBYSxFQUFFLDJCQUEyQiwwQkFBMEIsWUFBWSxFQUFFLDJDQUEyQyw4QkFBOEIsRUFBRSxPQUFPLDZFQUE2RSxFQUFFLEdBQUcsRUFBRTs7QUFFcnBCLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixrQ0FBa0MsMEJBQTBCLDBDQUEwQyxnQkFBZ0IsT0FBTyxrQkFBa0IsRUFBRSxhQUFhLEVBQUUsT0FBTyx3QkFBd0IsRUFBRTs7QUFFak0saURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSxtQkFBbUIsbUJBQU8sQ0FBQyxpQkFBUTtBQUNuQyx3QkFBd0IsbUJBQU8sQ0FBQyw4QkFBcUI7QUFDckQsa0JBQWtCLG1CQUFPLENBQUMsOEJBQXFCOztBQUUvQyxlQUFlLG1CQUFPLENBQUMsaUJBQVE7QUFDL0I7O0FBRUEsZ0JBQWdCLG1CQUFPLENBQUMscUNBQTRCO0FBQ3BEOztBQUVBOztBQUVBO0FBQ0EsTUFBTSxXQUFXO0FBQ2pCLElBQUksd0JBQXdCLFdBQVcsaUJBQWlCO0FBQ3hELElBQUksaUJBQWlCO0FBQ3JCO0FBQ0EseUJBQXlCLFdBQVcsYUFBYSxjQUFjO0FBQy9EO0FBQ0EsY0FBYyxtQkFBbUI7QUFDakMsTUFBTSxXQUFXO0FBQ2pCLGNBQWMsUUFBUSxtQ0FBbUMsV0FBVztBQUNwRTtBQUNBLGNBQWMsaUJBQWlCLDBCQUEwQjtBQUN6RCxhQUFhO0FBQ2IsY0FBYyxPQUFPLGFBQWEsV0FBVztBQUM3QyxjQUFjLHdDQUF3QztBQUN0RCxVQUFVLHdCQUF3Qix5QkFBeUI7QUFDM0QsY0FBYyxTQUFTLFlBQVksV0FBVztBQUM5QyxjQUFjLE9BQU87QUFDckIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsV0FBVztBQUM3QixhQUFhLGNBQWM7QUFDM0IsYUFBYSxRQUFRLFlBQVk7QUFDakM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCLFdBQVc7QUFDdkMsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsV0FBVztBQUMzQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLE1BQU0sZUFBZTtBQUNyQiwrQkFBK0IsV0FBVztBQUMxQztBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQ0FBZ0MsV0FBVztBQUMzQyxhQUFhLHdCQUF3QjtBQUNyQztBQUNBLFdBQVcsbUJBQW1CO0FBQzlCLE1BQU0sV0FBVztBQUNqQjtBQUNBOztBQUVBO0FBQ0EsU0FBUyx1QkFBdUIsNEJBQTRCLFdBQVc7QUFDdkUsVUFBVSx3QkFBd0I7QUFDbEMsV0FBVyxLQUFLLGFBQWEsV0FBVztBQUN4QyxNQUFNLHVCQUF1QjtBQUM3QixXQUFXLGFBQWEsMkJBQTJCLHVCQUF1QjtBQUMxRSw0QkFBNEIsV0FBVztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sSUFBSTtBQUNKOztBQUVBO0FBQ0EsTUFBTSx3QkFBd0IsYUFBYSxXQUFXO0FBQ3RELFdBQVcsa0JBQWtCLG9CQUFvQix3QkFBd0I7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQSxNQUFNLHdCQUF3QixXQUFXLFdBQVc7QUFDcEQsV0FBVyxrQkFBa0Isb0JBQW9CLHdCQUF3QjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixNQUFNO0FBQ04sSUFBSTtBQUNKOztBQUVBO0FBQ0EscURBQXFELFdBQVc7QUFDaEUsMEJBQTBCLFdBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQSw0Q0FBNEMsV0FBVztBQUN2RDtBQUNBLGlCQUFpQixXQUFXO0FBQzVCLGtCQUFrQixXQUFXO0FBQzdCLFdBQVcsWUFBWSxZQUFZLGtCQUFrQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0EsUUFBUSxXQUFXO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLFdBQVc7QUFDbkI7QUFDQTs7QUFFQTtBQUNBLE1BQU0sa0JBQWtCLGlCQUFpQix3QkFBd0IsU0FBUyxXQUFXO0FBQ3JGLFdBQVcsWUFBWSxjQUFjLGtCQUFrQjtBQUN2RCxXQUFXLGtCQUFrQixvQkFBb0Isd0JBQXdCO0FBQ3pFLGdCQUFnQjtBQUNoQjtBQUNBLG9CQUFvQix3Q0FBd0M7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQSxlQUFlLHdCQUF3QixJQUFJLGlCQUFpQjtBQUM1RCxXQUFXLGlCQUFpQixjQUFjLHVCQUF1QjtBQUNqRSxXQUFXLGtCQUFrQixvQkFBb0Isd0JBQXdCO0FBQ3pFLE1BQU0sdUJBQXVCO0FBQzdCO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLGtCQUFrQixvQkFBb0Isd0JBQXdCLFNBQVMsV0FBVztBQUN4RixXQUFXLFlBQVksY0FBYyxrQkFBa0I7QUFDdkQsV0FBVyxrQkFBa0Isb0JBQW9CLHdCQUF3QjtBQUN6RSxtQkFBbUI7QUFDbkI7QUFDQTs7QUFFQTtBQUNBLE1BQU0sa0JBQWtCLG1CQUFtQix3QkFBd0IsU0FBUyxXQUFXO0FBQ3ZGLFdBQVcsWUFBWSxjQUFjLGtCQUFrQjtBQUN2RCxXQUFXLGtCQUFrQixvQkFBb0Isd0JBQXdCO0FBQ3pFLGtCQUFrQjtBQUNsQjtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDLHdCQUF3QjtBQUNuRSxJQUFJLHNCQUFzQjtBQUMxQixXQUFXLG1CQUFtQjtBQUM5QixXQUFXLGlCQUFpQixjQUFjLHNCQUFzQjtBQUNoRTtBQUNBLFdBQVcsa0JBQWtCLG9CQUFvQix3QkFBd0I7QUFDekUsTUFBTSxzQkFBc0I7QUFDNUI7QUFDQTs7QUFFQTtBQUNBLE1BQU0sa0JBQWtCLHFCQUFxQix3QkFBd0I7QUFDckUsc0JBQXNCLFdBQVc7QUFDakMsSUFBSSxrQkFBa0IsaUNBQWlDO0FBQ3ZELDBCQUEwQixXQUFXO0FBQ3JDO0FBQ0EsV0FBVyx1QkFBdUIsb0JBQW9CO0FBQ3RELHFDQUFxQztBQUNyQyxXQUFXLGtCQUFrQixvQkFBb0Isd0JBQXdCO0FBQ3pFLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0Esc0NBQXNDLGdCQUFnQixtQkFBbUIscUJBQXFCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQSxNQUFNLGtCQUFrQixtQkFBbUIsd0JBQXdCLFNBQVMsV0FBVztBQUN2RixXQUFXLFlBQVksY0FBYyxrQkFBa0I7QUFDdkQsV0FBVyxrQkFBa0Isb0JBQW9CLHdCQUF3QjtBQUN6RSxrQkFBa0I7QUFDbEI7QUFDQSxvQkFBb0IsMENBQTBDO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSjs7QUFFQTtBQUNBLGFBQWEsd0JBQXdCLElBQUksa0JBQWtCLFVBQVUsV0FBVztBQUNoRixXQUFXLFlBQVksY0FBYyxrQkFBa0I7QUFDdkQsV0FBVyxrQkFBa0Isb0JBQW9CLHdCQUF3QjtBQUN6RSxNQUFNLGtCQUFrQjtBQUN4QjtBQUNBOztBQUVBO0FBQ0EsTUFBTSx3QkFBd0IsSUFBSSxrQkFBa0I7QUFDcEQsV0FBVyxZQUFZLGNBQWMsa0JBQWtCO0FBQ3ZELFdBQVcsa0JBQWtCLG9CQUFvQix3QkFBd0I7QUFDekUsTUFBTSxrQkFBa0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBLE1BQU0sd0JBQXdCLElBQUksa0JBQWtCO0FBQ3BELFdBQVcsWUFBWSx5QkFBeUIsa0JBQWtCO0FBQ2xFO0FBQ0EsV0FBVyx1QkFBdUI7QUFDbEMsTUFBTSw2QkFBNkIsVUFBVSxrQkFBa0I7QUFDL0Q7QUFDQSxXQUFXLGtCQUFrQixvQkFBb0Isd0JBQXdCO0FBQ3pFLE1BQU0sa0JBQWtCO0FBQ3hCO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLGtCQUFrQix1QkFBdUIsd0JBQXdCLFNBQVMsV0FBVztBQUMzRjtBQUNBLFdBQVcsdUJBQXVCLG9CQUFvQjtBQUN0RCx1Q0FBdUM7QUFDdkMsV0FBVyxrQkFBa0Isb0JBQW9CLHdCQUF3QjtBQUN6RSxzQkFBc0I7QUFDdEI7O0FBRUE7QUFDQSxNQUFNLHdCQUF3QixJQUFJLGtCQUFrQjtBQUNwRCxXQUFXLFlBQVksY0FBYyxrQkFBa0I7QUFDdkQsV0FBVyxrQkFBa0Isb0JBQW9CLHdCQUF3QjtBQUN6RSxNQUFNLGtCQUFrQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0EsaUVBQWlFLFdBQVc7O0FBRTVFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSIsImZpbGUiOiIyODQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcbnZhciBSZW1vdGVQYXJ0aWNpcGFudCA9IHJlcXVpcmUoJy4vcmVtb3RlcGFydGljaXBhbnQnKTtcbnZhciBTdGF0c1JlcG9ydCA9IHJlcXVpcmUoJy4vc3RhdHMvc3RhdHNyZXBvcnQnKTtcblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnLi91dGlsJyksXG4gICAgZGVwcmVjYXRlRXZlbnRzID0gX3JlcXVpcmUuZGVwcmVjYXRlRXZlbnRzO1xuXG52YXIgX3JlcXVpcmUyID0gcmVxdWlyZSgnLi91dGlsL3R3aWxpby12aWRlby1lcnJvcnMnKSxcbiAgICBNZWRpYUNvbm5lY3Rpb25FcnJvciA9IF9yZXF1aXJlMi5NZWRpYUNvbm5lY3Rpb25FcnJvcjtcblxudmFyIG5JbnN0YW5jZXMgPSAwO1xuXG4vKipcbiAqIEEge0BsaW5rIFJvb219IHJlcHJlc2VudHMgY29tbXVuaWNhdGlvbiBiZXR3ZWVuIHlvdSBhbmQgb25lIG9yIG1vcmVcbiAqIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudH1zIHNoYXJpbmcge0BsaW5rIEF1ZGlvVHJhY2t9cyBhbmRcbiAqIHtAbGluayBWaWRlb1RyYWNrfXMuXG4gKiA8YnI+PGJyPlxuICogWW91IGNhbiBjb25uZWN0IHRvIGEge0BsaW5rIFJvb219IGJ5IGNhbGxpbmcge0BsaW5rIGNvbm5lY3R9LlxuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKiBAcHJvcGVydHkgez9SZW1vdGVQYXJ0aWNpcGFudH0gZG9taW5hbnRTcGVha2VyIC0gVGhlIERvbWluYW50IFNwZWFrZXIgaW4gdGhlXG4gKiAgIHtAbGluayBSb29tfSwgaWYgYW55XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGlzUmVjb3JkaW5nIC0gV2hldGhlciBvciBub3QgdGhlIHtAbGluayBSb29tfSBpcyBiZWluZ1xuICogICByZWNvcmRlZFxuICogQHByb3BlcnR5IHtMb2NhbFBhcnRpY2lwYW50fSBsb2NhbFBhcnRpY2lwYW50IC0gWW91ciB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH1cbiAqICAgaW4gdGhlIHtAbGluayBSb29tfVxuICogQHByb3BlcnR5IHtzdHJpbmd9IG5hbWUgLSBUaGUge0BsaW5rIFJvb219J3MgbmFtZVxuICogQHByb3BlcnR5IHtNYXA8UGFydGljaXBhbnQuU0lELCBSZW1vdGVQYXJ0aWNpcGFudD59IHBhcnRpY2lwYW50cyAtXG4gKiAgIFRoZSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9cyBwYXJ0aWNpcGF0aW5nIGluIHRoaXMge0BsaW5rIFJvb219XG4gKiBAcHJvcGVydHkge1Jvb20uU0lEfSBzaWQgLSBUaGUge0BsaW5rIFJvb219J3MgU0lEXG4gKiBAcHJvcGVydHkge3N0cmluZ30gc3RhdGUgLSBcImNvbm5lY3RlZFwiLCBcInJlY29ubmVjdGluZ1wiLCBvciBcImRpc2Nvbm5lY3RlZFwiXG4gKiBAdGhyb3dzIHtTaWduYWxpbmdDb25uZWN0aW9uRGlzY29ubmVjdGVkRXJyb3J9XG4gKiBAZW1pdHMgUm9vbSNkaXNjb25uZWN0ZWRcbiAqIEBlbWl0cyBSb29tI3BhcnRpY2lwYW50Q29ubmVjdGVkXG4gKiBAZW1pdHMgUm9vbSNwYXJ0aWNpcGFudERpc2Nvbm5lY3RlZFxuICogQGVtaXRzIFJvb20jcmVjb25uZWN0ZWRcbiAqIEBlbWl0cyBSb29tI3JlY29ubmVjdGluZ1xuICogQGVtaXRzIFJvb20jcmVjb3JkaW5nU3RhcnRlZFxuICogQGVtaXRzIFJvb20jcmVjb3JkaW5nU3RvcHBlZFxuICogQGVtaXRzIFJvb20jdHJhY2tBZGRlZFxuICogQGVtaXRzIFJvb20jdHJhY2tEaW1lbnNpb25zQ2hhbmdlZFxuICogQGVtaXRzIFJvb20jdHJhY2tEaXNhYmxlZFxuICogQGVtaXRzIFJvb20jdHJhY2tFbmFibGVkXG4gKiBAZW1pdHMgUm9vbSN0cmFja01lc3NhZ2VcbiAqIEBlbWl0cyBSb29tI3RyYWNrUHVibGlzaGVkXG4gKiBAZW1pdHMgUm9vbSN0cmFja1JlbW92ZWRcbiAqIEBlbWl0cyBSb29tI3RyYWNrU3RhcnRlZFxuICogQGVtaXRzIFJvb20jdHJhY2tTdWJzY3JpYmVkXG4gKiBAZW1pdHMgUm9vbSN0cmFja1VucHVibGlzaGVkXG4gKiBAZW1pdHMgUm9vbSN0cmFja1Vuc3Vic2NyaWJlZFxuICovXG5cbnZhciBSb29tID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgX2luaGVyaXRzKFJvb20sIF9FdmVudEVtaXR0ZXIpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgUm9vbX0uXG4gICAqIEBwYXJhbSB7Um9vbVNpZ25hbGluZ30gc2lnbmFsaW5nXG4gICAqIEBwYXJhbSB7P29iamVjdH0gW29wdGlvbnM9e31dXG4gICAqL1xuICBmdW5jdGlvbiBSb29tKGxvY2FsUGFydGljaXBhbnQsIHNpZ25hbGluZywgb3B0aW9ucykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSb29tKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSb29tLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUm9vbSkpLmNhbGwodGhpcykpO1xuXG4gICAgdmFyIGxvZyA9IG9wdGlvbnMubG9nLmNyZWF0ZUxvZygnZGVmYXVsdCcsIF90aGlzKTtcbiAgICB2YXIgcGFydGljaXBhbnRzID0gbmV3IE1hcCgpO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgX2xvZzoge1xuICAgICAgICB2YWx1ZTogbG9nXG4gICAgICB9LFxuICAgICAgX2luc3RhbmNlSWQ6IHtcbiAgICAgICAgdmFsdWU6ICsrbkluc3RhbmNlc1xuICAgICAgfSxcbiAgICAgIF9vcHRpb25zOiB7XG4gICAgICAgIHZhbHVlOiBvcHRpb25zXG4gICAgICB9LFxuICAgICAgX3BhcnRpY2lwYW50czoge1xuICAgICAgICB2YWx1ZTogcGFydGljaXBhbnRzXG4gICAgICB9LFxuICAgICAgX3NpZ25hbGluZzoge1xuICAgICAgICB2YWx1ZTogc2lnbmFsaW5nXG4gICAgICB9LFxuICAgICAgZG9taW5hbnRTcGVha2VyOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnBhcnRpY2lwYW50cy5nZXQoc2lnbmFsaW5nLmRvbWluYW50U3BlYWtlclNpZCkgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGlzUmVjb3JkaW5nOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBzaWduYWxpbmcucmVjb3JkaW5nLmlzRW5hYmxlZCB8fCBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGxvY2FsUGFydGljaXBhbnQ6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGxvY2FsUGFydGljaXBhbnRcbiAgICAgIH0sXG4gICAgICBuYW1lOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBzaWduYWxpbmcubmFtZVxuICAgICAgfSxcbiAgICAgIHBhcnRpY2lwYW50czoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogcGFydGljaXBhbnRzXG4gICAgICB9LFxuICAgICAgc2lkOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBzaWduYWxpbmcuc2lkXG4gICAgICB9LFxuICAgICAgc3RhdGU6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHNpZ25hbGluZy5zdGF0ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZGVwcmVjYXRlRXZlbnRzKCdSb29tJywgX3RoaXMsIG5ldyBNYXAoW1sndHJhY2tBZGRlZCcsICd0cmFja1N1YnNjcmliZWQnXSwgWyd0cmFja1JlbW92ZWQnLCAndHJhY2tVbnN1YnNjcmliZWQnXV0pLCBsb2cpO1xuXG4gICAgaGFuZGxlUmVjb3JkaW5nRXZlbnRzKF90aGlzLCBzaWduYWxpbmcucmVjb3JkaW5nKTtcbiAgICBoYW5kbGVTaWduYWxpbmdFdmVudHMoX3RoaXMsIHNpZ25hbGluZyk7XG5cbiAgICBsb2cuaW5mbygnQ3JlYXRlZCBhIG5ldyBSb29tOicsIF90aGlzLm5hbWUpO1xuICAgIGxvZy5kZWJ1ZygnSW5pdGlhbCBSZW1vdGVQYXJ0aWNpcGFudHM6JywgQXJyYXkuZnJvbShfdGhpcy5fcGFydGljaXBhbnRzLnZhbHVlcygpKSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJvb20sIFt7XG4gICAga2V5OiAndG9TdHJpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiAnW1Jvb20gIycgKyB0aGlzLl9pbnN0YW5jZUlkICsgJzogJyArIHRoaXMuc2lkICsgJ10nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3QgZnJvbSB0aGUge0BsaW5rIFJvb219LlxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkaXNjb25uZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzY29ubmVjdCgpIHtcbiAgICAgIHRoaXMuX2xvZy5pbmZvKCdEaXNjb25uZWN0aW5nJyk7XG4gICAgICB0aGlzLl9zaWduYWxpbmcuZGlzY29ubmVjdCgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB7QGxpbmsgUm9vbX0ncyBtZWRpYSBzdGF0aXN0aWNzLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gU2FmYXJpIDEyLjAgb3IgYmVsb3dcbiAgICAgKiBkdWUgdG8gdGhpcyBidWcgOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTkyNjAxXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZS48QXJyYXk8U3RhdHNSZXBvcnQ+Pn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0U3RhdHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTdGF0cygpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zaWduYWxpbmcuZ2V0U3RhdHMoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZXMpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20ocmVzcG9uc2VzKS5tYXAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgICB2YXIgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSxcbiAgICAgICAgICAgICAgaWQgPSBfcmVmMlswXSxcbiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfcmVmMlsxXTtcblxuICAgICAgICAgIHJldHVybiBuZXcgU3RhdHNSZXBvcnQoaWQsIHJlc3BvbnNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUm9vbTtcbn0oRXZlbnRFbWl0dGVyKTtcblxuLyoqXG4gKiBBIHtAbGluayBSb29tLlNJRH0gaXMgYSAzNC1jaGFyYWN0ZXIgc3RyaW5nIHN0YXJ0aW5nIHdpdGggXCJSTVwiXG4gKiB0aGF0IHVuaXF1ZWx5IGlkZW50aWZpZXMgYSB7QGxpbmsgUm9vbX0uXG4gKiBAdHlwZSBzdHJpbmdcbiAqIEB0eXBlZGVmIFJvb20uU0lEXG4gKi9cblxuLyoqXG4gKiBUaGUgRG9taW5hbnQgU3BlYWtlciBpbiB0aGUge0BsaW5rIFJvb219IGNoYW5nZWQuIEVpdGhlciB0aGUgRG9taW5hbnQgU3BlYWtlclxuICogaXMgYSBuZXcge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50fSBvciB0aGUgRG9taW5hbnQgU3BlYWtlciBoYXMgYmVlbiByZXNldCBhbmRcbiAqIGlzIG5vdyBudWxsLlxuICogQHBhcmFtIHs/UmVtb3RlUGFydGljaXBhbnR9IGRvbWluYW50U3BlYWtlciAtIFRoZSBEb21pbmFudCBTcGVha2VyIGluIHRoZVxuICogICB7QGxpbmsgUm9vbX0sIGlmIGFueVxuICogQGV2ZW50IFJvb20jZG9taW5hbnRTcGVha2VyQ2hhbmdlZFxuICovXG5cbi8qKlxuICogWW91ciB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH0gd2FzIGRpc2Nvbm5lY3RlZCBmcm9tIHRoZSB7QGxpbmsgUm9vbX0gYW5kIGFsbFxuICogb3RoZXIge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50fXMuXG4gKiBAcGFyYW0ge1Jvb219IHJvb20gLSBUaGUge0BsaW5rIFJvb219IHlvdXJcbiAqICAge0BsaW5rIExvY2FsUGFydGljaXBhbnR9IHdhcyBkaXNjb25uZWN0ZWQgZnJvbVxuICogQHBhcmFtIHs/VHdpbGlvRXJyb3J9IGVycm9yIC0gUHJlc2VudCB3aGVuIHRoZSB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH0gZ290XG4gKiAgIGRpc2Nvbm5lY3RlZCBmcm9tIHRoZSB7QGxpbmsgUm9vbX0gdW5leHBlY3RlZGx5XG4gKiBAZXZlbnQgUm9vbSNkaXNjb25uZWN0ZWRcbiAqIEBleGFtcGxlXG4gKiBteVJvb20ub24oJ2Rpc2Nvbm5lY3RlZCcsIGZ1bmN0aW9uKHJvb20sIGVycm9yKSB7XG4gKiAgIGlmIChlcnJvcikge1xuICogICAgIGNvbnNvbGUubG9nKCdVbmV4cGVjdGVkbHkgZGlzY29ubmVjdGVkOicsIGVycm9yKTtcbiAqICAgfVxuICogICBteVJvb20ubG9jYWxQYXJ0aWNpcGFudC50cmFja3MuZm9yRWFjaChmdW5jdGlvbih0cmFjaykge1xuICogICAgIHRyYWNrLnN0b3AoKTtcbiAqICAgICB0cmFjay5kZXRhY2goKTtcbiAqICAgfSk7XG4gKiB9KTtcbiAqL1xuXG4vKipcbiAqIEEge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50fSBqb2luZWQgdGhlIHtAbGluayBSb29tfS5cbiAqIEBwYXJhbSB7UmVtb3RlUGFydGljaXBhbnR9IHBhcnRpY2lwYW50IC0gVGhlIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudH0gd2hvIGpvaW5lZFxuICogQGV2ZW50IFJvb20jcGFydGljaXBhbnRDb25uZWN0ZWRcbiAqIEBleGFtcGxlXG4gKiBteVJvb20ub24oJ3BhcnRpY2lwYW50Q29ubmVjdGVkJywgZnVuY3Rpb24ocGFydGljaXBhbnQpIHtcbiAqICAgY29uc29sZS5sb2cocGFydGljaXBhbnQuaWRlbnRpdHkgKyAnIGpvaW5lZCB0aGUgUm9vbScpO1xuICogfSk7XG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudH0gbGVmdCB0aGUge0BsaW5rIFJvb219LlxuICogQHBhcmFtIHtSZW1vdGVQYXJ0aWNpcGFudH0gcGFydGljaXBhbnQgLSBUaGUge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50fSB3aG8gbGVmdFxuICogQGV2ZW50IFJvb20jcGFydGljaXBhbnREaXNjb25uZWN0ZWRcbiAqIEBleGFtcGxlXG4gKiBteVJvb20ub24oJ3BhcnRpY2lwYW50RGlzY29ubmVjdGVkJywgZnVuY3Rpb24ocGFydGljaXBhbnQpIHtcbiAqICAgY29uc29sZS5sb2cocGFydGljaXBhbnQuaWRlbnRpdHkgKyAnIGxlZnQgdGhlIFJvb20nKTtcbiAqICAgcGFydGljaXBhbnQudHJhY2tzLmZvckVhY2goZnVuY3Rpb24odHJhY2spIHtcbiAqICAgICB0cmFjay5kZXRhY2goKS5mb3JFYWNoKGZ1bmN0aW9uKG1lZGlhRWxlbWVudCkge1xuICogICAgICAgbWVkaWFFbGVtZW50LnJlbW92ZSgpO1xuICogICAgIH0pO1xuICogICB9KTtcbiAqIH0pO1xuICovXG5cbi8qKlxuICogWW91ciBhcHBsaWNhdGlvbiBzdWNjZXNzZnVsbHkgcmVjb25uZWN0ZWQgdG8gdGhlIHtAbGluayBSb29tfS4gV2hlbiB0aGlzXG4gKiBldmVudCBpcyBlbWl0dGVkLCB0aGUge0BsaW5rIFJvb219IGlzIGluIHN0YXRlIFwiY29ubmVjdGVkXCIuXG4gKiBAZXZlbnQgUm9vbSNyZWNvbm5lY3RlZFxuICogQGV4YW1wbGVcbiAqIG15Um9vbS5vbigncmVjb25uZWN0ZWQnLCAoKSA9PiB7XG4gKiAgIGNvbnNvbGUubG9nKCdSZWNvbm5lY3RlZCEnKTtcbiAqIH0pO1xuICovXG5cbi8qKlxuICogWW91ciBhcHBsaWNhdGlvbiBpcyByZWNvbm5lY3RpbmcgdG8gdGhlIHtAbGluayBSb29tfS4gVHlwaWNhbGx5IHRoaXMgaGFwcGVuc1xuICogd2hlbiB0aGVyZSBpcyBhIGRpc3J1cHRpb24gaW4geW91ciBtZWRpYSBjb25uZWN0aW9uLiBXaGVuIHRoaXMgZXZlbnQgaXNcbiAqIGVtaXR0ZWQsIHRoZSB7QGxpbmsgUm9vbX0gaXMgaW4gc3RhdGUgXCJyZWNvbm5lY3RpbmdcIi4gSWYgcmVjb25uZWN0aW5nXG4gKiBzdWNjZWVkcywgdGhlIHtAbGluayBSb29tfSB3aWxsIGVtaXQgYSBcInJlY29ubmVjdGVkXCIgZXZlbnQuXG4gKiBAcGFyYW0ge1R3aWxpb0Vycm9yfSBlcnJvciAtIEEge0BsaW5rIFR3aWxpb0Vycm9yfSBleHBsYWluaW5nIHdoeSB5b3VyXG4gKiAgIGFwcGxpY2F0aW9uIGlzIHJlY29ubmVjdGluZ1xuICogQGV4YW1wbGVcbiAqIG15Um9vbS5vbigncmVjb25uZWN0aW5nJywgZXJyb3IgPT4ge1xuICogICBjb25zb2xlLndhcm4oJ1JlY29ubmVjdGluZyEnLCBlcnJvcik7XG4gKiB9KTtcbiAqIEBldmVudCBSb29tI3JlY29ubmVjdGluZ1xuICovXG5cbi8qKlxuICogVGhlIHtAbGluayBSb29tfSBpcyBub3cgYmVpbmcgcmVjb3JkZWRcbiAqIEBldmVudCBSb29tI3JlY29yZGluZ1N0YXJ0ZWRcbiAqL1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgUm9vbX0gaXMgbm8gbG9uZ2VyIGJlaW5nIHJlY29yZGVkXG4gKiBAZXZlbnQgUm9vbSNyZWNvcmRpbmdTdG9wcGVkXG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBSZW1vdGVUcmFja30gd2FzIGFkZGVkIGJ5IGEge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50fSBpbiB0aGUge0BsaW5rIFJvb219LlxuICogQHBhcmFtIHtSZW1vdGVUcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIFJlbW90ZVRyYWNrfSB0aGF0IHdhcyBhZGRlZFxuICogQHBhcmFtIHtSZW1vdGVQYXJ0aWNpcGFudH0gcGFydGljaXBhbnQgLSBUaGUge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50fSB3aG9cbiAqICAgYWRkZWQgdGhlIHtAbGluayBSZW1vdGVUcmFja31cbiAqIEBldmVudCBSb29tI3RyYWNrQWRkZWRcbiAqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnQjdHJhY2tTdWJzY3JpYmVkfSBpbnN0ZWFkXG4gKiBAZXhhbXBsZVxuICogcm9vbS5vbigndHJhY2tBZGRlZCcsIGZ1bmN0aW9uKHRyYWNrLCBwYXJ0aWNpcGFudCkge1xuICogICB2YXIgcGFydGljaXBhbnRWaWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcnRpY2lwYW50LXZpZXctJyArIHBhcnRpY2lwYW50LmlkZW50aXR5KTtcbiAqICAgcGFydGljaXBhbnRWaWV3LmFwcGVuZENoaWxkKHRyYWNrLmF0dGFjaCgpKTtcbiAqIH0pO1xuICovXG5cbi8qKlxuICogT25lIG9mIHRoZSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9J3Mge0BsaW5rIFZpZGVvVHJhY2t9J3MgZGltZW5zaW9ucyBjaGFuZ2VkLlxuICogQHBhcmFtIHtSZW1vdGVWaWRlb1RyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgUmVtb3RlVmlkZW9UcmFja30gd2hvc2UgZGltZW5zaW9ucyBjaGFuZ2VkXG4gKiBAcGFyYW0ge1JlbW90ZVBhcnRpY2lwYW50fSBwYXJ0aWNpcGFudCAtIFRoZSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9IHdob3NlXG4gKiAgIHtAbGluayBSZW1vdGVWaWRlb1RyYWNrfSdzIGRpbWVuc2lvbnMgY2hhbmdlZFxuICogQGV2ZW50IFJvb20jdHJhY2tEaW1lbnNpb25zQ2hhbmdlZFxuICovXG5cbi8qKlxuICogQSB7QGxpbmsgUmVtb3RlVHJhY2t9IHdhcyBkaXNhYmxlZCBieSBhIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudH0gaW4gdGhlIHtAbGluayBSb29tfS5cbiAqIEBwYXJhbSB7UmVtb3RlVHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBSZW1vdGVUcmFja30gdGhhdCB3YXMgZGlzYWJsZWRcbiAqIEBwYXJhbSB7UmVtb3RlUGFydGljaXBhbnR9IHBhcnRpY2lwYW50IC0gVGhlIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudH0gd2hvXG4gKiAgIGRpc2FibGVkIHRoZSB7QGxpbmsgUmVtb3RlVHJhY2t9XG4gKiBAZXZlbnQgUm9vbSN0cmFja0Rpc2FibGVkXG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBSZW1vdGVUcmFja30gd2FzIGVuYWJsZWQgYnkgYSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9IGluIHRoZSB7QGxpbmsgUm9vbX0uXG4gKiBAcGFyYW0ge1JlbW90ZVRyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgUmVtb3RlVHJhY2t9IHRoYXQgd2FzIGVuYWJsZWRcbiAqIEBwYXJhbSB7UmVtb3RlUGFydGljaXBhbnR9IHBhcnRpY2lwYW50IC0gVGhlIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudH0gd2hvXG4gKiAgIGVuYWJsZWQgdGhlIHtAbGluayBSZW1vdGVUcmFja31cbiAqIEBldmVudCBSb29tI3RyYWNrRW5hYmxlZFxuICovXG5cbi8qKlxuICogQSBtZXNzYWdlIHdhcyByZWNlaXZlZCBvdmVyIG9uZSBvZiB0aGUge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50fSdzXG4gKiB7QGxpbmsgUmVtb3RlRGF0YVRyYWNrfSdzLlxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXlCdWZmZXJ9IGRhdGFcbiAqIEBwYXJhbSB7UmVtb3RlVmlkZW9UcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIFJlbW90ZURhdGFUcmFja30gb3ZlciB3aGljaCB0aGVcbiAqICAgbWVzc2FnZSB3YXMgcmVjZWl2ZWRcbiAqIEBwYXJhbSB7UmVtb3RlUGFydGljaXBhbnR9IHBhcnRpY2lwYW50IC0gVGhlIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudH0gd2hvc2VcbiAqICAge0BsaW5rIFJlbW90ZURhdGFUcmFja30gcmVjZWl2ZWQgdGhlIG1lc3NhZ2VcbiAqIEBldmVudCBSb29tI3RyYWNrTWVzc2FnZVxuICovXG5cbi8qKlxuICogQSB7QGxpbmsgUmVtb3RlVHJhY2t9IHdhcyBwdWJsaXNoZWQgYnkgYSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9IGFmdGVyXG4gKiBjb25uZWN0aW5nIHRvIHRoZSB7QGxpbmsgUm9vbX0uIFRoaXMgZXZlbnQgaXMgbm90IGVtaXR0ZWQgZm9yXG4gKiB7QGxpbmsgUmVtb3RlVHJhY2t9cyB0aGF0IHdlcmUgcHVibGlzaGVkIHdoaWxlIHRoZSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9XG4gKiB3YXMgY29ubmVjdGluZyB0byB0aGUge0BsaW5rIFJvb219LlxuICogQGV2ZW50IFJvb20jdHJhY2tQdWJsaXNoZWRcbiAqIEBwYXJhbSB7UmVtb3RlVHJhY2tQdWJsaWNhdGlvbn0gcHVibGljYXRpb24gLSBUaGUge0BsaW5rIFJlbW90ZVRyYWNrUHVibGljYXRpb259XG4gKiAgIHdoaWNoIHJlcHJlc2VudHMgdGhlIHB1Ymxpc2hlZCB7QGxpbmsgUmVtb3RlVHJhY2t9XG4gKiBAcGFyYW0ge1JlbW90ZVBhcnRpY2lwYW50fSBwYXJ0aWNpcGFudCAtIFRoZSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9IHdob1xuICogICBwdWJsaXNoZWQgdGhlIHtAbGluayBSZW1vdGVUcmFja31cbiAqIEBleGFtcGxlXG4gKiBmdW5jdGlvbiB0cmFja1B1Ymxpc2hlZChwdWJsaWNhdGlvbiwgcGFydGljaXBhbnQpIHtcbiAqICAgY29uc29sZS5sb2coYFJlbW90ZVBhcnRpY2lwYW50ICR7cGFydGljaXBhbnQuc2lkfSBwdWJsaXNoZWQgVHJhY2sgJHtwdWJsaWNhdGlvbi50cmFja1NpZH1gKTtcbiAqIH1cbiAqXG4gKiAvLyBIYW5kbGUgUmVtb3RlVHJhY2tzIHB1Ymxpc2hlZCBhZnRlciBjb25uZWN0aW5nIHRvIHRoZSBSb29tLlxuICogcm9vbS5vbigndHJhY2tQdWJsaXNoZWQnLCB0cmFja1B1Ymxpc2hlZCk7XG4gKlxuICogcm9vbS5vbigncGFydGljaXBhbnRDb25uZWN0ZWQnLCBwYXJ0aWNpcGFudCA9PiB7XG4gKiAgIC8vIEhhbmRsZSBSZW1vdGVUcmFja3MgcHVibGlzaGVkIHdoaWxlIGNvbm5lY3RpbmcgdG8gdGhlIFJvb20uXG4gKiAgIHBhcnRpY2lwYW50LnRyYWNrUHVibGljYXRpb25zLmZvckVhY2gocHVibGljYXRpb24gPT4gdHJhY2tQdWJsaXNoZWQocHVibGljYXRpb24sIHBhcnRpY2lwYW50KSk7XG4gKiB9KTtcbiAqL1xuXG4vKipcbiAqIEEge0BsaW5rIFJlbW90ZVRyYWNrfSB3YXMgcmVtb3ZlZCBieSBhIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudH0gaW4gdGhlIHtAbGluayBSb29tfS5cbiAqIEBwYXJhbSB7UmVtb3RlVHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBSZW1vdGVUcmFja30gdGhhdCB3YXMgcmVtb3ZlZFxuICogQHBhcmFtIHtSZW1vdGVQYXJ0aWNpcGFudH0gcGFydGljaXBhbnQgLSBUaGUge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50fSB3aG9cbiAqICAgcmVtb3ZlZCB0aGUge0BsaW5rIFJlbW90ZVRyYWNrfVxuICogQGV2ZW50IFJvb20jdHJhY2tSZW1vdmVkXG4gKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50I3RyYWNrVW5zdWJzY3JpYmVkfSBpbnN0ZWFkXG4gKiBAZXhhbXBsZVxuICogcm9vbS5vbigndHJhY2tSZW1vdmVkJywgZnVuY3Rpb24odHJhY2ssIHBhcnRpY2lwYW50KSB7XG4gKiAgIHRyYWNrLmRldGFjaCgpLmZvckVhY2goZnVuY3Rpb24obWVkaWFFbGVtZW50KSB7XG4gKiAgICAgbWVkaWFFbGVtZW50LnJlbW92ZSgpO1xuICogICB9KTtcbiAqIH0pO1xuICovXG5cbi8qKlxuICogT25lIG9mIGEge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50fSdzIHtAbGluayBSZW1vdGVUcmFja31zIGluIHRoZSB7QGxpbmsgUm9vbX0gc3RhcnRlZC5cbiAqIEBwYXJhbSB7UmVtb3RlVHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBSZW1vdGVUcmFja30gdGhhdCBzdGFydGVkXG4gKiBAcGFyYW0ge1JlbW90ZVBhcnRpY2lwYW50fSBwYXJ0aWNpcGFudCAtIFRoZSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9IHdob3NlXG4gKiAgIHtAbGluayBSZW1vdGVUcmFja30gc3RhcnRlZFxuICogQGV2ZW50IFJvb20jdHJhY2tTdGFydGVkXG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudH0ncyB7QGxpbmsgUmVtb3RlVHJhY2t9IHdhcyBzdWJzY3JpYmVkIHRvLlxuICogQHBhcmFtIHtSZW1vdGVUcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIFJlbW90ZVRyYWNrfSB0aGF0IHdhcyBzdWJzY3JpYmVkXG4gKiBAcGFyYW0ge1JlbW90ZVBhcnRpY2lwYW50fSBwYXJ0aWNpcGFudCAtIFRoZSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9IHdob3NlXG4gKiAgIHtAbGluayBSZW1vdGVUcmFja30gd2FzIHN1YnNjcmliZWRcbiAqIEBldmVudCBSb29tI3RyYWNrU3Vic2NyaWJlZFxuICogQGV4YW1wbGVcbiAqIHJvb20ub24oJ3RyYWNrU3Vic2NyaWJlZCcsIGZ1bmN0aW9uKHRyYWNrLCBwYXJ0aWNpcGFudCkge1xuICogICB2YXIgcGFydGljaXBhbnRWaWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhcnRpY2lwYW50LXZpZXctJyArIHBhcnRpY2lwYW50LmlkZW50aXR5KTtcbiAqICAgcGFydGljaXBhbnRWaWV3LmFwcGVuZENoaWxkKHRyYWNrLmF0dGFjaCgpKTtcbiAqIH0pO1xuICovXG5cbi8qKlxuICogQSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9J3Mge0BsaW5rIFJlbW90ZVRyYWNrfSBjb3VsZCBub3QgYmUgc3Vic2NyaWJlZCB0by5cbiAqIEBwYXJhbSB7VHdpbGlvRXJyb3J9IGVycm9yIC0gVGhlIHJlYXNvbiB0aGUge0BsaW5rIFJlbW90ZVRyYWNrfSBjb3VsZCBub3QgYmVcbiAqICAgc3Vic2NyaWJlZCB0b1xuICogQHBhcmFtIHtSZW1vdGVUcmFja1B1YmxpY2F0aW9ufSBwdWJsaWNhdGlvbiAtIFRoZVxuICogICB7QGxpbmsgUmVtb3RlVHJhY2tQdWJsaWNhdGlvbn0gZm9yIHRoZSB7QGxpbmsgUmVtb3RlVHJhY2t9IHRoYXQgY291bGQgbm90XG4gKiAgIGJlIHN1YnNjcmliZWQgdG9cbiAqIEBwYXJhbSB7UmVtb3RlUGFydGljaXBhbnR9IHBhcnRpY2lwYW50IC0gVGhlIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudH0gd2hvc2VcbiAqICAge0BsaW5rIFJlbW90ZVRyYWNrfSBjb3VsZCBub3QgYmUgc3Vic2NyaWJlZCB0b1xuICogQGV2ZW50IFJvb20jdHJhY2tTdWJzY3JpcHRpb25GYWlsZWRcbiAqL1xuXG4vKipcbiAqIEEge0BsaW5rIFJlbW90ZVRyYWNrfSB3YXMgdW5wdWJsaXNoZWQgYnkgYSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9IHRvIHRoZSB7QGxpbmsgUm9vbX0uXG4gKiBAZXZlbnQgUm9vbSN0cmFja1VucHVibGlzaGVkXG4gKiBAcGFyYW0ge1JlbW90ZVRyYWNrUHVibGljYXRpb259IHB1YmxpY2F0aW9uIC0gVGhlIHtAbGluayBSZW1vdGVUcmFja1B1YmxpY2F0aW9ufVxuICogICB3aGljaCByZXByZXNlbnRzIHRoZSB1bnB1Ymxpc2hlZCB7QGxpbmsgUmVtb3RlVHJhY2t9XG4gKiBAcGFyYW0ge1JlbW90ZVBhcnRpY2lwYW50fSBwYXJ0aWNpcGFudCAtIFRoZSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9IHdob1xuICogICB1bnB1Ymxpc2hlZCB0aGUge0BsaW5rIFJlbW90ZVRyYWNrfVxuICovXG5cbi8qKlxuICogQSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9J3Mge0BsaW5rIFJlbW90ZVRyYWNrfSB3YXMgdW5zdWJzY3JpYmVkIGZyb20uXG4gKiBAcGFyYW0ge1JlbW90ZVRyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgUmVtb3RlVHJhY2t9IHRoYXQgd2FzIHVuc3Vic2NyaWJlZFxuICogQHBhcmFtIHtSZW1vdGVQYXJ0aWNpcGFudH0gcGFydGljaXBhbnQgLSBUaGUge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50fSB3aG9zZVxuICogICB7QGxpbmsgUmVtb3RlVHJhY2t9IHdhcyB1bnN1YnNjcmliZWRcbiAqIEBldmVudCBSb29tI3RyYWNrVW5zdWJzY3JpYmVkXG4gKiBAZXhhbXBsZVxuICogcm9vbS5vbigndHJhY2tVbnN1YnNjcmliZWQnLCBmdW5jdGlvbih0cmFjaywgcGFydGljaXBhbnQpIHtcbiAqICAgdHJhY2suZGV0YWNoKCkuZm9yRWFjaChmdW5jdGlvbihtZWRpYUVsZW1lbnQpIHtcbiAqICAgICBtZWRpYUVsZW1lbnQucmVtb3ZlKCk7XG4gKiAgIH0pO1xuICogfSk7XG4gKi9cblxuZnVuY3Rpb24gY29ubmVjdFBhcnRpY2lwYW50KHJvb20sIHBhcnRpY2lwYW50U2lnbmFsaW5nKSB7XG4gIHZhciBsb2cgPSByb29tLl9sb2c7XG4gIHZhciBwYXJ0aWNpcGFudCA9IG5ldyBSZW1vdGVQYXJ0aWNpcGFudChwYXJ0aWNpcGFudFNpZ25hbGluZywgeyBsb2c6IGxvZyB9KTtcblxuICBsb2cuaW5mbygnQSBuZXcgUmVtb3RlUGFydGljaXBhbnQgY29ubmVjdGVkOicsIHBhcnRpY2lwYW50KTtcbiAgcm9vbS5fcGFydGljaXBhbnRzLnNldChwYXJ0aWNpcGFudC5zaWQsIHBhcnRpY2lwYW50KTtcbiAgcm9vbS5lbWl0KCdwYXJ0aWNpcGFudENvbm5lY3RlZCcsIHBhcnRpY2lwYW50KTtcblxuICAvLyBSZWVtaXQgVHJhY2sgZXZlbnRzIGZyb20gdGhlIFJlbW90ZVBhcnRpY2lwYW50LlxuICB2YXIgZXZlbnRMaXN0ZW5lcnMgPSBbWyd0cmFja1N1YnNjcmliZWQnLCAndHJhY2tBZGRlZCddLCAndHJhY2tEaW1lbnNpb25zQ2hhbmdlZCcsICd0cmFja0Rpc2FibGVkJywgJ3RyYWNrRW5hYmxlZCcsICd0cmFja01lc3NhZ2UnLCAndHJhY2tQdWJsaXNoZWQnLCBbJ3RyYWNrVW5zdWJzY3JpYmVkJywgJ3RyYWNrUmVtb3ZlZCddLCAndHJhY2tTdGFydGVkJywgJ3RyYWNrU3Vic2NyaWJlZCcsICd0cmFja1N1YnNjcmlwdGlvbkZhaWxlZCcsICd0cmFja1VucHVibGlzaGVkJywgJ3RyYWNrVW5zdWJzY3JpYmVkJ10ubWFwKGZ1bmN0aW9uIChldmVudE9yRXZlbnRQYWlyKSB7XG4gICAgdmFyIHBhcnRpY2lwYW50RXZlbnQgPSB0eXBlb2YgZXZlbnRPckV2ZW50UGFpciA9PT0gJ3N0cmluZycgPyBldmVudE9yRXZlbnRQYWlyIDogZXZlbnRPckV2ZW50UGFpclswXTtcbiAgICB2YXIgcm9vbUV2ZW50ID0gdHlwZW9mIGV2ZW50T3JFdmVudFBhaXIgPT09ICdzdHJpbmcnID8gZXZlbnRPckV2ZW50UGFpciA6IGV2ZW50T3JFdmVudFBhaXJbMV07XG4gICAgZnVuY3Rpb24gcmVlbWl0KCkge1xuICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICBhcmdzLnVuc2hpZnQocm9vbUV2ZW50KTtcbiAgICAgIGFyZ3MucHVzaChwYXJ0aWNpcGFudCk7XG4gICAgICByb29tLmVtaXQuYXBwbHkocm9vbSwgX3RvQ29uc3VtYWJsZUFycmF5KGFyZ3MpKTtcbiAgICB9XG4gICAgcGFydGljaXBhbnQub24ocGFydGljaXBhbnRFdmVudCwgcmVlbWl0KTtcbiAgICByZXR1cm4gW3BhcnRpY2lwYW50RXZlbnQsIHJlZW1pdF07XG4gIH0pO1xuXG4gIC8vIFJlZW1pdCBzdGF0ZSB0cmFuc2l0aW9uIGV2ZW50cyBmcm9tIHRoZSBSZW1vdGVQYXJ0aWNpcGFudC5cbiAgcGFydGljaXBhbnQub25jZSgnZGlzY29ubmVjdGVkJywgZnVuY3Rpb24gcGFydGljaXBhbnREaXNjb25uZWN0ZWQoKSB7XG4gICAgdmFyIGRvbWluYW50U3BlYWtlciA9IHJvb20uZG9taW5hbnRTcGVha2VyO1xuICAgIGxvZy5pbmZvKCdSZW1vdGVQYXJ0aWNpcGFudCBkaXNjb25uZWN0ZWQ6JywgcGFydGljaXBhbnQpO1xuICAgIHJvb20uX3BhcnRpY2lwYW50cy5kZWxldGUocGFydGljaXBhbnQuc2lkKTtcbiAgICBldmVudExpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICBwYXJ0aWNpcGFudC5yZW1vdmVMaXN0ZW5lcihhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICB9KTtcbiAgICByb29tLmVtaXQoJ3BhcnRpY2lwYW50RGlzY29ubmVjdGVkJywgcGFydGljaXBhbnQpO1xuICAgIGlmIChwYXJ0aWNpcGFudCA9PT0gZG9taW5hbnRTcGVha2VyKSB7XG4gICAgICByb29tLmVtaXQoJ2RvbWluYW50U3BlYWtlckNoYW5nZWQnLCByb29tLmRvbWluYW50U3BlYWtlcik7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUmVjb3JkaW5nRXZlbnRzKHJvb20sIHJlY29yZGluZykge1xuICByZWNvcmRpbmcub24oJ3VwZGF0ZWQnLCBmdW5jdGlvbiB1cGRhdGVkKCkge1xuICAgIHZhciBzdGFydGVkID0gcmVjb3JkaW5nLmlzRW5hYmxlZDtcbiAgICByb29tLl9sb2cuaW5mbygnUmVjb3JkaW5nICcgKyAoc3RhcnRlZCA/ICdzdGFydGVkJyA6ICdzdG9wcGVkJykpO1xuICAgIHJvb20uZW1pdCgncmVjb3JkaW5nJyArIChzdGFydGVkID8gJ1N0YXJ0ZWQnIDogJ1N0b3BwZWQnKSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTaWduYWxpbmdFdmVudHMocm9vbSwgc2lnbmFsaW5nKSB7XG4gIHZhciBsb2cgPSByb29tLl9sb2c7XG5cbiAgLy8gUmVlbWl0IFJlbW90ZVBhcnRpY2lwYW50IGV2ZW50cyBmcm9tIHRoZSBSb29tU2lnbmFsaW5nLlxuICBsb2cuZGVidWcoJ0NyZWF0aW5nIGEgbmV3IFJlbW90ZVBhcnRpY2lwYW50IGZvciBlYWNoIFBhcnRpY2lwYW50U2lnbmFsaW5nICcgKyAnaW4gdGhlIFJvb21TaWduYWxpbmcnKTtcbiAgc2lnbmFsaW5nLnBhcnRpY2lwYW50cy5mb3JFYWNoKGNvbm5lY3RQYXJ0aWNpcGFudC5iaW5kKG51bGwsIHJvb20pKTtcbiAgbG9nLmRlYnVnKCdTZXR0aW5nIHVwIFJlbW90ZVBhcnRpY2lwYW50IGNyZWF0aW9uIGZvciBhbGwgc3Vic2VxdWVudCAnICsgJ1BhcnRpY2lwYW50U2lnbmFsaW5ncyB0aGF0IGNvbm5lY3QgdG8gdGhlIFJvb21TaWduYWxpbmcnKTtcbiAgc2lnbmFsaW5nLm9uKCdwYXJ0aWNpcGFudENvbm5lY3RlZCcsIGNvbm5lY3RQYXJ0aWNpcGFudC5iaW5kKG51bGwsIHJvb20pKTtcblxuICBzaWduYWxpbmcub24oJ2RvbWluYW50U3BlYWtlckNoYW5nZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJvb20uZW1pdCgnZG9taW5hbnRTcGVha2VyQ2hhbmdlZCcsIHJvb20uZG9taW5hbnRTcGVha2VyKTtcbiAgfSk7XG5cbiAgLy8gUmVlbWl0IHN0YXRlIHRyYW5zaXRpb24gZXZlbnRzIGZyb20gdGhlIFJvb21TaWduYWxpbmcuXG4gIHNpZ25hbGluZy5vbignc3RhdGVDaGFuZ2VkJywgZnVuY3Rpb24gc3RhdGVDaGFuZ2VkKHN0YXRlLCBlcnJvcikge1xuICAgIGxvZy5pbmZvKCdUcmFuc2l0aW9uZWQgdG8gc3RhdGU6Jywgc3RhdGUpO1xuICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3RlZCc6XG4gICAgICAgIHJvb20ucGFydGljaXBhbnRzLmZvckVhY2goZnVuY3Rpb24gKHBhcnRpY2lwYW50KSB7XG4gICAgICAgICAgcGFydGljaXBhbnQuX3Vuc3Vic2NyaWJlVHJhY2tzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByb29tLmVtaXQoc3RhdGUsIHJvb20sIGVycm9yKTtcbiAgICAgICAgc2lnbmFsaW5nLnJlbW92ZUxpc3RlbmVyKCdzdGF0ZUNoYW5nZWQnLCBzdGF0ZUNoYW5nZWQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlY29ubmVjdGluZyc6XG4gICAgICAgIHJvb20uZW1pdCgncmVjb25uZWN0aW5nJywgbmV3IE1lZGlhQ29ubmVjdGlvbkVycm9yKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJvb20uZW1pdCgncmVjb25uZWN0ZWQnKTtcbiAgICB9XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJvb207XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9yb29tLmpzXG4vLyBtb2R1bGUgaWQgPSAyODRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///284\n");

/***/ }),
/* 285 */
/*!************************************************************!*\
  !*** ./node_modules/twilio-video/es5/remoteparticipant.js ***!
  \************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Participant = __webpack_require__(/*! ./participant */ 243);\n\nvar _require = __webpack_require__(/*! ./util */ 206),\n    deprecateEvents = _require.deprecateEvents;\n\n/**\n * A {@link RemoteParticipant} represents a remote {@link Participant} in a\n * {@link Room}.\n * @extends Participant\n * @property {Map<Track.SID, RemoteAudioTrack>} audioTracks -\n *    The {@link Participant}'s {@link RemoteAudioTrack}s\n * @property {Map<Track.SID, RemoteAudioTrackPublication>} audioTrackPublications -\n *    The {@link Participant}'s {@link RemoteAudioTrackPublication}s\n * @property {Map<Track.SID, RemoteDataTrack>} dataTracks -\n *    The {@link Participant}'s {@link RemoteDataTrack}s\n * @property {Map<Track.SID, RemoteDataTrackPublication>} dataTrackPublications -\n *    The {@link Participant}'s {@link RemoteDataTrackPublication}s\n * @property {Map<Track.SID, RemoteTrack>} tracks -\n *    The {@link Participant}'s {@link RemoteTrack}s\n * @property {Map<Track.SID, RemoteTrackPublication>} trackPublications -\n *    The {@link Participant}'s {@link RemoteTrackPublication}s\n * @property {Map<Track.SID, RemoteVideoTrack>} videoTracks -\n *    The {@link Participant}'s {@link RemoteVideoTrack}s\n * @property {Map<Track.SID, RemoteVideoTrackPublication>} videoTrackPublications -\n *    The {@link Participant}'s {@link RemoteVideoTrackPublication}s\n * @emits RemoteParticipant#trackAdded\n * @emits RemoteParticipant#trackDimensionsChanged\n * @emits RemoteParticipant#trackDisabled\n * @emits RemoteParticipant#trackEnabled\n * @emits RemoteParticipant#trackMessage\n * @emits RemoteParticipant#trackPublished\n * @emits RemoteParticipant#trackRemoved\n * @emits RemoteParticipant#trackStarted\n * @emits RemoteParticipant#trackSubscribed\n * @emits RemoteParticipant#trackSubscriptionFailed\n * @emits RemoteParticipant#trackUnpublished\n * @emits RemoteParticipant#trackUnsubscribed\n */\n\n\nvar RemoteParticipant = function (_Participant) {\n  _inherits(RemoteParticipant, _Participant);\n\n  /**\n   * Construct a {@link RemoteParticipant}.\n   * @param {ParticipantSignaling} signaling\n   * @param {object} [options]\n   */\n  function RemoteParticipant(signaling, options) {\n    _classCallCheck(this, RemoteParticipant);\n\n    var _this = _possibleConstructorReturn(this, (RemoteParticipant.__proto__ || Object.getPrototypeOf(RemoteParticipant)).call(this, signaling, options));\n\n    deprecateEvents('RemoteParticipant', _this, new Map([['trackAdded', 'trackSubscribed'], ['trackRemoved', 'trackUnsubscribed']]), _this._log);\n\n    _this._handleTrackSignalingEvents();\n    _this.once('disconnected', _this._unsubscribeTracks.bind(_this));\n    return _this;\n  }\n\n  _createClass(RemoteParticipant, [{\n    key: 'toString',\n    value: function toString() {\n      return '[RemoteParticipant #' + this._instanceId + (this.sid ? ': ' + this.sid : '') + ']';\n    }\n\n    /**\n     * @private\n     * @param {RemoteTrack} remoteTrack\n     * @param {RemoteTrackPublication} publication\n     * @returns {?RemoteTrack}\n     */\n\n  }, {\n    key: '_addTrack',\n    value: function _addTrack(remoteTrack, publication) {\n      remoteTrack._setSid(publication.trackSid);\n      if (!_get(RemoteParticipant.prototype.__proto__ || Object.getPrototypeOf(RemoteParticipant.prototype), '_addTrack', this).call(this, remoteTrack)) {\n        return null;\n      }\n      publication._subscribed(remoteTrack);\n      this.emit('trackSubscribed', remoteTrack);\n      return remoteTrack;\n    }\n\n    /**\n     * @private\n     * @param {RemoteTrackPublication} publication\n     * @returns {?RemoteTrackPublication}\n     */\n\n  }, {\n    key: '_addTrackPublication',\n    value: function _addTrackPublication(publication) {\n      var addedPublication = _get(RemoteParticipant.prototype.__proto__ || Object.getPrototypeOf(RemoteParticipant.prototype), '_addTrackPublication', this).call(this, publication);\n      if (!addedPublication) {\n        return null;\n      }\n      this.emit('trackPublished', addedPublication);\n      return addedPublication;\n    }\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_getTrackPublicationEvents',\n    value: function _getTrackPublicationEvents() {\n      return [].concat(_toConsumableArray(_get(RemoteParticipant.prototype.__proto__ || Object.getPrototypeOf(RemoteParticipant.prototype), '_getTrackPublicationEvents', this).call(this)), [['subscriptionFailed', 'trackSubscriptionFailed']]);\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_unsubscribeTracks',\n    value: function _unsubscribeTracks() {\n      var _this2 = this;\n\n      this.trackPublications.forEach(function (publication) {\n        if (publication.isSubscribed) {\n          var track = publication.track;\n          publication._unsubscribe();\n          _this2.emit('trackUnsubscribed', track);\n        }\n      });\n    }\n\n    /**\n     * @private\n     * @param {RemoteTrack} remoteTrack\n     * @param {RemoteTrackPublication} publication\n     * @returns {?RemoteTrack}\n     */\n\n  }, {\n    key: '_removeTrack',\n    value: function _removeTrack(remoteTrack, publication) {\n      var unsubscribedTrack = this.tracks.get(remoteTrack._id);\n      if (!unsubscribedTrack) {\n        return null;\n      }\n\n      this._deleteTrack(unsubscribedTrack);\n      publication._unsubscribe();\n      this.emit('trackUnsubscribed', unsubscribedTrack);\n      this.emit('trackRemoved', unsubscribedTrack);\n      return unsubscribedTrack;\n    }\n\n    /**\n     * @private\n     * @param {RemoteTrackPublication} publication\n     * @returns {?RemoteTrackPublication}\n     */\n\n  }, {\n    key: '_removeTrackPublication',\n    value: function _removeTrackPublication(publication) {\n      var removedPublication = _get(RemoteParticipant.prototype.__proto__ || Object.getPrototypeOf(RemoteParticipant.prototype), '_removeTrackPublication', this).call(this, publication);\n      if (!removedPublication) {\n        return null;\n      }\n      this.emit('trackUnpublished', removedPublication);\n      return removedPublication;\n    }\n  }]);\n\n  return RemoteParticipant;\n}(Participant);\n\n/**\n * A {@link RemoteTrack} was added by the {@link RemoteParticipant}.\n * @param {RemoteTrack} track - The {@link RemoteTrack} that was added\n * @event RemoteParticipant#trackAdded\n * @deprecated Use {@link RemoteParticipant#trackSubscribed} instead\n */\n\n/**\n * One of the {@link RemoteParticipant}'s {@link RemoteVideoTrack}'s dimensions changed.\n * @param {RemoteVideoTrack} track - The {@link RemoteVideoTrack} whose dimensions changed\n * @event RemoteParticipant#trackDimensionsChanged\n */\n\n/**\n * A {@link RemoteTrack} was disabled by the {@link RemoteParticipant}.\n * @param {RemoteTrack} track - The {@link RemoteTrack} that was disabled\n * @event RemoteParticipant#trackDisabled\n */\n\n/**\n * A {@link RemoteTrack} was enabled by the {@link RemoteParticipant}.\n * @param {RemoteTrack} track - The {@link RemoteTrack} that was enabled\n * @event RemoteParticipant#trackEnabled\n */\n\n/**\n * A message was received over one of the {@link RemoteParticipant}'s\n * {@link RemoteDataTrack}s.\n * @event RemoteParticipant#trackMessage\n * @param {string|ArrayBuffer} data\n * @param {RemoteDataTrack} track - The {@link RemoteDataTrack} over which the\n *   message was received\n */\n\n/**\n * A {@link RemoteTrack} was published by the {@link RemoteParticipant} after\n * connecting to the {@link Room}. This event is not emitted for\n * {@link RemoteTrack}s that were published while the {@link RemoteParticipant}\n * was connecting to the {@link Room}.\n * @event RemoteParticipant#trackPublished\n * @param {RemoteTrackPublication} publication - The {@link RemoteTrackPublication}\n *   which represents the published {@link RemoteTrack}\n * @example\n * function trackPublished(publication) {\n *   console.log(`Track ${publication.trackSid} was published`);\n * }\n *\n * room.on('participantConnected', participant => {\n *   // Handle RemoteTracks published while connecting to the Room.\n *   participant.trackPublications.forEach(trackPublished);\n *\n *   // Handle RemoteTracks published after connecting to the Room.\n *   participant.on('trackPublished', trackPublished);\n * });\n */\n\n/**\n * A {@link RemoteTrack} was removed by the {@link RemoteParticipant}.\n * @param {RemoteTrack} track - The {@link RemoteTrack} that was removed\n * @event RemoteParticipant#trackRemoved\n * @deprecated Use {@link RemoteParticipant#trackUnsubscribed} instead\n */\n\n/**\n * One of the {@link RemoteParticipant}'s {@link RemoteTrack}s started.\n * @param {RemoteTrack} track - The {@link RemoteTrack} that started\n * @event RemoteParticipant#trackStarted\n */\n\n/**\n * A {@link RemoteParticipant}'s {@link RemoteTrack} was subscribed to.\n * @param {RemoteTrack} track - The {@link RemoteTrack} that was subscribed to\n * @event RemoteParticipant#trackSubscribed\n */\n\n/**\n * A {@link RemoteParticipant}'s {@link RemoteTrack} could not be subscribed to.\n * @param {TwilioError} error - The reason the {@link RemoteTrack} could not be\n *   subscribed to\n * @param {RemoteTrackPublication} publication - The\n *   {@link RemoteTrackPublication} for the {@link RemoteTrack} that could not\n *   be subscribed to\n * @event RemoteParticipant#trackSubscriptionFailed\n */\n\n/**\n * A {@link RemoteTrack} was unpublished by the {@link RemoteParticipant}.\n * @event RemoteParticipant#trackUnpublished\n * @param {RemoteTrackPublication} publication - The {@link RemoteTrackPublication}\n *   which represents the unpublished {@link RemoteTrack}\n */\n\n/**\n * A {@link RemoteParticipant}'s {@link RemoteTrack} was unsubscribed from.\n * @param {RemoteTrack} track - The {@link RemoteTrack} that was unsubscribed from\n * @event RemoteParticipant#trackUnsubscribed\n */\n\nmodule.exports = RemoteParticipant;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9yZW1vdGVwYXJ0aWNpcGFudC5qcz9jMDk4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixxREFBcUQsa0RBQWtELDhEQUE4RCwwQkFBMEIsNENBQTRDLHVCQUF1QixrQkFBa0IsRUFBRSxPQUFPLHdDQUF3QyxFQUFFLEVBQUUsNEJBQTRCLG1CQUFtQixFQUFFLE9BQU8sdUJBQXVCLDRCQUE0QixrQkFBa0IsRUFBRSw4QkFBOEIsRUFBRTs7QUFFeGUsa0NBQWtDLDBCQUEwQiwwQ0FBMEMsZ0JBQWdCLE9BQU8sa0JBQWtCLEVBQUUsYUFBYSxFQUFFLE9BQU8sd0JBQXdCLEVBQUU7O0FBRWpNLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsa0JBQWtCLG1CQUFPLENBQUMsd0JBQWU7O0FBRXpDLGVBQWUsbUJBQU8sQ0FBQyxpQkFBUTtBQUMvQjs7QUFFQTtBQUNBLE1BQU0sd0JBQXdCLHNCQUFzQixrQkFBa0I7QUFDdEUsSUFBSSxXQUFXO0FBQ2Y7QUFDQSxjQUFjLGlDQUFpQztBQUMvQyxXQUFXLGtCQUFrQixJQUFJLHVCQUF1QjtBQUN4RCxjQUFjLDRDQUE0QztBQUMxRCxXQUFXLGtCQUFrQixJQUFJLGtDQUFrQztBQUNuRSxjQUFjLGdDQUFnQztBQUM5QyxXQUFXLGtCQUFrQixJQUFJLHNCQUFzQjtBQUN2RCxjQUFjLDJDQUEyQztBQUN6RCxXQUFXLGtCQUFrQixJQUFJLGlDQUFpQztBQUNsRSxjQUFjLDRCQUE0QjtBQUMxQyxXQUFXLGtCQUFrQixJQUFJLGtCQUFrQjtBQUNuRCxjQUFjLHVDQUF1QztBQUNyRCxXQUFXLGtCQUFrQixJQUFJLDZCQUE2QjtBQUM5RCxjQUFjLGlDQUFpQztBQUMvQyxXQUFXLGtCQUFrQixJQUFJLHVCQUF1QjtBQUN4RCxjQUFjLDRDQUE0QztBQUMxRCxXQUFXLGtCQUFrQixJQUFJLGtDQUFrQztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQix3QkFBd0I7QUFDMUMsYUFBYSxxQkFBcUI7QUFDbEMsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLFlBQVk7QUFDM0IsZUFBZSx1QkFBdUI7QUFDdEMsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSx1QkFBdUI7QUFDdEMsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxZQUFZO0FBQzNCLGVBQWUsdUJBQXVCO0FBQ3RDLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSx1QkFBdUI7QUFDdEMsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLE1BQU0sa0JBQWtCLG1CQUFtQix3QkFBd0I7QUFDbkUsV0FBVyxZQUFZLGNBQWMsa0JBQWtCO0FBQ3ZEO0FBQ0Esb0JBQW9CLHdDQUF3QztBQUM1RDs7QUFFQTtBQUNBLGVBQWUsd0JBQXdCLElBQUksdUJBQXVCO0FBQ2xFLFdBQVcsaUJBQWlCLGNBQWMsdUJBQXVCO0FBQ2pFO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLGtCQUFrQixzQkFBc0Isd0JBQXdCO0FBQ3RFLFdBQVcsWUFBWSxjQUFjLGtCQUFrQjtBQUN2RDtBQUNBOztBQUVBO0FBQ0EsTUFBTSxrQkFBa0IscUJBQXFCLHdCQUF3QjtBQUNyRSxXQUFXLFlBQVksY0FBYyxrQkFBa0I7QUFDdkQ7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQyx3QkFBd0I7QUFDbkUsSUFBSSxzQkFBc0I7QUFDMUI7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QixXQUFXLGdCQUFnQixjQUFjLHNCQUFzQjtBQUMvRDtBQUNBOztBQUVBO0FBQ0EsTUFBTSxrQkFBa0IsdUJBQXVCLHdCQUF3QjtBQUN2RSxzQkFBc0IsV0FBVztBQUNqQyxJQUFJLGtCQUFrQixpQ0FBaUM7QUFDdkQsMEJBQTBCLFdBQVc7QUFDckM7QUFDQSxXQUFXLHVCQUF1QixvQkFBb0I7QUFDdEQscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQSwwQkFBMEIscUJBQXFCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQSxNQUFNLGtCQUFrQixxQkFBcUIsd0JBQXdCO0FBQ3JFLFdBQVcsWUFBWSxjQUFjLGtCQUFrQjtBQUN2RDtBQUNBLG9CQUFvQiwwQ0FBMEM7QUFDOUQ7O0FBRUE7QUFDQSxlQUFlLHdCQUF3QixJQUFJLGtCQUFrQjtBQUM3RCxXQUFXLFlBQVksY0FBYyxrQkFBa0I7QUFDdkQ7QUFDQTs7QUFFQTtBQUNBLE1BQU0sd0JBQXdCLElBQUksa0JBQWtCO0FBQ3BELFdBQVcsWUFBWSxjQUFjLGtCQUFrQjtBQUN2RDtBQUNBOztBQUVBO0FBQ0EsTUFBTSx3QkFBd0IsSUFBSSxrQkFBa0I7QUFDcEQsV0FBVyxZQUFZLHlCQUF5QixrQkFBa0I7QUFDbEU7QUFDQSxXQUFXLHVCQUF1QjtBQUNsQyxNQUFNLDZCQUE2QixVQUFVLGtCQUFrQjtBQUMvRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLGtCQUFrQix5QkFBeUIsd0JBQXdCO0FBQ3pFO0FBQ0EsV0FBVyx1QkFBdUIsb0JBQW9CO0FBQ3RELHVDQUF1QztBQUN2Qzs7QUFFQTtBQUNBLE1BQU0sd0JBQXdCLElBQUksa0JBQWtCO0FBQ3BELFdBQVcsWUFBWSxjQUFjLGtCQUFrQjtBQUN2RDtBQUNBOztBQUVBIiwiZmlsZSI6IjI4NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IHJldHVybiBnZXQocGFyZW50LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9O1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUGFydGljaXBhbnQgPSByZXF1aXJlKCcuL3BhcnRpY2lwYW50Jyk7XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4vdXRpbCcpLFxuICAgIGRlcHJlY2F0ZUV2ZW50cyA9IF9yZXF1aXJlLmRlcHJlY2F0ZUV2ZW50cztcblxuLyoqXG4gKiBBIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudH0gcmVwcmVzZW50cyBhIHJlbW90ZSB7QGxpbmsgUGFydGljaXBhbnR9IGluIGFcbiAqIHtAbGluayBSb29tfS5cbiAqIEBleHRlbmRzIFBhcnRpY2lwYW50XG4gKiBAcHJvcGVydHkge01hcDxUcmFjay5TSUQsIFJlbW90ZUF1ZGlvVHJhY2s+fSBhdWRpb1RyYWNrcyAtXG4gKiAgICBUaGUge0BsaW5rIFBhcnRpY2lwYW50fSdzIHtAbGluayBSZW1vdGVBdWRpb1RyYWNrfXNcbiAqIEBwcm9wZXJ0eSB7TWFwPFRyYWNrLlNJRCwgUmVtb3RlQXVkaW9UcmFja1B1YmxpY2F0aW9uPn0gYXVkaW9UcmFja1B1YmxpY2F0aW9ucyAtXG4gKiAgICBUaGUge0BsaW5rIFBhcnRpY2lwYW50fSdzIHtAbGluayBSZW1vdGVBdWRpb1RyYWNrUHVibGljYXRpb259c1xuICogQHByb3BlcnR5IHtNYXA8VHJhY2suU0lELCBSZW1vdGVEYXRhVHJhY2s+fSBkYXRhVHJhY2tzIC1cbiAqICAgIFRoZSB7QGxpbmsgUGFydGljaXBhbnR9J3Mge0BsaW5rIFJlbW90ZURhdGFUcmFja31zXG4gKiBAcHJvcGVydHkge01hcDxUcmFjay5TSUQsIFJlbW90ZURhdGFUcmFja1B1YmxpY2F0aW9uPn0gZGF0YVRyYWNrUHVibGljYXRpb25zIC1cbiAqICAgIFRoZSB7QGxpbmsgUGFydGljaXBhbnR9J3Mge0BsaW5rIFJlbW90ZURhdGFUcmFja1B1YmxpY2F0aW9ufXNcbiAqIEBwcm9wZXJ0eSB7TWFwPFRyYWNrLlNJRCwgUmVtb3RlVHJhY2s+fSB0cmFja3MgLVxuICogICAgVGhlIHtAbGluayBQYXJ0aWNpcGFudH0ncyB7QGxpbmsgUmVtb3RlVHJhY2t9c1xuICogQHByb3BlcnR5IHtNYXA8VHJhY2suU0lELCBSZW1vdGVUcmFja1B1YmxpY2F0aW9uPn0gdHJhY2tQdWJsaWNhdGlvbnMgLVxuICogICAgVGhlIHtAbGluayBQYXJ0aWNpcGFudH0ncyB7QGxpbmsgUmVtb3RlVHJhY2tQdWJsaWNhdGlvbn1zXG4gKiBAcHJvcGVydHkge01hcDxUcmFjay5TSUQsIFJlbW90ZVZpZGVvVHJhY2s+fSB2aWRlb1RyYWNrcyAtXG4gKiAgICBUaGUge0BsaW5rIFBhcnRpY2lwYW50fSdzIHtAbGluayBSZW1vdGVWaWRlb1RyYWNrfXNcbiAqIEBwcm9wZXJ0eSB7TWFwPFRyYWNrLlNJRCwgUmVtb3RlVmlkZW9UcmFja1B1YmxpY2F0aW9uPn0gdmlkZW9UcmFja1B1YmxpY2F0aW9ucyAtXG4gKiAgICBUaGUge0BsaW5rIFBhcnRpY2lwYW50fSdzIHtAbGluayBSZW1vdGVWaWRlb1RyYWNrUHVibGljYXRpb259c1xuICogQGVtaXRzIFJlbW90ZVBhcnRpY2lwYW50I3RyYWNrQWRkZWRcbiAqIEBlbWl0cyBSZW1vdGVQYXJ0aWNpcGFudCN0cmFja0RpbWVuc2lvbnNDaGFuZ2VkXG4gKiBAZW1pdHMgUmVtb3RlUGFydGljaXBhbnQjdHJhY2tEaXNhYmxlZFxuICogQGVtaXRzIFJlbW90ZVBhcnRpY2lwYW50I3RyYWNrRW5hYmxlZFxuICogQGVtaXRzIFJlbW90ZVBhcnRpY2lwYW50I3RyYWNrTWVzc2FnZVxuICogQGVtaXRzIFJlbW90ZVBhcnRpY2lwYW50I3RyYWNrUHVibGlzaGVkXG4gKiBAZW1pdHMgUmVtb3RlUGFydGljaXBhbnQjdHJhY2tSZW1vdmVkXG4gKiBAZW1pdHMgUmVtb3RlUGFydGljaXBhbnQjdHJhY2tTdGFydGVkXG4gKiBAZW1pdHMgUmVtb3RlUGFydGljaXBhbnQjdHJhY2tTdWJzY3JpYmVkXG4gKiBAZW1pdHMgUmVtb3RlUGFydGljaXBhbnQjdHJhY2tTdWJzY3JpcHRpb25GYWlsZWRcbiAqIEBlbWl0cyBSZW1vdGVQYXJ0aWNpcGFudCN0cmFja1VucHVibGlzaGVkXG4gKiBAZW1pdHMgUmVtb3RlUGFydGljaXBhbnQjdHJhY2tVbnN1YnNjcmliZWRcbiAqL1xuXG5cbnZhciBSZW1vdGVQYXJ0aWNpcGFudCA9IGZ1bmN0aW9uIChfUGFydGljaXBhbnQpIHtcbiAgX2luaGVyaXRzKFJlbW90ZVBhcnRpY2lwYW50LCBfUGFydGljaXBhbnQpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9LlxuICAgKiBAcGFyYW0ge1BhcnRpY2lwYW50U2lnbmFsaW5nfSBzaWduYWxpbmdcbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgKi9cbiAgZnVuY3Rpb24gUmVtb3RlUGFydGljaXBhbnQoc2lnbmFsaW5nLCBvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbW90ZVBhcnRpY2lwYW50KTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSZW1vdGVQYXJ0aWNpcGFudC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJlbW90ZVBhcnRpY2lwYW50KSkuY2FsbCh0aGlzLCBzaWduYWxpbmcsIG9wdGlvbnMpKTtcblxuICAgIGRlcHJlY2F0ZUV2ZW50cygnUmVtb3RlUGFydGljaXBhbnQnLCBfdGhpcywgbmV3IE1hcChbWyd0cmFja0FkZGVkJywgJ3RyYWNrU3Vic2NyaWJlZCddLCBbJ3RyYWNrUmVtb3ZlZCcsICd0cmFja1Vuc3Vic2NyaWJlZCddXSksIF90aGlzLl9sb2cpO1xuXG4gICAgX3RoaXMuX2hhbmRsZVRyYWNrU2lnbmFsaW5nRXZlbnRzKCk7XG4gICAgX3RoaXMub25jZSgnZGlzY29ubmVjdGVkJywgX3RoaXMuX3Vuc3Vic2NyaWJlVHJhY2tzLmJpbmQoX3RoaXMpKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUmVtb3RlUGFydGljaXBhbnQsIFt7XG4gICAga2V5OiAndG9TdHJpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiAnW1JlbW90ZVBhcnRpY2lwYW50ICMnICsgdGhpcy5faW5zdGFuY2VJZCArICh0aGlzLnNpZCA/ICc6ICcgKyB0aGlzLnNpZCA6ICcnKSArICddJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UmVtb3RlVHJhY2t9IHJlbW90ZVRyYWNrXG4gICAgICogQHBhcmFtIHtSZW1vdGVUcmFja1B1YmxpY2F0aW9ufSBwdWJsaWNhdGlvblxuICAgICAqIEByZXR1cm5zIHs/UmVtb3RlVHJhY2t9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19hZGRUcmFjaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGRUcmFjayhyZW1vdGVUcmFjaywgcHVibGljYXRpb24pIHtcbiAgICAgIHJlbW90ZVRyYWNrLl9zZXRTaWQocHVibGljYXRpb24udHJhY2tTaWQpO1xuICAgICAgaWYgKCFfZ2V0KFJlbW90ZVBhcnRpY2lwYW50LnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJlbW90ZVBhcnRpY2lwYW50LnByb3RvdHlwZSksICdfYWRkVHJhY2snLCB0aGlzKS5jYWxsKHRoaXMsIHJlbW90ZVRyYWNrKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHB1YmxpY2F0aW9uLl9zdWJzY3JpYmVkKHJlbW90ZVRyYWNrKTtcbiAgICAgIHRoaXMuZW1pdCgndHJhY2tTdWJzY3JpYmVkJywgcmVtb3RlVHJhY2spO1xuICAgICAgcmV0dXJuIHJlbW90ZVRyYWNrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZW1vdGVUcmFja1B1YmxpY2F0aW9ufSBwdWJsaWNhdGlvblxuICAgICAqIEByZXR1cm5zIHs/UmVtb3RlVHJhY2tQdWJsaWNhdGlvbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2FkZFRyYWNrUHVibGljYXRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkVHJhY2tQdWJsaWNhdGlvbihwdWJsaWNhdGlvbikge1xuICAgICAgdmFyIGFkZGVkUHVibGljYXRpb24gPSBfZ2V0KFJlbW90ZVBhcnRpY2lwYW50LnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJlbW90ZVBhcnRpY2lwYW50LnByb3RvdHlwZSksICdfYWRkVHJhY2tQdWJsaWNhdGlvbicsIHRoaXMpLmNhbGwodGhpcywgcHVibGljYXRpb24pO1xuICAgICAgaWYgKCFhZGRlZFB1YmxpY2F0aW9uKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdGhpcy5lbWl0KCd0cmFja1B1Ymxpc2hlZCcsIGFkZGVkUHVibGljYXRpb24pO1xuICAgICAgcmV0dXJuIGFkZGVkUHVibGljYXRpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19nZXRUcmFja1B1YmxpY2F0aW9uRXZlbnRzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFRyYWNrUHVibGljYXRpb25FdmVudHMoKSB7XG4gICAgICByZXR1cm4gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfZ2V0KFJlbW90ZVBhcnRpY2lwYW50LnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJlbW90ZVBhcnRpY2lwYW50LnByb3RvdHlwZSksICdfZ2V0VHJhY2tQdWJsaWNhdGlvbkV2ZW50cycsIHRoaXMpLmNhbGwodGhpcykpLCBbWydzdWJzY3JpcHRpb25GYWlsZWQnLCAndHJhY2tTdWJzY3JpcHRpb25GYWlsZWQnXV0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ191bnN1YnNjcmliZVRyYWNrcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF91bnN1YnNjcmliZVRyYWNrcygpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB0aGlzLnRyYWNrUHVibGljYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKHB1YmxpY2F0aW9uKSB7XG4gICAgICAgIGlmIChwdWJsaWNhdGlvbi5pc1N1YnNjcmliZWQpIHtcbiAgICAgICAgICB2YXIgdHJhY2sgPSBwdWJsaWNhdGlvbi50cmFjaztcbiAgICAgICAgICBwdWJsaWNhdGlvbi5fdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICBfdGhpczIuZW1pdCgndHJhY2tVbnN1YnNjcmliZWQnLCB0cmFjayk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZW1vdGVUcmFja30gcmVtb3RlVHJhY2tcbiAgICAgKiBAcGFyYW0ge1JlbW90ZVRyYWNrUHVibGljYXRpb259IHB1YmxpY2F0aW9uXG4gICAgICogQHJldHVybnMgez9SZW1vdGVUcmFja31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX3JlbW92ZVRyYWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZVRyYWNrKHJlbW90ZVRyYWNrLCBwdWJsaWNhdGlvbikge1xuICAgICAgdmFyIHVuc3Vic2NyaWJlZFRyYWNrID0gdGhpcy50cmFja3MuZ2V0KHJlbW90ZVRyYWNrLl9pZCk7XG4gICAgICBpZiAoIXVuc3Vic2NyaWJlZFRyYWNrKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9kZWxldGVUcmFjayh1bnN1YnNjcmliZWRUcmFjayk7XG4gICAgICBwdWJsaWNhdGlvbi5fdW5zdWJzY3JpYmUoKTtcbiAgICAgIHRoaXMuZW1pdCgndHJhY2tVbnN1YnNjcmliZWQnLCB1bnN1YnNjcmliZWRUcmFjayk7XG4gICAgICB0aGlzLmVtaXQoJ3RyYWNrUmVtb3ZlZCcsIHVuc3Vic2NyaWJlZFRyYWNrKTtcbiAgICAgIHJldHVybiB1bnN1YnNjcmliZWRUcmFjaztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UmVtb3RlVHJhY2tQdWJsaWNhdGlvbn0gcHVibGljYXRpb25cbiAgICAgKiBAcmV0dXJucyB7P1JlbW90ZVRyYWNrUHVibGljYXRpb259XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19yZW1vdmVUcmFja1B1YmxpY2F0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZVRyYWNrUHVibGljYXRpb24ocHVibGljYXRpb24pIHtcbiAgICAgIHZhciByZW1vdmVkUHVibGljYXRpb24gPSBfZ2V0KFJlbW90ZVBhcnRpY2lwYW50LnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJlbW90ZVBhcnRpY2lwYW50LnByb3RvdHlwZSksICdfcmVtb3ZlVHJhY2tQdWJsaWNhdGlvbicsIHRoaXMpLmNhbGwodGhpcywgcHVibGljYXRpb24pO1xuICAgICAgaWYgKCFyZW1vdmVkUHVibGljYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLmVtaXQoJ3RyYWNrVW5wdWJsaXNoZWQnLCByZW1vdmVkUHVibGljYXRpb24pO1xuICAgICAgcmV0dXJuIHJlbW92ZWRQdWJsaWNhdGlvbjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVtb3RlUGFydGljaXBhbnQ7XG59KFBhcnRpY2lwYW50KTtcblxuLyoqXG4gKiBBIHtAbGluayBSZW1vdGVUcmFja30gd2FzIGFkZGVkIGJ5IHRoZSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9LlxuICogQHBhcmFtIHtSZW1vdGVUcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIFJlbW90ZVRyYWNrfSB0aGF0IHdhcyBhZGRlZFxuICogQGV2ZW50IFJlbW90ZVBhcnRpY2lwYW50I3RyYWNrQWRkZWRcbiAqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnQjdHJhY2tTdWJzY3JpYmVkfSBpbnN0ZWFkXG4gKi9cblxuLyoqXG4gKiBPbmUgb2YgdGhlIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudH0ncyB7QGxpbmsgUmVtb3RlVmlkZW9UcmFja30ncyBkaW1lbnNpb25zIGNoYW5nZWQuXG4gKiBAcGFyYW0ge1JlbW90ZVZpZGVvVHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBSZW1vdGVWaWRlb1RyYWNrfSB3aG9zZSBkaW1lbnNpb25zIGNoYW5nZWRcbiAqIEBldmVudCBSZW1vdGVQYXJ0aWNpcGFudCN0cmFja0RpbWVuc2lvbnNDaGFuZ2VkXG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBSZW1vdGVUcmFja30gd2FzIGRpc2FibGVkIGJ5IHRoZSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9LlxuICogQHBhcmFtIHtSZW1vdGVUcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIFJlbW90ZVRyYWNrfSB0aGF0IHdhcyBkaXNhYmxlZFxuICogQGV2ZW50IFJlbW90ZVBhcnRpY2lwYW50I3RyYWNrRGlzYWJsZWRcbiAqL1xuXG4vKipcbiAqIEEge0BsaW5rIFJlbW90ZVRyYWNrfSB3YXMgZW5hYmxlZCBieSB0aGUge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50fS5cbiAqIEBwYXJhbSB7UmVtb3RlVHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBSZW1vdGVUcmFja30gdGhhdCB3YXMgZW5hYmxlZFxuICogQGV2ZW50IFJlbW90ZVBhcnRpY2lwYW50I3RyYWNrRW5hYmxlZFxuICovXG5cbi8qKlxuICogQSBtZXNzYWdlIHdhcyByZWNlaXZlZCBvdmVyIG9uZSBvZiB0aGUge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50fSdzXG4gKiB7QGxpbmsgUmVtb3RlRGF0YVRyYWNrfXMuXG4gKiBAZXZlbnQgUmVtb3RlUGFydGljaXBhbnQjdHJhY2tNZXNzYWdlXG4gKiBAcGFyYW0ge3N0cmluZ3xBcnJheUJ1ZmZlcn0gZGF0YVxuICogQHBhcmFtIHtSZW1vdGVEYXRhVHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBSZW1vdGVEYXRhVHJhY2t9IG92ZXIgd2hpY2ggdGhlXG4gKiAgIG1lc3NhZ2Ugd2FzIHJlY2VpdmVkXG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBSZW1vdGVUcmFja30gd2FzIHB1Ymxpc2hlZCBieSB0aGUge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50fSBhZnRlclxuICogY29ubmVjdGluZyB0byB0aGUge0BsaW5rIFJvb219LiBUaGlzIGV2ZW50IGlzIG5vdCBlbWl0dGVkIGZvclxuICoge0BsaW5rIFJlbW90ZVRyYWNrfXMgdGhhdCB3ZXJlIHB1Ymxpc2hlZCB3aGlsZSB0aGUge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50fVxuICogd2FzIGNvbm5lY3RpbmcgdG8gdGhlIHtAbGluayBSb29tfS5cbiAqIEBldmVudCBSZW1vdGVQYXJ0aWNpcGFudCN0cmFja1B1Ymxpc2hlZFxuICogQHBhcmFtIHtSZW1vdGVUcmFja1B1YmxpY2F0aW9ufSBwdWJsaWNhdGlvbiAtIFRoZSB7QGxpbmsgUmVtb3RlVHJhY2tQdWJsaWNhdGlvbn1cbiAqICAgd2hpY2ggcmVwcmVzZW50cyB0aGUgcHVibGlzaGVkIHtAbGluayBSZW1vdGVUcmFja31cbiAqIEBleGFtcGxlXG4gKiBmdW5jdGlvbiB0cmFja1B1Ymxpc2hlZChwdWJsaWNhdGlvbikge1xuICogICBjb25zb2xlLmxvZyhgVHJhY2sgJHtwdWJsaWNhdGlvbi50cmFja1NpZH0gd2FzIHB1Ymxpc2hlZGApO1xuICogfVxuICpcbiAqIHJvb20ub24oJ3BhcnRpY2lwYW50Q29ubmVjdGVkJywgcGFydGljaXBhbnQgPT4ge1xuICogICAvLyBIYW5kbGUgUmVtb3RlVHJhY2tzIHB1Ymxpc2hlZCB3aGlsZSBjb25uZWN0aW5nIHRvIHRoZSBSb29tLlxuICogICBwYXJ0aWNpcGFudC50cmFja1B1YmxpY2F0aW9ucy5mb3JFYWNoKHRyYWNrUHVibGlzaGVkKTtcbiAqXG4gKiAgIC8vIEhhbmRsZSBSZW1vdGVUcmFja3MgcHVibGlzaGVkIGFmdGVyIGNvbm5lY3RpbmcgdG8gdGhlIFJvb20uXG4gKiAgIHBhcnRpY2lwYW50Lm9uKCd0cmFja1B1Ymxpc2hlZCcsIHRyYWNrUHVibGlzaGVkKTtcbiAqIH0pO1xuICovXG5cbi8qKlxuICogQSB7QGxpbmsgUmVtb3RlVHJhY2t9IHdhcyByZW1vdmVkIGJ5IHRoZSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9LlxuICogQHBhcmFtIHtSZW1vdGVUcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIFJlbW90ZVRyYWNrfSB0aGF0IHdhcyByZW1vdmVkXG4gKiBAZXZlbnQgUmVtb3RlUGFydGljaXBhbnQjdHJhY2tSZW1vdmVkXG4gKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50I3RyYWNrVW5zdWJzY3JpYmVkfSBpbnN0ZWFkXG4gKi9cblxuLyoqXG4gKiBPbmUgb2YgdGhlIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudH0ncyB7QGxpbmsgUmVtb3RlVHJhY2t9cyBzdGFydGVkLlxuICogQHBhcmFtIHtSZW1vdGVUcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIFJlbW90ZVRyYWNrfSB0aGF0IHN0YXJ0ZWRcbiAqIEBldmVudCBSZW1vdGVQYXJ0aWNpcGFudCN0cmFja1N0YXJ0ZWRcbiAqL1xuXG4vKipcbiAqIEEge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50fSdzIHtAbGluayBSZW1vdGVUcmFja30gd2FzIHN1YnNjcmliZWQgdG8uXG4gKiBAcGFyYW0ge1JlbW90ZVRyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgUmVtb3RlVHJhY2t9IHRoYXQgd2FzIHN1YnNjcmliZWQgdG9cbiAqIEBldmVudCBSZW1vdGVQYXJ0aWNpcGFudCN0cmFja1N1YnNjcmliZWRcbiAqL1xuXG4vKipcbiAqIEEge0BsaW5rIFJlbW90ZVBhcnRpY2lwYW50fSdzIHtAbGluayBSZW1vdGVUcmFja30gY291bGQgbm90IGJlIHN1YnNjcmliZWQgdG8uXG4gKiBAcGFyYW0ge1R3aWxpb0Vycm9yfSBlcnJvciAtIFRoZSByZWFzb24gdGhlIHtAbGluayBSZW1vdGVUcmFja30gY291bGQgbm90IGJlXG4gKiAgIHN1YnNjcmliZWQgdG9cbiAqIEBwYXJhbSB7UmVtb3RlVHJhY2tQdWJsaWNhdGlvbn0gcHVibGljYXRpb24gLSBUaGVcbiAqICAge0BsaW5rIFJlbW90ZVRyYWNrUHVibGljYXRpb259IGZvciB0aGUge0BsaW5rIFJlbW90ZVRyYWNrfSB0aGF0IGNvdWxkIG5vdFxuICogICBiZSBzdWJzY3JpYmVkIHRvXG4gKiBAZXZlbnQgUmVtb3RlUGFydGljaXBhbnQjdHJhY2tTdWJzY3JpcHRpb25GYWlsZWRcbiAqL1xuXG4vKipcbiAqIEEge0BsaW5rIFJlbW90ZVRyYWNrfSB3YXMgdW5wdWJsaXNoZWQgYnkgdGhlIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudH0uXG4gKiBAZXZlbnQgUmVtb3RlUGFydGljaXBhbnQjdHJhY2tVbnB1Ymxpc2hlZFxuICogQHBhcmFtIHtSZW1vdGVUcmFja1B1YmxpY2F0aW9ufSBwdWJsaWNhdGlvbiAtIFRoZSB7QGxpbmsgUmVtb3RlVHJhY2tQdWJsaWNhdGlvbn1cbiAqICAgd2hpY2ggcmVwcmVzZW50cyB0aGUgdW5wdWJsaXNoZWQge0BsaW5rIFJlbW90ZVRyYWNrfVxuICovXG5cbi8qKlxuICogQSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9J3Mge0BsaW5rIFJlbW90ZVRyYWNrfSB3YXMgdW5zdWJzY3JpYmVkIGZyb20uXG4gKiBAcGFyYW0ge1JlbW90ZVRyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgUmVtb3RlVHJhY2t9IHRoYXQgd2FzIHVuc3Vic2NyaWJlZCBmcm9tXG4gKiBAZXZlbnQgUmVtb3RlUGFydGljaXBhbnQjdHJhY2tVbnN1YnNjcmliZWRcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlbW90ZVBhcnRpY2lwYW50O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvcmVtb3RlcGFydGljaXBhbnQuanNcbi8vIG1vZHVsZSBpZCA9IDI4NVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///285\n");

/***/ }),
/* 286 */
/*!***********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/remoteaudiotrack.js ***!
  \***********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar AudioTrack = __webpack_require__(/*! ./audiotrack */ 234);\nvar mixinRemoteMediaTrack = __webpack_require__(/*! ./remotemediatrack */ 244);\n\nvar RemoteMediaAudioTrack = mixinRemoteMediaTrack(AudioTrack);\n\n/**\n * A {@link RemoteAudioTrack} represents an {@link AudioTrack} published to a\n * {@link Room} by a {@link RemoteParticipant}.\n * @extends AudioTrack\n * @property {boolean} isSubscribed - Whether the {@link RemoteAudioTrack} is\n *   currently subscribed to\n * @property {Track.SID} sid - The {@link RemoteAudioTrack}'s SID\n * @emits RemoteAudioTrack#disabled\n * @emits RemoteAudioTrack#enabled\n * @emits RemoteAudioTrack#started\n * @emits RemoteAudioTrack#unsubscribed\n */\n\nvar RemoteAudioTrack = function (_RemoteMediaAudioTrac) {\n  _inherits(RemoteAudioTrack, _RemoteMediaAudioTrac);\n\n  /**\n   * Construct a {@link RemoteAudioTrack}.\n   * @param {MediaTrackReceiver} mediaTrackReceiver - An audio MediaStreamTrack container\n   * @param {boolean} isEnabled - Whether the {@link RemoteAudioTrack} is enabled\n   * @param {{log: Log}} options - The {@link RemoteTrack} options\n   */\n  function RemoteAudioTrack(mediaTrackReceiver, isEnabled, options) {\n    _classCallCheck(this, RemoteAudioTrack);\n\n    return _possibleConstructorReturn(this, (RemoteAudioTrack.__proto__ || Object.getPrototypeOf(RemoteAudioTrack)).call(this, mediaTrackReceiver, isEnabled, options));\n  }\n\n  _createClass(RemoteAudioTrack, [{\n    key: 'toString',\n    value: function toString() {\n      return '[RemoteAudioTrack #' + this._instanceId + ': ' + this.sid + ']';\n    }\n  }]);\n\n  return RemoteAudioTrack;\n}(RemoteMediaAudioTrack);\n\n/**\n * The {@link RemoteAudioTrack} was disabled, i.e. \"muted\".\n * @param {RemoteAudioTrack} track - The {@link RemoteAudioTrack} that was\n *   disabled\n * @event RemoteAudioTrack#disabled\n */\n\n/**\n * The {@link RemoteAudioTrack} was enabled, i.e. \"unmuted\".\n * @param {RemoteAudioTrack} track - The {@link RemoteAudioTrack} that was\n *   enabled\n * @event RemoteAudioTrack#enabled\n */\n\n/**\n * The {@link RemoteAudioTrack} started. This means there is enough audio data\n * to begin playback.\n * @param {RemoteAudioTrack} track - The {@link RemoteAudioTrack} that started\n * @event RemoteAudioTrack#started\n */\n\n/**\n * The {@link RemoteAudioTrack} was unsubscribed from.\n * @param {RemoteAudioTrack} track - The {@link RemoteAudioTrack} that was\n *   unsubscribed from\n * @event RemoteAudioTrack#unsubscribed\n * @deprecated Use the parent {@link RemoteAudioTrackPublication}'s\n *   \"unsubscribed\" event instead\n */\n\nmodule.exports = RemoteAudioTrack;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9yZW1vdGVhdWRpb3RyYWNrLmpzP2IyOTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsaUJBQWlCLG1CQUFPLENBQUMsdUJBQWM7QUFDdkMsNEJBQTRCLG1CQUFPLENBQUMsNkJBQW9COztBQUV4RDs7QUFFQTtBQUNBLE1BQU0sdUJBQXVCLGdCQUFnQixpQkFBaUI7QUFDOUQsSUFBSSxXQUFXLE9BQU8sd0JBQXdCO0FBQzlDO0FBQ0EsY0FBYyxRQUFRLDZCQUE2Qix1QkFBdUI7QUFDMUU7QUFDQSxjQUFjLFVBQVUsWUFBWSx1QkFBdUI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHVCQUF1QjtBQUN6QyxhQUFhLG1CQUFtQjtBQUNoQyxhQUFhLFFBQVEsMEJBQTBCLHVCQUF1QjtBQUN0RSxjQUFjLFVBQVUsZ0JBQWdCLGtCQUFrQjtBQUMxRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQixXQUFXLGlCQUFpQixjQUFjLHVCQUF1QjtBQUNqRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQixXQUFXLGlCQUFpQixjQUFjLHVCQUF1QjtBQUNqRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQjtBQUNBLFdBQVcsaUJBQWlCLGNBQWMsdUJBQXVCO0FBQ2pFO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQixXQUFXLGlCQUFpQixjQUFjLHVCQUF1QjtBQUNqRTtBQUNBO0FBQ0EsK0JBQStCLGtDQUFrQztBQUNqRTtBQUNBOztBQUVBIiwiZmlsZSI6IjI4Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgQXVkaW9UcmFjayA9IHJlcXVpcmUoJy4vYXVkaW90cmFjaycpO1xudmFyIG1peGluUmVtb3RlTWVkaWFUcmFjayA9IHJlcXVpcmUoJy4vcmVtb3RlbWVkaWF0cmFjaycpO1xuXG52YXIgUmVtb3RlTWVkaWFBdWRpb1RyYWNrID0gbWl4aW5SZW1vdGVNZWRpYVRyYWNrKEF1ZGlvVHJhY2spO1xuXG4vKipcbiAqIEEge0BsaW5rIFJlbW90ZUF1ZGlvVHJhY2t9IHJlcHJlc2VudHMgYW4ge0BsaW5rIEF1ZGlvVHJhY2t9IHB1Ymxpc2hlZCB0byBhXG4gKiB7QGxpbmsgUm9vbX0gYnkgYSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnR9LlxuICogQGV4dGVuZHMgQXVkaW9UcmFja1xuICogQHByb3BlcnR5IHtib29sZWFufSBpc1N1YnNjcmliZWQgLSBXaGV0aGVyIHRoZSB7QGxpbmsgUmVtb3RlQXVkaW9UcmFja30gaXNcbiAqICAgY3VycmVudGx5IHN1YnNjcmliZWQgdG9cbiAqIEBwcm9wZXJ0eSB7VHJhY2suU0lEfSBzaWQgLSBUaGUge0BsaW5rIFJlbW90ZUF1ZGlvVHJhY2t9J3MgU0lEXG4gKiBAZW1pdHMgUmVtb3RlQXVkaW9UcmFjayNkaXNhYmxlZFxuICogQGVtaXRzIFJlbW90ZUF1ZGlvVHJhY2sjZW5hYmxlZFxuICogQGVtaXRzIFJlbW90ZUF1ZGlvVHJhY2sjc3RhcnRlZFxuICogQGVtaXRzIFJlbW90ZUF1ZGlvVHJhY2sjdW5zdWJzY3JpYmVkXG4gKi9cblxudmFyIFJlbW90ZUF1ZGlvVHJhY2sgPSBmdW5jdGlvbiAoX1JlbW90ZU1lZGlhQXVkaW9UcmFjKSB7XG4gIF9pbmhlcml0cyhSZW1vdGVBdWRpb1RyYWNrLCBfUmVtb3RlTWVkaWFBdWRpb1RyYWMpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgUmVtb3RlQXVkaW9UcmFja30uXG4gICAqIEBwYXJhbSB7TWVkaWFUcmFja1JlY2VpdmVyfSBtZWRpYVRyYWNrUmVjZWl2ZXIgLSBBbiBhdWRpbyBNZWRpYVN0cmVhbVRyYWNrIGNvbnRhaW5lclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzRW5hYmxlZCAtIFdoZXRoZXIgdGhlIHtAbGluayBSZW1vdGVBdWRpb1RyYWNrfSBpcyBlbmFibGVkXG4gICAqIEBwYXJhbSB7e2xvZzogTG9nfX0gb3B0aW9ucyAtIFRoZSB7QGxpbmsgUmVtb3RlVHJhY2t9IG9wdGlvbnNcbiAgICovXG4gIGZ1bmN0aW9uIFJlbW90ZUF1ZGlvVHJhY2sobWVkaWFUcmFja1JlY2VpdmVyLCBpc0VuYWJsZWQsIG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVtb3RlQXVkaW9UcmFjayk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJlbW90ZUF1ZGlvVHJhY2suX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSZW1vdGVBdWRpb1RyYWNrKSkuY2FsbCh0aGlzLCBtZWRpYVRyYWNrUmVjZWl2ZXIsIGlzRW5hYmxlZCwgb3B0aW9ucykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJlbW90ZUF1ZGlvVHJhY2ssIFt7XG4gICAga2V5OiAndG9TdHJpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiAnW1JlbW90ZUF1ZGlvVHJhY2sgIycgKyB0aGlzLl9pbnN0YW5jZUlkICsgJzogJyArIHRoaXMuc2lkICsgJ10nO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZW1vdGVBdWRpb1RyYWNrO1xufShSZW1vdGVNZWRpYUF1ZGlvVHJhY2spO1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgUmVtb3RlQXVkaW9UcmFja30gd2FzIGRpc2FibGVkLCBpLmUuIFwibXV0ZWRcIi5cbiAqIEBwYXJhbSB7UmVtb3RlQXVkaW9UcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIFJlbW90ZUF1ZGlvVHJhY2t9IHRoYXQgd2FzXG4gKiAgIGRpc2FibGVkXG4gKiBAZXZlbnQgUmVtb3RlQXVkaW9UcmFjayNkaXNhYmxlZFxuICovXG5cbi8qKlxuICogVGhlIHtAbGluayBSZW1vdGVBdWRpb1RyYWNrfSB3YXMgZW5hYmxlZCwgaS5lLiBcInVubXV0ZWRcIi5cbiAqIEBwYXJhbSB7UmVtb3RlQXVkaW9UcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIFJlbW90ZUF1ZGlvVHJhY2t9IHRoYXQgd2FzXG4gKiAgIGVuYWJsZWRcbiAqIEBldmVudCBSZW1vdGVBdWRpb1RyYWNrI2VuYWJsZWRcbiAqL1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgUmVtb3RlQXVkaW9UcmFja30gc3RhcnRlZC4gVGhpcyBtZWFucyB0aGVyZSBpcyBlbm91Z2ggYXVkaW8gZGF0YVxuICogdG8gYmVnaW4gcGxheWJhY2suXG4gKiBAcGFyYW0ge1JlbW90ZUF1ZGlvVHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBSZW1vdGVBdWRpb1RyYWNrfSB0aGF0IHN0YXJ0ZWRcbiAqIEBldmVudCBSZW1vdGVBdWRpb1RyYWNrI3N0YXJ0ZWRcbiAqL1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgUmVtb3RlQXVkaW9UcmFja30gd2FzIHVuc3Vic2NyaWJlZCBmcm9tLlxuICogQHBhcmFtIHtSZW1vdGVBdWRpb1RyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgUmVtb3RlQXVkaW9UcmFja30gdGhhdCB3YXNcbiAqICAgdW5zdWJzY3JpYmVkIGZyb21cbiAqIEBldmVudCBSZW1vdGVBdWRpb1RyYWNrI3Vuc3Vic2NyaWJlZFxuICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBwYXJlbnQge0BsaW5rIFJlbW90ZUF1ZGlvVHJhY2tQdWJsaWNhdGlvbn0nc1xuICogICBcInVuc3Vic2NyaWJlZFwiIGV2ZW50IGluc3RlYWRcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlbW90ZUF1ZGlvVHJhY2s7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9yZW1vdGVhdWRpb3RyYWNrLmpzXG4vLyBtb2R1bGUgaWQgPSAyODZcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///286\n");

/***/ }),
/* 287 */
/*!**********************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/remoteaudiotrackpublication.js ***!
  \**********************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RemoteTrackPublication = __webpack_require__(/*! ./remotetrackpublication */ 226);\n\n/**\n * A {@link RemoteAudioTrackPublication} represents a {@link RemoteAudioTrack}\n * that has been published to a {@link Room}.\n * @property {Track.Kind} kind - \"audio\"\n * @property {?RemoteAudioTrack} track - unless you have subscribed to the\n *   {@link RemoteAudioTrack}, this property is null\n * @emits RemoteAudioTrackPublication#subscribed\n * @emits RemoteAudioTrackPublication#trackDisabled\n * @emits RemoteAudioTrackPublication#trackEnabled\n * @emits RemoteAudioTrackPublication#unsubscribed\n */\n\nvar RemoteAudioTrackPublication = function (_RemoteTrackPublicati) {\n  _inherits(RemoteAudioTrackPublication, _RemoteTrackPublicati);\n\n  /**\n   * Construct a {@link RemoteAudioTrackPublication}.\n   * @param {RemoteTrackPublicationSignaling} signaling - {@link RemoteTrackPublication} signaling\n   * @param {RemoteTrackPublicationOptions} options - {@link RemoteTrackPublication}\n   *   options\n   */\n  function RemoteAudioTrackPublication(signaling, options) {\n    _classCallCheck(this, RemoteAudioTrackPublication);\n\n    return _possibleConstructorReturn(this, (RemoteAudioTrackPublication.__proto__ || Object.getPrototypeOf(RemoteAudioTrackPublication)).call(this, signaling, options));\n  }\n\n  _createClass(RemoteAudioTrackPublication, [{\n    key: 'toString',\n    value: function toString() {\n      return '[RemoteAudioTrackPublication #' + this._instanceId + ': ' + this.trackSid + ']';\n    }\n  }]);\n\n  return RemoteAudioTrackPublication;\n}(RemoteTrackPublication);\n\n/**\n * Your {@link LocalParticipant} subscribed to the {@link RemoteAudioTrack}.\n * @param {RemoteAudioTrack} track - the {@link RemoteAudioTrack} that was subscribed to\n * @event RemoteAudioTrackPublication#subscribed\n */\n\n/**\n * The {@link RemoteAudioTrack} was disabled.\n * @event RemoteAudioTrackPublication#trackDisabled\n */\n\n/**\n * The {@link RemoteAudioTrack} was enabled.\n * @event RemoteAudioTrackPublication#trackEnabled\n */\n\n/**\n * Your {@link LocalParticipant} unsubscribed from the {@link RemoteAudioTrack}.\n * @param {RemoteAudioTrack} track - the {@link RemoteAudioTrack} that was unsubscribed from\n * @event RemoteAudioTrackPublication#unsubscribed\n */\n\nmodule.exports = RemoteAudioTrackPublication;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9yZW1vdGVhdWRpb3RyYWNrcHVibGljYXRpb24uanM/NjNlYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSw2QkFBNkIsbUJBQU8sQ0FBQyxtQ0FBMEI7O0FBRS9EO0FBQ0EsTUFBTSxrQ0FBa0MsZUFBZTtBQUN2RCxpQ0FBaUMsV0FBVztBQUM1QyxjQUFjLFdBQVc7QUFDekIsY0FBYyxrQkFBa0I7QUFDaEMsTUFBTSx1QkFBdUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLGtDQUFrQztBQUNwRCxhQUFhLGdDQUFnQyxjQUFjLDZCQUE2QjtBQUN4RixhQUFhLDhCQUE4QixZQUFZO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0EsU0FBUyx1QkFBdUIsb0JBQW9CLHVCQUF1QjtBQUMzRSxXQUFXLGlCQUFpQixjQUFjLHVCQUF1QjtBQUNqRTtBQUNBOztBQUVBO0FBQ0EsUUFBUSx1QkFBdUI7QUFDL0I7QUFDQTs7QUFFQTtBQUNBLFFBQVEsdUJBQXVCO0FBQy9CO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLHVCQUF1Qix3QkFBd0IsdUJBQXVCO0FBQy9FLFdBQVcsaUJBQWlCLGNBQWMsdUJBQXVCO0FBQ2pFO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMjg3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSZW1vdGVUcmFja1B1YmxpY2F0aW9uID0gcmVxdWlyZSgnLi9yZW1vdGV0cmFja3B1YmxpY2F0aW9uJyk7XG5cbi8qKlxuICogQSB7QGxpbmsgUmVtb3RlQXVkaW9UcmFja1B1YmxpY2F0aW9ufSByZXByZXNlbnRzIGEge0BsaW5rIFJlbW90ZUF1ZGlvVHJhY2t9XG4gKiB0aGF0IGhhcyBiZWVuIHB1Ymxpc2hlZCB0byBhIHtAbGluayBSb29tfS5cbiAqIEBwcm9wZXJ0eSB7VHJhY2suS2luZH0ga2luZCAtIFwiYXVkaW9cIlxuICogQHByb3BlcnR5IHs/UmVtb3RlQXVkaW9UcmFja30gdHJhY2sgLSB1bmxlc3MgeW91IGhhdmUgc3Vic2NyaWJlZCB0byB0aGVcbiAqICAge0BsaW5rIFJlbW90ZUF1ZGlvVHJhY2t9LCB0aGlzIHByb3BlcnR5IGlzIG51bGxcbiAqIEBlbWl0cyBSZW1vdGVBdWRpb1RyYWNrUHVibGljYXRpb24jc3Vic2NyaWJlZFxuICogQGVtaXRzIFJlbW90ZUF1ZGlvVHJhY2tQdWJsaWNhdGlvbiN0cmFja0Rpc2FibGVkXG4gKiBAZW1pdHMgUmVtb3RlQXVkaW9UcmFja1B1YmxpY2F0aW9uI3RyYWNrRW5hYmxlZFxuICogQGVtaXRzIFJlbW90ZUF1ZGlvVHJhY2tQdWJsaWNhdGlvbiN1bnN1YnNjcmliZWRcbiAqL1xuXG52YXIgUmVtb3RlQXVkaW9UcmFja1B1YmxpY2F0aW9uID0gZnVuY3Rpb24gKF9SZW1vdGVUcmFja1B1YmxpY2F0aSkge1xuICBfaW5oZXJpdHMoUmVtb3RlQXVkaW9UcmFja1B1YmxpY2F0aW9uLCBfUmVtb3RlVHJhY2tQdWJsaWNhdGkpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgUmVtb3RlQXVkaW9UcmFja1B1YmxpY2F0aW9ufS5cbiAgICogQHBhcmFtIHtSZW1vdGVUcmFja1B1YmxpY2F0aW9uU2lnbmFsaW5nfSBzaWduYWxpbmcgLSB7QGxpbmsgUmVtb3RlVHJhY2tQdWJsaWNhdGlvbn0gc2lnbmFsaW5nXG4gICAqIEBwYXJhbSB7UmVtb3RlVHJhY2tQdWJsaWNhdGlvbk9wdGlvbnN9IG9wdGlvbnMgLSB7QGxpbmsgUmVtb3RlVHJhY2tQdWJsaWNhdGlvbn1cbiAgICogICBvcHRpb25zXG4gICAqL1xuICBmdW5jdGlvbiBSZW1vdGVBdWRpb1RyYWNrUHVibGljYXRpb24oc2lnbmFsaW5nLCBvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbW90ZUF1ZGlvVHJhY2tQdWJsaWNhdGlvbik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJlbW90ZUF1ZGlvVHJhY2tQdWJsaWNhdGlvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJlbW90ZUF1ZGlvVHJhY2tQdWJsaWNhdGlvbikpLmNhbGwodGhpcywgc2lnbmFsaW5nLCBvcHRpb25zKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUmVtb3RlQXVkaW9UcmFja1B1YmxpY2F0aW9uLCBbe1xuICAgIGtleTogJ3RvU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJ1tSZW1vdGVBdWRpb1RyYWNrUHVibGljYXRpb24gIycgKyB0aGlzLl9pbnN0YW5jZUlkICsgJzogJyArIHRoaXMudHJhY2tTaWQgKyAnXSc7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlbW90ZUF1ZGlvVHJhY2tQdWJsaWNhdGlvbjtcbn0oUmVtb3RlVHJhY2tQdWJsaWNhdGlvbik7XG5cbi8qKlxuICogWW91ciB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH0gc3Vic2NyaWJlZCB0byB0aGUge0BsaW5rIFJlbW90ZUF1ZGlvVHJhY2t9LlxuICogQHBhcmFtIHtSZW1vdGVBdWRpb1RyYWNrfSB0cmFjayAtIHRoZSB7QGxpbmsgUmVtb3RlQXVkaW9UcmFja30gdGhhdCB3YXMgc3Vic2NyaWJlZCB0b1xuICogQGV2ZW50IFJlbW90ZUF1ZGlvVHJhY2tQdWJsaWNhdGlvbiNzdWJzY3JpYmVkXG4gKi9cblxuLyoqXG4gKiBUaGUge0BsaW5rIFJlbW90ZUF1ZGlvVHJhY2t9IHdhcyBkaXNhYmxlZC5cbiAqIEBldmVudCBSZW1vdGVBdWRpb1RyYWNrUHVibGljYXRpb24jdHJhY2tEaXNhYmxlZFxuICovXG5cbi8qKlxuICogVGhlIHtAbGluayBSZW1vdGVBdWRpb1RyYWNrfSB3YXMgZW5hYmxlZC5cbiAqIEBldmVudCBSZW1vdGVBdWRpb1RyYWNrUHVibGljYXRpb24jdHJhY2tFbmFibGVkXG4gKi9cblxuLyoqXG4gKiBZb3VyIHtAbGluayBMb2NhbFBhcnRpY2lwYW50fSB1bnN1YnNjcmliZWQgZnJvbSB0aGUge0BsaW5rIFJlbW90ZUF1ZGlvVHJhY2t9LlxuICogQHBhcmFtIHtSZW1vdGVBdWRpb1RyYWNrfSB0cmFjayAtIHRoZSB7QGxpbmsgUmVtb3RlQXVkaW9UcmFja30gdGhhdCB3YXMgdW5zdWJzY3JpYmVkIGZyb21cbiAqIEBldmVudCBSZW1vdGVBdWRpb1RyYWNrUHVibGljYXRpb24jdW5zdWJzY3JpYmVkXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZW1vdGVBdWRpb1RyYWNrUHVibGljYXRpb247XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9yZW1vdGVhdWRpb3RyYWNrcHVibGljYXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDI4N1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///287\n");

/***/ }),
/* 288 */
/*!**********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/remotedatatrack.js ***!
  \**********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _require = __webpack_require__(/*! ../../util */ 206),\n    deprecateEvents = _require.deprecateEvents;\n\nvar Track = __webpack_require__(/*! ./ */ 225);\n\n/**\n * A {@link RemoteDataTrack} represents data published to a {@link Room} by a\n * {@link RemoteParticipant}.\n * @extends Track\n * @property {boolean} isEnabled - true\n * @property {Track.Kind} kind - \"data\"\n * @property {?number} maxPacketLifeTime - If non-null, this represents a time\n *   limit (in milliseconds) during which data will be transmitted or\n *   retransmitted if not acknowledged on the underlying RTCDataChannel.\n * @property {?number} maxRetransmits - If non-null, this represents the number\n *   of times the data will be retransmitted if not successfully received on the\n *   underlying RTCDataChannel.\n * @property {boolean} ordered - true if data on the {@link RemoteDataTrack} can\n *   be received out-of-order.\n * @property {boolean} reliable - This is true if both\n *   <code>maxPacketLifeTime</code> and <code>maxRetransmits</code> are set to\n *   null. In other words, if this is true, there is no bound on packet lifetime\n *   or the number of retransmits that will be attempted, ensuring \"reliable\"\n *   transmission.\n * @emits RemoteDataTrack#message\n * @emits RemoteDataTrack#unsubscribed\n */\n\nvar RemoteDataTrack = function (_Track) {\n  _inherits(RemoteDataTrack, _Track);\n\n  /**\n   * Construct a {@link RemoteDataTrack} from a {@link DataTrackReceiver}.\n   * @param {DataTrackReceiver} dataTrackReceiver\n   * @param {{log: Log, name: ?string}} options\n   */\n  function RemoteDataTrack(dataTrackReceiver, options) {\n    _classCallCheck(this, RemoteDataTrack);\n\n    var _this = _possibleConstructorReturn(this, (RemoteDataTrack.__proto__ || Object.getPrototypeOf(RemoteDataTrack)).call(this, dataTrackReceiver.id, 'data', options));\n\n    Object.defineProperties(_this, {\n      _isSubscribed: {\n        value: true,\n        writable: true\n      },\n      _sid: {\n        value: null,\n        writable: true\n      },\n      isEnabled: {\n        enumerable: true,\n        value: true\n      },\n      maxPacketLifeTime: {\n        enumerable: true,\n        value: dataTrackReceiver.maxPacketLifeTime\n      },\n      maxRetransmits: {\n        enumerable: true,\n        value: dataTrackReceiver.maxRetransmits\n      },\n      ordered: {\n        enumerable: true,\n        value: dataTrackReceiver.ordered\n      },\n      reliable: {\n        enumerable: true,\n        value: dataTrackReceiver.maxPacketLifeTime === null && dataTrackReceiver.maxRetransmits === null\n      }\n    });\n\n    deprecateEvents('RemoteDataTrack', _this, new Map([['unsubscribed', null]]), _this._log);\n\n    dataTrackReceiver.on('message', function (data) {\n      _this.emit('message', data, _this);\n    });\n    return _this;\n  }\n\n  /**\n   * The {@link RemoteDataTrack}'s ID.\n   * @property {Track.ID}\n   * @deprecated Use the parent {@link RemoteTrackPublication}'s .trackName\n   *   or .trackSid instead\n   */\n\n\n  _createClass(RemoteDataTrack, [{\n    key: '_setEnabled',\n\n\n    /**\n     * @private\n     */\n    value: function _setEnabled() {}\n    // Do nothing.\n\n\n    /**\n     * @private\n     * @param {Track.SID} sid\n     */\n\n  }, {\n    key: '_setSid',\n    value: function _setSid(sid) {\n      if (!this._sid) {\n        this._sid = sid;\n      }\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_unsubscribe',\n    value: function _unsubscribe() {\n      if (this._isSubscribed) {\n        this._isSubscribed = false;\n        this.emit('unsubscribed', this);\n      }\n    }\n  }, {\n    key: 'id',\n    get: function get() {\n      this._log.deprecated('RemoteDataTrack#id has been deprecated and is ' + 'scheduled for removal in twilio-video.js@2.0.0. Use the parent ' + 'RemoteTrackPublication\\'s .trackName or .trackSid instead.');\n      return this._id;\n    }\n\n    /**\n     * Whether the {@link RemoteDataTrack} is subscribed to\n     * @property {boolean}\n     * @deprecated Use the parent {@link RemoteTrackPublication}'s .isSubscribed\n     *   instead\n     */\n\n  }, {\n    key: 'isSubscribed',\n    get: function get() {\n      this._log.deprecated('RemoteDataTrack#isSubscribed has been deprecated and is ' + 'scheduled for removal in twilio-video.js@2.0.0. Use the ' + 'parent RemoteTrackPublication\\'s .isSubscribed instead.');\n      return this._isSubscribed;\n    }\n\n    /**\n     * The SID assigned to the {@link RemoteMediaTrack}\n     * @property {Track.SID}\n     */\n\n  }, {\n    key: 'sid',\n    get: function get() {\n      return this._sid;\n    }\n  }]);\n\n  return RemoteDataTrack;\n}(Track);\n\n/**\n * A message was received over the {@link RemoteDataTrack}.\n * @event RemoteDataTrack#message\n * @param {string|ArrayBuffer} data\n * @param {RemoteDataTrack} track - The {@link RemoteDataTrack} that received\n *   the message\n */\n\n/**\n * The {@link RemoteDataTrack} was unsubscribed from.\n * @event RemoteDataTrack#unsubscribed\n * @param {RemoteDataTrack} track - The {@link RemoteDataTrack} that was\n *   unsubscribed from\n * @deprecated Use the parent {@link RemoteTrackPublication}'s \"unsubscribed\"\n *   event instead\n */\n\nmodule.exports = RemoteDataTrack;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9yZW1vdGVkYXRhdHJhY2suanM/OTE2OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSxlQUFlLG1CQUFPLENBQUMscUJBQVk7QUFDbkM7O0FBRUEsWUFBWSxtQkFBTyxDQUFDLGFBQUk7O0FBRXhCO0FBQ0EsTUFBTSxzQkFBc0IsaUNBQWlDLFdBQVc7QUFDeEUsSUFBSSx3QkFBd0I7QUFDNUI7QUFDQSxjQUFjLFFBQVE7QUFDdEIsY0FBYyxXQUFXO0FBQ3pCLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQSxjQUFjLFFBQVEsZ0NBQWdDLHNCQUFzQjtBQUM1RTtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHNCQUFzQixTQUFTLHdCQUF3QjtBQUN6RSxhQUFhLGtCQUFrQjtBQUMvQixjQUFjLHlCQUF5QjtBQUN2QztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsVUFBVSxzQkFBc0I7QUFDaEMsZ0JBQWdCO0FBQ2hCLGlDQUFpQyw2QkFBNkI7QUFDOUQ7QUFDQTs7O0FBR0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6Qjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUMsa0JBQWtCO0FBQ2xCLG1DQUFtQyw2QkFBNkI7QUFDaEU7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdDQUFnQztBQUNoQyxrQkFBa0I7QUFDbEI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQSxvQ0FBb0Msc0JBQXNCO0FBQzFEO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUIsV0FBVyxnQkFBZ0IsY0FBYyxzQkFBc0I7QUFDL0Q7QUFDQTs7QUFFQTtBQUNBLFFBQVEsc0JBQXNCO0FBQzlCO0FBQ0EsV0FBVyxnQkFBZ0IsY0FBYyxzQkFBc0I7QUFDL0Q7QUFDQSwrQkFBK0IsNkJBQTZCO0FBQzVEO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMjg4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4uLy4uL3V0aWwnKSxcbiAgICBkZXByZWNhdGVFdmVudHMgPSBfcmVxdWlyZS5kZXByZWNhdGVFdmVudHM7XG5cbnZhciBUcmFjayA9IHJlcXVpcmUoJy4vJyk7XG5cbi8qKlxuICogQSB7QGxpbmsgUmVtb3RlRGF0YVRyYWNrfSByZXByZXNlbnRzIGRhdGEgcHVibGlzaGVkIHRvIGEge0BsaW5rIFJvb219IGJ5IGFcbiAqIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudH0uXG4gKiBAZXh0ZW5kcyBUcmFja1xuICogQHByb3BlcnR5IHtib29sZWFufSBpc0VuYWJsZWQgLSB0cnVlXG4gKiBAcHJvcGVydHkge1RyYWNrLktpbmR9IGtpbmQgLSBcImRhdGFcIlxuICogQHByb3BlcnR5IHs/bnVtYmVyfSBtYXhQYWNrZXRMaWZlVGltZSAtIElmIG5vbi1udWxsLCB0aGlzIHJlcHJlc2VudHMgYSB0aW1lXG4gKiAgIGxpbWl0IChpbiBtaWxsaXNlY29uZHMpIGR1cmluZyB3aGljaCBkYXRhIHdpbGwgYmUgdHJhbnNtaXR0ZWQgb3JcbiAqICAgcmV0cmFuc21pdHRlZCBpZiBub3QgYWNrbm93bGVkZ2VkIG9uIHRoZSB1bmRlcmx5aW5nIFJUQ0RhdGFDaGFubmVsLlxuICogQHByb3BlcnR5IHs/bnVtYmVyfSBtYXhSZXRyYW5zbWl0cyAtIElmIG5vbi1udWxsLCB0aGlzIHJlcHJlc2VudHMgdGhlIG51bWJlclxuICogICBvZiB0aW1lcyB0aGUgZGF0YSB3aWxsIGJlIHJldHJhbnNtaXR0ZWQgaWYgbm90IHN1Y2Nlc3NmdWxseSByZWNlaXZlZCBvbiB0aGVcbiAqICAgdW5kZXJseWluZyBSVENEYXRhQ2hhbm5lbC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gb3JkZXJlZCAtIHRydWUgaWYgZGF0YSBvbiB0aGUge0BsaW5rIFJlbW90ZURhdGFUcmFja30gY2FuXG4gKiAgIGJlIHJlY2VpdmVkIG91dC1vZi1vcmRlci5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcmVsaWFibGUgLSBUaGlzIGlzIHRydWUgaWYgYm90aFxuICogICA8Y29kZT5tYXhQYWNrZXRMaWZlVGltZTwvY29kZT4gYW5kIDxjb2RlPm1heFJldHJhbnNtaXRzPC9jb2RlPiBhcmUgc2V0IHRvXG4gKiAgIG51bGwuIEluIG90aGVyIHdvcmRzLCBpZiB0aGlzIGlzIHRydWUsIHRoZXJlIGlzIG5vIGJvdW5kIG9uIHBhY2tldCBsaWZldGltZVxuICogICBvciB0aGUgbnVtYmVyIG9mIHJldHJhbnNtaXRzIHRoYXQgd2lsbCBiZSBhdHRlbXB0ZWQsIGVuc3VyaW5nIFwicmVsaWFibGVcIlxuICogICB0cmFuc21pc3Npb24uXG4gKiBAZW1pdHMgUmVtb3RlRGF0YVRyYWNrI21lc3NhZ2VcbiAqIEBlbWl0cyBSZW1vdGVEYXRhVHJhY2sjdW5zdWJzY3JpYmVkXG4gKi9cblxudmFyIFJlbW90ZURhdGFUcmFjayA9IGZ1bmN0aW9uIChfVHJhY2spIHtcbiAgX2luaGVyaXRzKFJlbW90ZURhdGFUcmFjaywgX1RyYWNrKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGEge0BsaW5rIFJlbW90ZURhdGFUcmFja30gZnJvbSBhIHtAbGluayBEYXRhVHJhY2tSZWNlaXZlcn0uXG4gICAqIEBwYXJhbSB7RGF0YVRyYWNrUmVjZWl2ZXJ9IGRhdGFUcmFja1JlY2VpdmVyXG4gICAqIEBwYXJhbSB7e2xvZzogTG9nLCBuYW1lOiA/c3RyaW5nfX0gb3B0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gUmVtb3RlRGF0YVRyYWNrKGRhdGFUcmFja1JlY2VpdmVyLCBvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbW90ZURhdGFUcmFjayk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmVtb3RlRGF0YVRyYWNrLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmVtb3RlRGF0YVRyYWNrKSkuY2FsbCh0aGlzLCBkYXRhVHJhY2tSZWNlaXZlci5pZCwgJ2RhdGEnLCBvcHRpb25zKSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgX2lzU3Vic2NyaWJlZDoge1xuICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBfc2lkOiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGlzRW5hYmxlZDoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG1heFBhY2tldExpZmVUaW1lOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBkYXRhVHJhY2tSZWNlaXZlci5tYXhQYWNrZXRMaWZlVGltZVxuICAgICAgfSxcbiAgICAgIG1heFJldHJhbnNtaXRzOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBkYXRhVHJhY2tSZWNlaXZlci5tYXhSZXRyYW5zbWl0c1xuICAgICAgfSxcbiAgICAgIG9yZGVyZWQ6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGRhdGFUcmFja1JlY2VpdmVyLm9yZGVyZWRcbiAgICAgIH0sXG4gICAgICByZWxpYWJsZToge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogZGF0YVRyYWNrUmVjZWl2ZXIubWF4UGFja2V0TGlmZVRpbWUgPT09IG51bGwgJiYgZGF0YVRyYWNrUmVjZWl2ZXIubWF4UmV0cmFuc21pdHMgPT09IG51bGxcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRlcHJlY2F0ZUV2ZW50cygnUmVtb3RlRGF0YVRyYWNrJywgX3RoaXMsIG5ldyBNYXAoW1sndW5zdWJzY3JpYmVkJywgbnVsbF1dKSwgX3RoaXMuX2xvZyk7XG5cbiAgICBkYXRhVHJhY2tSZWNlaXZlci5vbignbWVzc2FnZScsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBfdGhpcy5lbWl0KCdtZXNzYWdlJywgZGF0YSwgX3RoaXMpO1xuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUge0BsaW5rIFJlbW90ZURhdGFUcmFja30ncyBJRC5cbiAgICogQHByb3BlcnR5IHtUcmFjay5JRH1cbiAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBwYXJlbnQge0BsaW5rIFJlbW90ZVRyYWNrUHVibGljYXRpb259J3MgLnRyYWNrTmFtZVxuICAgKiAgIG9yIC50cmFja1NpZCBpbnN0ZWFkXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFJlbW90ZURhdGFUcmFjaywgW3tcbiAgICBrZXk6ICdfc2V0RW5hYmxlZCcsXG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRFbmFibGVkKCkge31cbiAgICAvLyBEbyBub3RoaW5nLlxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VHJhY2suU0lEfSBzaWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX3NldFNpZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRTaWQoc2lkKSB7XG4gICAgICBpZiAoIXRoaXMuX3NpZCkge1xuICAgICAgICB0aGlzLl9zaWQgPSBzaWQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX3Vuc3Vic2NyaWJlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3Vuc3Vic2NyaWJlKCkge1xuICAgICAgaWYgKHRoaXMuX2lzU3Vic2NyaWJlZCkge1xuICAgICAgICB0aGlzLl9pc1N1YnNjcmliZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbWl0KCd1bnN1YnNjcmliZWQnLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpZCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB0aGlzLl9sb2cuZGVwcmVjYXRlZCgnUmVtb3RlRGF0YVRyYWNrI2lkIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIGlzICcgKyAnc2NoZWR1bGVkIGZvciByZW1vdmFsIGluIHR3aWxpby12aWRlby5qc0AyLjAuMC4gVXNlIHRoZSBwYXJlbnQgJyArICdSZW1vdGVUcmFja1B1YmxpY2F0aW9uXFwncyAudHJhY2tOYW1lIG9yIC50cmFja1NpZCBpbnN0ZWFkLicpO1xuICAgICAgcmV0dXJuIHRoaXMuX2lkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHtAbGluayBSZW1vdGVEYXRhVHJhY2t9IGlzIHN1YnNjcmliZWQgdG9cbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59XG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHRoZSBwYXJlbnQge0BsaW5rIFJlbW90ZVRyYWNrUHVibGljYXRpb259J3MgLmlzU3Vic2NyaWJlZFxuICAgICAqICAgaW5zdGVhZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdpc1N1YnNjcmliZWQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdGhpcy5fbG9nLmRlcHJlY2F0ZWQoJ1JlbW90ZURhdGFUcmFjayNpc1N1YnNjcmliZWQgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgaXMgJyArICdzY2hlZHVsZWQgZm9yIHJlbW92YWwgaW4gdHdpbGlvLXZpZGVvLmpzQDIuMC4wLiBVc2UgdGhlICcgKyAncGFyZW50IFJlbW90ZVRyYWNrUHVibGljYXRpb25cXCdzIC5pc1N1YnNjcmliZWQgaW5zdGVhZC4nKTtcbiAgICAgIHJldHVybiB0aGlzLl9pc1N1YnNjcmliZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIFNJRCBhc3NpZ25lZCB0byB0aGUge0BsaW5rIFJlbW90ZU1lZGlhVHJhY2t9XG4gICAgICogQHByb3BlcnR5IHtUcmFjay5TSUR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NpZCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2lkO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZW1vdGVEYXRhVHJhY2s7XG59KFRyYWNrKTtcblxuLyoqXG4gKiBBIG1lc3NhZ2Ugd2FzIHJlY2VpdmVkIG92ZXIgdGhlIHtAbGluayBSZW1vdGVEYXRhVHJhY2t9LlxuICogQGV2ZW50IFJlbW90ZURhdGFUcmFjayNtZXNzYWdlXG4gKiBAcGFyYW0ge3N0cmluZ3xBcnJheUJ1ZmZlcn0gZGF0YVxuICogQHBhcmFtIHtSZW1vdGVEYXRhVHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBSZW1vdGVEYXRhVHJhY2t9IHRoYXQgcmVjZWl2ZWRcbiAqICAgdGhlIG1lc3NhZ2VcbiAqL1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgUmVtb3RlRGF0YVRyYWNrfSB3YXMgdW5zdWJzY3JpYmVkIGZyb20uXG4gKiBAZXZlbnQgUmVtb3RlRGF0YVRyYWNrI3Vuc3Vic2NyaWJlZFxuICogQHBhcmFtIHtSZW1vdGVEYXRhVHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBSZW1vdGVEYXRhVHJhY2t9IHRoYXQgd2FzXG4gKiAgIHVuc3Vic2NyaWJlZCBmcm9tXG4gKiBAZGVwcmVjYXRlZCBVc2UgdGhlIHBhcmVudCB7QGxpbmsgUmVtb3RlVHJhY2tQdWJsaWNhdGlvbn0ncyBcInVuc3Vic2NyaWJlZFwiXG4gKiAgIGV2ZW50IGluc3RlYWRcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlbW90ZURhdGFUcmFjaztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L21lZGlhL3RyYWNrL3JlbW90ZWRhdGF0cmFjay5qc1xuLy8gbW9kdWxlIGlkID0gMjg4XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///288\n");

/***/ }),
/* 289 */
/*!*********************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/remotedatatrackpublication.js ***!
  \*********************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RemoteTrackPublication = __webpack_require__(/*! ./remotetrackpublication */ 226);\n\n/**\n * A {@link RemoteDataTrackPublication} represents a {@link RemoteDataTrack}\n * that has been published to a {@link Room}.\n * @property {Track.Kind} kind - \"data\"\n * @property {?RemoteDataTrack} track - unless you have subscribed to the\n *   {@link RemoteDataTrack}, this property is null\n * @emits RemoteDataTrackPublication#subscribed\n * @emits RemoteDataTrackPublication#unsubscribed\n */\n\nvar RemoteDataTrackPublication = function (_RemoteTrackPublicati) {\n  _inherits(RemoteDataTrackPublication, _RemoteTrackPublicati);\n\n  /**\n   * Construct a {@link RemoteDataTrackPublication}.\n   * @param {RemoteTrackPublicationSignaling} signaling - {@link RemoteTrackPublication} signaling\n   * @param {RemoteTrackPublicationOptions} options - {@link RemoteTrackPublication}\n   *   options\n   */\n  function RemoteDataTrackPublication(signaling, options) {\n    _classCallCheck(this, RemoteDataTrackPublication);\n\n    return _possibleConstructorReturn(this, (RemoteDataTrackPublication.__proto__ || Object.getPrototypeOf(RemoteDataTrackPublication)).call(this, signaling, options));\n  }\n\n  _createClass(RemoteDataTrackPublication, [{\n    key: 'toString',\n    value: function toString() {\n      return '[RemoteDataTrackPublication #' + this._instanceId + ': ' + this.trackSid + ']';\n    }\n  }]);\n\n  return RemoteDataTrackPublication;\n}(RemoteTrackPublication);\n\n/**\n * Your {@link LocalParticipant} subscribed to the {@link RemoteDataTrack}.\n * @param {RemoteDataTrack} track - the {@link RemoteDataTrack} that was subscribed to\n * @event RemoteDataTrackPublication#subscribed\n */\n\n/**\n * Your {@link LocalParticipant} unsubscribed from the {@link RemoteDataTrack}.\n * @param {RemoteDataTrack} track - the {@link RemoteDataTrack} that was unsubscribed from\n * @event RemoteDataTrackPublication#unsubscribed\n */\n\nmodule.exports = RemoteDataTrackPublication;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9yZW1vdGVkYXRhdHJhY2twdWJsaWNhdGlvbi5qcz8wYTFhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLDZCQUE2QixtQkFBTyxDQUFDLG1DQUEwQjs7QUFFL0Q7QUFDQSxNQUFNLGlDQUFpQyxlQUFlO0FBQ3RELGlDQUFpQyxXQUFXO0FBQzVDLGNBQWMsV0FBVztBQUN6QixjQUFjLGlCQUFpQjtBQUMvQixNQUFNLHNCQUFzQjtBQUM1QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixpQ0FBaUM7QUFDbkQsYUFBYSxnQ0FBZ0MsY0FBYyw2QkFBNkI7QUFDeEYsYUFBYSw4QkFBOEIsWUFBWTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLFNBQVMsdUJBQXVCLG9CQUFvQixzQkFBc0I7QUFDMUUsV0FBVyxnQkFBZ0IsY0FBYyxzQkFBc0I7QUFDL0Q7QUFDQTs7QUFFQTtBQUNBLFNBQVMsdUJBQXVCLHdCQUF3QixzQkFBc0I7QUFDOUUsV0FBVyxnQkFBZ0IsY0FBYyxzQkFBc0I7QUFDL0Q7QUFDQTs7QUFFQSIsImZpbGUiOiIyODkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJlbW90ZVRyYWNrUHVibGljYXRpb24gPSByZXF1aXJlKCcuL3JlbW90ZXRyYWNrcHVibGljYXRpb24nKTtcblxuLyoqXG4gKiBBIHtAbGluayBSZW1vdGVEYXRhVHJhY2tQdWJsaWNhdGlvbn0gcmVwcmVzZW50cyBhIHtAbGluayBSZW1vdGVEYXRhVHJhY2t9XG4gKiB0aGF0IGhhcyBiZWVuIHB1Ymxpc2hlZCB0byBhIHtAbGluayBSb29tfS5cbiAqIEBwcm9wZXJ0eSB7VHJhY2suS2luZH0ga2luZCAtIFwiZGF0YVwiXG4gKiBAcHJvcGVydHkgez9SZW1vdGVEYXRhVHJhY2t9IHRyYWNrIC0gdW5sZXNzIHlvdSBoYXZlIHN1YnNjcmliZWQgdG8gdGhlXG4gKiAgIHtAbGluayBSZW1vdGVEYXRhVHJhY2t9LCB0aGlzIHByb3BlcnR5IGlzIG51bGxcbiAqIEBlbWl0cyBSZW1vdGVEYXRhVHJhY2tQdWJsaWNhdGlvbiNzdWJzY3JpYmVkXG4gKiBAZW1pdHMgUmVtb3RlRGF0YVRyYWNrUHVibGljYXRpb24jdW5zdWJzY3JpYmVkXG4gKi9cblxudmFyIFJlbW90ZURhdGFUcmFja1B1YmxpY2F0aW9uID0gZnVuY3Rpb24gKF9SZW1vdGVUcmFja1B1YmxpY2F0aSkge1xuICBfaW5oZXJpdHMoUmVtb3RlRGF0YVRyYWNrUHVibGljYXRpb24sIF9SZW1vdGVUcmFja1B1YmxpY2F0aSk7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBSZW1vdGVEYXRhVHJhY2tQdWJsaWNhdGlvbn0uXG4gICAqIEBwYXJhbSB7UmVtb3RlVHJhY2tQdWJsaWNhdGlvblNpZ25hbGluZ30gc2lnbmFsaW5nIC0ge0BsaW5rIFJlbW90ZVRyYWNrUHVibGljYXRpb259IHNpZ25hbGluZ1xuICAgKiBAcGFyYW0ge1JlbW90ZVRyYWNrUHVibGljYXRpb25PcHRpb25zfSBvcHRpb25zIC0ge0BsaW5rIFJlbW90ZVRyYWNrUHVibGljYXRpb259XG4gICAqICAgb3B0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gUmVtb3RlRGF0YVRyYWNrUHVibGljYXRpb24oc2lnbmFsaW5nLCBvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbW90ZURhdGFUcmFja1B1YmxpY2F0aW9uKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmVtb3RlRGF0YVRyYWNrUHVibGljYXRpb24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSZW1vdGVEYXRhVHJhY2tQdWJsaWNhdGlvbikpLmNhbGwodGhpcywgc2lnbmFsaW5nLCBvcHRpb25zKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUmVtb3RlRGF0YVRyYWNrUHVibGljYXRpb24sIFt7XG4gICAga2V5OiAndG9TdHJpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiAnW1JlbW90ZURhdGFUcmFja1B1YmxpY2F0aW9uICMnICsgdGhpcy5faW5zdGFuY2VJZCArICc6ICcgKyB0aGlzLnRyYWNrU2lkICsgJ10nO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZW1vdGVEYXRhVHJhY2tQdWJsaWNhdGlvbjtcbn0oUmVtb3RlVHJhY2tQdWJsaWNhdGlvbik7XG5cbi8qKlxuICogWW91ciB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH0gc3Vic2NyaWJlZCB0byB0aGUge0BsaW5rIFJlbW90ZURhdGFUcmFja30uXG4gKiBAcGFyYW0ge1JlbW90ZURhdGFUcmFja30gdHJhY2sgLSB0aGUge0BsaW5rIFJlbW90ZURhdGFUcmFja30gdGhhdCB3YXMgc3Vic2NyaWJlZCB0b1xuICogQGV2ZW50IFJlbW90ZURhdGFUcmFja1B1YmxpY2F0aW9uI3N1YnNjcmliZWRcbiAqL1xuXG4vKipcbiAqIFlvdXIge0BsaW5rIExvY2FsUGFydGljaXBhbnR9IHVuc3Vic2NyaWJlZCBmcm9tIHRoZSB7QGxpbmsgUmVtb3RlRGF0YVRyYWNrfS5cbiAqIEBwYXJhbSB7UmVtb3RlRGF0YVRyYWNrfSB0cmFjayAtIHRoZSB7QGxpbmsgUmVtb3RlRGF0YVRyYWNrfSB0aGF0IHdhcyB1bnN1YnNjcmliZWQgZnJvbVxuICogQGV2ZW50IFJlbW90ZURhdGFUcmFja1B1YmxpY2F0aW9uI3Vuc3Vic2NyaWJlZFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVtb3RlRGF0YVRyYWNrUHVibGljYXRpb247XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9yZW1vdGVkYXRhdHJhY2twdWJsaWNhdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gMjg5XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///289\n");

/***/ }),
/* 290 */
/*!***********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/remotevideotrack.js ***!
  \***********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar mixinRemoteMediaTrack = __webpack_require__(/*! ./remotemediatrack */ 244);\nvar VideoTrack = __webpack_require__(/*! ./videotrack */ 241);\n\nvar RemoteMediaVideoTrack = mixinRemoteMediaTrack(VideoTrack);\n\n/**\n * A {@link RemoteVideoTrack} represents a {@link VideoTrack} published to a\n * {@link Room} by a {@link RemoteParticipant}.\n * @extends VideoTrack\n * @property {boolean} isSubscribed - Whether the {@link RemoteVideoTrack} is\n *   currently subscribed to\n * @property {Track.SID} sid - The {@link RemoteVideoTrack}'s SID\n * @emits RemoteVideoTrack#dimensionsChanged\n * @emits RemoteVideoTrack#disabled\n * @emits RemoteVideoTrack#enabled\n * @emits RemoteVideoTrack#started\n * @emits RemoteVideoTrack#unsubscribed\n */\n\nvar RemoteVideoTrack = function (_RemoteMediaVideoTrac) {\n  _inherits(RemoteVideoTrack, _RemoteMediaVideoTrac);\n\n  /**\n   * Construct a {@link RemoteVideoTrack}.\n   * @param {MediaTrackReceiver} mediaTrackReceiver - A video MediaStreamTrack container\n   * @param {boolean} isEnabled - whether the {@link RemoteAudioTrack} is enabled\n   * @param {{log: Log}} options - The {@link RemoteTrack} options\n   */\n  function RemoteVideoTrack(mediaTrackReceiver, isEnabled, options) {\n    _classCallCheck(this, RemoteVideoTrack);\n\n    return _possibleConstructorReturn(this, (RemoteVideoTrack.__proto__ || Object.getPrototypeOf(RemoteVideoTrack)).call(this, mediaTrackReceiver, isEnabled, options));\n  }\n\n  _createClass(RemoteVideoTrack, [{\n    key: 'toString',\n    value: function toString() {\n      return '[RemoteVideoTrack #' + this._instanceId + ': ' + this.sid + ']';\n    }\n  }]);\n\n  return RemoteVideoTrack;\n}(RemoteMediaVideoTrack);\n\n/**\n * The {@link RemoteVideoTrack}'s dimensions changed.\n * @param {RemoteVideoTrack} track - The {@link RemoteVideoTrack} whose\n *   dimensions changed\n * @event RemoteVideoTrack#dimensionsChanged\n */\n\n/**\n * The {@link RemoteVideoTrack} was disabled, i.e. \"paused\".\n * @param {RemoteVideoTrack} track - The {@link RemoteVideoTrack} that was\n *   disabled\n * @event RemoteVideoTrack#disabled\n */\n\n/**\n * The {@link RemoteVideoTrack} was enabled, i.e. \"unpaused\".\n * @param {RemoteVideoTrack} track - The {@link RemoteVideoTrack} that was\n *   enabled\n * @event RemoteVideoTrack#enabled\n */\n\n/**\n * The {@link RemoteVideoTrack} was unsubscribed from.\n * @param {RemoteVideoTrack} track - The {@link RemoteVideoTrack} that was\n *   unsubscribed from\n * @event RemoteVideoTrack#unsubscribed\n * @deprecated Use the parent {@link RemoteVideoTrackPublication}'s\n *   \"unsubscribed\" event instead\n */\n\nmodule.exports = RemoteVideoTrack;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9yZW1vdGV2aWRlb3RyYWNrLmpzP2YzNTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsNEJBQTRCLG1CQUFPLENBQUMsNkJBQW9CO0FBQ3hELGlCQUFpQixtQkFBTyxDQUFDLHVCQUFjOztBQUV2Qzs7QUFFQTtBQUNBLE1BQU0sdUJBQXVCLGVBQWUsaUJBQWlCO0FBQzdELElBQUksV0FBVyxPQUFPLHdCQUF3QjtBQUM5QztBQUNBLGNBQWMsUUFBUSw2QkFBNkIsdUJBQXVCO0FBQzFFO0FBQ0EsY0FBYyxVQUFVLFlBQVksdUJBQXVCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHVCQUF1QjtBQUN6QyxhQUFhLG1CQUFtQjtBQUNoQyxhQUFhLFFBQVEsMEJBQTBCLHVCQUF1QjtBQUN0RSxjQUFjLFVBQVUsZ0JBQWdCLGtCQUFrQjtBQUMxRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQixXQUFXLGlCQUFpQixjQUFjLHVCQUF1QjtBQUNqRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQixXQUFXLGlCQUFpQixjQUFjLHVCQUF1QjtBQUNqRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQixXQUFXLGlCQUFpQixjQUFjLHVCQUF1QjtBQUNqRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQixXQUFXLGlCQUFpQixjQUFjLHVCQUF1QjtBQUNqRTtBQUNBO0FBQ0EsK0JBQStCLGtDQUFrQztBQUNqRTtBQUNBOztBQUVBIiwiZmlsZSI6IjI5MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgbWl4aW5SZW1vdGVNZWRpYVRyYWNrID0gcmVxdWlyZSgnLi9yZW1vdGVtZWRpYXRyYWNrJyk7XG52YXIgVmlkZW9UcmFjayA9IHJlcXVpcmUoJy4vdmlkZW90cmFjaycpO1xuXG52YXIgUmVtb3RlTWVkaWFWaWRlb1RyYWNrID0gbWl4aW5SZW1vdGVNZWRpYVRyYWNrKFZpZGVvVHJhY2spO1xuXG4vKipcbiAqIEEge0BsaW5rIFJlbW90ZVZpZGVvVHJhY2t9IHJlcHJlc2VudHMgYSB7QGxpbmsgVmlkZW9UcmFja30gcHVibGlzaGVkIHRvIGFcbiAqIHtAbGluayBSb29tfSBieSBhIHtAbGluayBSZW1vdGVQYXJ0aWNpcGFudH0uXG4gKiBAZXh0ZW5kcyBWaWRlb1RyYWNrXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGlzU3Vic2NyaWJlZCAtIFdoZXRoZXIgdGhlIHtAbGluayBSZW1vdGVWaWRlb1RyYWNrfSBpc1xuICogICBjdXJyZW50bHkgc3Vic2NyaWJlZCB0b1xuICogQHByb3BlcnR5IHtUcmFjay5TSUR9IHNpZCAtIFRoZSB7QGxpbmsgUmVtb3RlVmlkZW9UcmFja30ncyBTSURcbiAqIEBlbWl0cyBSZW1vdGVWaWRlb1RyYWNrI2RpbWVuc2lvbnNDaGFuZ2VkXG4gKiBAZW1pdHMgUmVtb3RlVmlkZW9UcmFjayNkaXNhYmxlZFxuICogQGVtaXRzIFJlbW90ZVZpZGVvVHJhY2sjZW5hYmxlZFxuICogQGVtaXRzIFJlbW90ZVZpZGVvVHJhY2sjc3RhcnRlZFxuICogQGVtaXRzIFJlbW90ZVZpZGVvVHJhY2sjdW5zdWJzY3JpYmVkXG4gKi9cblxudmFyIFJlbW90ZVZpZGVvVHJhY2sgPSBmdW5jdGlvbiAoX1JlbW90ZU1lZGlhVmlkZW9UcmFjKSB7XG4gIF9pbmhlcml0cyhSZW1vdGVWaWRlb1RyYWNrLCBfUmVtb3RlTWVkaWFWaWRlb1RyYWMpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgUmVtb3RlVmlkZW9UcmFja30uXG4gICAqIEBwYXJhbSB7TWVkaWFUcmFja1JlY2VpdmVyfSBtZWRpYVRyYWNrUmVjZWl2ZXIgLSBBIHZpZGVvIE1lZGlhU3RyZWFtVHJhY2sgY29udGFpbmVyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNFbmFibGVkIC0gd2hldGhlciB0aGUge0BsaW5rIFJlbW90ZUF1ZGlvVHJhY2t9IGlzIGVuYWJsZWRcbiAgICogQHBhcmFtIHt7bG9nOiBMb2d9fSBvcHRpb25zIC0gVGhlIHtAbGluayBSZW1vdGVUcmFja30gb3B0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gUmVtb3RlVmlkZW9UcmFjayhtZWRpYVRyYWNrUmVjZWl2ZXIsIGlzRW5hYmxlZCwgb3B0aW9ucykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZW1vdGVWaWRlb1RyYWNrKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmVtb3RlVmlkZW9UcmFjay5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJlbW90ZVZpZGVvVHJhY2spKS5jYWxsKHRoaXMsIG1lZGlhVHJhY2tSZWNlaXZlciwgaXNFbmFibGVkLCBvcHRpb25zKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUmVtb3RlVmlkZW9UcmFjaywgW3tcbiAgICBrZXk6ICd0b1N0cmluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuICdbUmVtb3RlVmlkZW9UcmFjayAjJyArIHRoaXMuX2luc3RhbmNlSWQgKyAnOiAnICsgdGhpcy5zaWQgKyAnXSc7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlbW90ZVZpZGVvVHJhY2s7XG59KFJlbW90ZU1lZGlhVmlkZW9UcmFjayk7XG5cbi8qKlxuICogVGhlIHtAbGluayBSZW1vdGVWaWRlb1RyYWNrfSdzIGRpbWVuc2lvbnMgY2hhbmdlZC5cbiAqIEBwYXJhbSB7UmVtb3RlVmlkZW9UcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIFJlbW90ZVZpZGVvVHJhY2t9IHdob3NlXG4gKiAgIGRpbWVuc2lvbnMgY2hhbmdlZFxuICogQGV2ZW50IFJlbW90ZVZpZGVvVHJhY2sjZGltZW5zaW9uc0NoYW5nZWRcbiAqL1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgUmVtb3RlVmlkZW9UcmFja30gd2FzIGRpc2FibGVkLCBpLmUuIFwicGF1c2VkXCIuXG4gKiBAcGFyYW0ge1JlbW90ZVZpZGVvVHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBSZW1vdGVWaWRlb1RyYWNrfSB0aGF0IHdhc1xuICogICBkaXNhYmxlZFxuICogQGV2ZW50IFJlbW90ZVZpZGVvVHJhY2sjZGlzYWJsZWRcbiAqL1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgUmVtb3RlVmlkZW9UcmFja30gd2FzIGVuYWJsZWQsIGkuZS4gXCJ1bnBhdXNlZFwiLlxuICogQHBhcmFtIHtSZW1vdGVWaWRlb1RyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgUmVtb3RlVmlkZW9UcmFja30gdGhhdCB3YXNcbiAqICAgZW5hYmxlZFxuICogQGV2ZW50IFJlbW90ZVZpZGVvVHJhY2sjZW5hYmxlZFxuICovXG5cbi8qKlxuICogVGhlIHtAbGluayBSZW1vdGVWaWRlb1RyYWNrfSB3YXMgdW5zdWJzY3JpYmVkIGZyb20uXG4gKiBAcGFyYW0ge1JlbW90ZVZpZGVvVHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBSZW1vdGVWaWRlb1RyYWNrfSB0aGF0IHdhc1xuICogICB1bnN1YnNjcmliZWQgZnJvbVxuICogQGV2ZW50IFJlbW90ZVZpZGVvVHJhY2sjdW5zdWJzY3JpYmVkXG4gKiBAZGVwcmVjYXRlZCBVc2UgdGhlIHBhcmVudCB7QGxpbmsgUmVtb3RlVmlkZW9UcmFja1B1YmxpY2F0aW9ufSdzXG4gKiAgIFwidW5zdWJzY3JpYmVkXCIgZXZlbnQgaW5zdGVhZFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gUmVtb3RlVmlkZW9UcmFjaztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L21lZGlhL3RyYWNrL3JlbW90ZXZpZGVvdHJhY2suanNcbi8vIG1vZHVsZSBpZCA9IDI5MFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///290\n");

/***/ }),
/* 291 */
/*!**********************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/remotevideotrackpublication.js ***!
  \**********************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RemoteTrackPublication = __webpack_require__(/*! ./remotetrackpublication */ 226);\n\n/**\n * A {@link RemoteVideoTrackPublication} represents a {@link RemoteVideoTrack}\n * that has been published to a {@link Room}.\n * @property {Track.Kind} kind - \"video\"\n * @property {?RemoteVideoTrack} track - unless you have subscribed to the\n *   {@link RemoteVideoTrack}, this property is null\n * @emits RemoteVideoTrackPublication#subscribed\n * @emits RemoteVideoTrackPublication#trackDisabled\n * @emits RemoteVideoTrackPublication#trackEnabled\n * @emits RemoteVideoTrackPublication#unsubscribed\n */\n\nvar RemoteVideoTrackPublication = function (_RemoteTrackPublicati) {\n  _inherits(RemoteVideoTrackPublication, _RemoteTrackPublicati);\n\n  /**\n   * Construct a {@link RemoteVideoTrackPublication}.\n   * @param {RemoteTrackPublicationSignaling} signaling - {@link RemoteTrackPublication} signaling\n   * @param {RemoteTrackPublicationOptions} options - {@link RemoteTrackPublication}\n   *   options\n   */\n  function RemoteVideoTrackPublication(signaling, options) {\n    _classCallCheck(this, RemoteVideoTrackPublication);\n\n    return _possibleConstructorReturn(this, (RemoteVideoTrackPublication.__proto__ || Object.getPrototypeOf(RemoteVideoTrackPublication)).call(this, signaling, options));\n  }\n\n  _createClass(RemoteVideoTrackPublication, [{\n    key: 'toString',\n    value: function toString() {\n      return '[RemoteVideoTrackPublication #' + this._instanceId + ': ' + this.trackSid + ']';\n    }\n  }]);\n\n  return RemoteVideoTrackPublication;\n}(RemoteTrackPublication);\n\n/**\n * Your {@link LocalParticipant} subscribed to the {@link RemoteVideoTrack}.\n * @param {RemoteVideoTrack} track - the {@link RemoteVideoTrack} that was subscribed to\n * @event RemoteVideoTrackPublication#subscribed\n */\n\n/**\n * The {@link RemoteVideoTrack} was disabled.\n * @event RemoteVideoTrackPublication#trackDisabled\n */\n\n/**\n * The {@link RemoteVideoTrack} was enabled.\n * @event RemoteVideoTrackPublication#trackEnabled\n */\n\n/**\n * Your {@link LocalParticipant} unsubscribed from the {@link RemoteVideoTrack}.\n * @param {RemoteVideoTrack} track - the {@link RemoteVideoTrack} that was unsubscribed from\n * @event RemoteVideoTrackPublication#unsubscribed\n */\n\nmodule.exports = RemoteVideoTrackPublication;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9yZW1vdGV2aWRlb3RyYWNrcHVibGljYXRpb24uanM/MDU1NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSw2QkFBNkIsbUJBQU8sQ0FBQyxtQ0FBMEI7O0FBRS9EO0FBQ0EsTUFBTSxrQ0FBa0MsZUFBZTtBQUN2RCxpQ0FBaUMsV0FBVztBQUM1QyxjQUFjLFdBQVc7QUFDekIsY0FBYyxrQkFBa0I7QUFDaEMsTUFBTSx1QkFBdUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLGtDQUFrQztBQUNwRCxhQUFhLGdDQUFnQyxjQUFjLDZCQUE2QjtBQUN4RixhQUFhLDhCQUE4QixZQUFZO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0EsU0FBUyx1QkFBdUIsb0JBQW9CLHVCQUF1QjtBQUMzRSxXQUFXLGlCQUFpQixjQUFjLHVCQUF1QjtBQUNqRTtBQUNBOztBQUVBO0FBQ0EsUUFBUSx1QkFBdUI7QUFDL0I7QUFDQTs7QUFFQTtBQUNBLFFBQVEsdUJBQXVCO0FBQy9CO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLHVCQUF1Qix3QkFBd0IsdUJBQXVCO0FBQy9FLFdBQVcsaUJBQWlCLGNBQWMsdUJBQXVCO0FBQ2pFO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMjkxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSZW1vdGVUcmFja1B1YmxpY2F0aW9uID0gcmVxdWlyZSgnLi9yZW1vdGV0cmFja3B1YmxpY2F0aW9uJyk7XG5cbi8qKlxuICogQSB7QGxpbmsgUmVtb3RlVmlkZW9UcmFja1B1YmxpY2F0aW9ufSByZXByZXNlbnRzIGEge0BsaW5rIFJlbW90ZVZpZGVvVHJhY2t9XG4gKiB0aGF0IGhhcyBiZWVuIHB1Ymxpc2hlZCB0byBhIHtAbGluayBSb29tfS5cbiAqIEBwcm9wZXJ0eSB7VHJhY2suS2luZH0ga2luZCAtIFwidmlkZW9cIlxuICogQHByb3BlcnR5IHs/UmVtb3RlVmlkZW9UcmFja30gdHJhY2sgLSB1bmxlc3MgeW91IGhhdmUgc3Vic2NyaWJlZCB0byB0aGVcbiAqICAge0BsaW5rIFJlbW90ZVZpZGVvVHJhY2t9LCB0aGlzIHByb3BlcnR5IGlzIG51bGxcbiAqIEBlbWl0cyBSZW1vdGVWaWRlb1RyYWNrUHVibGljYXRpb24jc3Vic2NyaWJlZFxuICogQGVtaXRzIFJlbW90ZVZpZGVvVHJhY2tQdWJsaWNhdGlvbiN0cmFja0Rpc2FibGVkXG4gKiBAZW1pdHMgUmVtb3RlVmlkZW9UcmFja1B1YmxpY2F0aW9uI3RyYWNrRW5hYmxlZFxuICogQGVtaXRzIFJlbW90ZVZpZGVvVHJhY2tQdWJsaWNhdGlvbiN1bnN1YnNjcmliZWRcbiAqL1xuXG52YXIgUmVtb3RlVmlkZW9UcmFja1B1YmxpY2F0aW9uID0gZnVuY3Rpb24gKF9SZW1vdGVUcmFja1B1YmxpY2F0aSkge1xuICBfaW5oZXJpdHMoUmVtb3RlVmlkZW9UcmFja1B1YmxpY2F0aW9uLCBfUmVtb3RlVHJhY2tQdWJsaWNhdGkpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgUmVtb3RlVmlkZW9UcmFja1B1YmxpY2F0aW9ufS5cbiAgICogQHBhcmFtIHtSZW1vdGVUcmFja1B1YmxpY2F0aW9uU2lnbmFsaW5nfSBzaWduYWxpbmcgLSB7QGxpbmsgUmVtb3RlVHJhY2tQdWJsaWNhdGlvbn0gc2lnbmFsaW5nXG4gICAqIEBwYXJhbSB7UmVtb3RlVHJhY2tQdWJsaWNhdGlvbk9wdGlvbnN9IG9wdGlvbnMgLSB7QGxpbmsgUmVtb3RlVHJhY2tQdWJsaWNhdGlvbn1cbiAgICogICBvcHRpb25zXG4gICAqL1xuICBmdW5jdGlvbiBSZW1vdGVWaWRlb1RyYWNrUHVibGljYXRpb24oc2lnbmFsaW5nLCBvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbW90ZVZpZGVvVHJhY2tQdWJsaWNhdGlvbik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJlbW90ZVZpZGVvVHJhY2tQdWJsaWNhdGlvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJlbW90ZVZpZGVvVHJhY2tQdWJsaWNhdGlvbikpLmNhbGwodGhpcywgc2lnbmFsaW5nLCBvcHRpb25zKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUmVtb3RlVmlkZW9UcmFja1B1YmxpY2F0aW9uLCBbe1xuICAgIGtleTogJ3RvU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJ1tSZW1vdGVWaWRlb1RyYWNrUHVibGljYXRpb24gIycgKyB0aGlzLl9pbnN0YW5jZUlkICsgJzogJyArIHRoaXMudHJhY2tTaWQgKyAnXSc7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlbW90ZVZpZGVvVHJhY2tQdWJsaWNhdGlvbjtcbn0oUmVtb3RlVHJhY2tQdWJsaWNhdGlvbik7XG5cbi8qKlxuICogWW91ciB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH0gc3Vic2NyaWJlZCB0byB0aGUge0BsaW5rIFJlbW90ZVZpZGVvVHJhY2t9LlxuICogQHBhcmFtIHtSZW1vdGVWaWRlb1RyYWNrfSB0cmFjayAtIHRoZSB7QGxpbmsgUmVtb3RlVmlkZW9UcmFja30gdGhhdCB3YXMgc3Vic2NyaWJlZCB0b1xuICogQGV2ZW50IFJlbW90ZVZpZGVvVHJhY2tQdWJsaWNhdGlvbiNzdWJzY3JpYmVkXG4gKi9cblxuLyoqXG4gKiBUaGUge0BsaW5rIFJlbW90ZVZpZGVvVHJhY2t9IHdhcyBkaXNhYmxlZC5cbiAqIEBldmVudCBSZW1vdGVWaWRlb1RyYWNrUHVibGljYXRpb24jdHJhY2tEaXNhYmxlZFxuICovXG5cbi8qKlxuICogVGhlIHtAbGluayBSZW1vdGVWaWRlb1RyYWNrfSB3YXMgZW5hYmxlZC5cbiAqIEBldmVudCBSZW1vdGVWaWRlb1RyYWNrUHVibGljYXRpb24jdHJhY2tFbmFibGVkXG4gKi9cblxuLyoqXG4gKiBZb3VyIHtAbGluayBMb2NhbFBhcnRpY2lwYW50fSB1bnN1YnNjcmliZWQgZnJvbSB0aGUge0BsaW5rIFJlbW90ZVZpZGVvVHJhY2t9LlxuICogQHBhcmFtIHtSZW1vdGVWaWRlb1RyYWNrfSB0cmFjayAtIHRoZSB7QGxpbmsgUmVtb3RlVmlkZW9UcmFja30gdGhhdCB3YXMgdW5zdWJzY3JpYmVkIGZyb21cbiAqIEBldmVudCBSZW1vdGVWaWRlb1RyYWNrUHVibGljYXRpb24jdW5zdWJzY3JpYmVkXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZW1vdGVWaWRlb1RyYWNrUHVibGljYXRpb247XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9yZW1vdGV2aWRlb3RyYWNrcHVibGljYXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDI5MVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///291\n");

/***/ }),
/* 292 */
/*!*********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/localaudiotrackstats.js ***!
  \*********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LocalTrackStats = __webpack_require__(/*! ./localtrackstats */ 247);\n\n/**\n * Statistics for a {@link LocalAudioTrack}.\n * @extends LocalTrackStats\n * @property {?AudioLevel} audioLevel - Input {@link AudioLevel}\n * @property {?number} jitter - Audio jitter in milliseconds\n */\n\nvar LocalAudioTrackStats = function (_LocalTrackStats) {\n  _inherits(LocalAudioTrackStats, _LocalTrackStats);\n\n  /**\n   * @param {string} trackId - {@link LocalAudioTrack} ID\n   * @param {StandardizedTrackStatsReport} statsReport\n   */\n  function LocalAudioTrackStats(trackId, statsReport) {\n    _classCallCheck(this, LocalAudioTrackStats);\n\n    var _this = _possibleConstructorReturn(this, (LocalAudioTrackStats.__proto__ || Object.getPrototypeOf(LocalAudioTrackStats)).call(this, trackId, statsReport));\n\n    Object.defineProperties(_this, {\n      audioLevel: {\n        value: typeof statsReport.audioInputLevel === 'number' ? statsReport.audioInputLevel : null,\n        enumerable: true\n      },\n      jitter: {\n        value: typeof statsReport.jitter === 'number' ? statsReport.jitter : null,\n        enumerable: true\n      }\n    });\n    return _this;\n  }\n\n  return LocalAudioTrackStats;\n}(LocalTrackStats);\n\n/**\n * The maximum absolute amplitude of a set of audio samples in the\n * range of 0 to 32767 inclusive.\n * @typedef {number} AudioLevel\n */\n\nmodule.exports = LocalAudioTrackStats;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9sb2NhbGF1ZGlvdHJhY2tzdGF0cy5qcz9lOTNjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsc0JBQXNCLG1CQUFPLENBQUMsNEJBQW1COztBQUVqRDtBQUNBLHFCQUFxQixzQkFBc0I7QUFDM0M7QUFDQSxjQUFjLFlBQVkscUJBQXFCO0FBQy9DLGNBQWMsUUFBUTtBQUN0Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSxPQUFPLFlBQVksc0JBQXNCO0FBQ3RELGFBQWEsNkJBQTZCO0FBQzFDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7O0FBRUEiLCJmaWxlIjoiMjkyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBMb2NhbFRyYWNrU3RhdHMgPSByZXF1aXJlKCcuL2xvY2FsdHJhY2tzdGF0cycpO1xuXG4vKipcbiAqIFN0YXRpc3RpY3MgZm9yIGEge0BsaW5rIExvY2FsQXVkaW9UcmFja30uXG4gKiBAZXh0ZW5kcyBMb2NhbFRyYWNrU3RhdHNcbiAqIEBwcm9wZXJ0eSB7P0F1ZGlvTGV2ZWx9IGF1ZGlvTGV2ZWwgLSBJbnB1dCB7QGxpbmsgQXVkaW9MZXZlbH1cbiAqIEBwcm9wZXJ0eSB7P251bWJlcn0gaml0dGVyIC0gQXVkaW8gaml0dGVyIGluIG1pbGxpc2Vjb25kc1xuICovXG5cbnZhciBMb2NhbEF1ZGlvVHJhY2tTdGF0cyA9IGZ1bmN0aW9uIChfTG9jYWxUcmFja1N0YXRzKSB7XG4gIF9pbmhlcml0cyhMb2NhbEF1ZGlvVHJhY2tTdGF0cywgX0xvY2FsVHJhY2tTdGF0cyk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFja0lkIC0ge0BsaW5rIExvY2FsQXVkaW9UcmFja30gSURcbiAgICogQHBhcmFtIHtTdGFuZGFyZGl6ZWRUcmFja1N0YXRzUmVwb3J0fSBzdGF0c1JlcG9ydFxuICAgKi9cbiAgZnVuY3Rpb24gTG9jYWxBdWRpb1RyYWNrU3RhdHModHJhY2tJZCwgc3RhdHNSZXBvcnQpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9jYWxBdWRpb1RyYWNrU3RhdHMpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKExvY2FsQXVkaW9UcmFja1N0YXRzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTG9jYWxBdWRpb1RyYWNrU3RhdHMpKS5jYWxsKHRoaXMsIHRyYWNrSWQsIHN0YXRzUmVwb3J0KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgYXVkaW9MZXZlbDoge1xuICAgICAgICB2YWx1ZTogdHlwZW9mIHN0YXRzUmVwb3J0LmF1ZGlvSW5wdXRMZXZlbCA9PT0gJ251bWJlcicgPyBzdGF0c1JlcG9ydC5hdWRpb0lucHV0TGV2ZWwgOiBudWxsLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICB9LFxuICAgICAgaml0dGVyOiB7XG4gICAgICAgIHZhbHVlOiB0eXBlb2Ygc3RhdHNSZXBvcnQuaml0dGVyID09PSAnbnVtYmVyJyA/IHN0YXRzUmVwb3J0LmppdHRlciA6IG51bGwsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICByZXR1cm4gTG9jYWxBdWRpb1RyYWNrU3RhdHM7XG59KExvY2FsVHJhY2tTdGF0cyk7XG5cbi8qKlxuICogVGhlIG1heGltdW0gYWJzb2x1dGUgYW1wbGl0dWRlIG9mIGEgc2V0IG9mIGF1ZGlvIHNhbXBsZXMgaW4gdGhlXG4gKiByYW5nZSBvZiAwIHRvIDMyNzY3IGluY2x1c2l2ZS5cbiAqIEB0eXBlZGVmIHtudW1iZXJ9IEF1ZGlvTGV2ZWxcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IExvY2FsQXVkaW9UcmFja1N0YXRzO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvc3RhdHMvbG9jYWxhdWRpb3RyYWNrc3RhdHMuanNcbi8vIG1vZHVsZSBpZCA9IDI5MlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///292\n");

/***/ }),
/* 293 */
/*!*********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/localvideotrackstats.js ***!
  \*********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LocalTrackStats = __webpack_require__(/*! ./localtrackstats */ 247);\n\n/**\n * Statistics for a {@link LocalVideoTrack}.\n * @extends LocalTrackStats\n * @property {?VideoTrack#Dimensions} captureDimensions - Video capture resolution\n * @property {?VideoTrack#Dimensions} dimensions - Video encoding resolution\n * @property {?number} captureFrameRate - Video capture frame rate\n * @property {?number} frameRate - Video encoding frame rate\n */\n\nvar LocalVideoTrackStats = function (_LocalTrackStats) {\n  _inherits(LocalVideoTrackStats, _LocalTrackStats);\n\n  /**\n   * @param {string} trackId - {@link LocalVideoTrack} ID\n   * @param {StandardizedTrackStatsReport} statsReport\n   */\n  function LocalVideoTrackStats(trackId, statsReport) {\n    _classCallCheck(this, LocalVideoTrackStats);\n\n    var _this = _possibleConstructorReturn(this, (LocalVideoTrackStats.__proto__ || Object.getPrototypeOf(LocalVideoTrackStats)).call(this, trackId, statsReport));\n\n    var captureDimensions = null;\n    if (typeof statsReport.frameWidthInput === 'number' && typeof statsReport.frameHeightInput === 'number') {\n      captureDimensions = {};\n\n      Object.defineProperties(captureDimensions, {\n        width: {\n          value: statsReport.frameWidthInput,\n          enumerable: true\n        },\n        height: {\n          value: statsReport.frameHeightInput,\n          enumerable: true\n        }\n      });\n    }\n\n    var dimensions = null;\n    if (typeof statsReport.frameWidthSent === 'number' && typeof statsReport.frameHeightSent === 'number') {\n      dimensions = {};\n\n      Object.defineProperties(dimensions, {\n        width: {\n          value: statsReport.frameWidthSent,\n          enumerable: true\n        },\n        height: {\n          value: statsReport.frameHeightSent,\n          enumerable: true\n        }\n      });\n    }\n\n    Object.defineProperties(_this, {\n      captureDimensions: {\n        value: captureDimensions,\n        enumerable: true\n      },\n      dimensions: {\n        value: dimensions,\n        enumerable: true\n      },\n      captureFrameRate: {\n        value: typeof statsReport.frameRateInput === 'number' ? statsReport.frameRateInput : null,\n        enumerable: true\n      },\n      frameRate: {\n        value: typeof statsReport.frameRateSent === 'number' ? statsReport.frameRateSent : null,\n        enumerable: true\n      }\n    });\n    return _this;\n  }\n\n  return LocalVideoTrackStats;\n}(LocalTrackStats);\n\nmodule.exports = LocalVideoTrackStats;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9sb2NhbHZpZGVvdHJhY2tzdGF0cy5qcz85NDk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsc0JBQXNCLG1CQUFPLENBQUMsNEJBQW1COztBQUVqRDtBQUNBLHFCQUFxQixzQkFBc0I7QUFDM0M7QUFDQSxjQUFjLHVCQUF1QjtBQUNyQyxjQUFjLHVCQUF1QjtBQUNyQyxjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLE9BQU8sWUFBWSxzQkFBc0I7QUFDdEQsYUFBYSw2QkFBNkI7QUFDMUM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIyOTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIExvY2FsVHJhY2tTdGF0cyA9IHJlcXVpcmUoJy4vbG9jYWx0cmFja3N0YXRzJyk7XG5cbi8qKlxuICogU3RhdGlzdGljcyBmb3IgYSB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfS5cbiAqIEBleHRlbmRzIExvY2FsVHJhY2tTdGF0c1xuICogQHByb3BlcnR5IHs/VmlkZW9UcmFjayNEaW1lbnNpb25zfSBjYXB0dXJlRGltZW5zaW9ucyAtIFZpZGVvIGNhcHR1cmUgcmVzb2x1dGlvblxuICogQHByb3BlcnR5IHs/VmlkZW9UcmFjayNEaW1lbnNpb25zfSBkaW1lbnNpb25zIC0gVmlkZW8gZW5jb2RpbmcgcmVzb2x1dGlvblxuICogQHByb3BlcnR5IHs/bnVtYmVyfSBjYXB0dXJlRnJhbWVSYXRlIC0gVmlkZW8gY2FwdHVyZSBmcmFtZSByYXRlXG4gKiBAcHJvcGVydHkgez9udW1iZXJ9IGZyYW1lUmF0ZSAtIFZpZGVvIGVuY29kaW5nIGZyYW1lIHJhdGVcbiAqL1xuXG52YXIgTG9jYWxWaWRlb1RyYWNrU3RhdHMgPSBmdW5jdGlvbiAoX0xvY2FsVHJhY2tTdGF0cykge1xuICBfaW5oZXJpdHMoTG9jYWxWaWRlb1RyYWNrU3RhdHMsIF9Mb2NhbFRyYWNrU3RhdHMpO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHJhY2tJZCAtIHtAbGluayBMb2NhbFZpZGVvVHJhY2t9IElEXG4gICAqIEBwYXJhbSB7U3RhbmRhcmRpemVkVHJhY2tTdGF0c1JlcG9ydH0gc3RhdHNSZXBvcnRcbiAgICovXG4gIGZ1bmN0aW9uIExvY2FsVmlkZW9UcmFja1N0YXRzKHRyYWNrSWQsIHN0YXRzUmVwb3J0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvY2FsVmlkZW9UcmFja1N0YXRzKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMb2NhbFZpZGVvVHJhY2tTdGF0cy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKExvY2FsVmlkZW9UcmFja1N0YXRzKSkuY2FsbCh0aGlzLCB0cmFja0lkLCBzdGF0c1JlcG9ydCkpO1xuXG4gICAgdmFyIGNhcHR1cmVEaW1lbnNpb25zID0gbnVsbDtcbiAgICBpZiAodHlwZW9mIHN0YXRzUmVwb3J0LmZyYW1lV2lkdGhJbnB1dCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHN0YXRzUmVwb3J0LmZyYW1lSGVpZ2h0SW5wdXQgPT09ICdudW1iZXInKSB7XG4gICAgICBjYXB0dXJlRGltZW5zaW9ucyA9IHt9O1xuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjYXB0dXJlRGltZW5zaW9ucywge1xuICAgICAgICB3aWR0aDoge1xuICAgICAgICAgIHZhbHVlOiBzdGF0c1JlcG9ydC5mcmFtZVdpZHRoSW5wdXQsXG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBoZWlnaHQ6IHtcbiAgICAgICAgICB2YWx1ZTogc3RhdHNSZXBvcnQuZnJhbWVIZWlnaHRJbnB1dCxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBkaW1lbnNpb25zID0gbnVsbDtcbiAgICBpZiAodHlwZW9mIHN0YXRzUmVwb3J0LmZyYW1lV2lkdGhTZW50ID09PSAnbnVtYmVyJyAmJiB0eXBlb2Ygc3RhdHNSZXBvcnQuZnJhbWVIZWlnaHRTZW50ID09PSAnbnVtYmVyJykge1xuICAgICAgZGltZW5zaW9ucyA9IHt9O1xuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhkaW1lbnNpb25zLCB7XG4gICAgICAgIHdpZHRoOiB7XG4gICAgICAgICAgdmFsdWU6IHN0YXRzUmVwb3J0LmZyYW1lV2lkdGhTZW50LFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgaGVpZ2h0OiB7XG4gICAgICAgICAgdmFsdWU6IHN0YXRzUmVwb3J0LmZyYW1lSGVpZ2h0U2VudCxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBjYXB0dXJlRGltZW5zaW9uczoge1xuICAgICAgICB2YWx1ZTogY2FwdHVyZURpbWVuc2lvbnMsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBkaW1lbnNpb25zOiB7XG4gICAgICAgIHZhbHVlOiBkaW1lbnNpb25zLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICB9LFxuICAgICAgY2FwdHVyZUZyYW1lUmF0ZToge1xuICAgICAgICB2YWx1ZTogdHlwZW9mIHN0YXRzUmVwb3J0LmZyYW1lUmF0ZUlucHV0ID09PSAnbnVtYmVyJyA/IHN0YXRzUmVwb3J0LmZyYW1lUmF0ZUlucHV0IDogbnVsbCxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGZyYW1lUmF0ZToge1xuICAgICAgICB2YWx1ZTogdHlwZW9mIHN0YXRzUmVwb3J0LmZyYW1lUmF0ZVNlbnQgPT09ICdudW1iZXInID8gc3RhdHNSZXBvcnQuZnJhbWVSYXRlU2VudCA6IG51bGwsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICByZXR1cm4gTG9jYWxWaWRlb1RyYWNrU3RhdHM7XG59KExvY2FsVHJhY2tTdGF0cyk7XG5cbm1vZHVsZS5leHBvcnRzID0gTG9jYWxWaWRlb1RyYWNrU3RhdHM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9sb2NhbHZpZGVvdHJhY2tzdGF0cy5qc1xuLy8gbW9kdWxlIGlkID0gMjkzXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///293\n");

/***/ }),
/* 294 */
/*!**********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/remoteaudiotrackstats.js ***!
  \**********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RemoteTrackStats = __webpack_require__(/*! ./remotetrackstats */ 249);\n\n/**\n * Statistics for an {@link AudioTrack}.\n * @extends RemoteTrackStats\n * @property {?AudioLevel} audioLevel - Output {@link AudioLevel}\n * @property {?number} jitter - Audio jitter in milliseconds\n */\n\nvar RemoteAudioTrackStats = function (_RemoteTrackStats) {\n  _inherits(RemoteAudioTrackStats, _RemoteTrackStats);\n\n  /**\n   * @param {string} trackId - {@link AudioTrack} ID\n   * @param {StandardizedTrackStatsReport} statsReport\n   */\n  function RemoteAudioTrackStats(trackId, statsReport) {\n    _classCallCheck(this, RemoteAudioTrackStats);\n\n    var _this = _possibleConstructorReturn(this, (RemoteAudioTrackStats.__proto__ || Object.getPrototypeOf(RemoteAudioTrackStats)).call(this, trackId, statsReport));\n\n    Object.defineProperties(_this, {\n      audioLevel: {\n        value: typeof statsReport.audioOutputLevel === 'number' ? statsReport.audioOutputLevel : null,\n        enumerable: true\n      },\n      jitter: {\n        value: typeof statsReport.jitter === 'number' ? statsReport.jitter : null,\n        enumerable: true\n      }\n    });\n    return _this;\n  }\n\n  return RemoteAudioTrackStats;\n}(RemoteTrackStats);\n\nmodule.exports = RemoteAudioTrackStats;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9yZW1vdGVhdWRpb3RyYWNrc3RhdHMuanM/OGUyYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLHVCQUF1QixtQkFBTyxDQUFDLDZCQUFvQjs7QUFFbkQ7QUFDQSxzQkFBc0IsaUJBQWlCO0FBQ3ZDO0FBQ0EsY0FBYyxZQUFZLHNCQUFzQjtBQUNoRCxjQUFjLFFBQVE7QUFDdEI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGFBQWEsT0FBTyxZQUFZLGlCQUFpQjtBQUNqRCxhQUFhLDZCQUE2QjtBQUMxQztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiMjk0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSZW1vdGVUcmFja1N0YXRzID0gcmVxdWlyZSgnLi9yZW1vdGV0cmFja3N0YXRzJyk7XG5cbi8qKlxuICogU3RhdGlzdGljcyBmb3IgYW4ge0BsaW5rIEF1ZGlvVHJhY2t9LlxuICogQGV4dGVuZHMgUmVtb3RlVHJhY2tTdGF0c1xuICogQHByb3BlcnR5IHs/QXVkaW9MZXZlbH0gYXVkaW9MZXZlbCAtIE91dHB1dCB7QGxpbmsgQXVkaW9MZXZlbH1cbiAqIEBwcm9wZXJ0eSB7P251bWJlcn0gaml0dGVyIC0gQXVkaW8gaml0dGVyIGluIG1pbGxpc2Vjb25kc1xuICovXG5cbnZhciBSZW1vdGVBdWRpb1RyYWNrU3RhdHMgPSBmdW5jdGlvbiAoX1JlbW90ZVRyYWNrU3RhdHMpIHtcbiAgX2luaGVyaXRzKFJlbW90ZUF1ZGlvVHJhY2tTdGF0cywgX1JlbW90ZVRyYWNrU3RhdHMpO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHJhY2tJZCAtIHtAbGluayBBdWRpb1RyYWNrfSBJRFxuICAgKiBAcGFyYW0ge1N0YW5kYXJkaXplZFRyYWNrU3RhdHNSZXBvcnR9IHN0YXRzUmVwb3J0XG4gICAqL1xuICBmdW5jdGlvbiBSZW1vdGVBdWRpb1RyYWNrU3RhdHModHJhY2tJZCwgc3RhdHNSZXBvcnQpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVtb3RlQXVkaW9UcmFja1N0YXRzKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSZW1vdGVBdWRpb1RyYWNrU3RhdHMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSZW1vdGVBdWRpb1RyYWNrU3RhdHMpKS5jYWxsKHRoaXMsIHRyYWNrSWQsIHN0YXRzUmVwb3J0KSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgYXVkaW9MZXZlbDoge1xuICAgICAgICB2YWx1ZTogdHlwZW9mIHN0YXRzUmVwb3J0LmF1ZGlvT3V0cHV0TGV2ZWwgPT09ICdudW1iZXInID8gc3RhdHNSZXBvcnQuYXVkaW9PdXRwdXRMZXZlbCA6IG51bGwsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBqaXR0ZXI6IHtcbiAgICAgICAgdmFsdWU6IHR5cGVvZiBzdGF0c1JlcG9ydC5qaXR0ZXIgPT09ICdudW1iZXInID8gc3RhdHNSZXBvcnQuaml0dGVyIDogbnVsbCxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHJldHVybiBSZW1vdGVBdWRpb1RyYWNrU3RhdHM7XG59KFJlbW90ZVRyYWNrU3RhdHMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlbW90ZUF1ZGlvVHJhY2tTdGF0cztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3N0YXRzL3JlbW90ZWF1ZGlvdHJhY2tzdGF0cy5qc1xuLy8gbW9kdWxlIGlkID0gMjk0XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///294\n");

/***/ }),
/* 295 */
/*!**********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/remotevideotrackstats.js ***!
  \**********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RemoteTrackStats = __webpack_require__(/*! ./remotetrackstats */ 249);\n\n/**\n * Statistics for a {@link VideoTrack}.\n * @extends RemoteTrackStats\n * @property {?VideoTrack#Dimensions} dimensions - Received video resolution\n * @property {?number} frameRate - Received video frame rate\n */\n\nvar RemoteVideoTrackStats = function (_RemoteTrackStats) {\n  _inherits(RemoteVideoTrackStats, _RemoteTrackStats);\n\n  /**\n   * @param {string} trackId - {@link VideoTrack} ID\n   * @param {StandardizedTrackStatsReport} statsReport\n   */\n  function RemoteVideoTrackStats(trackId, statsReport) {\n    _classCallCheck(this, RemoteVideoTrackStats);\n\n    var _this = _possibleConstructorReturn(this, (RemoteVideoTrackStats.__proto__ || Object.getPrototypeOf(RemoteVideoTrackStats)).call(this, trackId, statsReport));\n\n    var dimensions = null;\n    if (typeof statsReport.frameWidthReceived === 'number' && typeof statsReport.frameHeightReceived === 'number') {\n      dimensions = {};\n\n      Object.defineProperties(dimensions, {\n        width: {\n          value: statsReport.frameWidthReceived,\n          enumerable: true\n        },\n        height: {\n          value: statsReport.frameHeightReceived,\n          enumerable: true\n        }\n      });\n    }\n\n    Object.defineProperties(_this, {\n      dimensions: {\n        value: dimensions,\n        enumerable: true\n      },\n      frameRate: {\n        value: typeof statsReport.frameRateReceived === 'number' ? statsReport.frameRateReceived : null,\n        enumerable: true\n      }\n    });\n    return _this;\n  }\n\n  return RemoteVideoTrackStats;\n}(RemoteTrackStats);\n\nmodule.exports = RemoteVideoTrackStats;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9yZW1vdGV2aWRlb3RyYWNrc3RhdHMuanM/N2M2YSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLHVCQUF1QixtQkFBTyxDQUFDLDZCQUFvQjs7QUFFbkQ7QUFDQSxxQkFBcUIsaUJBQWlCO0FBQ3RDO0FBQ0EsY0FBYyx1QkFBdUI7QUFDckMsY0FBYyxRQUFRO0FBQ3RCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLE9BQU8sWUFBWSxpQkFBaUI7QUFDakQsYUFBYSw2QkFBNkI7QUFDMUM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIyOTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJlbW90ZVRyYWNrU3RhdHMgPSByZXF1aXJlKCcuL3JlbW90ZXRyYWNrc3RhdHMnKTtcblxuLyoqXG4gKiBTdGF0aXN0aWNzIGZvciBhIHtAbGluayBWaWRlb1RyYWNrfS5cbiAqIEBleHRlbmRzIFJlbW90ZVRyYWNrU3RhdHNcbiAqIEBwcm9wZXJ0eSB7P1ZpZGVvVHJhY2sjRGltZW5zaW9uc30gZGltZW5zaW9ucyAtIFJlY2VpdmVkIHZpZGVvIHJlc29sdXRpb25cbiAqIEBwcm9wZXJ0eSB7P251bWJlcn0gZnJhbWVSYXRlIC0gUmVjZWl2ZWQgdmlkZW8gZnJhbWUgcmF0ZVxuICovXG5cbnZhciBSZW1vdGVWaWRlb1RyYWNrU3RhdHMgPSBmdW5jdGlvbiAoX1JlbW90ZVRyYWNrU3RhdHMpIHtcbiAgX2luaGVyaXRzKFJlbW90ZVZpZGVvVHJhY2tTdGF0cywgX1JlbW90ZVRyYWNrU3RhdHMpO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHJhY2tJZCAtIHtAbGluayBWaWRlb1RyYWNrfSBJRFxuICAgKiBAcGFyYW0ge1N0YW5kYXJkaXplZFRyYWNrU3RhdHNSZXBvcnR9IHN0YXRzUmVwb3J0XG4gICAqL1xuICBmdW5jdGlvbiBSZW1vdGVWaWRlb1RyYWNrU3RhdHModHJhY2tJZCwgc3RhdHNSZXBvcnQpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVtb3RlVmlkZW9UcmFja1N0YXRzKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSZW1vdGVWaWRlb1RyYWNrU3RhdHMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSZW1vdGVWaWRlb1RyYWNrU3RhdHMpKS5jYWxsKHRoaXMsIHRyYWNrSWQsIHN0YXRzUmVwb3J0KSk7XG5cbiAgICB2YXIgZGltZW5zaW9ucyA9IG51bGw7XG4gICAgaWYgKHR5cGVvZiBzdGF0c1JlcG9ydC5mcmFtZVdpZHRoUmVjZWl2ZWQgPT09ICdudW1iZXInICYmIHR5cGVvZiBzdGF0c1JlcG9ydC5mcmFtZUhlaWdodFJlY2VpdmVkID09PSAnbnVtYmVyJykge1xuICAgICAgZGltZW5zaW9ucyA9IHt9O1xuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhkaW1lbnNpb25zLCB7XG4gICAgICAgIHdpZHRoOiB7XG4gICAgICAgICAgdmFsdWU6IHN0YXRzUmVwb3J0LmZyYW1lV2lkdGhSZWNlaXZlZCxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGhlaWdodDoge1xuICAgICAgICAgIHZhbHVlOiBzdGF0c1JlcG9ydC5mcmFtZUhlaWdodFJlY2VpdmVkLFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX3RoaXMsIHtcbiAgICAgIGRpbWVuc2lvbnM6IHtcbiAgICAgICAgdmFsdWU6IGRpbWVuc2lvbnMsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBmcmFtZVJhdGU6IHtcbiAgICAgICAgdmFsdWU6IHR5cGVvZiBzdGF0c1JlcG9ydC5mcmFtZVJhdGVSZWNlaXZlZCA9PT0gJ251bWJlcicgPyBzdGF0c1JlcG9ydC5mcmFtZVJhdGVSZWNlaXZlZCA6IG51bGwsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICByZXR1cm4gUmVtb3RlVmlkZW9UcmFja1N0YXRzO1xufShSZW1vdGVUcmFja1N0YXRzKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZW1vdGVWaWRlb1RyYWNrU3RhdHM7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9yZW1vdGV2aWRlb3RyYWNrc3RhdHMuanNcbi8vIG1vZHVsZSBpZCA9IDI5NVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///295\n");

/***/ }),
/* 296 */
/*!***********************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/twilioerror.js ***!
  \***********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * @extends Error\n * @property {number} code - Error code\n */\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TwilioError = function (_Error) {\n  _inherits(TwilioError, _Error);\n\n  /**\n   * Creates a new {@link TwilioError}\n   * @param {number} code - Error code\n   * @param {string} [message] - Error message\n   * @param {string} [fileName] - Name of the script file where error was generated\n   * @param {number} [lineNumber] - Line number of the script file where error was generated\n   */\n  function TwilioError(code) {\n    var _ref;\n\n    _classCallCheck(this, TwilioError);\n\n    var args = [].slice.call(arguments, 1);\n\n    var _this = _possibleConstructorReturn(this, (_ref = TwilioError.__proto__ || Object.getPrototypeOf(TwilioError)).call.apply(_ref, [this].concat(_toConsumableArray(args))));\n\n    var error = Error.apply(_this, args);\n    error.name = 'TwilioError';\n\n    Object.defineProperty(_this, 'code', {\n      value: code,\n      enumerable: true\n    });\n\n    Object.getOwnPropertyNames(error).forEach(function (prop) {\n      Object.defineProperty(this, prop, {\n        value: error[prop],\n        enumerable: true\n      });\n    }, _this);\n    return _this;\n  }\n\n  /**\n   * Returns human readable string describing the error.\n   * @returns {string}\n   */\n\n\n  _createClass(TwilioError, [{\n    key: 'toString',\n    value: function toString() {\n      var message = this.message ? ': ' + this.message : '';\n      return this.name + ' ' + this.code + message;\n    }\n  }]);\n\n  return TwilioError;\n}(Error);\n\nmodule.exports = TwilioError;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL3R3aWxpb2Vycm9yLmpzP2UzNGUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjs7QUFFQSxnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsa0NBQWtDLDBCQUEwQiwwQ0FBMEMsZ0JBQWdCLE9BQU8sa0JBQWtCLEVBQUUsYUFBYSxFQUFFLE9BQU8sd0JBQXdCLEVBQUU7O0FBRWpNLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWU7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQjtBQUNwQixhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZTtBQUNmOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIyOTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQGV4dGVuZHMgRXJyb3JcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2RlIC0gRXJyb3IgY29kZVxuICovXG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBUd2lsaW9FcnJvciA9IGZ1bmN0aW9uIChfRXJyb3IpIHtcbiAgX2luaGVyaXRzKFR3aWxpb0Vycm9yLCBfRXJyb3IpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IHtAbGluayBUd2lsaW9FcnJvcn1cbiAgICogQHBhcmFtIHtudW1iZXJ9IGNvZGUgLSBFcnJvciBjb2RlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbWVzc2FnZV0gLSBFcnJvciBtZXNzYWdlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZmlsZU5hbWVdIC0gTmFtZSBvZiB0aGUgc2NyaXB0IGZpbGUgd2hlcmUgZXJyb3Igd2FzIGdlbmVyYXRlZFxuICAgKiBAcGFyYW0ge251bWJlcn0gW2xpbmVOdW1iZXJdIC0gTGluZSBudW1iZXIgb2YgdGhlIHNjcmlwdCBmaWxlIHdoZXJlIGVycm9yIHdhcyBnZW5lcmF0ZWRcbiAgICovXG4gIGZ1bmN0aW9uIFR3aWxpb0Vycm9yKGNvZGUpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUd2lsaW9FcnJvcik7XG5cbiAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfcmVmID0gVHdpbGlvRXJyb3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUd2lsaW9FcnJvcikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpKSk7XG5cbiAgICB2YXIgZXJyb3IgPSBFcnJvci5hcHBseShfdGhpcywgYXJncyk7XG4gICAgZXJyb3IubmFtZSA9ICdUd2lsaW9FcnJvcic7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX3RoaXMsICdjb2RlJywge1xuICAgICAgdmFsdWU6IGNvZGUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG5cbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlcnJvcikuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIHByb3AsIHtcbiAgICAgICAgdmFsdWU6IGVycm9yW3Byb3BdLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9LCBfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgaHVtYW4gcmVhZGFibGUgc3RyaW5nIGRlc2NyaWJpbmcgdGhlIGVycm9yLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhUd2lsaW9FcnJvciwgW3tcbiAgICBrZXk6ICd0b1N0cmluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2UgPyAnOiAnICsgdGhpcy5tZXNzYWdlIDogJyc7XG4gICAgICByZXR1cm4gdGhpcy5uYW1lICsgJyAnICsgdGhpcy5jb2RlICsgbWVzc2FnZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVHdpbGlvRXJyb3I7XG59KEVycm9yKTtcblxubW9kdWxlLmV4cG9ydHMgPSBUd2lsaW9FcnJvcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3V0aWwvdHdpbGlvZXJyb3IuanNcbi8vIG1vZHVsZSBpZCA9IDI5NlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///296\n");

/***/ }),
/* 297 */
/*!*************************************************************!*\
  !*** ./node_modules/twilio-video/es5/encodingparameters.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EventEmitter = __webpack_require__(/*! events */ 207).EventEmitter;\n\n/**\n * {@link EncodingParametersImpl} represents an object which notifies its\n * listeners of any changes in the values of its properties.\n * @extends EventEmitter\n * @implements EncodingParameters\n * @emits EncodingParametersImpl#changed\n * @property {?number} maxAudioBitrate\n * @property {?number} maxVideoBitrate\n */\n\nvar EncodingParametersImpl = function (_EventEmitter) {\n  _inherits(EncodingParametersImpl, _EventEmitter);\n\n  /**\n   * Construct an {@link EncodingParametersImpl}.\n   * @param {EncodingParamters} encodingParameters - Initial {@link EncodingParameters}\n   */\n  function EncodingParametersImpl(encodingParameters) {\n    _classCallCheck(this, EncodingParametersImpl);\n\n    var _this = _possibleConstructorReturn(this, (EncodingParametersImpl.__proto__ || Object.getPrototypeOf(EncodingParametersImpl)).call(this));\n\n    encodingParameters = Object.assign({\n      maxAudioBitrate: null,\n      maxVideoBitrate: null\n    }, encodingParameters);\n\n    Object.defineProperties(_this, {\n      maxAudioBitrate: {\n        value: encodingParameters.maxAudioBitrate,\n        writable: true\n      },\n      maxVideoBitrate: {\n        value: encodingParameters.maxVideoBitrate,\n        writable: true\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * Returns the bitrate values in an {@link EncodingParameters}.\n   * @returns {EncodingParameters}\n   */\n\n\n  _createClass(EncodingParametersImpl, [{\n    key: 'toJSON',\n    value: function toJSON() {\n      return {\n        maxAudioBitrate: this.maxAudioBitrate,\n        maxVideoBitrate: this.maxVideoBitrate\n      };\n    }\n\n    /**\n     * Update the bitrate values with those in the given {@link EncodingParameters}.\n     * @param {EncodingParameters} encodingParameters - The new {@link EncodingParameters}\n     * @fires EncodingParametersImpl#changed\n     */\n\n  }, {\n    key: 'update',\n    value: function update(encodingParameters) {\n      var _this2 = this;\n\n      encodingParameters = Object.assign({\n        maxAudioBitrate: this.maxAudioBitrate,\n        maxVideoBitrate: this.maxVideoBitrate\n      }, encodingParameters);\n\n      var shouldEmitChanged = ['maxAudioBitrate', 'maxVideoBitrate'].reduce(function (shouldEmitChanged, maxKindBitrate) {\n        if (_this2[maxKindBitrate] !== encodingParameters[maxKindBitrate]) {\n          _this2[maxKindBitrate] = encodingParameters[maxKindBitrate];\n          shouldEmitChanged = true;\n        }\n        return shouldEmitChanged;\n      }, false);\n\n      if (shouldEmitChanged) {\n        this.emit('changed');\n      }\n    }\n  }]);\n\n  return EncodingParametersImpl;\n}(EventEmitter);\n\n/**\n * At least one of the {@link EncodingParametersImpl}'s bitrate values changed.\n * @event EncodingParametersImpl#changed\n */\n\nmodule.exports = EncodingParametersImpl;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9lbmNvZGluZ3BhcmFtZXRlcnMuanM/YTdlMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSxtQkFBbUIsbUJBQU8sQ0FBQyxpQkFBUTs7QUFFbkM7QUFDQSxJQUFJLDZCQUE2QjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEI7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQiw2QkFBNkI7QUFDaEQsYUFBYSxrQkFBa0IsK0JBQStCO0FBQzlEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSx1Q0FBdUMseUJBQXlCO0FBQ2hFLGVBQWU7QUFDZjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBEQUEwRCx5QkFBeUI7QUFDbkYsZUFBZSxtQkFBbUIsK0JBQStCO0FBQ2pFO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLHdCQUF3Qiw2QkFBNkI7QUFDckQ7QUFDQTs7QUFFQSIsImZpbGUiOiIyOTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcblxuLyoqXG4gKiB7QGxpbmsgRW5jb2RpbmdQYXJhbWV0ZXJzSW1wbH0gcmVwcmVzZW50cyBhbiBvYmplY3Qgd2hpY2ggbm90aWZpZXMgaXRzXG4gKiBsaXN0ZW5lcnMgb2YgYW55IGNoYW5nZXMgaW4gdGhlIHZhbHVlcyBvZiBpdHMgcHJvcGVydGllcy5cbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICogQGltcGxlbWVudHMgRW5jb2RpbmdQYXJhbWV0ZXJzXG4gKiBAZW1pdHMgRW5jb2RpbmdQYXJhbWV0ZXJzSW1wbCNjaGFuZ2VkXG4gKiBAcHJvcGVydHkgez9udW1iZXJ9IG1heEF1ZGlvQml0cmF0ZVxuICogQHByb3BlcnR5IHs/bnVtYmVyfSBtYXhWaWRlb0JpdHJhdGVcbiAqL1xuXG52YXIgRW5jb2RpbmdQYXJhbWV0ZXJzSW1wbCA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gIF9pbmhlcml0cyhFbmNvZGluZ1BhcmFtZXRlcnNJbXBsLCBfRXZlbnRFbWl0dGVyKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGFuIHtAbGluayBFbmNvZGluZ1BhcmFtZXRlcnNJbXBsfS5cbiAgICogQHBhcmFtIHtFbmNvZGluZ1BhcmFtdGVyc30gZW5jb2RpbmdQYXJhbWV0ZXJzIC0gSW5pdGlhbCB7QGxpbmsgRW5jb2RpbmdQYXJhbWV0ZXJzfVxuICAgKi9cbiAgZnVuY3Rpb24gRW5jb2RpbmdQYXJhbWV0ZXJzSW1wbChlbmNvZGluZ1BhcmFtZXRlcnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRW5jb2RpbmdQYXJhbWV0ZXJzSW1wbCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRW5jb2RpbmdQYXJhbWV0ZXJzSW1wbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEVuY29kaW5nUGFyYW1ldGVyc0ltcGwpKS5jYWxsKHRoaXMpKTtcblxuICAgIGVuY29kaW5nUGFyYW1ldGVycyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgbWF4QXVkaW9CaXRyYXRlOiBudWxsLFxuICAgICAgbWF4VmlkZW9CaXRyYXRlOiBudWxsXG4gICAgfSwgZW5jb2RpbmdQYXJhbWV0ZXJzKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBtYXhBdWRpb0JpdHJhdGU6IHtcbiAgICAgICAgdmFsdWU6IGVuY29kaW5nUGFyYW1ldGVycy5tYXhBdWRpb0JpdHJhdGUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9LFxuICAgICAgbWF4VmlkZW9CaXRyYXRlOiB7XG4gICAgICAgIHZhbHVlOiBlbmNvZGluZ1BhcmFtZXRlcnMubWF4VmlkZW9CaXRyYXRlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBiaXRyYXRlIHZhbHVlcyBpbiBhbiB7QGxpbmsgRW5jb2RpbmdQYXJhbWV0ZXJzfS5cbiAgICogQHJldHVybnMge0VuY29kaW5nUGFyYW1ldGVyc31cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoRW5jb2RpbmdQYXJhbWV0ZXJzSW1wbCwgW3tcbiAgICBrZXk6ICd0b0pTT04nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXhBdWRpb0JpdHJhdGU6IHRoaXMubWF4QXVkaW9CaXRyYXRlLFxuICAgICAgICBtYXhWaWRlb0JpdHJhdGU6IHRoaXMubWF4VmlkZW9CaXRyYXRlXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgYml0cmF0ZSB2YWx1ZXMgd2l0aCB0aG9zZSBpbiB0aGUgZ2l2ZW4ge0BsaW5rIEVuY29kaW5nUGFyYW1ldGVyc30uXG4gICAgICogQHBhcmFtIHtFbmNvZGluZ1BhcmFtZXRlcnN9IGVuY29kaW5nUGFyYW1ldGVycyAtIFRoZSBuZXcge0BsaW5rIEVuY29kaW5nUGFyYW1ldGVyc31cbiAgICAgKiBAZmlyZXMgRW5jb2RpbmdQYXJhbWV0ZXJzSW1wbCNjaGFuZ2VkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3VwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShlbmNvZGluZ1BhcmFtZXRlcnMpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBlbmNvZGluZ1BhcmFtZXRlcnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgbWF4QXVkaW9CaXRyYXRlOiB0aGlzLm1heEF1ZGlvQml0cmF0ZSxcbiAgICAgICAgbWF4VmlkZW9CaXRyYXRlOiB0aGlzLm1heFZpZGVvQml0cmF0ZVxuICAgICAgfSwgZW5jb2RpbmdQYXJhbWV0ZXJzKTtcblxuICAgICAgdmFyIHNob3VsZEVtaXRDaGFuZ2VkID0gWydtYXhBdWRpb0JpdHJhdGUnLCAnbWF4VmlkZW9CaXRyYXRlJ10ucmVkdWNlKGZ1bmN0aW9uIChzaG91bGRFbWl0Q2hhbmdlZCwgbWF4S2luZEJpdHJhdGUpIHtcbiAgICAgICAgaWYgKF90aGlzMlttYXhLaW5kQml0cmF0ZV0gIT09IGVuY29kaW5nUGFyYW1ldGVyc1ttYXhLaW5kQml0cmF0ZV0pIHtcbiAgICAgICAgICBfdGhpczJbbWF4S2luZEJpdHJhdGVdID0gZW5jb2RpbmdQYXJhbWV0ZXJzW21heEtpbmRCaXRyYXRlXTtcbiAgICAgICAgICBzaG91bGRFbWl0Q2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNob3VsZEVtaXRDaGFuZ2VkO1xuICAgICAgfSwgZmFsc2UpO1xuXG4gICAgICBpZiAoc2hvdWxkRW1pdENoYW5nZWQpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGFuZ2VkJyk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEVuY29kaW5nUGFyYW1ldGVyc0ltcGw7XG59KEV2ZW50RW1pdHRlcik7XG5cbi8qKlxuICogQXQgbGVhc3Qgb25lIG9mIHRoZSB7QGxpbmsgRW5jb2RpbmdQYXJhbWV0ZXJzSW1wbH0ncyBiaXRyYXRlIHZhbHVlcyBjaGFuZ2VkLlxuICogQGV2ZW50IEVuY29kaW5nUGFyYW1ldGVyc0ltcGwjY2hhbmdlZFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gRW5jb2RpbmdQYXJhbWV0ZXJzSW1wbDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L2VuY29kaW5ncGFyYW1ldGVycy5qc1xuLy8gbW9kdWxlIGlkID0gMjk3XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///297\n");

/***/ }),
/* 298 */
/*!***********************************************************!*\
  !*** ./node_modules/twilio-video/es5/localparticipant.js ***!
  \***********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar util = __webpack_require__(/*! ./util */ 206);\nvar E = __webpack_require__(/*! ./util/constants */ 208).typeErrors;\nvar LocalAudioTrack = __webpack_require__(/*! ./media/track/es5/localaudiotrack */ 216);\nvar LocalDataTrack = __webpack_require__(/*! ./media/track/es5/localdatatrack */ 217);\nvar LocalVideoTrack = __webpack_require__(/*! ./media/track/es5/localvideotrack */ 218);\nvar MediaStreamTrack = __webpack_require__(/*! @twilio/webrtc */ 212).MediaStreamTrack;\nvar Participant = __webpack_require__(/*! ./participant */ 243);\nvar LocalAudioTrackPublication = __webpack_require__(/*! ./media/track/localaudiotrackpublication */ 299);\nvar LocalDataTrackPublication = __webpack_require__(/*! ./media/track/localdatatrackpublication */ 300);\nvar LocalVideoTrackPublication = __webpack_require__(/*! ./media/track/localvideotrackpublication */ 301);\n\n/**\n * A {@link LocalParticipant} represents the local {@link Participant} in a\n * {@link Room}.\n * @extends Participant\n * @property {Map<Track.SID, LocalAudioTrackPublication>} audioTrackPublications -\n *    The {@link LocalParticipant}'s {@link LocalAudioTrackPublication}s\n * @property {Map<Track.ID, LocalAudioTrack>} audioTracks -\n *   The {@link LocalParticipant}'s {@link LocalAudioTrack}s\n * @property {Map<Track.SID, LocalDataTrackPublication>} dataTrackPublications -\n *    The {@link LocalParticipant}'s {@link LocalDataTrackPublication}s\n * @property {Map<Track.ID, LocalDataTrack>} dataTracks -\n *   The {@link LocalParticipant}'s {@link LocalDataTrack}s\n * @property {Map<Track.SID, LocalTrackPublication>} trackPublications -\n *    The {@link LocalParticipant}'s {@link LocalTrackPublication}s\n * @property {Map<Track.ID, LocalTrack>} tracks -\n *    The {@link LocalParticipant}'s {@link LocalTrack}s\n * @property {Map<Track.SID, LocalVideoTrackPublication>} videoTrackPublications -\n *    The {@link LocalParticipant}'s {@link LocalVideoTrackPublication}s\n * @property {Map<Track.ID, LocalVideoTrack>} videoTracks -\n *   The {@link LocalParticipant}'s {@link LocalVideoTrack}s\n * @emits LocalParticipant#trackAdded\n * @emits LocalParticipant#trackDimensionsChanged\n * @emits LocalParticipant#trackDisabled\n * @emits LocalParticipant#trackEnabled\n * @emits LocalParticipant#trackPublicationFailed\n * @emits LocalParticipant#trackPublished\n * @emits LocalParticipant#trackRemoved\n * @emits LocalParticipant#trackStarted\n * @emits LocalParticipant#trackStopped\n */\n\nvar LocalParticipant = function (_Participant) {\n  _inherits(LocalParticipant, _Participant);\n\n  /**\n   * Construct a {@link LocalParticipant}.\n   * @param {ParticipantSignaling} signaling\n   * @param {Array<LocalTrack>} localTracks\n   * @param {Object} options\n   */\n  function LocalParticipant(signaling, localTracks, options) {\n    _classCallCheck(this, LocalParticipant);\n\n    options = Object.assign({\n      LocalAudioTrack: LocalAudioTrack,\n      LocalVideoTrack: LocalVideoTrack,\n      LocalDataTrack: LocalDataTrack,\n      MediaStreamTrack: MediaStreamTrack,\n      LocalAudioTrackPublication: LocalAudioTrackPublication,\n      LocalVideoTrackPublication: LocalVideoTrackPublication,\n      LocalDataTrackPublication: LocalDataTrackPublication,\n      shouldStopLocalTracks: false,\n      tracks: localTracks\n    }, options);\n\n    var tracksToStop = options.shouldStopLocalTracks ? new Set(localTracks.filter(function (localTrack) {\n      return localTrack.kind !== 'data';\n    })) : new Set();\n\n    var _this = _possibleConstructorReturn(this, (LocalParticipant.__proto__ || Object.getPrototypeOf(LocalParticipant)).call(this, signaling, options));\n\n    Object.defineProperties(_this, {\n      _LocalAudioTrack: {\n        value: options.LocalAudioTrack\n      },\n      _LocalDataTrack: {\n        value: options.LocalDataTrack\n      },\n      _LocalVideoTrack: {\n        value: options.LocalVideoTrack\n      },\n      _MediaStreamTrack: {\n        value: options.MediaStreamTrack\n      },\n      _LocalAudioTrackPublication: {\n        value: options.LocalAudioTrackPublication\n      },\n      _LocalDataTrackPublication: {\n        value: options.LocalDataTrackPublication\n      },\n      _LocalVideoTrackPublication: {\n        value: options.LocalVideoTrackPublication\n      },\n      _tracksToStop: {\n        value: tracksToStop\n      }\n    });\n\n    _this._handleTrackSignalingEvents();\n\n    util.deprecateEvents('LocalParticipant', _this, new Map([['trackAdded', null], ['trackRemoved', null]]), _this._log);\n    return _this;\n  }\n\n  /**\n   * @private\n   * @param {LocalTrack} track\n   * @returns {?LocalTrack}\n   */\n\n\n  _createClass(LocalParticipant, [{\n    key: '_addTrack',\n    value: function _addTrack(track) {\n      var addedTrack = _get(LocalParticipant.prototype.__proto__ || Object.getPrototypeOf(LocalParticipant.prototype), '_addTrack', this).call(this, track);\n      if (addedTrack && this.state !== 'disconnected') {\n        this._addLocalTrack(track);\n      }\n      return addedTrack;\n    }\n\n    /**\n     * @private\n     * @param {LocalTrack} track\n     * @returns {void}\n     */\n\n  }, {\n    key: '_addLocalTrack',\n    value: function _addLocalTrack(track) {\n      this._signaling.addTrack(track._trackSender, track.name);\n      this._log.info('Added a new ' + util.trackClass(track, true) + ':', track.id);\n      this._log.debug(util.trackClass(track, true) + ':', track);\n    }\n\n    /**\n     * @private\n     * @param {LocalTrack} track\n     * @returns {?LocalTrack}\n     */\n\n  }, {\n    key: '_removeTrack',\n    value: function _removeTrack(track) {\n      var removedTrack = _get(LocalParticipant.prototype.__proto__ || Object.getPrototypeOf(LocalParticipant.prototype), '_removeTrack', this).call(this, track);\n      if (removedTrack && this.state !== 'disconnected') {\n        this._signaling.removeTrack(track._trackSender);\n        this._log.info('Removed a ' + util.trackClass(track, true) + ':', track.id);\n        this._log.debug(util.trackClass(track, true) + ':', track);\n      }\n      return removedTrack;\n    }\n\n    /**\n     * Get the {@link LocalTrack} events to re-emit.\n     * @private\n     * @returns {Array<Array<string>>} events\n     */\n\n  }, {\n    key: '_getTrackEvents',\n    value: function _getTrackEvents() {\n      return _get(LocalParticipant.prototype.__proto__ || Object.getPrototypeOf(LocalParticipant.prototype), '_getTrackEvents', this).call(this).concat([['stopped', 'trackStopped']]);\n    }\n  }, {\n    key: 'toString',\n    value: function toString() {\n      return '[LocalParticipant #' + this._instanceId + (this.sid ? ': ' + this.sid : '') + ']';\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_handleTrackSignalingEvents',\n    value: function _handleTrackSignalingEvents() {\n      var _this2 = this;\n\n      var log = this._log;\n\n      if (this.state === 'disconnected') {\n        return;\n      }\n\n      var signaling = this._signaling;\n\n      function localTrackDisabled(localTrack) {\n        var trackSignaling = signaling.tracks.get(localTrack.id);\n        if (trackSignaling) {\n          trackSignaling.disable();\n          log.debug('Disabled the ' + util.trackClass(localTrack, true) + ':', localTrack.id);\n        }\n      }\n\n      function localTrackEnabled(localTrack) {\n        var trackSignaling = signaling.tracks.get(localTrack.id);\n        if (trackSignaling) {\n          trackSignaling.enable();\n          log.debug('Enabled the ' + util.trackClass(localTrack, true) + ':', localTrack.id);\n        }\n      }\n\n      this.on('trackDisabled', localTrackDisabled);\n      this.on('trackEnabled', localTrackEnabled);\n\n      this.tracks.forEach(function (track) {\n        _this2._addLocalTrack(track);\n        _this2._getOrCreateLocalTrackPublication(track).catch(function () {\n          // Do nothing for now.\n        });\n      });\n\n      var self = this;\n      signaling.on('stateChanged', function stateChanged(state) {\n        log.debug('Transitioned to state:', state);\n        if (state === 'disconnected') {\n          log.debug('Removing LocalTrack event listeners');\n          signaling.removeListener('stateChanged', stateChanged);\n          self.removeListener('trackDisabled', localTrackDisabled);\n          self.removeListener('trackEnabled', localTrackEnabled);\n\n          log.info('LocalParticipant disconnected. Stopping ' + self._tracksToStop.size + ' automatically-acquired LocalTracks');\n          self._tracksToStop.forEach(function (track) {\n            track.stop();\n          });\n        }\n      });\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_getOrCreateLocalTrackPublication',\n    value: function _getOrCreateLocalTrackPublication(localTrack) {\n      var localTrackPublication = getTrackPublication(this.trackPublications, localTrack);\n      if (localTrackPublication) {\n        return localTrackPublication;\n      }\n\n      var log = this._log;\n      var self = this;\n\n      var trackSignaling = this._signaling.tracks.get(localTrack.id);\n      if (!trackSignaling) {\n        return Promise.reject(new Error('Unexpected error: The ' + localTrack + ' cannot be published'));\n      }\n\n      function unpublish(publication) {\n        self.unpublishTrack(publication.track);\n      }\n\n      return new Promise(function (resolve, reject) {\n        function updated() {\n          var error = trackSignaling.error;\n          if (error) {\n            trackSignaling.removeListener('updated', updated);\n            log.warn('Failed to publish the ' + util.trackClass(localTrack, true) + ': ' + error.message);\n            self._removeTrack(localTrack);\n            setTimeout(function () {\n              self.emit('trackPublicationFailed', error, localTrack);\n            });\n            reject(error);\n            return;\n          }\n\n          if (!self.tracks.has(localTrack.id)) {\n            trackSignaling.removeListener('updated', updated);\n            reject(new Error('The ' + localTrack + ' was unpublished'));\n            return;\n          }\n\n          var sid = trackSignaling.sid;\n          if (!sid) {\n            return;\n          }\n\n          trackSignaling.removeListener('updated', updated);\n\n          var options = {\n            log: log,\n            LocalAudioTrackPublication: self._LocalAudioTrackPublication,\n            LocalDataTrackPublication: self._LocalDataTrackPublication,\n            LocalVideoTrackPublication: self._LocalVideoTrackPublication\n          };\n\n          localTrackPublication = getTrackPublication(self.trackPublications, localTrack);\n\n          if (!localTrackPublication) {\n            localTrackPublication = util.asLocalTrackPublication(localTrack, sid, unpublish, options);\n            self._addTrackPublication(localTrackPublication);\n          }\n\n          if (self._signaling.state === 'connected') {\n            setTimeout(function () {\n              self.emit('trackPublished', localTrackPublication);\n            });\n          }\n          resolve(localTrackPublication);\n        }\n\n        trackSignaling.on('updated', updated);\n      });\n    }\n\n    /**\n     * Adds a {@link LocalTrack} to the {@link LocalParticipant}.\n     * @deprecated Use {@link LocalParticipant#publishTrack} instead\n     * @param {LocalTrack|MediaStreamTrack} track - The {@link LocalTrack} to add;\n     *   if a MediaStreamTrack is provided, and a corresponding {@link LocalTrack}\n     *   has not yet been added, this method will construct one\n     * @returns {?LocalTrack} - The {@link LocalTrack} if added, null if already\n     *   present\n     * @fires Participant#trackAdded\n     * @throws {TypeError}\n     */\n\n  }, {\n    key: 'addTrack',\n    value: function addTrack(track) {\n      this._log.deprecated('LocalParticipant#addTrack has been deprecated. ' + 'Use LocalParticipant#publishTrack instead.');\n      util.validateLocalTrack(track, {\n        LocalAudioTrack: this._LocalAudioTrack,\n        LocalDataTrack: this._LocalDataTrack,\n        LocalVideoTrack: this._LocalVideoTrack,\n        MediaStreamTrack: this._MediaStreamTrack\n      });\n      if (this.tracks.has(track.id)) {\n        return null;\n      }\n      this.publishTrack(track).catch(function () {\n        // Do nothing.\n      });\n      return this.tracks.get(track.id);\n    }\n\n    /**\n     * Adds multiple {@link LocalTrack}s to the {@link LocalParticipant}.\n     * @deprecated Use {@link LocalParticipant#publishTracks} instead\n     * @param {Array<LocalTrack|MediaStreamTrack>} tracks - The {@link LocalTrack}s\n     *   to add; for any MediaStreamTracks provided, if a corresponding\n     *   {@link LocalAudioTrack} or {@link LocalVideoTrack} has not yet been added,\n     *   this method will construct one\n     * @returns {Array<LocalTrack>} - The {@link LocalTrack}s that were successfully\n     *   added; if the {@link LocalParticipant} already has a {@link LocalTrack},\n     *   it won't be included in the Array\n     * @fires Participant#trackAdded\n     * @throws {TypeError}\n     */\n\n  }, {\n    key: 'addTracks',\n    value: function addTracks(tracks) {\n      this._log.deprecated('LocalParticipant#addTracks has been deprecated. ' + 'Use LocalParticipant#publishTracks instead.');\n      if (!Array.isArray(tracks)) {\n        // eslint-disable-next-line new-cap\n        throw E.INVALID_TYPE('tracks', 'Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack');\n      }\n      tracks = tracks.filter(function (track) {\n        return !this.tracks.has(track.id);\n      }, this);\n      this.publishTracks(tracks).catch(function () {\n        // Do nothing.\n      });\n      return tracks.map(function (track) {\n        return this.tracks.get(track.id);\n      }, this);\n    }\n\n    /**\n     * Publishes a {@link LocalTrack} to the {@link Room}.\n     * @param {LocalTrack} localTrack - The {@link LocalTrack} to publish\n     * @returns {Promise<LocalTrackPublication>} - Resolves with the corresponding\n     *   {@link LocalTrackPublication} if successful\n     * @fires Participant#trackAdded\n    */ /**\n       * Publishes a MediaStreamTrack to the {@link Room}.\n       * @param {MediaStreamTrack} mediaStreamTrack - The MediaStreamTrack\n       *   to publish; if a corresponding {@link LocalAudioTrack} or\n       *   {@link LocalVideoTrack} has not yet been published, this method will\n       *   construct one\n       * @param {LocalTrackOptions} [options] - The {@link LocalTrackOptions} for\n       *   constructing the  MediaStreamTrack's corresponding {@link LocalAudioTrack}\n       *   or {@link LocalVideoTrack}\n       * @returns {Promise<LocalTrackPublication>} - Resolves with the corresponding\n       *   {@link LocalTrackPublication} if successful\n       * @fires Participant#trackAdded\n       * @example\n       * var Video = require('twilio-video');\n       *\n       * Video.connect(token, {\n       *   name: 'my-cool-room',\n       *   audio: true\n       * }).then(function(room) {\n       *   // Publish a video MediaStreamTrack with a custom name\n       *   return room.localParticipant.publishTrack(mediaStreamTrack, {\n       *     name: 'camera'\n       *   });\n       * }).then(function(publication) {\n       *   console.log('The LocalTrack \"' + publication.trackName + '\" was successfully published');\n       * });\n       */\n\n  }, {\n    key: 'publishTrack',\n    value: function publishTrack(localTrackOrMediaStreamTrack, options) {\n      var trackPublication = getTrackPublication(this.trackPublications, localTrackOrMediaStreamTrack);\n      if (trackPublication) {\n        return Promise.resolve(trackPublication);\n      }\n\n      options = Object.assign({\n        log: this._log,\n        LocalAudioTrack: this._LocalAudioTrack,\n        LocalDataTrack: this._LocalDataTrack,\n        LocalVideoTrack: this._LocalVideoTrack,\n        MediaStreamTrack: this._MediaStreamTrack\n      }, options);\n\n      var localTrack = void 0;\n      try {\n        localTrack = util.asLocalTrack(localTrackOrMediaStreamTrack, options);\n      } catch (error) {\n        return Promise.reject(error);\n      }\n\n      localTrack = this._addTrack(localTrack) || this.tracks.get(localTrack.id);\n      return this._getOrCreateLocalTrackPublication(localTrack);\n    }\n\n    /**\n     * Publishes multiple {@link LocalTrack}s to the {@link Room}.\n     * @param {Array<LocalTrack|MediaStreamTrack>} tracks - The {@link LocalTrack}s\n     *   to publish; for any MediaStreamTracks provided, if a corresponding\n     *   {@link LocalAudioTrack} or {@link LocalVideoTrack} has not yet been\n     *   published, this method will construct one\n     * @returns {Promise<Array<LocalTrackPublication>>} - The resulting\n     *   {@link LocalTrackPublication}s\n     * @fires Participant#trackAdded\n     * @throws {TypeError}\n     */\n\n  }, {\n    key: 'publishTracks',\n    value: function publishTracks(tracks) {\n      if (!Array.isArray(tracks)) {\n        // eslint-disable-next-line new-cap\n        throw E.INVALID_TYPE('tracks', 'Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack');\n      }\n      return Promise.all(tracks.map(this.publishTrack, this));\n    }\n\n    /**\n     * Removes a {@link LocalTrack} from the {@link LocalParticipant}.\n     * @deprecated Use {@link LocalParticipant#unpublishTrack} instead\n     * @param {LocalTrack|MediaStreamTrack} track - The {@link LocalTrack}\n     *   to remove; if a MediaStreamTrack is provided, this method looks up the\n     *   corresponding {@link LocalAudioTrack} or {@link LocalVideoTrack} to remove\n     * @param {?boolean} [stop=true] - Whether or not to call\n     *   {@link LocalAudioTrack#stop} or {@link LocalVideoTrack#stop}\n     * @returns {?LocalTrack} - The {@link LocalTrack} removed, otherwise null\n     * @fires Participant#trackRemoved\n     * @throws {TypeError}\n    */\n\n  }, {\n    key: 'removeTrack',\n    value: function removeTrack(track, stop) {\n      this._log.deprecated('LocalParticipant#removeTrack has been deprecated. ' + 'Use LocalParticipant#unpublishTrack instead.');\n      var publication = this.unpublishTrack(track);\n      track = publication && publication.track;\n      stop = typeof stop === 'boolean' ? stop : true;\n      if (track && stop && track.kind !== 'data') {\n        track.stop();\n        this._log.info('Stopped LocalTrack:', track);\n      }\n      return track;\n    }\n\n    /**\n     * Removes multiple {@link LocalTrack}s from the {@link LocalParticipant}.\n     * @deprecated Use {@link LocalParticipant#unpublishTracks} instead\n     * @param {Array<LocalTrack|MediaStreamTrack>} tracks - The {@link LocalTrack}s\n     *   to remove; for any MediaStreamTracks provided, this method looks up the\n     *   corresponding {@link LocalAudioTrack} or {@link LocalVideoTrack} to remove\n     * @param {?boolean} [stop=true] - Whether or not to call\n     *   {@link LocalAudioTrack#stop} or {@link LocalVideoTrack#stop} on each\n     *   {@link LocalAudioTrack} or {@link LocalVideoTrack} that was successfully\n     *   removed\n     * @returns {Array<LocalTrack>} - The {@link LocalTrack}s that were successfully\n     *   removed\n     * @fires Participant#trackRemoved\n     * @throws {TypeError}\n     */\n\n  }, {\n    key: 'removeTracks',\n    value: function removeTracks(tracks, stop) {\n      this._log.deprecated('LocalParticipant#removeTracks has been deprecated. ' + 'Use LocalParticipant#unpublishTracks instead.');\n      stop = typeof stop === 'boolean' ? stop : true;\n      return this.unpublishTracks(tracks).map(function (publication) {\n        var track = publication.track;\n        if (stop && track.kind !== 'data') {\n          track.stop();\n        }\n        return track;\n      });\n    }\n\n    /**\n     * Set the {@link LocalParticipant}'s {@link EncodingParameters}.\n     * @param {?EncodingParameters} [encodingParameters] - The new\n     *   {@link EncodingParameters}; If null, then the bitrate limits are removed;\n     *   If not specified, then the existing bitrate limits are preserved\n     * @returns {this}\n     * @throws {TypeError}\n     */\n\n  }, {\n    key: 'setParameters',\n    value: function setParameters(encodingParameters) {\n      if (typeof encodingParameters !== 'undefined' && (typeof encodingParameters === 'undefined' ? 'undefined' : _typeof(encodingParameters)) !== 'object') {\n        // eslint-disable-next-line new-cap\n        throw E.INVALID_TYPE('encodingParameters', 'EncodingParameters, null or undefined');\n      }\n\n      if (encodingParameters) {\n        ['maxAudioBitrate', 'maxVideoBitrate'].forEach(function (prop) {\n          if (typeof encodingParameters[prop] !== 'undefined' && typeof encodingParameters[prop] !== 'number' && encodingParameters[prop] !== null) {\n            // eslint-disable-next-line new-cap\n            throw E.INVALID_TYPE('encodingParameters.' + prop, 'number, null or undefined');\n          }\n        });\n      } else if (encodingParameters === null) {\n        encodingParameters = { maxAudioBitrate: null, maxVideoBitrate: null };\n      }\n\n      this._signaling.setParameters(encodingParameters);\n      return this;\n    }\n\n    /**\n     * Stops publishing a {@link LocalTrack} to the {@link Room}.\n     * @param {LocalTrack|MediaStreamTrack} track - The {@link LocalTrack}\n     *   to stop publishing; if a MediaStreamTrack is provided, this method\n     *   looks up the corresponding {@link LocalAudioTrack} or\n     *   {@link LocalVideoTrack} to stop publishing\n     * @returns {?LocalTrackPublication} - The corresponding\n     *   {@link LocalTrackPublication} if the {@link LocalTrack} was previously\n     *   published, null otherwise\n     * @fires Participant#trackRemoved\n     * @throws {TypeError}\n    */\n\n  }, {\n    key: 'unpublishTrack',\n    value: function unpublishTrack(track) {\n      util.validateLocalTrack(track, {\n        LocalAudioTrack: this._LocalAudioTrack,\n        LocalDataTrack: this._LocalDataTrack,\n        LocalVideoTrack: this._LocalVideoTrack,\n        MediaStreamTrack: this._MediaStreamTrack\n      });\n\n      var localTrack = this.tracks.get(track.id);\n      if (!localTrack) {\n        return null;\n      }\n\n      var trackSignaling = this._signaling.tracks.get(localTrack.id);\n      trackSignaling.publishFailed(new Error('The ' + localTrack + ' was unpublished'));\n\n      var localTrackPublication = getTrackPublication(this.trackPublications, localTrack);\n      this._removeTrack(localTrack);\n      if (localTrackPublication) {\n        this._removeTrackPublication(localTrackPublication);\n      }\n\n      return localTrackPublication;\n    }\n\n    /**\n     * Stops publishing multiple {@link LocalTrack}s to the {@link Room}.\n     * @param {Array<LocalTrack|MediaStreamTrack>} tracks - The {@link LocalTrack}s\n     *   to stop publishing; for any MediaStreamTracks provided, this method looks\n     *   up the corresponding {@link LocalAudioTrack} or {@link LocalVideoTrack} to\n     *   stop publishing\n     * @returns {Array<LocalTrackPublication>} - The corresponding\n     *   {@link LocalTrackPublication}s that were successfully unpublished\n     * @fires Participant#trackRemoved\n     * @throws {TypeError}\n     */\n\n  }, {\n    key: 'unpublishTracks',\n    value: function unpublishTracks(tracks) {\n      var _this3 = this;\n\n      if (!Array.isArray(tracks)) {\n        // eslint-disable-next-line new-cap\n        throw E.INVALID_TYPE('tracks', 'Array of LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack');\n      }\n\n      return tracks.reduce(function (unpublishedTracks, track) {\n        var unpublishedTrack = _this3.unpublishTrack(track);\n        return unpublishedTrack ? unpublishedTracks.concat(unpublishedTrack) : unpublishedTracks;\n      }, []);\n    }\n  }]);\n\n  return LocalParticipant;\n}(Participant);\n\n/**\n * A {@link LocalTrack} was added by the {@link LocalParticipant}.\n * @param {LocalTrack} track - The {@link LocalTrack} that was added\n * @event LocalParticipant#trackAdded\n * @deprecated If you are using this event to monitor {@link LocalTrack}s that\n *   are published to the {@link Room}, alternatively you can access the .tracks\n *   collection which contains the newly added {@link LocalTrack}s right after\n *   {@link LocalParticipant#publishTrack}(s) is called\n */\n\n/**\n * One of the {@link LocalParticipant}'s {@link LocalVideoTrack}'s dimensions changed.\n * @param {LocalVideoTrack} track - The {@link LocalVideoTrack} whose dimensions changed\n * @event LocalParticipant#trackDimensionsChanged\n */\n\n/**\n * A {@link LocalTrack} was disabled by the {@link LocalParticipant}.\n * @param {LocalTrack} track - The {@link LocalTrack} that was disabled\n * @event LocalParticipant#trackDisabled\n */\n\n/**\n * A {@link LocalTrack} was enabled by the {@link LocalParticipant}.\n * @param {LocalTrack} track - The {@link LocalTrack} that was enabled\n * @event LocalParticipant#trackEnabled\n */\n\n/**\n * A {@link LocalTrack} failed to publish. Check the error message for more\n * information.\n * @param {TwilioError} error - A {@link TwilioError} explaining why publication\n *   failed\n * @param {LocalTrack} localTrack - The {@link LocalTrack} that failed to\n *   publish\n * @event LocalParticipant#trackPublicationFailed\n */\n\n/**\n * A {@link LocalTrack} was successfully published.\n * @param {LocalTrackPublication} publication - The resulting\n *   {@link LocalTrackPublication} for the published {@link LocalTrack}\n * @event LocalParticipant#trackPublished\n */\n\n/**\n * A {@link LocalTrack} was removed by the {@link LocalParticipant}.\n * @param {LocalTrack} track - The {@link LocalTrack} that was removed\n * @event LocalParticipant#trackRemoved\n * @deprecated If you are using this event to monitor {@link LocalTrack}s that\n *   are unpublished from the {@link Room}, alternatively you can monitor the\n *   return value of {@link LocalParticipant#unpublishTrack}(s), which is the\n *   removed {@link LocalTrack}(s)\n */\n\n/**\n * One of the {@link LocalParticipant}'s {@link LocalTrack}s started.\n * @param {LocalTrack} track - The {@link LocalTrack} that started\n * @event LocalParticipant#trackStarted\n */\n\n/**\n * One of the {@link LocalParticipant}'s {@link LocalTrack}s stopped, either\n * because {@link LocalTrack#stop} was called or because the underlying\n * MediaStreamTrack ended).\n * @param {LocalTrack} track - The {@link LocalTrack} that stopped\n * @event LocalParticipant#trackStopped\n */\n\n/**\n * Outgoing media encoding parameters.\n * @typedef {object} EncodingParameters\n * @property {?number} [maxAudioBitrate] - Max outgoing audio bitrate (bps);\n *   If not specified, retains the existing bitrate limit; A <code>null</code>\n *   value removes any previously set bitrate limit\n * @property {?number} [maxVideoBitrate] - Max outgoing video bitrate (bps);\n *   If not specified, retains the existing bitrate limit; A <code>null</code>\n *   value removes any previously set bitrate limit\n */\n\n/**\n * @private\n * @param {Map<Track.SID, LocalTrackPublication>} trackPublications\n * @param {LocalTrack|MediaStreamTrack} track\n * @returns {?LocalTrackPublication} trackPublication\n */\n\n\nfunction getTrackPublication(trackPublications, track) {\n  return Array.from(trackPublications.values()).find(function (trackPublication) {\n    return trackPublication.track === track || trackPublication.track.mediaStreamTrack === track;\n  }) || null;\n}\n\nmodule.exports = LocalParticipant;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9sb2NhbHBhcnRpY2lwYW50LmpzP2ZjZTkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsb0dBQW9HLG1CQUFtQixFQUFFLG1CQUFtQiw4SEFBOEg7O0FBRTFRLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixxREFBcUQsa0RBQWtELDhEQUE4RCwwQkFBMEIsNENBQTRDLHVCQUF1QixrQkFBa0IsRUFBRSxPQUFPLHdDQUF3QyxFQUFFLEVBQUUsNEJBQTRCLG1CQUFtQixFQUFFLE9BQU8sdUJBQXVCLDRCQUE0QixrQkFBa0IsRUFBRSw4QkFBOEIsRUFBRTs7QUFFeGUsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSxXQUFXLG1CQUFPLENBQUMsaUJBQVE7QUFDM0IsUUFBUSxtQkFBTyxDQUFDLDJCQUFrQjtBQUNsQyxzQkFBc0IsbUJBQU8sQ0FBQyw0Q0FBbUM7QUFDakUscUJBQXFCLG1CQUFPLENBQUMsMkNBQWtDO0FBQy9ELHNCQUFzQixtQkFBTyxDQUFDLDRDQUFtQztBQUNqRSx1QkFBdUIsbUJBQU8sQ0FBQyx5QkFBZ0I7QUFDL0Msa0JBQWtCLG1CQUFPLENBQUMsd0JBQWU7QUFDekMsaUNBQWlDLG1CQUFPLENBQUMsbURBQTBDO0FBQ25GLGdDQUFnQyxtQkFBTyxDQUFDLGtEQUF5QztBQUNqRixpQ0FBaUMsbUJBQU8sQ0FBQyxtREFBMEM7O0FBRW5GO0FBQ0EsTUFBTSx1QkFBdUIsdUJBQXVCLGtCQUFrQjtBQUN0RSxJQUFJLFdBQVc7QUFDZjtBQUNBLGNBQWMsMkNBQTJDO0FBQ3pELFdBQVcsdUJBQXVCLElBQUksaUNBQWlDO0FBQ3ZFLGNBQWMsK0JBQStCO0FBQzdDLFVBQVUsdUJBQXVCLElBQUksc0JBQXNCO0FBQzNELGNBQWMsMENBQTBDO0FBQ3hELFdBQVcsdUJBQXVCLElBQUksZ0NBQWdDO0FBQ3RFLGNBQWMsOEJBQThCO0FBQzVDLFVBQVUsdUJBQXVCLElBQUkscUJBQXFCO0FBQzFELGNBQWMsc0NBQXNDO0FBQ3BELFdBQVcsdUJBQXVCLElBQUksNEJBQTRCO0FBQ2xFLGNBQWMsMEJBQTBCO0FBQ3hDLFdBQVcsdUJBQXVCLElBQUksaUJBQWlCO0FBQ3ZELGNBQWMsMkNBQTJDO0FBQ3pELFdBQVcsdUJBQXVCLElBQUksaUNBQWlDO0FBQ3ZFLGNBQWMsK0JBQStCO0FBQzdDLFVBQVUsdUJBQXVCLElBQUksc0JBQXNCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsdUJBQXVCO0FBQ3pDLGFBQWEscUJBQXFCO0FBQ2xDLGFBQWEsa0JBQWtCO0FBQy9CLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxXQUFXO0FBQ3hCLGVBQWU7QUFDZjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLFdBQVc7QUFDMUIsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsV0FBVztBQUMxQixpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLGlCQUFpQjtBQUNqQztBQUNBLGlCQUFpQixxQkFBcUI7QUFDdEM7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0EsZUFBZSxpQkFBaUIsU0FBUyx1QkFBdUI7QUFDaEUsd0JBQXdCLG9DQUFvQztBQUM1RCxlQUFlLDRCQUE0QixjQUFjLGlCQUFpQjtBQUMxRSxpRUFBaUU7QUFDakU7QUFDQSxpQkFBaUIsWUFBWSxRQUFRLGlCQUFpQjtBQUN0RDtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixpQkFBaUIsVUFBVSx1QkFBdUI7QUFDeEUsd0JBQXdCLHFDQUFxQztBQUM3RCxlQUFlLG1DQUFtQyxlQUFlLGlCQUFpQjtBQUNsRixnQkFBZ0I7QUFDaEIsVUFBVSxzQkFBc0IsS0FBSyxzQkFBc0I7QUFDM0Q7QUFDQSxpQkFBaUIsa0JBQWtCLFFBQVEsaUJBQWlCO0FBQzVELGVBQWUsU0FBUyx1QkFBdUIsZ0JBQWdCLGlCQUFpQjtBQUNoRjtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0Esb0JBQW9CLGlCQUFpQixTQUFTLFdBQVc7QUFDekQsZUFBZSxXQUFXLG1CQUFtQixpQkFBaUI7QUFDOUQsaUJBQWlCLCtCQUErQjtBQUNoRCxVQUFVLDRCQUE0QjtBQUN0QztBQUNBO0FBQ0EsOENBQThDLFdBQVc7QUFDekQsaUJBQWlCLGlCQUFpQjtBQUNsQyxzQkFBc0IscUJBQXFCLHNCQUFzQjtBQUNqRSxZQUFZLHNCQUFzQjtBQUNsQztBQUNBLGlCQUFpQixrQkFBa0Isa0JBQWtCLHdCQUF3QjtBQUM3RSwrREFBK0Q7QUFDL0QsZUFBZTtBQUNmLG1CQUFtQiwrQkFBK0I7QUFDbEQsWUFBWSw0QkFBNEI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCLGlCQUFpQixVQUFVLFdBQVc7QUFDakUsZUFBZSxtQ0FBbUMsZUFBZSxpQkFBaUI7QUFDbEYsb0JBQW9CO0FBQ3BCLFVBQVUsc0JBQXNCLEtBQUssc0JBQXNCO0FBQzNEO0FBQ0EsaUJBQWlCLHNDQUFzQztBQUN2RCxVQUFVLDRCQUE0QjtBQUN0QztBQUNBLGdCQUFnQjtBQUNoQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixpQkFBaUIsV0FBVyx1QkFBdUI7QUFDckUsd0JBQXdCLHNDQUFzQztBQUM5RCxlQUFlLDRCQUE0QixjQUFjO0FBQ3pELG1CQUFtQjtBQUNuQix3QkFBd0Isc0JBQXNCLEtBQUssc0JBQXNCO0FBQ3pFLGVBQWUsU0FBUztBQUN4QixVQUFVLDJCQUEyQixLQUFLO0FBQzFDLGlCQUFpQixZQUFZLFFBQVEsaUJBQWlCO0FBQ3REO0FBQ0EsZ0JBQWdCO0FBQ2hCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5QkFBeUIsaUJBQWlCLFlBQVksdUJBQXVCO0FBQzdFLHdCQUF3Qix1Q0FBdUM7QUFDL0QsZUFBZSxtQ0FBbUMsZUFBZSxpQkFBaUI7QUFDbEYsbUJBQW1CO0FBQ25CLHdCQUF3QixzQkFBc0IsS0FBSyxzQkFBc0I7QUFDekUsZUFBZSxTQUFTO0FBQ3hCLFVBQVUsMkJBQTJCLEtBQUssMkJBQTJCO0FBQ3JFLFVBQVUsc0JBQXNCLEtBQUssc0JBQXNCO0FBQzNEO0FBQ0EsaUJBQWlCLGtCQUFrQixRQUFRLGlCQUFpQjtBQUM1RDtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLGdCQUFnQix1QkFBdUIsSUFBSSx5QkFBeUI7QUFDcEUsZUFBZSxvQkFBb0I7QUFDbkMsVUFBVSwwQkFBMEI7QUFDcEM7QUFDQSxpQkFBaUI7QUFDakIsZ0JBQWdCO0FBQ2hCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCw4QkFBOEI7QUFDOUI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCLGlCQUFpQixTQUFTLFdBQVc7QUFDaEUsZUFBZSw0QkFBNEIsY0FBYztBQUN6RCw0QkFBNEI7QUFDNUIscUNBQXFDLHNCQUFzQjtBQUMzRCxVQUFVLHNCQUFzQjtBQUNoQyxpQkFBaUIsdUJBQXVCO0FBQ3hDLFVBQVUsNEJBQTRCLFNBQVMsaUJBQWlCO0FBQ2hFO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQyxpQkFBaUIsVUFBVSxXQUFXO0FBQ3hFLGVBQWUsbUNBQW1DLGVBQWUsaUJBQWlCO0FBQ2xGLDRCQUE0QjtBQUM1QiwrQkFBK0Isc0JBQXNCLEtBQUssc0JBQXNCO0FBQ2hGO0FBQ0EsaUJBQWlCLDZCQUE2QjtBQUM5QyxVQUFVLDRCQUE0QjtBQUN0QztBQUNBLGdCQUFnQjtBQUNoQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0EsTUFBTSxpQkFBaUIsbUJBQW1CLHVCQUF1QjtBQUNqRSxXQUFXLFdBQVcsY0FBYyxpQkFBaUI7QUFDckQ7QUFDQSx1REFBdUQsaUJBQWlCO0FBQ3hFLDJCQUEyQixXQUFXO0FBQ3RDLGdEQUFnRCxpQkFBaUI7QUFDakUsTUFBTSxvQ0FBb0M7QUFDMUM7O0FBRUE7QUFDQSxlQUFlLHVCQUF1QixJQUFJLHNCQUFzQjtBQUNoRSxXQUFXLGdCQUFnQixjQUFjLHNCQUFzQjtBQUMvRDtBQUNBOztBQUVBO0FBQ0EsTUFBTSxpQkFBaUIsc0JBQXNCLHVCQUF1QjtBQUNwRSxXQUFXLFdBQVcsY0FBYyxpQkFBaUI7QUFDckQ7QUFDQTs7QUFFQTtBQUNBLE1BQU0saUJBQWlCLHFCQUFxQix1QkFBdUI7QUFDbkUsV0FBVyxXQUFXLGNBQWMsaUJBQWlCO0FBQ3JEO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLGlCQUFpQjtBQUN2QjtBQUNBLFdBQVcsWUFBWSxZQUFZLGtCQUFrQjtBQUNyRDtBQUNBLFdBQVcsV0FBVyxtQkFBbUIsaUJBQWlCO0FBQzFEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU0saUJBQWlCO0FBQ3ZCLFdBQVcsc0JBQXNCO0FBQ2pDLE1BQU0sNEJBQTRCLG9CQUFvQjtBQUN0RDtBQUNBOztBQUVBO0FBQ0EsTUFBTSxpQkFBaUIscUJBQXFCLHVCQUF1QjtBQUNuRSxXQUFXLFdBQVcsY0FBYyxpQkFBaUI7QUFDckQ7QUFDQSx1REFBdUQsaUJBQWlCO0FBQ3hFLCtCQUErQixXQUFXO0FBQzFDLHNCQUFzQixzQ0FBc0M7QUFDNUQsY0FBYyxpQkFBaUI7QUFDL0I7O0FBRUE7QUFDQSxlQUFlLHVCQUF1QixJQUFJLGlCQUFpQjtBQUMzRCxXQUFXLFdBQVcsY0FBYyxpQkFBaUI7QUFDckQ7QUFDQTs7QUFFQTtBQUNBLGVBQWUsdUJBQXVCLElBQUksaUJBQWlCO0FBQzNELFlBQVksc0JBQXNCO0FBQ2xDO0FBQ0EsV0FBVyxXQUFXLGNBQWMsaUJBQWlCO0FBQ3JEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixjQUFjLFFBQVE7QUFDdEIsMERBQTBEO0FBQzFEO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLDBEQUEwRDtBQUMxRDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLHNDQUFzQztBQUNqRCxXQUFXLDRCQUE0QjtBQUN2QyxhQUFhLHVCQUF1QjtBQUNwQzs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBIiwiZmlsZSI6IjI5OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcbnZhciBFID0gcmVxdWlyZSgnLi91dGlsL2NvbnN0YW50cycpLnR5cGVFcnJvcnM7XG52YXIgTG9jYWxBdWRpb1RyYWNrID0gcmVxdWlyZSgnLi9tZWRpYS90cmFjay9lczUvbG9jYWxhdWRpb3RyYWNrJyk7XG52YXIgTG9jYWxEYXRhVHJhY2sgPSByZXF1aXJlKCcuL21lZGlhL3RyYWNrL2VzNS9sb2NhbGRhdGF0cmFjaycpO1xudmFyIExvY2FsVmlkZW9UcmFjayA9IHJlcXVpcmUoJy4vbWVkaWEvdHJhY2svZXM1L2xvY2FsdmlkZW90cmFjaycpO1xudmFyIE1lZGlhU3RyZWFtVHJhY2sgPSByZXF1aXJlKCdAdHdpbGlvL3dlYnJ0YycpLk1lZGlhU3RyZWFtVHJhY2s7XG52YXIgUGFydGljaXBhbnQgPSByZXF1aXJlKCcuL3BhcnRpY2lwYW50Jyk7XG52YXIgTG9jYWxBdWRpb1RyYWNrUHVibGljYXRpb24gPSByZXF1aXJlKCcuL21lZGlhL3RyYWNrL2xvY2FsYXVkaW90cmFja3B1YmxpY2F0aW9uJyk7XG52YXIgTG9jYWxEYXRhVHJhY2tQdWJsaWNhdGlvbiA9IHJlcXVpcmUoJy4vbWVkaWEvdHJhY2svbG9jYWxkYXRhdHJhY2twdWJsaWNhdGlvbicpO1xudmFyIExvY2FsVmlkZW9UcmFja1B1YmxpY2F0aW9uID0gcmVxdWlyZSgnLi9tZWRpYS90cmFjay9sb2NhbHZpZGVvdHJhY2twdWJsaWNhdGlvbicpO1xuXG4vKipcbiAqIEEge0BsaW5rIExvY2FsUGFydGljaXBhbnR9IHJlcHJlc2VudHMgdGhlIGxvY2FsIHtAbGluayBQYXJ0aWNpcGFudH0gaW4gYVxuICoge0BsaW5rIFJvb219LlxuICogQGV4dGVuZHMgUGFydGljaXBhbnRcbiAqIEBwcm9wZXJ0eSB7TWFwPFRyYWNrLlNJRCwgTG9jYWxBdWRpb1RyYWNrUHVibGljYXRpb24+fSBhdWRpb1RyYWNrUHVibGljYXRpb25zIC1cbiAqICAgIFRoZSB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH0ncyB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrUHVibGljYXRpb259c1xuICogQHByb3BlcnR5IHtNYXA8VHJhY2suSUQsIExvY2FsQXVkaW9UcmFjaz59IGF1ZGlvVHJhY2tzIC1cbiAqICAgVGhlIHtAbGluayBMb2NhbFBhcnRpY2lwYW50fSdzIHtAbGluayBMb2NhbEF1ZGlvVHJhY2t9c1xuICogQHByb3BlcnR5IHtNYXA8VHJhY2suU0lELCBMb2NhbERhdGFUcmFja1B1YmxpY2F0aW9uPn0gZGF0YVRyYWNrUHVibGljYXRpb25zIC1cbiAqICAgIFRoZSB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH0ncyB7QGxpbmsgTG9jYWxEYXRhVHJhY2tQdWJsaWNhdGlvbn1zXG4gKiBAcHJvcGVydHkge01hcDxUcmFjay5JRCwgTG9jYWxEYXRhVHJhY2s+fSBkYXRhVHJhY2tzIC1cbiAqICAgVGhlIHtAbGluayBMb2NhbFBhcnRpY2lwYW50fSdzIHtAbGluayBMb2NhbERhdGFUcmFja31zXG4gKiBAcHJvcGVydHkge01hcDxUcmFjay5TSUQsIExvY2FsVHJhY2tQdWJsaWNhdGlvbj59IHRyYWNrUHVibGljYXRpb25zIC1cbiAqICAgIFRoZSB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH0ncyB7QGxpbmsgTG9jYWxUcmFja1B1YmxpY2F0aW9ufXNcbiAqIEBwcm9wZXJ0eSB7TWFwPFRyYWNrLklELCBMb2NhbFRyYWNrPn0gdHJhY2tzIC1cbiAqICAgIFRoZSB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH0ncyB7QGxpbmsgTG9jYWxUcmFja31zXG4gKiBAcHJvcGVydHkge01hcDxUcmFjay5TSUQsIExvY2FsVmlkZW9UcmFja1B1YmxpY2F0aW9uPn0gdmlkZW9UcmFja1B1YmxpY2F0aW9ucyAtXG4gKiAgICBUaGUge0BsaW5rIExvY2FsUGFydGljaXBhbnR9J3Mge0BsaW5rIExvY2FsVmlkZW9UcmFja1B1YmxpY2F0aW9ufXNcbiAqIEBwcm9wZXJ0eSB7TWFwPFRyYWNrLklELCBMb2NhbFZpZGVvVHJhY2s+fSB2aWRlb1RyYWNrcyAtXG4gKiAgIFRoZSB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH0ncyB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfXNcbiAqIEBlbWl0cyBMb2NhbFBhcnRpY2lwYW50I3RyYWNrQWRkZWRcbiAqIEBlbWl0cyBMb2NhbFBhcnRpY2lwYW50I3RyYWNrRGltZW5zaW9uc0NoYW5nZWRcbiAqIEBlbWl0cyBMb2NhbFBhcnRpY2lwYW50I3RyYWNrRGlzYWJsZWRcbiAqIEBlbWl0cyBMb2NhbFBhcnRpY2lwYW50I3RyYWNrRW5hYmxlZFxuICogQGVtaXRzIExvY2FsUGFydGljaXBhbnQjdHJhY2tQdWJsaWNhdGlvbkZhaWxlZFxuICogQGVtaXRzIExvY2FsUGFydGljaXBhbnQjdHJhY2tQdWJsaXNoZWRcbiAqIEBlbWl0cyBMb2NhbFBhcnRpY2lwYW50I3RyYWNrUmVtb3ZlZFxuICogQGVtaXRzIExvY2FsUGFydGljaXBhbnQjdHJhY2tTdGFydGVkXG4gKiBAZW1pdHMgTG9jYWxQYXJ0aWNpcGFudCN0cmFja1N0b3BwZWRcbiAqL1xuXG52YXIgTG9jYWxQYXJ0aWNpcGFudCA9IGZ1bmN0aW9uIChfUGFydGljaXBhbnQpIHtcbiAgX2luaGVyaXRzKExvY2FsUGFydGljaXBhbnQsIF9QYXJ0aWNpcGFudCk7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBMb2NhbFBhcnRpY2lwYW50fS5cbiAgICogQHBhcmFtIHtQYXJ0aWNpcGFudFNpZ25hbGluZ30gc2lnbmFsaW5nXG4gICAqIEBwYXJhbSB7QXJyYXk8TG9jYWxUcmFjaz59IGxvY2FsVHJhY2tzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqL1xuICBmdW5jdGlvbiBMb2NhbFBhcnRpY2lwYW50KHNpZ25hbGluZywgbG9jYWxUcmFja3MsIG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9jYWxQYXJ0aWNpcGFudCk7XG5cbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBMb2NhbEF1ZGlvVHJhY2s6IExvY2FsQXVkaW9UcmFjayxcbiAgICAgIExvY2FsVmlkZW9UcmFjazogTG9jYWxWaWRlb1RyYWNrLFxuICAgICAgTG9jYWxEYXRhVHJhY2s6IExvY2FsRGF0YVRyYWNrLFxuICAgICAgTWVkaWFTdHJlYW1UcmFjazogTWVkaWFTdHJlYW1UcmFjayxcbiAgICAgIExvY2FsQXVkaW9UcmFja1B1YmxpY2F0aW9uOiBMb2NhbEF1ZGlvVHJhY2tQdWJsaWNhdGlvbixcbiAgICAgIExvY2FsVmlkZW9UcmFja1B1YmxpY2F0aW9uOiBMb2NhbFZpZGVvVHJhY2tQdWJsaWNhdGlvbixcbiAgICAgIExvY2FsRGF0YVRyYWNrUHVibGljYXRpb246IExvY2FsRGF0YVRyYWNrUHVibGljYXRpb24sXG4gICAgICBzaG91bGRTdG9wTG9jYWxUcmFja3M6IGZhbHNlLFxuICAgICAgdHJhY2tzOiBsb2NhbFRyYWNrc1xuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgdmFyIHRyYWNrc1RvU3RvcCA9IG9wdGlvbnMuc2hvdWxkU3RvcExvY2FsVHJhY2tzID8gbmV3IFNldChsb2NhbFRyYWNrcy5maWx0ZXIoZnVuY3Rpb24gKGxvY2FsVHJhY2spIHtcbiAgICAgIHJldHVybiBsb2NhbFRyYWNrLmtpbmQgIT09ICdkYXRhJztcbiAgICB9KSkgOiBuZXcgU2V0KCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTG9jYWxQYXJ0aWNpcGFudC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKExvY2FsUGFydGljaXBhbnQpKS5jYWxsKHRoaXMsIHNpZ25hbGluZywgb3B0aW9ucykpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX3RoaXMsIHtcbiAgICAgIF9Mb2NhbEF1ZGlvVHJhY2s6IHtcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMuTG9jYWxBdWRpb1RyYWNrXG4gICAgICB9LFxuICAgICAgX0xvY2FsRGF0YVRyYWNrOiB7XG4gICAgICAgIHZhbHVlOiBvcHRpb25zLkxvY2FsRGF0YVRyYWNrXG4gICAgICB9LFxuICAgICAgX0xvY2FsVmlkZW9UcmFjazoge1xuICAgICAgICB2YWx1ZTogb3B0aW9ucy5Mb2NhbFZpZGVvVHJhY2tcbiAgICAgIH0sXG4gICAgICBfTWVkaWFTdHJlYW1UcmFjazoge1xuICAgICAgICB2YWx1ZTogb3B0aW9ucy5NZWRpYVN0cmVhbVRyYWNrXG4gICAgICB9LFxuICAgICAgX0xvY2FsQXVkaW9UcmFja1B1YmxpY2F0aW9uOiB7XG4gICAgICAgIHZhbHVlOiBvcHRpb25zLkxvY2FsQXVkaW9UcmFja1B1YmxpY2F0aW9uXG4gICAgICB9LFxuICAgICAgX0xvY2FsRGF0YVRyYWNrUHVibGljYXRpb246IHtcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMuTG9jYWxEYXRhVHJhY2tQdWJsaWNhdGlvblxuICAgICAgfSxcbiAgICAgIF9Mb2NhbFZpZGVvVHJhY2tQdWJsaWNhdGlvbjoge1xuICAgICAgICB2YWx1ZTogb3B0aW9ucy5Mb2NhbFZpZGVvVHJhY2tQdWJsaWNhdGlvblxuICAgICAgfSxcbiAgICAgIF90cmFja3NUb1N0b3A6IHtcbiAgICAgICAgdmFsdWU6IHRyYWNrc1RvU3RvcFxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX3RoaXMuX2hhbmRsZVRyYWNrU2lnbmFsaW5nRXZlbnRzKCk7XG5cbiAgICB1dGlsLmRlcHJlY2F0ZUV2ZW50cygnTG9jYWxQYXJ0aWNpcGFudCcsIF90aGlzLCBuZXcgTWFwKFtbJ3RyYWNrQWRkZWQnLCBudWxsXSwgWyd0cmFja1JlbW92ZWQnLCBudWxsXV0pLCBfdGhpcy5fbG9nKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtMb2NhbFRyYWNrfSB0cmFja1xuICAgKiBAcmV0dXJucyB7P0xvY2FsVHJhY2t9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKExvY2FsUGFydGljaXBhbnQsIFt7XG4gICAga2V5OiAnX2FkZFRyYWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZFRyYWNrKHRyYWNrKSB7XG4gICAgICB2YXIgYWRkZWRUcmFjayA9IF9nZXQoTG9jYWxQYXJ0aWNpcGFudC5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMb2NhbFBhcnRpY2lwYW50LnByb3RvdHlwZSksICdfYWRkVHJhY2snLCB0aGlzKS5jYWxsKHRoaXMsIHRyYWNrKTtcbiAgICAgIGlmIChhZGRlZFRyYWNrICYmIHRoaXMuc3RhdGUgIT09ICdkaXNjb25uZWN0ZWQnKSB7XG4gICAgICAgIHRoaXMuX2FkZExvY2FsVHJhY2sodHJhY2spO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFkZGVkVHJhY2s7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0xvY2FsVHJhY2t9IHRyYWNrXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19hZGRMb2NhbFRyYWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZExvY2FsVHJhY2sodHJhY2spIHtcbiAgICAgIHRoaXMuX3NpZ25hbGluZy5hZGRUcmFjayh0cmFjay5fdHJhY2tTZW5kZXIsIHRyYWNrLm5hbWUpO1xuICAgICAgdGhpcy5fbG9nLmluZm8oJ0FkZGVkIGEgbmV3ICcgKyB1dGlsLnRyYWNrQ2xhc3ModHJhY2ssIHRydWUpICsgJzonLCB0cmFjay5pZCk7XG4gICAgICB0aGlzLl9sb2cuZGVidWcodXRpbC50cmFja0NsYXNzKHRyYWNrLCB0cnVlKSArICc6JywgdHJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtMb2NhbFRyYWNrfSB0cmFja1xuICAgICAqIEByZXR1cm5zIHs/TG9jYWxUcmFja31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX3JlbW92ZVRyYWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZVRyYWNrKHRyYWNrKSB7XG4gICAgICB2YXIgcmVtb3ZlZFRyYWNrID0gX2dldChMb2NhbFBhcnRpY2lwYW50LnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKExvY2FsUGFydGljaXBhbnQucHJvdG90eXBlKSwgJ19yZW1vdmVUcmFjaycsIHRoaXMpLmNhbGwodGhpcywgdHJhY2spO1xuICAgICAgaWYgKHJlbW92ZWRUcmFjayAmJiB0aGlzLnN0YXRlICE9PSAnZGlzY29ubmVjdGVkJykge1xuICAgICAgICB0aGlzLl9zaWduYWxpbmcucmVtb3ZlVHJhY2sodHJhY2suX3RyYWNrU2VuZGVyKTtcbiAgICAgICAgdGhpcy5fbG9nLmluZm8oJ1JlbW92ZWQgYSAnICsgdXRpbC50cmFja0NsYXNzKHRyYWNrLCB0cnVlKSArICc6JywgdHJhY2suaWQpO1xuICAgICAgICB0aGlzLl9sb2cuZGVidWcodXRpbC50cmFja0NsYXNzKHRyYWNrLCB0cnVlKSArICc6JywgdHJhY2spO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlbW92ZWRUcmFjaztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHtAbGluayBMb2NhbFRyYWNrfSBldmVudHMgdG8gcmUtZW1pdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtBcnJheTxBcnJheTxzdHJpbmc+Pn0gZXZlbnRzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19nZXRUcmFja0V2ZW50cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRUcmFja0V2ZW50cygpIHtcbiAgICAgIHJldHVybiBfZ2V0KExvY2FsUGFydGljaXBhbnQucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTG9jYWxQYXJ0aWNpcGFudC5wcm90b3R5cGUpLCAnX2dldFRyYWNrRXZlbnRzJywgdGhpcykuY2FsbCh0aGlzKS5jb25jYXQoW1snc3RvcHBlZCcsICd0cmFja1N0b3BwZWQnXV0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RvU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJ1tMb2NhbFBhcnRpY2lwYW50ICMnICsgdGhpcy5faW5zdGFuY2VJZCArICh0aGlzLnNpZCA/ICc6ICcgKyB0aGlzLnNpZCA6ICcnKSArICddJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfaGFuZGxlVHJhY2tTaWduYWxpbmdFdmVudHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVHJhY2tTaWduYWxpbmdFdmVudHMoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGxvZyA9IHRoaXMuX2xvZztcblxuICAgICAgaWYgKHRoaXMuc3RhdGUgPT09ICdkaXNjb25uZWN0ZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNpZ25hbGluZyA9IHRoaXMuX3NpZ25hbGluZztcblxuICAgICAgZnVuY3Rpb24gbG9jYWxUcmFja0Rpc2FibGVkKGxvY2FsVHJhY2spIHtcbiAgICAgICAgdmFyIHRyYWNrU2lnbmFsaW5nID0gc2lnbmFsaW5nLnRyYWNrcy5nZXQobG9jYWxUcmFjay5pZCk7XG4gICAgICAgIGlmICh0cmFja1NpZ25hbGluZykge1xuICAgICAgICAgIHRyYWNrU2lnbmFsaW5nLmRpc2FibGUoKTtcbiAgICAgICAgICBsb2cuZGVidWcoJ0Rpc2FibGVkIHRoZSAnICsgdXRpbC50cmFja0NsYXNzKGxvY2FsVHJhY2ssIHRydWUpICsgJzonLCBsb2NhbFRyYWNrLmlkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBsb2NhbFRyYWNrRW5hYmxlZChsb2NhbFRyYWNrKSB7XG4gICAgICAgIHZhciB0cmFja1NpZ25hbGluZyA9IHNpZ25hbGluZy50cmFja3MuZ2V0KGxvY2FsVHJhY2suaWQpO1xuICAgICAgICBpZiAodHJhY2tTaWduYWxpbmcpIHtcbiAgICAgICAgICB0cmFja1NpZ25hbGluZy5lbmFibGUoKTtcbiAgICAgICAgICBsb2cuZGVidWcoJ0VuYWJsZWQgdGhlICcgKyB1dGlsLnRyYWNrQ2xhc3MobG9jYWxUcmFjaywgdHJ1ZSkgKyAnOicsIGxvY2FsVHJhY2suaWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMub24oJ3RyYWNrRGlzYWJsZWQnLCBsb2NhbFRyYWNrRGlzYWJsZWQpO1xuICAgICAgdGhpcy5vbigndHJhY2tFbmFibGVkJywgbG9jYWxUcmFja0VuYWJsZWQpO1xuXG4gICAgICB0aGlzLnRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICBfdGhpczIuX2FkZExvY2FsVHJhY2sodHJhY2spO1xuICAgICAgICBfdGhpczIuX2dldE9yQ3JlYXRlTG9jYWxUcmFja1B1YmxpY2F0aW9uKHRyYWNrKS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gRG8gbm90aGluZyBmb3Igbm93LlxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBzaWduYWxpbmcub24oJ3N0YXRlQ2hhbmdlZCcsIGZ1bmN0aW9uIHN0YXRlQ2hhbmdlZChzdGF0ZSkge1xuICAgICAgICBsb2cuZGVidWcoJ1RyYW5zaXRpb25lZCB0byBzdGF0ZTonLCBzdGF0ZSk7XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICBsb2cuZGVidWcoJ1JlbW92aW5nIExvY2FsVHJhY2sgZXZlbnQgbGlzdGVuZXJzJyk7XG4gICAgICAgICAgc2lnbmFsaW5nLnJlbW92ZUxpc3RlbmVyKCdzdGF0ZUNoYW5nZWQnLCBzdGF0ZUNoYW5nZWQpO1xuICAgICAgICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIoJ3RyYWNrRGlzYWJsZWQnLCBsb2NhbFRyYWNrRGlzYWJsZWQpO1xuICAgICAgICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIoJ3RyYWNrRW5hYmxlZCcsIGxvY2FsVHJhY2tFbmFibGVkKTtcblxuICAgICAgICAgIGxvZy5pbmZvKCdMb2NhbFBhcnRpY2lwYW50IGRpc2Nvbm5lY3RlZC4gU3RvcHBpbmcgJyArIHNlbGYuX3RyYWNrc1RvU3RvcC5zaXplICsgJyBhdXRvbWF0aWNhbGx5LWFjcXVpcmVkIExvY2FsVHJhY2tzJyk7XG4gICAgICAgICAgc2VsZi5fdHJhY2tzVG9TdG9wLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgICAgICB0cmFjay5zdG9wKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19nZXRPckNyZWF0ZUxvY2FsVHJhY2tQdWJsaWNhdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRPckNyZWF0ZUxvY2FsVHJhY2tQdWJsaWNhdGlvbihsb2NhbFRyYWNrKSB7XG4gICAgICB2YXIgbG9jYWxUcmFja1B1YmxpY2F0aW9uID0gZ2V0VHJhY2tQdWJsaWNhdGlvbih0aGlzLnRyYWNrUHVibGljYXRpb25zLCBsb2NhbFRyYWNrKTtcbiAgICAgIGlmIChsb2NhbFRyYWNrUHVibGljYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsVHJhY2tQdWJsaWNhdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGxvZyA9IHRoaXMuX2xvZztcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgdmFyIHRyYWNrU2lnbmFsaW5nID0gdGhpcy5fc2lnbmFsaW5nLnRyYWNrcy5nZXQobG9jYWxUcmFjay5pZCk7XG4gICAgICBpZiAoIXRyYWNrU2lnbmFsaW5nKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgZXJyb3I6IFRoZSAnICsgbG9jYWxUcmFjayArICcgY2Fubm90IGJlIHB1Ymxpc2hlZCcpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdW5wdWJsaXNoKHB1YmxpY2F0aW9uKSB7XG4gICAgICAgIHNlbGYudW5wdWJsaXNoVHJhY2socHVibGljYXRpb24udHJhY2spO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiB1cGRhdGVkKCkge1xuICAgICAgICAgIHZhciBlcnJvciA9IHRyYWNrU2lnbmFsaW5nLmVycm9yO1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgdHJhY2tTaWduYWxpbmcucmVtb3ZlTGlzdGVuZXIoJ3VwZGF0ZWQnLCB1cGRhdGVkKTtcbiAgICAgICAgICAgIGxvZy53YXJuKCdGYWlsZWQgdG8gcHVibGlzaCB0aGUgJyArIHV0aWwudHJhY2tDbGFzcyhsb2NhbFRyYWNrLCB0cnVlKSArICc6ICcgKyBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHNlbGYuX3JlbW92ZVRyYWNrKGxvY2FsVHJhY2spO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHNlbGYuZW1pdCgndHJhY2tQdWJsaWNhdGlvbkZhaWxlZCcsIGVycm9yLCBsb2NhbFRyYWNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXNlbGYudHJhY2tzLmhhcyhsb2NhbFRyYWNrLmlkKSkge1xuICAgICAgICAgICAgdHJhY2tTaWduYWxpbmcucmVtb3ZlTGlzdGVuZXIoJ3VwZGF0ZWQnLCB1cGRhdGVkKTtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1RoZSAnICsgbG9jYWxUcmFjayArICcgd2FzIHVucHVibGlzaGVkJykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBzaWQgPSB0cmFja1NpZ25hbGluZy5zaWQ7XG4gICAgICAgICAgaWYgKCFzaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0cmFja1NpZ25hbGluZy5yZW1vdmVMaXN0ZW5lcigndXBkYXRlZCcsIHVwZGF0ZWQpO1xuXG4gICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBsb2c6IGxvZyxcbiAgICAgICAgICAgIExvY2FsQXVkaW9UcmFja1B1YmxpY2F0aW9uOiBzZWxmLl9Mb2NhbEF1ZGlvVHJhY2tQdWJsaWNhdGlvbixcbiAgICAgICAgICAgIExvY2FsRGF0YVRyYWNrUHVibGljYXRpb246IHNlbGYuX0xvY2FsRGF0YVRyYWNrUHVibGljYXRpb24sXG4gICAgICAgICAgICBMb2NhbFZpZGVvVHJhY2tQdWJsaWNhdGlvbjogc2VsZi5fTG9jYWxWaWRlb1RyYWNrUHVibGljYXRpb25cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgbG9jYWxUcmFja1B1YmxpY2F0aW9uID0gZ2V0VHJhY2tQdWJsaWNhdGlvbihzZWxmLnRyYWNrUHVibGljYXRpb25zLCBsb2NhbFRyYWNrKTtcblxuICAgICAgICAgIGlmICghbG9jYWxUcmFja1B1YmxpY2F0aW9uKSB7XG4gICAgICAgICAgICBsb2NhbFRyYWNrUHVibGljYXRpb24gPSB1dGlsLmFzTG9jYWxUcmFja1B1YmxpY2F0aW9uKGxvY2FsVHJhY2ssIHNpZCwgdW5wdWJsaXNoLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHNlbGYuX2FkZFRyYWNrUHVibGljYXRpb24obG9jYWxUcmFja1B1YmxpY2F0aW9uKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2VsZi5fc2lnbmFsaW5nLnN0YXRlID09PSAnY29ubmVjdGVkJykge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHNlbGYuZW1pdCgndHJhY2tQdWJsaXNoZWQnLCBsb2NhbFRyYWNrUHVibGljYXRpb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc29sdmUobG9jYWxUcmFja1B1YmxpY2F0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyYWNrU2lnbmFsaW5nLm9uKCd1cGRhdGVkJywgdXBkYXRlZCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEge0BsaW5rIExvY2FsVHJhY2t9IHRvIHRoZSB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH0uXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBMb2NhbFBhcnRpY2lwYW50I3B1Ymxpc2hUcmFja30gaW5zdGVhZFxuICAgICAqIEBwYXJhbSB7TG9jYWxUcmFja3xNZWRpYVN0cmVhbVRyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgTG9jYWxUcmFja30gdG8gYWRkO1xuICAgICAqICAgaWYgYSBNZWRpYVN0cmVhbVRyYWNrIGlzIHByb3ZpZGVkLCBhbmQgYSBjb3JyZXNwb25kaW5nIHtAbGluayBMb2NhbFRyYWNrfVxuICAgICAqICAgaGFzIG5vdCB5ZXQgYmVlbiBhZGRlZCwgdGhpcyBtZXRob2Qgd2lsbCBjb25zdHJ1Y3Qgb25lXG4gICAgICogQHJldHVybnMgez9Mb2NhbFRyYWNrfSAtIFRoZSB7QGxpbmsgTG9jYWxUcmFja30gaWYgYWRkZWQsIG51bGwgaWYgYWxyZWFkeVxuICAgICAqICAgcHJlc2VudFxuICAgICAqIEBmaXJlcyBQYXJ0aWNpcGFudCN0cmFja0FkZGVkXG4gICAgICogQHRocm93cyB7VHlwZUVycm9yfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhZGRUcmFjaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFRyYWNrKHRyYWNrKSB7XG4gICAgICB0aGlzLl9sb2cuZGVwcmVjYXRlZCgnTG9jYWxQYXJ0aWNpcGFudCNhZGRUcmFjayBoYXMgYmVlbiBkZXByZWNhdGVkLiAnICsgJ1VzZSBMb2NhbFBhcnRpY2lwYW50I3B1Ymxpc2hUcmFjayBpbnN0ZWFkLicpO1xuICAgICAgdXRpbC52YWxpZGF0ZUxvY2FsVHJhY2sodHJhY2ssIHtcbiAgICAgICAgTG9jYWxBdWRpb1RyYWNrOiB0aGlzLl9Mb2NhbEF1ZGlvVHJhY2ssXG4gICAgICAgIExvY2FsRGF0YVRyYWNrOiB0aGlzLl9Mb2NhbERhdGFUcmFjayxcbiAgICAgICAgTG9jYWxWaWRlb1RyYWNrOiB0aGlzLl9Mb2NhbFZpZGVvVHJhY2ssXG4gICAgICAgIE1lZGlhU3RyZWFtVHJhY2s6IHRoaXMuX01lZGlhU3RyZWFtVHJhY2tcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMudHJhY2tzLmhhcyh0cmFjay5pZCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLnB1Ymxpc2hUcmFjayh0cmFjaykuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBEbyBub3RoaW5nLlxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcy50cmFja3MuZ2V0KHRyYWNrLmlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG11bHRpcGxlIHtAbGluayBMb2NhbFRyYWNrfXMgdG8gdGhlIHtAbGluayBMb2NhbFBhcnRpY2lwYW50fS5cbiAgICAgKiBAZGVwcmVjYXRlZCBVc2Uge0BsaW5rIExvY2FsUGFydGljaXBhbnQjcHVibGlzaFRyYWNrc30gaW5zdGVhZFxuICAgICAqIEBwYXJhbSB7QXJyYXk8TG9jYWxUcmFja3xNZWRpYVN0cmVhbVRyYWNrPn0gdHJhY2tzIC0gVGhlIHtAbGluayBMb2NhbFRyYWNrfXNcbiAgICAgKiAgIHRvIGFkZDsgZm9yIGFueSBNZWRpYVN0cmVhbVRyYWNrcyBwcm92aWRlZCwgaWYgYSBjb3JyZXNwb25kaW5nXG4gICAgICogICB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfSBvciB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfSBoYXMgbm90IHlldCBiZWVuIGFkZGVkLFxuICAgICAqICAgdGhpcyBtZXRob2Qgd2lsbCBjb25zdHJ1Y3Qgb25lXG4gICAgICogQHJldHVybnMge0FycmF5PExvY2FsVHJhY2s+fSAtIFRoZSB7QGxpbmsgTG9jYWxUcmFja31zIHRoYXQgd2VyZSBzdWNjZXNzZnVsbHlcbiAgICAgKiAgIGFkZGVkOyBpZiB0aGUge0BsaW5rIExvY2FsUGFydGljaXBhbnR9IGFscmVhZHkgaGFzIGEge0BsaW5rIExvY2FsVHJhY2t9LFxuICAgICAqICAgaXQgd29uJ3QgYmUgaW5jbHVkZWQgaW4gdGhlIEFycmF5XG4gICAgICogQGZpcmVzIFBhcnRpY2lwYW50I3RyYWNrQWRkZWRcbiAgICAgKiBAdGhyb3dzIHtUeXBlRXJyb3J9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2FkZFRyYWNrcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFRyYWNrcyh0cmFja3MpIHtcbiAgICAgIHRoaXMuX2xvZy5kZXByZWNhdGVkKCdMb2NhbFBhcnRpY2lwYW50I2FkZFRyYWNrcyBoYXMgYmVlbiBkZXByZWNhdGVkLiAnICsgJ1VzZSBMb2NhbFBhcnRpY2lwYW50I3B1Ymxpc2hUcmFja3MgaW5zdGVhZC4nKTtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0cmFja3MpKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG4gICAgICAgIHRocm93IEUuSU5WQUxJRF9UWVBFKCd0cmFja3MnLCAnQXJyYXkgb2YgTG9jYWxBdWRpb1RyYWNrLCBMb2NhbFZpZGVvVHJhY2ssIExvY2FsRGF0YVRyYWNrLCBvciBNZWRpYVN0cmVhbVRyYWNrJyk7XG4gICAgICB9XG4gICAgICB0cmFja3MgPSB0cmFja3MuZmlsdGVyKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICByZXR1cm4gIXRoaXMudHJhY2tzLmhhcyh0cmFjay5pZCk7XG4gICAgICB9LCB0aGlzKTtcbiAgICAgIHRoaXMucHVibGlzaFRyYWNrcyh0cmFja3MpLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRG8gbm90aGluZy5cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRyYWNrcy5tYXAoZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYWNrcy5nZXQodHJhY2suaWQpO1xuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVibGlzaGVzIGEge0BsaW5rIExvY2FsVHJhY2t9IHRvIHRoZSB7QGxpbmsgUm9vbX0uXG4gICAgICogQHBhcmFtIHtMb2NhbFRyYWNrfSBsb2NhbFRyYWNrIC0gVGhlIHtAbGluayBMb2NhbFRyYWNrfSB0byBwdWJsaXNoXG4gICAgICogQHJldHVybnMge1Byb21pc2U8TG9jYWxUcmFja1B1YmxpY2F0aW9uPn0gLSBSZXNvbHZlcyB3aXRoIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogICB7QGxpbmsgTG9jYWxUcmFja1B1YmxpY2F0aW9ufSBpZiBzdWNjZXNzZnVsXG4gICAgICogQGZpcmVzIFBhcnRpY2lwYW50I3RyYWNrQWRkZWRcbiAgICAqLyAvKipcbiAgICAgICAqIFB1Ymxpc2hlcyBhIE1lZGlhU3RyZWFtVHJhY2sgdG8gdGhlIHtAbGluayBSb29tfS5cbiAgICAgICAqIEBwYXJhbSB7TWVkaWFTdHJlYW1UcmFja30gbWVkaWFTdHJlYW1UcmFjayAtIFRoZSBNZWRpYVN0cmVhbVRyYWNrXG4gICAgICAgKiAgIHRvIHB1Ymxpc2g7IGlmIGEgY29ycmVzcG9uZGluZyB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfSBvclxuICAgICAgICogICB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfSBoYXMgbm90IHlldCBiZWVuIHB1Ymxpc2hlZCwgdGhpcyBtZXRob2Qgd2lsbFxuICAgICAgICogICBjb25zdHJ1Y3Qgb25lXG4gICAgICAgKiBAcGFyYW0ge0xvY2FsVHJhY2tPcHRpb25zfSBbb3B0aW9uc10gLSBUaGUge0BsaW5rIExvY2FsVHJhY2tPcHRpb25zfSBmb3JcbiAgICAgICAqICAgY29uc3RydWN0aW5nIHRoZSAgTWVkaWFTdHJlYW1UcmFjaydzIGNvcnJlc3BvbmRpbmcge0BsaW5rIExvY2FsQXVkaW9UcmFja31cbiAgICAgICAqICAgb3Ige0BsaW5rIExvY2FsVmlkZW9UcmFja31cbiAgICAgICAqIEByZXR1cm5zIHtQcm9taXNlPExvY2FsVHJhY2tQdWJsaWNhdGlvbj59IC0gUmVzb2x2ZXMgd2l0aCB0aGUgY29ycmVzcG9uZGluZ1xuICAgICAgICogICB7QGxpbmsgTG9jYWxUcmFja1B1YmxpY2F0aW9ufSBpZiBzdWNjZXNzZnVsXG4gICAgICAgKiBAZmlyZXMgUGFydGljaXBhbnQjdHJhY2tBZGRlZFxuICAgICAgICogQGV4YW1wbGVcbiAgICAgICAqIHZhciBWaWRlbyA9IHJlcXVpcmUoJ3R3aWxpby12aWRlbycpO1xuICAgICAgICpcbiAgICAgICAqIFZpZGVvLmNvbm5lY3QodG9rZW4sIHtcbiAgICAgICAqICAgbmFtZTogJ215LWNvb2wtcm9vbScsXG4gICAgICAgKiAgIGF1ZGlvOiB0cnVlXG4gICAgICAgKiB9KS50aGVuKGZ1bmN0aW9uKHJvb20pIHtcbiAgICAgICAqICAgLy8gUHVibGlzaCBhIHZpZGVvIE1lZGlhU3RyZWFtVHJhY2sgd2l0aCBhIGN1c3RvbSBuYW1lXG4gICAgICAgKiAgIHJldHVybiByb29tLmxvY2FsUGFydGljaXBhbnQucHVibGlzaFRyYWNrKG1lZGlhU3RyZWFtVHJhY2ssIHtcbiAgICAgICAqICAgICBuYW1lOiAnY2FtZXJhJ1xuICAgICAgICogICB9KTtcbiAgICAgICAqIH0pLnRoZW4oZnVuY3Rpb24ocHVibGljYXRpb24pIHtcbiAgICAgICAqICAgY29uc29sZS5sb2coJ1RoZSBMb2NhbFRyYWNrIFwiJyArIHB1YmxpY2F0aW9uLnRyYWNrTmFtZSArICdcIiB3YXMgc3VjY2Vzc2Z1bGx5IHB1Ymxpc2hlZCcpO1xuICAgICAgICogfSk7XG4gICAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncHVibGlzaFRyYWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHVibGlzaFRyYWNrKGxvY2FsVHJhY2tPck1lZGlhU3RyZWFtVHJhY2ssIG9wdGlvbnMpIHtcbiAgICAgIHZhciB0cmFja1B1YmxpY2F0aW9uID0gZ2V0VHJhY2tQdWJsaWNhdGlvbih0aGlzLnRyYWNrUHVibGljYXRpb25zLCBsb2NhbFRyYWNrT3JNZWRpYVN0cmVhbVRyYWNrKTtcbiAgICAgIGlmICh0cmFja1B1YmxpY2F0aW9uKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJhY2tQdWJsaWNhdGlvbik7XG4gICAgICB9XG5cbiAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgbG9nOiB0aGlzLl9sb2csXG4gICAgICAgIExvY2FsQXVkaW9UcmFjazogdGhpcy5fTG9jYWxBdWRpb1RyYWNrLFxuICAgICAgICBMb2NhbERhdGFUcmFjazogdGhpcy5fTG9jYWxEYXRhVHJhY2ssXG4gICAgICAgIExvY2FsVmlkZW9UcmFjazogdGhpcy5fTG9jYWxWaWRlb1RyYWNrLFxuICAgICAgICBNZWRpYVN0cmVhbVRyYWNrOiB0aGlzLl9NZWRpYVN0cmVhbVRyYWNrXG4gICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgdmFyIGxvY2FsVHJhY2sgPSB2b2lkIDA7XG4gICAgICB0cnkge1xuICAgICAgICBsb2NhbFRyYWNrID0gdXRpbC5hc0xvY2FsVHJhY2sobG9jYWxUcmFja09yTWVkaWFTdHJlYW1UcmFjaywgb3B0aW9ucyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgfVxuXG4gICAgICBsb2NhbFRyYWNrID0gdGhpcy5fYWRkVHJhY2sobG9jYWxUcmFjaykgfHwgdGhpcy50cmFja3MuZ2V0KGxvY2FsVHJhY2suaWQpO1xuICAgICAgcmV0dXJuIHRoaXMuX2dldE9yQ3JlYXRlTG9jYWxUcmFja1B1YmxpY2F0aW9uKGxvY2FsVHJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1Ymxpc2hlcyBtdWx0aXBsZSB7QGxpbmsgTG9jYWxUcmFja31zIHRvIHRoZSB7QGxpbmsgUm9vbX0uXG4gICAgICogQHBhcmFtIHtBcnJheTxMb2NhbFRyYWNrfE1lZGlhU3RyZWFtVHJhY2s+fSB0cmFja3MgLSBUaGUge0BsaW5rIExvY2FsVHJhY2t9c1xuICAgICAqICAgdG8gcHVibGlzaDsgZm9yIGFueSBNZWRpYVN0cmVhbVRyYWNrcyBwcm92aWRlZCwgaWYgYSBjb3JyZXNwb25kaW5nXG4gICAgICogICB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfSBvciB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfSBoYXMgbm90IHlldCBiZWVuXG4gICAgICogICBwdWJsaXNoZWQsIHRoaXMgbWV0aG9kIHdpbGwgY29uc3RydWN0IG9uZVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5PExvY2FsVHJhY2tQdWJsaWNhdGlvbj4+fSAtIFRoZSByZXN1bHRpbmdcbiAgICAgKiAgIHtAbGluayBMb2NhbFRyYWNrUHVibGljYXRpb259c1xuICAgICAqIEBmaXJlcyBQYXJ0aWNpcGFudCN0cmFja0FkZGVkXG4gICAgICogQHRocm93cyB7VHlwZUVycm9yfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdwdWJsaXNoVHJhY2tzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHVibGlzaFRyYWNrcyh0cmFja3MpIHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0cmFja3MpKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG4gICAgICAgIHRocm93IEUuSU5WQUxJRF9UWVBFKCd0cmFja3MnLCAnQXJyYXkgb2YgTG9jYWxBdWRpb1RyYWNrLCBMb2NhbFZpZGVvVHJhY2ssIExvY2FsRGF0YVRyYWNrLCBvciBNZWRpYVN0cmVhbVRyYWNrJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwodHJhY2tzLm1hcCh0aGlzLnB1Ymxpc2hUcmFjaywgdGhpcykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSB7QGxpbmsgTG9jYWxUcmFja30gZnJvbSB0aGUge0BsaW5rIExvY2FsUGFydGljaXBhbnR9LlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudCN1bnB1Ymxpc2hUcmFja30gaW5zdGVhZFxuICAgICAqIEBwYXJhbSB7TG9jYWxUcmFja3xNZWRpYVN0cmVhbVRyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgTG9jYWxUcmFja31cbiAgICAgKiAgIHRvIHJlbW92ZTsgaWYgYSBNZWRpYVN0cmVhbVRyYWNrIGlzIHByb3ZpZGVkLCB0aGlzIG1ldGhvZCBsb29rcyB1cCB0aGVcbiAgICAgKiAgIGNvcnJlc3BvbmRpbmcge0BsaW5rIExvY2FsQXVkaW9UcmFja30gb3Ige0BsaW5rIExvY2FsVmlkZW9UcmFja30gdG8gcmVtb3ZlXG4gICAgICogQHBhcmFtIHs/Ym9vbGVhbn0gW3N0b3A9dHJ1ZV0gLSBXaGV0aGVyIG9yIG5vdCB0byBjYWxsXG4gICAgICogICB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrI3N0b3B9IG9yIHtAbGluayBMb2NhbFZpZGVvVHJhY2sjc3RvcH1cbiAgICAgKiBAcmV0dXJucyB7P0xvY2FsVHJhY2t9IC0gVGhlIHtAbGluayBMb2NhbFRyYWNrfSByZW1vdmVkLCBvdGhlcndpc2UgbnVsbFxuICAgICAqIEBmaXJlcyBQYXJ0aWNpcGFudCN0cmFja1JlbW92ZWRcbiAgICAgKiBAdGhyb3dzIHtUeXBlRXJyb3J9XG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVtb3ZlVHJhY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVUcmFjayh0cmFjaywgc3RvcCkge1xuICAgICAgdGhpcy5fbG9nLmRlcHJlY2F0ZWQoJ0xvY2FsUGFydGljaXBhbnQjcmVtb3ZlVHJhY2sgaGFzIGJlZW4gZGVwcmVjYXRlZC4gJyArICdVc2UgTG9jYWxQYXJ0aWNpcGFudCN1bnB1Ymxpc2hUcmFjayBpbnN0ZWFkLicpO1xuICAgICAgdmFyIHB1YmxpY2F0aW9uID0gdGhpcy51bnB1Ymxpc2hUcmFjayh0cmFjayk7XG4gICAgICB0cmFjayA9IHB1YmxpY2F0aW9uICYmIHB1YmxpY2F0aW9uLnRyYWNrO1xuICAgICAgc3RvcCA9IHR5cGVvZiBzdG9wID09PSAnYm9vbGVhbicgPyBzdG9wIDogdHJ1ZTtcbiAgICAgIGlmICh0cmFjayAmJiBzdG9wICYmIHRyYWNrLmtpbmQgIT09ICdkYXRhJykge1xuICAgICAgICB0cmFjay5zdG9wKCk7XG4gICAgICAgIHRoaXMuX2xvZy5pbmZvKCdTdG9wcGVkIExvY2FsVHJhY2s6JywgdHJhY2spO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRyYWNrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbXVsdGlwbGUge0BsaW5rIExvY2FsVHJhY2t9cyBmcm9tIHRoZSB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH0uXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIHtAbGluayBMb2NhbFBhcnRpY2lwYW50I3VucHVibGlzaFRyYWNrc30gaW5zdGVhZFxuICAgICAqIEBwYXJhbSB7QXJyYXk8TG9jYWxUcmFja3xNZWRpYVN0cmVhbVRyYWNrPn0gdHJhY2tzIC0gVGhlIHtAbGluayBMb2NhbFRyYWNrfXNcbiAgICAgKiAgIHRvIHJlbW92ZTsgZm9yIGFueSBNZWRpYVN0cmVhbVRyYWNrcyBwcm92aWRlZCwgdGhpcyBtZXRob2QgbG9va3MgdXAgdGhlXG4gICAgICogICBjb3JyZXNwb25kaW5nIHtAbGluayBMb2NhbEF1ZGlvVHJhY2t9IG9yIHtAbGluayBMb2NhbFZpZGVvVHJhY2t9IHRvIHJlbW92ZVxuICAgICAqIEBwYXJhbSB7P2Jvb2xlYW59IFtzdG9wPXRydWVdIC0gV2hldGhlciBvciBub3QgdG8gY2FsbFxuICAgICAqICAge0BsaW5rIExvY2FsQXVkaW9UcmFjayNzdG9wfSBvciB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrI3N0b3B9IG9uIGVhY2hcbiAgICAgKiAgIHtAbGluayBMb2NhbEF1ZGlvVHJhY2t9IG9yIHtAbGluayBMb2NhbFZpZGVvVHJhY2t9IHRoYXQgd2FzIHN1Y2Nlc3NmdWxseVxuICAgICAqICAgcmVtb3ZlZFxuICAgICAqIEByZXR1cm5zIHtBcnJheTxMb2NhbFRyYWNrPn0gLSBUaGUge0BsaW5rIExvY2FsVHJhY2t9cyB0aGF0IHdlcmUgc3VjY2Vzc2Z1bGx5XG4gICAgICogICByZW1vdmVkXG4gICAgICogQGZpcmVzIFBhcnRpY2lwYW50I3RyYWNrUmVtb3ZlZFxuICAgICAqIEB0aHJvd3Mge1R5cGVFcnJvcn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVtb3ZlVHJhY2tzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlVHJhY2tzKHRyYWNrcywgc3RvcCkge1xuICAgICAgdGhpcy5fbG9nLmRlcHJlY2F0ZWQoJ0xvY2FsUGFydGljaXBhbnQjcmVtb3ZlVHJhY2tzIGhhcyBiZWVuIGRlcHJlY2F0ZWQuICcgKyAnVXNlIExvY2FsUGFydGljaXBhbnQjdW5wdWJsaXNoVHJhY2tzIGluc3RlYWQuJyk7XG4gICAgICBzdG9wID0gdHlwZW9mIHN0b3AgPT09ICdib29sZWFuJyA/IHN0b3AgOiB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXMudW5wdWJsaXNoVHJhY2tzKHRyYWNrcykubWFwKGZ1bmN0aW9uIChwdWJsaWNhdGlvbikge1xuICAgICAgICB2YXIgdHJhY2sgPSBwdWJsaWNhdGlvbi50cmFjaztcbiAgICAgICAgaWYgKHN0b3AgJiYgdHJhY2sua2luZCAhPT0gJ2RhdGEnKSB7XG4gICAgICAgICAgdHJhY2suc3RvcCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFjaztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUge0BsaW5rIExvY2FsUGFydGljaXBhbnR9J3Mge0BsaW5rIEVuY29kaW5nUGFyYW1ldGVyc30uXG4gICAgICogQHBhcmFtIHs/RW5jb2RpbmdQYXJhbWV0ZXJzfSBbZW5jb2RpbmdQYXJhbWV0ZXJzXSAtIFRoZSBuZXdcbiAgICAgKiAgIHtAbGluayBFbmNvZGluZ1BhcmFtZXRlcnN9OyBJZiBudWxsLCB0aGVuIHRoZSBiaXRyYXRlIGxpbWl0cyBhcmUgcmVtb3ZlZDtcbiAgICAgKiAgIElmIG5vdCBzcGVjaWZpZWQsIHRoZW4gdGhlIGV4aXN0aW5nIGJpdHJhdGUgbGltaXRzIGFyZSBwcmVzZXJ2ZWRcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKiBAdGhyb3dzIHtUeXBlRXJyb3J9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NldFBhcmFtZXRlcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQYXJhbWV0ZXJzKGVuY29kaW5nUGFyYW1ldGVycykge1xuICAgICAgaWYgKHR5cGVvZiBlbmNvZGluZ1BhcmFtZXRlcnMgIT09ICd1bmRlZmluZWQnICYmICh0eXBlb2YgZW5jb2RpbmdQYXJhbWV0ZXJzID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihlbmNvZGluZ1BhcmFtZXRlcnMpKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcbiAgICAgICAgdGhyb3cgRS5JTlZBTElEX1RZUEUoJ2VuY29kaW5nUGFyYW1ldGVycycsICdFbmNvZGluZ1BhcmFtZXRlcnMsIG51bGwgb3IgdW5kZWZpbmVkJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbmNvZGluZ1BhcmFtZXRlcnMpIHtcbiAgICAgICAgWydtYXhBdWRpb0JpdHJhdGUnLCAnbWF4VmlkZW9CaXRyYXRlJ10uZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgZW5jb2RpbmdQYXJhbWV0ZXJzW3Byb3BdICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZW5jb2RpbmdQYXJhbWV0ZXJzW3Byb3BdICE9PSAnbnVtYmVyJyAmJiBlbmNvZGluZ1BhcmFtZXRlcnNbcHJvcF0gIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwXG4gICAgICAgICAgICB0aHJvdyBFLklOVkFMSURfVFlQRSgnZW5jb2RpbmdQYXJhbWV0ZXJzLicgKyBwcm9wLCAnbnVtYmVyLCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGVuY29kaW5nUGFyYW1ldGVycyA9PT0gbnVsbCkge1xuICAgICAgICBlbmNvZGluZ1BhcmFtZXRlcnMgPSB7IG1heEF1ZGlvQml0cmF0ZTogbnVsbCwgbWF4VmlkZW9CaXRyYXRlOiBudWxsIH07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3NpZ25hbGluZy5zZXRQYXJhbWV0ZXJzKGVuY29kaW5nUGFyYW1ldGVycyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyBwdWJsaXNoaW5nIGEge0BsaW5rIExvY2FsVHJhY2t9IHRvIHRoZSB7QGxpbmsgUm9vbX0uXG4gICAgICogQHBhcmFtIHtMb2NhbFRyYWNrfE1lZGlhU3RyZWFtVHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBMb2NhbFRyYWNrfVxuICAgICAqICAgdG8gc3RvcCBwdWJsaXNoaW5nOyBpZiBhIE1lZGlhU3RyZWFtVHJhY2sgaXMgcHJvdmlkZWQsIHRoaXMgbWV0aG9kXG4gICAgICogICBsb29rcyB1cCB0aGUgY29ycmVzcG9uZGluZyB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfSBvclxuICAgICAqICAge0BsaW5rIExvY2FsVmlkZW9UcmFja30gdG8gc3RvcCBwdWJsaXNoaW5nXG4gICAgICogQHJldHVybnMgez9Mb2NhbFRyYWNrUHVibGljYXRpb259IC0gVGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiAgIHtAbGluayBMb2NhbFRyYWNrUHVibGljYXRpb259IGlmIHRoZSB7QGxpbmsgTG9jYWxUcmFja30gd2FzIHByZXZpb3VzbHlcbiAgICAgKiAgIHB1Ymxpc2hlZCwgbnVsbCBvdGhlcndpc2VcbiAgICAgKiBAZmlyZXMgUGFydGljaXBhbnQjdHJhY2tSZW1vdmVkXG4gICAgICogQHRocm93cyB7VHlwZUVycm9yfVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3VucHVibGlzaFRyYWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5wdWJsaXNoVHJhY2sodHJhY2spIHtcbiAgICAgIHV0aWwudmFsaWRhdGVMb2NhbFRyYWNrKHRyYWNrLCB7XG4gICAgICAgIExvY2FsQXVkaW9UcmFjazogdGhpcy5fTG9jYWxBdWRpb1RyYWNrLFxuICAgICAgICBMb2NhbERhdGFUcmFjazogdGhpcy5fTG9jYWxEYXRhVHJhY2ssXG4gICAgICAgIExvY2FsVmlkZW9UcmFjazogdGhpcy5fTG9jYWxWaWRlb1RyYWNrLFxuICAgICAgICBNZWRpYVN0cmVhbVRyYWNrOiB0aGlzLl9NZWRpYVN0cmVhbVRyYWNrXG4gICAgICB9KTtcblxuICAgICAgdmFyIGxvY2FsVHJhY2sgPSB0aGlzLnRyYWNrcy5nZXQodHJhY2suaWQpO1xuICAgICAgaWYgKCFsb2NhbFRyYWNrKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgdHJhY2tTaWduYWxpbmcgPSB0aGlzLl9zaWduYWxpbmcudHJhY2tzLmdldChsb2NhbFRyYWNrLmlkKTtcbiAgICAgIHRyYWNrU2lnbmFsaW5nLnB1Ymxpc2hGYWlsZWQobmV3IEVycm9yKCdUaGUgJyArIGxvY2FsVHJhY2sgKyAnIHdhcyB1bnB1Ymxpc2hlZCcpKTtcblxuICAgICAgdmFyIGxvY2FsVHJhY2tQdWJsaWNhdGlvbiA9IGdldFRyYWNrUHVibGljYXRpb24odGhpcy50cmFja1B1YmxpY2F0aW9ucywgbG9jYWxUcmFjayk7XG4gICAgICB0aGlzLl9yZW1vdmVUcmFjayhsb2NhbFRyYWNrKTtcbiAgICAgIGlmIChsb2NhbFRyYWNrUHVibGljYXRpb24pIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlVHJhY2tQdWJsaWNhdGlvbihsb2NhbFRyYWNrUHVibGljYXRpb24pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbG9jYWxUcmFja1B1YmxpY2F0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHB1Ymxpc2hpbmcgbXVsdGlwbGUge0BsaW5rIExvY2FsVHJhY2t9cyB0byB0aGUge0BsaW5rIFJvb219LlxuICAgICAqIEBwYXJhbSB7QXJyYXk8TG9jYWxUcmFja3xNZWRpYVN0cmVhbVRyYWNrPn0gdHJhY2tzIC0gVGhlIHtAbGluayBMb2NhbFRyYWNrfXNcbiAgICAgKiAgIHRvIHN0b3AgcHVibGlzaGluZzsgZm9yIGFueSBNZWRpYVN0cmVhbVRyYWNrcyBwcm92aWRlZCwgdGhpcyBtZXRob2QgbG9va3NcbiAgICAgKiAgIHVwIHRoZSBjb3JyZXNwb25kaW5nIHtAbGluayBMb2NhbEF1ZGlvVHJhY2t9IG9yIHtAbGluayBMb2NhbFZpZGVvVHJhY2t9IHRvXG4gICAgICogICBzdG9wIHB1Ymxpc2hpbmdcbiAgICAgKiBAcmV0dXJucyB7QXJyYXk8TG9jYWxUcmFja1B1YmxpY2F0aW9uPn0gLSBUaGUgY29ycmVzcG9uZGluZ1xuICAgICAqICAge0BsaW5rIExvY2FsVHJhY2tQdWJsaWNhdGlvbn1zIHRoYXQgd2VyZSBzdWNjZXNzZnVsbHkgdW5wdWJsaXNoZWRcbiAgICAgKiBAZmlyZXMgUGFydGljaXBhbnQjdHJhY2tSZW1vdmVkXG4gICAgICogQHRocm93cyB7VHlwZUVycm9yfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd1bnB1Ymxpc2hUcmFja3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bnB1Ymxpc2hUcmFja3ModHJhY2tzKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRyYWNrcykpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcbiAgICAgICAgdGhyb3cgRS5JTlZBTElEX1RZUEUoJ3RyYWNrcycsICdBcnJheSBvZiBMb2NhbEF1ZGlvVHJhY2ssIExvY2FsVmlkZW9UcmFjaywgTG9jYWxEYXRhVHJhY2ssIG9yIE1lZGlhU3RyZWFtVHJhY2snKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRyYWNrcy5yZWR1Y2UoZnVuY3Rpb24gKHVucHVibGlzaGVkVHJhY2tzLCB0cmFjaykge1xuICAgICAgICB2YXIgdW5wdWJsaXNoZWRUcmFjayA9IF90aGlzMy51bnB1Ymxpc2hUcmFjayh0cmFjayk7XG4gICAgICAgIHJldHVybiB1bnB1Ymxpc2hlZFRyYWNrID8gdW5wdWJsaXNoZWRUcmFja3MuY29uY2F0KHVucHVibGlzaGVkVHJhY2spIDogdW5wdWJsaXNoZWRUcmFja3M7XG4gICAgICB9LCBbXSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExvY2FsUGFydGljaXBhbnQ7XG59KFBhcnRpY2lwYW50KTtcblxuLyoqXG4gKiBBIHtAbGluayBMb2NhbFRyYWNrfSB3YXMgYWRkZWQgYnkgdGhlIHtAbGluayBMb2NhbFBhcnRpY2lwYW50fS5cbiAqIEBwYXJhbSB7TG9jYWxUcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIExvY2FsVHJhY2t9IHRoYXQgd2FzIGFkZGVkXG4gKiBAZXZlbnQgTG9jYWxQYXJ0aWNpcGFudCN0cmFja0FkZGVkXG4gKiBAZGVwcmVjYXRlZCBJZiB5b3UgYXJlIHVzaW5nIHRoaXMgZXZlbnQgdG8gbW9uaXRvciB7QGxpbmsgTG9jYWxUcmFja31zIHRoYXRcbiAqICAgYXJlIHB1Ymxpc2hlZCB0byB0aGUge0BsaW5rIFJvb219LCBhbHRlcm5hdGl2ZWx5IHlvdSBjYW4gYWNjZXNzIHRoZSAudHJhY2tzXG4gKiAgIGNvbGxlY3Rpb24gd2hpY2ggY29udGFpbnMgdGhlIG5ld2x5IGFkZGVkIHtAbGluayBMb2NhbFRyYWNrfXMgcmlnaHQgYWZ0ZXJcbiAqICAge0BsaW5rIExvY2FsUGFydGljaXBhbnQjcHVibGlzaFRyYWNrfShzKSBpcyBjYWxsZWRcbiAqL1xuXG4vKipcbiAqIE9uZSBvZiB0aGUge0BsaW5rIExvY2FsUGFydGljaXBhbnR9J3Mge0BsaW5rIExvY2FsVmlkZW9UcmFja30ncyBkaW1lbnNpb25zIGNoYW5nZWQuXG4gKiBAcGFyYW0ge0xvY2FsVmlkZW9UcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIExvY2FsVmlkZW9UcmFja30gd2hvc2UgZGltZW5zaW9ucyBjaGFuZ2VkXG4gKiBAZXZlbnQgTG9jYWxQYXJ0aWNpcGFudCN0cmFja0RpbWVuc2lvbnNDaGFuZ2VkXG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBMb2NhbFRyYWNrfSB3YXMgZGlzYWJsZWQgYnkgdGhlIHtAbGluayBMb2NhbFBhcnRpY2lwYW50fS5cbiAqIEBwYXJhbSB7TG9jYWxUcmFja30gdHJhY2sgLSBUaGUge0BsaW5rIExvY2FsVHJhY2t9IHRoYXQgd2FzIGRpc2FibGVkXG4gKiBAZXZlbnQgTG9jYWxQYXJ0aWNpcGFudCN0cmFja0Rpc2FibGVkXG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBMb2NhbFRyYWNrfSB3YXMgZW5hYmxlZCBieSB0aGUge0BsaW5rIExvY2FsUGFydGljaXBhbnR9LlxuICogQHBhcmFtIHtMb2NhbFRyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgTG9jYWxUcmFja30gdGhhdCB3YXMgZW5hYmxlZFxuICogQGV2ZW50IExvY2FsUGFydGljaXBhbnQjdHJhY2tFbmFibGVkXG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBMb2NhbFRyYWNrfSBmYWlsZWQgdG8gcHVibGlzaC4gQ2hlY2sgdGhlIGVycm9yIG1lc3NhZ2UgZm9yIG1vcmVcbiAqIGluZm9ybWF0aW9uLlxuICogQHBhcmFtIHtUd2lsaW9FcnJvcn0gZXJyb3IgLSBBIHtAbGluayBUd2lsaW9FcnJvcn0gZXhwbGFpbmluZyB3aHkgcHVibGljYXRpb25cbiAqICAgZmFpbGVkXG4gKiBAcGFyYW0ge0xvY2FsVHJhY2t9IGxvY2FsVHJhY2sgLSBUaGUge0BsaW5rIExvY2FsVHJhY2t9IHRoYXQgZmFpbGVkIHRvXG4gKiAgIHB1Ymxpc2hcbiAqIEBldmVudCBMb2NhbFBhcnRpY2lwYW50I3RyYWNrUHVibGljYXRpb25GYWlsZWRcbiAqL1xuXG4vKipcbiAqIEEge0BsaW5rIExvY2FsVHJhY2t9IHdhcyBzdWNjZXNzZnVsbHkgcHVibGlzaGVkLlxuICogQHBhcmFtIHtMb2NhbFRyYWNrUHVibGljYXRpb259IHB1YmxpY2F0aW9uIC0gVGhlIHJlc3VsdGluZ1xuICogICB7QGxpbmsgTG9jYWxUcmFja1B1YmxpY2F0aW9ufSBmb3IgdGhlIHB1Ymxpc2hlZCB7QGxpbmsgTG9jYWxUcmFja31cbiAqIEBldmVudCBMb2NhbFBhcnRpY2lwYW50I3RyYWNrUHVibGlzaGVkXG4gKi9cblxuLyoqXG4gKiBBIHtAbGluayBMb2NhbFRyYWNrfSB3YXMgcmVtb3ZlZCBieSB0aGUge0BsaW5rIExvY2FsUGFydGljaXBhbnR9LlxuICogQHBhcmFtIHtMb2NhbFRyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgTG9jYWxUcmFja30gdGhhdCB3YXMgcmVtb3ZlZFxuICogQGV2ZW50IExvY2FsUGFydGljaXBhbnQjdHJhY2tSZW1vdmVkXG4gKiBAZGVwcmVjYXRlZCBJZiB5b3UgYXJlIHVzaW5nIHRoaXMgZXZlbnQgdG8gbW9uaXRvciB7QGxpbmsgTG9jYWxUcmFja31zIHRoYXRcbiAqICAgYXJlIHVucHVibGlzaGVkIGZyb20gdGhlIHtAbGluayBSb29tfSwgYWx0ZXJuYXRpdmVseSB5b3UgY2FuIG1vbml0b3IgdGhlXG4gKiAgIHJldHVybiB2YWx1ZSBvZiB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudCN1bnB1Ymxpc2hUcmFja30ocyksIHdoaWNoIGlzIHRoZVxuICogICByZW1vdmVkIHtAbGluayBMb2NhbFRyYWNrfShzKVxuICovXG5cbi8qKlxuICogT25lIG9mIHRoZSB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH0ncyB7QGxpbmsgTG9jYWxUcmFja31zIHN0YXJ0ZWQuXG4gKiBAcGFyYW0ge0xvY2FsVHJhY2t9IHRyYWNrIC0gVGhlIHtAbGluayBMb2NhbFRyYWNrfSB0aGF0IHN0YXJ0ZWRcbiAqIEBldmVudCBMb2NhbFBhcnRpY2lwYW50I3RyYWNrU3RhcnRlZFxuICovXG5cbi8qKlxuICogT25lIG9mIHRoZSB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudH0ncyB7QGxpbmsgTG9jYWxUcmFja31zIHN0b3BwZWQsIGVpdGhlclxuICogYmVjYXVzZSB7QGxpbmsgTG9jYWxUcmFjayNzdG9wfSB3YXMgY2FsbGVkIG9yIGJlY2F1c2UgdGhlIHVuZGVybHlpbmdcbiAqIE1lZGlhU3RyZWFtVHJhY2sgZW5kZWQpLlxuICogQHBhcmFtIHtMb2NhbFRyYWNrfSB0cmFjayAtIFRoZSB7QGxpbmsgTG9jYWxUcmFja30gdGhhdCBzdG9wcGVkXG4gKiBAZXZlbnQgTG9jYWxQYXJ0aWNpcGFudCN0cmFja1N0b3BwZWRcbiAqL1xuXG4vKipcbiAqIE91dGdvaW5nIG1lZGlhIGVuY29kaW5nIHBhcmFtZXRlcnMuXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBFbmNvZGluZ1BhcmFtZXRlcnNcbiAqIEBwcm9wZXJ0eSB7P251bWJlcn0gW21heEF1ZGlvQml0cmF0ZV0gLSBNYXggb3V0Z29pbmcgYXVkaW8gYml0cmF0ZSAoYnBzKTtcbiAqICAgSWYgbm90IHNwZWNpZmllZCwgcmV0YWlucyB0aGUgZXhpc3RpbmcgYml0cmF0ZSBsaW1pdDsgQSA8Y29kZT5udWxsPC9jb2RlPlxuICogICB2YWx1ZSByZW1vdmVzIGFueSBwcmV2aW91c2x5IHNldCBiaXRyYXRlIGxpbWl0XG4gKiBAcHJvcGVydHkgez9udW1iZXJ9IFttYXhWaWRlb0JpdHJhdGVdIC0gTWF4IG91dGdvaW5nIHZpZGVvIGJpdHJhdGUgKGJwcyk7XG4gKiAgIElmIG5vdCBzcGVjaWZpZWQsIHJldGFpbnMgdGhlIGV4aXN0aW5nIGJpdHJhdGUgbGltaXQ7IEEgPGNvZGU+bnVsbDwvY29kZT5cbiAqICAgdmFsdWUgcmVtb3ZlcyBhbnkgcHJldmlvdXNseSBzZXQgYml0cmF0ZSBsaW1pdFxuICovXG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7TWFwPFRyYWNrLlNJRCwgTG9jYWxUcmFja1B1YmxpY2F0aW9uPn0gdHJhY2tQdWJsaWNhdGlvbnNcbiAqIEBwYXJhbSB7TG9jYWxUcmFja3xNZWRpYVN0cmVhbVRyYWNrfSB0cmFja1xuICogQHJldHVybnMgez9Mb2NhbFRyYWNrUHVibGljYXRpb259IHRyYWNrUHVibGljYXRpb25cbiAqL1xuXG5cbmZ1bmN0aW9uIGdldFRyYWNrUHVibGljYXRpb24odHJhY2tQdWJsaWNhdGlvbnMsIHRyYWNrKSB7XG4gIHJldHVybiBBcnJheS5mcm9tKHRyYWNrUHVibGljYXRpb25zLnZhbHVlcygpKS5maW5kKGZ1bmN0aW9uICh0cmFja1B1YmxpY2F0aW9uKSB7XG4gICAgcmV0dXJuIHRyYWNrUHVibGljYXRpb24udHJhY2sgPT09IHRyYWNrIHx8IHRyYWNrUHVibGljYXRpb24udHJhY2subWVkaWFTdHJlYW1UcmFjayA9PT0gdHJhY2s7XG4gIH0pIHx8IG51bGw7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTG9jYWxQYXJ0aWNpcGFudDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L2xvY2FscGFydGljaXBhbnQuanNcbi8vIG1vZHVsZSBpZCA9IDI5OFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///298\n");

/***/ }),
/* 299 */
/*!*********************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/localaudiotrackpublication.js ***!
  \*********************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LocalTrackPublication = __webpack_require__(/*! ./localtrackpublication */ 227);\n\n/**\n * A {@link LocalAudioTrackPublication} is a {@link LocalAudioTrack} that has\n * been published to a {@link Room}.\n * @extends LocalTrackPublication\n * @property {Track.Kind} kind - \"audio\"\n * @property {LocalAudioTrack} track - the {@link LocalAudioTrack}\n */\n\nvar LocalAudioTrackPublication = function (_LocalTrackPublicatio) {\n  _inherits(LocalAudioTrackPublication, _LocalTrackPublicatio);\n\n  /**\n   * Construct a {@link LocalAudioTrackPublication}.\n   * @param {Track.SID} trackSid - SID assigned to the published {@link LocalAudioTrack}\n   * @param {LocalAudioTrack} track - the {@link LocalAudioTrack}\n   * @param {function(LocalTrackPublication): void} unpublish - The callback\n   *    that unpublishes the {@link LocalTrackPublication}\n   * @param {TrackPublicationOptions} options - {@link LocalTrackPublication} options\n   */\n  function LocalAudioTrackPublication(trackSid, track, unpublish, options) {\n    _classCallCheck(this, LocalAudioTrackPublication);\n\n    return _possibleConstructorReturn(this, (LocalAudioTrackPublication.__proto__ || Object.getPrototypeOf(LocalAudioTrackPublication)).call(this, trackSid, track, unpublish, options));\n  }\n\n  _createClass(LocalAudioTrackPublication, [{\n    key: 'toString',\n    value: function toString() {\n      return '[LocalAudioTrackPublication #' + this._instanceId + ': ' + this.trackSid + ']';\n    }\n  }]);\n\n  return LocalAudioTrackPublication;\n}(LocalTrackPublication);\n\nmodule.exports = LocalAudioTrackPublication;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9sb2NhbGF1ZGlvdHJhY2twdWJsaWNhdGlvbi5qcz82N2I1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLDRCQUE0QixtQkFBTyxDQUFDLGtDQUF5Qjs7QUFFN0Q7QUFDQSxNQUFNLGlDQUFpQyxPQUFPLHNCQUFzQjtBQUNwRSx3QkFBd0IsV0FBVztBQUNuQztBQUNBLGNBQWMsV0FBVztBQUN6QixjQUFjLGdCQUFnQixjQUFjO0FBQzVDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsaUNBQWlDO0FBQ25ELGFBQWEsVUFBVSwyQ0FBMkM7QUFDbEUsYUFBYSxnQkFBZ0IsY0FBYztBQUMzQyxhQUFhLHNDQUFzQztBQUNuRCw4QkFBOEI7QUFDOUIsYUFBYSx3QkFBd0IsWUFBWSw0QkFBNEI7QUFDN0U7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjI5OS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgTG9jYWxUcmFja1B1YmxpY2F0aW9uID0gcmVxdWlyZSgnLi9sb2NhbHRyYWNrcHVibGljYXRpb24nKTtcblxuLyoqXG4gKiBBIHtAbGluayBMb2NhbEF1ZGlvVHJhY2tQdWJsaWNhdGlvbn0gaXMgYSB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfSB0aGF0IGhhc1xuICogYmVlbiBwdWJsaXNoZWQgdG8gYSB7QGxpbmsgUm9vbX0uXG4gKiBAZXh0ZW5kcyBMb2NhbFRyYWNrUHVibGljYXRpb25cbiAqIEBwcm9wZXJ0eSB7VHJhY2suS2luZH0ga2luZCAtIFwiYXVkaW9cIlxuICogQHByb3BlcnR5IHtMb2NhbEF1ZGlvVHJhY2t9IHRyYWNrIC0gdGhlIHtAbGluayBMb2NhbEF1ZGlvVHJhY2t9XG4gKi9cblxudmFyIExvY2FsQXVkaW9UcmFja1B1YmxpY2F0aW9uID0gZnVuY3Rpb24gKF9Mb2NhbFRyYWNrUHVibGljYXRpbykge1xuICBfaW5oZXJpdHMoTG9jYWxBdWRpb1RyYWNrUHVibGljYXRpb24sIF9Mb2NhbFRyYWNrUHVibGljYXRpbyk7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBMb2NhbEF1ZGlvVHJhY2tQdWJsaWNhdGlvbn0uXG4gICAqIEBwYXJhbSB7VHJhY2suU0lEfSB0cmFja1NpZCAtIFNJRCBhc3NpZ25lZCB0byB0aGUgcHVibGlzaGVkIHtAbGluayBMb2NhbEF1ZGlvVHJhY2t9XG4gICAqIEBwYXJhbSB7TG9jYWxBdWRpb1RyYWNrfSB0cmFjayAtIHRoZSB7QGxpbmsgTG9jYWxBdWRpb1RyYWNrfVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKExvY2FsVHJhY2tQdWJsaWNhdGlvbik6IHZvaWR9IHVucHVibGlzaCAtIFRoZSBjYWxsYmFja1xuICAgKiAgICB0aGF0IHVucHVibGlzaGVzIHRoZSB7QGxpbmsgTG9jYWxUcmFja1B1YmxpY2F0aW9ufVxuICAgKiBAcGFyYW0ge1RyYWNrUHVibGljYXRpb25PcHRpb25zfSBvcHRpb25zIC0ge0BsaW5rIExvY2FsVHJhY2tQdWJsaWNhdGlvbn0gb3B0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gTG9jYWxBdWRpb1RyYWNrUHVibGljYXRpb24odHJhY2tTaWQsIHRyYWNrLCB1bnB1Ymxpc2gsIG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9jYWxBdWRpb1RyYWNrUHVibGljYXRpb24pO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMb2NhbEF1ZGlvVHJhY2tQdWJsaWNhdGlvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKExvY2FsQXVkaW9UcmFja1B1YmxpY2F0aW9uKSkuY2FsbCh0aGlzLCB0cmFja1NpZCwgdHJhY2ssIHVucHVibGlzaCwgb3B0aW9ucykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKExvY2FsQXVkaW9UcmFja1B1YmxpY2F0aW9uLCBbe1xuICAgIGtleTogJ3RvU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJ1tMb2NhbEF1ZGlvVHJhY2tQdWJsaWNhdGlvbiAjJyArIHRoaXMuX2luc3RhbmNlSWQgKyAnOiAnICsgdGhpcy50cmFja1NpZCArICddJztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTG9jYWxBdWRpb1RyYWNrUHVibGljYXRpb247XG59KExvY2FsVHJhY2tQdWJsaWNhdGlvbik7XG5cbm1vZHVsZS5leHBvcnRzID0gTG9jYWxBdWRpb1RyYWNrUHVibGljYXRpb247XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9sb2NhbGF1ZGlvdHJhY2twdWJsaWNhdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gMjk5XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///299\n");

/***/ }),
/* 300 */
/*!********************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/localdatatrackpublication.js ***!
  \********************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LocalTrackPublication = __webpack_require__(/*! ./localtrackpublication */ 227);\n\n/**\n * A {@link LocalDataTrackPublication} is a {@link LocalDataTrack} that has been\n * published to a {@link Room}.\n * @extends LocalTrackPublication\n * @property {Track.Kind} kind - \"data\"\n * @property {LocalDataTrack} track - the {@link LocalDataTrack}\n */\n\nvar LocalDataTrackPublication = function (_LocalTrackPublicatio) {\n  _inherits(LocalDataTrackPublication, _LocalTrackPublicatio);\n\n  /**\n   * Construct a {@link LocalDataTrackPublication}.\n   * @param {Track.SID} trackSid - SID assigned to the published {@link LocalDataTrack}\n   * @param {LocalDataTrack} track - the {@link LocalDataTrack}\n   * @param {function(LocalTrackPublication): void} unpublish - The callback\n   *    that unpublishes the {@link LocalTrackPublication}\n   * @param {TrackPublicationOptions} options - {@link LocalTrackPublication} options\n   */\n  function LocalDataTrackPublication(trackSid, track, unpublish, options) {\n    _classCallCheck(this, LocalDataTrackPublication);\n\n    return _possibleConstructorReturn(this, (LocalDataTrackPublication.__proto__ || Object.getPrototypeOf(LocalDataTrackPublication)).call(this, trackSid, track, unpublish, options));\n  }\n\n  _createClass(LocalDataTrackPublication, [{\n    key: 'toString',\n    value: function toString() {\n      return '[LocalDataTrackPublication #' + this._instanceId + ': ' + this.trackSid + ']';\n    }\n  }]);\n\n  return LocalDataTrackPublication;\n}(LocalTrackPublication);\n\nmodule.exports = LocalDataTrackPublication;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9sb2NhbGRhdGF0cmFja3B1YmxpY2F0aW9uLmpzPzg4NDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsNEJBQTRCLG1CQUFPLENBQUMsa0NBQXlCOztBQUU3RDtBQUNBLE1BQU0sZ0NBQWdDLE9BQU8scUJBQXFCO0FBQ2xFLG1CQUFtQixXQUFXO0FBQzlCO0FBQ0EsY0FBYyxXQUFXO0FBQ3pCLGNBQWMsZUFBZSxjQUFjO0FBQzNDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsZ0NBQWdDO0FBQ2xELGFBQWEsVUFBVSwyQ0FBMkM7QUFDbEUsYUFBYSxlQUFlLGNBQWM7QUFDMUMsYUFBYSxzQ0FBc0M7QUFDbkQsOEJBQThCO0FBQzlCLGFBQWEsd0JBQXdCLFlBQVksNEJBQTRCO0FBQzdFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIzMDAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIExvY2FsVHJhY2tQdWJsaWNhdGlvbiA9IHJlcXVpcmUoJy4vbG9jYWx0cmFja3B1YmxpY2F0aW9uJyk7XG5cbi8qKlxuICogQSB7QGxpbmsgTG9jYWxEYXRhVHJhY2tQdWJsaWNhdGlvbn0gaXMgYSB7QGxpbmsgTG9jYWxEYXRhVHJhY2t9IHRoYXQgaGFzIGJlZW5cbiAqIHB1Ymxpc2hlZCB0byBhIHtAbGluayBSb29tfS5cbiAqIEBleHRlbmRzIExvY2FsVHJhY2tQdWJsaWNhdGlvblxuICogQHByb3BlcnR5IHtUcmFjay5LaW5kfSBraW5kIC0gXCJkYXRhXCJcbiAqIEBwcm9wZXJ0eSB7TG9jYWxEYXRhVHJhY2t9IHRyYWNrIC0gdGhlIHtAbGluayBMb2NhbERhdGFUcmFja31cbiAqL1xuXG52YXIgTG9jYWxEYXRhVHJhY2tQdWJsaWNhdGlvbiA9IGZ1bmN0aW9uIChfTG9jYWxUcmFja1B1YmxpY2F0aW8pIHtcbiAgX2luaGVyaXRzKExvY2FsRGF0YVRyYWNrUHVibGljYXRpb24sIF9Mb2NhbFRyYWNrUHVibGljYXRpbyk7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBMb2NhbERhdGFUcmFja1B1YmxpY2F0aW9ufS5cbiAgICogQHBhcmFtIHtUcmFjay5TSUR9IHRyYWNrU2lkIC0gU0lEIGFzc2lnbmVkIHRvIHRoZSBwdWJsaXNoZWQge0BsaW5rIExvY2FsRGF0YVRyYWNrfVxuICAgKiBAcGFyYW0ge0xvY2FsRGF0YVRyYWNrfSB0cmFjayAtIHRoZSB7QGxpbmsgTG9jYWxEYXRhVHJhY2t9XG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oTG9jYWxUcmFja1B1YmxpY2F0aW9uKTogdm9pZH0gdW5wdWJsaXNoIC0gVGhlIGNhbGxiYWNrXG4gICAqICAgIHRoYXQgdW5wdWJsaXNoZXMgdGhlIHtAbGluayBMb2NhbFRyYWNrUHVibGljYXRpb259XG4gICAqIEBwYXJhbSB7VHJhY2tQdWJsaWNhdGlvbk9wdGlvbnN9IG9wdGlvbnMgLSB7QGxpbmsgTG9jYWxUcmFja1B1YmxpY2F0aW9ufSBvcHRpb25zXG4gICAqL1xuICBmdW5jdGlvbiBMb2NhbERhdGFUcmFja1B1YmxpY2F0aW9uKHRyYWNrU2lkLCB0cmFjaywgdW5wdWJsaXNoLCBvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvY2FsRGF0YVRyYWNrUHVibGljYXRpb24pO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMb2NhbERhdGFUcmFja1B1YmxpY2F0aW9uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTG9jYWxEYXRhVHJhY2tQdWJsaWNhdGlvbikpLmNhbGwodGhpcywgdHJhY2tTaWQsIHRyYWNrLCB1bnB1Ymxpc2gsIG9wdGlvbnMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhMb2NhbERhdGFUcmFja1B1YmxpY2F0aW9uLCBbe1xuICAgIGtleTogJ3RvU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJ1tMb2NhbERhdGFUcmFja1B1YmxpY2F0aW9uICMnICsgdGhpcy5faW5zdGFuY2VJZCArICc6ICcgKyB0aGlzLnRyYWNrU2lkICsgJ10nO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMb2NhbERhdGFUcmFja1B1YmxpY2F0aW9uO1xufShMb2NhbFRyYWNrUHVibGljYXRpb24pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IExvY2FsRGF0YVRyYWNrUHVibGljYXRpb247XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9sb2NhbGRhdGF0cmFja3B1YmxpY2F0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAzMDBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///300\n");

/***/ }),
/* 301 */
/*!*********************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/localvideotrackpublication.js ***!
  \*********************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LocalTrackPublication = __webpack_require__(/*! ./localtrackpublication */ 227);\n\n/**\n * A {@link LocalVideoTrackPublication} is a {@link LocalVideoTrack} that has\n * been published to a {@link Room}.\n * @extends LocalTrackPublication\n * @property {Track.Kind} kind - \"video\"\n * @property {LocalVideoTrack} track - the {@link LocalVideoTrack}\n */\n\nvar LocalVideoTrackPublication = function (_LocalTrackPublicatio) {\n  _inherits(LocalVideoTrackPublication, _LocalTrackPublicatio);\n\n  /**\n   * Construct a {@link LocalVideoTrackPublication}.\n   * @param {Track.SID} trackSid - SID assigned to the published {@link LocalVideoTrack}\n   * @param {LocalVideoTrack} track - the {@link LocalVideoTrack}\n   * @param {function(LocalTrackPublication): void} unpublish - The callback\n   *    that unpublishes the {@link LocalTrackPublication}\n   * @param {TrackPublicationOptions} options - {@link LocalTrackPublication} options\n   */\n  function LocalVideoTrackPublication(trackSid, track, unpublish, options) {\n    _classCallCheck(this, LocalVideoTrackPublication);\n\n    return _possibleConstructorReturn(this, (LocalVideoTrackPublication.__proto__ || Object.getPrototypeOf(LocalVideoTrackPublication)).call(this, trackSid, track, unpublish, options));\n  }\n\n  _createClass(LocalVideoTrackPublication, [{\n    key: 'toString',\n    value: function toString() {\n      return '[LocalVideoTrackPublication #' + this._instanceId + ': ' + this.trackSid + ']';\n    }\n  }]);\n\n  return LocalVideoTrackPublication;\n}(LocalTrackPublication);\n\nmodule.exports = LocalVideoTrackPublication;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9sb2NhbHZpZGVvdHJhY2twdWJsaWNhdGlvbi5qcz8wMTVjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLDRCQUE0QixtQkFBTyxDQUFDLGtDQUF5Qjs7QUFFN0Q7QUFDQSxNQUFNLGlDQUFpQyxPQUFPLHNCQUFzQjtBQUNwRSx3QkFBd0IsV0FBVztBQUNuQztBQUNBLGNBQWMsV0FBVztBQUN6QixjQUFjLGdCQUFnQixjQUFjO0FBQzVDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsaUNBQWlDO0FBQ25ELGFBQWEsVUFBVSwyQ0FBMkM7QUFDbEUsYUFBYSxnQkFBZ0IsY0FBYztBQUMzQyxhQUFhLHNDQUFzQztBQUNuRCw4QkFBOEI7QUFDOUIsYUFBYSx3QkFBd0IsWUFBWSw0QkFBNEI7QUFDN0U7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjMwMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgTG9jYWxUcmFja1B1YmxpY2F0aW9uID0gcmVxdWlyZSgnLi9sb2NhbHRyYWNrcHVibGljYXRpb24nKTtcblxuLyoqXG4gKiBBIHtAbGluayBMb2NhbFZpZGVvVHJhY2tQdWJsaWNhdGlvbn0gaXMgYSB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfSB0aGF0IGhhc1xuICogYmVlbiBwdWJsaXNoZWQgdG8gYSB7QGxpbmsgUm9vbX0uXG4gKiBAZXh0ZW5kcyBMb2NhbFRyYWNrUHVibGljYXRpb25cbiAqIEBwcm9wZXJ0eSB7VHJhY2suS2luZH0ga2luZCAtIFwidmlkZW9cIlxuICogQHByb3BlcnR5IHtMb2NhbFZpZGVvVHJhY2t9IHRyYWNrIC0gdGhlIHtAbGluayBMb2NhbFZpZGVvVHJhY2t9XG4gKi9cblxudmFyIExvY2FsVmlkZW9UcmFja1B1YmxpY2F0aW9uID0gZnVuY3Rpb24gKF9Mb2NhbFRyYWNrUHVibGljYXRpbykge1xuICBfaW5oZXJpdHMoTG9jYWxWaWRlb1RyYWNrUHVibGljYXRpb24sIF9Mb2NhbFRyYWNrUHVibGljYXRpbyk7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBMb2NhbFZpZGVvVHJhY2tQdWJsaWNhdGlvbn0uXG4gICAqIEBwYXJhbSB7VHJhY2suU0lEfSB0cmFja1NpZCAtIFNJRCBhc3NpZ25lZCB0byB0aGUgcHVibGlzaGVkIHtAbGluayBMb2NhbFZpZGVvVHJhY2t9XG4gICAqIEBwYXJhbSB7TG9jYWxWaWRlb1RyYWNrfSB0cmFjayAtIHRoZSB7QGxpbmsgTG9jYWxWaWRlb1RyYWNrfVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKExvY2FsVHJhY2tQdWJsaWNhdGlvbik6IHZvaWR9IHVucHVibGlzaCAtIFRoZSBjYWxsYmFja1xuICAgKiAgICB0aGF0IHVucHVibGlzaGVzIHRoZSB7QGxpbmsgTG9jYWxUcmFja1B1YmxpY2F0aW9ufVxuICAgKiBAcGFyYW0ge1RyYWNrUHVibGljYXRpb25PcHRpb25zfSBvcHRpb25zIC0ge0BsaW5rIExvY2FsVHJhY2tQdWJsaWNhdGlvbn0gb3B0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gTG9jYWxWaWRlb1RyYWNrUHVibGljYXRpb24odHJhY2tTaWQsIHRyYWNrLCB1bnB1Ymxpc2gsIG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9jYWxWaWRlb1RyYWNrUHVibGljYXRpb24pO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMb2NhbFZpZGVvVHJhY2tQdWJsaWNhdGlvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKExvY2FsVmlkZW9UcmFja1B1YmxpY2F0aW9uKSkuY2FsbCh0aGlzLCB0cmFja1NpZCwgdHJhY2ssIHVucHVibGlzaCwgb3B0aW9ucykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKExvY2FsVmlkZW9UcmFja1B1YmxpY2F0aW9uLCBbe1xuICAgIGtleTogJ3RvU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJ1tMb2NhbFZpZGVvVHJhY2tQdWJsaWNhdGlvbiAjJyArIHRoaXMuX2luc3RhbmNlSWQgKyAnOiAnICsgdGhpcy50cmFja1NpZCArICddJztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTG9jYWxWaWRlb1RyYWNrUHVibGljYXRpb247XG59KExvY2FsVHJhY2tQdWJsaWNhdGlvbik7XG5cbm1vZHVsZS5leHBvcnRzID0gTG9jYWxWaWRlb1RyYWNrUHVibGljYXRpb247XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9sb2NhbHZpZGVvdHJhY2twdWJsaWNhdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gMzAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///301\n");

/***/ }),
/* 302 */
/*!**************************************************************!*\
  !*** ./node_modules/twilio-video/es5/iceserversource/nts.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar constants = __webpack_require__(/*! ../util/constants */ 208);\nvar ECS = __webpack_require__(/*! ../ecs */ 303);\nvar EventEmitter = __webpack_require__(/*! events */ 207).EventEmitter;\nvar Log = __webpack_require__(/*! ../util/log */ 214);\nvar TimeoutPromise = __webpack_require__(/*! ../util/timeoutpromise */ 306);\nvar util = __webpack_require__(/*! ../util */ 206);\n\nvar _require = __webpack_require__(/*! ../util/twilio-video-errors */ 209),\n    ConfigurationAcquireFailedError = _require.ConfigurationAcquireFailedError;\n\nvar version = __webpack_require__(/*! ../../package.json */ 219).version;\n\nvar instances = 0;\n\n/**\n * @typedef {ECS.getConfigurationOptions} NTSIceServerSourceOptions\n * @property {Array<RTCIceServerInit>} [defaultIceServers]\n * @property {number} [defaultTTL]\n * @property {string} [ecsServer]\n * @property {string} [environment=\"prod\"]\n * @property {function(string, ECS.getConfigurationOptions): Promise<object>} [getConfiguration]\n * @property {string} [realm=\"us1\"]\n * @property {Log} [log]\n * @property {number} [timeout]\n */\n\n/**\n * A Network Traversal Service (NTS)-backed implementation of\n * {@link IceServerSource}; useful for getting fresh TURN servers from Twilio.\n * @extends EventEmitter\n * @implements {IceServerSource}\n */\n\nvar NTSIceServerSource = function (_EventEmitter) {\n  _inherits(NTSIceServerSource, _EventEmitter);\n\n  /**\n   * Construct an {@link NTSIceServerSource}.\n   * @param {string} token - Access Token\n   * @param {NTSIceServerSourceOptions} [options]\n   */\n  function NTSIceServerSource(token, options) {\n    _classCallCheck(this, NTSIceServerSource);\n\n    var _this = _possibleConstructorReturn(this, (NTSIceServerSource.__proto__ || Object.getPrototypeOf(NTSIceServerSource)).call(this));\n\n    options = Object.assign({\n      abortOnTimeout: false,\n      defaultTTL: constants.ICE_SERVERS_DEFAULT_TTL,\n      environment: constants.DEFAULT_ENVIRONMENT,\n      getConfiguration: ECS.getConfiguration,\n      realm: constants.DEFAULT_REALM,\n      timeout: constants.ICE_SERVERS_TIMEOUT_MS\n    }, options);\n\n    /* eslint-disable new-cap */\n    var defaultIceServers = constants.DEFAULT_ICE_SERVERS(options.environment);\n    var ecsServer = options.ecsServer || constants.ECS_SERVER(options.environment, options.realm);\n    /* eslint-enable new-cap */\n\n    var log = options.log ? options.log.createLog('default', _this) : new Log('default', _this, util.buildLogLevels('off'));\n\n    Object.defineProperties(_this, {\n      _abortOnTimeout: {\n        value: options.abortOnTimeout\n      },\n      // This Promise represents the current invocation of `poll`. `start` sets it\n      // and `stop` clears it out.\n      _currentPoll: {\n        value: null,\n        writable: true\n      },\n      // In the event that ECS or NTS fail to return ICE servers in a timely\n      // manner, NTSIceServerSource falls back to these servers.\n      _defaultIceServers: {\n        value: defaultIceServers\n      },\n      _defaultTTL: {\n        value: options.defaultTTL\n      },\n      // This is the ECS server NTSIceServerSource communicates with.\n      _ecsServer: {\n        value: ecsServer\n      },\n      _getConfiguration: {\n        value: options.getConfiguration\n      },\n      _instance: {\n        value: ++instances\n      },\n      // This timer ID represents the next invocation of `poll`.\n      _nextPoll: {\n        value: null,\n        writable: true\n      },\n      _log: {\n        value: log\n      },\n      _status: {\n        value: null,\n        writable: true\n      },\n      // This Deferred remains unresolved until `stop` is called. We use it to\n      // short-circuit in `poll`.\n      _stopped: {\n        value: util.defer(),\n        writable: true\n      },\n      // This value configures the amount of time NTSIceServerSource will wait\n      // when fetching ICE servers.\n      _timeout: {\n        value: options.timeout\n      },\n      // This is the Access Token NTSIceServerSource makes requests to ECS with.\n      _token: {\n        value: token\n      }\n    });\n\n    _this._log.info('Created a new NTSIceServerSource');\n    _this._log.debug('ECS server:', _this._ecsServer);\n    return _this;\n  }\n\n  _createClass(NTSIceServerSource, [{\n    key: 'start',\n    value: function start() {\n      if (!this.isStarted) {\n        this._log.info('Starting');\n        this._currentPoll = poll(this);\n      } else {\n        this._log.warn('Already started');\n      }\n      return this._currentPoll;\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      if (!this.isStarted) {\n        this._log.warn('Already stopped');\n        return;\n      }\n      this._log.info('Stopping');\n      this._currentPoll = null;\n      clearTimeout(this._nextPoll);\n      this._stopped.resolve();\n      this._stopped = util.defer();\n      this._log.debug('Stopped');\n    }\n  }, {\n    key: 'toString',\n    value: function toString() {\n      return '[NTSIceServerSource #' + this._instance + ']';\n    }\n  }, {\n    key: 'isStarted',\n    get: function get() {\n      return !!this._currentPoll;\n    }\n  }, {\n    key: 'status',\n    get: function get() {\n      return this._status;\n    }\n  }]);\n\n  return NTSIceServerSource;\n}(EventEmitter);\n\n/**\n * Parse an ECS configuration value, log any warnings, and return a tuple of\n * ICE servers and TTL.\n * @param {NTSIceServerSource} client\n * @param {object} config\n * @returns {Array<Array<RTCIceServerInit>|Number>} iceServersAndTTL\n * @throws {Error}\n */\n\n\nfunction parseECSConfig(client, config) {\n  var nts = util.getOrNull(config, 'video.network_traversal_service');\n  if (!nts) {\n    throw new Error('network_traversal_service not available');\n  } else if (nts.warning) {\n    client._log.warn(nts.warning);\n  }\n\n  var iceServers = nts.ice_servers;\n  if (!iceServers) {\n    throw new Error('ice_servers not available');\n  }\n  client._log.info('Got ICE servers: ' + JSON.stringify(iceServers));\n\n  var ttl = nts.ttl || client._defaultTTL;\n  return [iceServers, ttl];\n}\n\n/**\n * Get ICE servers and their TTL.\n * @private\n * @param {NTSIceServerSource} nts\n * @returns {Promise<Array<RTCIceServerInit>>} iceServers\n */\nfunction poll(client) {\n  // We race `getConfiguration` against the `_stopped` Promise so that, when\n  // `stop` is called on the NTSIceServerSource, we can immediately proceed\n  // without waiting on `getConfiguration`.\n  client._log.debug('Getting ECS configuration');\n\n  var options = {\n    configUrl: client._ecsServer + '/v2/Configuration',\n    body: {\n      service: 'video',\n      /* eslint-disable camelcase */\n      sdk_version: version\n      /* eslint-enable camelcase */\n    }\n  };\n\n  var alreadyStopped = new Error('Already stopped');\n  var config = client._getConfiguration(client._token, options);\n  var configWithTimeout = new TimeoutPromise(config, client._timeout);\n\n  return Promise.race([configWithTimeout, client._stopped.promise]).then(function (config) {\n    if (!config) {\n      throw alreadyStopped;\n    }\n    var iceServersAndTTL = parseECSConfig(client, config);\n    client._status = 'success';\n    return iceServersAndTTL;\n  }).catch(function (error) {\n    client._status = 'failure';\n    if (!client.isStarted) {\n      throw alreadyStopped;\n    } else if (configWithTimeout.isTimedOut) {\n      if (client._abortOnTimeout) {\n        client._log.warn('Getting ICE servers took too long');\n        throw new ConfigurationAcquireFailedError();\n      }\n      client._log.warn('Getting ICE servers took too long (using defaults)');\n    } else {\n      // NOTE(mroberts): Stop if we get an Access Token error (2xxxx)\n      if (error.code && Math.floor(error.code / 10000) === 2) {\n        client.stop();\n      }\n      client._log.warn('Failed to get ICE servers (using defaults):', error);\n    }\n    return [client._defaultIceServers, client._defaultTTL];\n  }).then(function (iceServersAndTTL) {\n    var iceServers = iceServersAndTTL[0];\n    var ttl = iceServersAndTTL[1];\n\n    if (client.isStarted) {\n      client._log.info('Getting ICE servers again in ' + ttl + ' seconds');\n      client._nextPoll = setTimeout(function nextPoll() {\n        if (client.isStarted) {\n          client._currentPoll = poll(client);\n        }\n      }, (ttl - constants.ECS_TIMEOUT) * 1000);\n    }\n\n    client._iceServers = iceServers;\n    try {\n      client.emit('iceServers', iceServers);\n    } catch (error) {\n      // Do nothing.\n    }\n    return iceServers;\n  });\n}\n\nmodule.exports = NTSIceServerSource;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9pY2VzZXJ2ZXJzb3VyY2UvbnRzLmpzPzQwYWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsZ0JBQWdCLG1CQUFPLENBQUMsNEJBQW1CO0FBQzNDLFVBQVUsbUJBQU8sQ0FBQyxpQkFBUTtBQUMxQixtQkFBbUIsbUJBQU8sQ0FBQyxpQkFBUTtBQUNuQyxVQUFVLG1CQUFPLENBQUMsc0JBQWE7QUFDL0IscUJBQXFCLG1CQUFPLENBQUMsaUNBQXdCO0FBQ3JELFdBQVcsbUJBQU8sQ0FBQyxrQkFBUzs7QUFFNUIsZUFBZSxtQkFBTyxDQUFDLHNDQUE2QjtBQUNwRDs7QUFFQSxjQUFjLG1CQUFPLENBQUMsNkJBQW9COztBQUUxQzs7QUFFQTtBQUNBLGFBQWEsNEJBQTRCO0FBQ3pDLGNBQWMsd0JBQXdCO0FBQ3RDLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsK0RBQStEO0FBQzdFLGNBQWMsT0FBTztBQUNyQixjQUFjLElBQUk7QUFDbEIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQSxJQUFJLHVCQUF1QjtBQUMzQjtBQUNBLGdCQUFnQjtBQUNoQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLHlCQUF5QjtBQUM1QyxhQUFhLE9BQU87QUFDcEIsYUFBYSwwQkFBMEI7QUFDdkM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUIsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsc0NBQXNDO0FBQ25ELFlBQVk7QUFDWjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QixhQUFhLGlDQUFpQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBIiwiZmlsZSI6IjMwMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vdXRpbC9jb25zdGFudHMnKTtcbnZhciBFQ1MgPSByZXF1aXJlKCcuLi9lY3MnKTtcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG52YXIgTG9nID0gcmVxdWlyZSgnLi4vdXRpbC9sb2cnKTtcbnZhciBUaW1lb3V0UHJvbWlzZSA9IHJlcXVpcmUoJy4uL3V0aWwvdGltZW91dHByb21pc2UnKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi4vdXRpbCcpO1xuXG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCcuLi91dGlsL3R3aWxpby12aWRlby1lcnJvcnMnKSxcbiAgICBDb25maWd1cmF0aW9uQWNxdWlyZUZhaWxlZEVycm9yID0gX3JlcXVpcmUuQ29uZmlndXJhdGlvbkFjcXVpcmVGYWlsZWRFcnJvcjtcblxudmFyIHZlcnNpb24gPSByZXF1aXJlKCcuLi8uLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xuXG52YXIgaW5zdGFuY2VzID0gMDtcblxuLyoqXG4gKiBAdHlwZWRlZiB7RUNTLmdldENvbmZpZ3VyYXRpb25PcHRpb25zfSBOVFNJY2VTZXJ2ZXJTb3VyY2VPcHRpb25zXG4gKiBAcHJvcGVydHkge0FycmF5PFJUQ0ljZVNlcnZlckluaXQ+fSBbZGVmYXVsdEljZVNlcnZlcnNdXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2RlZmF1bHRUVExdXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2Vjc1NlcnZlcl1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZW52aXJvbm1lbnQ9XCJwcm9kXCJdXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKHN0cmluZywgRUNTLmdldENvbmZpZ3VyYXRpb25PcHRpb25zKTogUHJvbWlzZTxvYmplY3Q+fSBbZ2V0Q29uZmlndXJhdGlvbl1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbcmVhbG09XCJ1czFcIl1cbiAqIEBwcm9wZXJ0eSB7TG9nfSBbbG9nXVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lb3V0XVxuICovXG5cbi8qKlxuICogQSBOZXR3b3JrIFRyYXZlcnNhbCBTZXJ2aWNlIChOVFMpLWJhY2tlZCBpbXBsZW1lbnRhdGlvbiBvZlxuICoge0BsaW5rIEljZVNlcnZlclNvdXJjZX07IHVzZWZ1bCBmb3IgZ2V0dGluZyBmcmVzaCBUVVJOIHNlcnZlcnMgZnJvbSBUd2lsaW8uXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBpbXBsZW1lbnRzIHtJY2VTZXJ2ZXJTb3VyY2V9XG4gKi9cblxudmFyIE5UU0ljZVNlcnZlclNvdXJjZSA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gIF9pbmhlcml0cyhOVFNJY2VTZXJ2ZXJTb3VyY2UsIF9FdmVudEVtaXR0ZXIpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYW4ge0BsaW5rIE5UU0ljZVNlcnZlclNvdXJjZX0uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b2tlbiAtIEFjY2VzcyBUb2tlblxuICAgKiBAcGFyYW0ge05UU0ljZVNlcnZlclNvdXJjZU9wdGlvbnN9IFtvcHRpb25zXVxuICAgKi9cbiAgZnVuY3Rpb24gTlRTSWNlU2VydmVyU291cmNlKHRva2VuLCBvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5UU0ljZVNlcnZlclNvdXJjZSk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTlRTSWNlU2VydmVyU291cmNlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTlRTSWNlU2VydmVyU291cmNlKSkuY2FsbCh0aGlzKSk7XG5cbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBhYm9ydE9uVGltZW91dDogZmFsc2UsXG4gICAgICBkZWZhdWx0VFRMOiBjb25zdGFudHMuSUNFX1NFUlZFUlNfREVGQVVMVF9UVEwsXG4gICAgICBlbnZpcm9ubWVudDogY29uc3RhbnRzLkRFRkFVTFRfRU5WSVJPTk1FTlQsXG4gICAgICBnZXRDb25maWd1cmF0aW9uOiBFQ1MuZ2V0Q29uZmlndXJhdGlvbixcbiAgICAgIHJlYWxtOiBjb25zdGFudHMuREVGQVVMVF9SRUFMTSxcbiAgICAgIHRpbWVvdXQ6IGNvbnN0YW50cy5JQ0VfU0VSVkVSU19USU1FT1VUX01TXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuZXctY2FwICovXG4gICAgdmFyIGRlZmF1bHRJY2VTZXJ2ZXJzID0gY29uc3RhbnRzLkRFRkFVTFRfSUNFX1NFUlZFUlMob3B0aW9ucy5lbnZpcm9ubWVudCk7XG4gICAgdmFyIGVjc1NlcnZlciA9IG9wdGlvbnMuZWNzU2VydmVyIHx8IGNvbnN0YW50cy5FQ1NfU0VSVkVSKG9wdGlvbnMuZW52aXJvbm1lbnQsIG9wdGlvbnMucmVhbG0pO1xuICAgIC8qIGVzbGludC1lbmFibGUgbmV3LWNhcCAqL1xuXG4gICAgdmFyIGxvZyA9IG9wdGlvbnMubG9nID8gb3B0aW9ucy5sb2cuY3JlYXRlTG9nKCdkZWZhdWx0JywgX3RoaXMpIDogbmV3IExvZygnZGVmYXVsdCcsIF90aGlzLCB1dGlsLmJ1aWxkTG9nTGV2ZWxzKCdvZmYnKSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgX2Fib3J0T25UaW1lb3V0OiB7XG4gICAgICAgIHZhbHVlOiBvcHRpb25zLmFib3J0T25UaW1lb3V0XG4gICAgICB9LFxuICAgICAgLy8gVGhpcyBQcm9taXNlIHJlcHJlc2VudHMgdGhlIGN1cnJlbnQgaW52b2NhdGlvbiBvZiBgcG9sbGAuIGBzdGFydGAgc2V0cyBpdFxuICAgICAgLy8gYW5kIGBzdG9wYCBjbGVhcnMgaXQgb3V0LlxuICAgICAgX2N1cnJlbnRQb2xsOiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIC8vIEluIHRoZSBldmVudCB0aGF0IEVDUyBvciBOVFMgZmFpbCB0byByZXR1cm4gSUNFIHNlcnZlcnMgaW4gYSB0aW1lbHlcbiAgICAgIC8vIG1hbm5lciwgTlRTSWNlU2VydmVyU291cmNlIGZhbGxzIGJhY2sgdG8gdGhlc2Ugc2VydmVycy5cbiAgICAgIF9kZWZhdWx0SWNlU2VydmVyczoge1xuICAgICAgICB2YWx1ZTogZGVmYXVsdEljZVNlcnZlcnNcbiAgICAgIH0sXG4gICAgICBfZGVmYXVsdFRUTDoge1xuICAgICAgICB2YWx1ZTogb3B0aW9ucy5kZWZhdWx0VFRMXG4gICAgICB9LFxuICAgICAgLy8gVGhpcyBpcyB0aGUgRUNTIHNlcnZlciBOVFNJY2VTZXJ2ZXJTb3VyY2UgY29tbXVuaWNhdGVzIHdpdGguXG4gICAgICBfZWNzU2VydmVyOiB7XG4gICAgICAgIHZhbHVlOiBlY3NTZXJ2ZXJcbiAgICAgIH0sXG4gICAgICBfZ2V0Q29uZmlndXJhdGlvbjoge1xuICAgICAgICB2YWx1ZTogb3B0aW9ucy5nZXRDb25maWd1cmF0aW9uXG4gICAgICB9LFxuICAgICAgX2luc3RhbmNlOiB7XG4gICAgICAgIHZhbHVlOiArK2luc3RhbmNlc1xuICAgICAgfSxcbiAgICAgIC8vIFRoaXMgdGltZXIgSUQgcmVwcmVzZW50cyB0aGUgbmV4dCBpbnZvY2F0aW9uIG9mIGBwb2xsYC5cbiAgICAgIF9uZXh0UG9sbDoge1xuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBfbG9nOiB7XG4gICAgICAgIHZhbHVlOiBsb2dcbiAgICAgIH0sXG4gICAgICBfc3RhdHVzOiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIC8vIFRoaXMgRGVmZXJyZWQgcmVtYWlucyB1bnJlc29sdmVkIHVudGlsIGBzdG9wYCBpcyBjYWxsZWQuIFdlIHVzZSBpdCB0b1xuICAgICAgLy8gc2hvcnQtY2lyY3VpdCBpbiBgcG9sbGAuXG4gICAgICBfc3RvcHBlZDoge1xuICAgICAgICB2YWx1ZTogdXRpbC5kZWZlcigpLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIC8vIFRoaXMgdmFsdWUgY29uZmlndXJlcyB0aGUgYW1vdW50IG9mIHRpbWUgTlRTSWNlU2VydmVyU291cmNlIHdpbGwgd2FpdFxuICAgICAgLy8gd2hlbiBmZXRjaGluZyBJQ0Ugc2VydmVycy5cbiAgICAgIF90aW1lb3V0OiB7XG4gICAgICAgIHZhbHVlOiBvcHRpb25zLnRpbWVvdXRcbiAgICAgIH0sXG4gICAgICAvLyBUaGlzIGlzIHRoZSBBY2Nlc3MgVG9rZW4gTlRTSWNlU2VydmVyU291cmNlIG1ha2VzIHJlcXVlc3RzIHRvIEVDUyB3aXRoLlxuICAgICAgX3Rva2VuOiB7XG4gICAgICAgIHZhbHVlOiB0b2tlblxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX3RoaXMuX2xvZy5pbmZvKCdDcmVhdGVkIGEgbmV3IE5UU0ljZVNlcnZlclNvdXJjZScpO1xuICAgIF90aGlzLl9sb2cuZGVidWcoJ0VDUyBzZXJ2ZXI6JywgX3RoaXMuX2Vjc1NlcnZlcik7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE5UU0ljZVNlcnZlclNvdXJjZSwgW3tcbiAgICBrZXk6ICdzdGFydCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgaWYgKCF0aGlzLmlzU3RhcnRlZCkge1xuICAgICAgICB0aGlzLl9sb2cuaW5mbygnU3RhcnRpbmcnKTtcbiAgICAgICAgdGhpcy5fY3VycmVudFBvbGwgPSBwb2xsKHRoaXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbG9nLndhcm4oJ0FscmVhZHkgc3RhcnRlZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRQb2xsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3N0b3AnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgaWYgKCF0aGlzLmlzU3RhcnRlZCkge1xuICAgICAgICB0aGlzLl9sb2cud2FybignQWxyZWFkeSBzdG9wcGVkJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2xvZy5pbmZvKCdTdG9wcGluZycpO1xuICAgICAgdGhpcy5fY3VycmVudFBvbGwgPSBudWxsO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX25leHRQb2xsKTtcbiAgICAgIHRoaXMuX3N0b3BwZWQucmVzb2x2ZSgpO1xuICAgICAgdGhpcy5fc3RvcHBlZCA9IHV0aWwuZGVmZXIoKTtcbiAgICAgIHRoaXMuX2xvZy5kZWJ1ZygnU3RvcHBlZCcpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RvU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJ1tOVFNJY2VTZXJ2ZXJTb3VyY2UgIycgKyB0aGlzLl9pbnN0YW5jZSArICddJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc1N0YXJ0ZWQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICEhdGhpcy5fY3VycmVudFBvbGw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc3RhdHVzJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0dXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE5UU0ljZVNlcnZlclNvdXJjZTtcbn0oRXZlbnRFbWl0dGVyKTtcblxuLyoqXG4gKiBQYXJzZSBhbiBFQ1MgY29uZmlndXJhdGlvbiB2YWx1ZSwgbG9nIGFueSB3YXJuaW5ncywgYW5kIHJldHVybiBhIHR1cGxlIG9mXG4gKiBJQ0Ugc2VydmVycyBhbmQgVFRMLlxuICogQHBhcmFtIHtOVFNJY2VTZXJ2ZXJTb3VyY2V9IGNsaWVudFxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZ1xuICogQHJldHVybnMge0FycmF5PEFycmF5PFJUQ0ljZVNlcnZlckluaXQ+fE51bWJlcj59IGljZVNlcnZlcnNBbmRUVExcbiAqIEB0aHJvd3Mge0Vycm9yfVxuICovXG5cblxuZnVuY3Rpb24gcGFyc2VFQ1NDb25maWcoY2xpZW50LCBjb25maWcpIHtcbiAgdmFyIG50cyA9IHV0aWwuZ2V0T3JOdWxsKGNvbmZpZywgJ3ZpZGVvLm5ldHdvcmtfdHJhdmVyc2FsX3NlcnZpY2UnKTtcbiAgaWYgKCFudHMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25ldHdvcmtfdHJhdmVyc2FsX3NlcnZpY2Ugbm90IGF2YWlsYWJsZScpO1xuICB9IGVsc2UgaWYgKG50cy53YXJuaW5nKSB7XG4gICAgY2xpZW50Ll9sb2cud2FybihudHMud2FybmluZyk7XG4gIH1cblxuICB2YXIgaWNlU2VydmVycyA9IG50cy5pY2Vfc2VydmVycztcbiAgaWYgKCFpY2VTZXJ2ZXJzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpY2Vfc2VydmVycyBub3QgYXZhaWxhYmxlJyk7XG4gIH1cbiAgY2xpZW50Ll9sb2cuaW5mbygnR290IElDRSBzZXJ2ZXJzOiAnICsgSlNPTi5zdHJpbmdpZnkoaWNlU2VydmVycykpO1xuXG4gIHZhciB0dGwgPSBudHMudHRsIHx8IGNsaWVudC5fZGVmYXVsdFRUTDtcbiAgcmV0dXJuIFtpY2VTZXJ2ZXJzLCB0dGxdO1xufVxuXG4vKipcbiAqIEdldCBJQ0Ugc2VydmVycyBhbmQgdGhlaXIgVFRMLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7TlRTSWNlU2VydmVyU291cmNlfSBudHNcbiAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5PFJUQ0ljZVNlcnZlckluaXQ+Pn0gaWNlU2VydmVyc1xuICovXG5mdW5jdGlvbiBwb2xsKGNsaWVudCkge1xuICAvLyBXZSByYWNlIGBnZXRDb25maWd1cmF0aW9uYCBhZ2FpbnN0IHRoZSBgX3N0b3BwZWRgIFByb21pc2Ugc28gdGhhdCwgd2hlblxuICAvLyBgc3RvcGAgaXMgY2FsbGVkIG9uIHRoZSBOVFNJY2VTZXJ2ZXJTb3VyY2UsIHdlIGNhbiBpbW1lZGlhdGVseSBwcm9jZWVkXG4gIC8vIHdpdGhvdXQgd2FpdGluZyBvbiBgZ2V0Q29uZmlndXJhdGlvbmAuXG4gIGNsaWVudC5fbG9nLmRlYnVnKCdHZXR0aW5nIEVDUyBjb25maWd1cmF0aW9uJyk7XG5cbiAgdmFyIG9wdGlvbnMgPSB7XG4gICAgY29uZmlnVXJsOiBjbGllbnQuX2Vjc1NlcnZlciArICcvdjIvQ29uZmlndXJhdGlvbicsXG4gICAgYm9keToge1xuICAgICAgc2VydmljZTogJ3ZpZGVvJyxcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuICAgICAgc2RrX3ZlcnNpb246IHZlcnNpb25cbiAgICAgIC8qIGVzbGludC1lbmFibGUgY2FtZWxjYXNlICovXG4gICAgfVxuICB9O1xuXG4gIHZhciBhbHJlYWR5U3RvcHBlZCA9IG5ldyBFcnJvcignQWxyZWFkeSBzdG9wcGVkJyk7XG4gIHZhciBjb25maWcgPSBjbGllbnQuX2dldENvbmZpZ3VyYXRpb24oY2xpZW50Ll90b2tlbiwgb3B0aW9ucyk7XG4gIHZhciBjb25maWdXaXRoVGltZW91dCA9IG5ldyBUaW1lb3V0UHJvbWlzZShjb25maWcsIGNsaWVudC5fdGltZW91dCk7XG5cbiAgcmV0dXJuIFByb21pc2UucmFjZShbY29uZmlnV2l0aFRpbWVvdXQsIGNsaWVudC5fc3RvcHBlZC5wcm9taXNlXSkudGhlbihmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgaWYgKCFjb25maWcpIHtcbiAgICAgIHRocm93IGFscmVhZHlTdG9wcGVkO1xuICAgIH1cbiAgICB2YXIgaWNlU2VydmVyc0FuZFRUTCA9IHBhcnNlRUNTQ29uZmlnKGNsaWVudCwgY29uZmlnKTtcbiAgICBjbGllbnQuX3N0YXR1cyA9ICdzdWNjZXNzJztcbiAgICByZXR1cm4gaWNlU2VydmVyc0FuZFRUTDtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgY2xpZW50Ll9zdGF0dXMgPSAnZmFpbHVyZSc7XG4gICAgaWYgKCFjbGllbnQuaXNTdGFydGVkKSB7XG4gICAgICB0aHJvdyBhbHJlYWR5U3RvcHBlZDtcbiAgICB9IGVsc2UgaWYgKGNvbmZpZ1dpdGhUaW1lb3V0LmlzVGltZWRPdXQpIHtcbiAgICAgIGlmIChjbGllbnQuX2Fib3J0T25UaW1lb3V0KSB7XG4gICAgICAgIGNsaWVudC5fbG9nLndhcm4oJ0dldHRpbmcgSUNFIHNlcnZlcnMgdG9vayB0b28gbG9uZycpO1xuICAgICAgICB0aHJvdyBuZXcgQ29uZmlndXJhdGlvbkFjcXVpcmVGYWlsZWRFcnJvcigpO1xuICAgICAgfVxuICAgICAgY2xpZW50Ll9sb2cud2FybignR2V0dGluZyBJQ0Ugc2VydmVycyB0b29rIHRvbyBsb25nICh1c2luZyBkZWZhdWx0cyknKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTk9URShtcm9iZXJ0cyk6IFN0b3AgaWYgd2UgZ2V0IGFuIEFjY2VzcyBUb2tlbiBlcnJvciAoMnh4eHgpXG4gICAgICBpZiAoZXJyb3IuY29kZSAmJiBNYXRoLmZsb29yKGVycm9yLmNvZGUgLyAxMDAwMCkgPT09IDIpIHtcbiAgICAgICAgY2xpZW50LnN0b3AoKTtcbiAgICAgIH1cbiAgICAgIGNsaWVudC5fbG9nLndhcm4oJ0ZhaWxlZCB0byBnZXQgSUNFIHNlcnZlcnMgKHVzaW5nIGRlZmF1bHRzKTonLCBlcnJvcik7XG4gICAgfVxuICAgIHJldHVybiBbY2xpZW50Ll9kZWZhdWx0SWNlU2VydmVycywgY2xpZW50Ll9kZWZhdWx0VFRMXTtcbiAgfSkudGhlbihmdW5jdGlvbiAoaWNlU2VydmVyc0FuZFRUTCkge1xuICAgIHZhciBpY2VTZXJ2ZXJzID0gaWNlU2VydmVyc0FuZFRUTFswXTtcbiAgICB2YXIgdHRsID0gaWNlU2VydmVyc0FuZFRUTFsxXTtcblxuICAgIGlmIChjbGllbnQuaXNTdGFydGVkKSB7XG4gICAgICBjbGllbnQuX2xvZy5pbmZvKCdHZXR0aW5nIElDRSBzZXJ2ZXJzIGFnYWluIGluICcgKyB0dGwgKyAnIHNlY29uZHMnKTtcbiAgICAgIGNsaWVudC5fbmV4dFBvbGwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG5leHRQb2xsKCkge1xuICAgICAgICBpZiAoY2xpZW50LmlzU3RhcnRlZCkge1xuICAgICAgICAgIGNsaWVudC5fY3VycmVudFBvbGwgPSBwb2xsKGNsaWVudCk7XG4gICAgICAgIH1cbiAgICAgIH0sICh0dGwgLSBjb25zdGFudHMuRUNTX1RJTUVPVVQpICogMTAwMCk7XG4gICAgfVxuXG4gICAgY2xpZW50Ll9pY2VTZXJ2ZXJzID0gaWNlU2VydmVycztcbiAgICB0cnkge1xuICAgICAgY2xpZW50LmVtaXQoJ2ljZVNlcnZlcnMnLCBpY2VTZXJ2ZXJzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gRG8gbm90aGluZy5cbiAgICB9XG4gICAgcmV0dXJuIGljZVNlcnZlcnM7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE5UU0ljZVNlcnZlclNvdXJjZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L2ljZXNlcnZlcnNvdXJjZS9udHMuanNcbi8vIG1vZHVsZSBpZCA9IDMwMlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///302\n");

/***/ }),
/* 303 */
/*!**********************************************!*\
  !*** ./node_modules/twilio-video/es5/ecs.js ***!
  \**********************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar request = __webpack_require__(/*! ./request */ 304);\nvar createTwilioError = __webpack_require__(/*! ./util/twilio-video-errors */ 209).createTwilioError;\nvar ConfigurationAcquireFailedError = __webpack_require__(/*! ./util/twilio-video-errors */ 209).ConfigurationAcquireFailedError;\n\nvar CONFIG_URL = 'https://ecs.us1.twilio.com/v1/Configuration';\n\n/**\n * Request a configuration setting for the specified JWT.\n * @param {String} token - A JWT String representing a valid AccessToken.\n * @param {?ECS.getConfigurationOptions} [options]\n * @returns {Promise<Object>} configuration - An unformatted map of\n *   configuration settings specific to the specified service.\n * @throws {TwilioError}\n*/ /**\n   * @typedef {Object} ECS.getConfigurationOptions\n   * @property {?Object} [body] - A valid JSON payload to send to the\n   *   ECS endpoint.\n   * @property {?String} [configUrl='https://ecs.us1.twilio.com/v1/Configuration'] - A\n   *   custom URL to POST ECS configuration requests to.\n   */\nfunction getConfiguration(token, options) {\n  if (!token) {\n    throw new Error('<String>token is a required argument.');\n  }\n\n  options = Object.assign({\n    configUrl: CONFIG_URL\n  }, options);\n\n  var postData = {\n    url: options.configUrl,\n    headers: {\n      'X-Twilio-Token': token,\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  };\n\n  if (options.body) {\n    postData.body = toQueryString(options.body);\n  }\n\n  return request.post(postData).then(function (responseText) {\n    return parseJsonTextFromECS(responseText);\n  }, function (errorText) {\n    var error = parseJsonTextFromECS(errorText);\n    throw createTwilioError(error.code, error.message);\n  });\n}\n\nfunction parseJsonTextFromECS(jsonText) {\n  var json = null;\n  try {\n    json = JSON.parse(jsonText);\n  } catch (error) {\n    throw new ConfigurationAcquireFailedError();\n  }\n  return json;\n}\n\nfunction toQueryString(params) {\n  return Object.keys(params || {}).map(function (key) {\n    return encodeURIComponent(key) + '=' + encodeURIComponent(params[key]);\n  }).join('&');\n}\n\nmodule.exports.getConfiguration = getConfiguration;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9lY3MuanM/OGMzNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixjQUFjLG1CQUFPLENBQUMsb0JBQVc7QUFDakMsd0JBQXdCLG1CQUFPLENBQUMscUNBQTRCO0FBQzVELHNDQUFzQyxtQkFBTyxDQUFDLHFDQUE0Qjs7QUFFMUU7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLDZCQUE2QjtBQUN4QyxhQUFhLGdCQUFnQjtBQUM3QjtBQUNBLFlBQVk7QUFDWjtBQUNBLGVBQWUsT0FBTztBQUN0QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0EsR0FBRztBQUNIOztBQUVBIiwiZmlsZSI6IjMwMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIHJlcXVlc3QgPSByZXF1aXJlKCcuL3JlcXVlc3QnKTtcbnZhciBjcmVhdGVUd2lsaW9FcnJvciA9IHJlcXVpcmUoJy4vdXRpbC90d2lsaW8tdmlkZW8tZXJyb3JzJykuY3JlYXRlVHdpbGlvRXJyb3I7XG52YXIgQ29uZmlndXJhdGlvbkFjcXVpcmVGYWlsZWRFcnJvciA9IHJlcXVpcmUoJy4vdXRpbC90d2lsaW8tdmlkZW8tZXJyb3JzJykuQ29uZmlndXJhdGlvbkFjcXVpcmVGYWlsZWRFcnJvcjtcblxudmFyIENPTkZJR19VUkwgPSAnaHR0cHM6Ly9lY3MudXMxLnR3aWxpby5jb20vdjEvQ29uZmlndXJhdGlvbic7XG5cbi8qKlxuICogUmVxdWVzdCBhIGNvbmZpZ3VyYXRpb24gc2V0dGluZyBmb3IgdGhlIHNwZWNpZmllZCBKV1QuXG4gKiBAcGFyYW0ge1N0cmluZ30gdG9rZW4gLSBBIEpXVCBTdHJpbmcgcmVwcmVzZW50aW5nIGEgdmFsaWQgQWNjZXNzVG9rZW4uXG4gKiBAcGFyYW0gez9FQ1MuZ2V0Q29uZmlndXJhdGlvbk9wdGlvbnN9IFtvcHRpb25zXVxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gY29uZmlndXJhdGlvbiAtIEFuIHVuZm9ybWF0dGVkIG1hcCBvZlxuICogICBjb25maWd1cmF0aW9uIHNldHRpbmdzIHNwZWNpZmljIHRvIHRoZSBzcGVjaWZpZWQgc2VydmljZS5cbiAqIEB0aHJvd3Mge1R3aWxpb0Vycm9yfVxuKi8gLyoqXG4gICAqIEB0eXBlZGVmIHtPYmplY3R9IEVDUy5nZXRDb25maWd1cmF0aW9uT3B0aW9uc1xuICAgKiBAcHJvcGVydHkgez9PYmplY3R9IFtib2R5XSAtIEEgdmFsaWQgSlNPTiBwYXlsb2FkIHRvIHNlbmQgdG8gdGhlXG4gICAqICAgRUNTIGVuZHBvaW50LlxuICAgKiBAcHJvcGVydHkgez9TdHJpbmd9IFtjb25maWdVcmw9J2h0dHBzOi8vZWNzLnVzMS50d2lsaW8uY29tL3YxL0NvbmZpZ3VyYXRpb24nXSAtIEFcbiAgICogICBjdXN0b20gVVJMIHRvIFBPU1QgRUNTIGNvbmZpZ3VyYXRpb24gcmVxdWVzdHMgdG8uXG4gICAqL1xuZnVuY3Rpb24gZ2V0Q29uZmlndXJhdGlvbih0b2tlbiwgb3B0aW9ucykge1xuICBpZiAoIXRva2VuKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCc8U3RyaW5nPnRva2VuIGlzIGEgcmVxdWlyZWQgYXJndW1lbnQuJyk7XG4gIH1cblxuICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgY29uZmlnVXJsOiBDT05GSUdfVVJMXG4gIH0sIG9wdGlvbnMpO1xuXG4gIHZhciBwb3N0RGF0YSA9IHtcbiAgICB1cmw6IG9wdGlvbnMuY29uZmlnVXJsLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICdYLVR3aWxpby1Ub2tlbic6IHRva2VuLFxuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG4gICAgfVxuICB9O1xuXG4gIGlmIChvcHRpb25zLmJvZHkpIHtcbiAgICBwb3N0RGF0YS5ib2R5ID0gdG9RdWVyeVN0cmluZyhvcHRpb25zLmJvZHkpO1xuICB9XG5cbiAgcmV0dXJuIHJlcXVlc3QucG9zdChwb3N0RGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2VUZXh0KSB7XG4gICAgcmV0dXJuIHBhcnNlSnNvblRleHRGcm9tRUNTKHJlc3BvbnNlVGV4dCk7XG4gIH0sIGZ1bmN0aW9uIChlcnJvclRleHQpIHtcbiAgICB2YXIgZXJyb3IgPSBwYXJzZUpzb25UZXh0RnJvbUVDUyhlcnJvclRleHQpO1xuICAgIHRocm93IGNyZWF0ZVR3aWxpb0Vycm9yKGVycm9yLmNvZGUsIGVycm9yLm1lc3NhZ2UpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcGFyc2VKc29uVGV4dEZyb21FQ1MoanNvblRleHQpIHtcbiAgdmFyIGpzb24gPSBudWxsO1xuICB0cnkge1xuICAgIGpzb24gPSBKU09OLnBhcnNlKGpzb25UZXh0KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgQ29uZmlndXJhdGlvbkFjcXVpcmVGYWlsZWRFcnJvcigpO1xuICB9XG4gIHJldHVybiBqc29uO1xufVxuXG5mdW5jdGlvbiB0b1F1ZXJ5U3RyaW5nKHBhcmFtcykge1xuICByZXR1cm4gT2JqZWN0LmtleXMocGFyYW1zIHx8IHt9KS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXNba2V5XSk7XG4gIH0pLmpvaW4oJyYnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMuZ2V0Q29uZmlndXJhdGlvbiA9IGdldENvbmZpZ3VyYXRpb247XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9lY3MuanNcbi8vIG1vZHVsZSBpZCA9IDMwM1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///303\n");

/***/ }),
/* 304 */
/*!**************************************************!*\
  !*** ./node_modules/twilio-video/es5/request.js ***!
  \**************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar XHR = __webpack_require__(/*! xmlhttprequest */ 305).XMLHttpRequest;\n\n/**\n * Make a network request.\n * @param {String} method - HTTP method to use. e.g: GET, POST.\n * @param {RequestParams} params\n * @returns {Promise<String>} responseText\n*/ /**\n   * @typedef {Object} RequestParams\n   * @property {String} url - URL to access.\n   * @property {Object} [headers] - An unformatted map of headers.\n   * @property {Object} [body] - An unformatted map representing\n   *   post body.\n   * @property {Boolean} [withCredentials=false] - Whether to set the\n   *   XHR withCredentials flag.\n   */\nfunction request(method, params) {\n  return new Promise(function (resolve, reject) {\n    if (typeof method !== 'string' || !params) {\n      throw new Error('<String>method and <Object>params are required args.');\n    }\n\n    var xhr = new XHR();\n    xhr.open(method.toUpperCase(), params.url, true);\n    xhr.withCredentials = !!params.withCredentials;\n\n    xhr.onreadystatechange = function onreadystatechange() {\n      if (xhr.readyState !== 4) {\n        return;\n      }\n\n      if (200 <= xhr.status && xhr.status < 300) {\n        resolve(xhr.responseText);\n      } else {\n        reject(xhr.responseText);\n      }\n    };\n\n    for (var headerName in params.headers) {\n      xhr.setRequestHeader(headerName, params.headers[headerName]);\n    }\n\n    xhr.send(params.body);\n  });\n}\n\nrequest.get = request.bind(null, 'GET');\nrequest.post = request.bind(null, 'POST');\n\nmodule.exports = request;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9yZXF1ZXN0LmpzPzU3MmEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsVUFBVSxtQkFBTyxDQUFDLHlCQUFnQjs7QUFFbEM7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLGNBQWM7QUFDekIsYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQSxlQUFlLE9BQU87QUFDdEIsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLE9BQU87QUFDdkIsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMzA0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgWEhSID0gcmVxdWlyZSgneG1saHR0cHJlcXVlc3QnKS5YTUxIdHRwUmVxdWVzdDtcblxuLyoqXG4gKiBNYWtlIGEgbmV0d29yayByZXF1ZXN0LlxuICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZCAtIEhUVFAgbWV0aG9kIHRvIHVzZS4gZS5nOiBHRVQsIFBPU1QuXG4gKiBAcGFyYW0ge1JlcXVlc3RQYXJhbXN9IHBhcmFtc1xuICogQHJldHVybnMge1Byb21pc2U8U3RyaW5nPn0gcmVzcG9uc2VUZXh0XG4qLyAvKipcbiAgICogQHR5cGVkZWYge09iamVjdH0gUmVxdWVzdFBhcmFtc1xuICAgKiBAcHJvcGVydHkge1N0cmluZ30gdXJsIC0gVVJMIHRvIGFjY2Vzcy5cbiAgICogQHByb3BlcnR5IHtPYmplY3R9IFtoZWFkZXJzXSAtIEFuIHVuZm9ybWF0dGVkIG1hcCBvZiBoZWFkZXJzLlxuICAgKiBAcHJvcGVydHkge09iamVjdH0gW2JvZHldIC0gQW4gdW5mb3JtYXR0ZWQgbWFwIHJlcHJlc2VudGluZ1xuICAgKiAgIHBvc3QgYm9keS5cbiAgICogQHByb3BlcnR5IHtCb29sZWFufSBbd2l0aENyZWRlbnRpYWxzPWZhbHNlXSAtIFdoZXRoZXIgdG8gc2V0IHRoZVxuICAgKiAgIFhIUiB3aXRoQ3JlZGVudGlhbHMgZmxhZy5cbiAgICovXG5mdW5jdGlvbiByZXF1ZXN0KG1ldGhvZCwgcGFyYW1zKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKHR5cGVvZiBtZXRob2QgIT09ICdzdHJpbmcnIHx8ICFwYXJhbXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignPFN0cmluZz5tZXRob2QgYW5kIDxPYmplY3Q+cGFyYW1zIGFyZSByZXF1aXJlZCBhcmdzLicpO1xuICAgIH1cblxuICAgIHZhciB4aHIgPSBuZXcgWEhSKCk7XG4gICAgeGhyLm9wZW4obWV0aG9kLnRvVXBwZXJDYXNlKCksIHBhcmFtcy51cmwsIHRydWUpO1xuICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSAhIXBhcmFtcy53aXRoQ3JlZGVudGlhbHM7XG5cbiAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gb25yZWFkeXN0YXRlY2hhbmdlKCkge1xuICAgICAgaWYgKHhoci5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKDIwMCA8PSB4aHIuc3RhdHVzICYmIHhoci5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgcmVzb2x2ZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlamVjdCh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZm9yICh2YXIgaGVhZGVyTmFtZSBpbiBwYXJhbXMuaGVhZGVycykge1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaGVhZGVyTmFtZSwgcGFyYW1zLmhlYWRlcnNbaGVhZGVyTmFtZV0pO1xuICAgIH1cblxuICAgIHhoci5zZW5kKHBhcmFtcy5ib2R5KTtcbiAgfSk7XG59XG5cbnJlcXVlc3QuZ2V0ID0gcmVxdWVzdC5iaW5kKG51bGwsICdHRVQnKTtcbnJlcXVlc3QucG9zdCA9IHJlcXVlc3QuYmluZChudWxsLCAnUE9TVCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVlc3Q7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9yZXF1ZXN0LmpzXG4vLyBtb2R1bGUgaWQgPSAzMDRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///304\n");

/***/ }),
/* 305 */
/*!*********************************************************!*\
  !*** ./node_modules/twilio-video/src/xmlhttprequest.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("exports.XMLHttpRequest = XMLHttpRequest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL3NyYy94bWxodHRwcmVxdWVzdC5qcz8yNzYzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjMwNS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMuWE1MSHR0cFJlcXVlc3QgPSBYTUxIdHRwUmVxdWVzdDtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9zcmMveG1saHR0cHJlcXVlc3QuanNcbi8vIG1vZHVsZSBpZCA9IDMwNVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///305\n");

/***/ }),
/* 306 */
/*!**************************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/timeoutpromise.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EventEmitter = __webpack_require__(/*! events */ 207).EventEmitter;\nvar util = __webpack_require__(/*! ./ */ 206);\n\n/**\n * A Promise that can time out.\n * @extends EventEmitter\n * @implements Promise\n * @property {?number} timeout - the timeout, in milliseconds\n * @property {boolean} isTimedOut - whether or not the\n *   {@link TimeoutPromise} timed out\n * @emits TimeoutPromise#timedOut\n */\n\nvar TimeoutPromise = function (_EventEmitter) {\n  _inherits(TimeoutPromise, _EventEmitter);\n\n  /**\n   * Construct a new {@link TimeoutPromise}.\n   * @param {Promise} original - a Promise\n   * @param {?number} [timeout] - the timeout, in milliseconds; providing this in\n   *   the constructor invokes {@link TimeoutPromise#start} (otherwise, you must\n   *   call {@link TimeoutPromise#start} yourself)\n   */\n  function TimeoutPromise(original, initialTimeout) {\n    _classCallCheck(this, TimeoutPromise);\n\n    var _this = _possibleConstructorReturn(this, (TimeoutPromise.__proto__ || Object.getPrototypeOf(TimeoutPromise)).call(this));\n\n    var deferred = util.defer();\n    var isTimedOut = false;\n    var timedOut = new Error('Timed out');\n    var timeout = null;\n    var timer = null;\n\n    /* istanbul ignore next */\n    Object.defineProperties(_this, {\n      _deferred: {\n        value: deferred\n      },\n      _isTimedOut: {\n        get: function get() {\n          return isTimedOut;\n        },\n        set: function set(_isTimedOut) {\n          isTimedOut = _isTimedOut;\n        }\n      },\n      _timedOut: {\n        value: timedOut\n      },\n      _timeout: {\n        get: function get() {\n          return timeout;\n        },\n        set: function set(_timeout) {\n          timeout = _timeout;\n        }\n      },\n      _timer: {\n        get: function get() {\n          return timer;\n        },\n        set: function set(_timer) {\n          timer = _timer;\n        }\n      },\n      _promise: {\n        value: deferred.promise\n      },\n      isTimedOut: {\n        enumerable: true,\n        get: function get() {\n          return isTimedOut;\n        }\n      },\n      timeout: {\n        enumerable: true,\n        get: function get() {\n          return timeout;\n        }\n      }\n    });\n\n    original.then(function (result) {\n      clearTimeout(_this._timer);\n      deferred.resolve(result);\n    }, function (reason) {\n      clearTimeout(_this._timer);\n      deferred.reject(reason);\n    });\n\n    if (initialTimeout) {\n      _this.start(initialTimeout);\n    }\n    return _this;\n  }\n\n  _createClass(TimeoutPromise, [{\n    key: 'catch',\n    value: function _catch() {\n      var _promise;\n\n      return (_promise = this._promise).catch.apply(_promise, arguments);\n    }\n\n    /**\n     * Start the timer that will time out the {@link TimeoutPromise} if the\n     * original Promise has neither resolved nor rejected. Subsequent calls have no\n     * effect once the {@link TimeoutPromise} is started.\n     * @param {number} timeout - the timeout, in milliseconds\n     * @returns {this}\n     */\n\n  }, {\n    key: 'start',\n    value: function start(timeout) {\n      var _this2 = this;\n\n      if (this._timer) {\n        return this;\n      }\n      this._timeout = timeout;\n      this._timer = setTimeout(function () {\n        if (_this2._timer) {\n          _this2._isTimedOut = true;\n          _this2.emit('timedOut', _this2);\n          _this2._deferred.reject(_this2._timedOut);\n        }\n      }, this.timeout);\n      return this;\n    }\n  }, {\n    key: 'then',\n    value: function then() {\n      var _promise2;\n\n      return (_promise2 = this._promise).then.apply(_promise2, arguments);\n    }\n  }]);\n\n  return TimeoutPromise;\n}(EventEmitter);\n\n/**\n * The {@link TimeoutPromise} timed out.\n * @param {TimeoutPromise} promise - The {@link TimeoutPromise}\n * @event TimeoutPromise#timedOut\n */\n\nmodule.exports = TimeoutPromise;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL3RpbWVvdXRwcm9taXNlLmpzPzJmMWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsbUJBQW1CLG1CQUFPLENBQUMsaUJBQVE7QUFDbkMsV0FBVyxtQkFBTyxDQUFDLGFBQUk7O0FBRXZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsUUFBUTtBQUN0QixNQUFNLHFCQUFxQjtBQUMzQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IscUJBQXFCO0FBQzNDLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVEsMENBQTBDO0FBQy9ELGdDQUFnQywyQkFBMkI7QUFDM0QsYUFBYSwyQkFBMkI7QUFDeEM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLHFCQUFxQjtBQUNwRTtBQUNBLHdCQUF3QixxQkFBcUI7QUFDN0MsZUFBZSxPQUFPO0FBQ3RCLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLFFBQVEscUJBQXFCO0FBQzdCLFdBQVcsZUFBZSxnQkFBZ0I7QUFDMUM7QUFDQTs7QUFFQSIsImZpbGUiOiIzMDYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi8nKTtcblxuLyoqXG4gKiBBIFByb21pc2UgdGhhdCBjYW4gdGltZSBvdXQuXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBpbXBsZW1lbnRzIFByb21pc2VcbiAqIEBwcm9wZXJ0eSB7P251bWJlcn0gdGltZW91dCAtIHRoZSB0aW1lb3V0LCBpbiBtaWxsaXNlY29uZHNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNUaW1lZE91dCAtIHdoZXRoZXIgb3Igbm90IHRoZVxuICogICB7QGxpbmsgVGltZW91dFByb21pc2V9IHRpbWVkIG91dFxuICogQGVtaXRzIFRpbWVvdXRQcm9taXNlI3RpbWVkT3V0XG4gKi9cblxudmFyIFRpbWVvdXRQcm9taXNlID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgX2luaGVyaXRzKFRpbWVvdXRQcm9taXNlLCBfRXZlbnRFbWl0dGVyKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGEgbmV3IHtAbGluayBUaW1lb3V0UHJvbWlzZX0uXG4gICAqIEBwYXJhbSB7UHJvbWlzZX0gb3JpZ2luYWwgLSBhIFByb21pc2VcbiAgICogQHBhcmFtIHs/bnVtYmVyfSBbdGltZW91dF0gLSB0aGUgdGltZW91dCwgaW4gbWlsbGlzZWNvbmRzOyBwcm92aWRpbmcgdGhpcyBpblxuICAgKiAgIHRoZSBjb25zdHJ1Y3RvciBpbnZva2VzIHtAbGluayBUaW1lb3V0UHJvbWlzZSNzdGFydH0gKG90aGVyd2lzZSwgeW91IG11c3RcbiAgICogICBjYWxsIHtAbGluayBUaW1lb3V0UHJvbWlzZSNzdGFydH0geW91cnNlbGYpXG4gICAqL1xuICBmdW5jdGlvbiBUaW1lb3V0UHJvbWlzZShvcmlnaW5hbCwgaW5pdGlhbFRpbWVvdXQpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGltZW91dFByb21pc2UpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRpbWVvdXRQcm9taXNlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGltZW91dFByb21pc2UpKS5jYWxsKHRoaXMpKTtcblxuICAgIHZhciBkZWZlcnJlZCA9IHV0aWwuZGVmZXIoKTtcbiAgICB2YXIgaXNUaW1lZE91dCA9IGZhbHNlO1xuICAgIHZhciB0aW1lZE91dCA9IG5ldyBFcnJvcignVGltZWQgb3V0Jyk7XG4gICAgdmFyIHRpbWVvdXQgPSBudWxsO1xuICAgIHZhciB0aW1lciA9IG51bGw7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBfZGVmZXJyZWQ6IHtcbiAgICAgICAgdmFsdWU6IGRlZmVycmVkXG4gICAgICB9LFxuICAgICAgX2lzVGltZWRPdXQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIGlzVGltZWRPdXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KF9pc1RpbWVkT3V0KSB7XG4gICAgICAgICAgaXNUaW1lZE91dCA9IF9pc1RpbWVkT3V0O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgX3RpbWVkT3V0OiB7XG4gICAgICAgIHZhbHVlOiB0aW1lZE91dFxuICAgICAgfSxcbiAgICAgIF90aW1lb3V0OiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aW1lb3V0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChfdGltZW91dCkge1xuICAgICAgICAgIHRpbWVvdXQgPSBfdGltZW91dDtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF90aW1lcjoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGltZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KF90aW1lcikge1xuICAgICAgICAgIHRpbWVyID0gX3RpbWVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgX3Byb21pc2U6IHtcbiAgICAgICAgdmFsdWU6IGRlZmVycmVkLnByb21pc2VcbiAgICAgIH0sXG4gICAgICBpc1RpbWVkT3V0OiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBpc1RpbWVkT3V0O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGltZW91dDoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGltZW91dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgb3JpZ2luYWwudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMuX3RpbWVyKTtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMuX3RpbWVyKTtcbiAgICAgIGRlZmVycmVkLnJlamVjdChyZWFzb24pO1xuICAgIH0pO1xuXG4gICAgaWYgKGluaXRpYWxUaW1lb3V0KSB7XG4gICAgICBfdGhpcy5zdGFydChpbml0aWFsVGltZW91dCk7XG4gICAgfVxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUaW1lb3V0UHJvbWlzZSwgW3tcbiAgICBrZXk6ICdjYXRjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9jYXRjaCgpIHtcbiAgICAgIHZhciBfcHJvbWlzZTtcblxuICAgICAgcmV0dXJuIChfcHJvbWlzZSA9IHRoaXMuX3Byb21pc2UpLmNhdGNoLmFwcGx5KF9wcm9taXNlLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHRoZSB0aW1lciB0aGF0IHdpbGwgdGltZSBvdXQgdGhlIHtAbGluayBUaW1lb3V0UHJvbWlzZX0gaWYgdGhlXG4gICAgICogb3JpZ2luYWwgUHJvbWlzZSBoYXMgbmVpdGhlciByZXNvbHZlZCBub3IgcmVqZWN0ZWQuIFN1YnNlcXVlbnQgY2FsbHMgaGF2ZSBub1xuICAgICAqIGVmZmVjdCBvbmNlIHRoZSB7QGxpbmsgVGltZW91dFByb21pc2V9IGlzIHN0YXJ0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVvdXQgLSB0aGUgdGltZW91dCwgaW4gbWlsbGlzZWNvbmRzXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3N0YXJ0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnQodGltZW91dCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl90aW1lcikge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHRoaXMuX3RpbWVvdXQgPSB0aW1lb3V0O1xuICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzMi5fdGltZXIpIHtcbiAgICAgICAgICBfdGhpczIuX2lzVGltZWRPdXQgPSB0cnVlO1xuICAgICAgICAgIF90aGlzMi5lbWl0KCd0aW1lZE91dCcsIF90aGlzMik7XG4gICAgICAgICAgX3RoaXMyLl9kZWZlcnJlZC5yZWplY3QoX3RoaXMyLl90aW1lZE91dCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMudGltZW91dCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd0aGVuJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdGhlbigpIHtcbiAgICAgIHZhciBfcHJvbWlzZTI7XG5cbiAgICAgIHJldHVybiAoX3Byb21pc2UyID0gdGhpcy5fcHJvbWlzZSkudGhlbi5hcHBseShfcHJvbWlzZTIsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRpbWVvdXRQcm9taXNlO1xufShFdmVudEVtaXR0ZXIpO1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgVGltZW91dFByb21pc2V9IHRpbWVkIG91dC5cbiAqIEBwYXJhbSB7VGltZW91dFByb21pc2V9IHByb21pc2UgLSBUaGUge0BsaW5rIFRpbWVvdXRQcm9taXNlfVxuICogQGV2ZW50IFRpbWVvdXRQcm9taXNlI3RpbWVkT3V0XG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBUaW1lb3V0UHJvbWlzZTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3V0aWwvdGltZW91dHByb21pc2UuanNcbi8vIG1vZHVsZSBpZCA9IDMwNlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///306\n");

/***/ }),
/* 307 */
/*!*************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/v2/index.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar constants = __webpack_require__(/*! ../../util/constants */ 208);\nvar defaultCreateCancelableRoomSignalingPromise = __webpack_require__(/*! ./cancelableroomsignalingpromise */ 308);\nvar LocalParticipantV2 = __webpack_require__(/*! ./localparticipant */ 375);\nvar Signaling = __webpack_require__(/*! ../ */ 378);\nvar SIP = __webpack_require__(/*! ../../sip */ 229);\nvar SIPJSMediaHandler = __webpack_require__(/*! ./sipjsmediahandler */ 260);\nvar util = __webpack_require__(/*! ../../util */ 206);\n\n/**\n * {@link SignalingV2} implements version 2 of our signaling protocol.\n * @extends Signaling\n */\n\nvar SignalingV2 = function (_Signaling) {\n  _inherits(SignalingV2, _Signaling);\n\n  /**\n   * Construct {@link SignalingV2}.\n   * @param {string} wsServer\n   * @param {?object} [options={}]\n   */\n  function SignalingV2(wsServer, options) {\n    _classCallCheck(this, SignalingV2);\n\n    var uri = util.makeClientSIPURI();\n\n    /* eslint new-cap:0 */\n    options = Object.assign({\n      createCancelableRoomSignalingPromise: defaultCreateCancelableRoomSignalingPromise,\n      registrarServer: constants.REGISTRAR_SERVER,\n      UA: SIP.UA\n    }, options);\n\n    var debug = options.logLevel === 'debug';\n    var useWssHack = wsServer.startsWith('wss://');\n\n    var UA = options.UA;\n    var ua = new UA({\n      autostart: false,\n      log: {\n        builtinEnabled: debug\n      },\n      extraSupported: ['room-signaling', 'timer'],\n      hackAllowUnregisteredOptionTags: true,\n      keepAliveInterval: 30,\n      mediaHandlerFactory: SIPJSMediaHandler.defaultFactory,\n      register: false,\n      registrarServer: options.registrarServer,\n      traceSip: debug,\n      uri: uri,\n      wsServers: wsServer,\n      hackWssInTransport: useWssHack\n    });\n\n    var _this = _possibleConstructorReturn(this, (SignalingV2.__proto__ || Object.getPrototypeOf(SignalingV2)).call(this));\n\n    Object.defineProperties(_this, {\n      _createCancelableRoomSignalingPromise: {\n        value: options.createCancelableRoomSignalingPromise\n      },\n      _options: {\n        value: options\n      },\n      _ua: {\n        value: ua\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * @private\n   */\n\n\n  _createClass(SignalingV2, [{\n    key: '_close',\n    value: function _close(key) {\n      this.transition('closing', key);\n      this._ua.stop();\n      this._ua.transport.disconnect();\n      this.transition('closed', key);\n      return Promise.resolve(this);\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_open',\n    value: function _open(key) {\n      var _this2 = this;\n\n      var ua = this._ua;\n\n      function startUA() {\n        ua.start();\n      }\n\n      this.transition('opening', key);\n      return util.promiseFromEvents(startUA, ua, 'connected', 'disconnected').then(function () {\n        _this2.transition('open', key);\n        return _this2;\n      }, function () {\n        _this2.transition('closed', key);\n        throw new Error('Open failed');\n      });\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_connect',\n    value: function _connect(localParticipant, token, iceServerSource, encodingParameters, preferredCodecs, options) {\n      options = Object.assign({}, this._options, options);\n\n      var ua = this._ua;\n\n      return this._createCancelableRoomSignalingPromise.bind(null, token, ua, localParticipant, iceServerSource, encodingParameters, preferredCodecs, options);\n    }\n  }, {\n    key: 'createLocalParticipantSignaling',\n    value: function createLocalParticipantSignaling(encodingParameters) {\n      return new LocalParticipantV2(encodingParameters);\n    }\n  }]);\n\n  return SignalingV2;\n}(Signaling);\n\nmodule.exports = SignalingV2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvaW5kZXguanM/NjY5NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSxnQkFBZ0IsbUJBQU8sQ0FBQywrQkFBc0I7QUFDOUMsa0RBQWtELG1CQUFPLENBQUMsMkNBQWtDO0FBQzVGLHlCQUF5QixtQkFBTyxDQUFDLDZCQUFvQjtBQUNyRCxnQkFBZ0IsbUJBQU8sQ0FBQyxjQUFLO0FBQzdCLFVBQVUsbUJBQU8sQ0FBQyxvQkFBVztBQUM3Qix3QkFBd0IsbUJBQU8sQ0FBQyw4QkFBcUI7QUFDckQsV0FBVyxtQkFBTyxDQUFDLHFCQUFZOztBQUUvQjtBQUNBLElBQUksa0JBQWtCO0FBQ3RCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQixrQkFBa0I7QUFDbEMsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsUUFBUSxZQUFZO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGdDQUFnQzs7QUFFaEM7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjMwNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vLi4vdXRpbC9jb25zdGFudHMnKTtcbnZhciBkZWZhdWx0Q3JlYXRlQ2FuY2VsYWJsZVJvb21TaWduYWxpbmdQcm9taXNlID0gcmVxdWlyZSgnLi9jYW5jZWxhYmxlcm9vbXNpZ25hbGluZ3Byb21pc2UnKTtcbnZhciBMb2NhbFBhcnRpY2lwYW50VjIgPSByZXF1aXJlKCcuL2xvY2FscGFydGljaXBhbnQnKTtcbnZhciBTaWduYWxpbmcgPSByZXF1aXJlKCcuLi8nKTtcbnZhciBTSVAgPSByZXF1aXJlKCcuLi8uLi9zaXAnKTtcbnZhciBTSVBKU01lZGlhSGFuZGxlciA9IHJlcXVpcmUoJy4vc2lwanNtZWRpYWhhbmRsZXInKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnLi4vLi4vdXRpbCcpO1xuXG4vKipcbiAqIHtAbGluayBTaWduYWxpbmdWMn0gaW1wbGVtZW50cyB2ZXJzaW9uIDIgb2Ygb3VyIHNpZ25hbGluZyBwcm90b2NvbC5cbiAqIEBleHRlbmRzIFNpZ25hbGluZ1xuICovXG5cbnZhciBTaWduYWxpbmdWMiA9IGZ1bmN0aW9uIChfU2lnbmFsaW5nKSB7XG4gIF9pbmhlcml0cyhTaWduYWxpbmdWMiwgX1NpZ25hbGluZyk7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCB7QGxpbmsgU2lnbmFsaW5nVjJ9LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gd3NTZXJ2ZXJcbiAgICogQHBhcmFtIHs/b2JqZWN0fSBbb3B0aW9ucz17fV1cbiAgICovXG4gIGZ1bmN0aW9uIFNpZ25hbGluZ1YyKHdzU2VydmVyLCBvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNpZ25hbGluZ1YyKTtcblxuICAgIHZhciB1cmkgPSB1dGlsLm1ha2VDbGllbnRTSVBVUkkoKTtcblxuICAgIC8qIGVzbGludCBuZXctY2FwOjAgKi9cbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBjcmVhdGVDYW5jZWxhYmxlUm9vbVNpZ25hbGluZ1Byb21pc2U6IGRlZmF1bHRDcmVhdGVDYW5jZWxhYmxlUm9vbVNpZ25hbGluZ1Byb21pc2UsXG4gICAgICByZWdpc3RyYXJTZXJ2ZXI6IGNvbnN0YW50cy5SRUdJU1RSQVJfU0VSVkVSLFxuICAgICAgVUE6IFNJUC5VQVxuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgdmFyIGRlYnVnID0gb3B0aW9ucy5sb2dMZXZlbCA9PT0gJ2RlYnVnJztcbiAgICB2YXIgdXNlV3NzSGFjayA9IHdzU2VydmVyLnN0YXJ0c1dpdGgoJ3dzczovLycpO1xuXG4gICAgdmFyIFVBID0gb3B0aW9ucy5VQTtcbiAgICB2YXIgdWEgPSBuZXcgVUEoe1xuICAgICAgYXV0b3N0YXJ0OiBmYWxzZSxcbiAgICAgIGxvZzoge1xuICAgICAgICBidWlsdGluRW5hYmxlZDogZGVidWdcbiAgICAgIH0sXG4gICAgICBleHRyYVN1cHBvcnRlZDogWydyb29tLXNpZ25hbGluZycsICd0aW1lciddLFxuICAgICAgaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFnczogdHJ1ZSxcbiAgICAgIGtlZXBBbGl2ZUludGVydmFsOiAzMCxcbiAgICAgIG1lZGlhSGFuZGxlckZhY3Rvcnk6IFNJUEpTTWVkaWFIYW5kbGVyLmRlZmF1bHRGYWN0b3J5LFxuICAgICAgcmVnaXN0ZXI6IGZhbHNlLFxuICAgICAgcmVnaXN0cmFyU2VydmVyOiBvcHRpb25zLnJlZ2lzdHJhclNlcnZlcixcbiAgICAgIHRyYWNlU2lwOiBkZWJ1ZyxcbiAgICAgIHVyaTogdXJpLFxuICAgICAgd3NTZXJ2ZXJzOiB3c1NlcnZlcixcbiAgICAgIGhhY2tXc3NJblRyYW5zcG9ydDogdXNlV3NzSGFja1xuICAgIH0pO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFNpZ25hbGluZ1YyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2lnbmFsaW5nVjIpKS5jYWxsKHRoaXMpKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBfY3JlYXRlQ2FuY2VsYWJsZVJvb21TaWduYWxpbmdQcm9taXNlOiB7XG4gICAgICAgIHZhbHVlOiBvcHRpb25zLmNyZWF0ZUNhbmNlbGFibGVSb29tU2lnbmFsaW5nUHJvbWlzZVxuICAgICAgfSxcbiAgICAgIF9vcHRpb25zOiB7XG4gICAgICAgIHZhbHVlOiBvcHRpb25zXG4gICAgICB9LFxuICAgICAgX3VhOiB7XG4gICAgICAgIHZhbHVlOiB1YVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhTaWduYWxpbmdWMiwgW3tcbiAgICBrZXk6ICdfY2xvc2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY2xvc2Uoa2V5KSB7XG4gICAgICB0aGlzLnRyYW5zaXRpb24oJ2Nsb3NpbmcnLCBrZXkpO1xuICAgICAgdGhpcy5fdWEuc3RvcCgpO1xuICAgICAgdGhpcy5fdWEudHJhbnNwb3J0LmRpc2Nvbm5lY3QoKTtcbiAgICAgIHRoaXMudHJhbnNpdGlvbignY2xvc2VkJywga2V5KTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX29wZW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb3BlbihrZXkpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgdWEgPSB0aGlzLl91YTtcblxuICAgICAgZnVuY3Rpb24gc3RhcnRVQSgpIHtcbiAgICAgICAgdWEuc3RhcnQoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy50cmFuc2l0aW9uKCdvcGVuaW5nJywga2V5KTtcbiAgICAgIHJldHVybiB1dGlsLnByb21pc2VGcm9tRXZlbnRzKHN0YXJ0VUEsIHVhLCAnY29ubmVjdGVkJywgJ2Rpc2Nvbm5lY3RlZCcpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIudHJhbnNpdGlvbignb3BlbicsIGtleSk7XG4gICAgICAgIHJldHVybiBfdGhpczI7XG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMi50cmFuc2l0aW9uKCdjbG9zZWQnLCBrZXkpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09wZW4gZmFpbGVkJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfY29ubmVjdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9jb25uZWN0KGxvY2FsUGFydGljaXBhbnQsIHRva2VuLCBpY2VTZXJ2ZXJTb3VyY2UsIGVuY29kaW5nUGFyYW1ldGVycywgcHJlZmVycmVkQ29kZWNzLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgIHZhciB1YSA9IHRoaXMuX3VhO1xuXG4gICAgICByZXR1cm4gdGhpcy5fY3JlYXRlQ2FuY2VsYWJsZVJvb21TaWduYWxpbmdQcm9taXNlLmJpbmQobnVsbCwgdG9rZW4sIHVhLCBsb2NhbFBhcnRpY2lwYW50LCBpY2VTZXJ2ZXJTb3VyY2UsIGVuY29kaW5nUGFyYW1ldGVycywgcHJlZmVycmVkQ29kZWNzLCBvcHRpb25zKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjcmVhdGVMb2NhbFBhcnRpY2lwYW50U2lnbmFsaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlTG9jYWxQYXJ0aWNpcGFudFNpZ25hbGluZyhlbmNvZGluZ1BhcmFtZXRlcnMpIHtcbiAgICAgIHJldHVybiBuZXcgTG9jYWxQYXJ0aWNpcGFudFYyKGVuY29kaW5nUGFyYW1ldGVycyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNpZ25hbGluZ1YyO1xufShTaWduYWxpbmcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNpZ25hbGluZ1YyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvc2lnbmFsaW5nL3YyL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAzMDdcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///307\n");

/***/ }),
/* 308 */
/*!**************************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/v2/cancelableroomsignalingpromise.js ***!
  \**************************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar CancelablePromise = __webpack_require__(/*! ../../util/cancelablepromise */ 220);\nvar DefaultPeerConnectionManager = __webpack_require__(/*! ./peerconnectionmanager */ 309);\nvar DefaultRoomV2 = __webpack_require__(/*! ./room */ 322);\nvar DefaultTransport = __webpack_require__(/*! ./transport */ 338);\nvar SignalingConnectionDisconnectedError = __webpack_require__(/*! ../../util/twilio-video-errors */ 209).SignalingConnectionDisconnectedError;\nvar SignalingIncomingMessageInvalidError = __webpack_require__(/*! ../../util/twilio-video-errors */ 209).SignalingIncomingMessageInvalidError;\nvar flatMap = __webpack_require__(/*! ../../util */ 206).flatMap;\n\nfunction createCancelableRoomSignalingPromise(token, ua, localParticipant, iceServerSource, encodingParameters, preferredCodecs, options) {\n  options = Object.assign({\n    PeerConnectionManager: DefaultPeerConnectionManager,\n    RoomV2: DefaultRoomV2,\n    Transport: DefaultTransport\n  }, options);\n\n  if (options._sdpSemantics) {\n    options.sdpSemantics = options._sdpSemantics;\n  }\n\n  var transport = void 0;\n\n  var PeerConnectionManager = options.PeerConnectionManager;\n  var RoomV2 = options.RoomV2;\n\n  var peerConnectionManager = new PeerConnectionManager(iceServerSource, encodingParameters, preferredCodecs, options);\n\n  var trackSenders = flatMap(localParticipant.tracks, function (trackV2) {\n    return [trackV2.trackTransceiver];\n  });\n\n  peerConnectionManager.setConfiguration(options);\n  peerConnectionManager.setTrackSenders(trackSenders);\n\n  var cancelationError = new Error('Canceled');\n\n  return new CancelablePromise(function onCreate(resolve, reject, isCanceled) {\n    peerConnectionManager.createAndOffer().then(function createAndOfferSucceeded() {\n      // NOTE(mmalavalli): PeerConnectionManager#createAndOffer() queues the\n      // initial offer in the event queue for the 'description' event. So,\n      // we are dequeueing to prevent the spurious 'update' message sent by\n      // the client after connecting to a room.\n      peerConnectionManager.dequeue('description');\n\n      return new Promise(function (resolve, reject) {\n        if (isCanceled()) {\n          reject(cancelationError);\n          return;\n        }\n\n        var transportOptions = typeof options.wsServerInsights === 'string' ? { wsServerInsights: options.wsServerInsights } : {};\n\n        if (options.InsightsPublisher) {\n          transportOptions.InsightsPublisher = options.InsightsPublisher;\n        }\n\n        if (options.NullInsightsPublisher) {\n          transportOptions.NullInsightsPublisher = options.NullInsightsPublisher;\n        }\n\n        transportOptions = Object.assign({\n          dominantSpeaker: options.dominantSpeaker,\n          environment: options.environment,\n          networkQuality: options.networkQuality,\n          iceServerSourceStatus: iceServerSource.status,\n          insights: options.insights,\n          realm: options.realm,\n          sdpSemantics: options.sdpSemantics\n        }, transportOptions);\n\n        var Transport = options.Transport;\n        transport = new Transport(options.name, token, localParticipant, peerConnectionManager, ua, transportOptions);\n\n        transport.once('connected', function connected(initialState) {\n          if (isCanceled()) {\n            reject(cancelationError);\n            return;\n          }\n\n          var localParticipantState = initialState.participant;\n          if (!localParticipantState) {\n            reject(new SignalingIncomingMessageInvalidError());\n            return;\n          }\n\n          resolve(new RoomV2(localParticipant, initialState, transport, peerConnectionManager, options));\n        });\n\n        transport.once('stateChanged', function stateChanged(state, error) {\n          if (state === 'disconnected') {\n            error = error || new SignalingConnectionDisconnectedError();\n            transport = null;\n            reject(error);\n          }\n        });\n      });\n    }).then(function createRoomSignalingSucceeded(roomSignaling) {\n      if (isCanceled()) {\n        peerConnectionManager.close();\n        roomSignaling.disconnect();\n        reject(cancelationError);\n        return;\n      }\n      resolve(roomSignaling);\n    }).catch(function onError(error) {\n      if (transport) {\n        transport.disconnect();\n        transport = null;\n      }\n      peerConnectionManager.close();\n      reject(error);\n    });\n  }, function onCancel() {\n    if (transport) {\n      transport.disconnect();\n      transport = null;\n    }\n  });\n}\n\nmodule.exports = createCancelableRoomSignalingPromise;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvY2FuY2VsYWJsZXJvb21zaWduYWxpbmdwcm9taXNlLmpzP2I2OGUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsd0JBQXdCLG1CQUFPLENBQUMsdUNBQThCO0FBQzlELG1DQUFtQyxtQkFBTyxDQUFDLGtDQUF5QjtBQUNwRSxvQkFBb0IsbUJBQU8sQ0FBQyxpQkFBUTtBQUNwQyx1QkFBdUIsbUJBQU8sQ0FBQyxzQkFBYTtBQUM1QywyQ0FBMkMsbUJBQU8sQ0FBQyx5Q0FBZ0M7QUFDbkYsMkNBQTJDLG1CQUFPLENBQUMseUNBQWdDO0FBQ25GLGNBQWMsbUJBQU8sQ0FBQyxxQkFBWTs7QUFFbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtFQUErRSw2Q0FBNkM7O0FBRTVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJmaWxlIjoiMzA4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ2FuY2VsYWJsZVByb21pc2UgPSByZXF1aXJlKCcuLi8uLi91dGlsL2NhbmNlbGFibGVwcm9taXNlJyk7XG52YXIgRGVmYXVsdFBlZXJDb25uZWN0aW9uTWFuYWdlciA9IHJlcXVpcmUoJy4vcGVlcmNvbm5lY3Rpb25tYW5hZ2VyJyk7XG52YXIgRGVmYXVsdFJvb21WMiA9IHJlcXVpcmUoJy4vcm9vbScpO1xudmFyIERlZmF1bHRUcmFuc3BvcnQgPSByZXF1aXJlKCcuL3RyYW5zcG9ydCcpO1xudmFyIFNpZ25hbGluZ0Nvbm5lY3Rpb25EaXNjb25uZWN0ZWRFcnJvciA9IHJlcXVpcmUoJy4uLy4uL3V0aWwvdHdpbGlvLXZpZGVvLWVycm9ycycpLlNpZ25hbGluZ0Nvbm5lY3Rpb25EaXNjb25uZWN0ZWRFcnJvcjtcbnZhciBTaWduYWxpbmdJbmNvbWluZ01lc3NhZ2VJbnZhbGlkRXJyb3IgPSByZXF1aXJlKCcuLi8uLi91dGlsL3R3aWxpby12aWRlby1lcnJvcnMnKS5TaWduYWxpbmdJbmNvbWluZ01lc3NhZ2VJbnZhbGlkRXJyb3I7XG52YXIgZmxhdE1hcCA9IHJlcXVpcmUoJy4uLy4uL3V0aWwnKS5mbGF0TWFwO1xuXG5mdW5jdGlvbiBjcmVhdGVDYW5jZWxhYmxlUm9vbVNpZ25hbGluZ1Byb21pc2UodG9rZW4sIHVhLCBsb2NhbFBhcnRpY2lwYW50LCBpY2VTZXJ2ZXJTb3VyY2UsIGVuY29kaW5nUGFyYW1ldGVycywgcHJlZmVycmVkQ29kZWNzLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICBQZWVyQ29ubmVjdGlvbk1hbmFnZXI6IERlZmF1bHRQZWVyQ29ubmVjdGlvbk1hbmFnZXIsXG4gICAgUm9vbVYyOiBEZWZhdWx0Um9vbVYyLFxuICAgIFRyYW5zcG9ydDogRGVmYXVsdFRyYW5zcG9ydFxuICB9LCBvcHRpb25zKTtcblxuICBpZiAob3B0aW9ucy5fc2RwU2VtYW50aWNzKSB7XG4gICAgb3B0aW9ucy5zZHBTZW1hbnRpY3MgPSBvcHRpb25zLl9zZHBTZW1hbnRpY3M7XG4gIH1cblxuICB2YXIgdHJhbnNwb3J0ID0gdm9pZCAwO1xuXG4gIHZhciBQZWVyQ29ubmVjdGlvbk1hbmFnZXIgPSBvcHRpb25zLlBlZXJDb25uZWN0aW9uTWFuYWdlcjtcbiAgdmFyIFJvb21WMiA9IG9wdGlvbnMuUm9vbVYyO1xuXG4gIHZhciBwZWVyQ29ubmVjdGlvbk1hbmFnZXIgPSBuZXcgUGVlckNvbm5lY3Rpb25NYW5hZ2VyKGljZVNlcnZlclNvdXJjZSwgZW5jb2RpbmdQYXJhbWV0ZXJzLCBwcmVmZXJyZWRDb2RlY3MsIG9wdGlvbnMpO1xuXG4gIHZhciB0cmFja1NlbmRlcnMgPSBmbGF0TWFwKGxvY2FsUGFydGljaXBhbnQudHJhY2tzLCBmdW5jdGlvbiAodHJhY2tWMikge1xuICAgIHJldHVybiBbdHJhY2tWMi50cmFja1RyYW5zY2VpdmVyXTtcbiAgfSk7XG5cbiAgcGVlckNvbm5lY3Rpb25NYW5hZ2VyLnNldENvbmZpZ3VyYXRpb24ob3B0aW9ucyk7XG4gIHBlZXJDb25uZWN0aW9uTWFuYWdlci5zZXRUcmFja1NlbmRlcnModHJhY2tTZW5kZXJzKTtcblxuICB2YXIgY2FuY2VsYXRpb25FcnJvciA9IG5ldyBFcnJvcignQ2FuY2VsZWQnKTtcblxuICByZXR1cm4gbmV3IENhbmNlbGFibGVQcm9taXNlKGZ1bmN0aW9uIG9uQ3JlYXRlKHJlc29sdmUsIHJlamVjdCwgaXNDYW5jZWxlZCkge1xuICAgIHBlZXJDb25uZWN0aW9uTWFuYWdlci5jcmVhdGVBbmRPZmZlcigpLnRoZW4oZnVuY3Rpb24gY3JlYXRlQW5kT2ZmZXJTdWNjZWVkZWQoKSB7XG4gICAgICAvLyBOT1RFKG1tYWxhdmFsbGkpOiBQZWVyQ29ubmVjdGlvbk1hbmFnZXIjY3JlYXRlQW5kT2ZmZXIoKSBxdWV1ZXMgdGhlXG4gICAgICAvLyBpbml0aWFsIG9mZmVyIGluIHRoZSBldmVudCBxdWV1ZSBmb3IgdGhlICdkZXNjcmlwdGlvbicgZXZlbnQuIFNvLFxuICAgICAgLy8gd2UgYXJlIGRlcXVldWVpbmcgdG8gcHJldmVudCB0aGUgc3B1cmlvdXMgJ3VwZGF0ZScgbWVzc2FnZSBzZW50IGJ5XG4gICAgICAvLyB0aGUgY2xpZW50IGFmdGVyIGNvbm5lY3RpbmcgdG8gYSByb29tLlxuICAgICAgcGVlckNvbm5lY3Rpb25NYW5hZ2VyLmRlcXVldWUoJ2Rlc2NyaXB0aW9uJyk7XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGlmIChpc0NhbmNlbGVkKCkpIHtcbiAgICAgICAgICByZWplY3QoY2FuY2VsYXRpb25FcnJvcik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRyYW5zcG9ydE9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucy53c1NlcnZlckluc2lnaHRzID09PSAnc3RyaW5nJyA/IHsgd3NTZXJ2ZXJJbnNpZ2h0czogb3B0aW9ucy53c1NlcnZlckluc2lnaHRzIH0gOiB7fTtcblxuICAgICAgICBpZiAob3B0aW9ucy5JbnNpZ2h0c1B1Ymxpc2hlcikge1xuICAgICAgICAgIHRyYW5zcG9ydE9wdGlvbnMuSW5zaWdodHNQdWJsaXNoZXIgPSBvcHRpb25zLkluc2lnaHRzUHVibGlzaGVyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuTnVsbEluc2lnaHRzUHVibGlzaGVyKSB7XG4gICAgICAgICAgdHJhbnNwb3J0T3B0aW9ucy5OdWxsSW5zaWdodHNQdWJsaXNoZXIgPSBvcHRpb25zLk51bGxJbnNpZ2h0c1B1Ymxpc2hlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyYW5zcG9ydE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBkb21pbmFudFNwZWFrZXI6IG9wdGlvbnMuZG9taW5hbnRTcGVha2VyLFxuICAgICAgICAgIGVudmlyb25tZW50OiBvcHRpb25zLmVudmlyb25tZW50LFxuICAgICAgICAgIG5ldHdvcmtRdWFsaXR5OiBvcHRpb25zLm5ldHdvcmtRdWFsaXR5LFxuICAgICAgICAgIGljZVNlcnZlclNvdXJjZVN0YXR1czogaWNlU2VydmVyU291cmNlLnN0YXR1cyxcbiAgICAgICAgICBpbnNpZ2h0czogb3B0aW9ucy5pbnNpZ2h0cyxcbiAgICAgICAgICByZWFsbTogb3B0aW9ucy5yZWFsbSxcbiAgICAgICAgICBzZHBTZW1hbnRpY3M6IG9wdGlvbnMuc2RwU2VtYW50aWNzXG4gICAgICAgIH0sIHRyYW5zcG9ydE9wdGlvbnMpO1xuXG4gICAgICAgIHZhciBUcmFuc3BvcnQgPSBvcHRpb25zLlRyYW5zcG9ydDtcbiAgICAgICAgdHJhbnNwb3J0ID0gbmV3IFRyYW5zcG9ydChvcHRpb25zLm5hbWUsIHRva2VuLCBsb2NhbFBhcnRpY2lwYW50LCBwZWVyQ29ubmVjdGlvbk1hbmFnZXIsIHVhLCB0cmFuc3BvcnRPcHRpb25zKTtcblxuICAgICAgICB0cmFuc3BvcnQub25jZSgnY29ubmVjdGVkJywgZnVuY3Rpb24gY29ubmVjdGVkKGluaXRpYWxTdGF0ZSkge1xuICAgICAgICAgIGlmIChpc0NhbmNlbGVkKCkpIHtcbiAgICAgICAgICAgIHJlamVjdChjYW5jZWxhdGlvbkVycm9yKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbG9jYWxQYXJ0aWNpcGFudFN0YXRlID0gaW5pdGlhbFN0YXRlLnBhcnRpY2lwYW50O1xuICAgICAgICAgIGlmICghbG9jYWxQYXJ0aWNpcGFudFN0YXRlKSB7XG4gICAgICAgICAgICByZWplY3QobmV3IFNpZ25hbGluZ0luY29taW5nTWVzc2FnZUludmFsaWRFcnJvcigpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXNvbHZlKG5ldyBSb29tVjIobG9jYWxQYXJ0aWNpcGFudCwgaW5pdGlhbFN0YXRlLCB0cmFuc3BvcnQsIHBlZXJDb25uZWN0aW9uTWFuYWdlciwgb3B0aW9ucykpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0cmFuc3BvcnQub25jZSgnc3RhdGVDaGFuZ2VkJywgZnVuY3Rpb24gc3RhdGVDaGFuZ2VkKHN0YXRlLCBlcnJvcikge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgIGVycm9yID0gZXJyb3IgfHwgbmV3IFNpZ25hbGluZ0Nvbm5lY3Rpb25EaXNjb25uZWN0ZWRFcnJvcigpO1xuICAgICAgICAgICAgdHJhbnNwb3J0ID0gbnVsbDtcbiAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gY3JlYXRlUm9vbVNpZ25hbGluZ1N1Y2NlZWRlZChyb29tU2lnbmFsaW5nKSB7XG4gICAgICBpZiAoaXNDYW5jZWxlZCgpKSB7XG4gICAgICAgIHBlZXJDb25uZWN0aW9uTWFuYWdlci5jbG9zZSgpO1xuICAgICAgICByb29tU2lnbmFsaW5nLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgcmVqZWN0KGNhbmNlbGF0aW9uRXJyb3IpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXNvbHZlKHJvb21TaWduYWxpbmcpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIG9uRXJyb3IoZXJyb3IpIHtcbiAgICAgIGlmICh0cmFuc3BvcnQpIHtcbiAgICAgICAgdHJhbnNwb3J0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdHJhbnNwb3J0ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHBlZXJDb25uZWN0aW9uTWFuYWdlci5jbG9zZSgpO1xuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICB9KTtcbiAgfSwgZnVuY3Rpb24gb25DYW5jZWwoKSB7XG4gICAgaWYgKHRyYW5zcG9ydCkge1xuICAgICAgdHJhbnNwb3J0LmRpc2Nvbm5lY3QoKTtcbiAgICAgIHRyYW5zcG9ydCA9IG51bGw7XG4gICAgfVxuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVDYW5jZWxhYmxlUm9vbVNpZ25hbGluZ1Byb21pc2U7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvY2FuY2VsYWJsZXJvb21zaWduYWxpbmdwcm9taXNlLmpzXG4vLyBtb2R1bGUgaWQgPSAzMDhcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///308\n");

/***/ }),
/* 309 */
/*!*****************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/v2/peerconnectionmanager.js ***!
  \*****************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PeerConnectionV2 = __webpack_require__(/*! ./peerconnection */ 310);\nvar MediaTrackSender = __webpack_require__(/*! ../../media/track/sender */ 237);\nvar QueueingEventEmitter = __webpack_require__(/*! ../../queueingeventemitter */ 321);\nvar util = __webpack_require__(/*! ../../util */ 206);\n\nvar isFirefox = util.guessBrowser() === 'firefox';\n\n/**\n * {@link PeerConnectionManager} manages multiple {@link PeerConnectionV2}s.\n * @extends QueueingEventEmitter\n * @emits PeerConnectionManager#candidates\n * @emits PeerConnectionManager#description\n * @emits PeerConnectionManager#iceConnectionStateChanged\n * @emits PeerConnectionManager#trackAdded\n */\n\nvar PeerConnectionManager = function (_QueueingEventEmitter) {\n  _inherits(PeerConnectionManager, _QueueingEventEmitter);\n\n  /**\n   * Construct {@link PeerConnectionManager}.\n   * @param {IceServerSource} iceServerSource\n   * @param {EncodingParametersImpl} encodingParameters\n   * @param {PreferredCodecs} preferredCodecs\n   * @param {object} options\n   */\n  function PeerConnectionManager(iceServerSource, encodingParameters, preferredCodecs, options) {\n    _classCallCheck(this, PeerConnectionManager);\n\n    var _this = _possibleConstructorReturn(this, (PeerConnectionManager.__proto__ || Object.getPrototypeOf(PeerConnectionManager)).call(this));\n\n    options = Object.assign({\n      audioContextFactory: isFirefox ? __webpack_require__(/*! ../../webaudio/audiocontext */ 242) : null,\n      PeerConnectionV2: PeerConnectionV2\n    }, options);\n\n    var audioContext = options.audioContextFactory ? options.audioContextFactory.getOrCreate(_this) : null;\n\n    // NOTE(mroberts): If we're using an AudioContext, we don't need to specify\n    // `offerToReceiveAudio` in RTCOfferOptions.\n    var offerOptions = audioContext ? { offerToReceiveVideo: true } : { offerToReceiveAudio: true, offerToReceiveVideo: true };\n\n    Object.defineProperties(_this, {\n      _audioContextFactory: {\n        value: options.audioContextFactory\n      },\n      _closedPeerConnectionIds: {\n        value: new Set()\n      },\n      _configuration: {\n        writable: true,\n        value: null\n      },\n      _configurationDeferred: {\n        writable: true,\n        value: util.defer()\n      },\n      _dummyAudioTrackSender: {\n        value: audioContext ? new MediaTrackSender(createDummyAudioMediaStreamTrack(audioContext)) : null\n      },\n      _encodingParameters: {\n        value: encodingParameters\n      },\n      _iceConnectionState: {\n        writable: true,\n        value: 'new'\n      },\n      _iceServerSource: {\n        value: iceServerSource\n      },\n      _dataTrackSenders: {\n        writable: true,\n        value: new Set()\n      },\n      _lastIceConnectionState: {\n        writable: true,\n        value: 'new'\n      },\n      _mediaTrackSenders: {\n        writable: true,\n        value: new Set()\n      },\n      _offerOptions: {\n        value: offerOptions\n      },\n      _peerConnections: {\n        value: new Map()\n      },\n      _preferredCodecs: {\n        value: preferredCodecs\n      },\n      _PeerConnectionV2: {\n        value: options.PeerConnectionV2\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * A summarized RTCIceConnectionState across all the\n   * {@link PeerConnectionManager}'s underlying {@link PeerConnectionV2}s.\n   * @property {RTCIceConnectionState}\n   */\n\n\n  _createClass(PeerConnectionManager, [{\n    key: '_getConfiguration',\n\n\n    /**\n     * Get the {@link PeerConnectionManager}'s configuration.\n     * @private\n     * @returns {Promise<object>}\n     */\n    value: function _getConfiguration() {\n      return this._configurationDeferred.promise;\n    }\n\n    /**\n     * Get or create a {@link PeerConnectionV2}.\n     * @private\n     * @param {string} id\n     * @param {object} [configuration]\n     * @returns {PeerConnectionV2}\n     */\n\n  }, {\n    key: '_getOrCreate',\n    value: function _getOrCreate(id, configuration) {\n      var _this2 = this;\n\n      var self = this;\n      var peerConnection = this._peerConnections.get(id);\n      if (!peerConnection) {\n        var _PeerConnectionV = this._PeerConnectionV2;\n\n        var options = Object.assign({\n          dummyAudioMediaStreamTrack: this._dummyAudioTrackSender ? this._dummyAudioTrackSender.track : null,\n          offerOptions: this._offerOptions\n        }, configuration);\n        peerConnection = new _PeerConnectionV(id, this._encodingParameters, this._preferredCodecs, options);\n\n        this._peerConnections.set(peerConnection.id, peerConnection);\n        peerConnection.on('candidates', this.queue.bind(this, 'candidates'));\n        peerConnection.on('description', this.queue.bind(this, 'description'));\n        peerConnection.on('trackAdded', this.queue.bind(this, 'trackAdded'));\n        peerConnection.on('stateChanged', function stateChanged(state) {\n          if (state === 'closed') {\n            peerConnection.removeListener('stateChanged', stateChanged);\n            self._peerConnections.delete(peerConnection.id);\n            self._closedPeerConnectionIds.add(peerConnection.id);\n            updateIceConnectionState(self);\n          }\n        });\n        peerConnection.on('iceConnectionStateChanged', function () {\n          return updateIceConnectionState(_this2);\n        });\n\n        this._dataTrackSenders.forEach(peerConnection.addDataTrackSender, peerConnection);\n        this._mediaTrackSenders.forEach(peerConnection.addMediaTrackSender, peerConnection);\n\n        updateIceConnectionState(this);\n      }\n      return peerConnection;\n    }\n\n    /**\n     * Close all the {@link PeerConnectionV2}s in this {@link PeerConnectionManager}.\n     * @returns {this}\n     */\n\n  }, {\n    key: 'close',\n    value: function close() {\n      if (this._iceServerSource.isStarted) {\n        this._iceServerSource.stop();\n      }\n      this._peerConnections.forEach(function (peerConnection) {\n        peerConnection.close();\n      });\n      if (this._dummyAudioTrackSender) {\n        this._dummyAudioTrackSender.track.stop();\n      }\n      if (this._audioContextFactory) {\n        this._audioContextFactory.release(this);\n      }\n      updateIceConnectionState(this);\n      return this;\n    }\n\n    /**\n     * Create a new {@link PeerConnectionV2} on this {@link PeerConnectionManager}.\n     * Then, create a new offer with the newly-created {@link PeerConnectionV2}.\n     * @return {Promise<this>}\n     */\n\n  }, {\n    key: 'createAndOffer',\n    value: function createAndOffer() {\n      var _this3 = this;\n\n      return this._getConfiguration().then(function (configuration) {\n        var id = void 0;\n        do {\n          id = util.makeUUID();\n        } while (_this3._peerConnections.has(id));\n\n        return _this3._getOrCreate(id, configuration);\n      }).then(function (peerConnection) {\n        return peerConnection.offer();\n      }).then(function () {\n        return _this3;\n      });\n    }\n\n    /**\n     * Get the {@link DataTrackReceiver}s and {@link MediaTrackReceiver}s of all\n     * the {@link PeerConnectionV2}s.\n     * @returns {Array<DataTrackReceiver|MediaTrackReceiver>} trackReceivers\n     */\n\n  }, {\n    key: 'getTrackReceivers',\n    value: function getTrackReceivers() {\n      return util.flatMap(this._peerConnections, function (peerConnection) {\n        return peerConnection.getTrackReceivers();\n      });\n    }\n\n    /**\n     * Get the states of all {@link PeerConnectionV2}s.\n     * @returns {Array<object>}\n     */\n\n  }, {\n    key: 'getStates',\n    value: function getStates() {\n      var peerConnectionStates = [];\n      this._peerConnections.forEach(function (peerConnection) {\n        var peerConnectionState = peerConnection.getState();\n        if (peerConnectionState) {\n          peerConnectionStates.push(peerConnectionState);\n        }\n      });\n      return peerConnectionStates;\n    }\n\n    /**\n     * Set the {@link PeerConnectionManager}'s configuration.\n     * @param {object} configuration\n     * @returns {this}\n     */\n\n  }, {\n    key: 'setConfiguration',\n    value: function setConfiguration(configuration) {\n      if (this._configuration) {\n        this._configurationDeferred = util.defer();\n        this._peerConnections.forEach(function (peerConnection) {\n          peerConnection.setConfiguration(configuration);\n        });\n      }\n      this._configuration = configuration;\n      this._configurationDeferred.resolve(configuration);\n      return this;\n    }\n\n    /**\n     * Set the {@link DataTrackSender}s and {@link MediaTrackSenders} on the\n     * {@link PeerConnectionManager}'s underlying {@link PeerConnectionV2}s.\n     * @param {Array<DataTrackSender|MediaTrackSender>} trackSenders\n     * @returns {this}\n     */\n\n  }, {\n    key: 'setTrackSenders',\n    value: function setTrackSenders(trackSenders) {\n      var dataTrackSenders = new Set(trackSenders.filter(function (trackSender) {\n        return trackSender.kind === 'data';\n      }));\n\n      var mediaTrackSenders = new Set(trackSenders.filter(function (trackSender) {\n        return trackSender && (trackSender.kind === 'audio' || trackSender.kind === 'video');\n      }));\n\n      var changes = getTrackSenderChanges(this, dataTrackSenders, mediaTrackSenders);\n      this._dataTrackSenders = dataTrackSenders;\n      this._mediaTrackSenders = mediaTrackSenders;\n      applyTrackSenderChanges(this, changes);\n\n      return this;\n    }\n\n    /**\n     * Update the {@link PeerConnectionManager}.\n     * @param {Array<object>} peerConnectionStates\n     * @returns {Promise<this>}\n     */\n\n  }, {\n    key: 'update',\n    value: function update(peerConnectionStates) {\n      var _this4 = this;\n\n      return this._getConfiguration().then(function (configuration) {\n        return Promise.all(peerConnectionStates.map(function (peerConnectionState) {\n          if (_this4._closedPeerConnectionIds.has(peerConnectionState.id)) {\n            return null;\n          }\n          var peerConnection = _this4._getOrCreate(peerConnectionState.id, configuration);\n          return peerConnection.update(peerConnectionState);\n        }));\n      }).then(function () {\n        return _this4;\n      });\n    }\n\n    /**\n     * Get the {@link PeerConnectionManager}'s media statistics.\n     * @returns {Promise.<Map<PeerConnectionV2#id, StandardizedStatsResponse>>}\n     */\n\n  }, {\n    key: 'getStats',\n    value: function getStats() {\n      var peerConnections = Array.from(this._peerConnections.values());\n      return Promise.all(peerConnections.map(function (peerConnection) {\n        return peerConnection.getStats().then(function (response) {\n          return [peerConnection.id, response];\n        });\n      })).then(function (responses) {\n        return new Map(responses);\n      });\n    }\n  }, {\n    key: 'iceConnectionState',\n    get: function get() {\n      return this._iceConnectionState;\n    }\n  }]);\n\n  return PeerConnectionManager;\n}(QueueingEventEmitter);\n\n/**\n * Create a dummy audio MediaStreamTrack with the given AudioContext.\n * @private\n * @param {AudioContext} audioContext\n * @return {MediaStreamTrack}\n */\n\n\nfunction createDummyAudioMediaStreamTrack(audioContext) {\n  var mediaStreamDestination = audioContext.createMediaStreamDestination();\n  return mediaStreamDestination.stream.getAudioTracks()[0];\n}\n\n/**\n * @event {PeerConnectionManager#candidates}\n * @param {object} candidates\n */\n\n/**\n * @event {PeerConnectionManager#description}\n * @param {object} description\n */\n\n/**\n * @event {PeerConnectionManager#iceConnectionStateChanged}\n */\n\n/**\n * @event {PeerConnectionManager#trackAdded}\n * @param {MediaStreamTrack|DataTrackReceiver} mediaStreamTrackOrDataTrackReceiver\n */\n\n/**\n * Apply {@link TrackSenderChanges}.\n * @param {PeerConnectionManager} peerConnectionManager\n * @param {TrackSenderChanges} changes\n * @returns {void}\n */\nfunction applyTrackSenderChanges(peerConnectionManager, changes) {\n  if (changes.data.add.size || changes.data.remove.size || changes.media.add.size || changes.media.remove.size) {\n    peerConnectionManager._peerConnections.forEach(function (peerConnection) {\n      changes.data.remove.forEach(peerConnection.removeDataTrackSender, peerConnection);\n      changes.media.remove.forEach(peerConnection.removeMediaTrackSender, peerConnection);\n      changes.data.add.forEach(peerConnection.addDataTrackSender, peerConnection);\n      changes.media.add.forEach(peerConnection.addMediaTrackSender, peerConnection);\n      peerConnection.offer();\n    });\n  }\n}\n\n/**\n * @interface DataTrackSenderChanges\n * @property {Set<DataTrackSender>} add\n * @property {Set<DataTrackSender>} remove\n */\n\n/**\n * Get the {@Link DataTrackSender} changes.\n * @param {PeerConnectionManager} peerConnectionManager\n * @param {Array<DataTrackSender>} dataTrackSenders\n * @returns {DataTrackSenderChanges} changes\n */\nfunction getDataTrackSenderChanges(peerConnectionManager, dataTrackSenders) {\n  var dataTrackSendersToAdd = util.difference(dataTrackSenders, peerConnectionManager._dataTrackSenders);\n  var dataTrackSendersToRemove = util.difference(peerConnectionManager._dataTrackSenders, dataTrackSenders);\n  return {\n    add: dataTrackSendersToAdd,\n    remove: dataTrackSendersToRemove\n  };\n}\n\n/**\n * @interface TrackSenderChanges\n * @property {DataTrackSenderChanges} data\n * @property {MediaTrackSenderChanges} media\n */\n\n/**\n * Get {@link DataTrackSender} and {@link MediaTrackSender} changes.\n * @param {PeerConnectionManager} peerConnectionManager\n * @param {Array<DataTrackSender>} dataTrackSenders\n * @param {Array<MediaTrackSender>} mediaTrackSenders\n * @returns {TrackSenderChanges} changes\n */\nfunction getTrackSenderChanges(peerConnectionManager, dataTrackSenders, mediaTrackSenders) {\n  return {\n    data: getDataTrackSenderChanges(peerConnectionManager, dataTrackSenders),\n    media: getMediaTrackSenderChanges(peerConnectionManager, mediaTrackSenders)\n  };\n}\n\n/**\n * @interface MediaTrackSenderChanges\n * @property {Set<MediaTrackSender>} add\n * @property {Set<MediaTrackSender>} remove\n */\n\n/**\n * Get the {@link MediaTrackSender} changes.\n * @param {PeerConnectionManager} peerConnectionManager\n * @param {Array<MediaTrackSender>} mediaTrackSenders\n * @returns {MediaTrackSenderChanges} changes\n */\nfunction getMediaTrackSenderChanges(peerConnectionManager, mediaTrackSenders) {\n  var mediaTrackSendersToAdd = util.difference(mediaTrackSenders, peerConnectionManager._mediaTrackSenders);\n  var mediaTrackSendersToRemove = util.difference(peerConnectionManager._mediaTrackSenders, mediaTrackSenders);\n  return {\n    add: mediaTrackSendersToAdd,\n    remove: mediaTrackSendersToRemove\n  };\n}\n\n/**\n * This object maps RTCIceConnectionState values to a \"rank\".\n */\nvar toRank = {\n  new: 0,\n  checking: 1,\n  connected: 2,\n  completed: 3,\n  disconnected: -1,\n  failed: -2,\n  closed: -3\n};\n\n/**\n * This object maps \"rank\" back to RTCIceConnectionState values.\n */\nvar fromRank = void 0;\n\n/**\n * `Object.keys` is not supported in older browsers, so we can't just\n * synchronously call it in this module; we need to defer invoking it until we\n * know we're in a modern environment (i.e., anything that supports WebRTC).\n * @returns {object} fromRank\n */\nfunction createFromRank() {\n  return Object.keys(toRank).reduce(function (fromRank, state) {\n    return Object.assign(fromRank, _defineProperty({}, toRank[state], state));\n  }, {});\n}\n\n/**\n * Summarize ICE connection stats.\n * @param {Array<RTCIceConnectionState>} states\n * @returns {RTCIceConnectionState} summary\n */\nfunction summarizeIceConnectionStates(states) {\n  if (!states.length) {\n    return 'new';\n  }\n  fromRank = fromRank || createFromRank();\n  return states.reduce(function (state1, state2) {\n    return fromRank[Math.max(toRank[state1], toRank[state2])];\n  });\n}\n\n/**\n * Update the {@link PeerConnectionManager}'s `iceConnectionState`, and emit an\n * \"iceConnectionStateChanged\" event, if necessary.\n * @param {PeerConnectionManager} pcm\n * @returns {void}\n */\nfunction updateIceConnectionState(pcm) {\n  pcm._lastIceConnectionState = pcm.iceConnectionState;\n  pcm._iceConnectionState = summarizeIceConnectionStates([].concat(_toConsumableArray(pcm._peerConnections.values())).map(function (pcv2) {\n    return pcv2.iceConnectionState;\n  }));\n  if (pcm.iceConnectionState !== pcm._lastIceConnectionState) {\n    pcm.emit('iceConnectionStateChanged');\n  }\n}\n\nmodule.exports = PeerConnectionManager;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvcGVlcmNvbm5lY3Rpb25tYW5hZ2VyLmpzPzJkMGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGtDQUFrQywwQkFBMEIsMENBQTBDLGdCQUFnQixPQUFPLGtCQUFrQixFQUFFLGFBQWEsRUFBRSxPQUFPLHdCQUF3QixFQUFFOztBQUVqTSwyQ0FBMkMsa0JBQWtCLGtDQUFrQyxxRUFBcUUsRUFBRSxFQUFFLE9BQU8sa0JBQWtCLEVBQUUsWUFBWTs7QUFFL00saURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSx1QkFBdUIsbUJBQU8sQ0FBQywyQkFBa0I7QUFDakQsdUJBQXVCLG1CQUFPLENBQUMsbUNBQTBCO0FBQ3pELDJCQUEyQixtQkFBTyxDQUFDLHFDQUE0QjtBQUMvRCxXQUFXLG1CQUFPLENBQUMscUJBQVk7O0FBRS9COztBQUVBO0FBQ0EsSUFBSSw0QkFBNEIsbUJBQW1CLHVCQUF1QjtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQiw0QkFBNEI7QUFDNUMsYUFBYSxnQkFBZ0I7QUFDN0IsYUFBYSx1QkFBdUI7QUFDcEMsYUFBYSxnQkFBZ0I7QUFDN0IsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHVDQUF1QyxtQkFBTyxDQUFDLHNDQUE2QjtBQUM1RTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBLHVDQUF1Qyw0QkFBNEIsSUFBSTs7QUFFdkU7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU0sNEJBQTRCLGVBQWUsdUJBQXVCO0FBQ3hFLGdCQUFnQjtBQUNoQjs7O0FBR0E7QUFDQTs7O0FBR0E7QUFDQSxnQkFBZ0IsNEJBQTRCO0FBQzVDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQix1QkFBdUIsV0FBVyw0QkFBNEI7QUFDcEYsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsdUJBQXVCLFVBQVUsNEJBQTRCO0FBQ2xGLHdEQUF3RCx1QkFBdUI7QUFDL0UsZ0JBQWdCO0FBQ2hCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0EsZ0JBQWdCLHdCQUF3QixPQUFPLHlCQUF5QjtBQUN4RSxZQUFZLHVCQUF1QjtBQUNuQyxpQkFBaUIsNENBQTRDO0FBQzdEOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLDhCQUE4Qix1QkFBdUI7QUFDckQsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsNEJBQTRCO0FBQzVDLGVBQWUsT0FBTztBQUN0QixpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLHNCQUFzQixPQUFPLHdCQUF3QjtBQUNyRSxRQUFRLDRCQUE0QixlQUFlLHVCQUF1QjtBQUMxRSxlQUFlLHdDQUF3QztBQUN2RCxpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLDRCQUE0QjtBQUMvQyxlQUFlLGNBQWM7QUFDN0IsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0EsZ0JBQWdCLDRCQUE0QjtBQUM1QyxpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEIsWUFBWTtBQUNaOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVc7QUFDWCxXQUFXLE9BQU87QUFDbEI7O0FBRUE7QUFDQSxXQUFXO0FBQ1gsV0FBVyxPQUFPO0FBQ2xCOztBQUVBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0EsV0FBVztBQUNYLFdBQVcsbUNBQW1DO0FBQzlDOztBQUVBO0FBQ0EsVUFBVSx5QkFBeUI7QUFDbkMsV0FBVyxzQkFBc0I7QUFDakMsV0FBVyxtQkFBbUI7QUFDOUIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLHFCQUFxQjtBQUNuQyxjQUFjLHFCQUFxQjtBQUNuQzs7QUFFQTtBQUNBLFlBQVksc0JBQXNCO0FBQ2xDLFdBQVcsc0JBQXNCO0FBQ2pDLFdBQVcsdUJBQXVCO0FBQ2xDLGFBQWEsdUJBQXVCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyx1QkFBdUI7QUFDckMsY0FBYyx3QkFBd0I7QUFDdEM7O0FBRUE7QUFDQSxRQUFRLHNCQUFzQixNQUFNLHVCQUF1QjtBQUMzRCxXQUFXLHNCQUFzQjtBQUNqQyxXQUFXLHVCQUF1QjtBQUNsQyxXQUFXLHdCQUF3QjtBQUNuQyxhQUFhLG1CQUFtQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxzQkFBc0I7QUFDcEMsY0FBYyxzQkFBc0I7QUFDcEM7O0FBRUE7QUFDQSxZQUFZLHVCQUF1QjtBQUNuQyxXQUFXLHNCQUFzQjtBQUNqQyxXQUFXLHdCQUF3QjtBQUNuQyxhQUFhLHdCQUF3QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JELEdBQUcsSUFBSTtBQUNQOztBQUVBO0FBQ0E7QUFDQSxXQUFXLDZCQUE2QjtBQUN4QyxhQUFhLHNCQUFzQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsZUFBZSw0QkFBNEI7QUFDM0M7QUFDQSxXQUFXLHNCQUFzQjtBQUNqQyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIzMDkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBQZWVyQ29ubmVjdGlvblYyID0gcmVxdWlyZSgnLi9wZWVyY29ubmVjdGlvbicpO1xudmFyIE1lZGlhVHJhY2tTZW5kZXIgPSByZXF1aXJlKCcuLi8uLi9tZWRpYS90cmFjay9zZW5kZXInKTtcbnZhciBRdWV1ZWluZ0V2ZW50RW1pdHRlciA9IHJlcXVpcmUoJy4uLy4uL3F1ZXVlaW5nZXZlbnRlbWl0dGVyJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4uLy4uL3V0aWwnKTtcblxudmFyIGlzRmlyZWZveCA9IHV0aWwuZ3Vlc3NCcm93c2VyKCkgPT09ICdmaXJlZm94JztcblxuLyoqXG4gKiB7QGxpbmsgUGVlckNvbm5lY3Rpb25NYW5hZ2VyfSBtYW5hZ2VzIG11bHRpcGxlIHtAbGluayBQZWVyQ29ubmVjdGlvblYyfXMuXG4gKiBAZXh0ZW5kcyBRdWV1ZWluZ0V2ZW50RW1pdHRlclxuICogQGVtaXRzIFBlZXJDb25uZWN0aW9uTWFuYWdlciNjYW5kaWRhdGVzXG4gKiBAZW1pdHMgUGVlckNvbm5lY3Rpb25NYW5hZ2VyI2Rlc2NyaXB0aW9uXG4gKiBAZW1pdHMgUGVlckNvbm5lY3Rpb25NYW5hZ2VyI2ljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZWRcbiAqIEBlbWl0cyBQZWVyQ29ubmVjdGlvbk1hbmFnZXIjdHJhY2tBZGRlZFxuICovXG5cbnZhciBQZWVyQ29ubmVjdGlvbk1hbmFnZXIgPSBmdW5jdGlvbiAoX1F1ZXVlaW5nRXZlbnRFbWl0dGVyKSB7XG4gIF9pbmhlcml0cyhQZWVyQ29ubmVjdGlvbk1hbmFnZXIsIF9RdWV1ZWluZ0V2ZW50RW1pdHRlcik7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCB7QGxpbmsgUGVlckNvbm5lY3Rpb25NYW5hZ2VyfS5cbiAgICogQHBhcmFtIHtJY2VTZXJ2ZXJTb3VyY2V9IGljZVNlcnZlclNvdXJjZVxuICAgKiBAcGFyYW0ge0VuY29kaW5nUGFyYW1ldGVyc0ltcGx9IGVuY29kaW5nUGFyYW1ldGVyc1xuICAgKiBAcGFyYW0ge1ByZWZlcnJlZENvZGVjc30gcHJlZmVycmVkQ29kZWNzXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gICAqL1xuICBmdW5jdGlvbiBQZWVyQ29ubmVjdGlvbk1hbmFnZXIoaWNlU2VydmVyU291cmNlLCBlbmNvZGluZ1BhcmFtZXRlcnMsIHByZWZlcnJlZENvZGVjcywgb3B0aW9ucykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQZWVyQ29ubmVjdGlvbk1hbmFnZXIpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBlZXJDb25uZWN0aW9uTWFuYWdlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBlZXJDb25uZWN0aW9uTWFuYWdlcikpLmNhbGwodGhpcykpO1xuXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgYXVkaW9Db250ZXh0RmFjdG9yeTogaXNGaXJlZm94ID8gcmVxdWlyZSgnLi4vLi4vd2ViYXVkaW8vYXVkaW9jb250ZXh0JykgOiBudWxsLFxuICAgICAgUGVlckNvbm5lY3Rpb25WMjogUGVlckNvbm5lY3Rpb25WMlxuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgdmFyIGF1ZGlvQ29udGV4dCA9IG9wdGlvbnMuYXVkaW9Db250ZXh0RmFjdG9yeSA/IG9wdGlvbnMuYXVkaW9Db250ZXh0RmFjdG9yeS5nZXRPckNyZWF0ZShfdGhpcykgOiBudWxsO1xuXG4gICAgLy8gTk9URShtcm9iZXJ0cyk6IElmIHdlJ3JlIHVzaW5nIGFuIEF1ZGlvQ29udGV4dCwgd2UgZG9uJ3QgbmVlZCB0byBzcGVjaWZ5XG4gICAgLy8gYG9mZmVyVG9SZWNlaXZlQXVkaW9gIGluIFJUQ09mZmVyT3B0aW9ucy5cbiAgICB2YXIgb2ZmZXJPcHRpb25zID0gYXVkaW9Db250ZXh0ID8geyBvZmZlclRvUmVjZWl2ZVZpZGVvOiB0cnVlIH0gOiB7IG9mZmVyVG9SZWNlaXZlQXVkaW86IHRydWUsIG9mZmVyVG9SZWNlaXZlVmlkZW86IHRydWUgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBfYXVkaW9Db250ZXh0RmFjdG9yeToge1xuICAgICAgICB2YWx1ZTogb3B0aW9ucy5hdWRpb0NvbnRleHRGYWN0b3J5XG4gICAgICB9LFxuICAgICAgX2Nsb3NlZFBlZXJDb25uZWN0aW9uSWRzOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgU2V0KClcbiAgICAgIH0sXG4gICAgICBfY29uZmlndXJhdGlvbjoge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0sXG4gICAgICBfY29uZmlndXJhdGlvbkRlZmVycmVkOiB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdXRpbC5kZWZlcigpXG4gICAgICB9LFxuICAgICAgX2R1bW15QXVkaW9UcmFja1NlbmRlcjoge1xuICAgICAgICB2YWx1ZTogYXVkaW9Db250ZXh0ID8gbmV3IE1lZGlhVHJhY2tTZW5kZXIoY3JlYXRlRHVtbXlBdWRpb01lZGlhU3RyZWFtVHJhY2soYXVkaW9Db250ZXh0KSkgOiBudWxsXG4gICAgICB9LFxuICAgICAgX2VuY29kaW5nUGFyYW1ldGVyczoge1xuICAgICAgICB2YWx1ZTogZW5jb2RpbmdQYXJhbWV0ZXJzXG4gICAgICB9LFxuICAgICAgX2ljZUNvbm5lY3Rpb25TdGF0ZToge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6ICduZXcnXG4gICAgICB9LFxuICAgICAgX2ljZVNlcnZlclNvdXJjZToge1xuICAgICAgICB2YWx1ZTogaWNlU2VydmVyU291cmNlXG4gICAgICB9LFxuICAgICAgX2RhdGFUcmFja1NlbmRlcnM6IHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBuZXcgU2V0KClcbiAgICAgIH0sXG4gICAgICBfbGFzdEljZUNvbm5lY3Rpb25TdGF0ZToge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6ICduZXcnXG4gICAgICB9LFxuICAgICAgX21lZGlhVHJhY2tTZW5kZXJzOiB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogbmV3IFNldCgpXG4gICAgICB9LFxuICAgICAgX29mZmVyT3B0aW9uczoge1xuICAgICAgICB2YWx1ZTogb2ZmZXJPcHRpb25zXG4gICAgICB9LFxuICAgICAgX3BlZXJDb25uZWN0aW9uczoge1xuICAgICAgICB2YWx1ZTogbmV3IE1hcCgpXG4gICAgICB9LFxuICAgICAgX3ByZWZlcnJlZENvZGVjczoge1xuICAgICAgICB2YWx1ZTogcHJlZmVycmVkQ29kZWNzXG4gICAgICB9LFxuICAgICAgX1BlZXJDb25uZWN0aW9uVjI6IHtcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMuUGVlckNvbm5lY3Rpb25WMlxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHN1bW1hcml6ZWQgUlRDSWNlQ29ubmVjdGlvblN0YXRlIGFjcm9zcyBhbGwgdGhlXG4gICAqIHtAbGluayBQZWVyQ29ubmVjdGlvbk1hbmFnZXJ9J3MgdW5kZXJseWluZyB7QGxpbmsgUGVlckNvbm5lY3Rpb25WMn1zLlxuICAgKiBAcHJvcGVydHkge1JUQ0ljZUNvbm5lY3Rpb25TdGF0ZX1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUGVlckNvbm5lY3Rpb25NYW5hZ2VyLCBbe1xuICAgIGtleTogJ19nZXRDb25maWd1cmF0aW9uJyxcblxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB7QGxpbmsgUGVlckNvbm5lY3Rpb25NYW5hZ2VyfSdzIGNvbmZpZ3VyYXRpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0Q29uZmlndXJhdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb25maWd1cmF0aW9uRGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgb3IgY3JlYXRlIGEge0BsaW5rIFBlZXJDb25uZWN0aW9uVjJ9LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtjb25maWd1cmF0aW9uXVxuICAgICAqIEByZXR1cm5zIHtQZWVyQ29ubmVjdGlvblYyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfZ2V0T3JDcmVhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0T3JDcmVhdGUoaWQsIGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgcGVlckNvbm5lY3Rpb24gPSB0aGlzLl9wZWVyQ29ubmVjdGlvbnMuZ2V0KGlkKTtcbiAgICAgIGlmICghcGVlckNvbm5lY3Rpb24pIHtcbiAgICAgICAgdmFyIF9QZWVyQ29ubmVjdGlvblYgPSB0aGlzLl9QZWVyQ29ubmVjdGlvblYyO1xuXG4gICAgICAgIHZhciBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgZHVtbXlBdWRpb01lZGlhU3RyZWFtVHJhY2s6IHRoaXMuX2R1bW15QXVkaW9UcmFja1NlbmRlciA/IHRoaXMuX2R1bW15QXVkaW9UcmFja1NlbmRlci50cmFjayA6IG51bGwsXG4gICAgICAgICAgb2ZmZXJPcHRpb25zOiB0aGlzLl9vZmZlck9wdGlvbnNcbiAgICAgICAgfSwgY29uZmlndXJhdGlvbik7XG4gICAgICAgIHBlZXJDb25uZWN0aW9uID0gbmV3IF9QZWVyQ29ubmVjdGlvblYoaWQsIHRoaXMuX2VuY29kaW5nUGFyYW1ldGVycywgdGhpcy5fcHJlZmVycmVkQ29kZWNzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9wZWVyQ29ubmVjdGlvbnMuc2V0KHBlZXJDb25uZWN0aW9uLmlkLCBwZWVyQ29ubmVjdGlvbik7XG4gICAgICAgIHBlZXJDb25uZWN0aW9uLm9uKCdjYW5kaWRhdGVzJywgdGhpcy5xdWV1ZS5iaW5kKHRoaXMsICdjYW5kaWRhdGVzJykpO1xuICAgICAgICBwZWVyQ29ubmVjdGlvbi5vbignZGVzY3JpcHRpb24nLCB0aGlzLnF1ZXVlLmJpbmQodGhpcywgJ2Rlc2NyaXB0aW9uJykpO1xuICAgICAgICBwZWVyQ29ubmVjdGlvbi5vbigndHJhY2tBZGRlZCcsIHRoaXMucXVldWUuYmluZCh0aGlzLCAndHJhY2tBZGRlZCcpKTtcbiAgICAgICAgcGVlckNvbm5lY3Rpb24ub24oJ3N0YXRlQ2hhbmdlZCcsIGZ1bmN0aW9uIHN0YXRlQ2hhbmdlZChzdGF0ZSkge1xuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICAgICAgICAgIHBlZXJDb25uZWN0aW9uLnJlbW92ZUxpc3RlbmVyKCdzdGF0ZUNoYW5nZWQnLCBzdGF0ZUNoYW5nZWQpO1xuICAgICAgICAgICAgc2VsZi5fcGVlckNvbm5lY3Rpb25zLmRlbGV0ZShwZWVyQ29ubmVjdGlvbi5pZCk7XG4gICAgICAgICAgICBzZWxmLl9jbG9zZWRQZWVyQ29ubmVjdGlvbklkcy5hZGQocGVlckNvbm5lY3Rpb24uaWQpO1xuICAgICAgICAgICAgdXBkYXRlSWNlQ29ubmVjdGlvblN0YXRlKHNlbGYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHBlZXJDb25uZWN0aW9uLm9uKCdpY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2VkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVJY2VDb25uZWN0aW9uU3RhdGUoX3RoaXMyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fZGF0YVRyYWNrU2VuZGVycy5mb3JFYWNoKHBlZXJDb25uZWN0aW9uLmFkZERhdGFUcmFja1NlbmRlciwgcGVlckNvbm5lY3Rpb24pO1xuICAgICAgICB0aGlzLl9tZWRpYVRyYWNrU2VuZGVycy5mb3JFYWNoKHBlZXJDb25uZWN0aW9uLmFkZE1lZGlhVHJhY2tTZW5kZXIsIHBlZXJDb25uZWN0aW9uKTtcblxuICAgICAgICB1cGRhdGVJY2VDb25uZWN0aW9uU3RhdGUodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGVlckNvbm5lY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2UgYWxsIHRoZSB7QGxpbmsgUGVlckNvbm5lY3Rpb25WMn1zIGluIHRoaXMge0BsaW5rIFBlZXJDb25uZWN0aW9uTWFuYWdlcn0uXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2Nsb3NlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICBpZiAodGhpcy5faWNlU2VydmVyU291cmNlLmlzU3RhcnRlZCkge1xuICAgICAgICB0aGlzLl9pY2VTZXJ2ZXJTb3VyY2Uuc3RvcCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fcGVlckNvbm5lY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKHBlZXJDb25uZWN0aW9uKSB7XG4gICAgICAgIHBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICB9KTtcbiAgICAgIGlmICh0aGlzLl9kdW1teUF1ZGlvVHJhY2tTZW5kZXIpIHtcbiAgICAgICAgdGhpcy5fZHVtbXlBdWRpb1RyYWNrU2VuZGVyLnRyYWNrLnN0b3AoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9hdWRpb0NvbnRleHRGYWN0b3J5KSB7XG4gICAgICAgIHRoaXMuX2F1ZGlvQ29udGV4dEZhY3RvcnkucmVsZWFzZSh0aGlzKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZUljZUNvbm5lY3Rpb25TdGF0ZSh0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyB7QGxpbmsgUGVlckNvbm5lY3Rpb25WMn0gb24gdGhpcyB7QGxpbmsgUGVlckNvbm5lY3Rpb25NYW5hZ2VyfS5cbiAgICAgKiBUaGVuLCBjcmVhdGUgYSBuZXcgb2ZmZXIgd2l0aCB0aGUgbmV3bHktY3JlYXRlZCB7QGxpbmsgUGVlckNvbm5lY3Rpb25WMn0uXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx0aGlzPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY3JlYXRlQW5kT2ZmZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVBbmRPZmZlcigpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGhpcy5fZ2V0Q29uZmlndXJhdGlvbigpLnRoZW4oZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgdmFyIGlkID0gdm9pZCAwO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgaWQgPSB1dGlsLm1ha2VVVUlEKCk7XG4gICAgICAgIH0gd2hpbGUgKF90aGlzMy5fcGVlckNvbm5lY3Rpb25zLmhhcyhpZCkpO1xuXG4gICAgICAgIHJldHVybiBfdGhpczMuX2dldE9yQ3JlYXRlKGlkLCBjb25maWd1cmF0aW9uKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHBlZXJDb25uZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBwZWVyQ29ubmVjdGlvbi5vZmZlcigpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczM7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHtAbGluayBEYXRhVHJhY2tSZWNlaXZlcn1zIGFuZCB7QGxpbmsgTWVkaWFUcmFja1JlY2VpdmVyfXMgb2YgYWxsXG4gICAgICogdGhlIHtAbGluayBQZWVyQ29ubmVjdGlvblYyfXMuXG4gICAgICogQHJldHVybnMge0FycmF5PERhdGFUcmFja1JlY2VpdmVyfE1lZGlhVHJhY2tSZWNlaXZlcj59IHRyYWNrUmVjZWl2ZXJzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFRyYWNrUmVjZWl2ZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VHJhY2tSZWNlaXZlcnMoKSB7XG4gICAgICByZXR1cm4gdXRpbC5mbGF0TWFwKHRoaXMuX3BlZXJDb25uZWN0aW9ucywgZnVuY3Rpb24gKHBlZXJDb25uZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBwZWVyQ29ubmVjdGlvbi5nZXRUcmFja1JlY2VpdmVycygpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzdGF0ZXMgb2YgYWxsIHtAbGluayBQZWVyQ29ubmVjdGlvblYyfXMuXG4gICAgICogQHJldHVybnMge0FycmF5PG9iamVjdD59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFN0YXRlcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN0YXRlcygpIHtcbiAgICAgIHZhciBwZWVyQ29ubmVjdGlvblN0YXRlcyA9IFtdO1xuICAgICAgdGhpcy5fcGVlckNvbm5lY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKHBlZXJDb25uZWN0aW9uKSB7XG4gICAgICAgIHZhciBwZWVyQ29ubmVjdGlvblN0YXRlID0gcGVlckNvbm5lY3Rpb24uZ2V0U3RhdGUoKTtcbiAgICAgICAgaWYgKHBlZXJDb25uZWN0aW9uU3RhdGUpIHtcbiAgICAgICAgICBwZWVyQ29ubmVjdGlvblN0YXRlcy5wdXNoKHBlZXJDb25uZWN0aW9uU3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBwZWVyQ29ubmVjdGlvblN0YXRlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHtAbGluayBQZWVyQ29ubmVjdGlvbk1hbmFnZXJ9J3MgY29uZmlndXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlndXJhdGlvblxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRDb25maWd1cmF0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q29uZmlndXJhdGlvbihjb25maWd1cmF0aW9uKSB7XG4gICAgICBpZiAodGhpcy5fY29uZmlndXJhdGlvbikge1xuICAgICAgICB0aGlzLl9jb25maWd1cmF0aW9uRGVmZXJyZWQgPSB1dGlsLmRlZmVyKCk7XG4gICAgICAgIHRoaXMuX3BlZXJDb25uZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChwZWVyQ29ubmVjdGlvbikge1xuICAgICAgICAgIHBlZXJDb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb24oY29uZmlndXJhdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5fY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG4gICAgICB0aGlzLl9jb25maWd1cmF0aW9uRGVmZXJyZWQucmVzb2x2ZShjb25maWd1cmF0aW9uKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUge0BsaW5rIERhdGFUcmFja1NlbmRlcn1zIGFuZCB7QGxpbmsgTWVkaWFUcmFja1NlbmRlcnN9IG9uIHRoZVxuICAgICAqIHtAbGluayBQZWVyQ29ubmVjdGlvbk1hbmFnZXJ9J3MgdW5kZXJseWluZyB7QGxpbmsgUGVlckNvbm5lY3Rpb25WMn1zLlxuICAgICAqIEBwYXJhbSB7QXJyYXk8RGF0YVRyYWNrU2VuZGVyfE1lZGlhVHJhY2tTZW5kZXI+fSB0cmFja1NlbmRlcnNcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2V0VHJhY2tTZW5kZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VHJhY2tTZW5kZXJzKHRyYWNrU2VuZGVycykge1xuICAgICAgdmFyIGRhdGFUcmFja1NlbmRlcnMgPSBuZXcgU2V0KHRyYWNrU2VuZGVycy5maWx0ZXIoZnVuY3Rpb24gKHRyYWNrU2VuZGVyKSB7XG4gICAgICAgIHJldHVybiB0cmFja1NlbmRlci5raW5kID09PSAnZGF0YSc7XG4gICAgICB9KSk7XG5cbiAgICAgIHZhciBtZWRpYVRyYWNrU2VuZGVycyA9IG5ldyBTZXQodHJhY2tTZW5kZXJzLmZpbHRlcihmdW5jdGlvbiAodHJhY2tTZW5kZXIpIHtcbiAgICAgICAgcmV0dXJuIHRyYWNrU2VuZGVyICYmICh0cmFja1NlbmRlci5raW5kID09PSAnYXVkaW8nIHx8IHRyYWNrU2VuZGVyLmtpbmQgPT09ICd2aWRlbycpO1xuICAgICAgfSkpO1xuXG4gICAgICB2YXIgY2hhbmdlcyA9IGdldFRyYWNrU2VuZGVyQ2hhbmdlcyh0aGlzLCBkYXRhVHJhY2tTZW5kZXJzLCBtZWRpYVRyYWNrU2VuZGVycyk7XG4gICAgICB0aGlzLl9kYXRhVHJhY2tTZW5kZXJzID0gZGF0YVRyYWNrU2VuZGVycztcbiAgICAgIHRoaXMuX21lZGlhVHJhY2tTZW5kZXJzID0gbWVkaWFUcmFja1NlbmRlcnM7XG4gICAgICBhcHBseVRyYWNrU2VuZGVyQ2hhbmdlcyh0aGlzLCBjaGFuZ2VzKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSB7QGxpbmsgUGVlckNvbm5lY3Rpb25NYW5hZ2VyfS5cbiAgICAgKiBAcGFyYW0ge0FycmF5PG9iamVjdD59IHBlZXJDb25uZWN0aW9uU3RhdGVzXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dGhpcz59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3VwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShwZWVyQ29ubmVjdGlvblN0YXRlcykge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLl9nZXRDb25maWd1cmF0aW9uKCkudGhlbihmdW5jdGlvbiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocGVlckNvbm5lY3Rpb25TdGF0ZXMubWFwKGZ1bmN0aW9uIChwZWVyQ29ubmVjdGlvblN0YXRlKSB7XG4gICAgICAgICAgaWYgKF90aGlzNC5fY2xvc2VkUGVlckNvbm5lY3Rpb25JZHMuaGFzKHBlZXJDb25uZWN0aW9uU3RhdGUuaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHBlZXJDb25uZWN0aW9uID0gX3RoaXM0Ll9nZXRPckNyZWF0ZShwZWVyQ29ubmVjdGlvblN0YXRlLmlkLCBjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICByZXR1cm4gcGVlckNvbm5lY3Rpb24udXBkYXRlKHBlZXJDb25uZWN0aW9uU3RhdGUpO1xuICAgICAgICB9KSk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzNDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUge0BsaW5rIFBlZXJDb25uZWN0aW9uTWFuYWdlcn0ncyBtZWRpYSBzdGF0aXN0aWNzLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlLjxNYXA8UGVlckNvbm5lY3Rpb25WMiNpZCwgU3RhbmRhcmRpemVkU3RhdHNSZXNwb25zZT4+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRTdGF0cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN0YXRzKCkge1xuICAgICAgdmFyIHBlZXJDb25uZWN0aW9ucyA9IEFycmF5LmZyb20odGhpcy5fcGVlckNvbm5lY3Rpb25zLnZhbHVlcygpKTtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChwZWVyQ29ubmVjdGlvbnMubWFwKGZ1bmN0aW9uIChwZWVyQ29ubmVjdGlvbikge1xuICAgICAgICByZXR1cm4gcGVlckNvbm5lY3Rpb24uZ2V0U3RhdHMoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIHJldHVybiBbcGVlckNvbm5lY3Rpb24uaWQsIHJlc3BvbnNlXTtcbiAgICAgICAgfSk7XG4gICAgICB9KSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2VzKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWFwKHJlc3BvbnNlcyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpY2VDb25uZWN0aW9uU3RhdGUnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ljZUNvbm5lY3Rpb25TdGF0ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGVlckNvbm5lY3Rpb25NYW5hZ2VyO1xufShRdWV1ZWluZ0V2ZW50RW1pdHRlcik7XG5cbi8qKlxuICogQ3JlYXRlIGEgZHVtbXkgYXVkaW8gTWVkaWFTdHJlYW1UcmFjayB3aXRoIHRoZSBnaXZlbiBBdWRpb0NvbnRleHQuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBdWRpb0NvbnRleHR9IGF1ZGlvQ29udGV4dFxuICogQHJldHVybiB7TWVkaWFTdHJlYW1UcmFja31cbiAqL1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZUR1bW15QXVkaW9NZWRpYVN0cmVhbVRyYWNrKGF1ZGlvQ29udGV4dCkge1xuICB2YXIgbWVkaWFTdHJlYW1EZXN0aW5hdGlvbiA9IGF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbURlc3RpbmF0aW9uKCk7XG4gIHJldHVybiBtZWRpYVN0cmVhbURlc3RpbmF0aW9uLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdO1xufVxuXG4vKipcbiAqIEBldmVudCB7UGVlckNvbm5lY3Rpb25NYW5hZ2VyI2NhbmRpZGF0ZXN9XG4gKiBAcGFyYW0ge29iamVjdH0gY2FuZGlkYXRlc1xuICovXG5cbi8qKlxuICogQGV2ZW50IHtQZWVyQ29ubmVjdGlvbk1hbmFnZXIjZGVzY3JpcHRpb259XG4gKiBAcGFyYW0ge29iamVjdH0gZGVzY3JpcHRpb25cbiAqL1xuXG4vKipcbiAqIEBldmVudCB7UGVlckNvbm5lY3Rpb25NYW5hZ2VyI2ljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZWR9XG4gKi9cblxuLyoqXG4gKiBAZXZlbnQge1BlZXJDb25uZWN0aW9uTWFuYWdlciN0cmFja0FkZGVkfVxuICogQHBhcmFtIHtNZWRpYVN0cmVhbVRyYWNrfERhdGFUcmFja1JlY2VpdmVyfSBtZWRpYVN0cmVhbVRyYWNrT3JEYXRhVHJhY2tSZWNlaXZlclxuICovXG5cbi8qKlxuICogQXBwbHkge0BsaW5rIFRyYWNrU2VuZGVyQ2hhbmdlc30uXG4gKiBAcGFyYW0ge1BlZXJDb25uZWN0aW9uTWFuYWdlcn0gcGVlckNvbm5lY3Rpb25NYW5hZ2VyXG4gKiBAcGFyYW0ge1RyYWNrU2VuZGVyQ2hhbmdlc30gY2hhbmdlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGFwcGx5VHJhY2tTZW5kZXJDaGFuZ2VzKHBlZXJDb25uZWN0aW9uTWFuYWdlciwgY2hhbmdlcykge1xuICBpZiAoY2hhbmdlcy5kYXRhLmFkZC5zaXplIHx8IGNoYW5nZXMuZGF0YS5yZW1vdmUuc2l6ZSB8fCBjaGFuZ2VzLm1lZGlhLmFkZC5zaXplIHx8IGNoYW5nZXMubWVkaWEucmVtb3ZlLnNpemUpIHtcbiAgICBwZWVyQ29ubmVjdGlvbk1hbmFnZXIuX3BlZXJDb25uZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChwZWVyQ29ubmVjdGlvbikge1xuICAgICAgY2hhbmdlcy5kYXRhLnJlbW92ZS5mb3JFYWNoKHBlZXJDb25uZWN0aW9uLnJlbW92ZURhdGFUcmFja1NlbmRlciwgcGVlckNvbm5lY3Rpb24pO1xuICAgICAgY2hhbmdlcy5tZWRpYS5yZW1vdmUuZm9yRWFjaChwZWVyQ29ubmVjdGlvbi5yZW1vdmVNZWRpYVRyYWNrU2VuZGVyLCBwZWVyQ29ubmVjdGlvbik7XG4gICAgICBjaGFuZ2VzLmRhdGEuYWRkLmZvckVhY2gocGVlckNvbm5lY3Rpb24uYWRkRGF0YVRyYWNrU2VuZGVyLCBwZWVyQ29ubmVjdGlvbik7XG4gICAgICBjaGFuZ2VzLm1lZGlhLmFkZC5mb3JFYWNoKHBlZXJDb25uZWN0aW9uLmFkZE1lZGlhVHJhY2tTZW5kZXIsIHBlZXJDb25uZWN0aW9uKTtcbiAgICAgIHBlZXJDb25uZWN0aW9uLm9mZmVyKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAaW50ZXJmYWNlIERhdGFUcmFja1NlbmRlckNoYW5nZXNcbiAqIEBwcm9wZXJ0eSB7U2V0PERhdGFUcmFja1NlbmRlcj59IGFkZFxuICogQHByb3BlcnR5IHtTZXQ8RGF0YVRyYWNrU2VuZGVyPn0gcmVtb3ZlXG4gKi9cblxuLyoqXG4gKiBHZXQgdGhlIHtATGluayBEYXRhVHJhY2tTZW5kZXJ9IGNoYW5nZXMuXG4gKiBAcGFyYW0ge1BlZXJDb25uZWN0aW9uTWFuYWdlcn0gcGVlckNvbm5lY3Rpb25NYW5hZ2VyXG4gKiBAcGFyYW0ge0FycmF5PERhdGFUcmFja1NlbmRlcj59IGRhdGFUcmFja1NlbmRlcnNcbiAqIEByZXR1cm5zIHtEYXRhVHJhY2tTZW5kZXJDaGFuZ2VzfSBjaGFuZ2VzXG4gKi9cbmZ1bmN0aW9uIGdldERhdGFUcmFja1NlbmRlckNoYW5nZXMocGVlckNvbm5lY3Rpb25NYW5hZ2VyLCBkYXRhVHJhY2tTZW5kZXJzKSB7XG4gIHZhciBkYXRhVHJhY2tTZW5kZXJzVG9BZGQgPSB1dGlsLmRpZmZlcmVuY2UoZGF0YVRyYWNrU2VuZGVycywgcGVlckNvbm5lY3Rpb25NYW5hZ2VyLl9kYXRhVHJhY2tTZW5kZXJzKTtcbiAgdmFyIGRhdGFUcmFja1NlbmRlcnNUb1JlbW92ZSA9IHV0aWwuZGlmZmVyZW5jZShwZWVyQ29ubmVjdGlvbk1hbmFnZXIuX2RhdGFUcmFja1NlbmRlcnMsIGRhdGFUcmFja1NlbmRlcnMpO1xuICByZXR1cm4ge1xuICAgIGFkZDogZGF0YVRyYWNrU2VuZGVyc1RvQWRkLFxuICAgIHJlbW92ZTogZGF0YVRyYWNrU2VuZGVyc1RvUmVtb3ZlXG4gIH07XG59XG5cbi8qKlxuICogQGludGVyZmFjZSBUcmFja1NlbmRlckNoYW5nZXNcbiAqIEBwcm9wZXJ0eSB7RGF0YVRyYWNrU2VuZGVyQ2hhbmdlc30gZGF0YVxuICogQHByb3BlcnR5IHtNZWRpYVRyYWNrU2VuZGVyQ2hhbmdlc30gbWVkaWFcbiAqL1xuXG4vKipcbiAqIEdldCB7QGxpbmsgRGF0YVRyYWNrU2VuZGVyfSBhbmQge0BsaW5rIE1lZGlhVHJhY2tTZW5kZXJ9IGNoYW5nZXMuXG4gKiBAcGFyYW0ge1BlZXJDb25uZWN0aW9uTWFuYWdlcn0gcGVlckNvbm5lY3Rpb25NYW5hZ2VyXG4gKiBAcGFyYW0ge0FycmF5PERhdGFUcmFja1NlbmRlcj59IGRhdGFUcmFja1NlbmRlcnNcbiAqIEBwYXJhbSB7QXJyYXk8TWVkaWFUcmFja1NlbmRlcj59IG1lZGlhVHJhY2tTZW5kZXJzXG4gKiBAcmV0dXJucyB7VHJhY2tTZW5kZXJDaGFuZ2VzfSBjaGFuZ2VzXG4gKi9cbmZ1bmN0aW9uIGdldFRyYWNrU2VuZGVyQ2hhbmdlcyhwZWVyQ29ubmVjdGlvbk1hbmFnZXIsIGRhdGFUcmFja1NlbmRlcnMsIG1lZGlhVHJhY2tTZW5kZXJzKSB7XG4gIHJldHVybiB7XG4gICAgZGF0YTogZ2V0RGF0YVRyYWNrU2VuZGVyQ2hhbmdlcyhwZWVyQ29ubmVjdGlvbk1hbmFnZXIsIGRhdGFUcmFja1NlbmRlcnMpLFxuICAgIG1lZGlhOiBnZXRNZWRpYVRyYWNrU2VuZGVyQ2hhbmdlcyhwZWVyQ29ubmVjdGlvbk1hbmFnZXIsIG1lZGlhVHJhY2tTZW5kZXJzKVxuICB9O1xufVxuXG4vKipcbiAqIEBpbnRlcmZhY2UgTWVkaWFUcmFja1NlbmRlckNoYW5nZXNcbiAqIEBwcm9wZXJ0eSB7U2V0PE1lZGlhVHJhY2tTZW5kZXI+fSBhZGRcbiAqIEBwcm9wZXJ0eSB7U2V0PE1lZGlhVHJhY2tTZW5kZXI+fSByZW1vdmVcbiAqL1xuXG4vKipcbiAqIEdldCB0aGUge0BsaW5rIE1lZGlhVHJhY2tTZW5kZXJ9IGNoYW5nZXMuXG4gKiBAcGFyYW0ge1BlZXJDb25uZWN0aW9uTWFuYWdlcn0gcGVlckNvbm5lY3Rpb25NYW5hZ2VyXG4gKiBAcGFyYW0ge0FycmF5PE1lZGlhVHJhY2tTZW5kZXI+fSBtZWRpYVRyYWNrU2VuZGVyc1xuICogQHJldHVybnMge01lZGlhVHJhY2tTZW5kZXJDaGFuZ2VzfSBjaGFuZ2VzXG4gKi9cbmZ1bmN0aW9uIGdldE1lZGlhVHJhY2tTZW5kZXJDaGFuZ2VzKHBlZXJDb25uZWN0aW9uTWFuYWdlciwgbWVkaWFUcmFja1NlbmRlcnMpIHtcbiAgdmFyIG1lZGlhVHJhY2tTZW5kZXJzVG9BZGQgPSB1dGlsLmRpZmZlcmVuY2UobWVkaWFUcmFja1NlbmRlcnMsIHBlZXJDb25uZWN0aW9uTWFuYWdlci5fbWVkaWFUcmFja1NlbmRlcnMpO1xuICB2YXIgbWVkaWFUcmFja1NlbmRlcnNUb1JlbW92ZSA9IHV0aWwuZGlmZmVyZW5jZShwZWVyQ29ubmVjdGlvbk1hbmFnZXIuX21lZGlhVHJhY2tTZW5kZXJzLCBtZWRpYVRyYWNrU2VuZGVycyk7XG4gIHJldHVybiB7XG4gICAgYWRkOiBtZWRpYVRyYWNrU2VuZGVyc1RvQWRkLFxuICAgIHJlbW92ZTogbWVkaWFUcmFja1NlbmRlcnNUb1JlbW92ZVxuICB9O1xufVxuXG4vKipcbiAqIFRoaXMgb2JqZWN0IG1hcHMgUlRDSWNlQ29ubmVjdGlvblN0YXRlIHZhbHVlcyB0byBhIFwicmFua1wiLlxuICovXG52YXIgdG9SYW5rID0ge1xuICBuZXc6IDAsXG4gIGNoZWNraW5nOiAxLFxuICBjb25uZWN0ZWQ6IDIsXG4gIGNvbXBsZXRlZDogMyxcbiAgZGlzY29ubmVjdGVkOiAtMSxcbiAgZmFpbGVkOiAtMixcbiAgY2xvc2VkOiAtM1xufTtcblxuLyoqXG4gKiBUaGlzIG9iamVjdCBtYXBzIFwicmFua1wiIGJhY2sgdG8gUlRDSWNlQ29ubmVjdGlvblN0YXRlIHZhbHVlcy5cbiAqL1xudmFyIGZyb21SYW5rID0gdm9pZCAwO1xuXG4vKipcbiAqIGBPYmplY3Qua2V5c2AgaXMgbm90IHN1cHBvcnRlZCBpbiBvbGRlciBicm93c2Vycywgc28gd2UgY2FuJ3QganVzdFxuICogc3luY2hyb25vdXNseSBjYWxsIGl0IGluIHRoaXMgbW9kdWxlOyB3ZSBuZWVkIHRvIGRlZmVyIGludm9raW5nIGl0IHVudGlsIHdlXG4gKiBrbm93IHdlJ3JlIGluIGEgbW9kZXJuIGVudmlyb25tZW50IChpLmUuLCBhbnl0aGluZyB0aGF0IHN1cHBvcnRzIFdlYlJUQykuXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBmcm9tUmFua1xuICovXG5mdW5jdGlvbiBjcmVhdGVGcm9tUmFuaygpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHRvUmFuaykucmVkdWNlKGZ1bmN0aW9uIChmcm9tUmFuaywgc3RhdGUpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihmcm9tUmFuaywgX2RlZmluZVByb3BlcnR5KHt9LCB0b1Jhbmtbc3RhdGVdLCBzdGF0ZSkpO1xuICB9LCB7fSk7XG59XG5cbi8qKlxuICogU3VtbWFyaXplIElDRSBjb25uZWN0aW9uIHN0YXRzLlxuICogQHBhcmFtIHtBcnJheTxSVENJY2VDb25uZWN0aW9uU3RhdGU+fSBzdGF0ZXNcbiAqIEByZXR1cm5zIHtSVENJY2VDb25uZWN0aW9uU3RhdGV9IHN1bW1hcnlcbiAqL1xuZnVuY3Rpb24gc3VtbWFyaXplSWNlQ29ubmVjdGlvblN0YXRlcyhzdGF0ZXMpIHtcbiAgaWYgKCFzdGF0ZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICduZXcnO1xuICB9XG4gIGZyb21SYW5rID0gZnJvbVJhbmsgfHwgY3JlYXRlRnJvbVJhbmsoKTtcbiAgcmV0dXJuIHN0YXRlcy5yZWR1Y2UoZnVuY3Rpb24gKHN0YXRlMSwgc3RhdGUyKSB7XG4gICAgcmV0dXJuIGZyb21SYW5rW01hdGgubWF4KHRvUmFua1tzdGF0ZTFdLCB0b1Jhbmtbc3RhdGUyXSldO1xuICB9KTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgdGhlIHtAbGluayBQZWVyQ29ubmVjdGlvbk1hbmFnZXJ9J3MgYGljZUNvbm5lY3Rpb25TdGF0ZWAsIGFuZCBlbWl0IGFuXG4gKiBcImljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZWRcIiBldmVudCwgaWYgbmVjZXNzYXJ5LlxuICogQHBhcmFtIHtQZWVyQ29ubmVjdGlvbk1hbmFnZXJ9IHBjbVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUljZUNvbm5lY3Rpb25TdGF0ZShwY20pIHtcbiAgcGNtLl9sYXN0SWNlQ29ubmVjdGlvblN0YXRlID0gcGNtLmljZUNvbm5lY3Rpb25TdGF0ZTtcbiAgcGNtLl9pY2VDb25uZWN0aW9uU3RhdGUgPSBzdW1tYXJpemVJY2VDb25uZWN0aW9uU3RhdGVzKFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocGNtLl9wZWVyQ29ubmVjdGlvbnMudmFsdWVzKCkpKS5tYXAoZnVuY3Rpb24gKHBjdjIpIHtcbiAgICByZXR1cm4gcGN2Mi5pY2VDb25uZWN0aW9uU3RhdGU7XG4gIH0pKTtcbiAgaWYgKHBjbS5pY2VDb25uZWN0aW9uU3RhdGUgIT09IHBjbS5fbGFzdEljZUNvbm5lY3Rpb25TdGF0ZSkge1xuICAgIHBjbS5lbWl0KCdpY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2VkJyk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQZWVyQ29ubmVjdGlvbk1hbmFnZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvcGVlcmNvbm5lY3Rpb25tYW5hZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAzMDlcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///309\n");

/***/ }),
/* 310 */
/*!**********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/v2/peerconnection.js ***!
  \**********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar WebRTC = __webpack_require__(/*! @twilio/webrtc */ 212);\nvar DefaultMediaStream = WebRTC.MediaStream;\nvar DefaultRTCIceCandidate = WebRTC.RTCIceCandidate;\nvar DefaultRTCPeerConnection = WebRTC.RTCPeerConnection;\nvar DefaultRTCSessionDescription = WebRTC.RTCSessionDescription;\nvar getStatistics = WebRTC.getStats;\nvar getMediaSections = __webpack_require__(/*! ../../util/sdp */ 211).getMediaSections;\nvar guessBrowser = __webpack_require__(/*! ../../util */ 206).guessBrowser;\nvar oncePerTick = __webpack_require__(/*! ../../util */ 206).oncePerTick;\nvar setBitrateParameters = __webpack_require__(/*! ../../util/sdp */ 211).setBitrateParameters;\nvar setCodecPreferences = __webpack_require__(/*! ../../util/sdp */ 211).setCodecPreferences;\nvar setSimulcast = __webpack_require__(/*! ../../util/sdp */ 211).setSimulcast;\nvar IceBox = __webpack_require__(/*! ./icebox */ 312);\nvar MediaClientLocalDescFailedError = __webpack_require__(/*! ../../util/twilio-video-errors */ 209).MediaClientLocalDescFailedError;\nvar MediaClientRemoteDescFailedError = __webpack_require__(/*! ../../util/twilio-video-errors */ 209).MediaClientRemoteDescFailedError;\nvar DataTrackReceiver = __webpack_require__(/*! ../../data/receiver */ 314);\nvar MediaTrackReceiver = __webpack_require__(/*! ../../media/track/receiver */ 316);\nvar StateMachine = __webpack_require__(/*! ../../statemachine */ 215);\n\nvar _require = __webpack_require__(/*! ../../util */ 206),\n    buildLogLevels = _require.buildLogLevels,\n    getSdpFormat = _require.getSdpFormat,\n    makeUUID = _require.makeUUID;\n\nvar _require2 = __webpack_require__(/*! ../../util/constants */ 208),\n    DEFAULT_LOG_LEVEL = _require2.DEFAULT_LOG_LEVEL;\n\nvar Log = __webpack_require__(/*! ../../util/log */ 214);\nvar IdentityTrackMatcher = __webpack_require__(/*! ../../util/sdp/trackmatcher/identity */ 317);\nvar OrderedTrackMatcher = __webpack_require__(/*! ../../util/sdp/trackmatcher/ordered */ 318);\nvar MIDTrackMatcher = __webpack_require__(/*! ../../util/sdp/trackmatcher/mid */ 319);\nvar workaroundIssue8329 = __webpack_require__(/*! ../../util/sdp/issue8329 */ 320);\n\nvar isChrome = guessBrowser() === 'chrome';\nvar isFirefox = guessBrowser() === 'firefox';\nvar isSafari = guessBrowser() === 'safari';\n\n/*\nPeerConnectionV2 States\n-----------------------\n\n    +------+    +--------+\n    |      |    |        |\n    | open |--->| closed |\n    |      |    |        |\n    +------+    +--------+\n      |  ^          ^\n      |  |          |\n      |  |          |\n      v  |          |\n  +----------+      |\n  |          |      |\n  | updating |------+\n  |          |\n  +----------+\n\n*/\n\nvar states = {\n  open: ['closed', 'updating'],\n  updating: ['closed', 'open'],\n  closed: []\n};\n\n/**\n * @extends StateMachine\n * @property {id}\n * @emits PeerConnectionV2#iceConnectionStateChanged\n * @emits PeerConnectionV2#candidates\n * @emits PeerConnectionV2#description\n */\n\nvar PeerConnectionV2 = function (_StateMachine) {\n  _inherits(PeerConnectionV2, _StateMachine);\n\n  /**\n   * Construct a {@link PeerConnectionV2}.\n   * @param {string} id\n   * @param {EncodingParametersImpl} encodingParameters\n   * @param {PreferredCodecs} preferredCodecs\n   * @param {object} [options]\n   */\n  function PeerConnectionV2(id, encodingParameters, preferredCodecs, options) {\n    _classCallCheck(this, PeerConnectionV2);\n\n    var _this = _possibleConstructorReturn(this, (PeerConnectionV2.__proto__ || Object.getPrototypeOf(PeerConnectionV2)).call(this, 'open', states));\n\n    options = Object.assign({\n      dummyAudioMediaStreamTrack: null,\n      iceServers: [],\n      logLevel: DEFAULT_LOG_LEVEL,\n      offerOptions: {},\n      setBitrateParameters: setBitrateParameters,\n      setCodecPreferences: setCodecPreferences,\n      setSimulcast: setSimulcast,\n      MediaStream: DefaultMediaStream,\n      RTCIceCandidate: DefaultRTCIceCandidate,\n      RTCPeerConnection: DefaultRTCPeerConnection,\n      RTCSessionDescription: DefaultRTCSessionDescription\n    }, options);\n\n    var configuration = getConfiguration(options);\n    var logLevels = buildLogLevels(options.logLevel);\n    var RTCPeerConnection = options.RTCPeerConnection;\n    var peerConnection = new RTCPeerConnection(configuration, options.chromeSpecificConstraints);\n    var sdpFormat = getSdpFormat(options.sdpSemantics);\n    var isUnifiedPlan = sdpFormat === 'unified';\n\n    var localMediaStream = isUnifiedPlan && RTCPeerConnection.prototype.addTransceiver ? null : new options.MediaStream();\n\n    if (options.dummyAudioMediaStreamTrack) {\n      peerConnection.addTrack(options.dummyAudioMediaStreamTrack, localMediaStream || new options.MediaStream());\n    }\n\n    // NOTE(mroberts): We do this to workaround the following bug:\n    //\n    //   https://bugzilla.mozilla.org/show_bug.cgi?id=1481335\n    //\n    if (isFirefox) {\n      peerConnection.createDataChannel(makeUUID());\n    }\n\n    Object.defineProperties(_this, {\n      _dataChannels: {\n        value: new Map()\n      },\n      _dataTrackReceivers: {\n        value: new Set()\n      },\n      _descriptionRevision: {\n        writable: true,\n        value: 0\n      },\n      _encodingParameters: {\n        value: encodingParameters\n      },\n      _isRestartingIce: {\n        writable: true,\n        value: false\n      },\n      _isUnifiedPlan: {\n        value: isUnifiedPlan\n      },\n      _lastIceConnectionState: {\n        writable: true,\n        value: null\n      },\n      _lastStableDescriptionRevision: {\n        writable: true,\n        value: 0\n      },\n      _localCandidates: {\n        writable: true,\n        value: []\n      },\n      _localCandidatesRevision: {\n        writable: true,\n        value: 1\n      },\n      _localDescription: {\n        writable: true,\n        value: null\n      },\n      _localMediaStream: {\n        value: localMediaStream\n      },\n      _localUfrag: {\n        writable: true,\n        value: null\n      },\n      _log: {\n        value: options.log ? options.log.createLog('signaling', _this) : new Log('webrtc', _this, logLevels)\n      },\n      _rtpSenders: {\n        value: new Map()\n      },\n      _mediaTrackReceivers: {\n        value: new Set()\n      },\n      _needsAnswer: {\n        writable: true,\n        value: false\n      },\n      _negotiationRole: {\n        writable: true,\n        value: null\n      },\n      _offerOptions: {\n        writable: true,\n        value: options.offerOptions\n      },\n      _peerConnection: {\n        value: peerConnection\n      },\n      _preferredAudioCodecs: {\n        value: preferredCodecs.audio\n      },\n      _preferredVideoCodecs: {\n        value: preferredCodecs.video\n      },\n      _queuedDescription: {\n        writable: true,\n        value: null\n      },\n      _remoteCandidates: {\n        writable: true,\n        value: new IceBox()\n      },\n      _sdpFormat: {\n        value: sdpFormat\n      },\n      _setBitrateParameters: {\n        value: options.setBitrateParameters\n      },\n      _setCodecPreferences: {\n        value: options.setCodecPreferences\n      },\n      _setSimulcast: {\n        value: options.setSimulcast\n      },\n      _RTCIceCandidate: {\n        value: options.RTCIceCandidate\n      },\n      _RTCPeerConnection: {\n        value: options.RTCPeerConnection\n      },\n      _RTCSessionDescription: {\n        value: options.RTCSessionDescription\n      },\n      _shouldOffer: {\n        writable: true,\n        value: false\n      },\n      _shouldRestartIce: {\n        writable: true,\n        value: false\n      },\n      _trackIdsToAttributes: {\n        value: new Map()\n      },\n      _trackMatcher: {\n        writable: true,\n        value: null\n      },\n      id: {\n        enumerable: true,\n        value: id\n      }\n    });\n\n    encodingParameters.on('changed', oncePerTick(_this.offer.bind(_this)));\n    peerConnection.addEventListener('datachannel', _this._handleDataChannelEvent.bind(_this));\n    peerConnection.addEventListener('icecandidate', _this._handleIceCandidateEvent.bind(_this));\n    peerConnection.addEventListener('iceconnectionstatechange', _this._handleIceConnectionStateChange.bind(_this));\n    peerConnection.addEventListener('signalingstatechange', _this._handleSignalingStateChange.bind(_this));\n    peerConnection.addEventListener('track', _this._handleTrackEvent.bind(_this));\n\n    var self = _this;\n    _this.on('stateChanged', function stateChanged(state) {\n      if (state !== 'closed') {\n        return;\n      }\n      self.removeListener('stateChanged', stateChanged);\n      self._dataChannels.forEach(function (dataChannel, dataTrackSender) {\n        self.removeDataTrackSender(dataTrackSender);\n      });\n    });\n    return _this;\n  }\n\n  /**\n   * The {@link PeerConnectionV2}'s underlying RTCPeerConnection's\n   * RTCIceConnectionState.\n   * @property {RTCIceConnectionState}\n   */\n\n\n  _createClass(PeerConnectionV2, [{\n    key: '_addIceCandidate',\n\n\n    /**\n     * Add an ICE candidate to the {@link PeerConnectionV2}.\n     * @private\n     * @param {object} candidate\n     * @returns {Promise<void>}\n     */\n    value: function _addIceCandidate(candidate) {\n      var _this2 = this;\n\n      return Promise.resolve().then(function () {\n        candidate = new _this2._RTCIceCandidate(candidate);\n        return _this2._peerConnection.addIceCandidate(candidate);\n      });\n    }\n\n    /**\n     * Add ICE candidates to the {@link PeerConnectionV2}.\n     * @private\n     * @param {Array<object>} candidates\n     * @returns {Promise<void>}\n     */\n\n  }, {\n    key: '_addIceCandidates',\n    value: function _addIceCandidates(candidates) {\n      return Promise.all(candidates.map(this._addIceCandidate, this)).then(function () {});\n    }\n\n    /**\n     * Check the {@link IceBox}.\n     * @private\n     * @param {RTCSessionDescriptionInit} description\n     * @returns {Promise<void>}\n     */\n\n  }, {\n    key: '_checkIceBox',\n    value: function _checkIceBox(description) {\n      var ufrag = getUfrag(description);\n      if (!ufrag) {\n        return Promise.resolve();\n      }\n      var candidates = this._remoteCandidates.setUfrag(ufrag);\n      return this._addIceCandidates(candidates);\n    }\n\n    /**\n     * Create an answer and set it on the {@link PeerConnectionV2}.\n     * @private\n     * @param {RTCSessionDescriptionInit} offer\n     * @returns {Promise<boolean>}\n     */\n\n  }, {\n    key: '_answer',\n    value: function _answer(offer) {\n      var _this3 = this;\n\n      return Promise.resolve().then(function () {\n        if (!_this3._negotiationRole) {\n          _this3._negotiationRole = 'answerer';\n        }\n        return _this3._setRemoteDescription(offer);\n      }).catch(function () {\n        throw new MediaClientRemoteDescFailedError();\n      }).then(function () {\n        return _this3._peerConnection.createAnswer();\n      }).then(function (answer) {\n        if (!isFirefox) {\n          answer = workaroundIssue8329(answer);\n        }\n        return _this3._setLocalDescription(answer);\n      }).then(function () {\n        return _this3._checkIceBox(offer);\n      }).then(function () {\n        return _this3._queuedDescription && _this3._updateDescription(_this3._queuedDescription);\n      }).then(function () {\n        _this3._queuedDescription = null;\n        return _this3._maybeReoffer(_this3._peerConnection.localDescription);\n      }).catch(function (error) {\n        throw error instanceof MediaClientRemoteDescFailedError ? error : new MediaClientLocalDescFailedError();\n      });\n    }\n\n    /**\n     * Close the underlying RTCPeerConnection. Returns false if the\n     * RTCPeerConnection was already closed.\n     * @private\n     * @returns {boolean}\n     */\n\n  }, {\n    key: '_close',\n    value: function _close() {\n      if (this._peerConnection.signalingState !== 'closed') {\n        this._peerConnection.close();\n        return true;\n      }\n      return false;\n    }\n\n    /**\n     * Handle a \"datachannel\" event.\n     * @private\n     * @param {RTCDataChannelEvent} event\n     * @returns {void}\n     */\n\n  }, {\n    key: '_handleDataChannelEvent',\n    value: function _handleDataChannelEvent(event) {\n      var _this4 = this;\n\n      var dataChannel = event.channel;\n      var dataTrackReceiver = new DataTrackReceiver(dataChannel);\n      this._dataTrackReceivers.add(dataTrackReceiver);\n\n      dataChannel.addEventListener('close', function () {\n        _this4._dataTrackReceivers.delete(dataTrackReceiver);\n      });\n\n      this.emit('trackAdded', dataTrackReceiver);\n    }\n\n    /**\n     * Handle a glare scenario on the {@link PeerConnectionV2}.\n     * @private\n     * @param {RTCSessionDescriptionInit} offer\n     * @returns {Promise<void>}\n     */\n\n  }, {\n    key: '_handleGlare',\n    value: function _handleGlare(offer) {\n      var _this5 = this;\n\n      this._log.debug('Glare detected; rolling back');\n      if (this._isRestartingIce) {\n        this._log.debug('An ICE restart was in progress; we\\'ll need to restart ICE again after rolling back');\n        this._isRestartingIce = false;\n        this._shouldRestartIce = true;\n      }\n      return Promise.resolve().then(function () {\n        return _this5._setLocalDescription({ type: 'rollback' });\n      }).then(function () {\n        _this5._needsAnswer = false;\n        return _this5._answer(offer);\n      }).then(function (didReoffer) {\n        return didReoffer ? Promise.resolve() : _this5._offer();\n      });\n    }\n\n    /**\n     * Handle an ICE candidate event.\n     * @private\n     * @param {Event} event\n     * @returns {void}\n     */\n\n  }, {\n    key: '_handleIceCandidateEvent',\n    value: function _handleIceCandidateEvent(event) {\n      if (event.candidate) {\n        this._localCandidates.push(event.candidate);\n      }\n      var peerConnectionState = {\n        ice: {\n          candidates: this._localCandidates.slice(),\n          revision: this._localCandidatesRevision++,\n          ufrag: this._localUfrag\n        },\n        id: this.id\n      };\n      if (!event.candidate) {\n        peerConnectionState.ice.complete = true;\n      }\n      this.emit('candidates', peerConnectionState);\n    }\n\n    /**\n     * Handle an ICE connection state change event.\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: '_handleIceConnectionStateChange',\n    value: function _handleIceConnectionStateChange() {\n      var iceConnectionState = this._peerConnection.iceConnectionState;\n\n\n      this._log.debug('ICE connection state is \"' + iceConnectionState + '\"');\n\n      // Case 1: Transition to \"failed\".\n      if (this._lastIceConnectionState !== 'failed' && iceConnectionState === 'failed' && !this._shouldRestartIce && !this._isRestartingIce) {\n        this._log.warn('ICE failed; attempting to restart ICE');\n        this._shouldRestartIce = true;\n        this.offer();\n      }\n\n      // Case 2: Transition from \"failed\".\n      else if (this._lastIceConnectionState === 'failed' && (iceConnectionState === 'connected' || iceConnectionState === 'completed')) {\n          this._log.info('ICE reconnected');\n        }\n\n      this._lastIceConnectionState = iceConnectionState;\n      this.emit('iceConnectionStateChanged');\n    }\n\n    /**\n     * Handle a signaling state change event.\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: '_handleSignalingStateChange',\n    value: function _handleSignalingStateChange() {\n      if (this._peerConnection.signalingState === 'closed' && this.state !== 'closed') {\n        this.preempt('closed');\n      }\n    }\n\n    /**\n     * Handle a track event.\n     * @private\n     * @param {Event} event\n     * @returns {void}\n     */\n\n  }, {\n    key: '_handleTrackEvent',\n    value: function _handleTrackEvent(event) {\n      var _this6 = this;\n\n      var sdp = this._peerConnection.remoteDescription ? this._peerConnection.remoteDescription.sdp : null;\n\n      if (!this._trackMatcher) {\n        this._trackMatcher = event.transceiver && event.transceiver.mid ? new MIDTrackMatcher()\n        // NOTE(mroberts): Until Chrome ships RTCRtpTransceivers with MID\n        // support, we have to use the same hacky solution as Safari. Revisit\n        // this when RTCRtpTransceivers and MIDs land. We should be able to use\n        // the same technique as Firefox.\n        : isSafari || this._isUnifiedPlan ? new OrderedTrackMatcher() : new IdentityTrackMatcher();\n      }\n\n      // NOTE(mmalavalli): For unified plan sdps, calling addTransceiver with\n      // the same MediaStreamTrack a second time will generate sdps where the\n      // MediaStreamTrack ID does not match the MSID in the corresponding\n      // m= section. Due to this, MIDTrackMatcher#update will not update the\n      // mid corresponding to the MediaStreamTrack ID. Therefore, \"trackSubscribed\"\n      // will not be fired for the corresponding RemoteTrack.\n      //\n      // Chrome bug: https://bugs.chromium.org/p/chromium/issues/detail?id=894231\n      // Firefox bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1498036\n      //\n      // TODO(mmalavalli): Revisit this either when the bugs are fixed or when we\n      // get clarification about spec-compliant behavior of addTransceiver.\n      //\n      this._trackMatcher.update(sdp);\n\n      var mediaStreamTrack = event.track;\n      var signaledTrackId = this._trackMatcher.match(event) || mediaStreamTrack.id;\n      var mediaTrackReceiver = new MediaTrackReceiver(signaledTrackId, mediaStreamTrack);\n      this._mediaTrackReceivers.add(mediaTrackReceiver);\n\n      mediaStreamTrack.addEventListener('ended', function () {\n        _this6._mediaTrackReceivers.delete(mediaTrackReceiver);\n      });\n\n      this.emit('trackAdded', mediaTrackReceiver);\n    }\n\n    /**\n     * Conditionally re-offer.\n     * @private\n     * @param {?RTCSessionDescriptionInit} localDescription\n     * @returns {Promise<boolean>}\n     */\n\n  }, {\n    key: '_maybeReoffer',\n    value: function _maybeReoffer(localDescription) {\n      var shouldReoffer = this._shouldOffer;\n\n      if (localDescription && localDescription.sdp) {\n        // NOTE(mmalavalli): For \"unified-plan\" sdps, if the remote RTCPeerConnection sends\n        // an offer with fewer audio m= lines than the number of audio RTCRTPSenders\n        // in the local RTCPeerConnection, then the local RTCPeerConnection creates\n        // an answer with the same number of audio m= lines as in the offer. This\n        // behavior was triggered by the removal of 'offerToReceiveAudio' from the\n        // default RTCOfferOptions. Ideally, the local RTCPeerConnection should create\n        // an answer with the same number of audio m= lines as the number of\n        // RTCRTPSenders. In order to achieve this,the local RTCPeerConnection\n        // initiates renegotiation.\n        //\n        // We can reduce the number of cases where renegotiation is needed by\n        // re-introducing 'offerToReceiveAudio' to the default RTCOfferOptions with a\n        // value > 1.\n        if (this._isUnifiedPlan && localDescription.type === 'answer') {\n          var senders = this._peerConnection.getSenders().filter(function (sender) {\n            return sender.track;\n          });\n          shouldReoffer = ['audio', 'video'].reduce(function (shouldOffer, kind) {\n            var mediaSections = getMediaSections(localDescription.sdp, kind, '(sendrecv|sendonly)');\n            var sendersOfKind = senders.filter(isSenderOfKind.bind(null, kind));\n            return shouldOffer || mediaSections.length < sendersOfKind.length;\n          }, shouldReoffer);\n        }\n\n        // NOTE(mroberts): We also need to re-offer if we have a DataTrack to share\n        // but no m= application section.\n        var hasDataTrack = this._dataChannels.size > 0;\n        var hasApplicationMediaSection = getMediaSections(localDescription.sdp, 'application').length > 0;\n        var needsApplicationMediaSection = hasDataTrack && !hasApplicationMediaSection;\n        shouldReoffer = shouldReoffer || needsApplicationMediaSection;\n      }\n\n      var promise = shouldReoffer ? this._offer() : Promise.resolve();\n      return promise.then(function () {\n        return shouldReoffer;\n      });\n    }\n\n    /**\n     * Create an offer and set it on the {@link PeerConnectionV2}.\n     * @private\n     * @returns {Promise<void>}\n     */\n\n  }, {\n    key: '_offer',\n    value: function _offer() {\n      var _this7 = this;\n\n      var offerOptions = Object.assign({}, this._offerOptions);\n      this._needsAnswer = true;\n      if (this._shouldRestartIce) {\n        this._shouldRestartIce = false;\n        this._isRestartingIce = true;\n        offerOptions.iceRestart = true;\n      }\n      return Promise.resolve().then(function () {\n        return _this7._peerConnection.createOffer(offerOptions);\n      }).catch(function () {\n        throw new MediaClientLocalDescFailedError();\n      }).then(function (offer) {\n        if (!isFirefox) {\n          offer = workaroundIssue8329(offer);\n        }\n\n        var updatedSdp = _this7._setCodecPreferences(offer.sdp, _this7._preferredAudioCodecs, _this7._preferredVideoCodecs);\n\n        _this7._shouldOffer = false;\n        if (!_this7._negotiationRole) {\n          _this7._negotiationRole = 'offerer';\n        }\n        return _this7._setLocalDescription({\n          type: 'offer',\n          sdp: updatedSdp\n        });\n      });\n    }\n\n    /**\n     * Set a local description on the {@link PeerConnectionV2}.\n     * @private\n     * @param {RTCSessionDescription|RTCSessionDescriptionInit} description\n     * @returns {Promise<void>}\n     */\n\n  }, {\n    key: '_setLocalDescription',\n    value: function _setLocalDescription(description) {\n      var _this8 = this;\n\n      var vp8SimulcastRequested = this._preferredVideoCodecs.some(function (codecSettings) {\n        return codecSettings.codec.toLowerCase() === 'vp8' && codecSettings.simulcast;\n      });\n\n      return Promise.resolve().then(function () {\n        if (description.sdp) {\n          // NOTE(mmalavalli): We do not directly modify \"description.sdp\" here as\n          // \"description\" might be an RTCSessionDescription, in which case its\n          // properties are immutable.\n          description = {\n            type: description.type,\n            sdp: isChrome && vp8SimulcastRequested ? _this8._setSimulcast(description.sdp, _this8._sdpFormat, _this8._trackIdsToAttributes) : description.sdp\n          };\n        }\n        description = new _this8._RTCSessionDescription(description);\n        return _this8._peerConnection.setLocalDescription(description);\n      }).catch(function (error) {\n        _this8._log.warn('Calling setLocalDescription with an RTCSessionDescription of type \"' + description.type + '\" failed with the error \"' + error.message + '\".');\n        if (description.sdp) {\n          _this8._log.warn('The SDP was ' + description.sdp);\n        }\n        throw new MediaClientLocalDescFailedError();\n      }).then(function () {\n        if (description.type !== 'rollback') {\n          _this8._localDescription = description;\n          _this8._localCandidates = [];\n          if (description.type === 'offer') {\n            _this8._descriptionRevision++;\n          } else if (description.type === 'answer') {\n            _this8._lastStableDescriptionRevision = _this8._descriptionRevision;\n          }\n          _this8._localUfrag = getUfrag(description);\n          _this8.emit('description', _this8.getState());\n        }\n      });\n    }\n\n    /**\n     * Set a remote RTCSessionDescription on the {@link PeerConnectionV2}.\n     * @private\n     * @param {RTCSessionDescriptionInit} description\n     * @returns {Promise<void>}\n     */\n\n  }, {\n    key: '_setRemoteDescription',\n    value: function _setRemoteDescription(description) {\n      var _this9 = this;\n\n      if (description.sdp) {\n        description.sdp = this._setBitrateParameters(description.sdp, isFirefox ? 'TIAS' : 'AS', this._encodingParameters.maxAudioBitrate, this._encodingParameters.maxVideoBitrate);\n        description.sdp = this._setCodecPreferences(description.sdp, this._preferredAudioCodecs, this._preferredVideoCodecs);\n        // NOTE(mroberts): Do this to reduce our MediaStream count in Firefox. By\n        // mapping MediaStream IDs in the SDP to \"-\", we ensure the \"track\" event\n        // doesn't include any new MediaStreams in Firefox. Its `streams` member\n        // will always be the empty Array.\n        if (isFirefox) {\n          description.sdp = filterOutMediaStreamIds(description.sdp);\n        }\n      }\n      description = new this._RTCSessionDescription(description);\n      return this._peerConnection.setRemoteDescription(description).then(function () {\n        if (description.type === 'answer' && _this9._isRestartingIce) {\n          _this9._log.debug('An ICE restart was in-progress and is now completed');\n          _this9._isRestartingIce = false;\n        }\n        if (_this9._isUnifiedPlan) {\n          _this9._peerConnection.getTransceivers().forEach(function (transceiver) {\n            if (shouldStopTransceiver(description.sdp, transceiver)) {\n              transceiver.stop();\n            }\n          });\n        }\n      }, function (error) {\n        _this9._log.warn('Calling setRemoteDescription with an RTCSessionDescription of type \"' + description.type + '\" failed with the error \"' + error.message + '\".');\n        if (description.sdp) {\n          _this9._log.warn('The SDP was ' + description.sdp);\n        }\n        throw error;\n      });\n    }\n\n    /**\n     * Update the {@link PeerConnectionV2}'s description.\n     * @private\n     * @param {RTCSessionDescriptionInit} description\n     * @returns {Promise<void>}\n     */\n\n  }, {\n    key: '_updateDescription',\n    value: function _updateDescription(description) {\n      var _this10 = this;\n\n      switch (description.type) {\n        case 'answer':\n        case 'pranswer':\n          if (description.revision !== this._descriptionRevision || this._peerConnection.signalingState !== 'have-local-offer') {\n            return Promise.resolve();\n          }\n          this._descriptionRevision = description.revision;\n          break;\n        case 'close':\n          return this._close();\n        case 'create-offer':\n          if (description.revision <= this._lastStableDescriptionRevision) {\n            return Promise.resolve();\n          } else if (this._needsAnswer) {\n            this._queuedDescription = description;\n            return Promise.resolve();\n          }\n          this._descriptionRevision = description.revision;\n          return this._offer();\n        case 'offer':\n          if (description.revision <= this._lastStableDescriptionRevision || this._peerConnection.signalingState === 'closed') {\n            return Promise.resolve();\n          }\n          if (this._peerConnection.signalingState === 'have-local-offer') {\n            if (this._needsAnswer && this._descriptionRevision === 1) {\n              this._queuedDescription = description;\n              return Promise.resolve();\n            }\n            this._descriptionRevision = description.revision;\n            return this._handleGlare(description);\n          }\n          this._descriptionRevision = description.revision;\n          return this._answer(description).then(function () {});\n        default:\n        // Do nothing.\n      }\n\n      // Handle answer or pranswer.\n      var revision = description.revision;\n      return Promise.resolve().then(function () {\n        return _this10._setRemoteDescription(description);\n      }).catch(function () {\n        throw new MediaClientRemoteDescFailedError();\n      }).then(function () {\n        _this10._lastStableDescriptionRevision = revision;\n        _this10._needsAnswer = false;\n        return _this10._checkIceBox(description);\n      }).then(function () {\n        return _this10._queuedDescription && _this10._updateDescription(_this10._queuedDescription);\n      }).then(function () {\n        _this10._queuedDescription = null;\n        return _this10._maybeReoffer(_this10._peerConnection.localDescription).then(function () {});\n      });\n    }\n\n    /**\n     * Update the {@link PeerConnectionV2}'s ICE candidates.\n     * @private\n     * @param {object} iceState\n     * @returns {Promise<void>}\n     */\n\n  }, {\n    key: '_updateIce',\n    value: function _updateIce(iceState) {\n      var candidates = this._remoteCandidates.update(iceState);\n      return this._addIceCandidates(candidates);\n    }\n\n    /**\n     * Add a {@link DataTrackSender} to the {@link PeerConnectionV2}.\n     * @param {DataTrackSender} dataTrackSender\n     * @returns {void}\n     */\n\n  }, {\n    key: 'addDataTrackSender',\n    value: function addDataTrackSender(dataTrackSender) {\n      if (this._dataChannels.has(dataTrackSender)) {\n        return;\n      }\n      try {\n        var dataChannelDict = {\n          ordered: dataTrackSender.ordered\n        };\n        if (dataTrackSender.maxPacketLifeTime !== null) {\n          dataChannelDict.maxPacketLifeTime = dataTrackSender.maxPacketLifeTime;\n        }\n        if (dataTrackSender.maxRetransmits !== null) {\n          dataChannelDict.maxRetransmits = dataTrackSender.maxRetransmits;\n        }\n        var dataChannel = this._peerConnection.createDataChannel(dataTrackSender.id, dataChannelDict);\n        dataTrackSender.addDataChannel(dataChannel);\n        this._dataChannels.set(dataTrackSender, dataChannel);\n      } catch (error) {\n        // Do nothing.\n      }\n    }\n\n    /**\n     * Add the {@link MediaTrackSender} to the {@link PeerConnectionV2}.\n     * @param {MediaTrackSender} mediaTrackSender\n     * @returns {void}\n     */\n\n  }, {\n    key: 'addMediaTrackSender',\n    value: function addMediaTrackSender(mediaTrackSender) {\n      if (this._peerConnection.signalingState === 'closed' || this._rtpSenders.has(mediaTrackSender)) {\n        return;\n      }\n      var sender = void 0;\n      if (this._localMediaStream) {\n        this._localMediaStream.addTrack(mediaTrackSender.track);\n        sender = this._peerConnection.addTrack(mediaTrackSender.track, this._localMediaStream);\n      } else {\n        var transceiver = this._peerConnection.addTransceiver(mediaTrackSender.track);\n        sender = transceiver.sender;\n      }\n      mediaTrackSender.addSender(sender);\n      this._rtpSenders.set(mediaTrackSender, sender);\n    }\n\n    /**\n     * Close the {@link PeerConnectionV2}.\n     * @returns {void}\n     */\n\n  }, {\n    key: 'close',\n    value: function close() {\n      if (this._close()) {\n        this._descriptionRevision++;\n        this._localDescription = { type: 'close' };\n        this.emit('description', this.getState());\n      }\n    }\n\n    /**\n     * Get the {@link DataTrackReceiver}s and the {@link MediaTrackReceivers} on the\n     * {@link PeerConnectionV2}.\n     * @returns {Array<DataTrackReceiver|MediaTrackReceiver>} trackReceivers\n     */\n\n  }, {\n    key: 'getTrackReceivers',\n    value: function getTrackReceivers() {\n      return Array.from(this._dataTrackReceivers).concat(Array.from(this._mediaTrackReceivers));\n    }\n\n    /**\n     * Get the {@link PeerConnectionV2}'s state (specifically, its description).\n     * @returns {?object}\n     */\n\n  }, {\n    key: 'getState',\n    value: function getState() {\n      if (!this._localDescription) {\n        return null;\n      }\n      var localDescription = {\n        type: this._localDescription.type,\n        revision: this._descriptionRevision\n      };\n      if (this._localDescription.sdp) {\n        localDescription.sdp = this._localDescription.sdp;\n      }\n      return {\n        description: localDescription,\n        id: this.id\n      };\n    }\n\n    /**\n     * Create an offer and set it on the {@link PeerConnectionV2}.\n     * @returns {Promise<void>}\n     */\n\n  }, {\n    key: 'offer',\n    value: function offer() {\n      var _this11 = this;\n\n      if (this._needsAnswer || this._isRestartingIce) {\n        this._shouldOffer = true;\n        return Promise.resolve();\n      }\n\n      return this.bracket('offering', function (key) {\n        _this11.transition('updating', key);\n        var promise = _this11._needsAnswer || _this11._isRestartingIce ? Promise.resolve() : _this11._offer();\n        return promise.then(function () {\n          _this11.tryTransition('open', key);\n        }, function (error) {\n          _this11.tryTransition('open', key);\n          throw error;\n        });\n      });\n    }\n\n    /**\n     * Remove a {@link DataTrackSender} from the {@link PeerConnectionV2}.\n     * @param {DataTrackSender} dataTrackSender\n     * @returns {void}\n     */\n\n  }, {\n    key: 'removeDataTrackSender',\n    value: function removeDataTrackSender(dataTrackSender) {\n      var dataChannel = this._dataChannels.get(dataTrackSender);\n      if (dataChannel) {\n        dataTrackSender.removeDataChannel(dataChannel);\n        this._dataChannels.delete(dataTrackSender);\n        dataChannel.close();\n      }\n    }\n\n    /**\n     * Remove the {@link MediaTrackSender} from the {@link PeerConnectionV2}.\n     * @param {MediaTrackSender} mediaTrackSender\n     * @returns {void}\n     */\n\n  }, {\n    key: 'removeMediaTrackSender',\n    value: function removeMediaTrackSender(mediaTrackSender) {\n      if (this._peerConnection.signalingState === 'closed' || !this._rtpSenders.has(mediaTrackSender)) {\n        return;\n      }\n      var sender = this._rtpSenders.get(mediaTrackSender);\n      this._peerConnection.removeTrack(sender);\n      if (this._localMediaStream) {\n        this._localMediaStream.removeTrack(mediaTrackSender.track);\n      }\n      mediaTrackSender.removeSender(sender);\n      this._rtpSenders.delete(mediaTrackSender);\n    }\n\n    /**\n     * Set the RTCConfiguration on the underlying RTCPeerConnection.\n     * @param {RTCConfiguration} configuration\n     * @returns {void}\n     */\n\n  }, {\n    key: 'setConfiguration',\n    value: function setConfiguration(configuration) {\n      if (typeof this._peerConnection.setConfiguration === 'function') {\n        this._peerConnection.setConfiguration(getConfiguration(configuration));\n      }\n    }\n\n    /**\n     * Update the {@link PeerConnectionV2}.\n     * @param {object} peerConnectionState\n     * @returns {Promise<void>}\n     */\n\n  }, {\n    key: 'update',\n    value: function update(peerConnectionState) {\n      var _this12 = this;\n\n      return this.bracket('updating', function (key) {\n        if (_this12.state === 'closed') {\n          return Promise.resolve();\n        }\n\n        _this12.transition('updating', key);\n\n        var updates = [];\n\n        if (peerConnectionState.ice) {\n          updates.push(_this12._updateIce(peerConnectionState.ice));\n        }\n\n        if (peerConnectionState.description) {\n          updates.push(_this12._updateDescription(peerConnectionState.description));\n        }\n\n        return Promise.all(updates).then(function () {\n          _this12.tryTransition('open', key);\n        }, function (error) {\n          _this12.tryTransition('open', key);\n          throw error;\n        });\n      });\n    }\n\n    /**\n     * Get the {@link PeerConnectionV2}'s media statistics.\n     * @returns {Promise<StandardizedStatsResponse>}\n     */\n\n  }, {\n    key: 'getStats',\n    value: function getStats() {\n      var _this13 = this;\n\n      return getStatistics(this._peerConnection).then(function (response) {\n        return rewriteTrackIds(_this13, response);\n      });\n    }\n  }, {\n    key: 'iceConnectionState',\n    get: function get() {\n      return this._peerConnection.iceConnectionState;\n    }\n  }]);\n\n  return PeerConnectionV2;\n}(StateMachine);\n\nfunction rewriteTrackId(pcv2, stats) {\n  var receiver = [].concat(_toConsumableArray(pcv2._mediaTrackReceivers)).find(function (receiver) {\n    return receiver.track.id === stats.trackId;\n  });\n  var trackId = receiver ? receiver.id : null;\n  return Object.assign(stats, { trackId: trackId });\n}\n\nfunction rewriteTrackIds(pcv2, response) {\n  return Object.assign(response, {\n    remoteAudioTrackStats: response.remoteAudioTrackStats.map(function (stats) {\n      return rewriteTrackId(pcv2, stats);\n    }),\n    remoteVideoTrackStats: response.remoteVideoTrackStats.map(function (stats) {\n      return rewriteTrackId(pcv2, stats);\n    })\n  });\n}\n\n/**\n * @event PeerConnectionV2#candidates\n * @param {object} candidates\n */\n\n/**\n * @event PeerConnectionV2#description\n * @param {object} description\n */\n\n/**\n * @event PeerConnectionV2#iceConnectionStateChanged\n */\n\n/**\n * @event PeerConnectionV2#trackAdded\n * @param {DataTrackReceiver|MediaTrackReceiver} trackReceiver\n */\n\nfunction getUfrag(description) {\n  if (description.sdp) {\n    var match = description.sdp.match(/^a=ice-ufrag:([a-zA-Z0-9+/]+)/m);\n    if (match) {\n      return match[1];\n    }\n  }\n  return null;\n}\n\nfunction getConfiguration(configuration) {\n  return Object.assign({\n    bundlePolicy: 'max-bundle',\n    rtcpMuxPolicy: 'require'\n  }, configuration);\n}\n\n/**\n * Whether the MediaStreamTrack of the given RTCRTPSender is a non-ended\n * MediaStreamTrack of a given kind.\n * @private\n * @param {string} kind\n * @param {RTCRTPSender} sender\n * @return {boolean}\n */\nfunction isSenderOfKind(kind, sender) {\n  var track = sender.track;\n  return track && track.kind === kind && track.readyState !== 'ended';\n}\n\n/**\n * Preferred codecs.\n * @typedef {object} PreferredCodecs\n * @property {Array<AudioCodec>} audio\n * @property {Array<VideoCodec>} video\n */\n\nfunction filterOutMediaStreamIds(sdp) {\n  return sdp.replace(/a=msid:[^ ]+ /g, 'a=msid:- ');\n}\n\n/**\n * @param {string} sdp\n * @param {string} mid\n * @returns {?string} direction\n */\nfunction getTransceiverDirection(sdp, mid) {\n  var section = getMediaSections(sdp).find(function (section) {\n    return section.match('a=mid:' + mid);\n  });\n  if (!section) {\n    return null;\n  }\n  var match = section.match(/a=(sendrecv|sendonly|recvonly|inactive)/);\n  return match ? match[1] : null;\n}\n\n/**\n * @param {string} sdp\n * @returns {{audio: Array<string>, video: Array<string>}} mids\n */\nfunction getMids(sdp) {\n  return ['audio', 'video'].reduce(function (mids, kind) {\n    mids[kind] = getMediaSections(sdp, kind).map(function (section) {\n      return section.match(/^a=mid:(.+)$/m)[1];\n    });\n    return mids;\n  }, {});\n}\n\n/**\n * @param {string} sdp\n * @param {RTCRtpTransceiver} transceiver\n * @returns {boolean} shouldStop\n */\nfunction shouldStopTransceiver(sdp, transceiver) {\n  if (!transceiver.stop || transceiver.stopped || !transceiver.mid) {\n    return false;\n  }\n\n  // NOTE(mroberts): We don't want to stop the initial two audio and video\n  // RTCRtpTransceivers that everyone negotiates with.\n  var mids = getMids(sdp);\n  if (transceiver.mid === mids.audio[0] || transceiver.mid === mids.video[0]) {\n    return false;\n  }\n\n  if (transceiver.currentDirection === 'inactive') {\n    return true;\n  }\n\n  var direction = getTransceiverDirection(sdp, transceiver.mid);\n  if (direction === 'inactive') {\n    return true;\n  } else if (direction === 'recvonly' && !transceiver.sender.track) {\n    return true;\n  }\n\n  return false;\n}\n\nmodule.exports = PeerConnectionV2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvcGVlcmNvbm5lY3Rpb24uanM/MzlmMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsa0NBQWtDLDBCQUEwQiwwQ0FBMEMsZ0JBQWdCLE9BQU8sa0JBQWtCLEVBQUUsYUFBYSxFQUFFLE9BQU8sd0JBQXdCLEVBQUU7O0FBRWpNLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsYUFBYSxtQkFBTyxDQUFDLHlCQUFnQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG1CQUFPLENBQUMseUJBQWdCO0FBQy9DLG1CQUFtQixtQkFBTyxDQUFDLHFCQUFZO0FBQ3ZDLGtCQUFrQixtQkFBTyxDQUFDLHFCQUFZO0FBQ3RDLDJCQUEyQixtQkFBTyxDQUFDLHlCQUFnQjtBQUNuRCwwQkFBMEIsbUJBQU8sQ0FBQyx5QkFBZ0I7QUFDbEQsbUJBQW1CLG1CQUFPLENBQUMseUJBQWdCO0FBQzNDLGFBQWEsbUJBQU8sQ0FBQyxtQkFBVTtBQUMvQixzQ0FBc0MsbUJBQU8sQ0FBQyx5Q0FBZ0M7QUFDOUUsdUNBQXVDLG1CQUFPLENBQUMseUNBQWdDO0FBQy9FLHdCQUF3QixtQkFBTyxDQUFDLDhCQUFxQjtBQUNyRCx5QkFBeUIsbUJBQU8sQ0FBQyxxQ0FBNEI7QUFDN0QsbUJBQW1CLG1CQUFPLENBQUMsNkJBQW9COztBQUUvQyxlQUFlLG1CQUFPLENBQUMscUJBQVk7QUFDbkM7QUFDQTtBQUNBOztBQUVBLGdCQUFnQixtQkFBTyxDQUFDLCtCQUFzQjtBQUM5Qzs7QUFFQSxVQUFVLG1CQUFPLENBQUMseUJBQWdCO0FBQ2xDLDJCQUEyQixtQkFBTyxDQUFDLCtDQUFzQztBQUN6RSwwQkFBMEIsbUJBQU8sQ0FBQyw4Q0FBcUM7QUFDdkUsc0JBQXNCLG1CQUFPLENBQUMsMENBQWlDO0FBQy9ELDBCQUEwQixtQkFBTyxDQUFDLG1DQUEwQjs7QUFFNUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHVCQUF1QjtBQUN6QyxhQUFhLE9BQU87QUFDcEIsYUFBYSx1QkFBdUI7QUFDcEMsYUFBYSxnQkFBZ0I7QUFDN0IsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLFVBQVUsdUJBQXVCO0FBQ2pDO0FBQ0EsZ0JBQWdCO0FBQ2hCOzs7QUFHQTtBQUNBOzs7QUFHQTtBQUNBLG9DQUFvQyx1QkFBdUI7QUFDM0Q7QUFDQSxlQUFlLE9BQU87QUFDdEIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQSxrQ0FBa0MsdUJBQXVCO0FBQ3pEO0FBQ0EsZUFBZSxjQUFjO0FBQzdCLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHlGQUF5RjtBQUN6Rjs7QUFFQTtBQUNBLGtCQUFrQixhQUFhO0FBQy9CO0FBQ0EsZUFBZSwwQkFBMEI7QUFDekMsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsdUJBQXVCO0FBQ2xFO0FBQ0EsZUFBZSwwQkFBMEI7QUFDekMsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0JBQW9CO0FBQ25DLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBOztBQUVBO0FBQ0EsdUNBQXVDLHVCQUF1QjtBQUM5RDtBQUNBLGVBQWUsMEJBQTBCO0FBQ3pDLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBLHNDQUFzQztBQUN0QztBQUNBLHdEQUF3RDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxtQkFBbUI7QUFDL0QsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxNQUFNO0FBQ3JCLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE1BQU07QUFDckIsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSwyQkFBMkI7QUFDMUMsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQSwwQ0FBMEMsdUJBQXVCO0FBQ2pFO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUEseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDs7QUFFQTtBQUNBLHVDQUF1Qyx1QkFBdUI7QUFDOUQ7QUFDQSxlQUFlLGdEQUFnRDtBQUMvRCxpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQSxrREFBa0QsdUJBQXVCO0FBQ3pFO0FBQ0EsZUFBZSwwQkFBMEI7QUFDekMsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLG1CQUFtQix1QkFBdUI7QUFDMUM7QUFDQSxlQUFlLDBCQUEwQjtBQUN6QyxpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLGtHQUFrRztBQUNsRyxPQUFPO0FBQ1A7O0FBRUE7QUFDQSxtQkFBbUIsdUJBQXVCO0FBQzFDO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGNBQWMsc0JBQXNCLFNBQVMsdUJBQXVCO0FBQ3BFLGVBQWUsZ0JBQWdCO0FBQy9CLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQix1QkFBdUIsU0FBUyx1QkFBdUI7QUFDdkUsZUFBZSxpQkFBaUI7QUFDaEMsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHVCQUF1QjtBQUN6QyxpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQix3QkFBd0IsV0FBVywwQkFBMEI7QUFDN0UsUUFBUSx1QkFBdUI7QUFDL0IsaUJBQWlCLDRDQUE0QztBQUM3RDs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsdUJBQXVCO0FBQ3ZDLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBDQUEwQyx1QkFBdUI7QUFDakUsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDs7QUFFQTtBQUNBLGlCQUFpQixzQkFBc0IsV0FBVyx1QkFBdUI7QUFDekUsZUFBZSxnQkFBZ0I7QUFDL0IsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsdUJBQXVCLFdBQVcsdUJBQXVCO0FBQzVFLGVBQWUsaUJBQWlCO0FBQ2hDLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsaUJBQWlCO0FBQ2hDLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLHVCQUF1QjtBQUMxQyxlQUFlLE9BQU87QUFDdEIsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQOztBQUVBO0FBQ0EsZ0JBQWdCLHVCQUF1QjtBQUN2QyxpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsK0JBQStCLG1CQUFtQjtBQUNsRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLHFDQUFxQztBQUNoRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxhQUFhO0FBQ3hCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsY0FBYyxrQkFBa0I7QUFDaEMsY0FBYyxrQkFBa0I7QUFDaEM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGNBQWMsNENBQTRDO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHLElBQUk7QUFDUDs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLGtCQUFrQjtBQUM3QixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMzEwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgV2ViUlRDID0gcmVxdWlyZSgnQHR3aWxpby93ZWJydGMnKTtcbnZhciBEZWZhdWx0TWVkaWFTdHJlYW0gPSBXZWJSVEMuTWVkaWFTdHJlYW07XG52YXIgRGVmYXVsdFJUQ0ljZUNhbmRpZGF0ZSA9IFdlYlJUQy5SVENJY2VDYW5kaWRhdGU7XG52YXIgRGVmYXVsdFJUQ1BlZXJDb25uZWN0aW9uID0gV2ViUlRDLlJUQ1BlZXJDb25uZWN0aW9uO1xudmFyIERlZmF1bHRSVENTZXNzaW9uRGVzY3JpcHRpb24gPSBXZWJSVEMuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uO1xudmFyIGdldFN0YXRpc3RpY3MgPSBXZWJSVEMuZ2V0U3RhdHM7XG52YXIgZ2V0TWVkaWFTZWN0aW9ucyA9IHJlcXVpcmUoJy4uLy4uL3V0aWwvc2RwJykuZ2V0TWVkaWFTZWN0aW9ucztcbnZhciBndWVzc0Jyb3dzZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsJykuZ3Vlc3NCcm93c2VyO1xudmFyIG9uY2VQZXJUaWNrID0gcmVxdWlyZSgnLi4vLi4vdXRpbCcpLm9uY2VQZXJUaWNrO1xudmFyIHNldEJpdHJhdGVQYXJhbWV0ZXJzID0gcmVxdWlyZSgnLi4vLi4vdXRpbC9zZHAnKS5zZXRCaXRyYXRlUGFyYW1ldGVycztcbnZhciBzZXRDb2RlY1ByZWZlcmVuY2VzID0gcmVxdWlyZSgnLi4vLi4vdXRpbC9zZHAnKS5zZXRDb2RlY1ByZWZlcmVuY2VzO1xudmFyIHNldFNpbXVsY2FzdCA9IHJlcXVpcmUoJy4uLy4uL3V0aWwvc2RwJykuc2V0U2ltdWxjYXN0O1xudmFyIEljZUJveCA9IHJlcXVpcmUoJy4vaWNlYm94Jyk7XG52YXIgTWVkaWFDbGllbnRMb2NhbERlc2NGYWlsZWRFcnJvciA9IHJlcXVpcmUoJy4uLy4uL3V0aWwvdHdpbGlvLXZpZGVvLWVycm9ycycpLk1lZGlhQ2xpZW50TG9jYWxEZXNjRmFpbGVkRXJyb3I7XG52YXIgTWVkaWFDbGllbnRSZW1vdGVEZXNjRmFpbGVkRXJyb3IgPSByZXF1aXJlKCcuLi8uLi91dGlsL3R3aWxpby12aWRlby1lcnJvcnMnKS5NZWRpYUNsaWVudFJlbW90ZURlc2NGYWlsZWRFcnJvcjtcbnZhciBEYXRhVHJhY2tSZWNlaXZlciA9IHJlcXVpcmUoJy4uLy4uL2RhdGEvcmVjZWl2ZXInKTtcbnZhciBNZWRpYVRyYWNrUmVjZWl2ZXIgPSByZXF1aXJlKCcuLi8uLi9tZWRpYS90cmFjay9yZWNlaXZlcicpO1xudmFyIFN0YXRlTWFjaGluZSA9IHJlcXVpcmUoJy4uLy4uL3N0YXRlbWFjaGluZScpO1xuXG52YXIgX3JlcXVpcmUgPSByZXF1aXJlKCcuLi8uLi91dGlsJyksXG4gICAgYnVpbGRMb2dMZXZlbHMgPSBfcmVxdWlyZS5idWlsZExvZ0xldmVscyxcbiAgICBnZXRTZHBGb3JtYXQgPSBfcmVxdWlyZS5nZXRTZHBGb3JtYXQsXG4gICAgbWFrZVVVSUQgPSBfcmVxdWlyZS5tYWtlVVVJRDtcblxudmFyIF9yZXF1aXJlMiA9IHJlcXVpcmUoJy4uLy4uL3V0aWwvY29uc3RhbnRzJyksXG4gICAgREVGQVVMVF9MT0dfTEVWRUwgPSBfcmVxdWlyZTIuREVGQVVMVF9MT0dfTEVWRUw7XG5cbnZhciBMb2cgPSByZXF1aXJlKCcuLi8uLi91dGlsL2xvZycpO1xudmFyIElkZW50aXR5VHJhY2tNYXRjaGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbC9zZHAvdHJhY2ttYXRjaGVyL2lkZW50aXR5Jyk7XG52YXIgT3JkZXJlZFRyYWNrTWF0Y2hlciA9IHJlcXVpcmUoJy4uLy4uL3V0aWwvc2RwL3RyYWNrbWF0Y2hlci9vcmRlcmVkJyk7XG52YXIgTUlEVHJhY2tNYXRjaGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbC9zZHAvdHJhY2ttYXRjaGVyL21pZCcpO1xudmFyIHdvcmthcm91bmRJc3N1ZTgzMjkgPSByZXF1aXJlKCcuLi8uLi91dGlsL3NkcC9pc3N1ZTgzMjknKTtcblxudmFyIGlzQ2hyb21lID0gZ3Vlc3NCcm93c2VyKCkgPT09ICdjaHJvbWUnO1xudmFyIGlzRmlyZWZveCA9IGd1ZXNzQnJvd3NlcigpID09PSAnZmlyZWZveCc7XG52YXIgaXNTYWZhcmkgPSBndWVzc0Jyb3dzZXIoKSA9PT0gJ3NhZmFyaSc7XG5cbi8qXG5QZWVyQ29ubmVjdGlvblYyIFN0YXRlc1xuLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgICstLS0tLS0rICAgICstLS0tLS0tLStcbiAgICB8ICAgICAgfCAgICB8ICAgICAgICB8XG4gICAgfCBvcGVuIHwtLS0+fCBjbG9zZWQgfFxuICAgIHwgICAgICB8ICAgIHwgICAgICAgIHxcbiAgICArLS0tLS0tKyAgICArLS0tLS0tLS0rXG4gICAgICB8ICBeICAgICAgICAgIF5cbiAgICAgIHwgIHwgICAgICAgICAgfFxuICAgICAgfCAgfCAgICAgICAgICB8XG4gICAgICB2ICB8ICAgICAgICAgIHxcbiAgKy0tLS0tLS0tLS0rICAgICAgfFxuICB8ICAgICAgICAgIHwgICAgICB8XG4gIHwgdXBkYXRpbmcgfC0tLS0tLStcbiAgfCAgICAgICAgICB8XG4gICstLS0tLS0tLS0tK1xuXG4qL1xuXG52YXIgc3RhdGVzID0ge1xuICBvcGVuOiBbJ2Nsb3NlZCcsICd1cGRhdGluZyddLFxuICB1cGRhdGluZzogWydjbG9zZWQnLCAnb3BlbiddLFxuICBjbG9zZWQ6IFtdXG59O1xuXG4vKipcbiAqIEBleHRlbmRzIFN0YXRlTWFjaGluZVxuICogQHByb3BlcnR5IHtpZH1cbiAqIEBlbWl0cyBQZWVyQ29ubmVjdGlvblYyI2ljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZWRcbiAqIEBlbWl0cyBQZWVyQ29ubmVjdGlvblYyI2NhbmRpZGF0ZXNcbiAqIEBlbWl0cyBQZWVyQ29ubmVjdGlvblYyI2Rlc2NyaXB0aW9uXG4gKi9cblxudmFyIFBlZXJDb25uZWN0aW9uVjIgPSBmdW5jdGlvbiAoX1N0YXRlTWFjaGluZSkge1xuICBfaW5oZXJpdHMoUGVlckNvbm5lY3Rpb25WMiwgX1N0YXRlTWFjaGluZSk7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBQZWVyQ29ubmVjdGlvblYyfS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqIEBwYXJhbSB7RW5jb2RpbmdQYXJhbWV0ZXJzSW1wbH0gZW5jb2RpbmdQYXJhbWV0ZXJzXG4gICAqIEBwYXJhbSB7UHJlZmVycmVkQ29kZWNzfSBwcmVmZXJyZWRDb2RlY3NcbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgKi9cbiAgZnVuY3Rpb24gUGVlckNvbm5lY3Rpb25WMihpZCwgZW5jb2RpbmdQYXJhbWV0ZXJzLCBwcmVmZXJyZWRDb2RlY3MsIG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGVlckNvbm5lY3Rpb25WMik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUGVlckNvbm5lY3Rpb25WMi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBlZXJDb25uZWN0aW9uVjIpKS5jYWxsKHRoaXMsICdvcGVuJywgc3RhdGVzKSk7XG5cbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBkdW1teUF1ZGlvTWVkaWFTdHJlYW1UcmFjazogbnVsbCxcbiAgICAgIGljZVNlcnZlcnM6IFtdLFxuICAgICAgbG9nTGV2ZWw6IERFRkFVTFRfTE9HX0xFVkVMLFxuICAgICAgb2ZmZXJPcHRpb25zOiB7fSxcbiAgICAgIHNldEJpdHJhdGVQYXJhbWV0ZXJzOiBzZXRCaXRyYXRlUGFyYW1ldGVycyxcbiAgICAgIHNldENvZGVjUHJlZmVyZW5jZXM6IHNldENvZGVjUHJlZmVyZW5jZXMsXG4gICAgICBzZXRTaW11bGNhc3Q6IHNldFNpbXVsY2FzdCxcbiAgICAgIE1lZGlhU3RyZWFtOiBEZWZhdWx0TWVkaWFTdHJlYW0sXG4gICAgICBSVENJY2VDYW5kaWRhdGU6IERlZmF1bHRSVENJY2VDYW5kaWRhdGUsXG4gICAgICBSVENQZWVyQ29ubmVjdGlvbjogRGVmYXVsdFJUQ1BlZXJDb25uZWN0aW9uLFxuICAgICAgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uOiBEZWZhdWx0UlRDU2Vzc2lvbkRlc2NyaXB0aW9uXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICB2YXIgY29uZmlndXJhdGlvbiA9IGdldENvbmZpZ3VyYXRpb24ob3B0aW9ucyk7XG4gICAgdmFyIGxvZ0xldmVscyA9IGJ1aWxkTG9nTGV2ZWxzKG9wdGlvbnMubG9nTGV2ZWwpO1xuICAgIHZhciBSVENQZWVyQ29ubmVjdGlvbiA9IG9wdGlvbnMuUlRDUGVlckNvbm5lY3Rpb247XG4gICAgdmFyIHBlZXJDb25uZWN0aW9uID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKGNvbmZpZ3VyYXRpb24sIG9wdGlvbnMuY2hyb21lU3BlY2lmaWNDb25zdHJhaW50cyk7XG4gICAgdmFyIHNkcEZvcm1hdCA9IGdldFNkcEZvcm1hdChvcHRpb25zLnNkcFNlbWFudGljcyk7XG4gICAgdmFyIGlzVW5pZmllZFBsYW4gPSBzZHBGb3JtYXQgPT09ICd1bmlmaWVkJztcblxuICAgIHZhciBsb2NhbE1lZGlhU3RyZWFtID0gaXNVbmlmaWVkUGxhbiAmJiBSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhbnNjZWl2ZXIgPyBudWxsIDogbmV3IG9wdGlvbnMuTWVkaWFTdHJlYW0oKTtcblxuICAgIGlmIChvcHRpb25zLmR1bW15QXVkaW9NZWRpYVN0cmVhbVRyYWNrKSB7XG4gICAgICBwZWVyQ29ubmVjdGlvbi5hZGRUcmFjayhvcHRpb25zLmR1bW15QXVkaW9NZWRpYVN0cmVhbVRyYWNrLCBsb2NhbE1lZGlhU3RyZWFtIHx8IG5ldyBvcHRpb25zLk1lZGlhU3RyZWFtKCkpO1xuICAgIH1cblxuICAgIC8vIE5PVEUobXJvYmVydHMpOiBXZSBkbyB0aGlzIHRvIHdvcmthcm91bmQgdGhlIGZvbGxvd2luZyBidWc6XG4gICAgLy9cbiAgICAvLyAgIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTE0ODEzMzVcbiAgICAvL1xuICAgIGlmIChpc0ZpcmVmb3gpIHtcbiAgICAgIHBlZXJDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVsKG1ha2VVVUlEKCkpO1xuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBfZGF0YUNoYW5uZWxzOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgTWFwKClcbiAgICAgIH0sXG4gICAgICBfZGF0YVRyYWNrUmVjZWl2ZXJzOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgU2V0KClcbiAgICAgIH0sXG4gICAgICBfZGVzY3JpcHRpb25SZXZpc2lvbjoge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IDBcbiAgICAgIH0sXG4gICAgICBfZW5jb2RpbmdQYXJhbWV0ZXJzOiB7XG4gICAgICAgIHZhbHVlOiBlbmNvZGluZ1BhcmFtZXRlcnNcbiAgICAgIH0sXG4gICAgICBfaXNSZXN0YXJ0aW5nSWNlOiB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH0sXG4gICAgICBfaXNVbmlmaWVkUGxhbjoge1xuICAgICAgICB2YWx1ZTogaXNVbmlmaWVkUGxhblxuICAgICAgfSxcbiAgICAgIF9sYXN0SWNlQ29ubmVjdGlvblN0YXRlOiB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSxcbiAgICAgIF9sYXN0U3RhYmxlRGVzY3JpcHRpb25SZXZpc2lvbjoge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IDBcbiAgICAgIH0sXG4gICAgICBfbG9jYWxDYW5kaWRhdGVzOiB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogW11cbiAgICAgIH0sXG4gICAgICBfbG9jYWxDYW5kaWRhdGVzUmV2aXNpb246IHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiAxXG4gICAgICB9LFxuICAgICAgX2xvY2FsRGVzY3JpcHRpb246IHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9LFxuICAgICAgX2xvY2FsTWVkaWFTdHJlYW06IHtcbiAgICAgICAgdmFsdWU6IGxvY2FsTWVkaWFTdHJlYW1cbiAgICAgIH0sXG4gICAgICBfbG9jYWxVZnJhZzoge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0sXG4gICAgICBfbG9nOiB7XG4gICAgICAgIHZhbHVlOiBvcHRpb25zLmxvZyA/IG9wdGlvbnMubG9nLmNyZWF0ZUxvZygnc2lnbmFsaW5nJywgX3RoaXMpIDogbmV3IExvZygnd2VicnRjJywgX3RoaXMsIGxvZ0xldmVscylcbiAgICAgIH0sXG4gICAgICBfcnRwU2VuZGVyczoge1xuICAgICAgICB2YWx1ZTogbmV3IE1hcCgpXG4gICAgICB9LFxuICAgICAgX21lZGlhVHJhY2tSZWNlaXZlcnM6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBTZXQoKVxuICAgICAgfSxcbiAgICAgIF9uZWVkc0Fuc3dlcjoge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9LFxuICAgICAgX25lZ290aWF0aW9uUm9sZToge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0sXG4gICAgICBfb2ZmZXJPcHRpb25zOiB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogb3B0aW9ucy5vZmZlck9wdGlvbnNcbiAgICAgIH0sXG4gICAgICBfcGVlckNvbm5lY3Rpb246IHtcbiAgICAgICAgdmFsdWU6IHBlZXJDb25uZWN0aW9uXG4gICAgICB9LFxuICAgICAgX3ByZWZlcnJlZEF1ZGlvQ29kZWNzOiB7XG4gICAgICAgIHZhbHVlOiBwcmVmZXJyZWRDb2RlY3MuYXVkaW9cbiAgICAgIH0sXG4gICAgICBfcHJlZmVycmVkVmlkZW9Db2RlY3M6IHtcbiAgICAgICAgdmFsdWU6IHByZWZlcnJlZENvZGVjcy52aWRlb1xuICAgICAgfSxcbiAgICAgIF9xdWV1ZWREZXNjcmlwdGlvbjoge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0sXG4gICAgICBfcmVtb3RlQ2FuZGlkYXRlczoge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG5ldyBJY2VCb3goKVxuICAgICAgfSxcbiAgICAgIF9zZHBGb3JtYXQ6IHtcbiAgICAgICAgdmFsdWU6IHNkcEZvcm1hdFxuICAgICAgfSxcbiAgICAgIF9zZXRCaXRyYXRlUGFyYW1ldGVyczoge1xuICAgICAgICB2YWx1ZTogb3B0aW9ucy5zZXRCaXRyYXRlUGFyYW1ldGVyc1xuICAgICAgfSxcbiAgICAgIF9zZXRDb2RlY1ByZWZlcmVuY2VzOiB7XG4gICAgICAgIHZhbHVlOiBvcHRpb25zLnNldENvZGVjUHJlZmVyZW5jZXNcbiAgICAgIH0sXG4gICAgICBfc2V0U2ltdWxjYXN0OiB7XG4gICAgICAgIHZhbHVlOiBvcHRpb25zLnNldFNpbXVsY2FzdFxuICAgICAgfSxcbiAgICAgIF9SVENJY2VDYW5kaWRhdGU6IHtcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMuUlRDSWNlQ2FuZGlkYXRlXG4gICAgICB9LFxuICAgICAgX1JUQ1BlZXJDb25uZWN0aW9uOiB7XG4gICAgICAgIHZhbHVlOiBvcHRpb25zLlJUQ1BlZXJDb25uZWN0aW9uXG4gICAgICB9LFxuICAgICAgX1JUQ1Nlc3Npb25EZXNjcmlwdGlvbjoge1xuICAgICAgICB2YWx1ZTogb3B0aW9ucy5SVENTZXNzaW9uRGVzY3JpcHRpb25cbiAgICAgIH0sXG4gICAgICBfc2hvdWxkT2ZmZXI6IHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIF9zaG91bGRSZXN0YXJ0SWNlOiB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH0sXG4gICAgICBfdHJhY2tJZHNUb0F0dHJpYnV0ZXM6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBNYXAoKVxuICAgICAgfSxcbiAgICAgIF90cmFja01hdGNoZXI6IHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9LFxuICAgICAgaWQ6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGlkXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBlbmNvZGluZ1BhcmFtZXRlcnMub24oJ2NoYW5nZWQnLCBvbmNlUGVyVGljayhfdGhpcy5vZmZlci5iaW5kKF90aGlzKSkpO1xuICAgIHBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2RhdGFjaGFubmVsJywgX3RoaXMuX2hhbmRsZURhdGFDaGFubmVsRXZlbnQuYmluZChfdGhpcykpO1xuICAgIHBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2ljZWNhbmRpZGF0ZScsIF90aGlzLl9oYW5kbGVJY2VDYW5kaWRhdGVFdmVudC5iaW5kKF90aGlzKSk7XG4gICAgcGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlJywgX3RoaXMuX2hhbmRsZUljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZS5iaW5kKF90aGlzKSk7XG4gICAgcGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignc2lnbmFsaW5nc3RhdGVjaGFuZ2UnLCBfdGhpcy5faGFuZGxlU2lnbmFsaW5nU3RhdGVDaGFuZ2UuYmluZChfdGhpcykpO1xuICAgIHBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYWNrJywgX3RoaXMuX2hhbmRsZVRyYWNrRXZlbnQuYmluZChfdGhpcykpO1xuXG4gICAgdmFyIHNlbGYgPSBfdGhpcztcbiAgICBfdGhpcy5vbignc3RhdGVDaGFuZ2VkJywgZnVuY3Rpb24gc3RhdGVDaGFuZ2VkKHN0YXRlKSB7XG4gICAgICBpZiAoc3RhdGUgIT09ICdjbG9zZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIoJ3N0YXRlQ2hhbmdlZCcsIHN0YXRlQ2hhbmdlZCk7XG4gICAgICBzZWxmLl9kYXRhQ2hhbm5lbHMuZm9yRWFjaChmdW5jdGlvbiAoZGF0YUNoYW5uZWwsIGRhdGFUcmFja1NlbmRlcikge1xuICAgICAgICBzZWxmLnJlbW92ZURhdGFUcmFja1NlbmRlcihkYXRhVHJhY2tTZW5kZXIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSB7QGxpbmsgUGVlckNvbm5lY3Rpb25WMn0ncyB1bmRlcmx5aW5nIFJUQ1BlZXJDb25uZWN0aW9uJ3NcbiAgICogUlRDSWNlQ29ubmVjdGlvblN0YXRlLlxuICAgKiBAcHJvcGVydHkge1JUQ0ljZUNvbm5lY3Rpb25TdGF0ZX1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUGVlckNvbm5lY3Rpb25WMiwgW3tcbiAgICBrZXk6ICdfYWRkSWNlQ2FuZGlkYXRlJyxcblxuXG4gICAgLyoqXG4gICAgICogQWRkIGFuIElDRSBjYW5kaWRhdGUgdG8gdGhlIHtAbGluayBQZWVyQ29ubmVjdGlvblYyfS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjYW5kaWRhdGVcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZEljZUNhbmRpZGF0ZShjYW5kaWRhdGUpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbmRpZGF0ZSA9IG5ldyBfdGhpczIuX1JUQ0ljZUNhbmRpZGF0ZShjYW5kaWRhdGUpO1xuICAgICAgICByZXR1cm4gX3RoaXMyLl9wZWVyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUoY2FuZGlkYXRlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBJQ0UgY2FuZGlkYXRlcyB0byB0aGUge0BsaW5rIFBlZXJDb25uZWN0aW9uVjJ9LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheTxvYmplY3Q+fSBjYW5kaWRhdGVzXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19hZGRJY2VDYW5kaWRhdGVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZEljZUNhbmRpZGF0ZXMoY2FuZGlkYXRlcykge1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGNhbmRpZGF0ZXMubWFwKHRoaXMuX2FkZEljZUNhbmRpZGF0ZSwgdGhpcykpLnRoZW4oZnVuY3Rpb24gKCkge30pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIHRoZSB7QGxpbmsgSWNlQm94fS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdH0gZGVzY3JpcHRpb25cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2NoZWNrSWNlQm94JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NoZWNrSWNlQm94KGRlc2NyaXB0aW9uKSB7XG4gICAgICB2YXIgdWZyYWcgPSBnZXRVZnJhZyhkZXNjcmlwdGlvbik7XG4gICAgICBpZiAoIXVmcmFnKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIH1cbiAgICAgIHZhciBjYW5kaWRhdGVzID0gdGhpcy5fcmVtb3RlQ2FuZGlkYXRlcy5zZXRVZnJhZyh1ZnJhZyk7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkSWNlQ2FuZGlkYXRlcyhjYW5kaWRhdGVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gYW5zd2VyIGFuZCBzZXQgaXQgb24gdGhlIHtAbGluayBQZWVyQ29ubmVjdGlvblYyfS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdH0gb2ZmZXJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2Fuc3dlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hbnN3ZXIob2ZmZXIpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghX3RoaXMzLl9uZWdvdGlhdGlvblJvbGUpIHtcbiAgICAgICAgICBfdGhpczMuX25lZ290aWF0aW9uUm9sZSA9ICdhbnN3ZXJlcic7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzMy5fc2V0UmVtb3RlRGVzY3JpcHRpb24ob2ZmZXIpO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBuZXcgTWVkaWFDbGllbnRSZW1vdGVEZXNjRmFpbGVkRXJyb3IoKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMzLl9wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGFuc3dlcikge1xuICAgICAgICBpZiAoIWlzRmlyZWZveCkge1xuICAgICAgICAgIGFuc3dlciA9IHdvcmthcm91bmRJc3N1ZTgzMjkoYW5zd2VyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXMzLl9zZXRMb2NhbERlc2NyaXB0aW9uKGFuc3dlcik7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMy5fY2hlY2tJY2VCb3gob2ZmZXIpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczMuX3F1ZXVlZERlc2NyaXB0aW9uICYmIF90aGlzMy5fdXBkYXRlRGVzY3JpcHRpb24oX3RoaXMzLl9xdWV1ZWREZXNjcmlwdGlvbik7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLl9xdWV1ZWREZXNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpczMuX21heWJlUmVvZmZlcihfdGhpczMuX3BlZXJDb25uZWN0aW9uLmxvY2FsRGVzY3JpcHRpb24pO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yIGluc3RhbmNlb2YgTWVkaWFDbGllbnRSZW1vdGVEZXNjRmFpbGVkRXJyb3IgPyBlcnJvciA6IG5ldyBNZWRpYUNsaWVudExvY2FsRGVzY0ZhaWxlZEVycm9yKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgdW5kZXJseWluZyBSVENQZWVyQ29ubmVjdGlvbi4gUmV0dXJucyBmYWxzZSBpZiB0aGVcbiAgICAgKiBSVENQZWVyQ29ubmVjdGlvbiB3YXMgYWxyZWFkeSBjbG9zZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2Nsb3NlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2Nsb3NlKCkge1xuICAgICAgaWYgKHRoaXMuX3BlZXJDb25uZWN0aW9uLnNpZ25hbGluZ1N0YXRlICE9PSAnY2xvc2VkJykge1xuICAgICAgICB0aGlzLl9wZWVyQ29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgYSBcImRhdGFjaGFubmVsXCIgZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1JUQ0RhdGFDaGFubmVsRXZlbnR9IGV2ZW50XG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19oYW5kbGVEYXRhQ2hhbm5lbEV2ZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZURhdGFDaGFubmVsRXZlbnQoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgZGF0YUNoYW5uZWwgPSBldmVudC5jaGFubmVsO1xuICAgICAgdmFyIGRhdGFUcmFja1JlY2VpdmVyID0gbmV3IERhdGFUcmFja1JlY2VpdmVyKGRhdGFDaGFubmVsKTtcbiAgICAgIHRoaXMuX2RhdGFUcmFja1JlY2VpdmVycy5hZGQoZGF0YVRyYWNrUmVjZWl2ZXIpO1xuXG4gICAgICBkYXRhQ2hhbm5lbC5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0Ll9kYXRhVHJhY2tSZWNlaXZlcnMuZGVsZXRlKGRhdGFUcmFja1JlY2VpdmVyKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmVtaXQoJ3RyYWNrQWRkZWQnLCBkYXRhVHJhY2tSZWNlaXZlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIGEgZ2xhcmUgc2NlbmFyaW8gb24gdGhlIHtAbGluayBQZWVyQ29ubmVjdGlvblYyfS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdH0gb2ZmZXJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2hhbmRsZUdsYXJlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUdsYXJlKG9mZmVyKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgdGhpcy5fbG9nLmRlYnVnKCdHbGFyZSBkZXRlY3RlZDsgcm9sbGluZyBiYWNrJyk7XG4gICAgICBpZiAodGhpcy5faXNSZXN0YXJ0aW5nSWNlKSB7XG4gICAgICAgIHRoaXMuX2xvZy5kZWJ1ZygnQW4gSUNFIHJlc3RhcnQgd2FzIGluIHByb2dyZXNzOyB3ZVxcJ2xsIG5lZWQgdG8gcmVzdGFydCBJQ0UgYWdhaW4gYWZ0ZXIgcm9sbGluZyBiYWNrJyk7XG4gICAgICAgIHRoaXMuX2lzUmVzdGFydGluZ0ljZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zaG91bGRSZXN0YXJ0SWNlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzNS5fc2V0TG9jYWxEZXNjcmlwdGlvbih7IHR5cGU6ICdyb2xsYmFjaycgfSk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM1Ll9uZWVkc0Fuc3dlciA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM1Ll9hbnN3ZXIob2ZmZXIpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGlkUmVvZmZlcikge1xuICAgICAgICByZXR1cm4gZGlkUmVvZmZlciA/IFByb21pc2UucmVzb2x2ZSgpIDogX3RoaXM1Ll9vZmZlcigpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIGFuIElDRSBjYW5kaWRhdGUgZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfaGFuZGxlSWNlQ2FuZGlkYXRlRXZlbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlSWNlQ2FuZGlkYXRlRXZlbnQoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5jYW5kaWRhdGUpIHtcbiAgICAgICAgdGhpcy5fbG9jYWxDYW5kaWRhdGVzLnB1c2goZXZlbnQuY2FuZGlkYXRlKTtcbiAgICAgIH1cbiAgICAgIHZhciBwZWVyQ29ubmVjdGlvblN0YXRlID0ge1xuICAgICAgICBpY2U6IHtcbiAgICAgICAgICBjYW5kaWRhdGVzOiB0aGlzLl9sb2NhbENhbmRpZGF0ZXMuc2xpY2UoKSxcbiAgICAgICAgICByZXZpc2lvbjogdGhpcy5fbG9jYWxDYW5kaWRhdGVzUmV2aXNpb24rKyxcbiAgICAgICAgICB1ZnJhZzogdGhpcy5fbG9jYWxVZnJhZ1xuICAgICAgICB9LFxuICAgICAgICBpZDogdGhpcy5pZFxuICAgICAgfTtcbiAgICAgIGlmICghZXZlbnQuY2FuZGlkYXRlKSB7XG4gICAgICAgIHBlZXJDb25uZWN0aW9uU3RhdGUuaWNlLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZW1pdCgnY2FuZGlkYXRlcycsIHBlZXJDb25uZWN0aW9uU3RhdGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhbiBJQ0UgY29ubmVjdGlvbiBzdGF0ZSBjaGFuZ2UgZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2hhbmRsZUljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVJY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2UoKSB7XG4gICAgICB2YXIgaWNlQ29ubmVjdGlvblN0YXRlID0gdGhpcy5fcGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlO1xuXG5cbiAgICAgIHRoaXMuX2xvZy5kZWJ1ZygnSUNFIGNvbm5lY3Rpb24gc3RhdGUgaXMgXCInICsgaWNlQ29ubmVjdGlvblN0YXRlICsgJ1wiJyk7XG5cbiAgICAgIC8vIENhc2UgMTogVHJhbnNpdGlvbiB0byBcImZhaWxlZFwiLlxuICAgICAgaWYgKHRoaXMuX2xhc3RJY2VDb25uZWN0aW9uU3RhdGUgIT09ICdmYWlsZWQnICYmIGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2ZhaWxlZCcgJiYgIXRoaXMuX3Nob3VsZFJlc3RhcnRJY2UgJiYgIXRoaXMuX2lzUmVzdGFydGluZ0ljZSkge1xuICAgICAgICB0aGlzLl9sb2cud2FybignSUNFIGZhaWxlZDsgYXR0ZW1wdGluZyB0byByZXN0YXJ0IElDRScpO1xuICAgICAgICB0aGlzLl9zaG91bGRSZXN0YXJ0SWNlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vZmZlcigpO1xuICAgICAgfVxuXG4gICAgICAvLyBDYXNlIDI6IFRyYW5zaXRpb24gZnJvbSBcImZhaWxlZFwiLlxuICAgICAgZWxzZSBpZiAodGhpcy5fbGFzdEljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2ZhaWxlZCcgJiYgKGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2Nvbm5lY3RlZCcgfHwgaWNlQ29ubmVjdGlvblN0YXRlID09PSAnY29tcGxldGVkJykpIHtcbiAgICAgICAgICB0aGlzLl9sb2cuaW5mbygnSUNFIHJlY29ubmVjdGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgdGhpcy5fbGFzdEljZUNvbm5lY3Rpb25TdGF0ZSA9IGljZUNvbm5lY3Rpb25TdGF0ZTtcbiAgICAgIHRoaXMuZW1pdCgnaWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlZCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIHNpZ25hbGluZyBzdGF0ZSBjaGFuZ2UgZXZlbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2hhbmRsZVNpZ25hbGluZ1N0YXRlQ2hhbmdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZVNpZ25hbGluZ1N0YXRlQ2hhbmdlKCkge1xuICAgICAgaWYgKHRoaXMuX3BlZXJDb25uZWN0aW9uLnNpZ25hbGluZ1N0YXRlID09PSAnY2xvc2VkJyAmJiB0aGlzLnN0YXRlICE9PSAnY2xvc2VkJykge1xuICAgICAgICB0aGlzLnByZWVtcHQoJ2Nsb3NlZCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBhIHRyYWNrIGV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2hhbmRsZVRyYWNrRXZlbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlVHJhY2tFdmVudChldmVudCkge1xuICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgIHZhciBzZHAgPSB0aGlzLl9wZWVyQ29ubmVjdGlvbi5yZW1vdGVEZXNjcmlwdGlvbiA/IHRoaXMuX3BlZXJDb25uZWN0aW9uLnJlbW90ZURlc2NyaXB0aW9uLnNkcCA6IG51bGw7XG5cbiAgICAgIGlmICghdGhpcy5fdHJhY2tNYXRjaGVyKSB7XG4gICAgICAgIHRoaXMuX3RyYWNrTWF0Y2hlciA9IGV2ZW50LnRyYW5zY2VpdmVyICYmIGV2ZW50LnRyYW5zY2VpdmVyLm1pZCA/IG5ldyBNSURUcmFja01hdGNoZXIoKVxuICAgICAgICAvLyBOT1RFKG1yb2JlcnRzKTogVW50aWwgQ2hyb21lIHNoaXBzIFJUQ1J0cFRyYW5zY2VpdmVycyB3aXRoIE1JRFxuICAgICAgICAvLyBzdXBwb3J0LCB3ZSBoYXZlIHRvIHVzZSB0aGUgc2FtZSBoYWNreSBzb2x1dGlvbiBhcyBTYWZhcmkuIFJldmlzaXRcbiAgICAgICAgLy8gdGhpcyB3aGVuIFJUQ1J0cFRyYW5zY2VpdmVycyBhbmQgTUlEcyBsYW5kLiBXZSBzaG91bGQgYmUgYWJsZSB0byB1c2VcbiAgICAgICAgLy8gdGhlIHNhbWUgdGVjaG5pcXVlIGFzIEZpcmVmb3guXG4gICAgICAgIDogaXNTYWZhcmkgfHwgdGhpcy5faXNVbmlmaWVkUGxhbiA/IG5ldyBPcmRlcmVkVHJhY2tNYXRjaGVyKCkgOiBuZXcgSWRlbnRpdHlUcmFja01hdGNoZXIoKTtcbiAgICAgIH1cblxuICAgICAgLy8gTk9URShtbWFsYXZhbGxpKTogRm9yIHVuaWZpZWQgcGxhbiBzZHBzLCBjYWxsaW5nIGFkZFRyYW5zY2VpdmVyIHdpdGhcbiAgICAgIC8vIHRoZSBzYW1lIE1lZGlhU3RyZWFtVHJhY2sgYSBzZWNvbmQgdGltZSB3aWxsIGdlbmVyYXRlIHNkcHMgd2hlcmUgdGhlXG4gICAgICAvLyBNZWRpYVN0cmVhbVRyYWNrIElEIGRvZXMgbm90IG1hdGNoIHRoZSBNU0lEIGluIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICAvLyBtPSBzZWN0aW9uLiBEdWUgdG8gdGhpcywgTUlEVHJhY2tNYXRjaGVyI3VwZGF0ZSB3aWxsIG5vdCB1cGRhdGUgdGhlXG4gICAgICAvLyBtaWQgY29ycmVzcG9uZGluZyB0byB0aGUgTWVkaWFTdHJlYW1UcmFjayBJRC4gVGhlcmVmb3JlLCBcInRyYWNrU3Vic2NyaWJlZFwiXG4gICAgICAvLyB3aWxsIG5vdCBiZSBmaXJlZCBmb3IgdGhlIGNvcnJlc3BvbmRpbmcgUmVtb3RlVHJhY2suXG4gICAgICAvL1xuICAgICAgLy8gQ2hyb21lIGJ1ZzogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9ODk0MjMxXG4gICAgICAvLyBGaXJlZm94IGJ1ZzogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTQ5ODAzNlxuICAgICAgLy9cbiAgICAgIC8vIFRPRE8obW1hbGF2YWxsaSk6IFJldmlzaXQgdGhpcyBlaXRoZXIgd2hlbiB0aGUgYnVncyBhcmUgZml4ZWQgb3Igd2hlbiB3ZVxuICAgICAgLy8gZ2V0IGNsYXJpZmljYXRpb24gYWJvdXQgc3BlYy1jb21wbGlhbnQgYmVoYXZpb3Igb2YgYWRkVHJhbnNjZWl2ZXIuXG4gICAgICAvL1xuICAgICAgdGhpcy5fdHJhY2tNYXRjaGVyLnVwZGF0ZShzZHApO1xuXG4gICAgICB2YXIgbWVkaWFTdHJlYW1UcmFjayA9IGV2ZW50LnRyYWNrO1xuICAgICAgdmFyIHNpZ25hbGVkVHJhY2tJZCA9IHRoaXMuX3RyYWNrTWF0Y2hlci5tYXRjaChldmVudCkgfHwgbWVkaWFTdHJlYW1UcmFjay5pZDtcbiAgICAgIHZhciBtZWRpYVRyYWNrUmVjZWl2ZXIgPSBuZXcgTWVkaWFUcmFja1JlY2VpdmVyKHNpZ25hbGVkVHJhY2tJZCwgbWVkaWFTdHJlYW1UcmFjayk7XG4gICAgICB0aGlzLl9tZWRpYVRyYWNrUmVjZWl2ZXJzLmFkZChtZWRpYVRyYWNrUmVjZWl2ZXIpO1xuXG4gICAgICBtZWRpYVN0cmVhbVRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczYuX21lZGlhVHJhY2tSZWNlaXZlcnMuZGVsZXRlKG1lZGlhVHJhY2tSZWNlaXZlcik7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5lbWl0KCd0cmFja0FkZGVkJywgbWVkaWFUcmFja1JlY2VpdmVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IHJlLW9mZmVyLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHs/UlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdH0gbG9jYWxEZXNjcmlwdGlvblxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfbWF5YmVSZW9mZmVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX21heWJlUmVvZmZlcihsb2NhbERlc2NyaXB0aW9uKSB7XG4gICAgICB2YXIgc2hvdWxkUmVvZmZlciA9IHRoaXMuX3Nob3VsZE9mZmVyO1xuXG4gICAgICBpZiAobG9jYWxEZXNjcmlwdGlvbiAmJiBsb2NhbERlc2NyaXB0aW9uLnNkcCkge1xuICAgICAgICAvLyBOT1RFKG1tYWxhdmFsbGkpOiBGb3IgXCJ1bmlmaWVkLXBsYW5cIiBzZHBzLCBpZiB0aGUgcmVtb3RlIFJUQ1BlZXJDb25uZWN0aW9uIHNlbmRzXG4gICAgICAgIC8vIGFuIG9mZmVyIHdpdGggZmV3ZXIgYXVkaW8gbT0gbGluZXMgdGhhbiB0aGUgbnVtYmVyIG9mIGF1ZGlvIFJUQ1JUUFNlbmRlcnNcbiAgICAgICAgLy8gaW4gdGhlIGxvY2FsIFJUQ1BlZXJDb25uZWN0aW9uLCB0aGVuIHRoZSBsb2NhbCBSVENQZWVyQ29ubmVjdGlvbiBjcmVhdGVzXG4gICAgICAgIC8vIGFuIGFuc3dlciB3aXRoIHRoZSBzYW1lIG51bWJlciBvZiBhdWRpbyBtPSBsaW5lcyBhcyBpbiB0aGUgb2ZmZXIuIFRoaXNcbiAgICAgICAgLy8gYmVoYXZpb3Igd2FzIHRyaWdnZXJlZCBieSB0aGUgcmVtb3ZhbCBvZiAnb2ZmZXJUb1JlY2VpdmVBdWRpbycgZnJvbSB0aGVcbiAgICAgICAgLy8gZGVmYXVsdCBSVENPZmZlck9wdGlvbnMuIElkZWFsbHksIHRoZSBsb2NhbCBSVENQZWVyQ29ubmVjdGlvbiBzaG91bGQgY3JlYXRlXG4gICAgICAgIC8vIGFuIGFuc3dlciB3aXRoIHRoZSBzYW1lIG51bWJlciBvZiBhdWRpbyBtPSBsaW5lcyBhcyB0aGUgbnVtYmVyIG9mXG4gICAgICAgIC8vIFJUQ1JUUFNlbmRlcnMuIEluIG9yZGVyIHRvIGFjaGlldmUgdGhpcyx0aGUgbG9jYWwgUlRDUGVlckNvbm5lY3Rpb25cbiAgICAgICAgLy8gaW5pdGlhdGVzIHJlbmVnb3RpYXRpb24uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdlIGNhbiByZWR1Y2UgdGhlIG51bWJlciBvZiBjYXNlcyB3aGVyZSByZW5lZ290aWF0aW9uIGlzIG5lZWRlZCBieVxuICAgICAgICAvLyByZS1pbnRyb2R1Y2luZyAnb2ZmZXJUb1JlY2VpdmVBdWRpbycgdG8gdGhlIGRlZmF1bHQgUlRDT2ZmZXJPcHRpb25zIHdpdGggYVxuICAgICAgICAvLyB2YWx1ZSA+IDEuXG4gICAgICAgIGlmICh0aGlzLl9pc1VuaWZpZWRQbGFuICYmIGxvY2FsRGVzY3JpcHRpb24udHlwZSA9PT0gJ2Fuc3dlcicpIHtcbiAgICAgICAgICB2YXIgc2VuZGVycyA9IHRoaXMuX3BlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maWx0ZXIoZnVuY3Rpb24gKHNlbmRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHNlbmRlci50cmFjaztcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzaG91bGRSZW9mZmVyID0gWydhdWRpbycsICd2aWRlbyddLnJlZHVjZShmdW5jdGlvbiAoc2hvdWxkT2ZmZXIsIGtpbmQpIHtcbiAgICAgICAgICAgIHZhciBtZWRpYVNlY3Rpb25zID0gZ2V0TWVkaWFTZWN0aW9ucyhsb2NhbERlc2NyaXB0aW9uLnNkcCwga2luZCwgJyhzZW5kcmVjdnxzZW5kb25seSknKTtcbiAgICAgICAgICAgIHZhciBzZW5kZXJzT2ZLaW5kID0gc2VuZGVycy5maWx0ZXIoaXNTZW5kZXJPZktpbmQuYmluZChudWxsLCBraW5kKSk7XG4gICAgICAgICAgICByZXR1cm4gc2hvdWxkT2ZmZXIgfHwgbWVkaWFTZWN0aW9ucy5sZW5ndGggPCBzZW5kZXJzT2ZLaW5kLmxlbmd0aDtcbiAgICAgICAgICB9LCBzaG91bGRSZW9mZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5PVEUobXJvYmVydHMpOiBXZSBhbHNvIG5lZWQgdG8gcmUtb2ZmZXIgaWYgd2UgaGF2ZSBhIERhdGFUcmFjayB0byBzaGFyZVxuICAgICAgICAvLyBidXQgbm8gbT0gYXBwbGljYXRpb24gc2VjdGlvbi5cbiAgICAgICAgdmFyIGhhc0RhdGFUcmFjayA9IHRoaXMuX2RhdGFDaGFubmVscy5zaXplID4gMDtcbiAgICAgICAgdmFyIGhhc0FwcGxpY2F0aW9uTWVkaWFTZWN0aW9uID0gZ2V0TWVkaWFTZWN0aW9ucyhsb2NhbERlc2NyaXB0aW9uLnNkcCwgJ2FwcGxpY2F0aW9uJykubGVuZ3RoID4gMDtcbiAgICAgICAgdmFyIG5lZWRzQXBwbGljYXRpb25NZWRpYVNlY3Rpb24gPSBoYXNEYXRhVHJhY2sgJiYgIWhhc0FwcGxpY2F0aW9uTWVkaWFTZWN0aW9uO1xuICAgICAgICBzaG91bGRSZW9mZmVyID0gc2hvdWxkUmVvZmZlciB8fCBuZWVkc0FwcGxpY2F0aW9uTWVkaWFTZWN0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvbWlzZSA9IHNob3VsZFJlb2ZmZXIgPyB0aGlzLl9vZmZlcigpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHNob3VsZFJlb2ZmZXI7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gb2ZmZXIgYW5kIHNldCBpdCBvbiB0aGUge0BsaW5rIFBlZXJDb25uZWN0aW9uVjJ9LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19vZmZlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vZmZlcigpIHtcbiAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgICB2YXIgb2ZmZXJPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fb2ZmZXJPcHRpb25zKTtcbiAgICAgIHRoaXMuX25lZWRzQW5zd2VyID0gdHJ1ZTtcbiAgICAgIGlmICh0aGlzLl9zaG91bGRSZXN0YXJ0SWNlKSB7XG4gICAgICAgIHRoaXMuX3Nob3VsZFJlc3RhcnRJY2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faXNSZXN0YXJ0aW5nSWNlID0gdHJ1ZTtcbiAgICAgICAgb2ZmZXJPcHRpb25zLmljZVJlc3RhcnQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXM3Ll9wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcihvZmZlck9wdGlvbnMpO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBuZXcgTWVkaWFDbGllbnRMb2NhbERlc2NGYWlsZWRFcnJvcigpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAob2ZmZXIpIHtcbiAgICAgICAgaWYgKCFpc0ZpcmVmb3gpIHtcbiAgICAgICAgICBvZmZlciA9IHdvcmthcm91bmRJc3N1ZTgzMjkob2ZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHVwZGF0ZWRTZHAgPSBfdGhpczcuX3NldENvZGVjUHJlZmVyZW5jZXMob2ZmZXIuc2RwLCBfdGhpczcuX3ByZWZlcnJlZEF1ZGlvQ29kZWNzLCBfdGhpczcuX3ByZWZlcnJlZFZpZGVvQ29kZWNzKTtcblxuICAgICAgICBfdGhpczcuX3Nob3VsZE9mZmVyID0gZmFsc2U7XG4gICAgICAgIGlmICghX3RoaXM3Ll9uZWdvdGlhdGlvblJvbGUpIHtcbiAgICAgICAgICBfdGhpczcuX25lZ290aWF0aW9uUm9sZSA9ICdvZmZlcmVyJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM3Ll9zZXRMb2NhbERlc2NyaXB0aW9uKHtcbiAgICAgICAgICB0eXBlOiAnb2ZmZXInLFxuICAgICAgICAgIHNkcDogdXBkYXRlZFNkcFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBhIGxvY2FsIGRlc2NyaXB0aW9uIG9uIHRoZSB7QGxpbmsgUGVlckNvbm5lY3Rpb25WMn0uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1JUQ1Nlc3Npb25EZXNjcmlwdGlvbnxSVENTZXNzaW9uRGVzY3JpcHRpb25Jbml0fSBkZXNjcmlwdGlvblxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfc2V0TG9jYWxEZXNjcmlwdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRMb2NhbERlc2NyaXB0aW9uKGRlc2NyaXB0aW9uKSB7XG4gICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgdmFyIHZwOFNpbXVsY2FzdFJlcXVlc3RlZCA9IHRoaXMuX3ByZWZlcnJlZFZpZGVvQ29kZWNzLnNvbWUoZnVuY3Rpb24gKGNvZGVjU2V0dGluZ3MpIHtcbiAgICAgICAgcmV0dXJuIGNvZGVjU2V0dGluZ3MuY29kZWMudG9Mb3dlckNhc2UoKSA9PT0gJ3ZwOCcgJiYgY29kZWNTZXR0aW5ncy5zaW11bGNhc3Q7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZGVzY3JpcHRpb24uc2RwKSB7XG4gICAgICAgICAgLy8gTk9URShtbWFsYXZhbGxpKTogV2UgZG8gbm90IGRpcmVjdGx5IG1vZGlmeSBcImRlc2NyaXB0aW9uLnNkcFwiIGhlcmUgYXNcbiAgICAgICAgICAvLyBcImRlc2NyaXB0aW9uXCIgbWlnaHQgYmUgYW4gUlRDU2Vzc2lvbkRlc2NyaXB0aW9uLCBpbiB3aGljaCBjYXNlIGl0c1xuICAgICAgICAgIC8vIHByb3BlcnRpZXMgYXJlIGltbXV0YWJsZS5cbiAgICAgICAgICBkZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgICAgIHR5cGU6IGRlc2NyaXB0aW9uLnR5cGUsXG4gICAgICAgICAgICBzZHA6IGlzQ2hyb21lICYmIHZwOFNpbXVsY2FzdFJlcXVlc3RlZCA/IF90aGlzOC5fc2V0U2ltdWxjYXN0KGRlc2NyaXB0aW9uLnNkcCwgX3RoaXM4Ll9zZHBGb3JtYXQsIF90aGlzOC5fdHJhY2tJZHNUb0F0dHJpYnV0ZXMpIDogZGVzY3JpcHRpb24uc2RwXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBkZXNjcmlwdGlvbiA9IG5ldyBfdGhpczguX1JUQ1Nlc3Npb25EZXNjcmlwdGlvbihkZXNjcmlwdGlvbik7XG4gICAgICAgIHJldHVybiBfdGhpczguX3BlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oZGVzY3JpcHRpb24pO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIF90aGlzOC5fbG9nLndhcm4oJ0NhbGxpbmcgc2V0TG9jYWxEZXNjcmlwdGlvbiB3aXRoIGFuIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiBvZiB0eXBlIFwiJyArIGRlc2NyaXB0aW9uLnR5cGUgKyAnXCIgZmFpbGVkIHdpdGggdGhlIGVycm9yIFwiJyArIGVycm9yLm1lc3NhZ2UgKyAnXCIuJyk7XG4gICAgICAgIGlmIChkZXNjcmlwdGlvbi5zZHApIHtcbiAgICAgICAgICBfdGhpczguX2xvZy53YXJuKCdUaGUgU0RQIHdhcyAnICsgZGVzY3JpcHRpb24uc2RwKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgTWVkaWFDbGllbnRMb2NhbERlc2NGYWlsZWRFcnJvcigpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChkZXNjcmlwdGlvbi50eXBlICE9PSAncm9sbGJhY2snKSB7XG4gICAgICAgICAgX3RoaXM4Ll9sb2NhbERlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgICAgX3RoaXM4Ll9sb2NhbENhbmRpZGF0ZXMgPSBbXTtcbiAgICAgICAgICBpZiAoZGVzY3JpcHRpb24udHlwZSA9PT0gJ29mZmVyJykge1xuICAgICAgICAgICAgX3RoaXM4Ll9kZXNjcmlwdGlvblJldmlzaW9uKys7XG4gICAgICAgICAgfSBlbHNlIGlmIChkZXNjcmlwdGlvbi50eXBlID09PSAnYW5zd2VyJykge1xuICAgICAgICAgICAgX3RoaXM4Ll9sYXN0U3RhYmxlRGVzY3JpcHRpb25SZXZpc2lvbiA9IF90aGlzOC5fZGVzY3JpcHRpb25SZXZpc2lvbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgX3RoaXM4Ll9sb2NhbFVmcmFnID0gZ2V0VWZyYWcoZGVzY3JpcHRpb24pO1xuICAgICAgICAgIF90aGlzOC5lbWl0KCdkZXNjcmlwdGlvbicsIF90aGlzOC5nZXRTdGF0ZSgpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGEgcmVtb3RlIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiBvbiB0aGUge0BsaW5rIFBlZXJDb25uZWN0aW9uVjJ9LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSVENTZXNzaW9uRGVzY3JpcHRpb25Jbml0fSBkZXNjcmlwdGlvblxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfc2V0UmVtb3RlRGVzY3JpcHRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0UmVtb3RlRGVzY3JpcHRpb24oZGVzY3JpcHRpb24pIHtcbiAgICAgIHZhciBfdGhpczkgPSB0aGlzO1xuXG4gICAgICBpZiAoZGVzY3JpcHRpb24uc2RwKSB7XG4gICAgICAgIGRlc2NyaXB0aW9uLnNkcCA9IHRoaXMuX3NldEJpdHJhdGVQYXJhbWV0ZXJzKGRlc2NyaXB0aW9uLnNkcCwgaXNGaXJlZm94ID8gJ1RJQVMnIDogJ0FTJywgdGhpcy5fZW5jb2RpbmdQYXJhbWV0ZXJzLm1heEF1ZGlvQml0cmF0ZSwgdGhpcy5fZW5jb2RpbmdQYXJhbWV0ZXJzLm1heFZpZGVvQml0cmF0ZSk7XG4gICAgICAgIGRlc2NyaXB0aW9uLnNkcCA9IHRoaXMuX3NldENvZGVjUHJlZmVyZW5jZXMoZGVzY3JpcHRpb24uc2RwLCB0aGlzLl9wcmVmZXJyZWRBdWRpb0NvZGVjcywgdGhpcy5fcHJlZmVycmVkVmlkZW9Db2RlY3MpO1xuICAgICAgICAvLyBOT1RFKG1yb2JlcnRzKTogRG8gdGhpcyB0byByZWR1Y2Ugb3VyIE1lZGlhU3RyZWFtIGNvdW50IGluIEZpcmVmb3guIEJ5XG4gICAgICAgIC8vIG1hcHBpbmcgTWVkaWFTdHJlYW0gSURzIGluIHRoZSBTRFAgdG8gXCItXCIsIHdlIGVuc3VyZSB0aGUgXCJ0cmFja1wiIGV2ZW50XG4gICAgICAgIC8vIGRvZXNuJ3QgaW5jbHVkZSBhbnkgbmV3IE1lZGlhU3RyZWFtcyBpbiBGaXJlZm94LiBJdHMgYHN0cmVhbXNgIG1lbWJlclxuICAgICAgICAvLyB3aWxsIGFsd2F5cyBiZSB0aGUgZW1wdHkgQXJyYXkuXG4gICAgICAgIGlmIChpc0ZpcmVmb3gpIHtcbiAgICAgICAgICBkZXNjcmlwdGlvbi5zZHAgPSBmaWx0ZXJPdXRNZWRpYVN0cmVhbUlkcyhkZXNjcmlwdGlvbi5zZHApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkZXNjcmlwdGlvbiA9IG5ldyB0aGlzLl9SVENTZXNzaW9uRGVzY3JpcHRpb24oZGVzY3JpcHRpb24pO1xuICAgICAgcmV0dXJuIHRoaXMuX3BlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKGRlc2NyaXB0aW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGRlc2NyaXB0aW9uLnR5cGUgPT09ICdhbnN3ZXInICYmIF90aGlzOS5faXNSZXN0YXJ0aW5nSWNlKSB7XG4gICAgICAgICAgX3RoaXM5Ll9sb2cuZGVidWcoJ0FuIElDRSByZXN0YXJ0IHdhcyBpbi1wcm9ncmVzcyBhbmQgaXMgbm93IGNvbXBsZXRlZCcpO1xuICAgICAgICAgIF90aGlzOS5faXNSZXN0YXJ0aW5nSWNlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF90aGlzOS5faXNVbmlmaWVkUGxhbikge1xuICAgICAgICAgIF90aGlzOS5fcGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZm9yRWFjaChmdW5jdGlvbiAodHJhbnNjZWl2ZXIpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRTdG9wVHJhbnNjZWl2ZXIoZGVzY3JpcHRpb24uc2RwLCB0cmFuc2NlaXZlcikpIHtcbiAgICAgICAgICAgICAgdHJhbnNjZWl2ZXIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgX3RoaXM5Ll9sb2cud2FybignQ2FsbGluZyBzZXRSZW1vdGVEZXNjcmlwdGlvbiB3aXRoIGFuIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiBvZiB0eXBlIFwiJyArIGRlc2NyaXB0aW9uLnR5cGUgKyAnXCIgZmFpbGVkIHdpdGggdGhlIGVycm9yIFwiJyArIGVycm9yLm1lc3NhZ2UgKyAnXCIuJyk7XG4gICAgICAgIGlmIChkZXNjcmlwdGlvbi5zZHApIHtcbiAgICAgICAgICBfdGhpczkuX2xvZy53YXJuKCdUaGUgU0RQIHdhcyAnICsgZGVzY3JpcHRpb24uc2RwKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUge0BsaW5rIFBlZXJDb25uZWN0aW9uVjJ9J3MgZGVzY3JpcHRpb24uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1JUQ1Nlc3Npb25EZXNjcmlwdGlvbkluaXR9IGRlc2NyaXB0aW9uXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ191cGRhdGVEZXNjcmlwdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVEZXNjcmlwdGlvbihkZXNjcmlwdGlvbikge1xuICAgICAgdmFyIF90aGlzMTAgPSB0aGlzO1xuXG4gICAgICBzd2l0Y2ggKGRlc2NyaXB0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnYW5zd2VyJzpcbiAgICAgICAgY2FzZSAncHJhbnN3ZXInOlxuICAgICAgICAgIGlmIChkZXNjcmlwdGlvbi5yZXZpc2lvbiAhPT0gdGhpcy5fZGVzY3JpcHRpb25SZXZpc2lvbiB8fCB0aGlzLl9wZWVyQ29ubmVjdGlvbi5zaWduYWxpbmdTdGF0ZSAhPT0gJ2hhdmUtbG9jYWwtb2ZmZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uUmV2aXNpb24gPSBkZXNjcmlwdGlvbi5yZXZpc2lvbjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2xvc2UnOlxuICAgICAgICAgIHJldHVybiB0aGlzLl9jbG9zZSgpO1xuICAgICAgICBjYXNlICdjcmVhdGUtb2ZmZXInOlxuICAgICAgICAgIGlmIChkZXNjcmlwdGlvbi5yZXZpc2lvbiA8PSB0aGlzLl9sYXN0U3RhYmxlRGVzY3JpcHRpb25SZXZpc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fbmVlZHNBbnN3ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlZERlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uUmV2aXNpb24gPSBkZXNjcmlwdGlvbi5yZXZpc2lvbjtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fb2ZmZXIoKTtcbiAgICAgICAgY2FzZSAnb2ZmZXInOlxuICAgICAgICAgIGlmIChkZXNjcmlwdGlvbi5yZXZpc2lvbiA8PSB0aGlzLl9sYXN0U3RhYmxlRGVzY3JpcHRpb25SZXZpc2lvbiB8fCB0aGlzLl9wZWVyQ29ubmVjdGlvbi5zaWduYWxpbmdTdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuX3BlZXJDb25uZWN0aW9uLnNpZ25hbGluZ1N0YXRlID09PSAnaGF2ZS1sb2NhbC1vZmZlcicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9uZWVkc0Fuc3dlciAmJiB0aGlzLl9kZXNjcmlwdGlvblJldmlzaW9uID09PSAxKSB7XG4gICAgICAgICAgICAgIHRoaXMuX3F1ZXVlZERlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uUmV2aXNpb24gPSBkZXNjcmlwdGlvbi5yZXZpc2lvbjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVHbGFyZShkZXNjcmlwdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uUmV2aXNpb24gPSBkZXNjcmlwdGlvbi5yZXZpc2lvbjtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fYW5zd2VyKGRlc2NyaXB0aW9uKS50aGVuKGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gRG8gbm90aGluZy5cbiAgICAgIH1cblxuICAgICAgLy8gSGFuZGxlIGFuc3dlciBvciBwcmFuc3dlci5cbiAgICAgIHZhciByZXZpc2lvbiA9IGRlc2NyaXB0aW9uLnJldmlzaW9uO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMxMC5fc2V0UmVtb3RlRGVzY3JpcHRpb24oZGVzY3JpcHRpb24pO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBuZXcgTWVkaWFDbGllbnRSZW1vdGVEZXNjRmFpbGVkRXJyb3IoKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczEwLl9sYXN0U3RhYmxlRGVzY3JpcHRpb25SZXZpc2lvbiA9IHJldmlzaW9uO1xuICAgICAgICBfdGhpczEwLl9uZWVkc0Fuc3dlciA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXMxMC5fY2hlY2tJY2VCb3goZGVzY3JpcHRpb24pO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczEwLl9xdWV1ZWREZXNjcmlwdGlvbiAmJiBfdGhpczEwLl91cGRhdGVEZXNjcmlwdGlvbihfdGhpczEwLl9xdWV1ZWREZXNjcmlwdGlvbik7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMxMC5fcXVldWVkRGVzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXMxMC5fbWF5YmVSZW9mZmVyKF90aGlzMTAuX3BlZXJDb25uZWN0aW9uLmxvY2FsRGVzY3JpcHRpb24pLnRoZW4oZnVuY3Rpb24gKCkge30pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSB7QGxpbmsgUGVlckNvbm5lY3Rpb25WMn0ncyBJQ0UgY2FuZGlkYXRlcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBpY2VTdGF0ZVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfdXBkYXRlSWNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZUljZShpY2VTdGF0ZSkge1xuICAgICAgdmFyIGNhbmRpZGF0ZXMgPSB0aGlzLl9yZW1vdGVDYW5kaWRhdGVzLnVwZGF0ZShpY2VTdGF0ZSk7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkSWNlQ2FuZGlkYXRlcyhjYW5kaWRhdGVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSB7QGxpbmsgRGF0YVRyYWNrU2VuZGVyfSB0byB0aGUge0BsaW5rIFBlZXJDb25uZWN0aW9uVjJ9LlxuICAgICAqIEBwYXJhbSB7RGF0YVRyYWNrU2VuZGVyfSBkYXRhVHJhY2tTZW5kZXJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnYWRkRGF0YVRyYWNrU2VuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRGF0YVRyYWNrU2VuZGVyKGRhdGFUcmFja1NlbmRlcikge1xuICAgICAgaWYgKHRoaXMuX2RhdGFDaGFubmVscy5oYXMoZGF0YVRyYWNrU2VuZGVyKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgZGF0YUNoYW5uZWxEaWN0ID0ge1xuICAgICAgICAgIG9yZGVyZWQ6IGRhdGFUcmFja1NlbmRlci5vcmRlcmVkXG4gICAgICAgIH07XG4gICAgICAgIGlmIChkYXRhVHJhY2tTZW5kZXIubWF4UGFja2V0TGlmZVRpbWUgIT09IG51bGwpIHtcbiAgICAgICAgICBkYXRhQ2hhbm5lbERpY3QubWF4UGFja2V0TGlmZVRpbWUgPSBkYXRhVHJhY2tTZW5kZXIubWF4UGFja2V0TGlmZVRpbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFUcmFja1NlbmRlci5tYXhSZXRyYW5zbWl0cyAhPT0gbnVsbCkge1xuICAgICAgICAgIGRhdGFDaGFubmVsRGljdC5tYXhSZXRyYW5zbWl0cyA9IGRhdGFUcmFja1NlbmRlci5tYXhSZXRyYW5zbWl0cztcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YUNoYW5uZWwgPSB0aGlzLl9wZWVyQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbChkYXRhVHJhY2tTZW5kZXIuaWQsIGRhdGFDaGFubmVsRGljdCk7XG4gICAgICAgIGRhdGFUcmFja1NlbmRlci5hZGREYXRhQ2hhbm5lbChkYXRhQ2hhbm5lbCk7XG4gICAgICAgIHRoaXMuX2RhdGFDaGFubmVscy5zZXQoZGF0YVRyYWNrU2VuZGVyLCBkYXRhQ2hhbm5lbCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBEbyBub3RoaW5nLlxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCB0aGUge0BsaW5rIE1lZGlhVHJhY2tTZW5kZXJ9IHRvIHRoZSB7QGxpbmsgUGVlckNvbm5lY3Rpb25WMn0uXG4gICAgICogQHBhcmFtIHtNZWRpYVRyYWNrU2VuZGVyfSBtZWRpYVRyYWNrU2VuZGVyXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2FkZE1lZGlhVHJhY2tTZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRNZWRpYVRyYWNrU2VuZGVyKG1lZGlhVHJhY2tTZW5kZXIpIHtcbiAgICAgIGlmICh0aGlzLl9wZWVyQ29ubmVjdGlvbi5zaWduYWxpbmdTdGF0ZSA9PT0gJ2Nsb3NlZCcgfHwgdGhpcy5fcnRwU2VuZGVycy5oYXMobWVkaWFUcmFja1NlbmRlcikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHNlbmRlciA9IHZvaWQgMDtcbiAgICAgIGlmICh0aGlzLl9sb2NhbE1lZGlhU3RyZWFtKSB7XG4gICAgICAgIHRoaXMuX2xvY2FsTWVkaWFTdHJlYW0uYWRkVHJhY2sobWVkaWFUcmFja1NlbmRlci50cmFjayk7XG4gICAgICAgIHNlbmRlciA9IHRoaXMuX3BlZXJDb25uZWN0aW9uLmFkZFRyYWNrKG1lZGlhVHJhY2tTZW5kZXIudHJhY2ssIHRoaXMuX2xvY2FsTWVkaWFTdHJlYW0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHRyYW5zY2VpdmVyID0gdGhpcy5fcGVlckNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIobWVkaWFUcmFja1NlbmRlci50cmFjayk7XG4gICAgICAgIHNlbmRlciA9IHRyYW5zY2VpdmVyLnNlbmRlcjtcbiAgICAgIH1cbiAgICAgIG1lZGlhVHJhY2tTZW5kZXIuYWRkU2VuZGVyKHNlbmRlcik7XG4gICAgICB0aGlzLl9ydHBTZW5kZXJzLnNldChtZWRpYVRyYWNrU2VuZGVyLCBzZW5kZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb3NlIHRoZSB7QGxpbmsgUGVlckNvbm5lY3Rpb25WMn0uXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2Nsb3NlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICBpZiAodGhpcy5fY2xvc2UoKSkge1xuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvblJldmlzaW9uKys7XG4gICAgICAgIHRoaXMuX2xvY2FsRGVzY3JpcHRpb24gPSB7IHR5cGU6ICdjbG9zZScgfTtcbiAgICAgICAgdGhpcy5lbWl0KCdkZXNjcmlwdGlvbicsIHRoaXMuZ2V0U3RhdGUoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB7QGxpbmsgRGF0YVRyYWNrUmVjZWl2ZXJ9cyBhbmQgdGhlIHtAbGluayBNZWRpYVRyYWNrUmVjZWl2ZXJzfSBvbiB0aGVcbiAgICAgKiB7QGxpbmsgUGVlckNvbm5lY3Rpb25WMn0uXG4gICAgICogQHJldHVybnMge0FycmF5PERhdGFUcmFja1JlY2VpdmVyfE1lZGlhVHJhY2tSZWNlaXZlcj59IHRyYWNrUmVjZWl2ZXJzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFRyYWNrUmVjZWl2ZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VHJhY2tSZWNlaXZlcnMoKSB7XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9kYXRhVHJhY2tSZWNlaXZlcnMpLmNvbmNhdChBcnJheS5mcm9tKHRoaXMuX21lZGlhVHJhY2tSZWNlaXZlcnMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHtAbGluayBQZWVyQ29ubmVjdGlvblYyfSdzIHN0YXRlIChzcGVjaWZpY2FsbHksIGl0cyBkZXNjcmlwdGlvbikuXG4gICAgICogQHJldHVybnMgez9vYmplY3R9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFN0YXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG4gICAgICBpZiAoIXRoaXMuX2xvY2FsRGVzY3JpcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB2YXIgbG9jYWxEZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgdHlwZTogdGhpcy5fbG9jYWxEZXNjcmlwdGlvbi50eXBlLFxuICAgICAgICByZXZpc2lvbjogdGhpcy5fZGVzY3JpcHRpb25SZXZpc2lvblxuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLl9sb2NhbERlc2NyaXB0aW9uLnNkcCkge1xuICAgICAgICBsb2NhbERlc2NyaXB0aW9uLnNkcCA9IHRoaXMuX2xvY2FsRGVzY3JpcHRpb24uc2RwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGVzY3JpcHRpb246IGxvY2FsRGVzY3JpcHRpb24sXG4gICAgICAgIGlkOiB0aGlzLmlkXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBvZmZlciBhbmQgc2V0IGl0IG9uIHRoZSB7QGxpbmsgUGVlckNvbm5lY3Rpb25WMn0uXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29mZmVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmZXIoKSB7XG4gICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLl9uZWVkc0Fuc3dlciB8fCB0aGlzLl9pc1Jlc3RhcnRpbmdJY2UpIHtcbiAgICAgICAgdGhpcy5fc2hvdWxkT2ZmZXIgPSB0cnVlO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmJyYWNrZXQoJ29mZmVyaW5nJywgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBfdGhpczExLnRyYW5zaXRpb24oJ3VwZGF0aW5nJywga2V5KTtcbiAgICAgICAgdmFyIHByb21pc2UgPSBfdGhpczExLl9uZWVkc0Fuc3dlciB8fCBfdGhpczExLl9pc1Jlc3RhcnRpbmdJY2UgPyBQcm9taXNlLnJlc29sdmUoKSA6IF90aGlzMTEuX29mZmVyKCk7XG4gICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMTEudHJ5VHJhbnNpdGlvbignb3BlbicsIGtleSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIF90aGlzMTEudHJ5VHJhbnNpdGlvbignb3BlbicsIGtleSk7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEge0BsaW5rIERhdGFUcmFja1NlbmRlcn0gZnJvbSB0aGUge0BsaW5rIFBlZXJDb25uZWN0aW9uVjJ9LlxuICAgICAqIEBwYXJhbSB7RGF0YVRyYWNrU2VuZGVyfSBkYXRhVHJhY2tTZW5kZXJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVtb3ZlRGF0YVRyYWNrU2VuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRGF0YVRyYWNrU2VuZGVyKGRhdGFUcmFja1NlbmRlcikge1xuICAgICAgdmFyIGRhdGFDaGFubmVsID0gdGhpcy5fZGF0YUNoYW5uZWxzLmdldChkYXRhVHJhY2tTZW5kZXIpO1xuICAgICAgaWYgKGRhdGFDaGFubmVsKSB7XG4gICAgICAgIGRhdGFUcmFja1NlbmRlci5yZW1vdmVEYXRhQ2hhbm5lbChkYXRhQ2hhbm5lbCk7XG4gICAgICAgIHRoaXMuX2RhdGFDaGFubmVscy5kZWxldGUoZGF0YVRyYWNrU2VuZGVyKTtcbiAgICAgICAgZGF0YUNoYW5uZWwuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIHtAbGluayBNZWRpYVRyYWNrU2VuZGVyfSBmcm9tIHRoZSB7QGxpbmsgUGVlckNvbm5lY3Rpb25WMn0uXG4gICAgICogQHBhcmFtIHtNZWRpYVRyYWNrU2VuZGVyfSBtZWRpYVRyYWNrU2VuZGVyXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3JlbW92ZU1lZGlhVHJhY2tTZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVNZWRpYVRyYWNrU2VuZGVyKG1lZGlhVHJhY2tTZW5kZXIpIHtcbiAgICAgIGlmICh0aGlzLl9wZWVyQ29ubmVjdGlvbi5zaWduYWxpbmdTdGF0ZSA9PT0gJ2Nsb3NlZCcgfHwgIXRoaXMuX3J0cFNlbmRlcnMuaGFzKG1lZGlhVHJhY2tTZW5kZXIpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBzZW5kZXIgPSB0aGlzLl9ydHBTZW5kZXJzLmdldChtZWRpYVRyYWNrU2VuZGVyKTtcbiAgICAgIHRoaXMuX3BlZXJDb25uZWN0aW9uLnJlbW92ZVRyYWNrKHNlbmRlcik7XG4gICAgICBpZiAodGhpcy5fbG9jYWxNZWRpYVN0cmVhbSkge1xuICAgICAgICB0aGlzLl9sb2NhbE1lZGlhU3RyZWFtLnJlbW92ZVRyYWNrKG1lZGlhVHJhY2tTZW5kZXIudHJhY2spO1xuICAgICAgfVxuICAgICAgbWVkaWFUcmFja1NlbmRlci5yZW1vdmVTZW5kZXIoc2VuZGVyKTtcbiAgICAgIHRoaXMuX3J0cFNlbmRlcnMuZGVsZXRlKG1lZGlhVHJhY2tTZW5kZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgUlRDQ29uZmlndXJhdGlvbiBvbiB0aGUgdW5kZXJseWluZyBSVENQZWVyQ29ubmVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge1JUQ0NvbmZpZ3VyYXRpb259IGNvbmZpZ3VyYXRpb25cbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2V0Q29uZmlndXJhdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENvbmZpZ3VyYXRpb24oY29uZmlndXJhdGlvbikge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9wZWVyQ29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuX3BlZXJDb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb24oZ2V0Q29uZmlndXJhdGlvbihjb25maWd1cmF0aW9uKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSB7QGxpbmsgUGVlckNvbm5lY3Rpb25WMn0uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHBlZXJDb25uZWN0aW9uU3RhdGVcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKHBlZXJDb25uZWN0aW9uU3RhdGUpIHtcbiAgICAgIHZhciBfdGhpczEyID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuYnJhY2tldCgndXBkYXRpbmcnLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChfdGhpczEyLnN0YXRlID09PSAnY2xvc2VkJykge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMTIudHJhbnNpdGlvbigndXBkYXRpbmcnLCBrZXkpO1xuXG4gICAgICAgIHZhciB1cGRhdGVzID0gW107XG5cbiAgICAgICAgaWYgKHBlZXJDb25uZWN0aW9uU3RhdGUuaWNlKSB7XG4gICAgICAgICAgdXBkYXRlcy5wdXNoKF90aGlzMTIuX3VwZGF0ZUljZShwZWVyQ29ubmVjdGlvblN0YXRlLmljZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBlZXJDb25uZWN0aW9uU3RhdGUuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICB1cGRhdGVzLnB1c2goX3RoaXMxMi5fdXBkYXRlRGVzY3JpcHRpb24ocGVlckNvbm5lY3Rpb25TdGF0ZS5kZXNjcmlwdGlvbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHVwZGF0ZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMTIudHJ5VHJhbnNpdGlvbignb3BlbicsIGtleSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIF90aGlzMTIudHJ5VHJhbnNpdGlvbignb3BlbicsIGtleSk7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB7QGxpbmsgUGVlckNvbm5lY3Rpb25WMn0ncyBtZWRpYSBzdGF0aXN0aWNzLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFN0YW5kYXJkaXplZFN0YXRzUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRTdGF0cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN0YXRzKCkge1xuICAgICAgdmFyIF90aGlzMTMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gZ2V0U3RhdGlzdGljcyh0aGlzLl9wZWVyQ29ubmVjdGlvbikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuIHJld3JpdGVUcmFja0lkcyhfdGhpczEzLCByZXNwb25zZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpY2VDb25uZWN0aW9uU3RhdGUnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3BlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGVlckNvbm5lY3Rpb25WMjtcbn0oU3RhdGVNYWNoaW5lKTtcblxuZnVuY3Rpb24gcmV3cml0ZVRyYWNrSWQocGN2Miwgc3RhdHMpIHtcbiAgdmFyIHJlY2VpdmVyID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwY3YyLl9tZWRpYVRyYWNrUmVjZWl2ZXJzKSkuZmluZChmdW5jdGlvbiAocmVjZWl2ZXIpIHtcbiAgICByZXR1cm4gcmVjZWl2ZXIudHJhY2suaWQgPT09IHN0YXRzLnRyYWNrSWQ7XG4gIH0pO1xuICB2YXIgdHJhY2tJZCA9IHJlY2VpdmVyID8gcmVjZWl2ZXIuaWQgOiBudWxsO1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbihzdGF0cywgeyB0cmFja0lkOiB0cmFja0lkIH0pO1xufVxuXG5mdW5jdGlvbiByZXdyaXRlVHJhY2tJZHMocGN2MiwgcmVzcG9uc2UpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocmVzcG9uc2UsIHtcbiAgICByZW1vdGVBdWRpb1RyYWNrU3RhdHM6IHJlc3BvbnNlLnJlbW90ZUF1ZGlvVHJhY2tTdGF0cy5tYXAoZnVuY3Rpb24gKHN0YXRzKSB7XG4gICAgICByZXR1cm4gcmV3cml0ZVRyYWNrSWQocGN2Miwgc3RhdHMpO1xuICAgIH0pLFxuICAgIHJlbW90ZVZpZGVvVHJhY2tTdGF0czogcmVzcG9uc2UucmVtb3RlVmlkZW9UcmFja1N0YXRzLm1hcChmdW5jdGlvbiAoc3RhdHMpIHtcbiAgICAgIHJldHVybiByZXdyaXRlVHJhY2tJZChwY3YyLCBzdGF0cyk7XG4gICAgfSlcbiAgfSk7XG59XG5cbi8qKlxuICogQGV2ZW50IFBlZXJDb25uZWN0aW9uVjIjY2FuZGlkYXRlc1xuICogQHBhcmFtIHtvYmplY3R9IGNhbmRpZGF0ZXNcbiAqL1xuXG4vKipcbiAqIEBldmVudCBQZWVyQ29ubmVjdGlvblYyI2Rlc2NyaXB0aW9uXG4gKiBAcGFyYW0ge29iamVjdH0gZGVzY3JpcHRpb25cbiAqL1xuXG4vKipcbiAqIEBldmVudCBQZWVyQ29ubmVjdGlvblYyI2ljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZWRcbiAqL1xuXG4vKipcbiAqIEBldmVudCBQZWVyQ29ubmVjdGlvblYyI3RyYWNrQWRkZWRcbiAqIEBwYXJhbSB7RGF0YVRyYWNrUmVjZWl2ZXJ8TWVkaWFUcmFja1JlY2VpdmVyfSB0cmFja1JlY2VpdmVyXG4gKi9cblxuZnVuY3Rpb24gZ2V0VWZyYWcoZGVzY3JpcHRpb24pIHtcbiAgaWYgKGRlc2NyaXB0aW9uLnNkcCkge1xuICAgIHZhciBtYXRjaCA9IGRlc2NyaXB0aW9uLnNkcC5tYXRjaCgvXmE9aWNlLXVmcmFnOihbYS16QS1aMC05Ky9dKykvbSk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICByZXR1cm4gbWF0Y2hbMV07XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRDb25maWd1cmF0aW9uKGNvbmZpZ3VyYXRpb24pIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe1xuICAgIGJ1bmRsZVBvbGljeTogJ21heC1idW5kbGUnLFxuICAgIHJ0Y3BNdXhQb2xpY3k6ICdyZXF1aXJlJ1xuICB9LCBjb25maWd1cmF0aW9uKTtcbn1cblxuLyoqXG4gKiBXaGV0aGVyIHRoZSBNZWRpYVN0cmVhbVRyYWNrIG9mIHRoZSBnaXZlbiBSVENSVFBTZW5kZXIgaXMgYSBub24tZW5kZWRcbiAqIE1lZGlhU3RyZWFtVHJhY2sgb2YgYSBnaXZlbiBraW5kLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBraW5kXG4gKiBAcGFyYW0ge1JUQ1JUUFNlbmRlcn0gc2VuZGVyXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1NlbmRlck9mS2luZChraW5kLCBzZW5kZXIpIHtcbiAgdmFyIHRyYWNrID0gc2VuZGVyLnRyYWNrO1xuICByZXR1cm4gdHJhY2sgJiYgdHJhY2sua2luZCA9PT0ga2luZCAmJiB0cmFjay5yZWFkeVN0YXRlICE9PSAnZW5kZWQnO1xufVxuXG4vKipcbiAqIFByZWZlcnJlZCBjb2RlY3MuXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBQcmVmZXJyZWRDb2RlY3NcbiAqIEBwcm9wZXJ0eSB7QXJyYXk8QXVkaW9Db2RlYz59IGF1ZGlvXG4gKiBAcHJvcGVydHkge0FycmF5PFZpZGVvQ29kZWM+fSB2aWRlb1xuICovXG5cbmZ1bmN0aW9uIGZpbHRlck91dE1lZGlhU3RyZWFtSWRzKHNkcCkge1xuICByZXR1cm4gc2RwLnJlcGxhY2UoL2E9bXNpZDpbXiBdKyAvZywgJ2E9bXNpZDotICcpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZHBcbiAqIEBwYXJhbSB7c3RyaW5nfSBtaWRcbiAqIEByZXR1cm5zIHs/c3RyaW5nfSBkaXJlY3Rpb25cbiAqL1xuZnVuY3Rpb24gZ2V0VHJhbnNjZWl2ZXJEaXJlY3Rpb24oc2RwLCBtaWQpIHtcbiAgdmFyIHNlY3Rpb24gPSBnZXRNZWRpYVNlY3Rpb25zKHNkcCkuZmluZChmdW5jdGlvbiAoc2VjdGlvbikge1xuICAgIHJldHVybiBzZWN0aW9uLm1hdGNoKCdhPW1pZDonICsgbWlkKTtcbiAgfSk7XG4gIGlmICghc2VjdGlvbikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBtYXRjaCA9IHNlY3Rpb24ubWF0Y2goL2E9KHNlbmRyZWN2fHNlbmRvbmx5fHJlY3Zvbmx5fGluYWN0aXZlKS8pO1xuICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6IG51bGw7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHNkcFxuICogQHJldHVybnMge3thdWRpbzogQXJyYXk8c3RyaW5nPiwgdmlkZW86IEFycmF5PHN0cmluZz59fSBtaWRzXG4gKi9cbmZ1bmN0aW9uIGdldE1pZHMoc2RwKSB7XG4gIHJldHVybiBbJ2F1ZGlvJywgJ3ZpZGVvJ10ucmVkdWNlKGZ1bmN0aW9uIChtaWRzLCBraW5kKSB7XG4gICAgbWlkc1traW5kXSA9IGdldE1lZGlhU2VjdGlvbnMoc2RwLCBraW5kKS5tYXAoZnVuY3Rpb24gKHNlY3Rpb24pIHtcbiAgICAgIHJldHVybiBzZWN0aW9uLm1hdGNoKC9eYT1taWQ6KC4rKSQvbSlbMV07XG4gICAgfSk7XG4gICAgcmV0dXJuIG1pZHM7XG4gIH0sIHt9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc2RwXG4gKiBAcGFyYW0ge1JUQ1J0cFRyYW5zY2VpdmVyfSB0cmFuc2NlaXZlclxuICogQHJldHVybnMge2Jvb2xlYW59IHNob3VsZFN0b3BcbiAqL1xuZnVuY3Rpb24gc2hvdWxkU3RvcFRyYW5zY2VpdmVyKHNkcCwgdHJhbnNjZWl2ZXIpIHtcbiAgaWYgKCF0cmFuc2NlaXZlci5zdG9wIHx8IHRyYW5zY2VpdmVyLnN0b3BwZWQgfHwgIXRyYW5zY2VpdmVyLm1pZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIE5PVEUobXJvYmVydHMpOiBXZSBkb24ndCB3YW50IHRvIHN0b3AgdGhlIGluaXRpYWwgdHdvIGF1ZGlvIGFuZCB2aWRlb1xuICAvLyBSVENSdHBUcmFuc2NlaXZlcnMgdGhhdCBldmVyeW9uZSBuZWdvdGlhdGVzIHdpdGguXG4gIHZhciBtaWRzID0gZ2V0TWlkcyhzZHApO1xuICBpZiAodHJhbnNjZWl2ZXIubWlkID09PSBtaWRzLmF1ZGlvWzBdIHx8IHRyYW5zY2VpdmVyLm1pZCA9PT0gbWlkcy52aWRlb1swXSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0cmFuc2NlaXZlci5jdXJyZW50RGlyZWN0aW9uID09PSAnaW5hY3RpdmUnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YXIgZGlyZWN0aW9uID0gZ2V0VHJhbnNjZWl2ZXJEaXJlY3Rpb24oc2RwLCB0cmFuc2NlaXZlci5taWQpO1xuICBpZiAoZGlyZWN0aW9uID09PSAnaW5hY3RpdmUnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAncmVjdm9ubHknICYmICF0cmFuc2NlaXZlci5zZW5kZXIudHJhY2spIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQZWVyQ29ubmVjdGlvblYyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvc2lnbmFsaW5nL3YyL3BlZXJjb25uZWN0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAzMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///310\n");

/***/ }),
/* 311 */
/*!*************************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/sdp/simulcast.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar difference = __webpack_require__(/*! ../ */ 206).difference;\nvar flatMap = __webpack_require__(/*! ../ */ 206).flatMap;\n\n/**\n * Create a random {@link SSRC}.\n * @returns {SSRC}\n */\nfunction createSSRC() {\n  var ssrcMax = 0xffffffff;\n  return String(Math.floor(Math.random() * ssrcMax));\n}\n\n/**\n * @property {string} cName\n * @property {boolean} isSimulcastEnabled\n * @property {Map<RtxSSRC, PrimarySSRC>} rtxPairs\n * @property {Set<PrimarySSRC>} primarySSRCs\n * @property {MediaStreamID} streamId\n * @property {Track.ID} trackId\n */\n\nvar TrackAttributes = function () {\n  /**\n   * Construct a {@link MediaStreamTrack} attribute store.\n   * @param {Track.ID} trackId - The MediaStreamTrack ID\n   * @param {MediaStreamID} streamId - The MediaStream ID\n   * @param {string} cName - The MediaStream cname\n   */\n  function TrackAttributes(trackId, streamId, cName) {\n    _classCallCheck(this, TrackAttributes);\n\n    Object.defineProperties(this, {\n      cName: {\n        enumerable: true,\n        value: cName\n      },\n      isSimulcastEnabled: {\n        enumerable: true,\n        value: false,\n        writable: true\n      },\n      primarySSRCs: {\n        enumerable: true,\n        value: new Set()\n      },\n      rtxPairs: {\n        enumerable: true,\n        value: new Map()\n      },\n      streamId: {\n        enumerable: true,\n        value: streamId\n      },\n      trackId: {\n        enumerable: true,\n        value: trackId\n      }\n    });\n  }\n\n  /**\n   * Add {@link SimSSRC}s to the {@link TrackAttributes}.\n   * @returns {void}\n   */\n\n\n  _createClass(TrackAttributes, [{\n    key: 'addSimulcastSSRCs',\n    value: function addSimulcastSSRCs() {\n      if (this.isSimulcastEnabled) {\n        return;\n      }\n      var simulcastSSRCs = [createSSRC(), createSSRC()];\n      simulcastSSRCs.forEach(function (ssrc) {\n        this.primarySSRCs.add(ssrc);\n      }, this);\n\n      if (this.rtxPairs.size) {\n        simulcastSSRCs.forEach(function (ssrc) {\n          this.rtxPairs.set(createSSRC(), ssrc);\n        }, this);\n      }\n    }\n\n    /**\n     * Add the given {@link PrimarySSRC} or {@link RtxSSRC} to the {@link TrackAttributes}\n     * and update the \"isSimulcastEnabled\" flag if it is also a {@link SimSSRC}.\n     * @param {SSRC} ssrc - The {@link SSRC} to be added\n     * @param {?PrimarySSRC} primarySSRC - The {@link PrimarySSRC}; if the given\n     *   {@link SSRC} itself is the {@link PrimarySSRC}, then this is set to null\n     * @param {boolean} isSimSSRC - true if the given {@link SSRC} is a\n     *   {@link SimSSRC}; false otherwise\n     * @returns {void}\n     */\n\n  }, {\n    key: 'addSSRC',\n    value: function addSSRC(ssrc, primarySSRC, isSimSSRC) {\n      if (primarySSRC) {\n        this.rtxPairs.set(ssrc, primarySSRC);\n      } else {\n        this.primarySSRCs.add(ssrc);\n      }\n      this.isSimulcastEnabled = this.isSimulcastEnabled || isSimSSRC;\n    }\n\n    /**\n     * Construct the SDP lines for the {@link TrackAttributes}.\n     * @param {boolean} [excludeRtx=false]\n     * @returns {Array<string>} Array of SDP lines\n     */\n\n  }, {\n    key: 'toSdpLines',\n    value: function toSdpLines(excludeRtx) {\n      var _this = this;\n\n      var rtxPairs = excludeRtx ? [] : Array.from(this.rtxPairs.entries()).map(function (rtxPair) {\n        return rtxPair.reverse();\n      });\n\n      var simSSRCs = Array.from(this.primarySSRCs.values());\n      var ssrcs = rtxPairs.length ? flatMap(rtxPairs) : simSSRCs;\n\n      var attrLines = flatMap(ssrcs, function (ssrc) {\n        return ['a=ssrc:' + ssrc + ' cname:' + _this.cName, 'a=ssrc:' + ssrc + ' msid:' + _this.streamId + ' ' + _this.trackId];\n      });\n      var rtxPairLines = rtxPairs.map(function (rtxPair) {\n        return 'a=ssrc-group:FID ' + rtxPair.join(' ');\n      });\n      var simGroupLines = ['a=ssrc-group:SIM ' + simSSRCs.join(' ')];\n\n      return rtxPairLines.concat(attrLines).concat(simGroupLines);\n    }\n  }]);\n\n  return TrackAttributes;\n}();\n\n/**\n * Get the matches for a given RegEx pattern.\n * @param {string} section - SDP media section\n * @param {string} pattern - RegEx pattern\n * @returns {Array<Array<string>>} - Array of pattern matches\n */\n\n\nfunction getMatches(section, pattern) {\n  var matches = section.match(new RegExp(pattern, 'gm')) || [];\n  return matches.map(function (match) {\n    var matches = match.match(new RegExp(pattern)) || [];\n    return matches.slice(1);\n  });\n}\n\n/**\n * Get the {@link SimSSRC}s that belong to a simulcast group.\n * @param {string} section - SDP media section\n * @returns {Set<SimSSRC>} Set of simulcast {@link SSRC}s\n */\nfunction getSimulcastSSRCs(section) {\n  var simGroupPattern = '^a=ssrc-group:SIM ([0-9]+) ([0-9]+) ([0-9]+)$';\n  return new Set(flatMap(getMatches(section, simGroupPattern)));\n}\n\n/**\n * Get the value of the given attribute for an SSRC.\n * @param {string} section - SDP media section\n * @param {SSRC} ssrc - {@link SSRC} whose attribute's value is to be determinded\n * @param {string} attribute - {@link SSRC} attribute name\n * @param {string} - {@link SSRC} attribute value\n */\nfunction getSSRCAttribute(section, ssrc, attribute) {\n  var pattern = 'a=ssrc:' + ssrc + ' ' + attribute + ':(.+)';\n  return section.match(new RegExp(pattern))[1];\n}\n\n/**\n * Create a Map of {@link PrimarySSRC}s and their {@link RtxSSRC}s.\n * @param {string} section - SDP media section\n * @returns {Map<RtxSSRC, PrimarySSRC>} - Map of {@link RtxSSRC}s and their\n *   corresponding {@link PrimarySSRC}s\n */\nfunction getSSRCRtxPairs(section) {\n  var rtxPairPattern = '^a=ssrc-group:FID ([0-9]+) ([0-9]+)$';\n  return new Map(getMatches(section, rtxPairPattern).map(function (pair) {\n    return pair.reverse();\n  }));\n}\n\n/**\n * Create SSRC attribute tuples.\n * @param {string} section\n * @param {'planb' | 'unified'} sdpFormat\n * @returns {Array<[SSRC, MediaStreamID, Track.ID]>}\n */\nfunction createSSRCAttributeTuples(section, sdpFormat) {\n  return {\n    planb: createPlanBSSRCAttributeTuples,\n    unified: createUnifiedPlanSSRCAttributeTuples\n  }[sdpFormat](section);\n}\n/**\n * Create \"plan-b\" SSRC attribute tuples.\n * @param {string} section\n * @returns {Array<[SSRC, MediaStreamID, Track.ID]>}\n */\nfunction createPlanBSSRCAttributeTuples(section) {\n  return getMatches(section, '^a=ssrc:([0-9]+) msid:([^\\\\s]+) ([^\\\\s]+)$');\n}\n/**\n * Create \"unified-plan\" SSRC attribute tuples.\n * @param {string} section\n * @returns {Array<[SSRC, MediaStreamID, Track.ID]>}\n */\nfunction createUnifiedPlanSSRCAttributeTuples(section) {\n  var _flatMap = flatMap(getMatches(section, '^a=msid:(.+) (.+)$')),\n      _flatMap2 = _slicedToArray(_flatMap, 2),\n      streamId = _flatMap2[0],\n      trackId = _flatMap2[1];\n\n  var ssrcs = flatMap(getMatches(section, '^a=ssrc:(.+) cname:.+$'));\n  return ssrcs.map(function (ssrc) {\n    return [ssrc, streamId, trackId];\n  });\n}\n\n/**\n * Create a Map of MediaStreamTrack IDs and their {@link TrackAttributes}.\n * @param {string} section - SDP media section\n * @param {'planb' | 'unified'} sdpFormat\n * @returns {Map<Track.ID, TrackAttributes>}\n */\nfunction createTrackIdsToAttributes(section, sdpFormat) {\n  var simSSRCs = getSimulcastSSRCs(section);\n  var rtxPairs = getSSRCRtxPairs(section);\n  var ssrcAttrTuples = createSSRCAttributeTuples(section, sdpFormat);\n\n  return ssrcAttrTuples.reduce(function (trackIdsToSSRCs, tuple) {\n    var ssrc = tuple[0];\n    var streamId = tuple[1];\n    var trackId = tuple[2];\n\n    var trackAttributes = trackIdsToSSRCs.get(trackId) || new TrackAttributes(trackId, streamId, getSSRCAttribute(section, ssrc, 'cname'));\n\n    var primarySSRC = rtxPairs.get(ssrc) || null;\n    trackAttributes.addSSRC(ssrc, primarySSRC, simSSRCs.has(ssrc));\n    return trackIdsToSSRCs.set(trackId, trackAttributes);\n  }, new Map());\n}\n\n/**\n * Apply simulcast settings to the given SDP media section.\n * @param {string} section - SDP media section\n * @param {'planb' | 'unified'} sdpFormat\n * @param {Map<Track.ID, TrackAttributes>} trackIdsToAttributes - Existing\n *   map which will be updated for new MediaStreamTrack IDs\n * @returns {string} - The transformed SDP media section\n */\nfunction setSimulcastInMediaSection(section, sdpFormat, trackIdsToAttributes) {\n  var newTrackIdsToAttributes = createTrackIdsToAttributes(section, sdpFormat);\n  var newTrackIds = Array.from(newTrackIdsToAttributes.keys());\n  var trackIds = Array.from(trackIdsToAttributes.keys());\n  var trackIdsToAdd = difference(newTrackIds, trackIds);\n  var trackIdsToIgnore = difference(trackIds, newTrackIds);\n\n  // Update \"trackIdsToAttributes\" with TrackAttributes for new\n  // MediaStreamTrack IDs.\n  var trackAttributesToAdd = flatMap(trackIdsToAdd, function (trackId) {\n    return newTrackIdsToAttributes.get(trackId);\n  });\n  trackAttributesToAdd.forEach(function (trackAttributes) {\n    trackAttributes.addSimulcastSSRCs();\n    trackIdsToAttributes.set(trackAttributes.trackId, trackAttributes);\n  });\n\n  // Get the SDP lines of the relevant MediaStreamTrack IDs from\n  // \"trackIdsToAttributes\".\n  trackIds = Array.from(trackIdsToAttributes.keys());\n  var relevantTrackIds = difference(trackIds, trackIdsToIgnore);\n  var relevantTrackAttributes = flatMap(relevantTrackIds, function (trackId) {\n    return trackIdsToAttributes.get(trackId);\n  });\n  var excludeRtx = !section.match(/a=rtpmap:[0-9]+ rtx/);\n  var relevantSdpLines = flatMap(relevantTrackAttributes, function (trackAttributes) {\n    return trackAttributes.toSdpLines(excludeRtx);\n  });\n\n  // Add the simulcast SSRC SDP lines to the media section. The Set ensures\n  // that the duplicates of the SSRC SDP lines that are in both \"section\" and\n  // \"relevantSdpLines\" are removed.\n  var sectionLines = new Set(section.split('\\r\\n').concat(relevantSdpLines));\n  return flatMap(sectionLines).join('\\r\\n');\n}\n\n/**\n * String representing a MediaStream ID.\n * @typedef {string} MediaStreamID\n */\n\n/**\n * String representing the SSRC of a MediaStreamTrack.\n * @typedef {string} SSRC\n */\n\n/**\n * Primary SSRC.\n * @typedef {SSRC} PrimarySSRC\n */\n\n/**\n * Retransmission SSRC.\n * @typedef {SSRC} RtxSSRC\n */\n\n/**\n * Simulcast SSRC.\n * @typedef {SSRC} SimSSRC\n */\n\nmodule.exports = setSimulcastInMediaSection;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL3NkcC9zaW11bGNhc3QuanM/Y2IzMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixrQ0FBa0MsaUNBQWlDLGVBQWUsZUFBZSxnQkFBZ0Isb0JBQW9CLE1BQU0sMENBQTBDLCtCQUErQixhQUFhLHFCQUFxQixtQ0FBbUMsRUFBRSxFQUFFLGNBQWMsV0FBVyxVQUFVLEVBQUUsVUFBVSxNQUFNLHlDQUF5QyxFQUFFLFVBQVUsa0JBQWtCLEVBQUUsRUFBRSxhQUFhLEVBQUUsMkJBQTJCLDBCQUEwQixZQUFZLEVBQUUsMkNBQTJDLDhCQUE4QixFQUFFLE9BQU8sNkVBQTZFLEVBQUUsR0FBRyxFQUFFOztBQUVycEIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlCQUFpQixtQkFBTyxDQUFDLGNBQUs7QUFDOUIsY0FBYyxtQkFBTyxDQUFDLGNBQUs7O0FBRTNCO0FBQ0Esb0JBQW9CLFdBQVc7QUFDL0IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsMEJBQTBCO0FBQ3hDLGNBQWMsaUJBQWlCO0FBQy9CLGNBQWMsY0FBYztBQUM1QixjQUFjLFNBQVM7QUFDdkI7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQix1QkFBdUI7QUFDekMsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsY0FBYztBQUMzQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsVUFBVSxjQUFjLFVBQVUsc0JBQXNCO0FBQ3hELGVBQWU7QUFDZjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixrQkFBa0IsS0FBSyxjQUFjLFNBQVM7QUFDcEUsaUVBQWlFLGNBQWM7QUFDL0UsZUFBZSxLQUFLLGFBQWEsV0FBVztBQUM1QyxlQUFlLGFBQWEsb0JBQW9CLG1CQUFtQjtBQUNuRSxVQUFVLFdBQVcsZ0JBQWdCLGtCQUFrQjtBQUN2RCxlQUFlLFFBQVEsZ0NBQWdDLFdBQVc7QUFDbEUsVUFBVSxlQUFlO0FBQ3pCLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0Msc0JBQXNCO0FBQzlELGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsY0FBYztBQUMvQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLHFCQUFxQjtBQUNsQzs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLFlBQVksY0FBYztBQUMxQixXQUFXLE9BQU87QUFDbEIsYUFBYSxhQUFhLG1CQUFtQixXQUFXO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLEtBQUssU0FBUyxXQUFXO0FBQ3BDLFdBQVcsT0FBTyxjQUFjLFdBQVc7QUFDM0MsV0FBVyxPQUFPLElBQUksV0FBVztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLGtCQUFrQixhQUFhLGNBQWM7QUFDakUsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsMEJBQTBCLFdBQVcsY0FBYztBQUNoRSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLG9CQUFvQjtBQUMvQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLG1EQUFtRCxzQkFBc0I7QUFDekUsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsb0JBQW9CO0FBQy9CLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsb0JBQW9CO0FBQy9CLFdBQVcsK0JBQStCO0FBQzFDO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7O0FBRUE7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxLQUFLO0FBQ2xCOztBQUVBO0FBQ0E7QUFDQSxhQUFhLEtBQUs7QUFDbEI7O0FBRUE7QUFDQTtBQUNBLGFBQWEsS0FBSztBQUNsQjs7QUFFQSIsImZpbGUiOiIzMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIGRpZmZlcmVuY2UgPSByZXF1aXJlKCcuLi8nKS5kaWZmZXJlbmNlO1xudmFyIGZsYXRNYXAgPSByZXF1aXJlKCcuLi8nKS5mbGF0TWFwO1xuXG4vKipcbiAqIENyZWF0ZSBhIHJhbmRvbSB7QGxpbmsgU1NSQ30uXG4gKiBAcmV0dXJucyB7U1NSQ31cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU1NSQygpIHtcbiAgdmFyIHNzcmNNYXggPSAweGZmZmZmZmZmO1xuICByZXR1cm4gU3RyaW5nKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHNzcmNNYXgpKTtcbn1cblxuLyoqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY05hbWVcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaXNTaW11bGNhc3RFbmFibGVkXG4gKiBAcHJvcGVydHkge01hcDxSdHhTU1JDLCBQcmltYXJ5U1NSQz59IHJ0eFBhaXJzXG4gKiBAcHJvcGVydHkge1NldDxQcmltYXJ5U1NSQz59IHByaW1hcnlTU1JDc1xuICogQHByb3BlcnR5IHtNZWRpYVN0cmVhbUlEfSBzdHJlYW1JZFxuICogQHByb3BlcnR5IHtUcmFjay5JRH0gdHJhY2tJZFxuICovXG5cbnZhciBUcmFja0F0dHJpYnV0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgTWVkaWFTdHJlYW1UcmFja30gYXR0cmlidXRlIHN0b3JlLlxuICAgKiBAcGFyYW0ge1RyYWNrLklEfSB0cmFja0lkIC0gVGhlIE1lZGlhU3RyZWFtVHJhY2sgSURcbiAgICogQHBhcmFtIHtNZWRpYVN0cmVhbUlEfSBzdHJlYW1JZCAtIFRoZSBNZWRpYVN0cmVhbSBJRFxuICAgKiBAcGFyYW0ge3N0cmluZ30gY05hbWUgLSBUaGUgTWVkaWFTdHJlYW0gY25hbWVcbiAgICovXG4gIGZ1bmN0aW9uIFRyYWNrQXR0cmlidXRlcyh0cmFja0lkLCBzdHJlYW1JZCwgY05hbWUpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhY2tBdHRyaWJ1dGVzKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgIGNOYW1lOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBjTmFtZVxuICAgICAgfSxcbiAgICAgIGlzU2ltdWxjYXN0RW5hYmxlZDoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9LFxuICAgICAgcHJpbWFyeVNTUkNzOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBuZXcgU2V0KClcbiAgICAgIH0sXG4gICAgICBydHhQYWlyczoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogbmV3IE1hcCgpXG4gICAgICB9LFxuICAgICAgc3RyZWFtSWQ6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHN0cmVhbUlkXG4gICAgICB9LFxuICAgICAgdHJhY2tJZDoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdHJhY2tJZFxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB7QGxpbmsgU2ltU1NSQ31zIHRvIHRoZSB7QGxpbmsgVHJhY2tBdHRyaWJ1dGVzfS5cbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFRyYWNrQXR0cmlidXRlcywgW3tcbiAgICBrZXk6ICdhZGRTaW11bGNhc3RTU1JDcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFNpbXVsY2FzdFNTUkNzKCkge1xuICAgICAgaWYgKHRoaXMuaXNTaW11bGNhc3RFbmFibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBzaW11bGNhc3RTU1JDcyA9IFtjcmVhdGVTU1JDKCksIGNyZWF0ZVNTUkMoKV07XG4gICAgICBzaW11bGNhc3RTU1JDcy5mb3JFYWNoKGZ1bmN0aW9uIChzc3JjKSB7XG4gICAgICAgIHRoaXMucHJpbWFyeVNTUkNzLmFkZChzc3JjKTtcbiAgICAgIH0sIHRoaXMpO1xuXG4gICAgICBpZiAodGhpcy5ydHhQYWlycy5zaXplKSB7XG4gICAgICAgIHNpbXVsY2FzdFNTUkNzLmZvckVhY2goZnVuY3Rpb24gKHNzcmMpIHtcbiAgICAgICAgICB0aGlzLnJ0eFBhaXJzLnNldChjcmVhdGVTU1JDKCksIHNzcmMpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIGdpdmVuIHtAbGluayBQcmltYXJ5U1NSQ30gb3Ige0BsaW5rIFJ0eFNTUkN9IHRvIHRoZSB7QGxpbmsgVHJhY2tBdHRyaWJ1dGVzfVxuICAgICAqIGFuZCB1cGRhdGUgdGhlIFwiaXNTaW11bGNhc3RFbmFibGVkXCIgZmxhZyBpZiBpdCBpcyBhbHNvIGEge0BsaW5rIFNpbVNTUkN9LlxuICAgICAqIEBwYXJhbSB7U1NSQ30gc3NyYyAtIFRoZSB7QGxpbmsgU1NSQ30gdG8gYmUgYWRkZWRcbiAgICAgKiBAcGFyYW0gez9QcmltYXJ5U1NSQ30gcHJpbWFyeVNTUkMgLSBUaGUge0BsaW5rIFByaW1hcnlTU1JDfTsgaWYgdGhlIGdpdmVuXG4gICAgICogICB7QGxpbmsgU1NSQ30gaXRzZWxmIGlzIHRoZSB7QGxpbmsgUHJpbWFyeVNTUkN9LCB0aGVuIHRoaXMgaXMgc2V0IHRvIG51bGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzU2ltU1NSQyAtIHRydWUgaWYgdGhlIGdpdmVuIHtAbGluayBTU1JDfSBpcyBhXG4gICAgICogICB7QGxpbmsgU2ltU1NSQ307IGZhbHNlIG90aGVyd2lzZVxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdhZGRTU1JDJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkU1NSQyhzc3JjLCBwcmltYXJ5U1NSQywgaXNTaW1TU1JDKSB7XG4gICAgICBpZiAocHJpbWFyeVNTUkMpIHtcbiAgICAgICAgdGhpcy5ydHhQYWlycy5zZXQoc3NyYywgcHJpbWFyeVNTUkMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcmltYXJ5U1NSQ3MuYWRkKHNzcmMpO1xuICAgICAgfVxuICAgICAgdGhpcy5pc1NpbXVsY2FzdEVuYWJsZWQgPSB0aGlzLmlzU2ltdWxjYXN0RW5hYmxlZCB8fCBpc1NpbVNTUkM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0IHRoZSBTRFAgbGluZXMgZm9yIHRoZSB7QGxpbmsgVHJhY2tBdHRyaWJ1dGVzfS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtleGNsdWRlUnR4PWZhbHNlXVxuICAgICAqIEByZXR1cm5zIHtBcnJheTxzdHJpbmc+fSBBcnJheSBvZiBTRFAgbGluZXNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndG9TZHBMaW5lcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvU2RwTGluZXMoZXhjbHVkZVJ0eCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIHJ0eFBhaXJzID0gZXhjbHVkZVJ0eCA/IFtdIDogQXJyYXkuZnJvbSh0aGlzLnJ0eFBhaXJzLmVudHJpZXMoKSkubWFwKGZ1bmN0aW9uIChydHhQYWlyKSB7XG4gICAgICAgIHJldHVybiBydHhQYWlyLnJldmVyc2UoKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgc2ltU1NSQ3MgPSBBcnJheS5mcm9tKHRoaXMucHJpbWFyeVNTUkNzLnZhbHVlcygpKTtcbiAgICAgIHZhciBzc3JjcyA9IHJ0eFBhaXJzLmxlbmd0aCA/IGZsYXRNYXAocnR4UGFpcnMpIDogc2ltU1NSQ3M7XG5cbiAgICAgIHZhciBhdHRyTGluZXMgPSBmbGF0TWFwKHNzcmNzLCBmdW5jdGlvbiAoc3NyYykge1xuICAgICAgICByZXR1cm4gWydhPXNzcmM6JyArIHNzcmMgKyAnIGNuYW1lOicgKyBfdGhpcy5jTmFtZSwgJ2E9c3NyYzonICsgc3NyYyArICcgbXNpZDonICsgX3RoaXMuc3RyZWFtSWQgKyAnICcgKyBfdGhpcy50cmFja0lkXTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHJ0eFBhaXJMaW5lcyA9IHJ0eFBhaXJzLm1hcChmdW5jdGlvbiAocnR4UGFpcikge1xuICAgICAgICByZXR1cm4gJ2E9c3NyYy1ncm91cDpGSUQgJyArIHJ0eFBhaXIuam9pbignICcpO1xuICAgICAgfSk7XG4gICAgICB2YXIgc2ltR3JvdXBMaW5lcyA9IFsnYT1zc3JjLWdyb3VwOlNJTSAnICsgc2ltU1NSQ3Muam9pbignICcpXTtcblxuICAgICAgcmV0dXJuIHJ0eFBhaXJMaW5lcy5jb25jYXQoYXR0ckxpbmVzKS5jb25jYXQoc2ltR3JvdXBMaW5lcyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRyYWNrQXR0cmlidXRlcztcbn0oKTtcblxuLyoqXG4gKiBHZXQgdGhlIG1hdGNoZXMgZm9yIGEgZ2l2ZW4gUmVnRXggcGF0dGVybi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWN0aW9uIC0gU0RQIG1lZGlhIHNlY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXR0ZXJuIC0gUmVnRXggcGF0dGVyblxuICogQHJldHVybnMge0FycmF5PEFycmF5PHN0cmluZz4+fSAtIEFycmF5IG9mIHBhdHRlcm4gbWF0Y2hlc1xuICovXG5cblxuZnVuY3Rpb24gZ2V0TWF0Y2hlcyhzZWN0aW9uLCBwYXR0ZXJuKSB7XG4gIHZhciBtYXRjaGVzID0gc2VjdGlvbi5tYXRjaChuZXcgUmVnRXhwKHBhdHRlcm4sICdnbScpKSB8fCBbXTtcbiAgcmV0dXJuIG1hdGNoZXMubWFwKGZ1bmN0aW9uIChtYXRjaCkge1xuICAgIHZhciBtYXRjaGVzID0gbWF0Y2gubWF0Y2gobmV3IFJlZ0V4cChwYXR0ZXJuKSkgfHwgW107XG4gICAgcmV0dXJuIG1hdGNoZXMuc2xpY2UoMSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEdldCB0aGUge0BsaW5rIFNpbVNTUkN9cyB0aGF0IGJlbG9uZyB0byBhIHNpbXVsY2FzdCBncm91cC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWN0aW9uIC0gU0RQIG1lZGlhIHNlY3Rpb25cbiAqIEByZXR1cm5zIHtTZXQ8U2ltU1NSQz59IFNldCBvZiBzaW11bGNhc3Qge0BsaW5rIFNTUkN9c1xuICovXG5mdW5jdGlvbiBnZXRTaW11bGNhc3RTU1JDcyhzZWN0aW9uKSB7XG4gIHZhciBzaW1Hcm91cFBhdHRlcm4gPSAnXmE9c3NyYy1ncm91cDpTSU0gKFswLTldKykgKFswLTldKykgKFswLTldKykkJztcbiAgcmV0dXJuIG5ldyBTZXQoZmxhdE1hcChnZXRNYXRjaGVzKHNlY3Rpb24sIHNpbUdyb3VwUGF0dGVybikpKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBhdHRyaWJ1dGUgZm9yIGFuIFNTUkMuXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VjdGlvbiAtIFNEUCBtZWRpYSBzZWN0aW9uXG4gKiBAcGFyYW0ge1NTUkN9IHNzcmMgLSB7QGxpbmsgU1NSQ30gd2hvc2UgYXR0cmlidXRlJ3MgdmFsdWUgaXMgdG8gYmUgZGV0ZXJtaW5kZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGUgLSB7QGxpbmsgU1NSQ30gYXR0cmlidXRlIG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSAtIHtAbGluayBTU1JDfSBhdHRyaWJ1dGUgdmFsdWVcbiAqL1xuZnVuY3Rpb24gZ2V0U1NSQ0F0dHJpYnV0ZShzZWN0aW9uLCBzc3JjLCBhdHRyaWJ1dGUpIHtcbiAgdmFyIHBhdHRlcm4gPSAnYT1zc3JjOicgKyBzc3JjICsgJyAnICsgYXR0cmlidXRlICsgJzooLispJztcbiAgcmV0dXJuIHNlY3Rpb24ubWF0Y2gobmV3IFJlZ0V4cChwYXR0ZXJuKSlbMV07XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgTWFwIG9mIHtAbGluayBQcmltYXJ5U1NSQ31zIGFuZCB0aGVpciB7QGxpbmsgUnR4U1NSQ31zLlxuICogQHBhcmFtIHtzdHJpbmd9IHNlY3Rpb24gLSBTRFAgbWVkaWEgc2VjdGlvblxuICogQHJldHVybnMge01hcDxSdHhTU1JDLCBQcmltYXJ5U1NSQz59IC0gTWFwIG9mIHtAbGluayBSdHhTU1JDfXMgYW5kIHRoZWlyXG4gKiAgIGNvcnJlc3BvbmRpbmcge0BsaW5rIFByaW1hcnlTU1JDfXNcbiAqL1xuZnVuY3Rpb24gZ2V0U1NSQ1J0eFBhaXJzKHNlY3Rpb24pIHtcbiAgdmFyIHJ0eFBhaXJQYXR0ZXJuID0gJ15hPXNzcmMtZ3JvdXA6RklEIChbMC05XSspIChbMC05XSspJCc7XG4gIHJldHVybiBuZXcgTWFwKGdldE1hdGNoZXMoc2VjdGlvbiwgcnR4UGFpclBhdHRlcm4pLm1hcChmdW5jdGlvbiAocGFpcikge1xuICAgIHJldHVybiBwYWlyLnJldmVyc2UoKTtcbiAgfSkpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBTU1JDIGF0dHJpYnV0ZSB0dXBsZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VjdGlvblxuICogQHBhcmFtIHsncGxhbmInIHwgJ3VuaWZpZWQnfSBzZHBGb3JtYXRcbiAqIEByZXR1cm5zIHtBcnJheTxbU1NSQywgTWVkaWFTdHJlYW1JRCwgVHJhY2suSURdPn1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU1NSQ0F0dHJpYnV0ZVR1cGxlcyhzZWN0aW9uLCBzZHBGb3JtYXQpIHtcbiAgcmV0dXJuIHtcbiAgICBwbGFuYjogY3JlYXRlUGxhbkJTU1JDQXR0cmlidXRlVHVwbGVzLFxuICAgIHVuaWZpZWQ6IGNyZWF0ZVVuaWZpZWRQbGFuU1NSQ0F0dHJpYnV0ZVR1cGxlc1xuICB9W3NkcEZvcm1hdF0oc2VjdGlvbik7XG59XG4vKipcbiAqIENyZWF0ZSBcInBsYW4tYlwiIFNTUkMgYXR0cmlidXRlIHR1cGxlcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWN0aW9uXG4gKiBAcmV0dXJucyB7QXJyYXk8W1NTUkMsIE1lZGlhU3RyZWFtSUQsIFRyYWNrLklEXT59XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBsYW5CU1NSQ0F0dHJpYnV0ZVR1cGxlcyhzZWN0aW9uKSB7XG4gIHJldHVybiBnZXRNYXRjaGVzKHNlY3Rpb24sICdeYT1zc3JjOihbMC05XSspIG1zaWQ6KFteXFxcXHNdKykgKFteXFxcXHNdKykkJyk7XG59XG4vKipcbiAqIENyZWF0ZSBcInVuaWZpZWQtcGxhblwiIFNTUkMgYXR0cmlidXRlIHR1cGxlcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWN0aW9uXG4gKiBAcmV0dXJucyB7QXJyYXk8W1NTUkMsIE1lZGlhU3RyZWFtSUQsIFRyYWNrLklEXT59XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVVuaWZpZWRQbGFuU1NSQ0F0dHJpYnV0ZVR1cGxlcyhzZWN0aW9uKSB7XG4gIHZhciBfZmxhdE1hcCA9IGZsYXRNYXAoZ2V0TWF0Y2hlcyhzZWN0aW9uLCAnXmE9bXNpZDooLispICguKykkJykpLFxuICAgICAgX2ZsYXRNYXAyID0gX3NsaWNlZFRvQXJyYXkoX2ZsYXRNYXAsIDIpLFxuICAgICAgc3RyZWFtSWQgPSBfZmxhdE1hcDJbMF0sXG4gICAgICB0cmFja0lkID0gX2ZsYXRNYXAyWzFdO1xuXG4gIHZhciBzc3JjcyA9IGZsYXRNYXAoZ2V0TWF0Y2hlcyhzZWN0aW9uLCAnXmE9c3NyYzooLispIGNuYW1lOi4rJCcpKTtcbiAgcmV0dXJuIHNzcmNzLm1hcChmdW5jdGlvbiAoc3NyYykge1xuICAgIHJldHVybiBbc3NyYywgc3RyZWFtSWQsIHRyYWNrSWRdO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBNYXAgb2YgTWVkaWFTdHJlYW1UcmFjayBJRHMgYW5kIHRoZWlyIHtAbGluayBUcmFja0F0dHJpYnV0ZXN9LlxuICogQHBhcmFtIHtzdHJpbmd9IHNlY3Rpb24gLSBTRFAgbWVkaWEgc2VjdGlvblxuICogQHBhcmFtIHsncGxhbmInIHwgJ3VuaWZpZWQnfSBzZHBGb3JtYXRcbiAqIEByZXR1cm5zIHtNYXA8VHJhY2suSUQsIFRyYWNrQXR0cmlidXRlcz59XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVRyYWNrSWRzVG9BdHRyaWJ1dGVzKHNlY3Rpb24sIHNkcEZvcm1hdCkge1xuICB2YXIgc2ltU1NSQ3MgPSBnZXRTaW11bGNhc3RTU1JDcyhzZWN0aW9uKTtcbiAgdmFyIHJ0eFBhaXJzID0gZ2V0U1NSQ1J0eFBhaXJzKHNlY3Rpb24pO1xuICB2YXIgc3NyY0F0dHJUdXBsZXMgPSBjcmVhdGVTU1JDQXR0cmlidXRlVHVwbGVzKHNlY3Rpb24sIHNkcEZvcm1hdCk7XG5cbiAgcmV0dXJuIHNzcmNBdHRyVHVwbGVzLnJlZHVjZShmdW5jdGlvbiAodHJhY2tJZHNUb1NTUkNzLCB0dXBsZSkge1xuICAgIHZhciBzc3JjID0gdHVwbGVbMF07XG4gICAgdmFyIHN0cmVhbUlkID0gdHVwbGVbMV07XG4gICAgdmFyIHRyYWNrSWQgPSB0dXBsZVsyXTtcblxuICAgIHZhciB0cmFja0F0dHJpYnV0ZXMgPSB0cmFja0lkc1RvU1NSQ3MuZ2V0KHRyYWNrSWQpIHx8IG5ldyBUcmFja0F0dHJpYnV0ZXModHJhY2tJZCwgc3RyZWFtSWQsIGdldFNTUkNBdHRyaWJ1dGUoc2VjdGlvbiwgc3NyYywgJ2NuYW1lJykpO1xuXG4gICAgdmFyIHByaW1hcnlTU1JDID0gcnR4UGFpcnMuZ2V0KHNzcmMpIHx8IG51bGw7XG4gICAgdHJhY2tBdHRyaWJ1dGVzLmFkZFNTUkMoc3NyYywgcHJpbWFyeVNTUkMsIHNpbVNTUkNzLmhhcyhzc3JjKSk7XG4gICAgcmV0dXJuIHRyYWNrSWRzVG9TU1JDcy5zZXQodHJhY2tJZCwgdHJhY2tBdHRyaWJ1dGVzKTtcbiAgfSwgbmV3IE1hcCgpKTtcbn1cblxuLyoqXG4gKiBBcHBseSBzaW11bGNhc3Qgc2V0dGluZ3MgdG8gdGhlIGdpdmVuIFNEUCBtZWRpYSBzZWN0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IHNlY3Rpb24gLSBTRFAgbWVkaWEgc2VjdGlvblxuICogQHBhcmFtIHsncGxhbmInIHwgJ3VuaWZpZWQnfSBzZHBGb3JtYXRcbiAqIEBwYXJhbSB7TWFwPFRyYWNrLklELCBUcmFja0F0dHJpYnV0ZXM+fSB0cmFja0lkc1RvQXR0cmlidXRlcyAtIEV4aXN0aW5nXG4gKiAgIG1hcCB3aGljaCB3aWxsIGJlIHVwZGF0ZWQgZm9yIG5ldyBNZWRpYVN0cmVhbVRyYWNrIElEc1xuICogQHJldHVybnMge3N0cmluZ30gLSBUaGUgdHJhbnNmb3JtZWQgU0RQIG1lZGlhIHNlY3Rpb25cbiAqL1xuZnVuY3Rpb24gc2V0U2ltdWxjYXN0SW5NZWRpYVNlY3Rpb24oc2VjdGlvbiwgc2RwRm9ybWF0LCB0cmFja0lkc1RvQXR0cmlidXRlcykge1xuICB2YXIgbmV3VHJhY2tJZHNUb0F0dHJpYnV0ZXMgPSBjcmVhdGVUcmFja0lkc1RvQXR0cmlidXRlcyhzZWN0aW9uLCBzZHBGb3JtYXQpO1xuICB2YXIgbmV3VHJhY2tJZHMgPSBBcnJheS5mcm9tKG5ld1RyYWNrSWRzVG9BdHRyaWJ1dGVzLmtleXMoKSk7XG4gIHZhciB0cmFja0lkcyA9IEFycmF5LmZyb20odHJhY2tJZHNUb0F0dHJpYnV0ZXMua2V5cygpKTtcbiAgdmFyIHRyYWNrSWRzVG9BZGQgPSBkaWZmZXJlbmNlKG5ld1RyYWNrSWRzLCB0cmFja0lkcyk7XG4gIHZhciB0cmFja0lkc1RvSWdub3JlID0gZGlmZmVyZW5jZSh0cmFja0lkcywgbmV3VHJhY2tJZHMpO1xuXG4gIC8vIFVwZGF0ZSBcInRyYWNrSWRzVG9BdHRyaWJ1dGVzXCIgd2l0aCBUcmFja0F0dHJpYnV0ZXMgZm9yIG5ld1xuICAvLyBNZWRpYVN0cmVhbVRyYWNrIElEcy5cbiAgdmFyIHRyYWNrQXR0cmlidXRlc1RvQWRkID0gZmxhdE1hcCh0cmFja0lkc1RvQWRkLCBmdW5jdGlvbiAodHJhY2tJZCkge1xuICAgIHJldHVybiBuZXdUcmFja0lkc1RvQXR0cmlidXRlcy5nZXQodHJhY2tJZCk7XG4gIH0pO1xuICB0cmFja0F0dHJpYnV0ZXNUb0FkZC5mb3JFYWNoKGZ1bmN0aW9uICh0cmFja0F0dHJpYnV0ZXMpIHtcbiAgICB0cmFja0F0dHJpYnV0ZXMuYWRkU2ltdWxjYXN0U1NSQ3MoKTtcbiAgICB0cmFja0lkc1RvQXR0cmlidXRlcy5zZXQodHJhY2tBdHRyaWJ1dGVzLnRyYWNrSWQsIHRyYWNrQXR0cmlidXRlcyk7XG4gIH0pO1xuXG4gIC8vIEdldCB0aGUgU0RQIGxpbmVzIG9mIHRoZSByZWxldmFudCBNZWRpYVN0cmVhbVRyYWNrIElEcyBmcm9tXG4gIC8vIFwidHJhY2tJZHNUb0F0dHJpYnV0ZXNcIi5cbiAgdHJhY2tJZHMgPSBBcnJheS5mcm9tKHRyYWNrSWRzVG9BdHRyaWJ1dGVzLmtleXMoKSk7XG4gIHZhciByZWxldmFudFRyYWNrSWRzID0gZGlmZmVyZW5jZSh0cmFja0lkcywgdHJhY2tJZHNUb0lnbm9yZSk7XG4gIHZhciByZWxldmFudFRyYWNrQXR0cmlidXRlcyA9IGZsYXRNYXAocmVsZXZhbnRUcmFja0lkcywgZnVuY3Rpb24gKHRyYWNrSWQpIHtcbiAgICByZXR1cm4gdHJhY2tJZHNUb0F0dHJpYnV0ZXMuZ2V0KHRyYWNrSWQpO1xuICB9KTtcbiAgdmFyIGV4Y2x1ZGVSdHggPSAhc2VjdGlvbi5tYXRjaCgvYT1ydHBtYXA6WzAtOV0rIHJ0eC8pO1xuICB2YXIgcmVsZXZhbnRTZHBMaW5lcyA9IGZsYXRNYXAocmVsZXZhbnRUcmFja0F0dHJpYnV0ZXMsIGZ1bmN0aW9uICh0cmFja0F0dHJpYnV0ZXMpIHtcbiAgICByZXR1cm4gdHJhY2tBdHRyaWJ1dGVzLnRvU2RwTGluZXMoZXhjbHVkZVJ0eCk7XG4gIH0pO1xuXG4gIC8vIEFkZCB0aGUgc2ltdWxjYXN0IFNTUkMgU0RQIGxpbmVzIHRvIHRoZSBtZWRpYSBzZWN0aW9uLiBUaGUgU2V0IGVuc3VyZXNcbiAgLy8gdGhhdCB0aGUgZHVwbGljYXRlcyBvZiB0aGUgU1NSQyBTRFAgbGluZXMgdGhhdCBhcmUgaW4gYm90aCBcInNlY3Rpb25cIiBhbmRcbiAgLy8gXCJyZWxldmFudFNkcExpbmVzXCIgYXJlIHJlbW92ZWQuXG4gIHZhciBzZWN0aW9uTGluZXMgPSBuZXcgU2V0KHNlY3Rpb24uc3BsaXQoJ1xcclxcbicpLmNvbmNhdChyZWxldmFudFNkcExpbmVzKSk7XG4gIHJldHVybiBmbGF0TWFwKHNlY3Rpb25MaW5lcykuam9pbignXFxyXFxuJyk7XG59XG5cbi8qKlxuICogU3RyaW5nIHJlcHJlc2VudGluZyBhIE1lZGlhU3RyZWFtIElELlxuICogQHR5cGVkZWYge3N0cmluZ30gTWVkaWFTdHJlYW1JRFxuICovXG5cbi8qKlxuICogU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgU1NSQyBvZiBhIE1lZGlhU3RyZWFtVHJhY2suXG4gKiBAdHlwZWRlZiB7c3RyaW5nfSBTU1JDXG4gKi9cblxuLyoqXG4gKiBQcmltYXJ5IFNTUkMuXG4gKiBAdHlwZWRlZiB7U1NSQ30gUHJpbWFyeVNTUkNcbiAqL1xuXG4vKipcbiAqIFJldHJhbnNtaXNzaW9uIFNTUkMuXG4gKiBAdHlwZWRlZiB7U1NSQ30gUnR4U1NSQ1xuICovXG5cbi8qKlxuICogU2ltdWxjYXN0IFNTUkMuXG4gKiBAdHlwZWRlZiB7U1NSQ30gU2ltU1NSQ1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gc2V0U2ltdWxjYXN0SW5NZWRpYVNlY3Rpb247XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL3NkcC9zaW11bGNhc3QuanNcbi8vIG1vZHVsZSBpZCA9IDMxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///311\n");

/***/ }),
/* 312 */
/*!**************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/v2/icebox.js ***!
  \**************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Filter = __webpack_require__(/*! ../../util/filter */ 313);\n\n/**\n * An {@link IceBox} stores trickled ICE candidates. Candidates added to the\n * {@link IceBox} via {@link IceBox#update} are compared against previously\n * trickled candidates and only new candidates will be returned (assuming they\n * match the current ICE username fragment set by {@link IceBox#setUfrag}).\n * @property {?string} ufrag\n */\n\nvar IceBox = function () {\n  /**\n   * Construct an {@link IceBox}.\n   */\n  function IceBox() {\n    _classCallCheck(this, IceBox);\n\n    Object.defineProperties(this, {\n      _filter: {\n        value: new Filter({\n          getKey: function getKey(iceState) {\n            return iceState.ufrag;\n          },\n          isLessThanOrEqualTo: function isLessThanOrEqualTo(a, b) {\n            return a.revision <= b.revision;\n          }\n        })\n      },\n      _ufrag: {\n        writable: true,\n        value: null\n      },\n      ufrag: {\n        enumerable: true,\n        get: function get() {\n          return this._ufrag;\n        }\n      }\n    });\n  }\n\n  /**\n   * Set the ICE username fragment on the {@link IceBox}. This method returns any\n   * ICE candidates associated with the username fragment.\n   * @param {string} ufrag\n   * @returns {Array<RTCIceCandidateInit>}\n   */\n\n\n  _createClass(IceBox, [{\n    key: 'setUfrag',\n    value: function setUfrag(ufrag) {\n      this._ufrag = ufrag;\n      var ice = this._filter.toMap().get(ufrag);\n      return ice ? ice.candidates : [];\n    }\n\n    /**\n     * Update the {@link IceBox}. This method returns any new ICE candidates\n     * associated with the current username fragment.\n     * @param {object} iceState\n     * @returns {Array<RTCIceCandidateInit>}\n     */\n\n  }, {\n    key: 'update',\n    value: function update(iceState) {\n      // NOTE(mroberts): The Server sometimes does not set the candidates property.\n      iceState.candidates = iceState.candidates || [];\n      var oldIceState = this._filter.toMap().get(iceState.ufrag);\n      var oldCandidates = oldIceState ? oldIceState.candidates : [];\n      return this._filter.update(iceState) && this._ufrag === iceState.ufrag ? iceState.candidates.slice(oldCandidates.length) : [];\n    }\n  }]);\n\n  return IceBox;\n}();\n\nmodule.exports = IceBox;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvaWNlYm94LmpzP2RkNTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGFBQWEsbUJBQU8sQ0FBQyw0QkFBbUI7O0FBRXhDO0FBQ0EsT0FBTyxhQUFhO0FBQ3BCLElBQUksYUFBYSxNQUFNLG9CQUFvQjtBQUMzQztBQUNBLG1EQUFtRCxzQkFBc0I7QUFDekUsY0FBYyxRQUFRO0FBQ3RCOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsYUFBYTtBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSwyQ0FBMkMsYUFBYTtBQUN4RDtBQUNBLGFBQWEsT0FBTztBQUNwQixlQUFlO0FBQ2Y7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLGFBQWE7QUFDaEM7QUFDQSxlQUFlLE9BQU87QUFDdEIsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiMzEyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgRmlsdGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbC9maWx0ZXInKTtcblxuLyoqXG4gKiBBbiB7QGxpbmsgSWNlQm94fSBzdG9yZXMgdHJpY2tsZWQgSUNFIGNhbmRpZGF0ZXMuIENhbmRpZGF0ZXMgYWRkZWQgdG8gdGhlXG4gKiB7QGxpbmsgSWNlQm94fSB2aWEge0BsaW5rIEljZUJveCN1cGRhdGV9IGFyZSBjb21wYXJlZCBhZ2FpbnN0IHByZXZpb3VzbHlcbiAqIHRyaWNrbGVkIGNhbmRpZGF0ZXMgYW5kIG9ubHkgbmV3IGNhbmRpZGF0ZXMgd2lsbCBiZSByZXR1cm5lZCAoYXNzdW1pbmcgdGhleVxuICogbWF0Y2ggdGhlIGN1cnJlbnQgSUNFIHVzZXJuYW1lIGZyYWdtZW50IHNldCBieSB7QGxpbmsgSWNlQm94I3NldFVmcmFnfSkuXG4gKiBAcHJvcGVydHkgez9zdHJpbmd9IHVmcmFnXG4gKi9cblxudmFyIEljZUJveCA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhbiB7QGxpbmsgSWNlQm94fS5cbiAgICovXG4gIGZ1bmN0aW9uIEljZUJveCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSWNlQm94KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgIF9maWx0ZXI6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBGaWx0ZXIoe1xuICAgICAgICAgIGdldEtleTogZnVuY3Rpb24gZ2V0S2V5KGljZVN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gaWNlU3RhdGUudWZyYWc7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBpc0xlc3NUaGFuT3JFcXVhbFRvOiBmdW5jdGlvbiBpc0xlc3NUaGFuT3JFcXVhbFRvKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBhLnJldmlzaW9uIDw9IGIucmV2aXNpb247XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIF91ZnJhZzoge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0sXG4gICAgICB1ZnJhZzoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fdWZyYWc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIElDRSB1c2VybmFtZSBmcmFnbWVudCBvbiB0aGUge0BsaW5rIEljZUJveH0uIFRoaXMgbWV0aG9kIHJldHVybnMgYW55XG4gICAqIElDRSBjYW5kaWRhdGVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgdXNlcm5hbWUgZnJhZ21lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1ZnJhZ1xuICAgKiBAcmV0dXJucyB7QXJyYXk8UlRDSWNlQ2FuZGlkYXRlSW5pdD59XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKEljZUJveCwgW3tcbiAgICBrZXk6ICdzZXRVZnJhZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFVmcmFnKHVmcmFnKSB7XG4gICAgICB0aGlzLl91ZnJhZyA9IHVmcmFnO1xuICAgICAgdmFyIGljZSA9IHRoaXMuX2ZpbHRlci50b01hcCgpLmdldCh1ZnJhZyk7XG4gICAgICByZXR1cm4gaWNlID8gaWNlLmNhbmRpZGF0ZXMgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIHtAbGluayBJY2VCb3h9LiBUaGlzIG1ldGhvZCByZXR1cm5zIGFueSBuZXcgSUNFIGNhbmRpZGF0ZXNcbiAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgdXNlcm5hbWUgZnJhZ21lbnQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGljZVN0YXRlXG4gICAgICogQHJldHVybnMge0FycmF5PFJUQ0ljZUNhbmRpZGF0ZUluaXQ+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd1cGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoaWNlU3RhdGUpIHtcbiAgICAgIC8vIE5PVEUobXJvYmVydHMpOiBUaGUgU2VydmVyIHNvbWV0aW1lcyBkb2VzIG5vdCBzZXQgdGhlIGNhbmRpZGF0ZXMgcHJvcGVydHkuXG4gICAgICBpY2VTdGF0ZS5jYW5kaWRhdGVzID0gaWNlU3RhdGUuY2FuZGlkYXRlcyB8fCBbXTtcbiAgICAgIHZhciBvbGRJY2VTdGF0ZSA9IHRoaXMuX2ZpbHRlci50b01hcCgpLmdldChpY2VTdGF0ZS51ZnJhZyk7XG4gICAgICB2YXIgb2xkQ2FuZGlkYXRlcyA9IG9sZEljZVN0YXRlID8gb2xkSWNlU3RhdGUuY2FuZGlkYXRlcyA6IFtdO1xuICAgICAgcmV0dXJuIHRoaXMuX2ZpbHRlci51cGRhdGUoaWNlU3RhdGUpICYmIHRoaXMuX3VmcmFnID09PSBpY2VTdGF0ZS51ZnJhZyA/IGljZVN0YXRlLmNhbmRpZGF0ZXMuc2xpY2Uob2xkQ2FuZGlkYXRlcy5sZW5ndGgpIDogW107XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEljZUJveDtcbn0oKTtcblxubW9kdWxlLmV4cG9ydHMgPSBJY2VCb3g7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvaWNlYm94LmpzXG4vLyBtb2R1bGUgaWQgPSAzMTJcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///312\n");

/***/ }),
/* 313 */
/*!******************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/filter.js ***!
  \******************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Filter = function () {\n  function Filter(options) {\n    _classCallCheck(this, Filter);\n\n    options = Object.assign({\n      getKey: function defaultGetKey(a) {\n        return a;\n      },\n      getValue: function defaultGetValue(a) {\n        return a;\n      },\n      isLessThanOrEqualTo: function defaultIsLessThanOrEqualTo(a, b) {\n        return a <= b;\n      }\n    }, options);\n    Object.defineProperties(this, {\n      _getKey: {\n        value: options.getKey\n      },\n      _getValue: {\n        value: options.getValue\n      },\n      _isLessThanOrEqualTo: {\n        value: options.isLessThanOrEqualTo\n      },\n      _map: {\n        value: new Map()\n      }\n    });\n  }\n\n  _createClass(Filter, [{\n    key: 'toMap',\n    value: function toMap() {\n      return new Map(this._map);\n    }\n  }, {\n    key: 'updateAndFilter',\n    value: function updateAndFilter(entries) {\n      return entries.filter(this.update, this);\n    }\n  }, {\n    key: 'update',\n    value: function update(entry) {\n      var key = this._getKey(entry);\n      var value = this._getValue(entry);\n      if (this._map.has(key) && this._isLessThanOrEqualTo(value, this._map.get(key))) {\n        return false;\n      }\n      this._map.set(key, value);\n      return true;\n    }\n  }]);\n\n  return Filter;\n}();\n\nmodule.exports = Filter;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL2ZpbHRlci5qcz84MGViIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIzMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBGaWx0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEZpbHRlcihvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlcik7XG5cbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBnZXRLZXk6IGZ1bmN0aW9uIGRlZmF1bHRHZXRLZXkoYSkge1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH0sXG4gICAgICBnZXRWYWx1ZTogZnVuY3Rpb24gZGVmYXVsdEdldFZhbHVlKGEpIHtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgICB9LFxuICAgICAgaXNMZXNzVGhhbk9yRXF1YWxUbzogZnVuY3Rpb24gZGVmYXVsdElzTGVzc1RoYW5PckVxdWFsVG8oYSwgYikge1xuICAgICAgICByZXR1cm4gYSA8PSBiO1xuICAgICAgfVxuICAgIH0sIG9wdGlvbnMpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgIF9nZXRLZXk6IHtcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMuZ2V0S2V5XG4gICAgICB9LFxuICAgICAgX2dldFZhbHVlOiB7XG4gICAgICAgIHZhbHVlOiBvcHRpb25zLmdldFZhbHVlXG4gICAgICB9LFxuICAgICAgX2lzTGVzc1RoYW5PckVxdWFsVG86IHtcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMuaXNMZXNzVGhhbk9yRXF1YWxUb1xuICAgICAgfSxcbiAgICAgIF9tYXA6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBNYXAoKVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEZpbHRlciwgW3tcbiAgICBrZXk6ICd0b01hcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvTWFwKCkge1xuICAgICAgcmV0dXJuIG5ldyBNYXAodGhpcy5fbWFwKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd1cGRhdGVBbmRGaWx0ZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVBbmRGaWx0ZXIoZW50cmllcykge1xuICAgICAgcmV0dXJuIGVudHJpZXMuZmlsdGVyKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd1cGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoZW50cnkpIHtcbiAgICAgIHZhciBrZXkgPSB0aGlzLl9nZXRLZXkoZW50cnkpO1xuICAgICAgdmFyIHZhbHVlID0gdGhpcy5fZ2V0VmFsdWUoZW50cnkpO1xuICAgICAgaWYgKHRoaXMuX21hcC5oYXMoa2V5KSAmJiB0aGlzLl9pc0xlc3NUaGFuT3JFcXVhbFRvKHZhbHVlLCB0aGlzLl9tYXAuZ2V0KGtleSkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX21hcC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRmlsdGVyO1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZpbHRlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3V0aWwvZmlsdGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAzMTNcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///313\n");

/***/ }),
/* 314 */
/*!********************************************************!*\
  !*** ./node_modules/twilio-video/es5/data/receiver.js ***!
  \********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DataTrackTransceiver = __webpack_require__(/*! ./transceiver */ 240);\nvar DataTransport = __webpack_require__(/*! ./transport */ 315);\n\n/**\n * A {@link DataTrackReceiver} represents a {@link DataTrackTransceiver} over\n * which data can be received. Internally, it users a single RTCDataChannel to\n * receive data.\n * @extends DataTrackTransceiver\n * @emits DataTrackReceiver#message\n */\n\nvar DataTrackReceiver = function (_DataTrackTransceiver) {\n  _inherits(DataTrackReceiver, _DataTrackTransceiver);\n\n  /**\n   * Construct an {@link DataTrackReceiver}.\n   * @param {RTCDataChannel} dataChannel\n   */\n  function DataTrackReceiver(dataChannel) {\n    _classCallCheck(this, DataTrackReceiver);\n\n    var _this = _possibleConstructorReturn(this, (DataTrackReceiver.__proto__ || Object.getPrototypeOf(DataTrackReceiver)).call(this, dataChannel.label, dataChannel.maxPacketLifeTime, dataChannel.maxRetransmits, dataChannel.ordered));\n\n    Object.defineProperties(_this, {\n      _dataChannel: {\n        value: dataChannel\n      }\n    });\n\n    // NOTE(mmalavalli): In Firefox, the default value for \"binaryType\" is \"blob\".\n    // So, we set it to \"arraybuffer\" to ensure that it is consistent with Chrome\n    // and Safari.\n    dataChannel.binaryType = 'arraybuffer';\n\n    dataChannel.addEventListener('message', function (event) {\n      _this.emit('message', event.data);\n    });\n    return _this;\n  }\n\n  /**\n   * Create a {@link DataTransport} from the {@link DataTrackReceiver}.\n   * @returns {DataTransport}\n   */\n\n\n  _createClass(DataTrackReceiver, [{\n    key: 'toDataTransport',\n    value: function toDataTransport() {\n      return new DataTransport(this._dataChannel);\n    }\n  }]);\n\n  return DataTrackReceiver;\n}(DataTrackTransceiver);\n\n/**\n * @event DataTrackReceiver#message\n * @param {string|ArrayBuffer} data\n */\n\nmodule.exports = DataTrackReceiver;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9kYXRhL3JlY2VpdmVyLmpzPzdhNzQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsMkJBQTJCLG1CQUFPLENBQUMsd0JBQWU7QUFDbEQsb0JBQW9CLG1CQUFPLENBQUMsc0JBQWE7O0FBRXpDO0FBQ0EsTUFBTSx3QkFBd0IsZUFBZSwyQkFBMkI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLHdCQUF3QjtBQUMzQyxhQUFhLGVBQWU7QUFDNUI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLG9CQUFvQixXQUFXLHdCQUF3QjtBQUN0RSxlQUFlO0FBQ2Y7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUI7O0FBRUEiLCJmaWxlIjoiMzE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBEYXRhVHJhY2tUcmFuc2NlaXZlciA9IHJlcXVpcmUoJy4vdHJhbnNjZWl2ZXInKTtcbnZhciBEYXRhVHJhbnNwb3J0ID0gcmVxdWlyZSgnLi90cmFuc3BvcnQnKTtcblxuLyoqXG4gKiBBIHtAbGluayBEYXRhVHJhY2tSZWNlaXZlcn0gcmVwcmVzZW50cyBhIHtAbGluayBEYXRhVHJhY2tUcmFuc2NlaXZlcn0gb3ZlclxuICogd2hpY2ggZGF0YSBjYW4gYmUgcmVjZWl2ZWQuIEludGVybmFsbHksIGl0IHVzZXJzIGEgc2luZ2xlIFJUQ0RhdGFDaGFubmVsIHRvXG4gKiByZWNlaXZlIGRhdGEuXG4gKiBAZXh0ZW5kcyBEYXRhVHJhY2tUcmFuc2NlaXZlclxuICogQGVtaXRzIERhdGFUcmFja1JlY2VpdmVyI21lc3NhZ2VcbiAqL1xuXG52YXIgRGF0YVRyYWNrUmVjZWl2ZXIgPSBmdW5jdGlvbiAoX0RhdGFUcmFja1RyYW5zY2VpdmVyKSB7XG4gIF9pbmhlcml0cyhEYXRhVHJhY2tSZWNlaXZlciwgX0RhdGFUcmFja1RyYW5zY2VpdmVyKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGFuIHtAbGluayBEYXRhVHJhY2tSZWNlaXZlcn0uXG4gICAqIEBwYXJhbSB7UlRDRGF0YUNoYW5uZWx9IGRhdGFDaGFubmVsXG4gICAqL1xuICBmdW5jdGlvbiBEYXRhVHJhY2tSZWNlaXZlcihkYXRhQ2hhbm5lbCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXRhVHJhY2tSZWNlaXZlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRGF0YVRyYWNrUmVjZWl2ZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEYXRhVHJhY2tSZWNlaXZlcikpLmNhbGwodGhpcywgZGF0YUNoYW5uZWwubGFiZWwsIGRhdGFDaGFubmVsLm1heFBhY2tldExpZmVUaW1lLCBkYXRhQ2hhbm5lbC5tYXhSZXRyYW5zbWl0cywgZGF0YUNoYW5uZWwub3JkZXJlZCkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX3RoaXMsIHtcbiAgICAgIF9kYXRhQ2hhbm5lbDoge1xuICAgICAgICB2YWx1ZTogZGF0YUNoYW5uZWxcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIE5PVEUobW1hbGF2YWxsaSk6IEluIEZpcmVmb3gsIHRoZSBkZWZhdWx0IHZhbHVlIGZvciBcImJpbmFyeVR5cGVcIiBpcyBcImJsb2JcIi5cbiAgICAvLyBTbywgd2Ugc2V0IGl0IHRvIFwiYXJyYXlidWZmZXJcIiB0byBlbnN1cmUgdGhhdCBpdCBpcyBjb25zaXN0ZW50IHdpdGggQ2hyb21lXG4gICAgLy8gYW5kIFNhZmFyaS5cbiAgICBkYXRhQ2hhbm5lbC5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJztcblxuICAgIGRhdGFDaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLmVtaXQoJ21lc3NhZ2UnLCBldmVudC5kYXRhKTtcbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEge0BsaW5rIERhdGFUcmFuc3BvcnR9IGZyb20gdGhlIHtAbGluayBEYXRhVHJhY2tSZWNlaXZlcn0uXG4gICAqIEByZXR1cm5zIHtEYXRhVHJhbnNwb3J0fVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhEYXRhVHJhY2tSZWNlaXZlciwgW3tcbiAgICBrZXk6ICd0b0RhdGFUcmFuc3BvcnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0RhdGFUcmFuc3BvcnQoKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGFUcmFuc3BvcnQodGhpcy5fZGF0YUNoYW5uZWwpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEYXRhVHJhY2tSZWNlaXZlcjtcbn0oRGF0YVRyYWNrVHJhbnNjZWl2ZXIpO1xuXG4vKipcbiAqIEBldmVudCBEYXRhVHJhY2tSZWNlaXZlciNtZXNzYWdlXG4gKiBAcGFyYW0ge3N0cmluZ3xBcnJheUJ1ZmZlcn0gZGF0YVxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gRGF0YVRyYWNrUmVjZWl2ZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9kYXRhL3JlY2VpdmVyLmpzXG4vLyBtb2R1bGUgaWQgPSAzMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///314\n");

/***/ }),
/* 315 */
/*!*********************************************************!*\
  !*** ./node_modules/twilio-video/es5/data/transport.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _require = __webpack_require__(/*! events */ 207),\n    EventEmitter = _require.EventEmitter;\n\n/**\n * @classdesc A {@link DataTransport} implements {@link MediaSignalingTransport}\n *   in terms of an RTCDataChannel.\n * @extends EventEmitter\n * @implements MediaSignalingTransport\n * @emits DataTransport#message\n */\n\n\nvar DataTransport = function (_EventEmitter) {\n  _inherits(DataTransport, _EventEmitter);\n\n  /**\n   * Construct a {@link DataTransport}.\n   * @param {RTCDataChannel} dataChannel\n   */\n  function DataTransport(dataChannel) {\n    _classCallCheck(this, DataTransport);\n\n    var _this = _possibleConstructorReturn(this, (DataTransport.__proto__ || Object.getPrototypeOf(DataTransport)).call(this));\n\n    Object.defineProperties(_this, {\n      _dataChannel: {\n        value: dataChannel\n      },\n      _messageQueue: {\n        value: []\n      }\n    });\n\n    dataChannel.addEventListener('open', function () {\n      _this._messageQueue.splice(0).forEach(function (message) {\n        return _this._publish(message);\n      });\n    });\n\n    dataChannel.addEventListener('message', function (_ref) {\n      var data = _ref.data;\n\n      try {\n        var message = JSON.parse(data);\n        _this.emit('message', message);\n      } catch (error) {\n        // Do nothing.\n      }\n    });\n\n    _this.publish({ type: 'ready' });\n    return _this;\n  }\n\n  /**\n   * @param message\n   * @private\n   */\n\n\n  _createClass(DataTransport, [{\n    key: '_publish',\n    value: function _publish(message) {\n      var data = JSON.stringify(message);\n      this._dataChannel.send(data);\n    }\n\n    /**\n     * Publish a message. Returns true if calling the method resulted in\n     * publishing (or eventually publishing) the update.\n     * @param {object} message\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'publish',\n    value: function publish(message) {\n      var dataChannel = this._dataChannel;\n      if (dataChannel.readyState === 'closing' || dataChannel.readyState === 'closed') {\n        return false;\n      }\n      if (dataChannel.readyState === 'connecting') {\n        this._messageQueue.push(message);\n        return true;\n      }\n      this._publish(message);\n      return true;\n    }\n  }]);\n\n  return DataTransport;\n}(EventEmitter);\n\n/**\n * The {@link DataTransport} received a message.\n * @event DataTransport#message\n * @param {object} message\n */\n\nmodule.exports = DataTransport;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9kYXRhL3RyYW5zcG9ydC5qcz81YTFlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLGVBQWUsbUJBQU8sQ0FBQyxpQkFBUTtBQUMvQjs7QUFFQTtBQUNBLGlCQUFpQixvQkFBb0IsYUFBYTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLG9CQUFvQjtBQUN0QyxhQUFhLGVBQWU7QUFDNUI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLOztBQUVMLG1CQUFtQixnQkFBZ0I7QUFDbkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQSxRQUFRLG9CQUFvQjtBQUM1QjtBQUNBLFdBQVcsT0FBTztBQUNsQjs7QUFFQSIsImZpbGUiOiIzMTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnZXZlbnRzJyksXG4gICAgRXZlbnRFbWl0dGVyID0gX3JlcXVpcmUuRXZlbnRFbWl0dGVyO1xuXG4vKipcbiAqIEBjbGFzc2Rlc2MgQSB7QGxpbmsgRGF0YVRyYW5zcG9ydH0gaW1wbGVtZW50cyB7QGxpbmsgTWVkaWFTaWduYWxpbmdUcmFuc3BvcnR9XG4gKiAgIGluIHRlcm1zIG9mIGFuIFJUQ0RhdGFDaGFubmVsLlxuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKiBAaW1wbGVtZW50cyBNZWRpYVNpZ25hbGluZ1RyYW5zcG9ydFxuICogQGVtaXRzIERhdGFUcmFuc3BvcnQjbWVzc2FnZVxuICovXG5cblxudmFyIERhdGFUcmFuc3BvcnQgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICBfaW5oZXJpdHMoRGF0YVRyYW5zcG9ydCwgX0V2ZW50RW1pdHRlcik7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBEYXRhVHJhbnNwb3J0fS5cbiAgICogQHBhcmFtIHtSVENEYXRhQ2hhbm5lbH0gZGF0YUNoYW5uZWxcbiAgICovXG4gIGZ1bmN0aW9uIERhdGFUcmFuc3BvcnQoZGF0YUNoYW5uZWwpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0YVRyYW5zcG9ydCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRGF0YVRyYW5zcG9ydC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERhdGFUcmFuc3BvcnQpKS5jYWxsKHRoaXMpKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBfZGF0YUNoYW5uZWw6IHtcbiAgICAgICAgdmFsdWU6IGRhdGFDaGFubmVsXG4gICAgICB9LFxuICAgICAgX21lc3NhZ2VRdWV1ZToge1xuICAgICAgICB2YWx1ZTogW11cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRhdGFDaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5fbWVzc2FnZVF1ZXVlLnNwbGljZSgwKS5mb3JFYWNoKGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5fcHVibGlzaChtZXNzYWdlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGF0YUNoYW5uZWwuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICBfdGhpcy5lbWl0KCdtZXNzYWdlJywgbWVzc2FnZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBEbyBub3RoaW5nLlxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX3RoaXMucHVibGlzaCh7IHR5cGU6ICdyZWFkeScgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBtZXNzYWdlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKERhdGFUcmFuc3BvcnQsIFt7XG4gICAga2V5OiAnX3B1Ymxpc2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcHVibGlzaChtZXNzYWdlKSB7XG4gICAgICB2YXIgZGF0YSA9IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpO1xuICAgICAgdGhpcy5fZGF0YUNoYW5uZWwuc2VuZChkYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoIGEgbWVzc2FnZS4gUmV0dXJucyB0cnVlIGlmIGNhbGxpbmcgdGhlIG1ldGhvZCByZXN1bHRlZCBpblxuICAgICAqIHB1Ymxpc2hpbmcgKG9yIGV2ZW50dWFsbHkgcHVibGlzaGluZykgdGhlIHVwZGF0ZS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gbWVzc2FnZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdwdWJsaXNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHVibGlzaChtZXNzYWdlKSB7XG4gICAgICB2YXIgZGF0YUNoYW5uZWwgPSB0aGlzLl9kYXRhQ2hhbm5lbDtcbiAgICAgIGlmIChkYXRhQ2hhbm5lbC5yZWFkeVN0YXRlID09PSAnY2xvc2luZycgfHwgZGF0YUNoYW5uZWwucmVhZHlTdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGRhdGFDaGFubmVsLnJlYWR5U3RhdGUgPT09ICdjb25uZWN0aW5nJykge1xuICAgICAgICB0aGlzLl9tZXNzYWdlUXVldWUucHVzaChtZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLl9wdWJsaXNoKG1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIERhdGFUcmFuc3BvcnQ7XG59KEV2ZW50RW1pdHRlcik7XG5cbi8qKlxuICogVGhlIHtAbGluayBEYXRhVHJhbnNwb3J0fSByZWNlaXZlZCBhIG1lc3NhZ2UuXG4gKiBAZXZlbnQgRGF0YVRyYW5zcG9ydCNtZXNzYWdlXG4gKiBAcGFyYW0ge29iamVjdH0gbWVzc2FnZVxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gRGF0YVRyYW5zcG9ydDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L2RhdGEvdHJhbnNwb3J0LmpzXG4vLyBtb2R1bGUgaWQgPSAzMTVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///315\n");

/***/ }),
/* 316 */
/*!***************************************************************!*\
  !*** ./node_modules/twilio-video/es5/media/track/receiver.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MediaTrackTransceiver = __webpack_require__(/*! ./transceiver */ 238);\n\n/**\n * A {@link MediaTrackReceiver} represents a remote MediaStreamTrack.\n * @extends MediaTrackTransceiver\n */\n\nvar MediaTrackReceiver = function (_MediaTrackTransceive) {\n  _inherits(MediaTrackReceiver, _MediaTrackTransceive);\n\n  /**\n   * Construct a {@link MediaTrackReceiver}.\n   * @param {Track.ID} id - The MediaStreamTrack ID signaled through RSP/SDP\n   * @param {MediaStreamTrack} mediaStreamTrack - The remote MediaStreamTrack\n   */\n  function MediaTrackReceiver(id, mediaStreamTrack) {\n    _classCallCheck(this, MediaTrackReceiver);\n\n    return _possibleConstructorReturn(this, (MediaTrackReceiver.__proto__ || Object.getPrototypeOf(MediaTrackReceiver)).call(this, id, mediaStreamTrack));\n  }\n\n  return MediaTrackReceiver;\n}(MediaTrackTransceiver);\n\nmodule.exports = MediaTrackReceiver;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9tZWRpYS90cmFjay9yZWNlaXZlci5qcz84NDgyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsNEJBQTRCLG1CQUFPLENBQUMsd0JBQWU7O0FBRW5EO0FBQ0EsTUFBTSx5QkFBeUI7QUFDL0I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHlCQUF5QjtBQUMzQyxhQUFhLFNBQVM7QUFDdEIsYUFBYSxpQkFBaUI7QUFDOUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjMxNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgTWVkaWFUcmFja1RyYW5zY2VpdmVyID0gcmVxdWlyZSgnLi90cmFuc2NlaXZlcicpO1xuXG4vKipcbiAqIEEge0BsaW5rIE1lZGlhVHJhY2tSZWNlaXZlcn0gcmVwcmVzZW50cyBhIHJlbW90ZSBNZWRpYVN0cmVhbVRyYWNrLlxuICogQGV4dGVuZHMgTWVkaWFUcmFja1RyYW5zY2VpdmVyXG4gKi9cblxudmFyIE1lZGlhVHJhY2tSZWNlaXZlciA9IGZ1bmN0aW9uIChfTWVkaWFUcmFja1RyYW5zY2VpdmUpIHtcbiAgX2luaGVyaXRzKE1lZGlhVHJhY2tSZWNlaXZlciwgX01lZGlhVHJhY2tUcmFuc2NlaXZlKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGEge0BsaW5rIE1lZGlhVHJhY2tSZWNlaXZlcn0uXG4gICAqIEBwYXJhbSB7VHJhY2suSUR9IGlkIC0gVGhlIE1lZGlhU3RyZWFtVHJhY2sgSUQgc2lnbmFsZWQgdGhyb3VnaCBSU1AvU0RQXG4gICAqIEBwYXJhbSB7TWVkaWFTdHJlYW1UcmFja30gbWVkaWFTdHJlYW1UcmFjayAtIFRoZSByZW1vdGUgTWVkaWFTdHJlYW1UcmFja1xuICAgKi9cbiAgZnVuY3Rpb24gTWVkaWFUcmFja1JlY2VpdmVyKGlkLCBtZWRpYVN0cmVhbVRyYWNrKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1lZGlhVHJhY2tSZWNlaXZlcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1lZGlhVHJhY2tSZWNlaXZlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1lZGlhVHJhY2tSZWNlaXZlcikpLmNhbGwodGhpcywgaWQsIG1lZGlhU3RyZWFtVHJhY2spKTtcbiAgfVxuXG4gIHJldHVybiBNZWRpYVRyYWNrUmVjZWl2ZXI7XG59KE1lZGlhVHJhY2tUcmFuc2NlaXZlcik7XG5cbm1vZHVsZS5leHBvcnRzID0gTWVkaWFUcmFja1JlY2VpdmVyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvbWVkaWEvdHJhY2svcmVjZWl2ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDMxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///316\n");

/***/ }),
/* 317 */
/*!*************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/sdp/trackmatcher/identity.js ***!
  \*************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * An {@link IdentityTrackMatcher} matches RTCTrackEvents with their respective\n * MediaStreamTrack IDs.\n */\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar IdentityTrackMatcher = function () {\n  function IdentityTrackMatcher() {\n    _classCallCheck(this, IdentityTrackMatcher);\n  }\n\n  _createClass(IdentityTrackMatcher, [{\n    key: 'match',\n\n    /**\n     * Match a given MediaStreamTrack with its ID.\n     * @param {RTCTrackEvent} event\n     * @returns {Track.ID}\n     */\n    value: function match(event) {\n      return event.track.id;\n    }\n\n    /**\n     * Update the {@link IdentityTrackMatcher} with a new SDP.\n     * @param {string} sdp\n     */\n\n  }, {\n    key: 'update',\n    value: function update() {}\n  }]);\n\n  return IdentityTrackMatcher;\n}();\n\nmodule.exports = IdentityTrackMatcher;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL3NkcC90cmFja21hdGNoZXIvaWRlbnRpdHkuanM/ZTljZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBLE9BQU8sMkJBQTJCO0FBQ2xDO0FBQ0E7O0FBRUEsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsY0FBYztBQUM3QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsMkJBQTJCO0FBQzlDLGVBQWUsT0FBTztBQUN0Qjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjMxNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBBbiB7QGxpbmsgSWRlbnRpdHlUcmFja01hdGNoZXJ9IG1hdGNoZXMgUlRDVHJhY2tFdmVudHMgd2l0aCB0aGVpciByZXNwZWN0aXZlXG4gKiBNZWRpYVN0cmVhbVRyYWNrIElEcy5cbiAqL1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgSWRlbnRpdHlUcmFja01hdGNoZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIElkZW50aXR5VHJhY2tNYXRjaGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJZGVudGl0eVRyYWNrTWF0Y2hlcik7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoSWRlbnRpdHlUcmFja01hdGNoZXIsIFt7XG4gICAga2V5OiAnbWF0Y2gnLFxuXG4gICAgLyoqXG4gICAgICogTWF0Y2ggYSBnaXZlbiBNZWRpYVN0cmVhbVRyYWNrIHdpdGggaXRzIElELlxuICAgICAqIEBwYXJhbSB7UlRDVHJhY2tFdmVudH0gZXZlbnRcbiAgICAgKiBAcmV0dXJucyB7VHJhY2suSUR9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1hdGNoKGV2ZW50KSB7XG4gICAgICByZXR1cm4gZXZlbnQudHJhY2suaWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSB7QGxpbmsgSWRlbnRpdHlUcmFja01hdGNoZXJ9IHdpdGggYSBuZXcgU0RQLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzZHBcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKCkge31cbiAgfV0pO1xuXG4gIHJldHVybiBJZGVudGl0eVRyYWNrTWF0Y2hlcjtcbn0oKTtcblxubW9kdWxlLmV4cG9ydHMgPSBJZGVudGl0eVRyYWNrTWF0Y2hlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3V0aWwvc2RwL3RyYWNrbWF0Y2hlci9pZGVudGl0eS5qc1xuLy8gbW9kdWxlIGlkID0gMzE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///317\n");

/***/ }),
/* 318 */
/*!************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/sdp/trackmatcher/ordered.js ***!
  \************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar util = __webpack_require__(/*! ../../ */ 206);\nvar getMediaSections = __webpack_require__(/*! ../ */ 211).getMediaSections;\n\n// NOTE(mroberts): OrderedTrackMatcher is meant to solve the problem identified in\n//\n//   https://bugs.webkit.org/show_bug.cgi?id=174519\n//\n// Namely that, without MIDs, we cannot \"correctly\" identify MediaStreamTracks\n// in Safari's current WebRTC implementation. So, this module tries to hack\n// around this by making a possibly dangerous assumption: \"track\" events will\n// be raised for MediaStreamTracks of a particular kind in the same order that\n// those kinds' MSIDs appear in the SDP. By calling `update` with an\n// RTCPeerConnection's `remoteDescription` and then invoking `match`, we ought\n// to be able to dequeue MediaStreamTrack IDs in the correct order to be\n// assigned to \"track\" events.\n\n/**\n * @interface MatchedAndUnmatched\n * @property {Set<Track.ID>} matched\n * @property {Set<Track.ID>} unmatched\n */\n\n/**\n * Create a new instance of {@link MatchedAndUnmatched}.\n * @returns {MatchedAndUnmatched}\n */\nfunction create() {\n  return {\n    matched: new Set(),\n    unmatched: new Set()\n  };\n}\n\n/**\n * Attempt to match a MediaStreamTrack ID.\n * @param {MatchedAndUnmatched} mAndM\n * @returns {?Track.ID} id\n */\nfunction _match(mAndM) {\n  var unmatched = Array.from(mAndM.unmatched);\n  if (!unmatched.length) {\n    return null;\n  }\n  var id = unmatched[0];\n  mAndM.matched.add(id);\n  mAndM.unmatched.delete(id);\n  return id;\n}\n\n/**\n * Update a {@link MatchedAndUnmatched}'s MediaStreamTrack IDs.\n * @param {MatchedAndUnmatched} mAndM\n * @param {Set<Track.ID>} ids\n * @returns {void}\n */\nfunction _update(mAndM, ids) {\n  ids = new Set(ids);\n  var removedMatchedIds = util.difference(mAndM.matched, ids);\n  removedMatchedIds.forEach(mAndM.matched.delete, mAndM.matched);\n  mAndM.unmatched = util.difference(ids, mAndM.matched);\n}\n\n/**\n * Parse MediaStreamTrack IDs of a particular kind from an SDP.\n * @param {string} kind\n * @param {string} sdp\n * @returns {Set<Track.ID>} ids\n */\nfunction parse(kind, sdp) {\n  var mediaSections = getMediaSections(sdp, kind);\n  var pattern = 'msid: ?(.+) +(.+) ?$';\n  return new Set(util.flatMap(mediaSections, function (mediaSection) {\n    return mediaSection.match(new RegExp(pattern, 'mg')) || [];\n  }).map(function (msid) {\n    return msid.match(new RegExp(pattern))[2];\n  }));\n}\n\n/**\n * A {@link OrderedTrackMatcher} is used to match RTCTrackEvents.\n * @property {MatchedAndUnmatched} audio\n * @property {MatchedAndUnmatched} video\n */\n\nvar OrderedTrackMatcher = function () {\n  function OrderedTrackMatcher() {\n    _classCallCheck(this, OrderedTrackMatcher);\n\n    if (!(this instanceof OrderedTrackMatcher)) {\n      return new OrderedTrackMatcher();\n    }\n    Object.defineProperties(this, {\n      audio: {\n        enumerable: true,\n        value: create()\n      },\n      video: {\n        enumerable: true,\n        value: create()\n      }\n    });\n  }\n\n  /**\n   * Attempt to match a new MediaStreamTrack ID.\n   * @param {RTCTrackEvent} event\n   * @returns {?Track.ID} id\n   */\n\n\n  _createClass(OrderedTrackMatcher, [{\n    key: 'match',\n    value: function match(event) {\n      return _match(this[event.track.kind]);\n    }\n\n    /**\n     * Update the {@link OrderedTrackMatcher} with a new SDP.\n     * @param {string} sdp\n     * @returns {void}\n     */\n\n  }, {\n    key: 'update',\n    value: function update(sdp) {\n      ['audio', 'video'].forEach(function (kind) {\n        _update(this[kind], parse(kind, sdp));\n      }, this);\n    }\n  }]);\n\n  return OrderedTrackMatcher;\n}();\n\nmodule.exports = OrderedTrackMatcher;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL3NkcC90cmFja21hdGNoZXIvb3JkZXJlZC5qcz8zOTA4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixXQUFXLG1CQUFPLENBQUMsaUJBQVE7QUFDM0IsdUJBQXVCLG1CQUFPLENBQUMsY0FBSzs7QUFFcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLGNBQWM7QUFDNUIsY0FBYyxjQUFjO0FBQzVCOztBQUVBO0FBQ0EsNkJBQTZCLDBCQUEwQjtBQUN2RCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYSwwQkFBMEI7QUFDdkMsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyxjQUFjO0FBQ3pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixhQUFhLGNBQWM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsTUFBTSwwQkFBMEI7QUFDaEMsY0FBYyxvQkFBb0I7QUFDbEMsY0FBYyxvQkFBb0I7QUFDbEM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSxhQUFhLGNBQWM7QUFDM0IsZUFBZSxVQUFVO0FBQ3pCOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLDBCQUEwQjtBQUM3QyxlQUFlLE9BQU87QUFDdEIsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjMxOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIHV0aWwgPSByZXF1aXJlKCcuLi8uLi8nKTtcbnZhciBnZXRNZWRpYVNlY3Rpb25zID0gcmVxdWlyZSgnLi4vJykuZ2V0TWVkaWFTZWN0aW9ucztcblxuLy8gTk9URShtcm9iZXJ0cyk6IE9yZGVyZWRUcmFja01hdGNoZXIgaXMgbWVhbnQgdG8gc29sdmUgdGhlIHByb2JsZW0gaWRlbnRpZmllZCBpblxuLy9cbi8vICAgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE3NDUxOVxuLy9cbi8vIE5hbWVseSB0aGF0LCB3aXRob3V0IE1JRHMsIHdlIGNhbm5vdCBcImNvcnJlY3RseVwiIGlkZW50aWZ5IE1lZGlhU3RyZWFtVHJhY2tzXG4vLyBpbiBTYWZhcmkncyBjdXJyZW50IFdlYlJUQyBpbXBsZW1lbnRhdGlvbi4gU28sIHRoaXMgbW9kdWxlIHRyaWVzIHRvIGhhY2tcbi8vIGFyb3VuZCB0aGlzIGJ5IG1ha2luZyBhIHBvc3NpYmx5IGRhbmdlcm91cyBhc3N1bXB0aW9uOiBcInRyYWNrXCIgZXZlbnRzIHdpbGxcbi8vIGJlIHJhaXNlZCBmb3IgTWVkaWFTdHJlYW1UcmFja3Mgb2YgYSBwYXJ0aWN1bGFyIGtpbmQgaW4gdGhlIHNhbWUgb3JkZXIgdGhhdFxuLy8gdGhvc2Uga2luZHMnIE1TSURzIGFwcGVhciBpbiB0aGUgU0RQLiBCeSBjYWxsaW5nIGB1cGRhdGVgIHdpdGggYW5cbi8vIFJUQ1BlZXJDb25uZWN0aW9uJ3MgYHJlbW90ZURlc2NyaXB0aW9uYCBhbmQgdGhlbiBpbnZva2luZyBgbWF0Y2hgLCB3ZSBvdWdodFxuLy8gdG8gYmUgYWJsZSB0byBkZXF1ZXVlIE1lZGlhU3RyZWFtVHJhY2sgSURzIGluIHRoZSBjb3JyZWN0IG9yZGVyIHRvIGJlXG4vLyBhc3NpZ25lZCB0byBcInRyYWNrXCIgZXZlbnRzLlxuXG4vKipcbiAqIEBpbnRlcmZhY2UgTWF0Y2hlZEFuZFVubWF0Y2hlZFxuICogQHByb3BlcnR5IHtTZXQ8VHJhY2suSUQ+fSBtYXRjaGVkXG4gKiBAcHJvcGVydHkge1NldDxUcmFjay5JRD59IHVubWF0Y2hlZFxuICovXG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIHtAbGluayBNYXRjaGVkQW5kVW5tYXRjaGVkfS5cbiAqIEByZXR1cm5zIHtNYXRjaGVkQW5kVW5tYXRjaGVkfVxuICovXG5mdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHJldHVybiB7XG4gICAgbWF0Y2hlZDogbmV3IFNldCgpLFxuICAgIHVubWF0Y2hlZDogbmV3IFNldCgpXG4gIH07XG59XG5cbi8qKlxuICogQXR0ZW1wdCB0byBtYXRjaCBhIE1lZGlhU3RyZWFtVHJhY2sgSUQuXG4gKiBAcGFyYW0ge01hdGNoZWRBbmRVbm1hdGNoZWR9IG1BbmRNXG4gKiBAcmV0dXJucyB7P1RyYWNrLklEfSBpZFxuICovXG5mdW5jdGlvbiBfbWF0Y2gobUFuZE0pIHtcbiAgdmFyIHVubWF0Y2hlZCA9IEFycmF5LmZyb20obUFuZE0udW5tYXRjaGVkKTtcbiAgaWYgKCF1bm1hdGNoZWQubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGlkID0gdW5tYXRjaGVkWzBdO1xuICBtQW5kTS5tYXRjaGVkLmFkZChpZCk7XG4gIG1BbmRNLnVubWF0Y2hlZC5kZWxldGUoaWQpO1xuICByZXR1cm4gaWQ7XG59XG5cbi8qKlxuICogVXBkYXRlIGEge0BsaW5rIE1hdGNoZWRBbmRVbm1hdGNoZWR9J3MgTWVkaWFTdHJlYW1UcmFjayBJRHMuXG4gKiBAcGFyYW0ge01hdGNoZWRBbmRVbm1hdGNoZWR9IG1BbmRNXG4gKiBAcGFyYW0ge1NldDxUcmFjay5JRD59IGlkc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIF91cGRhdGUobUFuZE0sIGlkcykge1xuICBpZHMgPSBuZXcgU2V0KGlkcyk7XG4gIHZhciByZW1vdmVkTWF0Y2hlZElkcyA9IHV0aWwuZGlmZmVyZW5jZShtQW5kTS5tYXRjaGVkLCBpZHMpO1xuICByZW1vdmVkTWF0Y2hlZElkcy5mb3JFYWNoKG1BbmRNLm1hdGNoZWQuZGVsZXRlLCBtQW5kTS5tYXRjaGVkKTtcbiAgbUFuZE0udW5tYXRjaGVkID0gdXRpbC5kaWZmZXJlbmNlKGlkcywgbUFuZE0ubWF0Y2hlZCk7XG59XG5cbi8qKlxuICogUGFyc2UgTWVkaWFTdHJlYW1UcmFjayBJRHMgb2YgYSBwYXJ0aWN1bGFyIGtpbmQgZnJvbSBhbiBTRFAuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2luZFxuICogQHBhcmFtIHtzdHJpbmd9IHNkcFxuICogQHJldHVybnMge1NldDxUcmFjay5JRD59IGlkc1xuICovXG5mdW5jdGlvbiBwYXJzZShraW5kLCBzZHApIHtcbiAgdmFyIG1lZGlhU2VjdGlvbnMgPSBnZXRNZWRpYVNlY3Rpb25zKHNkcCwga2luZCk7XG4gIHZhciBwYXR0ZXJuID0gJ21zaWQ6ID8oLispICsoLispID8kJztcbiAgcmV0dXJuIG5ldyBTZXQodXRpbC5mbGF0TWFwKG1lZGlhU2VjdGlvbnMsIGZ1bmN0aW9uIChtZWRpYVNlY3Rpb24pIHtcbiAgICByZXR1cm4gbWVkaWFTZWN0aW9uLm1hdGNoKG5ldyBSZWdFeHAocGF0dGVybiwgJ21nJykpIHx8IFtdO1xuICB9KS5tYXAoZnVuY3Rpb24gKG1zaWQpIHtcbiAgICByZXR1cm4gbXNpZC5tYXRjaChuZXcgUmVnRXhwKHBhdHRlcm4pKVsyXTtcbiAgfSkpO1xufVxuXG4vKipcbiAqIEEge0BsaW5rIE9yZGVyZWRUcmFja01hdGNoZXJ9IGlzIHVzZWQgdG8gbWF0Y2ggUlRDVHJhY2tFdmVudHMuXG4gKiBAcHJvcGVydHkge01hdGNoZWRBbmRVbm1hdGNoZWR9IGF1ZGlvXG4gKiBAcHJvcGVydHkge01hdGNoZWRBbmRVbm1hdGNoZWR9IHZpZGVvXG4gKi9cblxudmFyIE9yZGVyZWRUcmFja01hdGNoZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE9yZGVyZWRUcmFja01hdGNoZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9yZGVyZWRUcmFja01hdGNoZXIpO1xuXG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE9yZGVyZWRUcmFja01hdGNoZXIpKSB7XG4gICAgICByZXR1cm4gbmV3IE9yZGVyZWRUcmFja01hdGNoZXIoKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgYXVkaW86IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGNyZWF0ZSgpXG4gICAgICB9LFxuICAgICAgdmlkZW86IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGNyZWF0ZSgpXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQXR0ZW1wdCB0byBtYXRjaCBhIG5ldyBNZWRpYVN0cmVhbVRyYWNrIElELlxuICAgKiBAcGFyYW0ge1JUQ1RyYWNrRXZlbnR9IGV2ZW50XG4gICAqIEByZXR1cm5zIHs/VHJhY2suSUR9IGlkXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKE9yZGVyZWRUcmFja01hdGNoZXIsIFt7XG4gICAga2V5OiAnbWF0Y2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXRjaChldmVudCkge1xuICAgICAgcmV0dXJuIF9tYXRjaCh0aGlzW2V2ZW50LnRyYWNrLmtpbmRdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIHtAbGluayBPcmRlcmVkVHJhY2tNYXRjaGVyfSB3aXRoIGEgbmV3IFNEUC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2RwXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3VwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShzZHApIHtcbiAgICAgIFsnYXVkaW8nLCAndmlkZW8nXS5mb3JFYWNoKGZ1bmN0aW9uIChraW5kKSB7XG4gICAgICAgIF91cGRhdGUodGhpc1traW5kXSwgcGFyc2Uoa2luZCwgc2RwKSk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gT3JkZXJlZFRyYWNrTWF0Y2hlcjtcbn0oKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPcmRlcmVkVHJhY2tNYXRjaGVyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvdXRpbC9zZHAvdHJhY2ttYXRjaGVyL29yZGVyZWQuanNcbi8vIG1vZHVsZSBpZCA9IDMxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///318\n");

/***/ }),
/* 319 */
/*!********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/sdp/trackmatcher/mid.js ***!
  \********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar getMediaSections = __webpack_require__(/*! ../ */ 211).getMediaSections;\n\n/**\n * An {@link MIDTrackMatcher} matches an RTCTrackEvent with a MediaStreamTrack\n * ID based on the MID of the underlying RTCRtpTransceiver.\n */\n\nvar MIDTrackMatcher = function () {\n  /**\n   * Construct an {@link MIDTrackMatcher}.\n   */\n  function MIDTrackMatcher() {\n    _classCallCheck(this, MIDTrackMatcher);\n\n    Object.defineProperties(this, {\n      _midsToTrackIds: {\n        value: new Map(),\n        writable: true\n      }\n    });\n  }\n\n  /**\n   * Match a given MediaStreamTrack with its ID.\n   * @param {RTCTrackEvent} event\n   * @returns {?Track.ID}\n   */\n\n\n  _createClass(MIDTrackMatcher, [{\n    key: 'match',\n    value: function match(event) {\n      return this._midsToTrackIds.get(event.transceiver.mid) || null;\n    }\n\n    /**\n     * Update the {@link MIDTrackMatcher} with a new SDP.\n     * @param {string} sdp\n     */\n\n  }, {\n    key: 'update',\n    value: function update(sdp) {\n      var sections = getMediaSections(sdp, '(audio|video)');\n      this._midsToTrackIds = sections.reduce(function (midsToTrackIds, section) {\n        var midMatches = section.match(/^a=mid:(.+)$/m) || [];\n        var trackIdMatches = section.match(/^a=msid:.+ (.+)$/m) || [];\n        var mid = midMatches[1];\n        var trackId = trackIdMatches[1];\n        return mid && trackId ? midsToTrackIds.set(mid, trackId) : midsToTrackIds;\n      }, this._midsToTrackIds);\n    }\n  }]);\n\n  return MIDTrackMatcher;\n}();\n\nmodule.exports = MIDTrackMatcher;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL3NkcC90cmFja21hdGNoZXIvbWlkLmpzPzFlYjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLHVCQUF1QixtQkFBTyxDQUFDLGNBQUs7O0FBRXBDO0FBQ0EsT0FBTyxzQkFBc0I7QUFDN0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxjQUFjO0FBQzNCLGVBQWU7QUFDZjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekMsZUFBZSxPQUFPO0FBQ3RCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIzMTkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBnZXRNZWRpYVNlY3Rpb25zID0gcmVxdWlyZSgnLi4vJykuZ2V0TWVkaWFTZWN0aW9ucztcblxuLyoqXG4gKiBBbiB7QGxpbmsgTUlEVHJhY2tNYXRjaGVyfSBtYXRjaGVzIGFuIFJUQ1RyYWNrRXZlbnQgd2l0aCBhIE1lZGlhU3RyZWFtVHJhY2tcbiAqIElEIGJhc2VkIG9uIHRoZSBNSUQgb2YgdGhlIHVuZGVybHlpbmcgUlRDUnRwVHJhbnNjZWl2ZXIuXG4gKi9cblxudmFyIE1JRFRyYWNrTWF0Y2hlciA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhbiB7QGxpbmsgTUlEVHJhY2tNYXRjaGVyfS5cbiAgICovXG4gIGZ1bmN0aW9uIE1JRFRyYWNrTWF0Y2hlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTUlEVHJhY2tNYXRjaGVyKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgIF9taWRzVG9UcmFja0lkczoge1xuICAgICAgICB2YWx1ZTogbmV3IE1hcCgpLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hdGNoIGEgZ2l2ZW4gTWVkaWFTdHJlYW1UcmFjayB3aXRoIGl0cyBJRC5cbiAgICogQHBhcmFtIHtSVENUcmFja0V2ZW50fSBldmVudFxuICAgKiBAcmV0dXJucyB7P1RyYWNrLklEfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhNSURUcmFja01hdGNoZXIsIFt7XG4gICAga2V5OiAnbWF0Y2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYXRjaChldmVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21pZHNUb1RyYWNrSWRzLmdldChldmVudC50cmFuc2NlaXZlci5taWQpIHx8IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSB7QGxpbmsgTUlEVHJhY2tNYXRjaGVyfSB3aXRoIGEgbmV3IFNEUC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2RwXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3VwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShzZHApIHtcbiAgICAgIHZhciBzZWN0aW9ucyA9IGdldE1lZGlhU2VjdGlvbnMoc2RwLCAnKGF1ZGlvfHZpZGVvKScpO1xuICAgICAgdGhpcy5fbWlkc1RvVHJhY2tJZHMgPSBzZWN0aW9ucy5yZWR1Y2UoZnVuY3Rpb24gKG1pZHNUb1RyYWNrSWRzLCBzZWN0aW9uKSB7XG4gICAgICAgIHZhciBtaWRNYXRjaGVzID0gc2VjdGlvbi5tYXRjaCgvXmE9bWlkOiguKykkL20pIHx8IFtdO1xuICAgICAgICB2YXIgdHJhY2tJZE1hdGNoZXMgPSBzZWN0aW9uLm1hdGNoKC9eYT1tc2lkOi4rICguKykkL20pIHx8IFtdO1xuICAgICAgICB2YXIgbWlkID0gbWlkTWF0Y2hlc1sxXTtcbiAgICAgICAgdmFyIHRyYWNrSWQgPSB0cmFja0lkTWF0Y2hlc1sxXTtcbiAgICAgICAgcmV0dXJuIG1pZCAmJiB0cmFja0lkID8gbWlkc1RvVHJhY2tJZHMuc2V0KG1pZCwgdHJhY2tJZCkgOiBtaWRzVG9UcmFja0lkcztcbiAgICAgIH0sIHRoaXMuX21pZHNUb1RyYWNrSWRzKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTUlEVHJhY2tNYXRjaGVyO1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1JRFRyYWNrTWF0Y2hlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3V0aWwvc2RwL3RyYWNrbWF0Y2hlci9taWQuanNcbi8vIG1vZHVsZSBpZCA9IDMxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///319\n");

/***/ }),
/* 320 */
/*!*************************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/sdp/issue8329.js ***!
  \*************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar RTCSessionDescription = __webpack_require__(/*! @twilio/webrtc */ 212).RTCSessionDescription;\n\nvar createPtToCodecName = __webpack_require__(/*! ./ */ 211).createPtToCodecName;\nvar getMediaSections = __webpack_require__(/*! ./ */ 211).getMediaSections;\n\n/**\n * An RTX payload type\n * @typedef {PT} RtxPT\n */\n\n/**\n * A non-RTX payload type\n * @typedef {PT} NonRtxPT\n */\n\n/**\n * A Set with at least one element\n * @typedef {Set} NonEmptySet\n */\n\n/**\n * Apply the workaround for Issue 8329 to an RTCSessionDescriptionInit.\n * @param {RTCSessionDescriptionInit} description\n * @returns {RTCSessionDescription} newDescription\n */\nfunction workaround(description) {\n  var descriptionInit = { type: description.type };\n  if (description.type !== 'rollback') {\n    descriptionInit.sdp = sdpWorkaround(description.sdp);\n  }\n  return new RTCSessionDescription(descriptionInit);\n}\n\n/**\n * @param {string} sdp\n * @returns {string} newSdp\n */\nfunction sdpWorkaround(sdp) {\n  var mediaSections = getMediaSections(sdp);\n  var session = sdp.split('\\r\\nm=')[0];\n  return [session].concat(mediaSections.map(mediaSectionWorkaround)).join('\\r\\n');\n}\n\n/**\n * @param {string} mediaSection\n * @returns {string} newMediaSection\n */\nfunction mediaSectionWorkaround(mediaSection) {\n  var ptToCodecName = createPtToCodecName(mediaSection);\n  mediaSection = deleteDuplicateRtxPts(mediaSection, ptToCodecName);\n  var codecNameToPts = createCodecNameToPts(ptToCodecName);\n  var rtxPts = codecNameToPts.get('rtx') || new Set();\n\n  var invalidRtxPts = new Set();\n  var rtxPtToAssociatedPt = createRtxPtToAssociatedPt(mediaSection, ptToCodecName, rtxPts, invalidRtxPts);\n  var associatedPtToRtxPt = createAssociatedPtToRtxPt(rtxPtToAssociatedPt, invalidRtxPts);\n\n  var unassociatedRtxPts = Array.from(invalidRtxPts);\n\n  // NOTE(mroberts): We normalize to lowercase.\n  var knownCodecNames = ['h264', 'vp8', 'vp9'];\n  var unassociatedPts = knownCodecNames.reduce(function (unassociatedPts, codecName) {\n    var pts = codecNameToPts.get(codecName) || new Set();\n    return Array.from(pts).reduce(function (unassociatedPts, pt) {\n      return associatedPtToRtxPt.has(pt) ? unassociatedPts : unassociatedPts.add(pt);\n    }, unassociatedPts);\n  }, new Set());\n\n  unassociatedPts.forEach(function (pt) {\n    if (unassociatedRtxPts.length) {\n      var rtxPt = unassociatedRtxPts.shift();\n      mediaSection = deleteFmtpAttributesForRtxPt(mediaSection, rtxPt);\n      mediaSection = addFmtpAttributeForRtxPt(mediaSection, rtxPt, pt);\n    }\n  });\n\n  unassociatedRtxPts.forEach(function (rtxPt) {\n    mediaSection = deleteFmtpAttributesForRtxPt(mediaSection, rtxPt);\n    mediaSection = deleteRtpmapAttributesForRtxPt(mediaSection, rtxPt);\n  });\n\n  return mediaSection;\n}\n\n/**\n * @param {string} mediaSection\n * @param {Map<PT, Codec>} ptToCodecName\n * @returns {string} newMediaSection\n */\nfunction deleteDuplicateRtxPts(mediaSection, ptToCodecName) {\n  // NOTE(syerrapragada): In some cases Chrome produces an offer/answer\n  // with duplicate \"rtx\" payload mapping in media section. When applied,\n  // Chrome rejects the SDP. We workaround this by deleting duplicate\n  // \"rtx\" mappings found in SDP.\n  return Array.from(ptToCodecName.keys()).reduce(function (section, pt) {\n    var rtpmapRegex = new RegExp('^a=rtpmap:' + pt + ' rtx.+$', 'gm');\n    return (section.match(rtpmapRegex) || []).slice(ptToCodecName.get(pt) === 'rtx' ? 1 : 0).reduce(function (section, rtpmap) {\n      var rtpmapRegex = new RegExp('\\r\\n' + rtpmap);\n      var fmtpmapRegex = new RegExp('\\r\\na=fmtp:' + pt + ' apt=[0-9]+');\n      return section.replace(rtpmapRegex, '').replace(fmtpmapRegex, '');\n    }, section);\n  }, mediaSection);\n}\n\n/**\n * @param {Map<PT, Codec>} ptToCodecName\n * @returns {Map<string, NonEmptySet<PT>>} codecNameToPts\n */\nfunction createCodecNameToPts(ptToCodecName) {\n  var codecNameToPts = new Map();\n  ptToCodecName.forEach(function (codecName, pt) {\n    var pts = codecNameToPts.get(codecName) || new Set();\n    return codecNameToPts.set(codecName, pts.add(pt));\n  });\n  return codecNameToPts;\n}\n\n/**\n * @param {string} mediaSection\n * @param {Map<PT, Codec>} ptToCodecName\n * @param {Set<RtxPT>} rtxPts\n * @param {Set<RtxPT>} invalidRtxPts\n * @returns {Map<RtxPT, NonRtxPT>} rtxPtToAssociatedPt\n */\nfunction createRtxPtToAssociatedPt(mediaSection, ptToCodecName, rtxPts, invalidRtxPts) {\n  return Array.from(rtxPts).reduce(function (rtxPtToAssociatedPt, rtxPt) {\n    var fmtpPattern = new RegExp('a=fmtp:' + rtxPt + ' apt=(\\\\d+)');\n    var matches = mediaSection.match(fmtpPattern);\n    if (!matches) {\n      invalidRtxPts.add(rtxPt);\n      return rtxPtToAssociatedPt;\n    }\n\n    var pt = Number.parseInt(matches[1]);\n    if (!ptToCodecName.has(pt)) {\n      // This is Issue 8329.\n      invalidRtxPts.add(rtxPt);\n      return rtxPtToAssociatedPt;\n    }\n\n    var codecName = ptToCodecName.get(pt);\n    if (codecName === 'rtx') {\n      // Strange\n      invalidRtxPts.add(rtxPt);\n      return rtxPtToAssociatedPt;\n    }\n\n    return rtxPtToAssociatedPt.set(rtxPt, pt);\n  }, new Map());\n}\n\n/**\n * @param {string} mediaSection\n * @param {Map<RtxPT, NonRtxPT>} rtxPtToAssociatedPt\n * @param {Set<RtxPT>} invalidRtxPts\n * @returns {Map<NonRtxPT, RtxPT>} associatedPtToRtxPt\n */\nfunction createAssociatedPtToRtxPt(rtxPtToAssociatedPt, invalidRtxPts) {\n  // First, we construct a Map<NonRtxPT, NonEmptySet<RtxPT>>.\n  var associatedPtToRtxPts = Array.from(rtxPtToAssociatedPt).reduce(function (associatedPtToRtxPts, pair) {\n    var rtxPt = pair[0];\n    var pt = pair[1];\n    var rtxPts = associatedPtToRtxPts.get(pt) || new Set();\n    return associatedPtToRtxPts.set(pt, rtxPts.add(rtxPt));\n  }, new Map());\n\n  // Then, we filter down to a Map<NonRtxPT, RtxPt>. Any RtxPTs that map to the\n  // same NonRtxPT are removed and added to invalidRtxPts.\n  return Array.from(associatedPtToRtxPts).reduce(function (associatedPtToRtxPt, pair) {\n    var pt = pair[0];\n    var rtxPts = Array.from(pair[1]);\n    if (rtxPts.length > 1) {\n      rtxPts.forEach(function (rtxPt) {\n        invalidRtxPts.add(rtxPt);\n      });\n      return associatedPtToRtxPt;\n    }\n    return associatedPtToRtxPt.set(pt, rtxPts[0]);\n  }, new Map());\n}\n\n/**\n * @param {string} mediaSection\n * @param {RtxPT} rtxPt\n * @returns {string} newMediaSection\n */\nfunction deleteFmtpAttributesForRtxPt(mediaSection, rtxPt) {\n  var pattern = new RegExp('a=fmtp:' + rtxPt + '.*\\r\\n', 'gm');\n  return mediaSection.replace(pattern, '');\n}\n\n/**\n * @param {string} mediaSection\n * @param {RtxPT} rtxPt\n * @returns {string} newMediaSection\n */\nfunction deleteRtpmapAttributesForRtxPt(mediaSection, rtxPt) {\n  var pattern = new RegExp('a=rtpmap:' + rtxPt + '.*\\r\\n', 'gm');\n  return mediaSection.replace(pattern, '');\n}\n\n/**\n * @param {string} mediaSection\n * @param {RtxPT} rtxPt\n * @param {NonRtxPT} pt\n * @returns {string} newMediaSection\n */\nfunction addFmtpAttributeForRtxPt(mediaSection, rtxPt, pt) {\n  return mediaSection.endsWith('\\r\\n') ? mediaSection + 'a=fmtp:' + rtxPt + ' apt=' + pt + '\\r\\n' : mediaSection + '\\r\\na=fmtp:' + rtxPt + ' apt=' + pt;\n}\n\nmodule.exports = workaround;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL3NkcC9pc3N1ZTgzMjkuanM/MDU3NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw0QkFBNEIsbUJBQU8sQ0FBQyx5QkFBZ0I7O0FBRXBELDBCQUEwQixtQkFBTyxDQUFDLGFBQUk7QUFDdEMsdUJBQXVCLG1CQUFPLENBQUMsYUFBSTs7QUFFbkM7QUFDQTtBQUNBLGFBQWEsR0FBRztBQUNoQjs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxHQUFHO0FBQ2hCOztBQUVBO0FBQ0E7QUFDQSxhQUFhLElBQUk7QUFDakI7O0FBRUE7QUFDQTtBQUNBLFdBQVcsMEJBQTBCO0FBQ3JDLGFBQWEsc0JBQXNCO0FBQ25DO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsZUFBZTtBQUMxQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBLFdBQVcsZUFBZTtBQUMxQixhQUFhLDZCQUE2QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLGVBQWU7QUFDMUIsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsV0FBVztBQUN0QixhQUFhLHFCQUFxQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLHFCQUFxQjtBQUNoQyxXQUFXLFdBQVc7QUFDdEIsYUFBYSxxQkFBcUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxNQUFNO0FBQ2pCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsTUFBTTtBQUNqQixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE1BQU07QUFDakIsV0FBVyxTQUFTO0FBQ3BCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIzMjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBSVENTZXNzaW9uRGVzY3JpcHRpb24gPSByZXF1aXJlKCdAdHdpbGlvL3dlYnJ0YycpLlJUQ1Nlc3Npb25EZXNjcmlwdGlvbjtcblxudmFyIGNyZWF0ZVB0VG9Db2RlY05hbWUgPSByZXF1aXJlKCcuLycpLmNyZWF0ZVB0VG9Db2RlY05hbWU7XG52YXIgZ2V0TWVkaWFTZWN0aW9ucyA9IHJlcXVpcmUoJy4vJykuZ2V0TWVkaWFTZWN0aW9ucztcblxuLyoqXG4gKiBBbiBSVFggcGF5bG9hZCB0eXBlXG4gKiBAdHlwZWRlZiB7UFR9IFJ0eFBUXG4gKi9cblxuLyoqXG4gKiBBIG5vbi1SVFggcGF5bG9hZCB0eXBlXG4gKiBAdHlwZWRlZiB7UFR9IE5vblJ0eFBUXG4gKi9cblxuLyoqXG4gKiBBIFNldCB3aXRoIGF0IGxlYXN0IG9uZSBlbGVtZW50XG4gKiBAdHlwZWRlZiB7U2V0fSBOb25FbXB0eVNldFxuICovXG5cbi8qKlxuICogQXBwbHkgdGhlIHdvcmthcm91bmQgZm9yIElzc3VlIDgzMjkgdG8gYW4gUlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdC5cbiAqIEBwYXJhbSB7UlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdH0gZGVzY3JpcHRpb25cbiAqIEByZXR1cm5zIHtSVENTZXNzaW9uRGVzY3JpcHRpb259IG5ld0Rlc2NyaXB0aW9uXG4gKi9cbmZ1bmN0aW9uIHdvcmthcm91bmQoZGVzY3JpcHRpb24pIHtcbiAgdmFyIGRlc2NyaXB0aW9uSW5pdCA9IHsgdHlwZTogZGVzY3JpcHRpb24udHlwZSB9O1xuICBpZiAoZGVzY3JpcHRpb24udHlwZSAhPT0gJ3JvbGxiYWNrJykge1xuICAgIGRlc2NyaXB0aW9uSW5pdC5zZHAgPSBzZHBXb3JrYXJvdW5kKGRlc2NyaXB0aW9uLnNkcCk7XG4gIH1cbiAgcmV0dXJuIG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oZGVzY3JpcHRpb25Jbml0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc2RwXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBuZXdTZHBcbiAqL1xuZnVuY3Rpb24gc2RwV29ya2Fyb3VuZChzZHApIHtcbiAgdmFyIG1lZGlhU2VjdGlvbnMgPSBnZXRNZWRpYVNlY3Rpb25zKHNkcCk7XG4gIHZhciBzZXNzaW9uID0gc2RwLnNwbGl0KCdcXHJcXG5tPScpWzBdO1xuICByZXR1cm4gW3Nlc3Npb25dLmNvbmNhdChtZWRpYVNlY3Rpb25zLm1hcChtZWRpYVNlY3Rpb25Xb3JrYXJvdW5kKSkuam9pbignXFxyXFxuJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lZGlhU2VjdGlvblxuICogQHJldHVybnMge3N0cmluZ30gbmV3TWVkaWFTZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIG1lZGlhU2VjdGlvbldvcmthcm91bmQobWVkaWFTZWN0aW9uKSB7XG4gIHZhciBwdFRvQ29kZWNOYW1lID0gY3JlYXRlUHRUb0NvZGVjTmFtZShtZWRpYVNlY3Rpb24pO1xuICBtZWRpYVNlY3Rpb24gPSBkZWxldGVEdXBsaWNhdGVSdHhQdHMobWVkaWFTZWN0aW9uLCBwdFRvQ29kZWNOYW1lKTtcbiAgdmFyIGNvZGVjTmFtZVRvUHRzID0gY3JlYXRlQ29kZWNOYW1lVG9QdHMocHRUb0NvZGVjTmFtZSk7XG4gIHZhciBydHhQdHMgPSBjb2RlY05hbWVUb1B0cy5nZXQoJ3J0eCcpIHx8IG5ldyBTZXQoKTtcblxuICB2YXIgaW52YWxpZFJ0eFB0cyA9IG5ldyBTZXQoKTtcbiAgdmFyIHJ0eFB0VG9Bc3NvY2lhdGVkUHQgPSBjcmVhdGVSdHhQdFRvQXNzb2NpYXRlZFB0KG1lZGlhU2VjdGlvbiwgcHRUb0NvZGVjTmFtZSwgcnR4UHRzLCBpbnZhbGlkUnR4UHRzKTtcbiAgdmFyIGFzc29jaWF0ZWRQdFRvUnR4UHQgPSBjcmVhdGVBc3NvY2lhdGVkUHRUb1J0eFB0KHJ0eFB0VG9Bc3NvY2lhdGVkUHQsIGludmFsaWRSdHhQdHMpO1xuXG4gIHZhciB1bmFzc29jaWF0ZWRSdHhQdHMgPSBBcnJheS5mcm9tKGludmFsaWRSdHhQdHMpO1xuXG4gIC8vIE5PVEUobXJvYmVydHMpOiBXZSBub3JtYWxpemUgdG8gbG93ZXJjYXNlLlxuICB2YXIga25vd25Db2RlY05hbWVzID0gWydoMjY0JywgJ3ZwOCcsICd2cDknXTtcbiAgdmFyIHVuYXNzb2NpYXRlZFB0cyA9IGtub3duQ29kZWNOYW1lcy5yZWR1Y2UoZnVuY3Rpb24gKHVuYXNzb2NpYXRlZFB0cywgY29kZWNOYW1lKSB7XG4gICAgdmFyIHB0cyA9IGNvZGVjTmFtZVRvUHRzLmdldChjb2RlY05hbWUpIHx8IG5ldyBTZXQoKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShwdHMpLnJlZHVjZShmdW5jdGlvbiAodW5hc3NvY2lhdGVkUHRzLCBwdCkge1xuICAgICAgcmV0dXJuIGFzc29jaWF0ZWRQdFRvUnR4UHQuaGFzKHB0KSA/IHVuYXNzb2NpYXRlZFB0cyA6IHVuYXNzb2NpYXRlZFB0cy5hZGQocHQpO1xuICAgIH0sIHVuYXNzb2NpYXRlZFB0cyk7XG4gIH0sIG5ldyBTZXQoKSk7XG5cbiAgdW5hc3NvY2lhdGVkUHRzLmZvckVhY2goZnVuY3Rpb24gKHB0KSB7XG4gICAgaWYgKHVuYXNzb2NpYXRlZFJ0eFB0cy5sZW5ndGgpIHtcbiAgICAgIHZhciBydHhQdCA9IHVuYXNzb2NpYXRlZFJ0eFB0cy5zaGlmdCgpO1xuICAgICAgbWVkaWFTZWN0aW9uID0gZGVsZXRlRm10cEF0dHJpYnV0ZXNGb3JSdHhQdChtZWRpYVNlY3Rpb24sIHJ0eFB0KTtcbiAgICAgIG1lZGlhU2VjdGlvbiA9IGFkZEZtdHBBdHRyaWJ1dGVGb3JSdHhQdChtZWRpYVNlY3Rpb24sIHJ0eFB0LCBwdCk7XG4gICAgfVxuICB9KTtcblxuICB1bmFzc29jaWF0ZWRSdHhQdHMuZm9yRWFjaChmdW5jdGlvbiAocnR4UHQpIHtcbiAgICBtZWRpYVNlY3Rpb24gPSBkZWxldGVGbXRwQXR0cmlidXRlc0ZvclJ0eFB0KG1lZGlhU2VjdGlvbiwgcnR4UHQpO1xuICAgIG1lZGlhU2VjdGlvbiA9IGRlbGV0ZVJ0cG1hcEF0dHJpYnV0ZXNGb3JSdHhQdChtZWRpYVNlY3Rpb24sIHJ0eFB0KTtcbiAgfSk7XG5cbiAgcmV0dXJuIG1lZGlhU2VjdGlvbjtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVkaWFTZWN0aW9uXG4gKiBAcGFyYW0ge01hcDxQVCwgQ29kZWM+fSBwdFRvQ29kZWNOYW1lXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBuZXdNZWRpYVNlY3Rpb25cbiAqL1xuZnVuY3Rpb24gZGVsZXRlRHVwbGljYXRlUnR4UHRzKG1lZGlhU2VjdGlvbiwgcHRUb0NvZGVjTmFtZSkge1xuICAvLyBOT1RFKHN5ZXJyYXByYWdhZGEpOiBJbiBzb21lIGNhc2VzIENocm9tZSBwcm9kdWNlcyBhbiBvZmZlci9hbnN3ZXJcbiAgLy8gd2l0aCBkdXBsaWNhdGUgXCJydHhcIiBwYXlsb2FkIG1hcHBpbmcgaW4gbWVkaWEgc2VjdGlvbi4gV2hlbiBhcHBsaWVkLFxuICAvLyBDaHJvbWUgcmVqZWN0cyB0aGUgU0RQLiBXZSB3b3JrYXJvdW5kIHRoaXMgYnkgZGVsZXRpbmcgZHVwbGljYXRlXG4gIC8vIFwicnR4XCIgbWFwcGluZ3MgZm91bmQgaW4gU0RQLlxuICByZXR1cm4gQXJyYXkuZnJvbShwdFRvQ29kZWNOYW1lLmtleXMoKSkucmVkdWNlKGZ1bmN0aW9uIChzZWN0aW9uLCBwdCkge1xuICAgIHZhciBydHBtYXBSZWdleCA9IG5ldyBSZWdFeHAoJ15hPXJ0cG1hcDonICsgcHQgKyAnIHJ0eC4rJCcsICdnbScpO1xuICAgIHJldHVybiAoc2VjdGlvbi5tYXRjaChydHBtYXBSZWdleCkgfHwgW10pLnNsaWNlKHB0VG9Db2RlY05hbWUuZ2V0KHB0KSA9PT0gJ3J0eCcgPyAxIDogMCkucmVkdWNlKGZ1bmN0aW9uIChzZWN0aW9uLCBydHBtYXApIHtcbiAgICAgIHZhciBydHBtYXBSZWdleCA9IG5ldyBSZWdFeHAoJ1xcclxcbicgKyBydHBtYXApO1xuICAgICAgdmFyIGZtdHBtYXBSZWdleCA9IG5ldyBSZWdFeHAoJ1xcclxcbmE9Zm10cDonICsgcHQgKyAnIGFwdD1bMC05XSsnKTtcbiAgICAgIHJldHVybiBzZWN0aW9uLnJlcGxhY2UocnRwbWFwUmVnZXgsICcnKS5yZXBsYWNlKGZtdHBtYXBSZWdleCwgJycpO1xuICAgIH0sIHNlY3Rpb24pO1xuICB9LCBtZWRpYVNlY3Rpb24pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7TWFwPFBULCBDb2RlYz59IHB0VG9Db2RlY05hbWVcbiAqIEByZXR1cm5zIHtNYXA8c3RyaW5nLCBOb25FbXB0eVNldDxQVD4+fSBjb2RlY05hbWVUb1B0c1xuICovXG5mdW5jdGlvbiBjcmVhdGVDb2RlY05hbWVUb1B0cyhwdFRvQ29kZWNOYW1lKSB7XG4gIHZhciBjb2RlY05hbWVUb1B0cyA9IG5ldyBNYXAoKTtcbiAgcHRUb0NvZGVjTmFtZS5mb3JFYWNoKGZ1bmN0aW9uIChjb2RlY05hbWUsIHB0KSB7XG4gICAgdmFyIHB0cyA9IGNvZGVjTmFtZVRvUHRzLmdldChjb2RlY05hbWUpIHx8IG5ldyBTZXQoKTtcbiAgICByZXR1cm4gY29kZWNOYW1lVG9QdHMuc2V0KGNvZGVjTmFtZSwgcHRzLmFkZChwdCkpO1xuICB9KTtcbiAgcmV0dXJuIGNvZGVjTmFtZVRvUHRzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZWRpYVNlY3Rpb25cbiAqIEBwYXJhbSB7TWFwPFBULCBDb2RlYz59IHB0VG9Db2RlY05hbWVcbiAqIEBwYXJhbSB7U2V0PFJ0eFBUPn0gcnR4UHRzXG4gKiBAcGFyYW0ge1NldDxSdHhQVD59IGludmFsaWRSdHhQdHNcbiAqIEByZXR1cm5zIHtNYXA8UnR4UFQsIE5vblJ0eFBUPn0gcnR4UHRUb0Fzc29jaWF0ZWRQdFxuICovXG5mdW5jdGlvbiBjcmVhdGVSdHhQdFRvQXNzb2NpYXRlZFB0KG1lZGlhU2VjdGlvbiwgcHRUb0NvZGVjTmFtZSwgcnR4UHRzLCBpbnZhbGlkUnR4UHRzKSB7XG4gIHJldHVybiBBcnJheS5mcm9tKHJ0eFB0cykucmVkdWNlKGZ1bmN0aW9uIChydHhQdFRvQXNzb2NpYXRlZFB0LCBydHhQdCkge1xuICAgIHZhciBmbXRwUGF0dGVybiA9IG5ldyBSZWdFeHAoJ2E9Zm10cDonICsgcnR4UHQgKyAnIGFwdD0oXFxcXGQrKScpO1xuICAgIHZhciBtYXRjaGVzID0gbWVkaWFTZWN0aW9uLm1hdGNoKGZtdHBQYXR0ZXJuKTtcbiAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgIGludmFsaWRSdHhQdHMuYWRkKHJ0eFB0KTtcbiAgICAgIHJldHVybiBydHhQdFRvQXNzb2NpYXRlZFB0O1xuICAgIH1cblxuICAgIHZhciBwdCA9IE51bWJlci5wYXJzZUludChtYXRjaGVzWzFdKTtcbiAgICBpZiAoIXB0VG9Db2RlY05hbWUuaGFzKHB0KSkge1xuICAgICAgLy8gVGhpcyBpcyBJc3N1ZSA4MzI5LlxuICAgICAgaW52YWxpZFJ0eFB0cy5hZGQocnR4UHQpO1xuICAgICAgcmV0dXJuIHJ0eFB0VG9Bc3NvY2lhdGVkUHQ7XG4gICAgfVxuXG4gICAgdmFyIGNvZGVjTmFtZSA9IHB0VG9Db2RlY05hbWUuZ2V0KHB0KTtcbiAgICBpZiAoY29kZWNOYW1lID09PSAncnR4Jykge1xuICAgICAgLy8gU3RyYW5nZVxuICAgICAgaW52YWxpZFJ0eFB0cy5hZGQocnR4UHQpO1xuICAgICAgcmV0dXJuIHJ0eFB0VG9Bc3NvY2lhdGVkUHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJ0eFB0VG9Bc3NvY2lhdGVkUHQuc2V0KHJ0eFB0LCBwdCk7XG4gIH0sIG5ldyBNYXAoKSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lZGlhU2VjdGlvblxuICogQHBhcmFtIHtNYXA8UnR4UFQsIE5vblJ0eFBUPn0gcnR4UHRUb0Fzc29jaWF0ZWRQdFxuICogQHBhcmFtIHtTZXQ8UnR4UFQ+fSBpbnZhbGlkUnR4UHRzXG4gKiBAcmV0dXJucyB7TWFwPE5vblJ0eFBULCBSdHhQVD59IGFzc29jaWF0ZWRQdFRvUnR4UHRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQXNzb2NpYXRlZFB0VG9SdHhQdChydHhQdFRvQXNzb2NpYXRlZFB0LCBpbnZhbGlkUnR4UHRzKSB7XG4gIC8vIEZpcnN0LCB3ZSBjb25zdHJ1Y3QgYSBNYXA8Tm9uUnR4UFQsIE5vbkVtcHR5U2V0PFJ0eFBUPj4uXG4gIHZhciBhc3NvY2lhdGVkUHRUb1J0eFB0cyA9IEFycmF5LmZyb20ocnR4UHRUb0Fzc29jaWF0ZWRQdCkucmVkdWNlKGZ1bmN0aW9uIChhc3NvY2lhdGVkUHRUb1J0eFB0cywgcGFpcikge1xuICAgIHZhciBydHhQdCA9IHBhaXJbMF07XG4gICAgdmFyIHB0ID0gcGFpclsxXTtcbiAgICB2YXIgcnR4UHRzID0gYXNzb2NpYXRlZFB0VG9SdHhQdHMuZ2V0KHB0KSB8fCBuZXcgU2V0KCk7XG4gICAgcmV0dXJuIGFzc29jaWF0ZWRQdFRvUnR4UHRzLnNldChwdCwgcnR4UHRzLmFkZChydHhQdCkpO1xuICB9LCBuZXcgTWFwKCkpO1xuXG4gIC8vIFRoZW4sIHdlIGZpbHRlciBkb3duIHRvIGEgTWFwPE5vblJ0eFBULCBSdHhQdD4uIEFueSBSdHhQVHMgdGhhdCBtYXAgdG8gdGhlXG4gIC8vIHNhbWUgTm9uUnR4UFQgYXJlIHJlbW92ZWQgYW5kIGFkZGVkIHRvIGludmFsaWRSdHhQdHMuXG4gIHJldHVybiBBcnJheS5mcm9tKGFzc29jaWF0ZWRQdFRvUnR4UHRzKS5yZWR1Y2UoZnVuY3Rpb24gKGFzc29jaWF0ZWRQdFRvUnR4UHQsIHBhaXIpIHtcbiAgICB2YXIgcHQgPSBwYWlyWzBdO1xuICAgIHZhciBydHhQdHMgPSBBcnJheS5mcm9tKHBhaXJbMV0pO1xuICAgIGlmIChydHhQdHMubGVuZ3RoID4gMSkge1xuICAgICAgcnR4UHRzLmZvckVhY2goZnVuY3Rpb24gKHJ0eFB0KSB7XG4gICAgICAgIGludmFsaWRSdHhQdHMuYWRkKHJ0eFB0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFzc29jaWF0ZWRQdFRvUnR4UHQ7XG4gICAgfVxuICAgIHJldHVybiBhc3NvY2lhdGVkUHRUb1J0eFB0LnNldChwdCwgcnR4UHRzWzBdKTtcbiAgfSwgbmV3IE1hcCgpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVkaWFTZWN0aW9uXG4gKiBAcGFyYW0ge1J0eFBUfSBydHhQdFxuICogQHJldHVybnMge3N0cmluZ30gbmV3TWVkaWFTZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIGRlbGV0ZUZtdHBBdHRyaWJ1dGVzRm9yUnR4UHQobWVkaWFTZWN0aW9uLCBydHhQdCkge1xuICB2YXIgcGF0dGVybiA9IG5ldyBSZWdFeHAoJ2E9Zm10cDonICsgcnR4UHQgKyAnLipcXHJcXG4nLCAnZ20nKTtcbiAgcmV0dXJuIG1lZGlhU2VjdGlvbi5yZXBsYWNlKHBhdHRlcm4sICcnKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVkaWFTZWN0aW9uXG4gKiBAcGFyYW0ge1J0eFBUfSBydHhQdFxuICogQHJldHVybnMge3N0cmluZ30gbmV3TWVkaWFTZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIGRlbGV0ZVJ0cG1hcEF0dHJpYnV0ZXNGb3JSdHhQdChtZWRpYVNlY3Rpb24sIHJ0eFB0KSB7XG4gIHZhciBwYXR0ZXJuID0gbmV3IFJlZ0V4cCgnYT1ydHBtYXA6JyArIHJ0eFB0ICsgJy4qXFxyXFxuJywgJ2dtJyk7XG4gIHJldHVybiBtZWRpYVNlY3Rpb24ucmVwbGFjZShwYXR0ZXJuLCAnJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lZGlhU2VjdGlvblxuICogQHBhcmFtIHtSdHhQVH0gcnR4UHRcbiAqIEBwYXJhbSB7Tm9uUnR4UFR9IHB0XG4gKiBAcmV0dXJucyB7c3RyaW5nfSBuZXdNZWRpYVNlY3Rpb25cbiAqL1xuZnVuY3Rpb24gYWRkRm10cEF0dHJpYnV0ZUZvclJ0eFB0KG1lZGlhU2VjdGlvbiwgcnR4UHQsIHB0KSB7XG4gIHJldHVybiBtZWRpYVNlY3Rpb24uZW5kc1dpdGgoJ1xcclxcbicpID8gbWVkaWFTZWN0aW9uICsgJ2E9Zm10cDonICsgcnR4UHQgKyAnIGFwdD0nICsgcHQgKyAnXFxyXFxuJyA6IG1lZGlhU2VjdGlvbiArICdcXHJcXG5hPWZtdHA6JyArIHJ0eFB0ICsgJyBhcHQ9JyArIHB0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdvcmthcm91bmQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL3NkcC9pc3N1ZTgzMjkuanNcbi8vIG1vZHVsZSBpZCA9IDMyMFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///320\n");

/***/ }),
/* 321 */
/*!***************************************************************!*\
  !*** ./node_modules/twilio-video/es5/queueingeventemitter.js ***!
  \***************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EventEmitter = __webpack_require__(/*! events */ 207).EventEmitter;\n\n/**\n * A {@link QueueingEventEmitter} can queue events until a listener has been\n * added.\n * @extends EventEmitter\n */\n\nvar QueueingEventEmitter = function (_EventEmitter) {\n  _inherits(QueueingEventEmitter, _EventEmitter);\n\n  /**\n   * Construct a {@link QueueingEventEmitter}\n   */\n  function QueueingEventEmitter() {\n    _classCallCheck(this, QueueingEventEmitter);\n\n    var _this = _possibleConstructorReturn(this, (QueueingEventEmitter.__proto__ || Object.getPrototypeOf(QueueingEventEmitter)).call(this));\n\n    Object.defineProperties(_this, {\n      _queuedEvents: {\n        value: new Map()\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * Emit any queued events.\n   * @returns {boolean} true if every event had listeners, false otherwise\n  */ /**\n     * Emit any queued events matching the event name.\n     * @param {string} event\n     * @returns {boolean} true if every event had listeners, false otherwise\n     */\n\n\n  _createClass(QueueingEventEmitter, [{\n    key: 'dequeue',\n    value: function dequeue(event) {\n      var _this2 = this;\n\n      var result = true;\n      if (!event) {\n        this._queuedEvents.forEach(function (_, queuedEvent) {\n          result = this.dequeue(queuedEvent) && result;\n        }, this);\n        return result;\n      }\n      var queue = this._queuedEvents.get(event) || [];\n      this._queuedEvents.delete(event);\n      return queue.reduce(function (result, args) {\n        return _this2.emit.apply(_this2, _toConsumableArray([event].concat(args))) && result;\n      }, result);\n    }\n\n    /**\n     * If the event has listeners, emit the event; otherwise, queue the event.\n     * @param {string} event\n     * @param {...*} args\n     * @returns {boolean} true if the event had listeners, false if the event was queued\n     */\n\n  }, {\n    key: 'queue',\n    value: function queue() {\n      var args = [].slice.call(arguments);\n      if (this.emit.apply(this, _toConsumableArray(args))) {\n        return true;\n      }\n      var event = args[0];\n      if (!this._queuedEvents.has(event)) {\n        this._queuedEvents.set(event, []);\n      }\n      this._queuedEvents.get(event).push(args.slice(1));\n      return false;\n    }\n  }]);\n\n  return QueueingEventEmitter;\n}(EventEmitter);\n\nmodule.exports = QueueingEventEmitter;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9xdWV1ZWluZ2V2ZW50ZW1pdHRlci5qcz81ODkxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixrQ0FBa0MsMEJBQTBCLDBDQUEwQyxnQkFBZ0IsT0FBTyxrQkFBa0IsRUFBRSxhQUFhLEVBQUUsT0FBTyx3QkFBd0IsRUFBRTs7QUFFak0saURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSxtQkFBbUIsbUJBQU8sQ0FBQyxpQkFBUTs7QUFFbkM7QUFDQSxNQUFNLDJCQUEyQjtBQUNqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsaUJBQWlCLFFBQVE7QUFDekI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLGtEQUFrRDtBQUNsRCxlQUFlLE9BQU87QUFDdEIsZUFBZSxLQUFLO0FBQ3BCLGlCQUFpQixRQUFRO0FBQ3pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjMyMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcblxuLyoqXG4gKiBBIHtAbGluayBRdWV1ZWluZ0V2ZW50RW1pdHRlcn0gY2FuIHF1ZXVlIGV2ZW50cyB1bnRpbCBhIGxpc3RlbmVyIGhhcyBiZWVuXG4gKiBhZGRlZC5cbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICovXG5cbnZhciBRdWV1ZWluZ0V2ZW50RW1pdHRlciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gIF9pbmhlcml0cyhRdWV1ZWluZ0V2ZW50RW1pdHRlciwgX0V2ZW50RW1pdHRlcik7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBRdWV1ZWluZ0V2ZW50RW1pdHRlcn1cbiAgICovXG4gIGZ1bmN0aW9uIFF1ZXVlaW5nRXZlbnRFbWl0dGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBRdWV1ZWluZ0V2ZW50RW1pdHRlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUXVldWVpbmdFdmVudEVtaXR0ZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihRdWV1ZWluZ0V2ZW50RW1pdHRlcikpLmNhbGwodGhpcykpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX3RoaXMsIHtcbiAgICAgIF9xdWV1ZWRFdmVudHM6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBNYXAoKVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0IGFueSBxdWV1ZWQgZXZlbnRzLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBldmVyeSBldmVudCBoYWQgbGlzdGVuZXJzLCBmYWxzZSBvdGhlcndpc2VcbiAgKi8gLyoqXG4gICAgICogRW1pdCBhbnkgcXVldWVkIGV2ZW50cyBtYXRjaGluZyB0aGUgZXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBldmVyeSBldmVudCBoYWQgbGlzdGVuZXJzLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhRdWV1ZWluZ0V2ZW50RW1pdHRlciwgW3tcbiAgICBrZXk6ICdkZXF1ZXVlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVxdWV1ZShldmVudCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgaWYgKCFldmVudCkge1xuICAgICAgICB0aGlzLl9xdWV1ZWRFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoXywgcXVldWVkRXZlbnQpIHtcbiAgICAgICAgICByZXN1bHQgPSB0aGlzLmRlcXVldWUocXVldWVkRXZlbnQpICYmIHJlc3VsdDtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgcXVldWUgPSB0aGlzLl9xdWV1ZWRFdmVudHMuZ2V0KGV2ZW50KSB8fCBbXTtcbiAgICAgIHRoaXMuX3F1ZXVlZEV2ZW50cy5kZWxldGUoZXZlbnQpO1xuICAgICAgcmV0dXJuIHF1ZXVlLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7XG4gICAgICAgIHJldHVybiBfdGhpczIuZW1pdC5hcHBseShfdGhpczIsIF90b0NvbnN1bWFibGVBcnJheShbZXZlbnRdLmNvbmNhdChhcmdzKSkpICYmIHJlc3VsdDtcbiAgICAgIH0sIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgdGhlIGV2ZW50IGhhcyBsaXN0ZW5lcnMsIGVtaXQgdGhlIGV2ZW50OyBvdGhlcndpc2UsIHF1ZXVlIHRoZSBldmVudC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAgICAgKiBAcGFyYW0gey4uLip9IGFyZ3NcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZmFsc2UgaWYgdGhlIGV2ZW50IHdhcyBxdWV1ZWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncXVldWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBxdWV1ZSgpIHtcbiAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgaWYgKHRoaXMuZW1pdC5hcHBseSh0aGlzLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIGV2ZW50ID0gYXJnc1swXTtcbiAgICAgIGlmICghdGhpcy5fcXVldWVkRXZlbnRzLmhhcyhldmVudCkpIHtcbiAgICAgICAgdGhpcy5fcXVldWVkRXZlbnRzLnNldChldmVudCwgW10pO1xuICAgICAgfVxuICAgICAgdGhpcy5fcXVldWVkRXZlbnRzLmdldChldmVudCkucHVzaChhcmdzLnNsaWNlKDEpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUXVldWVpbmdFdmVudEVtaXR0ZXI7XG59KEV2ZW50RW1pdHRlcik7XG5cbm1vZHVsZS5leHBvcnRzID0gUXVldWVpbmdFdmVudEVtaXR0ZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9xdWV1ZWluZ2V2ZW50ZW1pdHRlci5qc1xuLy8gbW9kdWxlIGlkID0gMzIxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///321\n");

/***/ }),
/* 322 */
/*!************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/v2/room.js ***!
  \************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DominantSpeakerSignaling = __webpack_require__(/*! ./dominantspeakersignaling */ 323);\nvar NetworkQualityMonitor = __webpack_require__(/*! ./networkqualitymonitor */ 324);\nvar NetworkQualitySignaling = __webpack_require__(/*! ./networkqualitysignaling */ 331);\nvar RecordingV2 = __webpack_require__(/*! ./recording */ 333);\nvar RoomSignaling = __webpack_require__(/*! ../room */ 257);\nvar RemoteParticipantV2 = __webpack_require__(/*! ./remoteparticipant */ 334);\nvar StatsReport = __webpack_require__(/*! ../../stats/statsreport */ 246);\nvar util = __webpack_require__(/*! ../../util */ 206);\nvar createTwilioError = __webpack_require__(/*! ../../util/twilio-video-errors */ 209).createTwilioError;\n\nvar STATS_PUBLISH_INTERVAL_MS = 1000;\n\n/**\n * @extends RoomSignaling\n */\n\nvar RoomV2 = function (_RoomSignaling) {\n  _inherits(RoomV2, _RoomSignaling);\n\n  function RoomV2(localParticipant, initialState, transport, peerConnectionManager, options) {\n    _classCallCheck(this, RoomV2);\n\n    options = Object.assign({\n      NetworkQualityMonitor: NetworkQualityMonitor,\n      NetworkQualitySignaling: NetworkQualitySignaling,\n      RecordingSignaling: RecordingV2,\n      RemoteParticipantV2: RemoteParticipantV2,\n      statsPublishIntervalMs: STATS_PUBLISH_INTERVAL_MS\n    }, options);\n\n    var _this = _possibleConstructorReturn(this, (RoomV2.__proto__ || Object.getPrototypeOf(RoomV2)).call(this, localParticipant, initialState.sid, initialState.name, options));\n\n    Object.defineProperties(_this, {\n      _dominantSpeakerSignaling: {\n        value: null,\n        writable: true\n      },\n      _dominantSpeakerSignalingPromise: {\n        value: null,\n        writable: true\n      },\n      _disconnectedParticipantSids: {\n        value: new Set()\n      },\n      _NetworkQualityMonitor: {\n        value: options.NetworkQualityMonitor\n      },\n      _NetworkQualitySignaling: {\n        value: options.NetworkQualitySignaling\n      },\n      _networkQualityMonitor: {\n        value: null,\n        writable: true\n      },\n      _networkQualityMonitorPromise: {\n        value: null,\n        writable: true\n      },\n      _peerConnectionManager: {\n        value: peerConnectionManager\n      },\n      _published: {\n        value: new Map()\n      },\n      _publishedRevision: {\n        value: 0,\n        writable: true\n      },\n      _RemoteParticipantV2: {\n        value: options.RemoteParticipantV2\n      },\n      _subscribed: {\n        value: new Map()\n      },\n      _subscribedRevision: {\n        value: 0,\n        writable: true\n      },\n      _subscriptionFailures: {\n        value: new Map()\n      },\n      _transport: {\n        value: transport\n      },\n      _trackReceiverDeferreds: {\n        value: new Map()\n      }\n    });\n\n    handleLocalParticipantEvents(_this, localParticipant);\n    handlePeerConnectionEvents(_this, peerConnectionManager);\n    handleTransportEvents(_this, transport);\n    periodicallyPublishStats(_this, localParticipant, transport, options.statsPublishIntervalMs);\n\n    _this._update(initialState);\n    return _this;\n  }\n\n  /**\n   * The Signaling Connection State\n   * @property {string} - \"connected\", \"reconnecting\", \"disconnected\"\n   */\n\n\n  _createClass(RoomV2, [{\n    key: '_deleteTrackReceiverDeferred',\n\n\n    /**\n     * @private\n     */\n    value: function _deleteTrackReceiverDeferred(id) {\n      return this._trackReceiverDeferreds.delete(id);\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_getOrCreateTrackReceiverDeferred',\n    value: function _getOrCreateTrackReceiverDeferred(id) {\n      var deferred = this._trackReceiverDeferreds.get(id) || util.defer();\n      var trackReceivers = this._peerConnectionManager.getTrackReceivers();\n\n      // NOTE(mmalavalli): In Firefox, there can be instances where a MediaStreamTrack\n      // for the given Track ID already exists, for example, when a Track is removed\n      // and added back. If that is the case, then we should resolve 'deferred'.\n      var trackReceiver = trackReceivers.find(function (trackReceiver) {\n        return trackReceiver.id === id && trackReceiver.readyState !== 'ended';\n      });\n\n      if (trackReceiver) {\n        deferred.resolve(trackReceiver);\n      } else {\n        // NOTE(mmalavalli): Only add the 'deferred' to the map if it's not\n        // resolved. This will prevent old copies of the MediaStreamTrack from\n        // being used when the remote peer removes and re-adds a MediaStreamTrack.\n        this._trackReceiverDeferreds.set(id, deferred);\n      }\n\n      return deferred;\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_addTrackReceiver',\n    value: function _addTrackReceiver(trackReceiver) {\n      var deferred = this._getOrCreateTrackReceiverDeferred(trackReceiver.id);\n      deferred.resolve(trackReceiver);\n      return this;\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_disconnect',\n    value: function _disconnect(error) {\n      var didDisconnect = _get(RoomV2.prototype.__proto__ || Object.getPrototypeOf(RoomV2.prototype), '_disconnect', this).call(this, error);\n      if (didDisconnect) {\n        this._teardownDominantSpeakerSignaling();\n        this._teardownNetworkQualityMonitor();\n        this._transport.disconnect();\n        this._peerConnectionManager.close();\n      }\n\n      this.localParticipant.tracks.forEach(function (track) {\n        track.publishFailed(error || new Error('LocalParticipant disconnected'));\n      });\n\n      return didDisconnect;\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_getTrackReceiver',\n    value: function _getTrackReceiver(id) {\n      var _this2 = this;\n\n      return this._getOrCreateTrackReceiverDeferred(id).promise.then(function (trackReceiver) {\n        _this2._deleteTrackReceiverDeferred(id);\n        return trackReceiver;\n      });\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_getOrCreateRemoteParticipant',\n    value: function _getOrCreateRemoteParticipant(participantState) {\n      var RemoteParticipantV2 = this._RemoteParticipantV2;\n      var participant = this.participants.get(participantState.sid);\n      var self = this;\n      if (!participant) {\n        participant = new RemoteParticipantV2(participantState, this._getTrackReceiver.bind(this));\n        participant.on('stateChanged', function stateChanged(state) {\n          if (state === 'disconnected') {\n            participant.removeListener('stateChanged', stateChanged);\n            self.participants.delete(participant.sid);\n            self._disconnectedParticipantSids.add(participant.sid);\n          }\n        });\n        this.connectParticipant(participant);\n      }\n      return participant;\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_getState',\n    value: function _getState() {\n      return {\n        participant: this.localParticipant.getState()\n      };\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_publishNewLocalParticipantState',\n    value: function _publishNewLocalParticipantState() {\n      this._transport.publish(this._getState());\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_publishPeerConnectionState',\n    value: function _publishPeerConnectionState(peerConnectionState) {\n      /* eslint camelcase:0 */\n      this._transport.publish(Object.assign({\n        peer_connections: [peerConnectionState]\n      }, this._getState()));\n    }\n\n    /**\n     * @private\n     */\n\n  }, {\n    key: '_update',\n    value: function _update(roomState) {\n      var _this3 = this;\n\n      var participantsToKeep = new Set();\n\n      if (roomState.subscribed && roomState.subscribed.revision > this._subscribedRevision) {\n        this._subscribedRevision = roomState.subscribed.revision;\n        roomState.subscribed.tracks.forEach(function (trackState) {\n          if (trackState.id) {\n            this._subscriptionFailures.delete(trackState.sid);\n            this._subscribed.set(trackState.sid, trackState.id);\n          } else if (trackState.error && !this._subscriptionFailures.has(trackState.sid)) {\n            this._subscriptionFailures.set(trackState.sid, trackState.error);\n          }\n        }, this);\n\n        var subscribedTrackSids = new Set(roomState.subscribed.tracks.filter(function (trackState) {\n          return !!trackState.id;\n        }).map(function (trackState) {\n          return trackState.sid;\n        }));\n\n        this._subscribed.forEach(function (trackId, trackSid) {\n          if (!subscribedTrackSids.has(trackSid)) {\n            _this3._subscribed.delete(trackSid);\n          }\n        });\n      }\n\n      // TODO(mroberts): Remove me once the Server is fixed.\n      (roomState.participants || []).forEach(function (participantState) {\n        if (participantState.sid === _this3.localParticipant.sid || _this3._disconnectedParticipantSids.has(participantState.sid)) {\n          return;\n        }\n        var participant = _this3._getOrCreateRemoteParticipant(participantState);\n        participant.update(participantState);\n        participantsToKeep.add(participant);\n      });\n\n      handleSubscriptions(this);\n\n      // TODO(mroberts): Remove me once the Server is fixed.\n      /* eslint camelcase:0 */\n      if (roomState.peer_connections) {\n        this._peerConnectionManager.update(roomState.peer_connections);\n      }\n\n      if (roomState.recording) {\n        this.recording.update(roomState.recording);\n      }\n\n      if (roomState.published && roomState.published.revision > this._publishedRevision) {\n        this._publishedRevision = roomState.published.revision;\n        roomState.published.tracks.forEach(function (track) {\n          if (track.sid) {\n            this._published.set(track.id, track.sid);\n          }\n        }, this);\n        this.localParticipant.update(roomState.published);\n      }\n\n      if (roomState.participant) {\n        this.localParticipant.connect(roomState.participant.sid, roomState.participant.identity);\n      }\n\n      if (!this._dominantSpeakerSignalingPromise && roomState.media_signaling && roomState.media_signaling.active_speaker && roomState.media_signaling.active_speaker.transport && roomState.media_signaling.active_speaker.transport.type === 'data-channel') {\n        this._setupDataTransportBackedDominantSpeakerSignaling(roomState.media_signaling.active_speaker.transport.label);\n      }\n\n      if (!this._networkQualityMonitorPromise && roomState.media_signaling && roomState.media_signaling.network_quality && roomState.media_signaling.network_quality.transport && roomState.media_signaling.network_quality.transport.type === 'data-channel') {\n        this._setupDataTransportBackedNetworkQualityMonitor(roomState.media_signaling.network_quality.transport.label);\n      }\n\n      return this;\n    }\n\n    /**\n     * Create a {@link DataTransport}-backed {@link DominantSpeakerSignaling}.\n     * @private\n     * @param {ID} id - ID of the {@link DataTrackReceiver} that will ultimately\n     *   be converted into a {@link DataTrackTransport} for use with\n     *   {@link DominantSpeakerSignaling}\n     * @returns {Promise<void>}\n     */\n\n  }, {\n    key: '_setupDataTransportBackedDominantSpeakerSignaling',\n    value: function _setupDataTransportBackedDominantSpeakerSignaling(id) {\n      var _this4 = this;\n\n      this._teardownDominantSpeakerSignaling();\n      var dominantSpeakerSignalingPromise = this._getTrackReceiver(id).then(function (receiver) {\n        if (receiver.kind !== 'data') {\n          throw new Error('Expected a DataTrackReceiver');\n        }if (_this4._dominantSpeakerSignalingPromise !== dominantSpeakerSignalingPromise) {\n          // NOTE(mroberts): _teardownDominantSpeakerSignaling was called.\n          return;\n        }\n        var dominantSpeakerSignaling = new DominantSpeakerSignaling(receiver.toDataTransport());\n        _this4._setDominantSpeakerSignaling(dominantSpeakerSignaling);\n      });\n      this._dominantSpeakerSignalingPromise = dominantSpeakerSignalingPromise;\n    }\n    /**\n     * Create a {@link DataTransport}-backed {@link NetworkQualityMonitor}.\n     * @private\n     * @param {ID} id - ID of the {@link DataTrackReceiver} that will ultimately\n     *   be converted into a {@link DataTrackTransport} for use with\n     *   {@link NetworkQualitySignaling}\n     * @returns {Promise<void>}\n     */\n\n  }, {\n    key: '_setupDataTransportBackedNetworkQualityMonitor',\n    value: function _setupDataTransportBackedNetworkQualityMonitor(id) {\n      var _this5 = this;\n\n      this._teardownNetworkQualityMonitor();\n      var networkQualityMonitorPromise = this._getTrackReceiver(id).then(function (receiver) {\n        if (receiver.kind !== 'data') {\n          throw new Error('Expected a DataTrackReceiver');\n        }if (_this5._networkQualityMonitorPromise !== networkQualityMonitorPromise) {\n          // NOTE(mroberts): _teardownNetworkQualityMonitor was called.\n          return;\n        }\n        var networkQualitySignaling = new _this5._NetworkQualitySignaling(receiver.toDataTransport());\n        var networkQualityMonitor = new _this5._NetworkQualityMonitor(_this5._peerConnectionManager, networkQualitySignaling);\n        _this5._setNetworkQualityMonitor(networkQualityMonitor);\n      });\n      this._networkQualityMonitorPromise = networkQualityMonitorPromise;\n    }\n  }, {\n    key: '_setDominantSpeakerSignaling',\n    value: function _setDominantSpeakerSignaling(dominantSpeakerSignaling) {\n      var _this6 = this;\n\n      this._dominantSpeakerSignaling = dominantSpeakerSignaling;\n      dominantSpeakerSignaling.on('updated', function () {\n        return _this6.setDominantSpeaker(dominantSpeakerSignaling.loudestParticipantSid);\n      });\n    }\n  }, {\n    key: '_setNetworkQualityMonitor',\n    value: function _setNetworkQualityMonitor(networkQualityMonitor) {\n      var _this7 = this;\n\n      this._networkQualityMonitor = networkQualityMonitor;\n      networkQualityMonitor.on('updated', function () {\n        if (_this7.mediaConnectionState === 'failed') {\n          return;\n        }\n        _this7.localParticipant.setNetworkQualityLevel(networkQualityMonitor.level, networkQualityMonitor.levels);\n      });\n      networkQualityMonitor.start();\n    }\n  }, {\n    key: '_teardownDominantSpeakerSignaling',\n    value: function _teardownDominantSpeakerSignaling() {\n      this._dominantSpeakerSignalingPromise = null;\n      this._dominantSpeakerSignaling = null;\n    }\n  }, {\n    key: '_teardownNetworkQualityMonitor',\n    value: function _teardownNetworkQualityMonitor() {\n      this._networkQualityMonitorPromise = null;\n      if (this._networkQualityMonitor) {\n        this._networkQualityMonitor.stop();\n        this._networkQualityMonitor = null;\n      }\n    }\n\n    /**\n     * Get the {@link RoomV2}'s media statistics.\n     * @returns {Promise.<Map<PeerConnectionV2#id, StandardizedStatsResponse>>}\n     */\n\n  }, {\n    key: 'getStats',\n    value: function getStats() {\n      var _this8 = this;\n\n      return this._peerConnectionManager.getStats().then(function (responses) {\n        return new Map(Array.from(responses).map(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              id = _ref2[0],\n              response = _ref2[1];\n\n          return [id, Object.assign({}, response, {\n            localAudioTrackStats: filterAndAddLocalTrackSids(_this8, response.localAudioTrackStats),\n            localVideoTrackStats: filterAndAddLocalTrackSids(_this8, response.localVideoTrackStats),\n            remoteAudioTrackStats: filterAndAddRemoteTrackSids(_this8, response.remoteAudioTrackStats),\n            remoteVideoTrackStats: filterAndAddRemoteTrackSids(_this8, response.remoteVideoTrackStats)\n          })];\n        }));\n      });\n    }\n  }, {\n    key: 'signalingConnectionState',\n    get: function get() {\n      return this._transport.state === 'syncing' ? 'reconnecting' : this._transport.state;\n    }\n\n    /**\n     * The Media Connection State\n     * @property {RTCIceConnectionState}\n     */\n\n  }, {\n    key: 'mediaConnectionState',\n    get: function get() {\n      return this._peerConnectionManager.iceConnectionState;\n    }\n  }]);\n\n  return RoomV2;\n}(RoomSignaling);\n\n/**\n * Filter out {@link TrackStats} that aren't in the collection while also\n * stamping their Track SIDs.\n * @param {Map<ID, SID>} idToSid\n * @param {Array<TrackStats>} trackStats\n * @returns {Array<TrackStats>}\n */\n\n\nfunction filterAndAddTrackSids(idToSid, trackStats) {\n  return trackStats.reduce(function (trackStats, trackStat) {\n    var trackSid = idToSid.get(trackStat.trackId);\n    return trackSid ? [Object.assign({}, trackStat, { trackSid: trackSid })].concat(trackStats) : trackStats;\n  }, []);\n}\n\n/**\n * Filter out {@link LocalTrackStats} that aren't currently published while also\n * stamping their Track SIDs.\n * @param {RoomV2} roomV2\n * @param {Array<LocalTrackStats>} localTrackStats\n * @returns {Array<LocalTrackStats>}\n */\nfunction filterAndAddLocalTrackSids(roomV2, localTrackStats) {\n  return filterAndAddTrackSids(roomV2._published, localTrackStats);\n}\n\n/**\n * Filter out {@link RemoteTrackStats} that aren't currently subscribed while\n * also stamping their Track SIDs.\n * @param {RoomV2} roomV2\n * @param {Array<RemoteTrackStats>} remoteTrackStats\n * @returns {Array<RemoteTrackStats>}\n */\nfunction filterAndAddRemoteTrackSids(roomV2, remoteTrackStats) {\n  var idToSid = new Map(Array.from(roomV2._subscribed.entries()).map(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        sid = _ref4[0],\n        id = _ref4[1];\n\n    return [id, sid];\n  }));\n  return filterAndAddTrackSids(idToSid, remoteTrackStats);\n}\n\n/**\n * @typedef {object} RoomV2#Representation\n * @property {string} name\n * @property {LocalParticipantV2#Representation} participant\n * @property {?Array<RemoteParticipantV2#Representation>} participants\n * @property {?Array<PeerConnectionV2#Representation>} peer_connections\n * @property {?RecordingV2#Representation} recording\n * @property {string} sid\n */\n\nfunction handleLocalParticipantEvents(roomV2, localParticipant) {\n  var renegotiate = util.oncePerTick(function () {\n    var trackSenders = util.flatMap(localParticipant.tracks, function (trackV2) {\n      return trackV2.trackTransceiver;\n    });\n    roomV2._peerConnectionManager.setTrackSenders(trackSenders);\n  });\n\n  var localParticipantUpdated = util.oncePerTick(function () {\n    roomV2._publishNewLocalParticipantState();\n  });\n\n  localParticipant.on('trackAdded', renegotiate);\n  localParticipant.on('trackRemoved', renegotiate);\n  localParticipant.on('updated', localParticipantUpdated);\n\n  roomV2.on('stateChanged', function stateChanged(state) {\n    if (state === 'disconnected') {\n      localParticipant.removeListener('trackAdded', renegotiate);\n      localParticipant.removeListener('trackRemoved', renegotiate);\n      localParticipant.removeListener('updated', localParticipantUpdated);\n      roomV2.removeListener('stateChanged', stateChanged);\n      localParticipant.disconnect();\n    }\n  });\n}\n\nfunction handlePeerConnectionEvents(roomV2, peerConnectionManager) {\n  peerConnectionManager.on('description', function onDescription(description) {\n    roomV2._publishPeerConnectionState(description);\n  });\n  peerConnectionManager.dequeue('description');\n\n  peerConnectionManager.on('candidates', function onCandidates(candidates) {\n    roomV2._publishPeerConnectionState(candidates);\n  });\n  peerConnectionManager.dequeue('candidates');\n\n  peerConnectionManager.on('trackAdded', roomV2._addTrackReceiver.bind(roomV2));\n  peerConnectionManager.dequeue('trackAdded');\n  peerConnectionManager.getTrackReceivers().forEach(roomV2._addTrackReceiver, roomV2);\n\n  peerConnectionManager.on('iceConnectionStateChanged', function () {\n    roomV2.emit('mediaConnectionStateChanged');\n    if (roomV2.mediaConnectionState === 'failed' && roomV2.localParticipant.networkQualityLevel !== null) {\n      roomV2.localParticipant.setNetworkQualityLevel(0);\n    }\n  });\n}\n\nfunction handleTransportEvents(roomV2, transport) {\n  transport.on('message', roomV2._update.bind(roomV2));\n  transport.on('stateChanged', function stateChanged(state, error) {\n    if (state === 'disconnected') {\n      if (roomV2.state !== 'disconnected') {\n        roomV2._disconnect(error);\n      }\n      transport.removeListener('stateChanged', stateChanged);\n    }\n    roomV2.emit('signalingConnectionStateChanged');\n  });\n}\n\n/**\n * Periodically publish {@link StatsReport}s.\n * @private\n * @param {RoomV2} roomV2\n * @param {LocalParticipantV2} localParticipant\n * @param {Transport} transport\n * @param {Number} intervalMs\n */\nfunction periodicallyPublishStats(roomV2, localParticipant, transport, intervalMs) {\n  var interval = setInterval(function () {\n    roomV2.getStats().then(function (stats) {\n      stats.forEach(function (response, id) {\n        // NOTE(mmalavalli): A StatsReport is used to publish a \"stats-report\"\n        // event instead of using StandardizedStatsResponse directly because\n        // StatsReport will add nulls to properties that do not exist.\n        var report = new StatsReport(id, response);\n\n        transport.publishEvent('quality', 'stats-report', {\n          audioTrackStats: report.remoteAudioTrackStats,\n          localAudioTrackStats: report.localAudioTrackStats,\n          localVideoTrackStats: report.localVideoTrackStats,\n          participantSid: localParticipant.sid,\n          peerConnectionId: report.peerConnectionId,\n          roomSid: roomV2.sid,\n          videoTrackStats: report.remoteVideoTrackStats\n        });\n\n        // NOTE(mmalavalli): null properties of the \"active-ice-candidate-pair\"\n        // payload are assigned default values until the Insights gateway\n        // accepts null values.\n        var activeIceCandidatePair = replaceNullsWithDefaults(response.activeIceCandidatePair, report.peerConnectionId);\n\n        transport.publishEvent('quality', 'active-ice-candidate-pair', activeIceCandidatePair);\n      });\n    }, function () {\n      // Do nothing.\n    });\n  }, intervalMs);\n\n  roomV2.on('stateChanged', function onStateChanged(state) {\n    if (state === 'disconnected') {\n      clearInterval(interval);\n      roomV2.removeListener('stateChanged', onStateChanged);\n    }\n  });\n}\n\nfunction handleSubscriptions(room) {\n  var trackSignalings = new Map(util.flatMap(room.participants, function (participant) {\n    return Array.from(participant.tracks.values()).map(function (track) {\n      return [track.sid, track];\n    });\n  }));\n\n  room._subscriptionFailures.forEach(function (error, trackSid) {\n    var trackSignaling = trackSignalings.get(trackSid);\n    if (trackSignaling) {\n      room._subscriptionFailures.delete(trackSid);\n      trackSignaling.subscribeFailed(createTwilioError(error.code, error.message));\n    }\n  });\n\n  trackSignalings.forEach(function (trackSignaling) {\n    var trackId = room._subscribed.get(trackSignaling.sid);\n    if (!trackId || trackSignaling.isSubscribed && trackSignaling.trackTransceiver.id !== trackId) {\n      trackSignaling.setTrackTransceiver(null);\n    }\n    if (trackId) {\n      room._getTrackReceiver(trackId).then(function (trackReceiver) {\n        return trackSignaling.setTrackTransceiver(trackReceiver);\n      });\n    }\n  });\n}\n\nfunction replaceNullsWithDefaults(activeIceCandidatePair, peerConnectionId) {\n  activeIceCandidatePair = Object.assign({\n    availableIncomingBitrate: 0,\n    availableOutgoingBitrate: 0,\n    bytesReceived: 0,\n    bytesSent: 0,\n    consentRequestsSent: 0,\n    currentRoundTripTime: 0,\n    lastPacketReceivedTimestamp: 0,\n    lastPacketSentTimestamp: 0,\n    nominated: false,\n    peerConnectionId: peerConnectionId,\n    priority: 0,\n    readable: false,\n    requestsReceived: 0,\n    requestsSent: 0,\n    responsesReceived: 0,\n    responsesSent: 0,\n    retransmissionsReceived: 0,\n    retransmissionsSent: 0,\n    state: 'failed',\n    totalRoundTripTime: 0,\n    transportId: '',\n    writable: false\n  }, util.filterObject(activeIceCandidatePair || {}, null));\n\n  activeIceCandidatePair.localCandidate = Object.assign({\n    candidateType: 'host',\n    deleted: false,\n    ip: '',\n    port: 0,\n    priority: 0,\n    protocol: 'udp',\n    relayProtocol: 'udp',\n    url: ''\n  }, util.filterObject(activeIceCandidatePair.localCandidate || {}, null));\n\n  activeIceCandidatePair.remoteCandidate = Object.assign({\n    candidateType: 'host',\n    ip: '',\n    port: 0,\n    priority: 0,\n    protocol: 'udp',\n    url: ''\n  }, util.filterObject(activeIceCandidatePair.remoteCandidate || {}, null));\n\n  return activeIceCandidatePair;\n}\n\nmodule.exports = RoomV2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvcm9vbS5qcz84NzU3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGtDQUFrQyxpQ0FBaUMsZUFBZSxlQUFlLGdCQUFnQixvQkFBb0IsTUFBTSwwQ0FBMEMsK0JBQStCLGFBQWEscUJBQXFCLG1DQUFtQyxFQUFFLEVBQUUsY0FBYyxXQUFXLFVBQVUsRUFBRSxVQUFVLE1BQU0seUNBQXlDLEVBQUUsVUFBVSxrQkFBa0IsRUFBRSxFQUFFLGFBQWEsRUFBRSwyQkFBMkIsMEJBQTBCLFlBQVksRUFBRSwyQ0FBMkMsOEJBQThCLEVBQUUsT0FBTyw2RUFBNkUsRUFBRSxHQUFHLEVBQUU7O0FBRXJwQixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIscURBQXFELGtEQUFrRCw4REFBOEQsMEJBQTBCLDRDQUE0Qyx1QkFBdUIsa0JBQWtCLEVBQUUsT0FBTyx3Q0FBd0MsRUFBRSxFQUFFLDRCQUE0QixtQkFBbUIsRUFBRSxPQUFPLHVCQUF1Qiw0QkFBNEIsa0JBQWtCLEVBQUUsOEJBQThCLEVBQUU7O0FBRXhlLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsK0JBQStCLG1CQUFPLENBQUMscUNBQTRCO0FBQ25FLDRCQUE0QixtQkFBTyxDQUFDLGtDQUF5QjtBQUM3RCw4QkFBOEIsbUJBQU8sQ0FBQyxvQ0FBMkI7QUFDakUsa0JBQWtCLG1CQUFPLENBQUMsc0JBQWE7QUFDdkMsb0JBQW9CLG1CQUFPLENBQUMsa0JBQVM7QUFDckMsMEJBQTBCLG1CQUFPLENBQUMsOEJBQXFCO0FBQ3ZELGtCQUFrQixtQkFBTyxDQUFDLGtDQUF5QjtBQUNuRCxXQUFXLG1CQUFPLENBQUMscUJBQVk7QUFDL0Isd0JBQXdCLG1CQUFPLENBQUMseUNBQWdDOztBQUVoRTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkI7OztBQUdBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIsb0JBQW9CLFNBQVMsK0JBQStCO0FBQzdFO0FBQ0EsZUFBZSxHQUFHLGlCQUFpQix3QkFBd0I7QUFDM0QsOEJBQThCLHlCQUF5QjtBQUN2RCxVQUFVO0FBQ1YsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsb0JBQW9CLFNBQVMsNEJBQTRCO0FBQzFFO0FBQ0EsZUFBZSxHQUFHLGlCQUFpQix3QkFBd0I7QUFDM0QsOEJBQThCLHlCQUF5QjtBQUN2RCxVQUFVO0FBQ1YsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLGFBQWE7QUFDN0IsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0EsZUFBZSxpQkFBaUI7QUFDaEM7QUFDQSxXQUFXLGFBQWE7QUFDeEIsV0FBVyxrQkFBa0I7QUFDN0IsYUFBYTtBQUNiOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsY0FBYyxxQkFBcUI7QUFDMUUsR0FBRztBQUNIOztBQUVBO0FBQ0EsZUFBZSxzQkFBc0I7QUFDckM7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyx1QkFBdUI7QUFDbEMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSx1QkFBdUI7QUFDdEM7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyx3QkFBd0I7QUFDbkMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGNBQWMsT0FBTztBQUNyQixjQUFjLGtDQUFrQztBQUNoRCxjQUFjLDJDQUEyQztBQUN6RCxjQUFjLHdDQUF3QztBQUN0RCxjQUFjLDRCQUE0QjtBQUMxQyxjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EseUJBQXlCLGtCQUFrQjtBQUMzQztBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLG1CQUFtQjtBQUM5QixXQUFXLFVBQVU7QUFDckIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsZ0RBQWdEOztBQUVuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLCtEQUErRDs7QUFFbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGdFQUFnRTs7QUFFbkU7QUFDQTs7QUFFQSIsImZpbGUiOiIzMjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IHJldHVybiBnZXQocGFyZW50LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9O1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBEb21pbmFudFNwZWFrZXJTaWduYWxpbmcgPSByZXF1aXJlKCcuL2RvbWluYW50c3BlYWtlcnNpZ25hbGluZycpO1xudmFyIE5ldHdvcmtRdWFsaXR5TW9uaXRvciA9IHJlcXVpcmUoJy4vbmV0d29ya3F1YWxpdHltb25pdG9yJyk7XG52YXIgTmV0d29ya1F1YWxpdHlTaWduYWxpbmcgPSByZXF1aXJlKCcuL25ldHdvcmtxdWFsaXR5c2lnbmFsaW5nJyk7XG52YXIgUmVjb3JkaW5nVjIgPSByZXF1aXJlKCcuL3JlY29yZGluZycpO1xudmFyIFJvb21TaWduYWxpbmcgPSByZXF1aXJlKCcuLi9yb29tJyk7XG52YXIgUmVtb3RlUGFydGljaXBhbnRWMiA9IHJlcXVpcmUoJy4vcmVtb3RlcGFydGljaXBhbnQnKTtcbnZhciBTdGF0c1JlcG9ydCA9IHJlcXVpcmUoJy4uLy4uL3N0YXRzL3N0YXRzcmVwb3J0Jyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4uLy4uL3V0aWwnKTtcbnZhciBjcmVhdGVUd2lsaW9FcnJvciA9IHJlcXVpcmUoJy4uLy4uL3V0aWwvdHdpbGlvLXZpZGVvLWVycm9ycycpLmNyZWF0ZVR3aWxpb0Vycm9yO1xuXG52YXIgU1RBVFNfUFVCTElTSF9JTlRFUlZBTF9NUyA9IDEwMDA7XG5cbi8qKlxuICogQGV4dGVuZHMgUm9vbVNpZ25hbGluZ1xuICovXG5cbnZhciBSb29tVjIgPSBmdW5jdGlvbiAoX1Jvb21TaWduYWxpbmcpIHtcbiAgX2luaGVyaXRzKFJvb21WMiwgX1Jvb21TaWduYWxpbmcpO1xuXG4gIGZ1bmN0aW9uIFJvb21WMihsb2NhbFBhcnRpY2lwYW50LCBpbml0aWFsU3RhdGUsIHRyYW5zcG9ydCwgcGVlckNvbm5lY3Rpb25NYW5hZ2VyLCBvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvb21WMik7XG5cbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBOZXR3b3JrUXVhbGl0eU1vbml0b3I6IE5ldHdvcmtRdWFsaXR5TW9uaXRvcixcbiAgICAgIE5ldHdvcmtRdWFsaXR5U2lnbmFsaW5nOiBOZXR3b3JrUXVhbGl0eVNpZ25hbGluZyxcbiAgICAgIFJlY29yZGluZ1NpZ25hbGluZzogUmVjb3JkaW5nVjIsXG4gICAgICBSZW1vdGVQYXJ0aWNpcGFudFYyOiBSZW1vdGVQYXJ0aWNpcGFudFYyLFxuICAgICAgc3RhdHNQdWJsaXNoSW50ZXJ2YWxNczogU1RBVFNfUFVCTElTSF9JTlRFUlZBTF9NU1xuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJvb21WMi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJvb21WMikpLmNhbGwodGhpcywgbG9jYWxQYXJ0aWNpcGFudCwgaW5pdGlhbFN0YXRlLnNpZCwgaW5pdGlhbFN0YXRlLm5hbWUsIG9wdGlvbnMpKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBfZG9taW5hbnRTcGVha2VyU2lnbmFsaW5nOiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIF9kb21pbmFudFNwZWFrZXJTaWduYWxpbmdQcm9taXNlOiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIF9kaXNjb25uZWN0ZWRQYXJ0aWNpcGFudFNpZHM6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBTZXQoKVxuICAgICAgfSxcbiAgICAgIF9OZXR3b3JrUXVhbGl0eU1vbml0b3I6IHtcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMuTmV0d29ya1F1YWxpdHlNb25pdG9yXG4gICAgICB9LFxuICAgICAgX05ldHdvcmtRdWFsaXR5U2lnbmFsaW5nOiB7XG4gICAgICAgIHZhbHVlOiBvcHRpb25zLk5ldHdvcmtRdWFsaXR5U2lnbmFsaW5nXG4gICAgICB9LFxuICAgICAgX25ldHdvcmtRdWFsaXR5TW9uaXRvcjoge1xuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBfbmV0d29ya1F1YWxpdHlNb25pdG9yUHJvbWlzZToge1xuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBfcGVlckNvbm5lY3Rpb25NYW5hZ2VyOiB7XG4gICAgICAgIHZhbHVlOiBwZWVyQ29ubmVjdGlvbk1hbmFnZXJcbiAgICAgIH0sXG4gICAgICBfcHVibGlzaGVkOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgTWFwKClcbiAgICAgIH0sXG4gICAgICBfcHVibGlzaGVkUmV2aXNpb246IHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9LFxuICAgICAgX1JlbW90ZVBhcnRpY2lwYW50VjI6IHtcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMuUmVtb3RlUGFydGljaXBhbnRWMlxuICAgICAgfSxcbiAgICAgIF9zdWJzY3JpYmVkOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgTWFwKClcbiAgICAgIH0sXG4gICAgICBfc3Vic2NyaWJlZFJldmlzaW9uOiB7XG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIF9zdWJzY3JpcHRpb25GYWlsdXJlczoge1xuICAgICAgICB2YWx1ZTogbmV3IE1hcCgpXG4gICAgICB9LFxuICAgICAgX3RyYW5zcG9ydDoge1xuICAgICAgICB2YWx1ZTogdHJhbnNwb3J0XG4gICAgICB9LFxuICAgICAgX3RyYWNrUmVjZWl2ZXJEZWZlcnJlZHM6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBNYXAoKVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaGFuZGxlTG9jYWxQYXJ0aWNpcGFudEV2ZW50cyhfdGhpcywgbG9jYWxQYXJ0aWNpcGFudCk7XG4gICAgaGFuZGxlUGVlckNvbm5lY3Rpb25FdmVudHMoX3RoaXMsIHBlZXJDb25uZWN0aW9uTWFuYWdlcik7XG4gICAgaGFuZGxlVHJhbnNwb3J0RXZlbnRzKF90aGlzLCB0cmFuc3BvcnQpO1xuICAgIHBlcmlvZGljYWxseVB1Ymxpc2hTdGF0cyhfdGhpcywgbG9jYWxQYXJ0aWNpcGFudCwgdHJhbnNwb3J0LCBvcHRpb25zLnN0YXRzUHVibGlzaEludGVydmFsTXMpO1xuXG4gICAgX3RoaXMuX3VwZGF0ZShpbml0aWFsU3RhdGUpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgU2lnbmFsaW5nIENvbm5lY3Rpb24gU3RhdGVcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IC0gXCJjb25uZWN0ZWRcIiwgXCJyZWNvbm5lY3RpbmdcIiwgXCJkaXNjb25uZWN0ZWRcIlxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhSb29tVjIsIFt7XG4gICAga2V5OiAnX2RlbGV0ZVRyYWNrUmVjZWl2ZXJEZWZlcnJlZCcsXG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWxldGVUcmFja1JlY2VpdmVyRGVmZXJyZWQoaWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl90cmFja1JlY2VpdmVyRGVmZXJyZWRzLmRlbGV0ZShpZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2dldE9yQ3JlYXRlVHJhY2tSZWNlaXZlckRlZmVycmVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldE9yQ3JlYXRlVHJhY2tSZWNlaXZlckRlZmVycmVkKGlkKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLl90cmFja1JlY2VpdmVyRGVmZXJyZWRzLmdldChpZCkgfHwgdXRpbC5kZWZlcigpO1xuICAgICAgdmFyIHRyYWNrUmVjZWl2ZXJzID0gdGhpcy5fcGVlckNvbm5lY3Rpb25NYW5hZ2VyLmdldFRyYWNrUmVjZWl2ZXJzKCk7XG5cbiAgICAgIC8vIE5PVEUobW1hbGF2YWxsaSk6IEluIEZpcmVmb3gsIHRoZXJlIGNhbiBiZSBpbnN0YW5jZXMgd2hlcmUgYSBNZWRpYVN0cmVhbVRyYWNrXG4gICAgICAvLyBmb3IgdGhlIGdpdmVuIFRyYWNrIElEIGFscmVhZHkgZXhpc3RzLCBmb3IgZXhhbXBsZSwgd2hlbiBhIFRyYWNrIGlzIHJlbW92ZWRcbiAgICAgIC8vIGFuZCBhZGRlZCBiYWNrLiBJZiB0aGF0IGlzIHRoZSBjYXNlLCB0aGVuIHdlIHNob3VsZCByZXNvbHZlICdkZWZlcnJlZCcuXG4gICAgICB2YXIgdHJhY2tSZWNlaXZlciA9IHRyYWNrUmVjZWl2ZXJzLmZpbmQoZnVuY3Rpb24gKHRyYWNrUmVjZWl2ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRyYWNrUmVjZWl2ZXIuaWQgPT09IGlkICYmIHRyYWNrUmVjZWl2ZXIucmVhZHlTdGF0ZSAhPT0gJ2VuZGVkJztcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodHJhY2tSZWNlaXZlcikge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRyYWNrUmVjZWl2ZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTk9URShtbWFsYXZhbGxpKTogT25seSBhZGQgdGhlICdkZWZlcnJlZCcgdG8gdGhlIG1hcCBpZiBpdCdzIG5vdFxuICAgICAgICAvLyByZXNvbHZlZC4gVGhpcyB3aWxsIHByZXZlbnQgb2xkIGNvcGllcyBvZiB0aGUgTWVkaWFTdHJlYW1UcmFjayBmcm9tXG4gICAgICAgIC8vIGJlaW5nIHVzZWQgd2hlbiB0aGUgcmVtb3RlIHBlZXIgcmVtb3ZlcyBhbmQgcmUtYWRkcyBhIE1lZGlhU3RyZWFtVHJhY2suXG4gICAgICAgIHRoaXMuX3RyYWNrUmVjZWl2ZXJEZWZlcnJlZHMuc2V0KGlkLCBkZWZlcnJlZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfYWRkVHJhY2tSZWNlaXZlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGRUcmFja1JlY2VpdmVyKHRyYWNrUmVjZWl2ZXIpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9IHRoaXMuX2dldE9yQ3JlYXRlVHJhY2tSZWNlaXZlckRlZmVycmVkKHRyYWNrUmVjZWl2ZXIuaWQpO1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cmFja1JlY2VpdmVyKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19kaXNjb25uZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2Rpc2Nvbm5lY3QoZXJyb3IpIHtcbiAgICAgIHZhciBkaWREaXNjb25uZWN0ID0gX2dldChSb29tVjIucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUm9vbVYyLnByb3RvdHlwZSksICdfZGlzY29ubmVjdCcsIHRoaXMpLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgaWYgKGRpZERpc2Nvbm5lY3QpIHtcbiAgICAgICAgdGhpcy5fdGVhcmRvd25Eb21pbmFudFNwZWFrZXJTaWduYWxpbmcoKTtcbiAgICAgICAgdGhpcy5fdGVhcmRvd25OZXR3b3JrUXVhbGl0eU1vbml0b3IoKTtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0LmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5fcGVlckNvbm5lY3Rpb25NYW5hZ2VyLmNsb3NlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubG9jYWxQYXJ0aWNpcGFudC50cmFja3MuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgdHJhY2sucHVibGlzaEZhaWxlZChlcnJvciB8fCBuZXcgRXJyb3IoJ0xvY2FsUGFydGljaXBhbnQgZGlzY29ubmVjdGVkJykpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkaWREaXNjb25uZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19nZXRUcmFja1JlY2VpdmVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFRyYWNrUmVjZWl2ZXIoaWQpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGhpcy5fZ2V0T3JDcmVhdGVUcmFja1JlY2VpdmVyRGVmZXJyZWQoaWQpLnByb21pc2UudGhlbihmdW5jdGlvbiAodHJhY2tSZWNlaXZlcikge1xuICAgICAgICBfdGhpczIuX2RlbGV0ZVRyYWNrUmVjZWl2ZXJEZWZlcnJlZChpZCk7XG4gICAgICAgIHJldHVybiB0cmFja1JlY2VpdmVyO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2dldE9yQ3JlYXRlUmVtb3RlUGFydGljaXBhbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0T3JDcmVhdGVSZW1vdGVQYXJ0aWNpcGFudChwYXJ0aWNpcGFudFN0YXRlKSB7XG4gICAgICB2YXIgUmVtb3RlUGFydGljaXBhbnRWMiA9IHRoaXMuX1JlbW90ZVBhcnRpY2lwYW50VjI7XG4gICAgICB2YXIgcGFydGljaXBhbnQgPSB0aGlzLnBhcnRpY2lwYW50cy5nZXQocGFydGljaXBhbnRTdGF0ZS5zaWQpO1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgaWYgKCFwYXJ0aWNpcGFudCkge1xuICAgICAgICBwYXJ0aWNpcGFudCA9IG5ldyBSZW1vdGVQYXJ0aWNpcGFudFYyKHBhcnRpY2lwYW50U3RhdGUsIHRoaXMuX2dldFRyYWNrUmVjZWl2ZXIuYmluZCh0aGlzKSk7XG4gICAgICAgIHBhcnRpY2lwYW50Lm9uKCdzdGF0ZUNoYW5nZWQnLCBmdW5jdGlvbiBzdGF0ZUNoYW5nZWQoc3RhdGUpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09ICdkaXNjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICBwYXJ0aWNpcGFudC5yZW1vdmVMaXN0ZW5lcignc3RhdGVDaGFuZ2VkJywgc3RhdGVDaGFuZ2VkKTtcbiAgICAgICAgICAgIHNlbGYucGFydGljaXBhbnRzLmRlbGV0ZShwYXJ0aWNpcGFudC5zaWQpO1xuICAgICAgICAgICAgc2VsZi5fZGlzY29ubmVjdGVkUGFydGljaXBhbnRTaWRzLmFkZChwYXJ0aWNpcGFudC5zaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29ubmVjdFBhcnRpY2lwYW50KHBhcnRpY2lwYW50KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXJ0aWNpcGFudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfZ2V0U3RhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0U3RhdGUoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXJ0aWNpcGFudDogdGhpcy5sb2NhbFBhcnRpY2lwYW50LmdldFN0YXRlKClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX3B1Ymxpc2hOZXdMb2NhbFBhcnRpY2lwYW50U3RhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcHVibGlzaE5ld0xvY2FsUGFydGljaXBhbnRTdGF0ZSgpIHtcbiAgICAgIHRoaXMuX3RyYW5zcG9ydC5wdWJsaXNoKHRoaXMuX2dldFN0YXRlKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19wdWJsaXNoUGVlckNvbm5lY3Rpb25TdGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9wdWJsaXNoUGVlckNvbm5lY3Rpb25TdGF0ZShwZWVyQ29ubmVjdGlvblN0YXRlKSB7XG4gICAgICAvKiBlc2xpbnQgY2FtZWxjYXNlOjAgKi9cbiAgICAgIHRoaXMuX3RyYW5zcG9ydC5wdWJsaXNoKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBwZWVyX2Nvbm5lY3Rpb25zOiBbcGVlckNvbm5lY3Rpb25TdGF0ZV1cbiAgICAgIH0sIHRoaXMuX2dldFN0YXRlKCkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfdXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZShyb29tU3RhdGUpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgcGFydGljaXBhbnRzVG9LZWVwID0gbmV3IFNldCgpO1xuXG4gICAgICBpZiAocm9vbVN0YXRlLnN1YnNjcmliZWQgJiYgcm9vbVN0YXRlLnN1YnNjcmliZWQucmV2aXNpb24gPiB0aGlzLl9zdWJzY3JpYmVkUmV2aXNpb24pIHtcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlZFJldmlzaW9uID0gcm9vbVN0YXRlLnN1YnNjcmliZWQucmV2aXNpb247XG4gICAgICAgIHJvb21TdGF0ZS5zdWJzY3JpYmVkLnRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFja1N0YXRlKSB7XG4gICAgICAgICAgaWYgKHRyYWNrU3RhdGUuaWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbkZhaWx1cmVzLmRlbGV0ZSh0cmFja1N0YXRlLnNpZCk7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmVkLnNldCh0cmFja1N0YXRlLnNpZCwgdHJhY2tTdGF0ZS5pZCk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0cmFja1N0YXRlLmVycm9yICYmICF0aGlzLl9zdWJzY3JpcHRpb25GYWlsdXJlcy5oYXModHJhY2tTdGF0ZS5zaWQpKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25GYWlsdXJlcy5zZXQodHJhY2tTdGF0ZS5zaWQsIHRyYWNrU3RhdGUuZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdmFyIHN1YnNjcmliZWRUcmFja1NpZHMgPSBuZXcgU2V0KHJvb21TdGF0ZS5zdWJzY3JpYmVkLnRyYWNrcy5maWx0ZXIoZnVuY3Rpb24gKHRyYWNrU3RhdGUpIHtcbiAgICAgICAgICByZXR1cm4gISF0cmFja1N0YXRlLmlkO1xuICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKHRyYWNrU3RhdGUpIHtcbiAgICAgICAgICByZXR1cm4gdHJhY2tTdGF0ZS5zaWQ7XG4gICAgICAgIH0pKTtcblxuICAgICAgICB0aGlzLl9zdWJzY3JpYmVkLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrSWQsIHRyYWNrU2lkKSB7XG4gICAgICAgICAgaWYgKCFzdWJzY3JpYmVkVHJhY2tTaWRzLmhhcyh0cmFja1NpZCkpIHtcbiAgICAgICAgICAgIF90aGlzMy5fc3Vic2NyaWJlZC5kZWxldGUodHJhY2tTaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE8obXJvYmVydHMpOiBSZW1vdmUgbWUgb25jZSB0aGUgU2VydmVyIGlzIGZpeGVkLlxuICAgICAgKHJvb21TdGF0ZS5wYXJ0aWNpcGFudHMgfHwgW10pLmZvckVhY2goZnVuY3Rpb24gKHBhcnRpY2lwYW50U3RhdGUpIHtcbiAgICAgICAgaWYgKHBhcnRpY2lwYW50U3RhdGUuc2lkID09PSBfdGhpczMubG9jYWxQYXJ0aWNpcGFudC5zaWQgfHwgX3RoaXMzLl9kaXNjb25uZWN0ZWRQYXJ0aWNpcGFudFNpZHMuaGFzKHBhcnRpY2lwYW50U3RhdGUuc2lkKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFydGljaXBhbnQgPSBfdGhpczMuX2dldE9yQ3JlYXRlUmVtb3RlUGFydGljaXBhbnQocGFydGljaXBhbnRTdGF0ZSk7XG4gICAgICAgIHBhcnRpY2lwYW50LnVwZGF0ZShwYXJ0aWNpcGFudFN0YXRlKTtcbiAgICAgICAgcGFydGljaXBhbnRzVG9LZWVwLmFkZChwYXJ0aWNpcGFudCk7XG4gICAgICB9KTtcblxuICAgICAgaGFuZGxlU3Vic2NyaXB0aW9ucyh0aGlzKTtcblxuICAgICAgLy8gVE9ETyhtcm9iZXJ0cyk6IFJlbW92ZSBtZSBvbmNlIHRoZSBTZXJ2ZXIgaXMgZml4ZWQuXG4gICAgICAvKiBlc2xpbnQgY2FtZWxjYXNlOjAgKi9cbiAgICAgIGlmIChyb29tU3RhdGUucGVlcl9jb25uZWN0aW9ucykge1xuICAgICAgICB0aGlzLl9wZWVyQ29ubmVjdGlvbk1hbmFnZXIudXBkYXRlKHJvb21TdGF0ZS5wZWVyX2Nvbm5lY3Rpb25zKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJvb21TdGF0ZS5yZWNvcmRpbmcpIHtcbiAgICAgICAgdGhpcy5yZWNvcmRpbmcudXBkYXRlKHJvb21TdGF0ZS5yZWNvcmRpbmcpO1xuICAgICAgfVxuXG4gICAgICBpZiAocm9vbVN0YXRlLnB1Ymxpc2hlZCAmJiByb29tU3RhdGUucHVibGlzaGVkLnJldmlzaW9uID4gdGhpcy5fcHVibGlzaGVkUmV2aXNpb24pIHtcbiAgICAgICAgdGhpcy5fcHVibGlzaGVkUmV2aXNpb24gPSByb29tU3RhdGUucHVibGlzaGVkLnJldmlzaW9uO1xuICAgICAgICByb29tU3RhdGUucHVibGlzaGVkLnRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICAgIGlmICh0cmFjay5zaWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3B1Ymxpc2hlZC5zZXQodHJhY2suaWQsIHRyYWNrLnNpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgdGhpcy5sb2NhbFBhcnRpY2lwYW50LnVwZGF0ZShyb29tU3RhdGUucHVibGlzaGVkKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJvb21TdGF0ZS5wYXJ0aWNpcGFudCkge1xuICAgICAgICB0aGlzLmxvY2FsUGFydGljaXBhbnQuY29ubmVjdChyb29tU3RhdGUucGFydGljaXBhbnQuc2lkLCByb29tU3RhdGUucGFydGljaXBhbnQuaWRlbnRpdHkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuX2RvbWluYW50U3BlYWtlclNpZ25hbGluZ1Byb21pc2UgJiYgcm9vbVN0YXRlLm1lZGlhX3NpZ25hbGluZyAmJiByb29tU3RhdGUubWVkaWFfc2lnbmFsaW5nLmFjdGl2ZV9zcGVha2VyICYmIHJvb21TdGF0ZS5tZWRpYV9zaWduYWxpbmcuYWN0aXZlX3NwZWFrZXIudHJhbnNwb3J0ICYmIHJvb21TdGF0ZS5tZWRpYV9zaWduYWxpbmcuYWN0aXZlX3NwZWFrZXIudHJhbnNwb3J0LnR5cGUgPT09ICdkYXRhLWNoYW5uZWwnKSB7XG4gICAgICAgIHRoaXMuX3NldHVwRGF0YVRyYW5zcG9ydEJhY2tlZERvbWluYW50U3BlYWtlclNpZ25hbGluZyhyb29tU3RhdGUubWVkaWFfc2lnbmFsaW5nLmFjdGl2ZV9zcGVha2VyLnRyYW5zcG9ydC5sYWJlbCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5fbmV0d29ya1F1YWxpdHlNb25pdG9yUHJvbWlzZSAmJiByb29tU3RhdGUubWVkaWFfc2lnbmFsaW5nICYmIHJvb21TdGF0ZS5tZWRpYV9zaWduYWxpbmcubmV0d29ya19xdWFsaXR5ICYmIHJvb21TdGF0ZS5tZWRpYV9zaWduYWxpbmcubmV0d29ya19xdWFsaXR5LnRyYW5zcG9ydCAmJiByb29tU3RhdGUubWVkaWFfc2lnbmFsaW5nLm5ldHdvcmtfcXVhbGl0eS50cmFuc3BvcnQudHlwZSA9PT0gJ2RhdGEtY2hhbm5lbCcpIHtcbiAgICAgICAgdGhpcy5fc2V0dXBEYXRhVHJhbnNwb3J0QmFja2VkTmV0d29ya1F1YWxpdHlNb25pdG9yKHJvb21TdGF0ZS5tZWRpYV9zaWduYWxpbmcubmV0d29ya19xdWFsaXR5LnRyYW5zcG9ydC5sYWJlbCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHtAbGluayBEYXRhVHJhbnNwb3J0fS1iYWNrZWQge0BsaW5rIERvbWluYW50U3BlYWtlclNpZ25hbGluZ30uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0lEfSBpZCAtIElEIG9mIHRoZSB7QGxpbmsgRGF0YVRyYWNrUmVjZWl2ZXJ9IHRoYXQgd2lsbCB1bHRpbWF0ZWx5XG4gICAgICogICBiZSBjb252ZXJ0ZWQgaW50byBhIHtAbGluayBEYXRhVHJhY2tUcmFuc3BvcnR9IGZvciB1c2Ugd2l0aFxuICAgICAqICAge0BsaW5rIERvbWluYW50U3BlYWtlclNpZ25hbGluZ31cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX3NldHVwRGF0YVRyYW5zcG9ydEJhY2tlZERvbWluYW50U3BlYWtlclNpZ25hbGluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cERhdGFUcmFuc3BvcnRCYWNrZWREb21pbmFudFNwZWFrZXJTaWduYWxpbmcoaWQpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB0aGlzLl90ZWFyZG93bkRvbWluYW50U3BlYWtlclNpZ25hbGluZygpO1xuICAgICAgdmFyIGRvbWluYW50U3BlYWtlclNpZ25hbGluZ1Byb21pc2UgPSB0aGlzLl9nZXRUcmFja1JlY2VpdmVyKGlkKS50aGVuKGZ1bmN0aW9uIChyZWNlaXZlcikge1xuICAgICAgICBpZiAocmVjZWl2ZXIua2luZCAhPT0gJ2RhdGEnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBhIERhdGFUcmFja1JlY2VpdmVyJyk7XG4gICAgICAgIH1pZiAoX3RoaXM0Ll9kb21pbmFudFNwZWFrZXJTaWduYWxpbmdQcm9taXNlICE9PSBkb21pbmFudFNwZWFrZXJTaWduYWxpbmdQcm9taXNlKSB7XG4gICAgICAgICAgLy8gTk9URShtcm9iZXJ0cyk6IF90ZWFyZG93bkRvbWluYW50U3BlYWtlclNpZ25hbGluZyB3YXMgY2FsbGVkLlxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZG9taW5hbnRTcGVha2VyU2lnbmFsaW5nID0gbmV3IERvbWluYW50U3BlYWtlclNpZ25hbGluZyhyZWNlaXZlci50b0RhdGFUcmFuc3BvcnQoKSk7XG4gICAgICAgIF90aGlzNC5fc2V0RG9taW5hbnRTcGVha2VyU2lnbmFsaW5nKGRvbWluYW50U3BlYWtlclNpZ25hbGluZyk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2RvbWluYW50U3BlYWtlclNpZ25hbGluZ1Byb21pc2UgPSBkb21pbmFudFNwZWFrZXJTaWduYWxpbmdQcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB7QGxpbmsgRGF0YVRyYW5zcG9ydH0tYmFja2VkIHtAbGluayBOZXR3b3JrUXVhbGl0eU1vbml0b3J9LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtJRH0gaWQgLSBJRCBvZiB0aGUge0BsaW5rIERhdGFUcmFja1JlY2VpdmVyfSB0aGF0IHdpbGwgdWx0aW1hdGVseVxuICAgICAqICAgYmUgY29udmVydGVkIGludG8gYSB7QGxpbmsgRGF0YVRyYWNrVHJhbnNwb3J0fSBmb3IgdXNlIHdpdGhcbiAgICAgKiAgIHtAbGluayBOZXR3b3JrUXVhbGl0eVNpZ25hbGluZ31cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX3NldHVwRGF0YVRyYW5zcG9ydEJhY2tlZE5ldHdvcmtRdWFsaXR5TW9uaXRvcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cERhdGFUcmFuc3BvcnRCYWNrZWROZXR3b3JrUXVhbGl0eU1vbml0b3IoaWQpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICB0aGlzLl90ZWFyZG93bk5ldHdvcmtRdWFsaXR5TW9uaXRvcigpO1xuICAgICAgdmFyIG5ldHdvcmtRdWFsaXR5TW9uaXRvclByb21pc2UgPSB0aGlzLl9nZXRUcmFja1JlY2VpdmVyKGlkKS50aGVuKGZ1bmN0aW9uIChyZWNlaXZlcikge1xuICAgICAgICBpZiAocmVjZWl2ZXIua2luZCAhPT0gJ2RhdGEnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBhIERhdGFUcmFja1JlY2VpdmVyJyk7XG4gICAgICAgIH1pZiAoX3RoaXM1Ll9uZXR3b3JrUXVhbGl0eU1vbml0b3JQcm9taXNlICE9PSBuZXR3b3JrUXVhbGl0eU1vbml0b3JQcm9taXNlKSB7XG4gICAgICAgICAgLy8gTk9URShtcm9iZXJ0cyk6IF90ZWFyZG93bk5ldHdvcmtRdWFsaXR5TW9uaXRvciB3YXMgY2FsbGVkLlxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV0d29ya1F1YWxpdHlTaWduYWxpbmcgPSBuZXcgX3RoaXM1Ll9OZXR3b3JrUXVhbGl0eVNpZ25hbGluZyhyZWNlaXZlci50b0RhdGFUcmFuc3BvcnQoKSk7XG4gICAgICAgIHZhciBuZXR3b3JrUXVhbGl0eU1vbml0b3IgPSBuZXcgX3RoaXM1Ll9OZXR3b3JrUXVhbGl0eU1vbml0b3IoX3RoaXM1Ll9wZWVyQ29ubmVjdGlvbk1hbmFnZXIsIG5ldHdvcmtRdWFsaXR5U2lnbmFsaW5nKTtcbiAgICAgICAgX3RoaXM1Ll9zZXROZXR3b3JrUXVhbGl0eU1vbml0b3IobmV0d29ya1F1YWxpdHlNb25pdG9yKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fbmV0d29ya1F1YWxpdHlNb25pdG9yUHJvbWlzZSA9IG5ldHdvcmtRdWFsaXR5TW9uaXRvclByb21pc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX3NldERvbWluYW50U3BlYWtlclNpZ25hbGluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXREb21pbmFudFNwZWFrZXJTaWduYWxpbmcoZG9taW5hbnRTcGVha2VyU2lnbmFsaW5nKSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgdGhpcy5fZG9taW5hbnRTcGVha2VyU2lnbmFsaW5nID0gZG9taW5hbnRTcGVha2VyU2lnbmFsaW5nO1xuICAgICAgZG9taW5hbnRTcGVha2VyU2lnbmFsaW5nLm9uKCd1cGRhdGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXM2LnNldERvbWluYW50U3BlYWtlcihkb21pbmFudFNwZWFrZXJTaWduYWxpbmcubG91ZGVzdFBhcnRpY2lwYW50U2lkKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19zZXROZXR3b3JrUXVhbGl0eU1vbml0b3InLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0TmV0d29ya1F1YWxpdHlNb25pdG9yKG5ldHdvcmtRdWFsaXR5TW9uaXRvcikge1xuICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuX25ldHdvcmtRdWFsaXR5TW9uaXRvciA9IG5ldHdvcmtRdWFsaXR5TW9uaXRvcjtcbiAgICAgIG5ldHdvcmtRdWFsaXR5TW9uaXRvci5vbigndXBkYXRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzNy5tZWRpYUNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2ZhaWxlZCcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXM3LmxvY2FsUGFydGljaXBhbnQuc2V0TmV0d29ya1F1YWxpdHlMZXZlbChuZXR3b3JrUXVhbGl0eU1vbml0b3IubGV2ZWwsIG5ldHdvcmtRdWFsaXR5TW9uaXRvci5sZXZlbHMpO1xuICAgICAgfSk7XG4gICAgICBuZXR3b3JrUXVhbGl0eU1vbml0b3Iuc3RhcnQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfdGVhcmRvd25Eb21pbmFudFNwZWFrZXJTaWduYWxpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdGVhcmRvd25Eb21pbmFudFNwZWFrZXJTaWduYWxpbmcoKSB7XG4gICAgICB0aGlzLl9kb21pbmFudFNwZWFrZXJTaWduYWxpbmdQcm9taXNlID0gbnVsbDtcbiAgICAgIHRoaXMuX2RvbWluYW50U3BlYWtlclNpZ25hbGluZyA9IG51bGw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX3RlYXJkb3duTmV0d29ya1F1YWxpdHlNb25pdG9yJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3RlYXJkb3duTmV0d29ya1F1YWxpdHlNb25pdG9yKCkge1xuICAgICAgdGhpcy5fbmV0d29ya1F1YWxpdHlNb25pdG9yUHJvbWlzZSA9IG51bGw7XG4gICAgICBpZiAodGhpcy5fbmV0d29ya1F1YWxpdHlNb25pdG9yKSB7XG4gICAgICAgIHRoaXMuX25ldHdvcmtRdWFsaXR5TW9uaXRvci5zdG9wKCk7XG4gICAgICAgIHRoaXMuX25ldHdvcmtRdWFsaXR5TW9uaXRvciA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB7QGxpbmsgUm9vbVYyfSdzIG1lZGlhIHN0YXRpc3RpY3MuXG4gICAgICogQHJldHVybnMge1Byb21pc2UuPE1hcDxQZWVyQ29ubmVjdGlvblYyI2lkLCBTdGFuZGFyZGl6ZWRTdGF0c1Jlc3BvbnNlPj59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFN0YXRzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3RhdHMoKSB7XG4gICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuX3BlZXJDb25uZWN0aW9uTWFuYWdlci5nZXRTdGF0cygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlcykge1xuICAgICAgICByZXR1cm4gbmV3IE1hcChBcnJheS5mcm9tKHJlc3BvbnNlcykubWFwKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG4gICAgICAgICAgICAgIGlkID0gX3JlZjJbMF0sXG4gICAgICAgICAgICAgIHJlc3BvbnNlID0gX3JlZjJbMV07XG5cbiAgICAgICAgICByZXR1cm4gW2lkLCBPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZSwge1xuICAgICAgICAgICAgbG9jYWxBdWRpb1RyYWNrU3RhdHM6IGZpbHRlckFuZEFkZExvY2FsVHJhY2tTaWRzKF90aGlzOCwgcmVzcG9uc2UubG9jYWxBdWRpb1RyYWNrU3RhdHMpLFxuICAgICAgICAgICAgbG9jYWxWaWRlb1RyYWNrU3RhdHM6IGZpbHRlckFuZEFkZExvY2FsVHJhY2tTaWRzKF90aGlzOCwgcmVzcG9uc2UubG9jYWxWaWRlb1RyYWNrU3RhdHMpLFxuICAgICAgICAgICAgcmVtb3RlQXVkaW9UcmFja1N0YXRzOiBmaWx0ZXJBbmRBZGRSZW1vdGVUcmFja1NpZHMoX3RoaXM4LCByZXNwb25zZS5yZW1vdGVBdWRpb1RyYWNrU3RhdHMpLFxuICAgICAgICAgICAgcmVtb3RlVmlkZW9UcmFja1N0YXRzOiBmaWx0ZXJBbmRBZGRSZW1vdGVUcmFja1NpZHMoX3RoaXM4LCByZXNwb25zZS5yZW1vdGVWaWRlb1RyYWNrU3RhdHMpXG4gICAgICAgICAgfSldO1xuICAgICAgICB9KSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzaWduYWxpbmdDb25uZWN0aW9uU3RhdGUnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zcG9ydC5zdGF0ZSA9PT0gJ3N5bmNpbmcnID8gJ3JlY29ubmVjdGluZycgOiB0aGlzLl90cmFuc3BvcnQuc3RhdGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIE1lZGlhIENvbm5lY3Rpb24gU3RhdGVcbiAgICAgKiBAcHJvcGVydHkge1JUQ0ljZUNvbm5lY3Rpb25TdGF0ZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbWVkaWFDb25uZWN0aW9uU3RhdGUnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3BlZXJDb25uZWN0aW9uTWFuYWdlci5pY2VDb25uZWN0aW9uU3RhdGU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJvb21WMjtcbn0oUm9vbVNpZ25hbGluZyk7XG5cbi8qKlxuICogRmlsdGVyIG91dCB7QGxpbmsgVHJhY2tTdGF0c30gdGhhdCBhcmVuJ3QgaW4gdGhlIGNvbGxlY3Rpb24gd2hpbGUgYWxzb1xuICogc3RhbXBpbmcgdGhlaXIgVHJhY2sgU0lEcy5cbiAqIEBwYXJhbSB7TWFwPElELCBTSUQ+fSBpZFRvU2lkXG4gKiBAcGFyYW0ge0FycmF5PFRyYWNrU3RhdHM+fSB0cmFja1N0YXRzXG4gKiBAcmV0dXJucyB7QXJyYXk8VHJhY2tTdGF0cz59XG4gKi9cblxuXG5mdW5jdGlvbiBmaWx0ZXJBbmRBZGRUcmFja1NpZHMoaWRUb1NpZCwgdHJhY2tTdGF0cykge1xuICByZXR1cm4gdHJhY2tTdGF0cy5yZWR1Y2UoZnVuY3Rpb24gKHRyYWNrU3RhdHMsIHRyYWNrU3RhdCkge1xuICAgIHZhciB0cmFja1NpZCA9IGlkVG9TaWQuZ2V0KHRyYWNrU3RhdC50cmFja0lkKTtcbiAgICByZXR1cm4gdHJhY2tTaWQgPyBbT2JqZWN0LmFzc2lnbih7fSwgdHJhY2tTdGF0LCB7IHRyYWNrU2lkOiB0cmFja1NpZCB9KV0uY29uY2F0KHRyYWNrU3RhdHMpIDogdHJhY2tTdGF0cztcbiAgfSwgW10pO1xufVxuXG4vKipcbiAqIEZpbHRlciBvdXQge0BsaW5rIExvY2FsVHJhY2tTdGF0c30gdGhhdCBhcmVuJ3QgY3VycmVudGx5IHB1Ymxpc2hlZCB3aGlsZSBhbHNvXG4gKiBzdGFtcGluZyB0aGVpciBUcmFjayBTSURzLlxuICogQHBhcmFtIHtSb29tVjJ9IHJvb21WMlxuICogQHBhcmFtIHtBcnJheTxMb2NhbFRyYWNrU3RhdHM+fSBsb2NhbFRyYWNrU3RhdHNcbiAqIEByZXR1cm5zIHtBcnJheTxMb2NhbFRyYWNrU3RhdHM+fVxuICovXG5mdW5jdGlvbiBmaWx0ZXJBbmRBZGRMb2NhbFRyYWNrU2lkcyhyb29tVjIsIGxvY2FsVHJhY2tTdGF0cykge1xuICByZXR1cm4gZmlsdGVyQW5kQWRkVHJhY2tTaWRzKHJvb21WMi5fcHVibGlzaGVkLCBsb2NhbFRyYWNrU3RhdHMpO1xufVxuXG4vKipcbiAqIEZpbHRlciBvdXQge0BsaW5rIFJlbW90ZVRyYWNrU3RhdHN9IHRoYXQgYXJlbid0IGN1cnJlbnRseSBzdWJzY3JpYmVkIHdoaWxlXG4gKiBhbHNvIHN0YW1waW5nIHRoZWlyIFRyYWNrIFNJRHMuXG4gKiBAcGFyYW0ge1Jvb21WMn0gcm9vbVYyXG4gKiBAcGFyYW0ge0FycmF5PFJlbW90ZVRyYWNrU3RhdHM+fSByZW1vdGVUcmFja1N0YXRzXG4gKiBAcmV0dXJucyB7QXJyYXk8UmVtb3RlVHJhY2tTdGF0cz59XG4gKi9cbmZ1bmN0aW9uIGZpbHRlckFuZEFkZFJlbW90ZVRyYWNrU2lkcyhyb29tVjIsIHJlbW90ZVRyYWNrU3RhdHMpIHtcbiAgdmFyIGlkVG9TaWQgPSBuZXcgTWFwKEFycmF5LmZyb20ocm9vbVYyLl9zdWJzY3JpYmVkLmVudHJpZXMoKSkubWFwKGZ1bmN0aW9uIChfcmVmMykge1xuICAgIHZhciBfcmVmNCA9IF9zbGljZWRUb0FycmF5KF9yZWYzLCAyKSxcbiAgICAgICAgc2lkID0gX3JlZjRbMF0sXG4gICAgICAgIGlkID0gX3JlZjRbMV07XG5cbiAgICByZXR1cm4gW2lkLCBzaWRdO1xuICB9KSk7XG4gIHJldHVybiBmaWx0ZXJBbmRBZGRUcmFja1NpZHMoaWRUb1NpZCwgcmVtb3RlVHJhY2tTdGF0cyk7XG59XG5cbi8qKlxuICogQHR5cGVkZWYge29iamVjdH0gUm9vbVYyI1JlcHJlc2VudGF0aW9uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbmFtZVxuICogQHByb3BlcnR5IHtMb2NhbFBhcnRpY2lwYW50VjIjUmVwcmVzZW50YXRpb259IHBhcnRpY2lwYW50XG4gKiBAcHJvcGVydHkgez9BcnJheTxSZW1vdGVQYXJ0aWNpcGFudFYyI1JlcHJlc2VudGF0aW9uPn0gcGFydGljaXBhbnRzXG4gKiBAcHJvcGVydHkgez9BcnJheTxQZWVyQ29ubmVjdGlvblYyI1JlcHJlc2VudGF0aW9uPn0gcGVlcl9jb25uZWN0aW9uc1xuICogQHByb3BlcnR5IHs/UmVjb3JkaW5nVjIjUmVwcmVzZW50YXRpb259IHJlY29yZGluZ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IHNpZFxuICovXG5cbmZ1bmN0aW9uIGhhbmRsZUxvY2FsUGFydGljaXBhbnRFdmVudHMocm9vbVYyLCBsb2NhbFBhcnRpY2lwYW50KSB7XG4gIHZhciByZW5lZ290aWF0ZSA9IHV0aWwub25jZVBlclRpY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciB0cmFja1NlbmRlcnMgPSB1dGlsLmZsYXRNYXAobG9jYWxQYXJ0aWNpcGFudC50cmFja3MsIGZ1bmN0aW9uICh0cmFja1YyKSB7XG4gICAgICByZXR1cm4gdHJhY2tWMi50cmFja1RyYW5zY2VpdmVyO1xuICAgIH0pO1xuICAgIHJvb21WMi5fcGVlckNvbm5lY3Rpb25NYW5hZ2VyLnNldFRyYWNrU2VuZGVycyh0cmFja1NlbmRlcnMpO1xuICB9KTtcblxuICB2YXIgbG9jYWxQYXJ0aWNpcGFudFVwZGF0ZWQgPSB1dGlsLm9uY2VQZXJUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICByb29tVjIuX3B1Ymxpc2hOZXdMb2NhbFBhcnRpY2lwYW50U3RhdGUoKTtcbiAgfSk7XG5cbiAgbG9jYWxQYXJ0aWNpcGFudC5vbigndHJhY2tBZGRlZCcsIHJlbmVnb3RpYXRlKTtcbiAgbG9jYWxQYXJ0aWNpcGFudC5vbigndHJhY2tSZW1vdmVkJywgcmVuZWdvdGlhdGUpO1xuICBsb2NhbFBhcnRpY2lwYW50Lm9uKCd1cGRhdGVkJywgbG9jYWxQYXJ0aWNpcGFudFVwZGF0ZWQpO1xuXG4gIHJvb21WMi5vbignc3RhdGVDaGFuZ2VkJywgZnVuY3Rpb24gc3RhdGVDaGFuZ2VkKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlID09PSAnZGlzY29ubmVjdGVkJykge1xuICAgICAgbG9jYWxQYXJ0aWNpcGFudC5yZW1vdmVMaXN0ZW5lcigndHJhY2tBZGRlZCcsIHJlbmVnb3RpYXRlKTtcbiAgICAgIGxvY2FsUGFydGljaXBhbnQucmVtb3ZlTGlzdGVuZXIoJ3RyYWNrUmVtb3ZlZCcsIHJlbmVnb3RpYXRlKTtcbiAgICAgIGxvY2FsUGFydGljaXBhbnQucmVtb3ZlTGlzdGVuZXIoJ3VwZGF0ZWQnLCBsb2NhbFBhcnRpY2lwYW50VXBkYXRlZCk7XG4gICAgICByb29tVjIucmVtb3ZlTGlzdGVuZXIoJ3N0YXRlQ2hhbmdlZCcsIHN0YXRlQ2hhbmdlZCk7XG4gICAgICBsb2NhbFBhcnRpY2lwYW50LmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVQZWVyQ29ubmVjdGlvbkV2ZW50cyhyb29tVjIsIHBlZXJDb25uZWN0aW9uTWFuYWdlcikge1xuICBwZWVyQ29ubmVjdGlvbk1hbmFnZXIub24oJ2Rlc2NyaXB0aW9uJywgZnVuY3Rpb24gb25EZXNjcmlwdGlvbihkZXNjcmlwdGlvbikge1xuICAgIHJvb21WMi5fcHVibGlzaFBlZXJDb25uZWN0aW9uU3RhdGUoZGVzY3JpcHRpb24pO1xuICB9KTtcbiAgcGVlckNvbm5lY3Rpb25NYW5hZ2VyLmRlcXVldWUoJ2Rlc2NyaXB0aW9uJyk7XG5cbiAgcGVlckNvbm5lY3Rpb25NYW5hZ2VyLm9uKCdjYW5kaWRhdGVzJywgZnVuY3Rpb24gb25DYW5kaWRhdGVzKGNhbmRpZGF0ZXMpIHtcbiAgICByb29tVjIuX3B1Ymxpc2hQZWVyQ29ubmVjdGlvblN0YXRlKGNhbmRpZGF0ZXMpO1xuICB9KTtcbiAgcGVlckNvbm5lY3Rpb25NYW5hZ2VyLmRlcXVldWUoJ2NhbmRpZGF0ZXMnKTtcblxuICBwZWVyQ29ubmVjdGlvbk1hbmFnZXIub24oJ3RyYWNrQWRkZWQnLCByb29tVjIuX2FkZFRyYWNrUmVjZWl2ZXIuYmluZChyb29tVjIpKTtcbiAgcGVlckNvbm5lY3Rpb25NYW5hZ2VyLmRlcXVldWUoJ3RyYWNrQWRkZWQnKTtcbiAgcGVlckNvbm5lY3Rpb25NYW5hZ2VyLmdldFRyYWNrUmVjZWl2ZXJzKCkuZm9yRWFjaChyb29tVjIuX2FkZFRyYWNrUmVjZWl2ZXIsIHJvb21WMik7XG5cbiAgcGVlckNvbm5lY3Rpb25NYW5hZ2VyLm9uKCdpY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2VkJywgZnVuY3Rpb24gKCkge1xuICAgIHJvb21WMi5lbWl0KCdtZWRpYUNvbm5lY3Rpb25TdGF0ZUNoYW5nZWQnKTtcbiAgICBpZiAocm9vbVYyLm1lZGlhQ29ubmVjdGlvblN0YXRlID09PSAnZmFpbGVkJyAmJiByb29tVjIubG9jYWxQYXJ0aWNpcGFudC5uZXR3b3JrUXVhbGl0eUxldmVsICE9PSBudWxsKSB7XG4gICAgICByb29tVjIubG9jYWxQYXJ0aWNpcGFudC5zZXROZXR3b3JrUXVhbGl0eUxldmVsKDApO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRyYW5zcG9ydEV2ZW50cyhyb29tVjIsIHRyYW5zcG9ydCkge1xuICB0cmFuc3BvcnQub24oJ21lc3NhZ2UnLCByb29tVjIuX3VwZGF0ZS5iaW5kKHJvb21WMikpO1xuICB0cmFuc3BvcnQub24oJ3N0YXRlQ2hhbmdlZCcsIGZ1bmN0aW9uIHN0YXRlQ2hhbmdlZChzdGF0ZSwgZXJyb3IpIHtcbiAgICBpZiAoc3RhdGUgPT09ICdkaXNjb25uZWN0ZWQnKSB7XG4gICAgICBpZiAocm9vbVYyLnN0YXRlICE9PSAnZGlzY29ubmVjdGVkJykge1xuICAgICAgICByb29tVjIuX2Rpc2Nvbm5lY3QoZXJyb3IpO1xuICAgICAgfVxuICAgICAgdHJhbnNwb3J0LnJlbW92ZUxpc3RlbmVyKCdzdGF0ZUNoYW5nZWQnLCBzdGF0ZUNoYW5nZWQpO1xuICAgIH1cbiAgICByb29tVjIuZW1pdCgnc2lnbmFsaW5nQ29ubmVjdGlvblN0YXRlQ2hhbmdlZCcpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBQZXJpb2RpY2FsbHkgcHVibGlzaCB7QGxpbmsgU3RhdHNSZXBvcnR9cy5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1Jvb21WMn0gcm9vbVYyXG4gKiBAcGFyYW0ge0xvY2FsUGFydGljaXBhbnRWMn0gbG9jYWxQYXJ0aWNpcGFudFxuICogQHBhcmFtIHtUcmFuc3BvcnR9IHRyYW5zcG9ydFxuICogQHBhcmFtIHtOdW1iZXJ9IGludGVydmFsTXNcbiAqL1xuZnVuY3Rpb24gcGVyaW9kaWNhbGx5UHVibGlzaFN0YXRzKHJvb21WMiwgbG9jYWxQYXJ0aWNpcGFudCwgdHJhbnNwb3J0LCBpbnRlcnZhbE1zKSB7XG4gIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICByb29tVjIuZ2V0U3RhdHMoKS50aGVuKGZ1bmN0aW9uIChzdGF0cykge1xuICAgICAgc3RhdHMuZm9yRWFjaChmdW5jdGlvbiAocmVzcG9uc2UsIGlkKSB7XG4gICAgICAgIC8vIE5PVEUobW1hbGF2YWxsaSk6IEEgU3RhdHNSZXBvcnQgaXMgdXNlZCB0byBwdWJsaXNoIGEgXCJzdGF0cy1yZXBvcnRcIlxuICAgICAgICAvLyBldmVudCBpbnN0ZWFkIG9mIHVzaW5nIFN0YW5kYXJkaXplZFN0YXRzUmVzcG9uc2UgZGlyZWN0bHkgYmVjYXVzZVxuICAgICAgICAvLyBTdGF0c1JlcG9ydCB3aWxsIGFkZCBudWxscyB0byBwcm9wZXJ0aWVzIHRoYXQgZG8gbm90IGV4aXN0LlxuICAgICAgICB2YXIgcmVwb3J0ID0gbmV3IFN0YXRzUmVwb3J0KGlkLCByZXNwb25zZSk7XG5cbiAgICAgICAgdHJhbnNwb3J0LnB1Ymxpc2hFdmVudCgncXVhbGl0eScsICdzdGF0cy1yZXBvcnQnLCB7XG4gICAgICAgICAgYXVkaW9UcmFja1N0YXRzOiByZXBvcnQucmVtb3RlQXVkaW9UcmFja1N0YXRzLFxuICAgICAgICAgIGxvY2FsQXVkaW9UcmFja1N0YXRzOiByZXBvcnQubG9jYWxBdWRpb1RyYWNrU3RhdHMsXG4gICAgICAgICAgbG9jYWxWaWRlb1RyYWNrU3RhdHM6IHJlcG9ydC5sb2NhbFZpZGVvVHJhY2tTdGF0cyxcbiAgICAgICAgICBwYXJ0aWNpcGFudFNpZDogbG9jYWxQYXJ0aWNpcGFudC5zaWQsXG4gICAgICAgICAgcGVlckNvbm5lY3Rpb25JZDogcmVwb3J0LnBlZXJDb25uZWN0aW9uSWQsXG4gICAgICAgICAgcm9vbVNpZDogcm9vbVYyLnNpZCxcbiAgICAgICAgICB2aWRlb1RyYWNrU3RhdHM6IHJlcG9ydC5yZW1vdGVWaWRlb1RyYWNrU3RhdHNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gTk9URShtbWFsYXZhbGxpKTogbnVsbCBwcm9wZXJ0aWVzIG9mIHRoZSBcImFjdGl2ZS1pY2UtY2FuZGlkYXRlLXBhaXJcIlxuICAgICAgICAvLyBwYXlsb2FkIGFyZSBhc3NpZ25lZCBkZWZhdWx0IHZhbHVlcyB1bnRpbCB0aGUgSW5zaWdodHMgZ2F0ZXdheVxuICAgICAgICAvLyBhY2NlcHRzIG51bGwgdmFsdWVzLlxuICAgICAgICB2YXIgYWN0aXZlSWNlQ2FuZGlkYXRlUGFpciA9IHJlcGxhY2VOdWxsc1dpdGhEZWZhdWx0cyhyZXNwb25zZS5hY3RpdmVJY2VDYW5kaWRhdGVQYWlyLCByZXBvcnQucGVlckNvbm5lY3Rpb25JZCk7XG5cbiAgICAgICAgdHJhbnNwb3J0LnB1Ymxpc2hFdmVudCgncXVhbGl0eScsICdhY3RpdmUtaWNlLWNhbmRpZGF0ZS1wYWlyJywgYWN0aXZlSWNlQ2FuZGlkYXRlUGFpcik7XG4gICAgICB9KTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBEbyBub3RoaW5nLlxuICAgIH0pO1xuICB9LCBpbnRlcnZhbE1zKTtcblxuICByb29tVjIub24oJ3N0YXRlQ2hhbmdlZCcsIGZ1bmN0aW9uIG9uU3RhdGVDaGFuZ2VkKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlID09PSAnZGlzY29ubmVjdGVkJykge1xuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICByb29tVjIucmVtb3ZlTGlzdGVuZXIoJ3N0YXRlQ2hhbmdlZCcsIG9uU3RhdGVDaGFuZ2VkKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTdWJzY3JpcHRpb25zKHJvb20pIHtcbiAgdmFyIHRyYWNrU2lnbmFsaW5ncyA9IG5ldyBNYXAodXRpbC5mbGF0TWFwKHJvb20ucGFydGljaXBhbnRzLCBmdW5jdGlvbiAocGFydGljaXBhbnQpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShwYXJ0aWNpcGFudC50cmFja3MudmFsdWVzKCkpLm1hcChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgIHJldHVybiBbdHJhY2suc2lkLCB0cmFja107XG4gICAgfSk7XG4gIH0pKTtcblxuICByb29tLl9zdWJzY3JpcHRpb25GYWlsdXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChlcnJvciwgdHJhY2tTaWQpIHtcbiAgICB2YXIgdHJhY2tTaWduYWxpbmcgPSB0cmFja1NpZ25hbGluZ3MuZ2V0KHRyYWNrU2lkKTtcbiAgICBpZiAodHJhY2tTaWduYWxpbmcpIHtcbiAgICAgIHJvb20uX3N1YnNjcmlwdGlvbkZhaWx1cmVzLmRlbGV0ZSh0cmFja1NpZCk7XG4gICAgICB0cmFja1NpZ25hbGluZy5zdWJzY3JpYmVGYWlsZWQoY3JlYXRlVHdpbGlvRXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSkpO1xuICAgIH1cbiAgfSk7XG5cbiAgdHJhY2tTaWduYWxpbmdzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrU2lnbmFsaW5nKSB7XG4gICAgdmFyIHRyYWNrSWQgPSByb29tLl9zdWJzY3JpYmVkLmdldCh0cmFja1NpZ25hbGluZy5zaWQpO1xuICAgIGlmICghdHJhY2tJZCB8fCB0cmFja1NpZ25hbGluZy5pc1N1YnNjcmliZWQgJiYgdHJhY2tTaWduYWxpbmcudHJhY2tUcmFuc2NlaXZlci5pZCAhPT0gdHJhY2tJZCkge1xuICAgICAgdHJhY2tTaWduYWxpbmcuc2V0VHJhY2tUcmFuc2NlaXZlcihudWxsKTtcbiAgICB9XG4gICAgaWYgKHRyYWNrSWQpIHtcbiAgICAgIHJvb20uX2dldFRyYWNrUmVjZWl2ZXIodHJhY2tJZCkudGhlbihmdW5jdGlvbiAodHJhY2tSZWNlaXZlcikge1xuICAgICAgICByZXR1cm4gdHJhY2tTaWduYWxpbmcuc2V0VHJhY2tUcmFuc2NlaXZlcih0cmFja1JlY2VpdmVyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VOdWxsc1dpdGhEZWZhdWx0cyhhY3RpdmVJY2VDYW5kaWRhdGVQYWlyLCBwZWVyQ29ubmVjdGlvbklkKSB7XG4gIGFjdGl2ZUljZUNhbmRpZGF0ZVBhaXIgPSBPYmplY3QuYXNzaWduKHtcbiAgICBhdmFpbGFibGVJbmNvbWluZ0JpdHJhdGU6IDAsXG4gICAgYXZhaWxhYmxlT3V0Z29pbmdCaXRyYXRlOiAwLFxuICAgIGJ5dGVzUmVjZWl2ZWQ6IDAsXG4gICAgYnl0ZXNTZW50OiAwLFxuICAgIGNvbnNlbnRSZXF1ZXN0c1NlbnQ6IDAsXG4gICAgY3VycmVudFJvdW5kVHJpcFRpbWU6IDAsXG4gICAgbGFzdFBhY2tldFJlY2VpdmVkVGltZXN0YW1wOiAwLFxuICAgIGxhc3RQYWNrZXRTZW50VGltZXN0YW1wOiAwLFxuICAgIG5vbWluYXRlZDogZmFsc2UsXG4gICAgcGVlckNvbm5lY3Rpb25JZDogcGVlckNvbm5lY3Rpb25JZCxcbiAgICBwcmlvcml0eTogMCxcbiAgICByZWFkYWJsZTogZmFsc2UsXG4gICAgcmVxdWVzdHNSZWNlaXZlZDogMCxcbiAgICByZXF1ZXN0c1NlbnQ6IDAsXG4gICAgcmVzcG9uc2VzUmVjZWl2ZWQ6IDAsXG4gICAgcmVzcG9uc2VzU2VudDogMCxcbiAgICByZXRyYW5zbWlzc2lvbnNSZWNlaXZlZDogMCxcbiAgICByZXRyYW5zbWlzc2lvbnNTZW50OiAwLFxuICAgIHN0YXRlOiAnZmFpbGVkJyxcbiAgICB0b3RhbFJvdW5kVHJpcFRpbWU6IDAsXG4gICAgdHJhbnNwb3J0SWQ6ICcnLFxuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9LCB1dGlsLmZpbHRlck9iamVjdChhY3RpdmVJY2VDYW5kaWRhdGVQYWlyIHx8IHt9LCBudWxsKSk7XG5cbiAgYWN0aXZlSWNlQ2FuZGlkYXRlUGFpci5sb2NhbENhbmRpZGF0ZSA9IE9iamVjdC5hc3NpZ24oe1xuICAgIGNhbmRpZGF0ZVR5cGU6ICdob3N0JyxcbiAgICBkZWxldGVkOiBmYWxzZSxcbiAgICBpcDogJycsXG4gICAgcG9ydDogMCxcbiAgICBwcmlvcml0eTogMCxcbiAgICBwcm90b2NvbDogJ3VkcCcsXG4gICAgcmVsYXlQcm90b2NvbDogJ3VkcCcsXG4gICAgdXJsOiAnJ1xuICB9LCB1dGlsLmZpbHRlck9iamVjdChhY3RpdmVJY2VDYW5kaWRhdGVQYWlyLmxvY2FsQ2FuZGlkYXRlIHx8IHt9LCBudWxsKSk7XG5cbiAgYWN0aXZlSWNlQ2FuZGlkYXRlUGFpci5yZW1vdGVDYW5kaWRhdGUgPSBPYmplY3QuYXNzaWduKHtcbiAgICBjYW5kaWRhdGVUeXBlOiAnaG9zdCcsXG4gICAgaXA6ICcnLFxuICAgIHBvcnQ6IDAsXG4gICAgcHJpb3JpdHk6IDAsXG4gICAgcHJvdG9jb2w6ICd1ZHAnLFxuICAgIHVybDogJydcbiAgfSwgdXRpbC5maWx0ZXJPYmplY3QoYWN0aXZlSWNlQ2FuZGlkYXRlUGFpci5yZW1vdGVDYW5kaWRhdGUgfHwge30sIG51bGwpKTtcblxuICByZXR1cm4gYWN0aXZlSWNlQ2FuZGlkYXRlUGFpcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSb29tVjI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvcm9vbS5qc1xuLy8gbW9kdWxlIGlkID0gMzIyXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///322\n");

/***/ }),
/* 323 */
/*!********************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/v2/dominantspeakersignaling.js ***!
  \********************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _require = __webpack_require__(/*! events */ 207),\n    EventEmitter = _require.EventEmitter;\n\n/**\n * @property {?Track.SID} loudestParticipantSid\n * @emits DominantSpeakerSignaling#updated\n */\n\n\nvar DominantSpeakerSignaling = function (_EventEmitter) {\n  _inherits(DominantSpeakerSignaling, _EventEmitter);\n\n  /**\n   * Construct an {@link DominantSpeakerSignaling}.\n   * @param {MediaSignalingTransport} mediaSignalingTransport\n   */\n  function DominantSpeakerSignaling(mediaSignalingTransport) {\n    _classCallCheck(this, DominantSpeakerSignaling);\n\n    var _this = _possibleConstructorReturn(this, (DominantSpeakerSignaling.__proto__ || Object.getPrototypeOf(DominantSpeakerSignaling)).call(this));\n\n    Object.defineProperties(_this, {\n      _loudestParticipantSid: {\n        value: null,\n        writable: true\n      }\n    });\n\n    mediaSignalingTransport.on('message', function (message) {\n      switch (message.type) {\n        case 'active_speaker':\n          _this._setLoudestParticipantSid(message.participant);\n          break;\n        default:\n          break;\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * Get the loudest {@link Track.SID}, if known.\n   * @returns {?Track.SID}\n   */\n\n\n  _createClass(DominantSpeakerSignaling, [{\n    key: '_setLoudestParticipantSid',\n\n\n    /**\n     * @private\n     * @param {Track.SID} loudestParticipantSid\n     * @returns {void}\n     */\n    value: function _setLoudestParticipantSid(loudestParticipantSid) {\n      if (this.loudestParticipantSid === loudestParticipantSid) {\n        return;\n      }\n      this._loudestParticipantSid = loudestParticipantSid;\n      this.emit('updated');\n    }\n  }, {\n    key: 'loudestParticipantSid',\n    get: function get() {\n      return this._loudestParticipantSid;\n    }\n  }]);\n\n  return DominantSpeakerSignaling;\n}(EventEmitter);\n\n/**\n * @event DominantSpeakerSignaling#updated\n */\n\nmodule.exports = DominantSpeakerSignaling;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvZG9taW5hbnRzcGVha2Vyc2lnbmFsaW5nLmpzP2VkZTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsZUFBZSxtQkFBTyxDQUFDLGlCQUFRO0FBQy9COztBQUVBO0FBQ0EsY0FBYyxXQUFXO0FBQ3pCO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsK0JBQStCO0FBQ2xELGFBQWEsd0JBQXdCO0FBQ3JDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IsZ0JBQWdCO0FBQ3RDLGVBQWU7QUFDZjs7O0FBR0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLGVBQWUsVUFBVTtBQUN6QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIzMjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnZXZlbnRzJyksXG4gICAgRXZlbnRFbWl0dGVyID0gX3JlcXVpcmUuRXZlbnRFbWl0dGVyO1xuXG4vKipcbiAqIEBwcm9wZXJ0eSB7P1RyYWNrLlNJRH0gbG91ZGVzdFBhcnRpY2lwYW50U2lkXG4gKiBAZW1pdHMgRG9taW5hbnRTcGVha2VyU2lnbmFsaW5nI3VwZGF0ZWRcbiAqL1xuXG5cbnZhciBEb21pbmFudFNwZWFrZXJTaWduYWxpbmcgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICBfaW5oZXJpdHMoRG9taW5hbnRTcGVha2VyU2lnbmFsaW5nLCBfRXZlbnRFbWl0dGVyKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGFuIHtAbGluayBEb21pbmFudFNwZWFrZXJTaWduYWxpbmd9LlxuICAgKiBAcGFyYW0ge01lZGlhU2lnbmFsaW5nVHJhbnNwb3J0fSBtZWRpYVNpZ25hbGluZ1RyYW5zcG9ydFxuICAgKi9cbiAgZnVuY3Rpb24gRG9taW5hbnRTcGVha2VyU2lnbmFsaW5nKG1lZGlhU2lnbmFsaW5nVHJhbnNwb3J0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERvbWluYW50U3BlYWtlclNpZ25hbGluZyk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRG9taW5hbnRTcGVha2VyU2lnbmFsaW5nLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRG9taW5hbnRTcGVha2VyU2lnbmFsaW5nKSkuY2FsbCh0aGlzKSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgX2xvdWRlc3RQYXJ0aWNpcGFudFNpZDoge1xuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG1lZGlhU2lnbmFsaW5nVHJhbnNwb3J0Lm9uKCdtZXNzYWdlJywgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgIHN3aXRjaCAobWVzc2FnZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2FjdGl2ZV9zcGVha2VyJzpcbiAgICAgICAgICBfdGhpcy5fc2V0TG91ZGVzdFBhcnRpY2lwYW50U2lkKG1lc3NhZ2UucGFydGljaXBhbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxvdWRlc3Qge0BsaW5rIFRyYWNrLlNJRH0sIGlmIGtub3duLlxuICAgKiBAcmV0dXJucyB7P1RyYWNrLlNJRH1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoRG9taW5hbnRTcGVha2VyU2lnbmFsaW5nLCBbe1xuICAgIGtleTogJ19zZXRMb3VkZXN0UGFydGljaXBhbnRTaWQnLFxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VHJhY2suU0lEfSBsb3VkZXN0UGFydGljaXBhbnRTaWRcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldExvdWRlc3RQYXJ0aWNpcGFudFNpZChsb3VkZXN0UGFydGljaXBhbnRTaWQpIHtcbiAgICAgIGlmICh0aGlzLmxvdWRlc3RQYXJ0aWNpcGFudFNpZCA9PT0gbG91ZGVzdFBhcnRpY2lwYW50U2lkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2xvdWRlc3RQYXJ0aWNpcGFudFNpZCA9IGxvdWRlc3RQYXJ0aWNpcGFudFNpZDtcbiAgICAgIHRoaXMuZW1pdCgndXBkYXRlZCcpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2xvdWRlc3RQYXJ0aWNpcGFudFNpZCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbG91ZGVzdFBhcnRpY2lwYW50U2lkO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEb21pbmFudFNwZWFrZXJTaWduYWxpbmc7XG59KEV2ZW50RW1pdHRlcik7XG5cbi8qKlxuICogQGV2ZW50IERvbWluYW50U3BlYWtlclNpZ25hbGluZyN1cGRhdGVkXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBEb21pbmFudFNwZWFrZXJTaWduYWxpbmc7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvZG9taW5hbnRzcGVha2Vyc2lnbmFsaW5nLmpzXG4vLyBtb2R1bGUgaWQgPSAzMjNcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///323\n");

/***/ }),
/* 324 */
/*!*****************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/v2/networkqualitymonitor.js ***!
  \*****************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* eslint callback-return:0 */\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EventEmitter = __webpack_require__(/*! events */ 207);\n\nvar PeerConnectionReportFactory = __webpack_require__(/*! ../../stats/peerconnectionreportfactory */ 325);\n\n/**\n * @emits NetworkQualityMonitor#updated\n */\n\nvar NetworkQualityMonitor = function (_EventEmitter) {\n  _inherits(NetworkQualityMonitor, _EventEmitter);\n\n  /**\n   * Construct a {@link NetworkQualityMonitor}.\n   * @param {PeerConnectionManager} manager\n   * @param {NetworkQualitySignaling} signaling\n   */\n  function NetworkQualityMonitor(manager, signaling) {\n    _classCallCheck(this, NetworkQualityMonitor);\n\n    var _this = _possibleConstructorReturn(this, (NetworkQualityMonitor.__proto__ || Object.getPrototypeOf(NetworkQualityMonitor)).call(this));\n\n    Object.defineProperties(_this, {\n      _factories: {\n        value: new WeakMap()\n      },\n      _manager: {\n        value: manager\n      },\n      _signaling: {\n        value: signaling\n      }\n    });\n    signaling.on('updated', function () {\n      return _this.emit('updated');\n    });\n    return _this;\n  }\n\n  /**\n   * Get the current {@link NetworkQualityLevel}, if any.\n   * @returns {?NetworkQualityLevel} level - initially null\n   */\n\n\n  _createClass(NetworkQualityMonitor, [{\n    key: 'start',\n\n\n    /**\n     * Start monitoring.\n     * @returns {void}\n     */\n    value: function start() {\n      var _this2 = this;\n\n      this.stop();\n      var timeout = setTimeout(function () {\n        if (_this2._timeout !== timeout) {\n          return;\n        }\n        next(_this2).then(function (reports) {\n          if (_this2._timeout !== timeout) {\n            return;\n          }\n          if (reports.length) {\n            var _reports = _slicedToArray(reports, 1),\n                report = _reports[0];\n\n            _this2._signaling.put(report);\n          }\n          _this2.start();\n        });\n      }, 200);\n      this._timeout = timeout;\n    }\n\n    /**\n     * Stop monitoring.\n     * @returns {void}\n     */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      clearTimeout(this._timeout);\n      this._timeout = null;\n    }\n  }, {\n    key: 'level',\n    get: function get() {\n      return this._signaling.level;\n    }\n\n    /**\n     * Get the current {@link NetworkQualityLevels}, if any.\n     * @deprecated - the decomposed levels are only used for debugging and will be\n     *   removed as soon as we are confident in our implementation\n     * @returns {?NetworkQualityLevels} levels - initially null\n     */\n\n  }, {\n    key: 'levels',\n    get: function get() {\n      return this._signaling.levels;\n    }\n  }]);\n\n  return NetworkQualityMonitor;\n}(EventEmitter);\n\n/**\n * @param {NetworkQualityMonitor}\n * @returns {Promise<NetworkQualityInputs>}\n */\n\n\nfunction next(monitor) {\n  var pcv2s = monitor._manager._peerConnections ? Array.from(monitor._manager._peerConnections.values()) : [];\n\n  var pcs = pcv2s.map(function (pcv2) {\n    return pcv2._peerConnection;\n  }).filter(function (pc) {\n    return pc.signalingState !== 'closed';\n  });\n\n  var factories = pcs.map(function (pc) {\n    if (monitor._factories.has(pc)) {\n      return monitor._factories.get(pc);\n    }\n    var factory = new PeerConnectionReportFactory(pc);\n    monitor._factories.set(pc, factory);\n    return factory;\n  });\n\n  var reportsOrNullPromises = factories.map(function (factory) {\n    return factory.next().catch(function () {\n      return null;\n    });\n  });\n\n  return Promise.all(reportsOrNullPromises).then(function (reportsOrNull) {\n    return reportsOrNull.filter(function (reportOrNull) {\n      return reportOrNull;\n    }).map(function (report) {\n      return report.summarize();\n    });\n  });\n}\n\n/**\n * The {@link NetworkQualityLevel} changed.\n * @event NetworkQualityMonitor#updated\n */\n\nmodule.exports = NetworkQualityMonitor;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvbmV0d29ya3F1YWxpdHltb25pdG9yLmpzP2UzN2UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDYTs7QUFFYixrQ0FBa0MsaUNBQWlDLGVBQWUsZUFBZSxnQkFBZ0Isb0JBQW9CLE1BQU0sMENBQTBDLCtCQUErQixhQUFhLHFCQUFxQixtQ0FBbUMsRUFBRSxFQUFFLGNBQWMsV0FBVyxVQUFVLEVBQUUsVUFBVSxNQUFNLHlDQUF5QyxFQUFFLFVBQVUsa0JBQWtCLEVBQUUsRUFBRSxhQUFhLEVBQUUsMkJBQTJCLDBCQUEwQixZQUFZLEVBQUUsMkNBQTJDLDhCQUE4QixFQUFFLE9BQU8sNkVBQTZFLEVBQUUsR0FBRyxFQUFFOztBQUVycEIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsbUJBQW1CLG1CQUFPLENBQUMsaUJBQVE7O0FBRW5DLGtDQUFrQyxtQkFBTyxDQUFDLGtEQUF5Qzs7QUFFbkY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsNEJBQTRCO0FBQzlDLGFBQWEsc0JBQXNCO0FBQ25DLGFBQWEsd0JBQXdCO0FBQ3JDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLDBCQUEwQjtBQUNoRCxlQUFlLHFCQUFxQjtBQUNwQzs7O0FBR0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLDJCQUEyQjtBQUNuRDtBQUNBO0FBQ0EsaUJBQWlCLHNCQUFzQjtBQUN2Qzs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLFdBQVc7QUFDWCxhQUFhO0FBQ2I7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxRQUFRLDBCQUEwQjtBQUNsQztBQUNBOztBQUVBIiwiZmlsZSI6IjMyNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludCBjYWxsYmFjay1yZXR1cm46MCAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfSB9OyB9KCk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpO1xuXG52YXIgUGVlckNvbm5lY3Rpb25SZXBvcnRGYWN0b3J5ID0gcmVxdWlyZSgnLi4vLi4vc3RhdHMvcGVlcmNvbm5lY3Rpb25yZXBvcnRmYWN0b3J5Jyk7XG5cbi8qKlxuICogQGVtaXRzIE5ldHdvcmtRdWFsaXR5TW9uaXRvciN1cGRhdGVkXG4gKi9cblxudmFyIE5ldHdvcmtRdWFsaXR5TW9uaXRvciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gIF9pbmhlcml0cyhOZXR3b3JrUXVhbGl0eU1vbml0b3IsIF9FdmVudEVtaXR0ZXIpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgTmV0d29ya1F1YWxpdHlNb25pdG9yfS5cbiAgICogQHBhcmFtIHtQZWVyQ29ubmVjdGlvbk1hbmFnZXJ9IG1hbmFnZXJcbiAgICogQHBhcmFtIHtOZXR3b3JrUXVhbGl0eVNpZ25hbGluZ30gc2lnbmFsaW5nXG4gICAqL1xuICBmdW5jdGlvbiBOZXR3b3JrUXVhbGl0eU1vbml0b3IobWFuYWdlciwgc2lnbmFsaW5nKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5ldHdvcmtRdWFsaXR5TW9uaXRvcik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTmV0d29ya1F1YWxpdHlNb25pdG9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTmV0d29ya1F1YWxpdHlNb25pdG9yKSkuY2FsbCh0aGlzKSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgX2ZhY3Rvcmllczoge1xuICAgICAgICB2YWx1ZTogbmV3IFdlYWtNYXAoKVxuICAgICAgfSxcbiAgICAgIF9tYW5hZ2VyOiB7XG4gICAgICAgIHZhbHVlOiBtYW5hZ2VyXG4gICAgICB9LFxuICAgICAgX3NpZ25hbGluZzoge1xuICAgICAgICB2YWx1ZTogc2lnbmFsaW5nXG4gICAgICB9XG4gICAgfSk7XG4gICAgc2lnbmFsaW5nLm9uKCd1cGRhdGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLmVtaXQoJ3VwZGF0ZWQnKTtcbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IHtAbGluayBOZXR3b3JrUXVhbGl0eUxldmVsfSwgaWYgYW55LlxuICAgKiBAcmV0dXJucyB7P05ldHdvcmtRdWFsaXR5TGV2ZWx9IGxldmVsIC0gaW5pdGlhbGx5IG51bGxcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoTmV0d29ya1F1YWxpdHlNb25pdG9yLCBbe1xuICAgIGtleTogJ3N0YXJ0JyxcblxuXG4gICAgLyoqXG4gICAgICogU3RhcnQgbW9uaXRvcmluZy5cbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMyLl90aW1lb3V0ICE9PSB0aW1lb3V0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5leHQoX3RoaXMyKS50aGVuKGZ1bmN0aW9uIChyZXBvcnRzKSB7XG4gICAgICAgICAgaWYgKF90aGlzMi5fdGltZW91dCAhPT0gdGltZW91dCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVwb3J0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBfcmVwb3J0cyA9IF9zbGljZWRUb0FycmF5KHJlcG9ydHMsIDEpLFxuICAgICAgICAgICAgICAgIHJlcG9ydCA9IF9yZXBvcnRzWzBdO1xuXG4gICAgICAgICAgICBfdGhpczIuX3NpZ25hbGluZy5wdXQocmVwb3J0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX3RoaXMyLnN0YXJ0KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSwgMjAwKTtcbiAgICAgIHRoaXMuX3RpbWVvdXQgPSB0aW1lb3V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3AgbW9uaXRvcmluZy5cbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc3RvcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG4gICAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdsZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2lnbmFsaW5nLmxldmVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCB7QGxpbmsgTmV0d29ya1F1YWxpdHlMZXZlbHN9LCBpZiBhbnkuXG4gICAgICogQGRlcHJlY2F0ZWQgLSB0aGUgZGVjb21wb3NlZCBsZXZlbHMgYXJlIG9ubHkgdXNlZCBmb3IgZGVidWdnaW5nIGFuZCB3aWxsIGJlXG4gICAgICogICByZW1vdmVkIGFzIHNvb24gYXMgd2UgYXJlIGNvbmZpZGVudCBpbiBvdXIgaW1wbGVtZW50YXRpb25cbiAgICAgKiBAcmV0dXJucyB7P05ldHdvcmtRdWFsaXR5TGV2ZWxzfSBsZXZlbHMgLSBpbml0aWFsbHkgbnVsbFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdsZXZlbHMnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NpZ25hbGluZy5sZXZlbHM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE5ldHdvcmtRdWFsaXR5TW9uaXRvcjtcbn0oRXZlbnRFbWl0dGVyKTtcblxuLyoqXG4gKiBAcGFyYW0ge05ldHdvcmtRdWFsaXR5TW9uaXRvcn1cbiAqIEByZXR1cm5zIHtQcm9taXNlPE5ldHdvcmtRdWFsaXR5SW5wdXRzPn1cbiAqL1xuXG5cbmZ1bmN0aW9uIG5leHQobW9uaXRvcikge1xuICB2YXIgcGN2MnMgPSBtb25pdG9yLl9tYW5hZ2VyLl9wZWVyQ29ubmVjdGlvbnMgPyBBcnJheS5mcm9tKG1vbml0b3IuX21hbmFnZXIuX3BlZXJDb25uZWN0aW9ucy52YWx1ZXMoKSkgOiBbXTtcblxuICB2YXIgcGNzID0gcGN2MnMubWFwKGZ1bmN0aW9uIChwY3YyKSB7XG4gICAgcmV0dXJuIHBjdjIuX3BlZXJDb25uZWN0aW9uO1xuICB9KS5maWx0ZXIoZnVuY3Rpb24gKHBjKSB7XG4gICAgcmV0dXJuIHBjLnNpZ25hbGluZ1N0YXRlICE9PSAnY2xvc2VkJztcbiAgfSk7XG5cbiAgdmFyIGZhY3RvcmllcyA9IHBjcy5tYXAoZnVuY3Rpb24gKHBjKSB7XG4gICAgaWYgKG1vbml0b3IuX2ZhY3Rvcmllcy5oYXMocGMpKSB7XG4gICAgICByZXR1cm4gbW9uaXRvci5fZmFjdG9yaWVzLmdldChwYyk7XG4gICAgfVxuICAgIHZhciBmYWN0b3J5ID0gbmV3IFBlZXJDb25uZWN0aW9uUmVwb3J0RmFjdG9yeShwYyk7XG4gICAgbW9uaXRvci5fZmFjdG9yaWVzLnNldChwYywgZmFjdG9yeSk7XG4gICAgcmV0dXJuIGZhY3Rvcnk7XG4gIH0pO1xuXG4gIHZhciByZXBvcnRzT3JOdWxsUHJvbWlzZXMgPSBmYWN0b3JpZXMubWFwKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgcmV0dXJuIGZhY3RvcnkubmV4dCgpLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gUHJvbWlzZS5hbGwocmVwb3J0c09yTnVsbFByb21pc2VzKS50aGVuKGZ1bmN0aW9uIChyZXBvcnRzT3JOdWxsKSB7XG4gICAgcmV0dXJuIHJlcG9ydHNPck51bGwuZmlsdGVyKGZ1bmN0aW9uIChyZXBvcnRPck51bGwpIHtcbiAgICAgIHJldHVybiByZXBvcnRPck51bGw7XG4gICAgfSkubWFwKGZ1bmN0aW9uIChyZXBvcnQpIHtcbiAgICAgIHJldHVybiByZXBvcnQuc3VtbWFyaXplKCk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRoZSB7QGxpbmsgTmV0d29ya1F1YWxpdHlMZXZlbH0gY2hhbmdlZC5cbiAqIEBldmVudCBOZXR3b3JrUXVhbGl0eU1vbml0b3IjdXBkYXRlZFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gTmV0d29ya1F1YWxpdHlNb25pdG9yO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvc2lnbmFsaW5nL3YyL25ldHdvcmtxdWFsaXR5bW9uaXRvci5qc1xuLy8gbW9kdWxlIGlkID0gMzI0XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///324\n");

/***/ }),
/* 325 */
/*!****************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/peerconnectionreportfactory.js ***!
  \****************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar IceReportFactory = __webpack_require__(/*! ./icereportfactory */ 326);\nvar PeerConnectionReport = __webpack_require__(/*! ./peerconnectionreport */ 328);\nvar ReceiverReportFactory = __webpack_require__(/*! ./receiverreportfactory */ 329);\nvar SenderReportFactory = __webpack_require__(/*! ./senderreportfactory */ 330);\n\n/**\n * @typedef {string} TrackId\n */\n\n/**\n * @typedef {string} StatsId\n */\n\n/**\n * @interface SenderReportFactoriesByMediaType\n * @property {Map<StatsId, SenderReportFactory>} audio\n * @property {Map<StatsId, SenderReportFactory>} video\n */\n\n/**\n * @interface ReceiverReportFactoriesByMediaType\n * @property {Map<StatsId, ReceiverReportFactory>} audio\n * @property {Map<StatsId, ReceiverReportFactory>} video\n */\n\n/**\n * @interface SenderAndReceiverReportFactories\n * @property {Map<StatsId, SenderReportFactories>} send\n * @property {Map<StatsId, ReceiverReportFactories>} recv\n */\n\n/**\n * @interface {StatsIdsByMediaType}\n * @property {Set<StatsId>} audio\n * @property {Set<StatsId>} video\n */\n\n/**\n * @property {RTCPeerConnection} pc\n * @property {IceReportFactory} iceReportFactory\n * @property {SenderAndReceiverReportFactories} audio\n * @property {SenderAndReceiverReportFactories} video\n * @property {?PeerConnectionReport} lastReport\n */\n\nvar PeerConnectionReportFactory = function () {\n  /**\n   * Construct a {@link PeerConnectionReportFactory}.\n   * @param {RTCPeerConnection} pc\n   */\n  function PeerConnectionReportFactory(pc) {\n    _classCallCheck(this, PeerConnectionReportFactory);\n\n    Object.defineProperties(this, {\n      pc: {\n        enumerable: true,\n        value: pc\n      },\n      ice: {\n        enumerable: true,\n        value: new IceReportFactory()\n      },\n      audio: {\n        enumerable: true,\n        value: {\n          send: new Map(),\n          recv: new Map()\n        }\n      },\n      video: {\n        enumerable: true,\n        value: {\n          send: new Map(),\n          recv: new Map()\n        }\n      },\n      lastReport: {\n        enumerable: true,\n        value: null,\n        writable: true\n      }\n    });\n  }\n\n  /**\n   * Create a {@link PeerConnectionReport}.\n   * @returns {Promise<PeerConnectionReport>}\n   */\n\n\n  _createClass(PeerConnectionReportFactory, [{\n    key: 'next',\n    value: function next() {\n      var _this = this;\n\n      var updatePromise = typeof mozRTCPeerConnection !== 'undefined' ? updateFirefox(this) : updateChrome(this);\n\n      return updatePromise.then(function () {\n        var audioSenderReportFactories = [].concat(_toConsumableArray(_this.audio.send.values()));\n        var videoSenderReportFactories = [].concat(_toConsumableArray(_this.video.send.values()));\n        var audioReceiverReportFactories = [].concat(_toConsumableArray(_this.audio.recv.values()));\n        var videoReceiverReportFactories = [].concat(_toConsumableArray(_this.video.recv.values()));\n\n        var report = new PeerConnectionReport(_this.ice.lastReport, {\n          send: audioSenderReportFactories.map(function (factory) {\n            return factory.lastReport;\n          }).filter(function (report) {\n            return report;\n          }),\n          recv: audioReceiverReportFactories.map(function (factory) {\n            return factory.lastReport;\n          }).filter(function (report) {\n            return report;\n          })\n        }, {\n          send: videoSenderReportFactories.map(function (factory) {\n            return factory.lastReport;\n          }).filter(function (report) {\n            return report;\n          }),\n          recv: videoReceiverReportFactories.map(function (factory) {\n            return factory.lastReport;\n          }).filter(function (report) {\n            return report;\n          })\n        });\n\n        _this.lastReport = report;\n\n        return report;\n      });\n    }\n  }]);\n\n  return PeerConnectionReportFactory;\n}();\n\n/**\n * Construct a Map from MediaStreamTrack Ids to RTCStatsReports.\n * @param {Array<RTCRtpSender>|Array<RTCRtpReceiver>} sendersOrReceivers - each\n *   RTCRtpSender should have a non-null track\n * @returns {Promise<Map<TrackId, RTCStats>>}\n */\n\n\nfunction getSenderOrReceiverReports(sendersOrReceivers) {\n  return Promise.all(sendersOrReceivers.map(function (senderOrReceiver) {\n    var trackId = senderOrReceiver.track.id;\n    return senderOrReceiver.getStats().then(function (report) {\n      // NOTE(mroberts): We have to rewrite Ids due to this bug:\n      //\n      //   https://bugzilla.mozilla.org/show_bug.cgi?id=1463430\n      //\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = report.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var stats = _step.value;\n\n          if (stats.type === 'inbound-rtp') {\n            stats.id = trackId + '-' + stats.id;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return [trackId, report];\n    });\n  })).then(function (pairs) {\n    return new Map(pairs);\n  });\n}\n\n/**\n * @param {SenderReportFactory.constructor} SenderReportFactory\n * @param {SenderReportFactoriesByMediaType} sendersByMediaType\n * @param {RTCStatsReport} report\n * @param {RTCStats} stats\n * @param {TrackId} [trackId]\n * @returns {?SenderReportFactory}\n */ /**\n    * @param {ReceiverReportFactory.constructor} ReceiverReportFactory\n    * @param {ReceiverReportFactoriesByMediaType} receiversByMediaType\n    * @param {RTCStatsReport} report\n    * @param {RTCStats} stats\n    * @param {TrackId} [trackId]\n    * @returns {?ReceiverReportFactory}\n    */\nfunction getOrCreateSenderOrReceiverReportFactory(SenderOrReceiverReportFactory, sendersOrReceiversByMediaType, report, stats, trackId) {\n  var sendersOrReceivers = sendersOrReceiversByMediaType[stats.mediaType];\n  if (!trackId) {\n    var trackStats = report.get(stats.trackId);\n    if (trackStats) {\n      trackId = trackStats.trackIdentifier;\n    }\n  }\n  if (sendersOrReceivers && trackId) {\n    if (sendersOrReceivers.has(stats.id)) {\n      return sendersOrReceivers.get(stats.id);\n    }\n    var senderOrReceiverFactory = new SenderOrReceiverReportFactory(trackId, stats);\n    sendersOrReceivers.set(stats.id, senderOrReceiverFactory);\n  }\n  return null;\n}\n\n/**\n * @param {PeerConnectionReportFactory} factory\n * @returns {SenderReportFactoriesByMediaType}\n */\nfunction getSenderReportFactoriesByMediaType(factory) {\n  return { audio: factory.audio.send, video: factory.video.send };\n}\n\n/**\n * @param {PeerConnectionReportFactory} factory\n * @returns {ReceiverReportFactoriesByMediaType}\n */\nfunction getReceiverReportFactoriesByMediaType(factory) {\n  return { audio: factory.audio.recv, video: factory.video.recv };\n}\n\n/**\n * @param {PeerConnectionReportFactory} factory\n * @param {RTCStatsReport} report\n * @param {RTCStats} stats\n * @param {TrackId} [trackId]\n * @returns {?SenderReportFactory}\n */\nfunction getOrCreateSenderReportFactory(factory, report, stats, trackId) {\n  return getOrCreateSenderOrReceiverReportFactory(SenderReportFactory, getSenderReportFactoriesByMediaType(factory), report, stats, trackId);\n}\n\n/**\n * @param {PeerConnectionReportFactory} factory\n * @param {RTCStatsReport} report\n * @param {RTCStats} stats\n * @param {TrackId} [trackId]\n * @returns {?ReceiverReportFactory}\n */\nfunction getOrCreateReceiverReportFactory(factory, report, stats, trackId) {\n  return getOrCreateSenderOrReceiverReportFactory(ReceiverReportFactory, getReceiverReportFactoriesByMediaType(factory), report, stats, trackId);\n}\n\n/**\n * @param {PeerConnectionReportFactory} factory\n * @retuns {StatsIdsByMediaType}\n */\nfunction getSenderReportFactoryIdsByMediaType(factory) {\n  return {\n    audio: new Set(factory.audio.send.keys()),\n    video: new Set(factory.video.send.keys())\n  };\n}\n\n/**\n * @param {PeerConnectionReportFactory} factory\n * @retuns {StatsIdsByMediaType}\n */\nfunction getReceiverReportFactoryIdsByMediaType(factory) {\n  return {\n    audio: new Set(factory.audio.recv.keys()),\n    video: new Set(factory.video.recv.keys())\n  };\n}\n\n/**\n * @param {PeerConnectionReportFactory} factory\n * @param {RTCStatsReport} report\n * @param {StatsIdsByMediaType} senderReportFactoryIdsToDeleteByMediaType\n * @param {TrackId} [trackId]\n * @returns {void}\n */\nfunction updateSenderReports(factory, report, senderReportFactoryIdsToDeleteByMediaType, trackId) {\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = report.values()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var stats = _step2.value;\n\n      if (stats.type === 'outbound-rtp' && !stats.isRemote) {\n        if (typeof mozRTCPeerConnection === 'undefined' && !stats.trackId) {\n          continue;\n        }\n        var senderReportFactoryIdsToDelete = senderReportFactoryIdsToDeleteByMediaType[stats.mediaType];\n        if (senderReportFactoryIdsToDelete) {\n          senderReportFactoryIdsToDelete.delete(stats.id);\n        }\n        var senderReportFactory = getOrCreateSenderReportFactory(factory, report, stats, trackId);\n        if (senderReportFactory) {\n          var remoteInboundStats = report.get(stats.remoteId);\n          senderReportFactory.next(trackId || senderReportFactory.trackId, stats, remoteInboundStats);\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n}\n\n/**\n * @param {PeerConnectionReportFactory} factory\n * @param {RTCStatsReport} report\n * @param {StatsIdsByMediaType} receiverReportFactoryIdsToDeleteByMediaType\n * @param {TrackId} [trackId]\n * @returns {void}\n */\nfunction updateReceiverReports(factory, report, receiverReportFactoryIdsToDeleteByMediaType, trackId) {\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = report.values()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var stats = _step3.value;\n\n      if (stats.type === 'inbound-rtp' && !stats.isRemote) {\n        var receiverReportFactoryIdsToDelete = receiverReportFactoryIdsToDeleteByMediaType[stats.mediaType];\n        if (receiverReportFactoryIdsToDelete) {\n          receiverReportFactoryIdsToDelete.delete(stats.id);\n        }\n        var receiverReportFactory = getOrCreateReceiverReportFactory(factory, report, stats, trackId);\n        if (receiverReportFactory) {\n          receiverReportFactory.next(trackId || receiverReportFactory.trackId, stats);\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3.return) {\n        _iterator3.return();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n}\n\n/**\n * @param {SenderReportFactoriesByMediaType|ReceiverReportFactoriesByMediaType} senderOrReceiverReportFactoriesByMediaType\n * @param {StatsIdsByMediaType} senderOrReceiverReportFactoryIdsByMediaType\n * @returns {void}\n */\nfunction deleteSenderOrReceiverReportFactories(senderOrReceiverReportFactoriesByMediaType, senderOrReceiverReportFactoryIdsByMediaType) {\n  var _loop = function _loop(mediaType) {\n    var senderOrReceiverReportFactories = senderOrReceiverReportFactoriesByMediaType[mediaType];\n    var senderOrReceiverReportFactoryIds = senderOrReceiverReportFactoryIdsByMediaType[mediaType];\n    senderOrReceiverReportFactoryIds.forEach(function (senderOrReceiverReportFactoryId) {\n      return senderOrReceiverReportFactories.delete(senderOrReceiverReportFactoryId);\n    });\n  };\n\n  for (var mediaType in senderOrReceiverReportFactoryIdsByMediaType) {\n    _loop(mediaType);\n  }\n}\n\n/**\n * @param {IceReportFactory} ice\n * @param {RTCStatsReport} report\n * @returns {void}\n */\nfunction updateIceReport(ice, report) {\n  var selectedCandidatePair = void 0;\n  var _iteratorNormalCompletion4 = true;\n  var _didIteratorError4 = false;\n  var _iteratorError4 = undefined;\n\n  try {\n    for (var _iterator4 = report.values()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n      var stats = _step4.value;\n\n      if (stats.type === 'transport') {\n        selectedCandidatePair = report.get(stats.selectedCandidatePairId);\n      }\n    }\n  } catch (err) {\n    _didIteratorError4 = true;\n    _iteratorError4 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion4 && _iterator4.return) {\n        _iterator4.return();\n      }\n    } finally {\n      if (_didIteratorError4) {\n        throw _iteratorError4;\n      }\n    }\n  }\n\n  if (selectedCandidatePair) {\n    ice.next(selectedCandidatePair);\n    return;\n  }\n  var _iteratorNormalCompletion5 = true;\n  var _didIteratorError5 = false;\n  var _iteratorError5 = undefined;\n\n  try {\n    for (var _iterator5 = report.values()[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n      var _stats = _step5.value;\n\n      if (_stats.type === 'candidate-pair' && _stats.nominated && ('selected' in _stats ? _stats.selected : true)) {\n        ice.next(_stats);\n      }\n    }\n  } catch (err) {\n    _didIteratorError5 = true;\n    _iteratorError5 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion5 && _iterator5.return) {\n        _iterator5.return();\n      }\n    } finally {\n      if (_didIteratorError5) {\n        throw _iteratorError5;\n      }\n    }\n  }\n}\n\n/**\n * @param {PeerConnectionReportFactory} factory\n * @returns {PeerConnectionReport}\n */\nfunction updateFirefox(factory) {\n  var senders = factory.pc.getTransceivers().filter(function (transceiver) {\n    return transceiver.currentDirection && transceiver.currentDirection.match(/send/) && transceiver.sender.track;\n  }).map(function (transceiver) {\n    return transceiver.sender;\n  });\n\n  var receivers = factory.pc.getTransceivers().filter(function (transceiver) {\n    return transceiver.currentDirection && transceiver.currentDirection.match(/recv/);\n  }).map(function (transceiver) {\n    return transceiver.receiver;\n  });\n\n  return Promise.all([getSenderOrReceiverReports(senders), getSenderOrReceiverReports(receivers), factory.pc.getStats()]).then(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 3),\n        senderReports = _ref2[0],\n        receiverReports = _ref2[1],\n        pcReport = _ref2[2];\n\n    var senderReportFactoriesByMediaType = getSenderReportFactoriesByMediaType(factory);\n    var senderReportFactoryIdsToDeleteByMediaType = getSenderReportFactoryIdsByMediaType(factory);\n    senderReports.forEach(function (report, trackId) {\n      return updateSenderReports(factory, report, senderReportFactoryIdsToDeleteByMediaType, trackId);\n    });\n    deleteSenderOrReceiverReportFactories(senderReportFactoriesByMediaType, senderReportFactoryIdsToDeleteByMediaType);\n\n    var receiverReportFactoriesByMediaType = getReceiverReportFactoriesByMediaType(factory);\n    var receiverReportFactoryIdsToDeleteByMediaType = getReceiverReportFactoryIdsByMediaType(factory);\n    receiverReports.forEach(function (report, trackId) {\n      return updateReceiverReports(factory, report, receiverReportFactoryIdsToDeleteByMediaType, trackId);\n    });\n    deleteSenderOrReceiverReportFactories(receiverReportFactoriesByMediaType, receiverReportFactoryIdsToDeleteByMediaType);\n\n    updateIceReport(factory.ice, pcReport);\n  });\n}\n\n/**\n * @param {PeerConnectionReportFactory} factory\n * @returns {PeerConnectionReport}\n */\nfunction updateChrome(factory) {\n  return factory.pc.getStats().then(function (report) {\n    var senderReportFactoriesByMediaType = getSenderReportFactoriesByMediaType(factory);\n    var senderReportFactoryIdsToDeleteByMediaType = getSenderReportFactoryIdsByMediaType(factory);\n    updateSenderReports(factory, report, senderReportFactoryIdsToDeleteByMediaType);\n    deleteSenderOrReceiverReportFactories(senderReportFactoriesByMediaType, senderReportFactoryIdsToDeleteByMediaType);\n\n    var receiverReportFactoriesByMediaType = getReceiverReportFactoriesByMediaType(factory);\n    var receiverReportFactoryIdsToDeleteByMediaType = getReceiverReportFactoryIdsByMediaType(factory);\n    updateReceiverReports(factory, report, receiverReportFactoryIdsToDeleteByMediaType);\n    deleteSenderOrReceiverReportFactories(receiverReportFactoriesByMediaType, receiverReportFactoryIdsToDeleteByMediaType);\n\n    updateIceReport(factory.ice, report);\n  });\n}\n\nmodule.exports = PeerConnectionReportFactory;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9wZWVyY29ubmVjdGlvbnJlcG9ydGZhY3RvcnkuanM/YTFiOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixrQ0FBa0MsaUNBQWlDLGVBQWUsZUFBZSxnQkFBZ0Isb0JBQW9CLE1BQU0sMENBQTBDLCtCQUErQixhQUFhLHFCQUFxQixtQ0FBbUMsRUFBRSxFQUFFLGNBQWMsV0FBVyxVQUFVLEVBQUUsVUFBVSxNQUFNLHlDQUF5QyxFQUFFLFVBQVUsa0JBQWtCLEVBQUUsRUFBRSxhQUFhLEVBQUUsMkJBQTJCLDBCQUEwQixZQUFZLEVBQUUsMkNBQTJDLDhCQUE4QixFQUFFLE9BQU8sNkVBQTZFLEVBQUUsR0FBRyxFQUFFOztBQUVycEIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGtDQUFrQywwQkFBMEIsMENBQTBDLGdCQUFnQixPQUFPLGtCQUFrQixFQUFFLGFBQWEsRUFBRSxPQUFPLHdCQUF3QixFQUFFOztBQUVqTSxpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2Six1QkFBdUIsbUJBQU8sQ0FBQyw2QkFBb0I7QUFDbkQsMkJBQTJCLG1CQUFPLENBQUMsaUNBQXdCO0FBQzNELDRCQUE0QixtQkFBTyxDQUFDLGtDQUF5QjtBQUM3RCwwQkFBMEIsbUJBQU8sQ0FBQyxnQ0FBdUI7O0FBRXpEO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCOztBQUVBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCOztBQUVBO0FBQ0E7QUFDQSxjQUFjLGtDQUFrQztBQUNoRCxjQUFjLGtDQUFrQztBQUNoRDs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxvQ0FBb0M7QUFDbEQsY0FBYyxvQ0FBb0M7QUFDbEQ7O0FBRUE7QUFDQTtBQUNBLGNBQWMsb0NBQW9DO0FBQ2xELGNBQWMsc0NBQXNDO0FBQ3BEOztBQUVBO0FBQ0EsZUFBZTtBQUNmLGNBQWMsYUFBYTtBQUMzQixjQUFjLGFBQWE7QUFDM0I7O0FBRUE7QUFDQSxjQUFjLGtCQUFrQjtBQUNoQyxjQUFjLGlCQUFpQjtBQUMvQixjQUFjLGlDQUFpQztBQUMvQyxjQUFjLGlDQUFpQztBQUMvQyxjQUFjLHNCQUFzQjtBQUNwQzs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLGtDQUFrQztBQUNwRCxhQUFhLGtCQUFrQjtBQUMvQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLGVBQWUsMkJBQTJCO0FBQzFDLGVBQWU7QUFDZjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsV0FBVztBQUNYLFNBQVM7O0FBRVQ7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsV0FBVywwQ0FBMEM7QUFDckQ7QUFDQSxhQUFhO0FBQ2I7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1RUFBdUUsZ0VBQWdFO0FBQ3ZJOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxXQUFXLGdDQUFnQztBQUMzQyxXQUFXLGlDQUFpQztBQUM1QyxXQUFXLGVBQWU7QUFDMUIsV0FBVyxTQUFTO0FBQ3BCLFdBQVcsUUFBUTtBQUNuQixhQUFhO0FBQ2I7QUFDQSxjQUFjLGtDQUFrQztBQUNoRCxjQUFjLG1DQUFtQztBQUNqRCxjQUFjLGVBQWU7QUFDN0IsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsUUFBUTtBQUN0QixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyw0QkFBNEI7QUFDdkMsYUFBYTtBQUNiO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7O0FBRUE7QUFDQSxXQUFXLDRCQUE0QjtBQUN2QyxhQUFhO0FBQ2I7QUFDQTtBQUNBLFVBQVU7QUFDVjs7QUFFQTtBQUNBLFdBQVcsNEJBQTRCO0FBQ3ZDLFdBQVcsZUFBZTtBQUMxQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsNEJBQTRCO0FBQ3ZDLFdBQVcsZUFBZTtBQUMxQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsNEJBQTRCO0FBQ3ZDLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsNEJBQTRCO0FBQ3ZDLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsNEJBQTRCO0FBQ3ZDLFdBQVcsZUFBZTtBQUMxQixXQUFXLG9CQUFvQjtBQUMvQixXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxRUFBcUUsbUVBQW1FO0FBQ3hJOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsNEJBQTRCO0FBQ3ZDLFdBQVcsZUFBZTtBQUMxQixXQUFXLG9CQUFvQjtBQUMvQixXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxRUFBcUUsbUVBQW1FO0FBQ3hJOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLG9FQUFvRTtBQUMvRSxXQUFXLG9CQUFvQjtBQUMvQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLGlCQUFpQjtBQUM1QixXQUFXLGVBQWU7QUFDMUIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFFQUFxRSxtRUFBbUU7QUFDeEk7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUVBQXFFLG1FQUFtRTtBQUN4STs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsNEJBQTRCO0FBQ3ZDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLFdBQVcsNEJBQTRCO0FBQ3ZDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSIsImZpbGUiOiIzMjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBJY2VSZXBvcnRGYWN0b3J5ID0gcmVxdWlyZSgnLi9pY2VyZXBvcnRmYWN0b3J5Jyk7XG52YXIgUGVlckNvbm5lY3Rpb25SZXBvcnQgPSByZXF1aXJlKCcuL3BlZXJjb25uZWN0aW9ucmVwb3J0Jyk7XG52YXIgUmVjZWl2ZXJSZXBvcnRGYWN0b3J5ID0gcmVxdWlyZSgnLi9yZWNlaXZlcnJlcG9ydGZhY3RvcnknKTtcbnZhciBTZW5kZXJSZXBvcnRGYWN0b3J5ID0gcmVxdWlyZSgnLi9zZW5kZXJyZXBvcnRmYWN0b3J5Jyk7XG5cbi8qKlxuICogQHR5cGVkZWYge3N0cmluZ30gVHJhY2tJZFxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge3N0cmluZ30gU3RhdHNJZFxuICovXG5cbi8qKlxuICogQGludGVyZmFjZSBTZW5kZXJSZXBvcnRGYWN0b3JpZXNCeU1lZGlhVHlwZVxuICogQHByb3BlcnR5IHtNYXA8U3RhdHNJZCwgU2VuZGVyUmVwb3J0RmFjdG9yeT59IGF1ZGlvXG4gKiBAcHJvcGVydHkge01hcDxTdGF0c0lkLCBTZW5kZXJSZXBvcnRGYWN0b3J5Pn0gdmlkZW9cbiAqL1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgUmVjZWl2ZXJSZXBvcnRGYWN0b3JpZXNCeU1lZGlhVHlwZVxuICogQHByb3BlcnR5IHtNYXA8U3RhdHNJZCwgUmVjZWl2ZXJSZXBvcnRGYWN0b3J5Pn0gYXVkaW9cbiAqIEBwcm9wZXJ0eSB7TWFwPFN0YXRzSWQsIFJlY2VpdmVyUmVwb3J0RmFjdG9yeT59IHZpZGVvXG4gKi9cblxuLyoqXG4gKiBAaW50ZXJmYWNlIFNlbmRlckFuZFJlY2VpdmVyUmVwb3J0RmFjdG9yaWVzXG4gKiBAcHJvcGVydHkge01hcDxTdGF0c0lkLCBTZW5kZXJSZXBvcnRGYWN0b3JpZXM+fSBzZW5kXG4gKiBAcHJvcGVydHkge01hcDxTdGF0c0lkLCBSZWNlaXZlclJlcG9ydEZhY3Rvcmllcz59IHJlY3ZcbiAqL1xuXG4vKipcbiAqIEBpbnRlcmZhY2Uge1N0YXRzSWRzQnlNZWRpYVR5cGV9XG4gKiBAcHJvcGVydHkge1NldDxTdGF0c0lkPn0gYXVkaW9cbiAqIEBwcm9wZXJ0eSB7U2V0PFN0YXRzSWQ+fSB2aWRlb1xuICovXG5cbi8qKlxuICogQHByb3BlcnR5IHtSVENQZWVyQ29ubmVjdGlvbn0gcGNcbiAqIEBwcm9wZXJ0eSB7SWNlUmVwb3J0RmFjdG9yeX0gaWNlUmVwb3J0RmFjdG9yeVxuICogQHByb3BlcnR5IHtTZW5kZXJBbmRSZWNlaXZlclJlcG9ydEZhY3Rvcmllc30gYXVkaW9cbiAqIEBwcm9wZXJ0eSB7U2VuZGVyQW5kUmVjZWl2ZXJSZXBvcnRGYWN0b3JpZXN9IHZpZGVvXG4gKiBAcHJvcGVydHkgez9QZWVyQ29ubmVjdGlvblJlcG9ydH0gbGFzdFJlcG9ydFxuICovXG5cbnZhciBQZWVyQ29ubmVjdGlvblJlcG9ydEZhY3RvcnkgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgUGVlckNvbm5lY3Rpb25SZXBvcnRGYWN0b3J5fS5cbiAgICogQHBhcmFtIHtSVENQZWVyQ29ubmVjdGlvbn0gcGNcbiAgICovXG4gIGZ1bmN0aW9uIFBlZXJDb25uZWN0aW9uUmVwb3J0RmFjdG9yeShwYykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQZWVyQ29ubmVjdGlvblJlcG9ydEZhY3RvcnkpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgcGM6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHBjXG4gICAgICB9LFxuICAgICAgaWNlOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBuZXcgSWNlUmVwb3J0RmFjdG9yeSgpXG4gICAgICB9LFxuICAgICAgYXVkaW86IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICBzZW5kOiBuZXcgTWFwKCksXG4gICAgICAgICAgcmVjdjogbmV3IE1hcCgpXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB2aWRlbzoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIHNlbmQ6IG5ldyBNYXAoKSxcbiAgICAgICAgICByZWN2OiBuZXcgTWFwKClcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGxhc3RSZXBvcnQ6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEge0BsaW5rIFBlZXJDb25uZWN0aW9uUmVwb3J0fS5cbiAgICogQHJldHVybnMge1Byb21pc2U8UGVlckNvbm5lY3Rpb25SZXBvcnQ+fVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhQZWVyQ29ubmVjdGlvblJlcG9ydEZhY3RvcnksIFt7XG4gICAga2V5OiAnbmV4dCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgdXBkYXRlUHJvbWlzZSA9IHR5cGVvZiBtb3pSVENQZWVyQ29ubmVjdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyB1cGRhdGVGaXJlZm94KHRoaXMpIDogdXBkYXRlQ2hyb21lKHRoaXMpO1xuXG4gICAgICByZXR1cm4gdXBkYXRlUHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGF1ZGlvU2VuZGVyUmVwb3J0RmFjdG9yaWVzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfdGhpcy5hdWRpby5zZW5kLnZhbHVlcygpKSk7XG4gICAgICAgIHZhciB2aWRlb1NlbmRlclJlcG9ydEZhY3RvcmllcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMudmlkZW8uc2VuZC52YWx1ZXMoKSkpO1xuICAgICAgICB2YXIgYXVkaW9SZWNlaXZlclJlcG9ydEZhY3RvcmllcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMuYXVkaW8ucmVjdi52YWx1ZXMoKSkpO1xuICAgICAgICB2YXIgdmlkZW9SZWNlaXZlclJlcG9ydEZhY3RvcmllcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMudmlkZW8ucmVjdi52YWx1ZXMoKSkpO1xuXG4gICAgICAgIHZhciByZXBvcnQgPSBuZXcgUGVlckNvbm5lY3Rpb25SZXBvcnQoX3RoaXMuaWNlLmxhc3RSZXBvcnQsIHtcbiAgICAgICAgICBzZW5kOiBhdWRpb1NlbmRlclJlcG9ydEZhY3Rvcmllcy5tYXAoZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5Lmxhc3RSZXBvcnQ7XG4gICAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChyZXBvcnQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXBvcnQ7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgcmVjdjogYXVkaW9SZWNlaXZlclJlcG9ydEZhY3Rvcmllcy5tYXAoZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5Lmxhc3RSZXBvcnQ7XG4gICAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChyZXBvcnQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXBvcnQ7XG4gICAgICAgICAgfSlcbiAgICAgICAgfSwge1xuICAgICAgICAgIHNlbmQ6IHZpZGVvU2VuZGVyUmVwb3J0RmFjdG9yaWVzLm1hcChmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnkubGFzdFJlcG9ydDtcbiAgICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKHJlcG9ydCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcG9ydDtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICByZWN2OiB2aWRlb1JlY2VpdmVyUmVwb3J0RmFjdG9yaWVzLm1hcChmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnkubGFzdFJlcG9ydDtcbiAgICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKHJlcG9ydCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcG9ydDtcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5sYXN0UmVwb3J0ID0gcmVwb3J0O1xuXG4gICAgICAgIHJldHVybiByZXBvcnQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGVlckNvbm5lY3Rpb25SZXBvcnRGYWN0b3J5O1xufSgpO1xuXG4vKipcbiAqIENvbnN0cnVjdCBhIE1hcCBmcm9tIE1lZGlhU3RyZWFtVHJhY2sgSWRzIHRvIFJUQ1N0YXRzUmVwb3J0cy5cbiAqIEBwYXJhbSB7QXJyYXk8UlRDUnRwU2VuZGVyPnxBcnJheTxSVENSdHBSZWNlaXZlcj59IHNlbmRlcnNPclJlY2VpdmVycyAtIGVhY2hcbiAqICAgUlRDUnRwU2VuZGVyIHNob3VsZCBoYXZlIGEgbm9uLW51bGwgdHJhY2tcbiAqIEByZXR1cm5zIHtQcm9taXNlPE1hcDxUcmFja0lkLCBSVENTdGF0cz4+fVxuICovXG5cblxuZnVuY3Rpb24gZ2V0U2VuZGVyT3JSZWNlaXZlclJlcG9ydHMoc2VuZGVyc09yUmVjZWl2ZXJzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChzZW5kZXJzT3JSZWNlaXZlcnMubWFwKGZ1bmN0aW9uIChzZW5kZXJPclJlY2VpdmVyKSB7XG4gICAgdmFyIHRyYWNrSWQgPSBzZW5kZXJPclJlY2VpdmVyLnRyYWNrLmlkO1xuICAgIHJldHVybiBzZW5kZXJPclJlY2VpdmVyLmdldFN0YXRzKCkudGhlbihmdW5jdGlvbiAocmVwb3J0KSB7XG4gICAgICAvLyBOT1RFKG1yb2JlcnRzKTogV2UgaGF2ZSB0byByZXdyaXRlIElkcyBkdWUgdG8gdGhpcyBidWc6XG4gICAgICAvL1xuICAgICAgLy8gICBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNDYzNDMwXG4gICAgICAvL1xuICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHJlcG9ydC52YWx1ZXMoKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgc3RhdHMgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgIGlmIChzdGF0cy50eXBlID09PSAnaW5ib3VuZC1ydHAnKSB7XG4gICAgICAgICAgICBzdGF0cy5pZCA9IHRyYWNrSWQgKyAnLScgKyBzdGF0cy5pZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gW3RyYWNrSWQsIHJlcG9ydF07XG4gICAgfSk7XG4gIH0pKS50aGVuKGZ1bmN0aW9uIChwYWlycykge1xuICAgIHJldHVybiBuZXcgTWFwKHBhaXJzKTtcbiAgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTZW5kZXJSZXBvcnRGYWN0b3J5LmNvbnN0cnVjdG9yfSBTZW5kZXJSZXBvcnRGYWN0b3J5XG4gKiBAcGFyYW0ge1NlbmRlclJlcG9ydEZhY3Rvcmllc0J5TWVkaWFUeXBlfSBzZW5kZXJzQnlNZWRpYVR5cGVcbiAqIEBwYXJhbSB7UlRDU3RhdHNSZXBvcnR9IHJlcG9ydFxuICogQHBhcmFtIHtSVENTdGF0c30gc3RhdHNcbiAqIEBwYXJhbSB7VHJhY2tJZH0gW3RyYWNrSWRdXG4gKiBAcmV0dXJucyB7P1NlbmRlclJlcG9ydEZhY3Rvcnl9XG4gKi8gLyoqXG4gICAgKiBAcGFyYW0ge1JlY2VpdmVyUmVwb3J0RmFjdG9yeS5jb25zdHJ1Y3Rvcn0gUmVjZWl2ZXJSZXBvcnRGYWN0b3J5XG4gICAgKiBAcGFyYW0ge1JlY2VpdmVyUmVwb3J0RmFjdG9yaWVzQnlNZWRpYVR5cGV9IHJlY2VpdmVyc0J5TWVkaWFUeXBlXG4gICAgKiBAcGFyYW0ge1JUQ1N0YXRzUmVwb3J0fSByZXBvcnRcbiAgICAqIEBwYXJhbSB7UlRDU3RhdHN9IHN0YXRzXG4gICAgKiBAcGFyYW0ge1RyYWNrSWR9IFt0cmFja0lkXVxuICAgICogQHJldHVybnMgez9SZWNlaXZlclJlcG9ydEZhY3Rvcnl9XG4gICAgKi9cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlU2VuZGVyT3JSZWNlaXZlclJlcG9ydEZhY3RvcnkoU2VuZGVyT3JSZWNlaXZlclJlcG9ydEZhY3RvcnksIHNlbmRlcnNPclJlY2VpdmVyc0J5TWVkaWFUeXBlLCByZXBvcnQsIHN0YXRzLCB0cmFja0lkKSB7XG4gIHZhciBzZW5kZXJzT3JSZWNlaXZlcnMgPSBzZW5kZXJzT3JSZWNlaXZlcnNCeU1lZGlhVHlwZVtzdGF0cy5tZWRpYVR5cGVdO1xuICBpZiAoIXRyYWNrSWQpIHtcbiAgICB2YXIgdHJhY2tTdGF0cyA9IHJlcG9ydC5nZXQoc3RhdHMudHJhY2tJZCk7XG4gICAgaWYgKHRyYWNrU3RhdHMpIHtcbiAgICAgIHRyYWNrSWQgPSB0cmFja1N0YXRzLnRyYWNrSWRlbnRpZmllcjtcbiAgICB9XG4gIH1cbiAgaWYgKHNlbmRlcnNPclJlY2VpdmVycyAmJiB0cmFja0lkKSB7XG4gICAgaWYgKHNlbmRlcnNPclJlY2VpdmVycy5oYXMoc3RhdHMuaWQpKSB7XG4gICAgICByZXR1cm4gc2VuZGVyc09yUmVjZWl2ZXJzLmdldChzdGF0cy5pZCk7XG4gICAgfVxuICAgIHZhciBzZW5kZXJPclJlY2VpdmVyRmFjdG9yeSA9IG5ldyBTZW5kZXJPclJlY2VpdmVyUmVwb3J0RmFjdG9yeSh0cmFja0lkLCBzdGF0cyk7XG4gICAgc2VuZGVyc09yUmVjZWl2ZXJzLnNldChzdGF0cy5pZCwgc2VuZGVyT3JSZWNlaXZlckZhY3RvcnkpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UGVlckNvbm5lY3Rpb25SZXBvcnRGYWN0b3J5fSBmYWN0b3J5XG4gKiBAcmV0dXJucyB7U2VuZGVyUmVwb3J0RmFjdG9yaWVzQnlNZWRpYVR5cGV9XG4gKi9cbmZ1bmN0aW9uIGdldFNlbmRlclJlcG9ydEZhY3Rvcmllc0J5TWVkaWFUeXBlKGZhY3RvcnkpIHtcbiAgcmV0dXJuIHsgYXVkaW86IGZhY3RvcnkuYXVkaW8uc2VuZCwgdmlkZW86IGZhY3RvcnkudmlkZW8uc2VuZCB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UGVlckNvbm5lY3Rpb25SZXBvcnRGYWN0b3J5fSBmYWN0b3J5XG4gKiBAcmV0dXJucyB7UmVjZWl2ZXJSZXBvcnRGYWN0b3JpZXNCeU1lZGlhVHlwZX1cbiAqL1xuZnVuY3Rpb24gZ2V0UmVjZWl2ZXJSZXBvcnRGYWN0b3JpZXNCeU1lZGlhVHlwZShmYWN0b3J5KSB7XG4gIHJldHVybiB7IGF1ZGlvOiBmYWN0b3J5LmF1ZGlvLnJlY3YsIHZpZGVvOiBmYWN0b3J5LnZpZGVvLnJlY3YgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1BlZXJDb25uZWN0aW9uUmVwb3J0RmFjdG9yeX0gZmFjdG9yeVxuICogQHBhcmFtIHtSVENTdGF0c1JlcG9ydH0gcmVwb3J0XG4gKiBAcGFyYW0ge1JUQ1N0YXRzfSBzdGF0c1xuICogQHBhcmFtIHtUcmFja0lkfSBbdHJhY2tJZF1cbiAqIEByZXR1cm5zIHs/U2VuZGVyUmVwb3J0RmFjdG9yeX1cbiAqL1xuZnVuY3Rpb24gZ2V0T3JDcmVhdGVTZW5kZXJSZXBvcnRGYWN0b3J5KGZhY3RvcnksIHJlcG9ydCwgc3RhdHMsIHRyYWNrSWQpIHtcbiAgcmV0dXJuIGdldE9yQ3JlYXRlU2VuZGVyT3JSZWNlaXZlclJlcG9ydEZhY3RvcnkoU2VuZGVyUmVwb3J0RmFjdG9yeSwgZ2V0U2VuZGVyUmVwb3J0RmFjdG9yaWVzQnlNZWRpYVR5cGUoZmFjdG9yeSksIHJlcG9ydCwgc3RhdHMsIHRyYWNrSWQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UGVlckNvbm5lY3Rpb25SZXBvcnRGYWN0b3J5fSBmYWN0b3J5XG4gKiBAcGFyYW0ge1JUQ1N0YXRzUmVwb3J0fSByZXBvcnRcbiAqIEBwYXJhbSB7UlRDU3RhdHN9IHN0YXRzXG4gKiBAcGFyYW0ge1RyYWNrSWR9IFt0cmFja0lkXVxuICogQHJldHVybnMgez9SZWNlaXZlclJlcG9ydEZhY3Rvcnl9XG4gKi9cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlUmVjZWl2ZXJSZXBvcnRGYWN0b3J5KGZhY3RvcnksIHJlcG9ydCwgc3RhdHMsIHRyYWNrSWQpIHtcbiAgcmV0dXJuIGdldE9yQ3JlYXRlU2VuZGVyT3JSZWNlaXZlclJlcG9ydEZhY3RvcnkoUmVjZWl2ZXJSZXBvcnRGYWN0b3J5LCBnZXRSZWNlaXZlclJlcG9ydEZhY3Rvcmllc0J5TWVkaWFUeXBlKGZhY3RvcnkpLCByZXBvcnQsIHN0YXRzLCB0cmFja0lkKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1BlZXJDb25uZWN0aW9uUmVwb3J0RmFjdG9yeX0gZmFjdG9yeVxuICogQHJldHVucyB7U3RhdHNJZHNCeU1lZGlhVHlwZX1cbiAqL1xuZnVuY3Rpb24gZ2V0U2VuZGVyUmVwb3J0RmFjdG9yeUlkc0J5TWVkaWFUeXBlKGZhY3RvcnkpIHtcbiAgcmV0dXJuIHtcbiAgICBhdWRpbzogbmV3IFNldChmYWN0b3J5LmF1ZGlvLnNlbmQua2V5cygpKSxcbiAgICB2aWRlbzogbmV3IFNldChmYWN0b3J5LnZpZGVvLnNlbmQua2V5cygpKVxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UGVlckNvbm5lY3Rpb25SZXBvcnRGYWN0b3J5fSBmYWN0b3J5XG4gKiBAcmV0dW5zIHtTdGF0c0lkc0J5TWVkaWFUeXBlfVxuICovXG5mdW5jdGlvbiBnZXRSZWNlaXZlclJlcG9ydEZhY3RvcnlJZHNCeU1lZGlhVHlwZShmYWN0b3J5KSB7XG4gIHJldHVybiB7XG4gICAgYXVkaW86IG5ldyBTZXQoZmFjdG9yeS5hdWRpby5yZWN2LmtleXMoKSksXG4gICAgdmlkZW86IG5ldyBTZXQoZmFjdG9yeS52aWRlby5yZWN2LmtleXMoKSlcbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1BlZXJDb25uZWN0aW9uUmVwb3J0RmFjdG9yeX0gZmFjdG9yeVxuICogQHBhcmFtIHtSVENTdGF0c1JlcG9ydH0gcmVwb3J0XG4gKiBAcGFyYW0ge1N0YXRzSWRzQnlNZWRpYVR5cGV9IHNlbmRlclJlcG9ydEZhY3RvcnlJZHNUb0RlbGV0ZUJ5TWVkaWFUeXBlXG4gKiBAcGFyYW0ge1RyYWNrSWR9IFt0cmFja0lkXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVNlbmRlclJlcG9ydHMoZmFjdG9yeSwgcmVwb3J0LCBzZW5kZXJSZXBvcnRGYWN0b3J5SWRzVG9EZWxldGVCeU1lZGlhVHlwZSwgdHJhY2tJZCkge1xuICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gcmVwb3J0LnZhbHVlcygpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICB2YXIgc3RhdHMgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgIGlmIChzdGF0cy50eXBlID09PSAnb3V0Ym91bmQtcnRwJyAmJiAhc3RhdHMuaXNSZW1vdGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtb3pSVENQZWVyQ29ubmVjdGlvbiA9PT0gJ3VuZGVmaW5lZCcgJiYgIXN0YXRzLnRyYWNrSWQpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VuZGVyUmVwb3J0RmFjdG9yeUlkc1RvRGVsZXRlID0gc2VuZGVyUmVwb3J0RmFjdG9yeUlkc1RvRGVsZXRlQnlNZWRpYVR5cGVbc3RhdHMubWVkaWFUeXBlXTtcbiAgICAgICAgaWYgKHNlbmRlclJlcG9ydEZhY3RvcnlJZHNUb0RlbGV0ZSkge1xuICAgICAgICAgIHNlbmRlclJlcG9ydEZhY3RvcnlJZHNUb0RlbGV0ZS5kZWxldGUoc3RhdHMuaWQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZW5kZXJSZXBvcnRGYWN0b3J5ID0gZ2V0T3JDcmVhdGVTZW5kZXJSZXBvcnRGYWN0b3J5KGZhY3RvcnksIHJlcG9ydCwgc3RhdHMsIHRyYWNrSWQpO1xuICAgICAgICBpZiAoc2VuZGVyUmVwb3J0RmFjdG9yeSkge1xuICAgICAgICAgIHZhciByZW1vdGVJbmJvdW5kU3RhdHMgPSByZXBvcnQuZ2V0KHN0YXRzLnJlbW90ZUlkKTtcbiAgICAgICAgICBzZW5kZXJSZXBvcnRGYWN0b3J5Lm5leHQodHJhY2tJZCB8fCBzZW5kZXJSZXBvcnRGYWN0b3J5LnRyYWNrSWQsIHN0YXRzLCByZW1vdGVJbmJvdW5kU3RhdHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1BlZXJDb25uZWN0aW9uUmVwb3J0RmFjdG9yeX0gZmFjdG9yeVxuICogQHBhcmFtIHtSVENTdGF0c1JlcG9ydH0gcmVwb3J0XG4gKiBAcGFyYW0ge1N0YXRzSWRzQnlNZWRpYVR5cGV9IHJlY2VpdmVyUmVwb3J0RmFjdG9yeUlkc1RvRGVsZXRlQnlNZWRpYVR5cGVcbiAqIEBwYXJhbSB7VHJhY2tJZH0gW3RyYWNrSWRdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gdXBkYXRlUmVjZWl2ZXJSZXBvcnRzKGZhY3RvcnksIHJlcG9ydCwgcmVjZWl2ZXJSZXBvcnRGYWN0b3J5SWRzVG9EZWxldGVCeU1lZGlhVHlwZSwgdHJhY2tJZCkge1xuICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gcmVwb3J0LnZhbHVlcygpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICB2YXIgc3RhdHMgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgIGlmIChzdGF0cy50eXBlID09PSAnaW5ib3VuZC1ydHAnICYmICFzdGF0cy5pc1JlbW90ZSkge1xuICAgICAgICB2YXIgcmVjZWl2ZXJSZXBvcnRGYWN0b3J5SWRzVG9EZWxldGUgPSByZWNlaXZlclJlcG9ydEZhY3RvcnlJZHNUb0RlbGV0ZUJ5TWVkaWFUeXBlW3N0YXRzLm1lZGlhVHlwZV07XG4gICAgICAgIGlmIChyZWNlaXZlclJlcG9ydEZhY3RvcnlJZHNUb0RlbGV0ZSkge1xuICAgICAgICAgIHJlY2VpdmVyUmVwb3J0RmFjdG9yeUlkc1RvRGVsZXRlLmRlbGV0ZShzdGF0cy5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlY2VpdmVyUmVwb3J0RmFjdG9yeSA9IGdldE9yQ3JlYXRlUmVjZWl2ZXJSZXBvcnRGYWN0b3J5KGZhY3RvcnksIHJlcG9ydCwgc3RhdHMsIHRyYWNrSWQpO1xuICAgICAgICBpZiAocmVjZWl2ZXJSZXBvcnRGYWN0b3J5KSB7XG4gICAgICAgICAgcmVjZWl2ZXJSZXBvcnRGYWN0b3J5Lm5leHQodHJhY2tJZCB8fCByZWNlaXZlclJlcG9ydEZhY3RvcnkudHJhY2tJZCwgc3RhdHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG4gICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1NlbmRlclJlcG9ydEZhY3Rvcmllc0J5TWVkaWFUeXBlfFJlY2VpdmVyUmVwb3J0RmFjdG9yaWVzQnlNZWRpYVR5cGV9IHNlbmRlck9yUmVjZWl2ZXJSZXBvcnRGYWN0b3JpZXNCeU1lZGlhVHlwZVxuICogQHBhcmFtIHtTdGF0c0lkc0J5TWVkaWFUeXBlfSBzZW5kZXJPclJlY2VpdmVyUmVwb3J0RmFjdG9yeUlkc0J5TWVkaWFUeXBlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gZGVsZXRlU2VuZGVyT3JSZWNlaXZlclJlcG9ydEZhY3RvcmllcyhzZW5kZXJPclJlY2VpdmVyUmVwb3J0RmFjdG9yaWVzQnlNZWRpYVR5cGUsIHNlbmRlck9yUmVjZWl2ZXJSZXBvcnRGYWN0b3J5SWRzQnlNZWRpYVR5cGUpIHtcbiAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AobWVkaWFUeXBlKSB7XG4gICAgdmFyIHNlbmRlck9yUmVjZWl2ZXJSZXBvcnRGYWN0b3JpZXMgPSBzZW5kZXJPclJlY2VpdmVyUmVwb3J0RmFjdG9yaWVzQnlNZWRpYVR5cGVbbWVkaWFUeXBlXTtcbiAgICB2YXIgc2VuZGVyT3JSZWNlaXZlclJlcG9ydEZhY3RvcnlJZHMgPSBzZW5kZXJPclJlY2VpdmVyUmVwb3J0RmFjdG9yeUlkc0J5TWVkaWFUeXBlW21lZGlhVHlwZV07XG4gICAgc2VuZGVyT3JSZWNlaXZlclJlcG9ydEZhY3RvcnlJZHMuZm9yRWFjaChmdW5jdGlvbiAoc2VuZGVyT3JSZWNlaXZlclJlcG9ydEZhY3RvcnlJZCkge1xuICAgICAgcmV0dXJuIHNlbmRlck9yUmVjZWl2ZXJSZXBvcnRGYWN0b3JpZXMuZGVsZXRlKHNlbmRlck9yUmVjZWl2ZXJSZXBvcnRGYWN0b3J5SWQpO1xuICAgIH0pO1xuICB9O1xuXG4gIGZvciAodmFyIG1lZGlhVHlwZSBpbiBzZW5kZXJPclJlY2VpdmVyUmVwb3J0RmFjdG9yeUlkc0J5TWVkaWFUeXBlKSB7XG4gICAgX2xvb3AobWVkaWFUeXBlKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7SWNlUmVwb3J0RmFjdG9yeX0gaWNlXG4gKiBAcGFyYW0ge1JUQ1N0YXRzUmVwb3J0fSByZXBvcnRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB1cGRhdGVJY2VSZXBvcnQoaWNlLCByZXBvcnQpIHtcbiAgdmFyIHNlbGVjdGVkQ2FuZGlkYXRlUGFpciA9IHZvaWQgMDtcbiAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZTtcbiAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlO1xuICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yNCA9IHJlcG9ydC52YWx1ZXMoKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IChfc3RlcDQgPSBfaXRlcmF0b3I0Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZSkge1xuICAgICAgdmFyIHN0YXRzID0gX3N0ZXA0LnZhbHVlO1xuXG4gICAgICBpZiAoc3RhdHMudHlwZSA9PT0gJ3RyYW5zcG9ydCcpIHtcbiAgICAgICAgc2VsZWN0ZWRDYW5kaWRhdGVQYWlyID0gcmVwb3J0LmdldChzdGF0cy5zZWxlY3RlZENhbmRpZGF0ZVBhaXJJZCk7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuICAgIF9pdGVyYXRvckVycm9yNCA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCAmJiBfaXRlcmF0b3I0LnJldHVybikge1xuICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I0KSB7XG4gICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoc2VsZWN0ZWRDYW5kaWRhdGVQYWlyKSB7XG4gICAgaWNlLm5leHQoc2VsZWN0ZWRDYW5kaWRhdGVQYWlyKTtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZTtcbiAgdmFyIF9kaWRJdGVyYXRvckVycm9yNSA9IGZhbHNlO1xuICB2YXIgX2l0ZXJhdG9yRXJyb3I1ID0gdW5kZWZpbmVkO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yNSA9IHJlcG9ydC52YWx1ZXMoKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNTsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IChfc3RlcDUgPSBfaXRlcmF0b3I1Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZSkge1xuICAgICAgdmFyIF9zdGF0cyA9IF9zdGVwNS52YWx1ZTtcblxuICAgICAgaWYgKF9zdGF0cy50eXBlID09PSAnY2FuZGlkYXRlLXBhaXInICYmIF9zdGF0cy5ub21pbmF0ZWQgJiYgKCdzZWxlY3RlZCcgaW4gX3N0YXRzID8gX3N0YXRzLnNlbGVjdGVkIDogdHJ1ZSkpIHtcbiAgICAgICAgaWNlLm5leHQoX3N0YXRzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kaWRJdGVyYXRvckVycm9yNSA9IHRydWU7XG4gICAgX2l0ZXJhdG9yRXJyb3I1ID0gZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ICYmIF9pdGVyYXRvcjUucmV0dXJuKSB7XG4gICAgICAgIF9pdGVyYXRvcjUucmV0dXJuKCk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjUpIHtcbiAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I1O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UGVlckNvbm5lY3Rpb25SZXBvcnRGYWN0b3J5fSBmYWN0b3J5XG4gKiBAcmV0dXJucyB7UGVlckNvbm5lY3Rpb25SZXBvcnR9XG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUZpcmVmb3goZmFjdG9yeSkge1xuICB2YXIgc2VuZGVycyA9IGZhY3RvcnkucGMuZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKGZ1bmN0aW9uICh0cmFuc2NlaXZlcikge1xuICAgIHJldHVybiB0cmFuc2NlaXZlci5jdXJyZW50RGlyZWN0aW9uICYmIHRyYW5zY2VpdmVyLmN1cnJlbnREaXJlY3Rpb24ubWF0Y2goL3NlbmQvKSAmJiB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2s7XG4gIH0pLm1hcChmdW5jdGlvbiAodHJhbnNjZWl2ZXIpIHtcbiAgICByZXR1cm4gdHJhbnNjZWl2ZXIuc2VuZGVyO1xuICB9KTtcblxuICB2YXIgcmVjZWl2ZXJzID0gZmFjdG9yeS5wYy5nZXRUcmFuc2NlaXZlcnMoKS5maWx0ZXIoZnVuY3Rpb24gKHRyYW5zY2VpdmVyKSB7XG4gICAgcmV0dXJuIHRyYW5zY2VpdmVyLmN1cnJlbnREaXJlY3Rpb24gJiYgdHJhbnNjZWl2ZXIuY3VycmVudERpcmVjdGlvbi5tYXRjaCgvcmVjdi8pO1xuICB9KS5tYXAoZnVuY3Rpb24gKHRyYW5zY2VpdmVyKSB7XG4gICAgcmV0dXJuIHRyYW5zY2VpdmVyLnJlY2VpdmVyO1xuICB9KTtcblxuICByZXR1cm4gUHJvbWlzZS5hbGwoW2dldFNlbmRlck9yUmVjZWl2ZXJSZXBvcnRzKHNlbmRlcnMpLCBnZXRTZW5kZXJPclJlY2VpdmVyUmVwb3J0cyhyZWNlaXZlcnMpLCBmYWN0b3J5LnBjLmdldFN0YXRzKCldKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMyksXG4gICAgICAgIHNlbmRlclJlcG9ydHMgPSBfcmVmMlswXSxcbiAgICAgICAgcmVjZWl2ZXJSZXBvcnRzID0gX3JlZjJbMV0sXG4gICAgICAgIHBjUmVwb3J0ID0gX3JlZjJbMl07XG5cbiAgICB2YXIgc2VuZGVyUmVwb3J0RmFjdG9yaWVzQnlNZWRpYVR5cGUgPSBnZXRTZW5kZXJSZXBvcnRGYWN0b3JpZXNCeU1lZGlhVHlwZShmYWN0b3J5KTtcbiAgICB2YXIgc2VuZGVyUmVwb3J0RmFjdG9yeUlkc1RvRGVsZXRlQnlNZWRpYVR5cGUgPSBnZXRTZW5kZXJSZXBvcnRGYWN0b3J5SWRzQnlNZWRpYVR5cGUoZmFjdG9yeSk7XG4gICAgc2VuZGVyUmVwb3J0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXBvcnQsIHRyYWNrSWQpIHtcbiAgICAgIHJldHVybiB1cGRhdGVTZW5kZXJSZXBvcnRzKGZhY3RvcnksIHJlcG9ydCwgc2VuZGVyUmVwb3J0RmFjdG9yeUlkc1RvRGVsZXRlQnlNZWRpYVR5cGUsIHRyYWNrSWQpO1xuICAgIH0pO1xuICAgIGRlbGV0ZVNlbmRlck9yUmVjZWl2ZXJSZXBvcnRGYWN0b3JpZXMoc2VuZGVyUmVwb3J0RmFjdG9yaWVzQnlNZWRpYVR5cGUsIHNlbmRlclJlcG9ydEZhY3RvcnlJZHNUb0RlbGV0ZUJ5TWVkaWFUeXBlKTtcblxuICAgIHZhciByZWNlaXZlclJlcG9ydEZhY3Rvcmllc0J5TWVkaWFUeXBlID0gZ2V0UmVjZWl2ZXJSZXBvcnRGYWN0b3JpZXNCeU1lZGlhVHlwZShmYWN0b3J5KTtcbiAgICB2YXIgcmVjZWl2ZXJSZXBvcnRGYWN0b3J5SWRzVG9EZWxldGVCeU1lZGlhVHlwZSA9IGdldFJlY2VpdmVyUmVwb3J0RmFjdG9yeUlkc0J5TWVkaWFUeXBlKGZhY3RvcnkpO1xuICAgIHJlY2VpdmVyUmVwb3J0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXBvcnQsIHRyYWNrSWQpIHtcbiAgICAgIHJldHVybiB1cGRhdGVSZWNlaXZlclJlcG9ydHMoZmFjdG9yeSwgcmVwb3J0LCByZWNlaXZlclJlcG9ydEZhY3RvcnlJZHNUb0RlbGV0ZUJ5TWVkaWFUeXBlLCB0cmFja0lkKTtcbiAgICB9KTtcbiAgICBkZWxldGVTZW5kZXJPclJlY2VpdmVyUmVwb3J0RmFjdG9yaWVzKHJlY2VpdmVyUmVwb3J0RmFjdG9yaWVzQnlNZWRpYVR5cGUsIHJlY2VpdmVyUmVwb3J0RmFjdG9yeUlkc1RvRGVsZXRlQnlNZWRpYVR5cGUpO1xuXG4gICAgdXBkYXRlSWNlUmVwb3J0KGZhY3RvcnkuaWNlLCBwY1JlcG9ydCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UGVlckNvbm5lY3Rpb25SZXBvcnRGYWN0b3J5fSBmYWN0b3J5XG4gKiBAcmV0dXJucyB7UGVlckNvbm5lY3Rpb25SZXBvcnR9XG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUNocm9tZShmYWN0b3J5KSB7XG4gIHJldHVybiBmYWN0b3J5LnBjLmdldFN0YXRzKCkudGhlbihmdW5jdGlvbiAocmVwb3J0KSB7XG4gICAgdmFyIHNlbmRlclJlcG9ydEZhY3Rvcmllc0J5TWVkaWFUeXBlID0gZ2V0U2VuZGVyUmVwb3J0RmFjdG9yaWVzQnlNZWRpYVR5cGUoZmFjdG9yeSk7XG4gICAgdmFyIHNlbmRlclJlcG9ydEZhY3RvcnlJZHNUb0RlbGV0ZUJ5TWVkaWFUeXBlID0gZ2V0U2VuZGVyUmVwb3J0RmFjdG9yeUlkc0J5TWVkaWFUeXBlKGZhY3RvcnkpO1xuICAgIHVwZGF0ZVNlbmRlclJlcG9ydHMoZmFjdG9yeSwgcmVwb3J0LCBzZW5kZXJSZXBvcnRGYWN0b3J5SWRzVG9EZWxldGVCeU1lZGlhVHlwZSk7XG4gICAgZGVsZXRlU2VuZGVyT3JSZWNlaXZlclJlcG9ydEZhY3RvcmllcyhzZW5kZXJSZXBvcnRGYWN0b3JpZXNCeU1lZGlhVHlwZSwgc2VuZGVyUmVwb3J0RmFjdG9yeUlkc1RvRGVsZXRlQnlNZWRpYVR5cGUpO1xuXG4gICAgdmFyIHJlY2VpdmVyUmVwb3J0RmFjdG9yaWVzQnlNZWRpYVR5cGUgPSBnZXRSZWNlaXZlclJlcG9ydEZhY3Rvcmllc0J5TWVkaWFUeXBlKGZhY3RvcnkpO1xuICAgIHZhciByZWNlaXZlclJlcG9ydEZhY3RvcnlJZHNUb0RlbGV0ZUJ5TWVkaWFUeXBlID0gZ2V0UmVjZWl2ZXJSZXBvcnRGYWN0b3J5SWRzQnlNZWRpYVR5cGUoZmFjdG9yeSk7XG4gICAgdXBkYXRlUmVjZWl2ZXJSZXBvcnRzKGZhY3RvcnksIHJlcG9ydCwgcmVjZWl2ZXJSZXBvcnRGYWN0b3J5SWRzVG9EZWxldGVCeU1lZGlhVHlwZSk7XG4gICAgZGVsZXRlU2VuZGVyT3JSZWNlaXZlclJlcG9ydEZhY3RvcmllcyhyZWNlaXZlclJlcG9ydEZhY3Rvcmllc0J5TWVkaWFUeXBlLCByZWNlaXZlclJlcG9ydEZhY3RvcnlJZHNUb0RlbGV0ZUJ5TWVkaWFUeXBlKTtcblxuICAgIHVwZGF0ZUljZVJlcG9ydChmYWN0b3J5LmljZSwgcmVwb3J0KTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUGVlckNvbm5lY3Rpb25SZXBvcnRGYWN0b3J5O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvc3RhdHMvcGVlcmNvbm5lY3Rpb25yZXBvcnRmYWN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSAzMjVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///325\n");

/***/ }),
/* 326 */
/*!*****************************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/icereportfactory.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar IceReport = __webpack_require__(/*! ./icereport */ 327);\n\n/**\n * @property {IceReport} lastReport\n * @property {?RTCStats} lastStats\n */\n\nvar IceReportFactory = function () {\n  /**\n   * Construct an {@link IceReportFactory}.\n   */\n  function IceReportFactory() {\n    _classCallCheck(this, IceReportFactory);\n\n    Object.defineProperties(this, {\n      lastReport: {\n        enumerable: true,\n        value: new IceReport(0, 0),\n        writable: true\n      },\n      lastStats: {\n        enumerable: true,\n        value: null,\n        writable: true\n      }\n    });\n  }\n\n  /**\n   * Create an {@link IceReport}.\n   * @param {RTCStats} newerStats;\n   * @returns {IceReport}\n   */\n\n\n  _createClass(IceReportFactory, [{\n    key: 'next',\n    value: function next(newerStats) {\n      var olderStats = this.lastStats;\n      this.lastStats = newerStats;\n      if (olderStats) {\n        var report = olderStats.id === newerStats.id ? IceReport.of(olderStats, newerStats) : new IceReport(0, 0);\n        this.lastReport = report;\n      }\n      return this.lastReport;\n    }\n  }]);\n\n  return IceReportFactory;\n}();\n\nmodule.exports = IceReportFactory;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9pY2VyZXBvcnRmYWN0b3J5LmpzP2NhNDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGdCQUFnQixtQkFBTyxDQUFDLHNCQUFhOztBQUVyQztBQUNBLGNBQWMsVUFBVTtBQUN4QixjQUFjLFVBQVU7QUFDeEI7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQix1QkFBdUI7QUFDMUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLGdCQUFnQixnQkFBZ0I7QUFDaEMsYUFBYSxTQUFTO0FBQ3RCLGVBQWU7QUFDZjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjMyNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEljZVJlcG9ydCA9IHJlcXVpcmUoJy4vaWNlcmVwb3J0Jyk7XG5cbi8qKlxuICogQHByb3BlcnR5IHtJY2VSZXBvcnR9IGxhc3RSZXBvcnRcbiAqIEBwcm9wZXJ0eSB7P1JUQ1N0YXRzfSBsYXN0U3RhdHNcbiAqL1xuXG52YXIgSWNlUmVwb3J0RmFjdG9yeSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhbiB7QGxpbmsgSWNlUmVwb3J0RmFjdG9yeX0uXG4gICAqL1xuICBmdW5jdGlvbiBJY2VSZXBvcnRGYWN0b3J5KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJY2VSZXBvcnRGYWN0b3J5KTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICAgIGxhc3RSZXBvcnQ6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG5ldyBJY2VSZXBvcnQoMCwgMCksXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9LFxuICAgICAgbGFzdFN0YXRzOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiB7QGxpbmsgSWNlUmVwb3J0fS5cbiAgICogQHBhcmFtIHtSVENTdGF0c30gbmV3ZXJTdGF0cztcbiAgICogQHJldHVybnMge0ljZVJlcG9ydH1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoSWNlUmVwb3J0RmFjdG9yeSwgW3tcbiAgICBrZXk6ICduZXh0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbmV4dChuZXdlclN0YXRzKSB7XG4gICAgICB2YXIgb2xkZXJTdGF0cyA9IHRoaXMubGFzdFN0YXRzO1xuICAgICAgdGhpcy5sYXN0U3RhdHMgPSBuZXdlclN0YXRzO1xuICAgICAgaWYgKG9sZGVyU3RhdHMpIHtcbiAgICAgICAgdmFyIHJlcG9ydCA9IG9sZGVyU3RhdHMuaWQgPT09IG5ld2VyU3RhdHMuaWQgPyBJY2VSZXBvcnQub2Yob2xkZXJTdGF0cywgbmV3ZXJTdGF0cykgOiBuZXcgSWNlUmVwb3J0KDAsIDApO1xuICAgICAgICB0aGlzLmxhc3RSZXBvcnQgPSByZXBvcnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5sYXN0UmVwb3J0O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBJY2VSZXBvcnRGYWN0b3J5O1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEljZVJlcG9ydEZhY3Rvcnk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9pY2VyZXBvcnRmYWN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSAzMjZcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///326\n");

/***/ }),
/* 327 */
/*!**********************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/icereport.js ***!
  \**********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * @property {number} [availableSend] - bps (undefined in Firefox)\n * @property {number} recv - bps\n * @property {number} [rtt] - s (undefined in Firefox)\n * @property {number} send - bps\n */\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar IceReport = function () {\n  /**\n   * Construct an {@link IceReport}.\n   * @param {number} send - bps\n   * @param {number} recv - bps\n   * @param {number} [rtt] - s\n   * @param {number} [availableSend] - bps\n   */\n  function IceReport(send, recv, availableSend, rtt) {\n    _classCallCheck(this, IceReport);\n\n    Object.defineProperties(this, {\n      availableSend: {\n        enumerable: true,\n        value: availableSend\n      },\n      recv: {\n        enumerable: true,\n        value: recv\n      },\n      rtt: {\n        enumerable: true,\n        value: rtt\n      },\n      send: {\n        enumerable: true,\n        value: send\n      }\n    });\n  }\n\n  /**\n   * @param {RTCStats} olderStats\n   * @param {RTCStats} newerStats\n   * @returns {IceReport}\n   */\n\n\n  _createClass(IceReport, null, [{\n    key: 'of',\n    value: function of(olderStats, newerStats) {\n      var secondsElapsed = (newerStats.timestamp - olderStats.timestamp) / 1000;\n      var deltaBytesSent = newerStats.bytesSent - olderStats.bytesSent;\n      var deltaBytesReceived = newerStats.bytesReceived - olderStats.bytesReceived;\n      var send = secondsElapsed > 0 ? deltaBytesSent / secondsElapsed * 8 : 0;\n      var recv = secondsElapsed > 0 ? deltaBytesReceived / secondsElapsed * 8 : 0;\n      var availableSend = newerStats.availableOutgoingBitrate,\n          rtt = newerStats.currentRoundTripTime;\n\n      return new IceReport(send, recv, availableSend, rtt);\n    }\n  }]);\n\n  return IceReport;\n}();\n\nmodule.exports = IceReport;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9pY2VyZXBvcnQuanM/OTM4NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsT0FBTztBQUNyQjs7QUFFQSxnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdko7QUFDQTtBQUNBLG1CQUFtQixnQkFBZ0I7QUFDbkMsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCLGFBQWEsU0FBUztBQUN0QixlQUFlO0FBQ2Y7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIzMjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFthdmFpbGFibGVTZW5kXSAtIGJwcyAodW5kZWZpbmVkIGluIEZpcmVmb3gpXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmVjdiAtIGJwc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtydHRdIC0gcyAodW5kZWZpbmVkIGluIEZpcmVmb3gpXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2VuZCAtIGJwc1xuICovXG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBJY2VSZXBvcnQgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYW4ge0BsaW5rIEljZVJlcG9ydH0uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzZW5kIC0gYnBzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByZWN2IC0gYnBzXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbcnR0XSAtIHNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFthdmFpbGFibGVTZW5kXSAtIGJwc1xuICAgKi9cbiAgZnVuY3Rpb24gSWNlUmVwb3J0KHNlbmQsIHJlY3YsIGF2YWlsYWJsZVNlbmQsIHJ0dCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJY2VSZXBvcnQpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgYXZhaWxhYmxlU2VuZDoge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogYXZhaWxhYmxlU2VuZFxuICAgICAgfSxcbiAgICAgIHJlY3Y6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHJlY3ZcbiAgICAgIH0sXG4gICAgICBydHQ6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHJ0dFxuICAgICAgfSxcbiAgICAgIHNlbmQ6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHNlbmRcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JUQ1N0YXRzfSBvbGRlclN0YXRzXG4gICAqIEBwYXJhbSB7UlRDU3RhdHN9IG5ld2VyU3RhdHNcbiAgICogQHJldHVybnMge0ljZVJlcG9ydH1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoSWNlUmVwb3J0LCBudWxsLCBbe1xuICAgIGtleTogJ29mJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb2Yob2xkZXJTdGF0cywgbmV3ZXJTdGF0cykge1xuICAgICAgdmFyIHNlY29uZHNFbGFwc2VkID0gKG5ld2VyU3RhdHMudGltZXN0YW1wIC0gb2xkZXJTdGF0cy50aW1lc3RhbXApIC8gMTAwMDtcbiAgICAgIHZhciBkZWx0YUJ5dGVzU2VudCA9IG5ld2VyU3RhdHMuYnl0ZXNTZW50IC0gb2xkZXJTdGF0cy5ieXRlc1NlbnQ7XG4gICAgICB2YXIgZGVsdGFCeXRlc1JlY2VpdmVkID0gbmV3ZXJTdGF0cy5ieXRlc1JlY2VpdmVkIC0gb2xkZXJTdGF0cy5ieXRlc1JlY2VpdmVkO1xuICAgICAgdmFyIHNlbmQgPSBzZWNvbmRzRWxhcHNlZCA+IDAgPyBkZWx0YUJ5dGVzU2VudCAvIHNlY29uZHNFbGFwc2VkICogOCA6IDA7XG4gICAgICB2YXIgcmVjdiA9IHNlY29uZHNFbGFwc2VkID4gMCA/IGRlbHRhQnl0ZXNSZWNlaXZlZCAvIHNlY29uZHNFbGFwc2VkICogOCA6IDA7XG4gICAgICB2YXIgYXZhaWxhYmxlU2VuZCA9IG5ld2VyU3RhdHMuYXZhaWxhYmxlT3V0Z29pbmdCaXRyYXRlLFxuICAgICAgICAgIHJ0dCA9IG5ld2VyU3RhdHMuY3VycmVudFJvdW5kVHJpcFRpbWU7XG5cbiAgICAgIHJldHVybiBuZXcgSWNlUmVwb3J0KHNlbmQsIHJlY3YsIGF2YWlsYWJsZVNlbmQsIHJ0dCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEljZVJlcG9ydDtcbn0oKTtcblxubW9kdWxlLmV4cG9ydHMgPSBJY2VSZXBvcnQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9pY2VyZXBvcnQuanNcbi8vIG1vZHVsZSBpZCA9IDMyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///327\n");

/***/ }),
/* 328 */
/*!*********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/peerconnectionreport.js ***!
  \*********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ReceiverReport = __webpack_require__(/*! ./receiverreport */ 250);\nvar SenderReport = __webpack_require__(/*! ./senderreport */ 254);\n\n/**\n * @interface SenderAndReceiverReports\n * @property {Array<SenderReport>} send\n * @property {Array<ReceiverReport>} recv\n */\n\n/**\n * @interface SenderAndReceiverSummary\n * @property {SenderSummary} send\n * @property {ReceiverSummary} recv\n */\n\n/**\n * @interface PeerConnectionSummary\n * @property {IceReport} ice\n * @property {SenderSummary} send\n * @property {ReceiverSummary} recv\n * @property {SenderAndReceiverSummary} audio\n * @property {SenderAndReceiverSummary} video\n */\n\n/**\n * @property {IceReport} ice\n * @roperty {SenderAndReceiverReports} audio\n * @roperty {SenderAndReceiverReports} video\n */\n\nvar PeerConnectionReport = function () {\n  /**\n   * Construct a {@link PeerConnectionReport}.\n   * @param {IceReport} ice\n   * @param {SenderAndReceiverReports} audio\n   * @param {SenderAndReceiverReports} video\n   */\n  function PeerConnectionReport(ice, audio, video) {\n    _classCallCheck(this, PeerConnectionReport);\n\n    Object.defineProperties(this, {\n      ice: {\n        enumerable: true,\n        value: ice\n      },\n      audio: {\n        enumerable: true,\n        value: audio\n      },\n      video: {\n        enumerable: true,\n        value: video\n      }\n    });\n  }\n\n  /**\n   * Summarize the {@link PeerConnectionReport} by summarizing its\n   * {@link SenderReport}s and {@link ReceiverReport}s.\n   * @returns {PeerConnectionSummary}\n   */\n\n\n  _createClass(PeerConnectionReport, [{\n    key: 'summarize',\n    value: function summarize() {\n      var senderReports = this.audio.send.concat(this.video.send);\n      var send = SenderReport.summarize(senderReports);\n\n      var receiverReports = this.audio.recv.concat(this.video.recv);\n      var recv = ReceiverReport.summarize(receiverReports);\n\n      return {\n        ice: this.ice,\n        send: send,\n        recv: recv,\n        audio: {\n          send: SenderReport.summarize(this.audio.send),\n          recv: ReceiverReport.summarize(this.audio.recv)\n        },\n        video: {\n          send: SenderReport.summarize(this.video.send),\n          recv: ReceiverReport.summarize(this.video.recv)\n        }\n      };\n    }\n  }]);\n\n  return PeerConnectionReport;\n}();\n\nmodule.exports = PeerConnectionReport;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9wZWVyY29ubmVjdGlvbnJlcG9ydC5qcz9mMDAyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixxQkFBcUIsbUJBQU8sQ0FBQywyQkFBa0I7QUFDL0MsbUJBQW1CLG1CQUFPLENBQUMseUJBQWdCOztBQUUzQztBQUNBO0FBQ0EsY0FBYyxvQkFBb0I7QUFDbEMsY0FBYyxzQkFBc0I7QUFDcEM7O0FBRUE7QUFDQTtBQUNBLGNBQWMsY0FBYztBQUM1QixjQUFjLGdCQUFnQjtBQUM5Qjs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsY0FBYztBQUM1QixjQUFjLGdCQUFnQjtBQUM5QixjQUFjLHlCQUF5QjtBQUN2QyxjQUFjLHlCQUF5QjtBQUN2Qzs7QUFFQTtBQUNBLGNBQWMsVUFBVTtBQUN4QixhQUFhLHlCQUF5QjtBQUN0QyxhQUFhLHlCQUF5QjtBQUN0Qzs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCLDJCQUEyQjtBQUM3QyxhQUFhLFVBQVU7QUFDdkIsYUFBYSx5QkFBeUI7QUFDdEMsYUFBYSx5QkFBeUI7QUFDdEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLG9CQUFvQiwyQkFBMkI7QUFDL0MsTUFBTSxtQkFBbUIsT0FBTyxxQkFBcUI7QUFDckQsZUFBZTtBQUNmOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiMzI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmVjZWl2ZXJSZXBvcnQgPSByZXF1aXJlKCcuL3JlY2VpdmVycmVwb3J0Jyk7XG52YXIgU2VuZGVyUmVwb3J0ID0gcmVxdWlyZSgnLi9zZW5kZXJyZXBvcnQnKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIFNlbmRlckFuZFJlY2VpdmVyUmVwb3J0c1xuICogQHByb3BlcnR5IHtBcnJheTxTZW5kZXJSZXBvcnQ+fSBzZW5kXG4gKiBAcHJvcGVydHkge0FycmF5PFJlY2VpdmVyUmVwb3J0Pn0gcmVjdlxuICovXG5cbi8qKlxuICogQGludGVyZmFjZSBTZW5kZXJBbmRSZWNlaXZlclN1bW1hcnlcbiAqIEBwcm9wZXJ0eSB7U2VuZGVyU3VtbWFyeX0gc2VuZFxuICogQHByb3BlcnR5IHtSZWNlaXZlclN1bW1hcnl9IHJlY3ZcbiAqL1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgUGVlckNvbm5lY3Rpb25TdW1tYXJ5XG4gKiBAcHJvcGVydHkge0ljZVJlcG9ydH0gaWNlXG4gKiBAcHJvcGVydHkge1NlbmRlclN1bW1hcnl9IHNlbmRcbiAqIEBwcm9wZXJ0eSB7UmVjZWl2ZXJTdW1tYXJ5fSByZWN2XG4gKiBAcHJvcGVydHkge1NlbmRlckFuZFJlY2VpdmVyU3VtbWFyeX0gYXVkaW9cbiAqIEBwcm9wZXJ0eSB7U2VuZGVyQW5kUmVjZWl2ZXJTdW1tYXJ5fSB2aWRlb1xuICovXG5cbi8qKlxuICogQHByb3BlcnR5IHtJY2VSZXBvcnR9IGljZVxuICogQHJvcGVydHkge1NlbmRlckFuZFJlY2VpdmVyUmVwb3J0c30gYXVkaW9cbiAqIEByb3BlcnR5IHtTZW5kZXJBbmRSZWNlaXZlclJlcG9ydHN9IHZpZGVvXG4gKi9cblxudmFyIFBlZXJDb25uZWN0aW9uUmVwb3J0ID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ29uc3RydWN0IGEge0BsaW5rIFBlZXJDb25uZWN0aW9uUmVwb3J0fS5cbiAgICogQHBhcmFtIHtJY2VSZXBvcnR9IGljZVxuICAgKiBAcGFyYW0ge1NlbmRlckFuZFJlY2VpdmVyUmVwb3J0c30gYXVkaW9cbiAgICogQHBhcmFtIHtTZW5kZXJBbmRSZWNlaXZlclJlcG9ydHN9IHZpZGVvXG4gICAqL1xuICBmdW5jdGlvbiBQZWVyQ29ubmVjdGlvblJlcG9ydChpY2UsIGF1ZGlvLCB2aWRlbykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQZWVyQ29ubmVjdGlvblJlcG9ydCk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgICBpY2U6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGljZVxuICAgICAgfSxcbiAgICAgIGF1ZGlvOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBhdWRpb1xuICAgICAgfSxcbiAgICAgIHZpZGVvOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2aWRlb1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN1bW1hcml6ZSB0aGUge0BsaW5rIFBlZXJDb25uZWN0aW9uUmVwb3J0fSBieSBzdW1tYXJpemluZyBpdHNcbiAgICoge0BsaW5rIFNlbmRlclJlcG9ydH1zIGFuZCB7QGxpbmsgUmVjZWl2ZXJSZXBvcnR9cy5cbiAgICogQHJldHVybnMge1BlZXJDb25uZWN0aW9uU3VtbWFyeX1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUGVlckNvbm5lY3Rpb25SZXBvcnQsIFt7XG4gICAga2V5OiAnc3VtbWFyaXplJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3VtbWFyaXplKCkge1xuICAgICAgdmFyIHNlbmRlclJlcG9ydHMgPSB0aGlzLmF1ZGlvLnNlbmQuY29uY2F0KHRoaXMudmlkZW8uc2VuZCk7XG4gICAgICB2YXIgc2VuZCA9IFNlbmRlclJlcG9ydC5zdW1tYXJpemUoc2VuZGVyUmVwb3J0cyk7XG5cbiAgICAgIHZhciByZWNlaXZlclJlcG9ydHMgPSB0aGlzLmF1ZGlvLnJlY3YuY29uY2F0KHRoaXMudmlkZW8ucmVjdik7XG4gICAgICB2YXIgcmVjdiA9IFJlY2VpdmVyUmVwb3J0LnN1bW1hcml6ZShyZWNlaXZlclJlcG9ydHMpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpY2U6IHRoaXMuaWNlLFxuICAgICAgICBzZW5kOiBzZW5kLFxuICAgICAgICByZWN2OiByZWN2LFxuICAgICAgICBhdWRpbzoge1xuICAgICAgICAgIHNlbmQ6IFNlbmRlclJlcG9ydC5zdW1tYXJpemUodGhpcy5hdWRpby5zZW5kKSxcbiAgICAgICAgICByZWN2OiBSZWNlaXZlclJlcG9ydC5zdW1tYXJpemUodGhpcy5hdWRpby5yZWN2KVxuICAgICAgICB9LFxuICAgICAgICB2aWRlbzoge1xuICAgICAgICAgIHNlbmQ6IFNlbmRlclJlcG9ydC5zdW1tYXJpemUodGhpcy52aWRlby5zZW5kKSxcbiAgICAgICAgICByZWN2OiBSZWNlaXZlclJlcG9ydC5zdW1tYXJpemUodGhpcy52aWRlby5yZWN2KVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQZWVyQ29ubmVjdGlvblJlcG9ydDtcbn0oKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQZWVyQ29ubmVjdGlvblJlcG9ydDtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3N0YXRzL3BlZXJjb25uZWN0aW9ucmVwb3J0LmpzXG4vLyBtb2R1bGUgaWQgPSAzMjhcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///328\n");

/***/ }),
/* 329 */
/*!**********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/receiverreportfactory.js ***!
  \**********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ReceiverReport = __webpack_require__(/*! ./receiverreport */ 250);\nvar SenderOrReceiverReportFactory = __webpack_require__(/*! ./senderorreceiverreportfactory */ 255);\n\n/**\n * @extends SenderOrReceiverReportFactory\n * @param {?ReceiverReport} lastReport\n */\n\nvar ReceiverReportFactory = function (_SenderOrReceiverRepo) {\n  _inherits(ReceiverReportFactory, _SenderOrReceiverRepo);\n\n  /**\n   * Construct a {@link ReceiverReportFactory}.\n   * @param {TrackId} trackId\n   * @param {RTCStats} initialStats\n   */\n  function ReceiverReportFactory(trackId, initialStats) {\n    _classCallCheck(this, ReceiverReportFactory);\n\n    var _this = _possibleConstructorReturn(this, (ReceiverReportFactory.__proto__ || Object.getPrototypeOf(ReceiverReportFactory)).call(this, initialStats.id, trackId, initialStats));\n\n    Object.defineProperties(_this, {\n      lastReport: {\n        enumerable: true,\n        value: null,\n        writable: true\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * Create a {@link ReceiverReport}.\n   * @param {TrackId} trackId\n   * @param {RTCStats} newerStats\n   * @returns {ReceiverReport}\n   */\n\n\n  _createClass(ReceiverReportFactory, [{\n    key: 'next',\n    value: function next(trackId, newerStats) {\n      var olderStats = this.lastStats;\n      this.lastStats = newerStats;\n      this.trackId = trackId;\n      var report = ReceiverReport.of(trackId, olderStats, newerStats);\n      this.lastReport = report;\n      return report;\n    }\n  }]);\n\n  return ReceiverReportFactory;\n}(SenderOrReceiverReportFactory);\n\nmodule.exports = ReceiverReportFactory;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9yZWNlaXZlcnJlcG9ydGZhY3RvcnkuanM/OTA5ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSxxQkFBcUIsbUJBQU8sQ0FBQywyQkFBa0I7QUFDL0Msb0NBQW9DLG1CQUFPLENBQUMsMENBQWlDOztBQUU3RTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQiw0QkFBNEI7QUFDOUMsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLHFCQUFxQjtBQUNwQyxhQUFhLFFBQVE7QUFDckIsYUFBYSxTQUFTO0FBQ3RCLGVBQWU7QUFDZjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIzMjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJlY2VpdmVyUmVwb3J0ID0gcmVxdWlyZSgnLi9yZWNlaXZlcnJlcG9ydCcpO1xudmFyIFNlbmRlck9yUmVjZWl2ZXJSZXBvcnRGYWN0b3J5ID0gcmVxdWlyZSgnLi9zZW5kZXJvcnJlY2VpdmVycmVwb3J0ZmFjdG9yeScpO1xuXG4vKipcbiAqIEBleHRlbmRzIFNlbmRlck9yUmVjZWl2ZXJSZXBvcnRGYWN0b3J5XG4gKiBAcGFyYW0gez9SZWNlaXZlclJlcG9ydH0gbGFzdFJlcG9ydFxuICovXG5cbnZhciBSZWNlaXZlclJlcG9ydEZhY3RvcnkgPSBmdW5jdGlvbiAoX1NlbmRlck9yUmVjZWl2ZXJSZXBvKSB7XG4gIF9pbmhlcml0cyhSZWNlaXZlclJlcG9ydEZhY3RvcnksIF9TZW5kZXJPclJlY2VpdmVyUmVwbyk7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBSZWNlaXZlclJlcG9ydEZhY3Rvcnl9LlxuICAgKiBAcGFyYW0ge1RyYWNrSWR9IHRyYWNrSWRcbiAgICogQHBhcmFtIHtSVENTdGF0c30gaW5pdGlhbFN0YXRzXG4gICAqL1xuICBmdW5jdGlvbiBSZWNlaXZlclJlcG9ydEZhY3RvcnkodHJhY2tJZCwgaW5pdGlhbFN0YXRzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlY2VpdmVyUmVwb3J0RmFjdG9yeSk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmVjZWl2ZXJSZXBvcnRGYWN0b3J5Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmVjZWl2ZXJSZXBvcnRGYWN0b3J5KSkuY2FsbCh0aGlzLCBpbml0aWFsU3RhdHMuaWQsIHRyYWNrSWQsIGluaXRpYWxTdGF0cykpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX3RoaXMsIHtcbiAgICAgIGxhc3RSZXBvcnQ6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHtAbGluayBSZWNlaXZlclJlcG9ydH0uXG4gICAqIEBwYXJhbSB7VHJhY2tJZH0gdHJhY2tJZFxuICAgKiBAcGFyYW0ge1JUQ1N0YXRzfSBuZXdlclN0YXRzXG4gICAqIEByZXR1cm5zIHtSZWNlaXZlclJlcG9ydH1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUmVjZWl2ZXJSZXBvcnRGYWN0b3J5LCBbe1xuICAgIGtleTogJ25leHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBuZXh0KHRyYWNrSWQsIG5ld2VyU3RhdHMpIHtcbiAgICAgIHZhciBvbGRlclN0YXRzID0gdGhpcy5sYXN0U3RhdHM7XG4gICAgICB0aGlzLmxhc3RTdGF0cyA9IG5ld2VyU3RhdHM7XG4gICAgICB0aGlzLnRyYWNrSWQgPSB0cmFja0lkO1xuICAgICAgdmFyIHJlcG9ydCA9IFJlY2VpdmVyUmVwb3J0Lm9mKHRyYWNrSWQsIG9sZGVyU3RhdHMsIG5ld2VyU3RhdHMpO1xuICAgICAgdGhpcy5sYXN0UmVwb3J0ID0gcmVwb3J0O1xuICAgICAgcmV0dXJuIHJlcG9ydDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVjZWl2ZXJSZXBvcnRGYWN0b3J5O1xufShTZW5kZXJPclJlY2VpdmVyUmVwb3J0RmFjdG9yeSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVjZWl2ZXJSZXBvcnRGYWN0b3J5O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvc3RhdHMvcmVjZWl2ZXJyZXBvcnRmYWN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSAzMjlcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///329\n");

/***/ }),
/* 330 */
/*!********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/stats/senderreportfactory.js ***!
  \********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SenderOrReceiverReportFactory = __webpack_require__(/*! ./senderorreceiverreportfactory */ 255);\nvar SenderReport = __webpack_require__(/*! ./senderreport */ 254);\n\n/**\n * @extends {SenderOrReceiverReportFactory}\n * @property {?SenderReport} lastReport\n */\n\nvar SenderReportFactory = function (_SenderOrReceiverRepo) {\n  _inherits(SenderReportFactory, _SenderOrReceiverRepo);\n\n  /**\n   * Construct a {@link SenderReportFactory}.\n   * @param {TrackId} trackId\n   * @param {RTCStats} initialStats\n   */\n  function SenderReportFactory(trackId, initialStats) {\n    _classCallCheck(this, SenderReportFactory);\n\n    var _this = _possibleConstructorReturn(this, (SenderReportFactory.__proto__ || Object.getPrototypeOf(SenderReportFactory)).call(this, initialStats.id, trackId, initialStats));\n\n    Object.defineProperties(_this, {\n      lastReport: {\n        enumerable: true,\n        value: null,\n        writable: true\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * @param {TrackId} trackId\n   * @param {RTCStats} newerStats\n   * @param {RTCRemoteInboundRtpStreamStats} [newerRemoteStats]\n   * @returns {SenderReport}\n   */\n\n\n  _createClass(SenderReportFactory, [{\n    key: 'next',\n    value: function next(trackId, newerStats, newerRemoteStats) {\n      var olderStats = this.lastStats;\n      this.lastStats = newerStats;\n      this.trackId = trackId;\n      var report = SenderReport.of(trackId, olderStats, newerStats, newerRemoteStats);\n      this.lastReport = report;\n      return report;\n    }\n  }]);\n\n  return SenderReportFactory;\n}(SenderOrReceiverReportFactory);\n\nmodule.exports = SenderReportFactory;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9zZW5kZXJyZXBvcnRmYWN0b3J5LmpzPzUyMzQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsb0NBQW9DLG1CQUFPLENBQUMsMENBQWlDO0FBQzdFLG1CQUFtQixtQkFBTyxDQUFDLHlCQUFnQjs7QUFFM0M7QUFDQSxhQUFhO0FBQ2IsY0FBYyxjQUFjO0FBQzVCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsMEJBQTBCO0FBQzVDLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsU0FBUztBQUN0QixhQUFhLCtCQUErQjtBQUM1QyxlQUFlO0FBQ2Y7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQiLCJmaWxlIjoiMzMwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBTZW5kZXJPclJlY2VpdmVyUmVwb3J0RmFjdG9yeSA9IHJlcXVpcmUoJy4vc2VuZGVyb3JyZWNlaXZlcnJlcG9ydGZhY3RvcnknKTtcbnZhciBTZW5kZXJSZXBvcnQgPSByZXF1aXJlKCcuL3NlbmRlcnJlcG9ydCcpO1xuXG4vKipcbiAqIEBleHRlbmRzIHtTZW5kZXJPclJlY2VpdmVyUmVwb3J0RmFjdG9yeX1cbiAqIEBwcm9wZXJ0eSB7P1NlbmRlclJlcG9ydH0gbGFzdFJlcG9ydFxuICovXG5cbnZhciBTZW5kZXJSZXBvcnRGYWN0b3J5ID0gZnVuY3Rpb24gKF9TZW5kZXJPclJlY2VpdmVyUmVwbykge1xuICBfaW5oZXJpdHMoU2VuZGVyUmVwb3J0RmFjdG9yeSwgX1NlbmRlck9yUmVjZWl2ZXJSZXBvKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGEge0BsaW5rIFNlbmRlclJlcG9ydEZhY3Rvcnl9LlxuICAgKiBAcGFyYW0ge1RyYWNrSWR9IHRyYWNrSWRcbiAgICogQHBhcmFtIHtSVENTdGF0c30gaW5pdGlhbFN0YXRzXG4gICAqL1xuICBmdW5jdGlvbiBTZW5kZXJSZXBvcnRGYWN0b3J5KHRyYWNrSWQsIGluaXRpYWxTdGF0cykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZW5kZXJSZXBvcnRGYWN0b3J5KTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTZW5kZXJSZXBvcnRGYWN0b3J5Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2VuZGVyUmVwb3J0RmFjdG9yeSkpLmNhbGwodGhpcywgaW5pdGlhbFN0YXRzLmlkLCB0cmFja0lkLCBpbml0aWFsU3RhdHMpKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBsYXN0UmVwb3J0OiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1RyYWNrSWR9IHRyYWNrSWRcbiAgICogQHBhcmFtIHtSVENTdGF0c30gbmV3ZXJTdGF0c1xuICAgKiBAcGFyYW0ge1JUQ1JlbW90ZUluYm91bmRSdHBTdHJlYW1TdGF0c30gW25ld2VyUmVtb3RlU3RhdHNdXG4gICAqIEByZXR1cm5zIHtTZW5kZXJSZXBvcnR9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFNlbmRlclJlcG9ydEZhY3RvcnksIFt7XG4gICAga2V5OiAnbmV4dCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG5leHQodHJhY2tJZCwgbmV3ZXJTdGF0cywgbmV3ZXJSZW1vdGVTdGF0cykge1xuICAgICAgdmFyIG9sZGVyU3RhdHMgPSB0aGlzLmxhc3RTdGF0cztcbiAgICAgIHRoaXMubGFzdFN0YXRzID0gbmV3ZXJTdGF0cztcbiAgICAgIHRoaXMudHJhY2tJZCA9IHRyYWNrSWQ7XG4gICAgICB2YXIgcmVwb3J0ID0gU2VuZGVyUmVwb3J0Lm9mKHRyYWNrSWQsIG9sZGVyU3RhdHMsIG5ld2VyU3RhdHMsIG5ld2VyUmVtb3RlU3RhdHMpO1xuICAgICAgdGhpcy5sYXN0UmVwb3J0ID0gcmVwb3J0O1xuICAgICAgcmV0dXJuIHJlcG9ydDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2VuZGVyUmVwb3J0RmFjdG9yeTtcbn0oU2VuZGVyT3JSZWNlaXZlclJlcG9ydEZhY3RvcnkpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNlbmRlclJlcG9ydEZhY3Rvcnk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zdGF0cy9zZW5kZXJyZXBvcnRmYWN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSAzMzBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///330\n");

/***/ }),
/* 331 */
/*!*******************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/v2/networkqualitysignaling.js ***!
  \*******************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _require = __webpack_require__(/*! events */ 207),\n    EventEmitter = _require.EventEmitter;\n\nvar AsyncVar = __webpack_require__(/*! ../../util/asyncvar */ 332);\n\n/**\n * @interface MediaSignalingTransport\n * @property {function(object): boolean} send\n * @emits MediaSignalingTransport#message\n */\n\n/**\n * The {@link MediaSignalingTransport} received a message.\n * @event MediaSignalingTransport#message\n * @param {object} message\n */\n\n/**\n * @interface SendAndReceiveLevels\n * @deprecated - the decomposed levels are only used for debugging and will be\n *   removed as soon as we are confident in our implementation\n * @property {number} send\n * @property {number} recv\n */\n\n/**\n * @interface NetworkQualityLevels\n * @deprecated - the decomposed levels are only used for debugging and will be\n *   removed as soon as we are confident in our implementation\n * @property {SendAndReceiveLevels} audio\n * @property {SendAndReceiveLevels} video\n */\n\n/**\n * @typedef {PeerConnectionSummary} NetworkQualityInputs\n */\n\n/**\n * @classdesc The {@link NetworkQualitySignaling} class allows submitting\n *   {@link NetworkQualityInputs} for computing {@link NetworkQualityLevel}. It\n *   does so by sending and receivin messages over a\n *   {@link MediaSignalingTransport}. The exact transport used depends on the\n *   topology of the {@link Room} that {@link NetworkQualitySignaling} is being\n *   used within: for P2P Rooms, we re-use the {@link TransportV2}; and for\n *   Group Rooms, we use a {@link DataTransport}.\n * @emits NetworkQualitySignaling#updated\n */\n\nvar NetworkQualitySignaling = function (_EventEmitter) {\n  _inherits(NetworkQualitySignaling, _EventEmitter);\n\n  /**\n   * Construct a {@link NetworkQualitySignaling}.\n   * @param {MediaSignalingTransport} mediaSignalingTransport\n   */\n  function NetworkQualitySignaling(mediaSignalingTransport) {\n    _classCallCheck(this, NetworkQualitySignaling);\n\n    var _this = _possibleConstructorReturn(this, (NetworkQualitySignaling.__proto__ || Object.getPrototypeOf(NetworkQualitySignaling)).call(this));\n\n    Object.defineProperties(_this, {\n      _level: {\n        value: null,\n        writable: true\n      },\n      _levels: {\n        value: null,\n        writable: true\n      },\n      _mediaSignalingTransport: {\n        value: mediaSignalingTransport\n      },\n      _networkQualityInputs: {\n        value: new AsyncVar()\n      }\n    });\n\n    mediaSignalingTransport.on('message', function (message) {\n      switch (message.type) {\n        case 'network_quality':\n          _this._handleNetworkQualityMessage(message);\n          break;\n        default:\n          break;\n      }\n    });\n\n    _this._sendNetworkQualityInputs();\n    return _this;\n  }\n\n  /**\n   * Get the current {@link NetworkQualityLevel}, if any.\n   * @returns {?NetworkQualityLevel} level - initially null\n   */\n\n\n  _createClass(NetworkQualitySignaling, [{\n    key: '_handleNetworkQualityMessage',\n\n\n    /**\n     * Check to see if the {@link NetworkQualityLevel} is new, and raise an\n     * event if necessary.\n     * @private\n     * @param {object} message\n     * @returns {void}\n     */\n    value: function _handleNetworkQualityMessage(message) {\n      var _this2 = this;\n\n      var level = null;\n      var local = message ? message.local : null;\n      if (typeof local === 'number') {\n        // NOTE(mroberts): In prod, we plan to only send the level.\n        level = local;\n        this._levels = null;\n      } else if ((typeof local === 'undefined' ? 'undefined' : _typeof(local)) === 'object' && local) {\n        // NOTE(mroberts): In dev, we plan to send the decomposed levels. An early\n        // VMS version does not compute `level` for us, so we fallback to taking\n        // the minimum ourselves.\n        this._levels = local;\n        level = typeof local.level === 'number' ? local.level : Math.min(local.audio.send, local.audio.recv, local.video.send, local.video.recv);\n      }\n      if (level !== null && this.level !== level) {\n        this._level = level;\n        this.emit('updated');\n      }\n      setTimeout(function () {\n        return _this2._sendNetworkQualityInputs();\n      }, 1000);\n    }\n\n    /**\n     * Start sending {@link NetworkQualityInputs}.\n     * @private\n     * @returns {Promise<void>}\n     */\n\n  }, {\n    key: '_sendNetworkQualityInputs',\n    value: function _sendNetworkQualityInputs() {\n      var _this3 = this;\n\n      return this._networkQualityInputs.take().then(function (networkQualityInputs) {\n        _this3._mediaSignalingTransport.publish(createNetworkQualityInputsMessage(networkQualityInputs));\n      });\n    }\n\n    /**\n     * Put {@link NetworkQualityInputs} to be used for computing\n     * {@link NetworkQualityLevel}.\n     * @param {NetworkQualityInputs} networkQualityInputs\n     * @returns {void}\n     */\n\n  }, {\n    key: 'put',\n    value: function put(networkQualityInputs) {\n      this._networkQualityInputs.put(networkQualityInputs);\n    }\n  }, {\n    key: 'level',\n    get: function get() {\n      return this._level;\n    }\n\n    /**\n     * Get the current {@link NetworkQualityLevels}, if any.\n     * @deprecated - the decomposed levels are only used for debugging and will be\n     *  removed as soon as we are confident in our implementation\n     * @returns {?NetworkQualityLevels} levels - initially null\n     */\n\n  }, {\n    key: 'levels',\n    get: function get() {\n      return this._levels;\n    }\n  }]);\n\n  return NetworkQualitySignaling;\n}(EventEmitter);\n\n/**\n * The {@link NetworkQualityLevel} changed.\n * @event NetworkQualitySignaling#updated\n */\n\n/**\n * @param {NetworkQualityInputs} networkQualityInputs\n * @returns {object} message\n */\n\n\nfunction createNetworkQualityInputsMessage(networkQualityInputs) {\n  return Object.assign({\n    type: 'network_quality'\n  }, networkQualityInputs);\n}\n\nmodule.exports = NetworkQualitySignaling;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvbmV0d29ya3F1YWxpdHlzaWduYWxpbmcuanM/NzQ0NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixvR0FBb0csbUJBQW1CLEVBQUUsbUJBQW1CLDhIQUE4SDs7QUFFMVEsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsZUFBZSxtQkFBTyxDQUFDLGlCQUFRO0FBQy9COztBQUVBLGVBQWUsbUJBQU8sQ0FBQyw4QkFBcUI7O0FBRTVDO0FBQ0E7QUFDQSxjQUFjLDBCQUEwQjtBQUN4QztBQUNBOztBQUVBO0FBQ0EsUUFBUSw4QkFBOEI7QUFDdEM7QUFDQSxXQUFXLE9BQU87QUFDbEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxxQkFBcUI7QUFDbkMsY0FBYyxxQkFBcUI7QUFDbkM7O0FBRUE7QUFDQSxhQUFhLHNCQUFzQjtBQUNuQzs7QUFFQTtBQUNBLG1CQUFtQiw4QkFBOEI7QUFDakQsTUFBTSwyQkFBMkIsZ0JBQWdCLDBCQUEwQjtBQUMzRTtBQUNBLE1BQU0sOEJBQThCO0FBQ3BDLHNCQUFzQixXQUFXLE9BQU8sOEJBQThCO0FBQ3RFLGdEQUFnRCxtQkFBbUI7QUFDbkUsNEJBQTRCLG9CQUFvQjtBQUNoRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsOEJBQThCO0FBQ2hELGFBQWEsd0JBQXdCO0FBQ3JDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQiwwQkFBMEI7QUFDaEQsZUFBZSxxQkFBcUI7QUFDcEM7OztBQUdBO0FBQ0E7OztBQUdBO0FBQ0EsNEJBQTRCLDBCQUEwQjtBQUN0RDtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLHNCQUFzQiwyQkFBMkI7QUFDakQ7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0EsWUFBWSwyQkFBMkI7QUFDdkMsUUFBUSwwQkFBMEI7QUFDbEMsZUFBZSxxQkFBcUI7QUFDcEMsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QiwyQkFBMkI7QUFDbkQ7QUFDQTtBQUNBLGlCQUFpQixzQkFBc0I7QUFDdkM7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQSxRQUFRLDBCQUEwQjtBQUNsQztBQUNBOztBQUVBO0FBQ0EsV0FBVyxxQkFBcUI7QUFDaEMsYUFBYSxPQUFPO0FBQ3BCOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJmaWxlIjoiMzMxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnZXZlbnRzJyksXG4gICAgRXZlbnRFbWl0dGVyID0gX3JlcXVpcmUuRXZlbnRFbWl0dGVyO1xuXG52YXIgQXN5bmNWYXIgPSByZXF1aXJlKCcuLi8uLi91dGlsL2FzeW5jdmFyJyk7XG5cbi8qKlxuICogQGludGVyZmFjZSBNZWRpYVNpZ25hbGluZ1RyYW5zcG9ydFxuICogQHByb3BlcnR5IHtmdW5jdGlvbihvYmplY3QpOiBib29sZWFufSBzZW5kXG4gKiBAZW1pdHMgTWVkaWFTaWduYWxpbmdUcmFuc3BvcnQjbWVzc2FnZVxuICovXG5cbi8qKlxuICogVGhlIHtAbGluayBNZWRpYVNpZ25hbGluZ1RyYW5zcG9ydH0gcmVjZWl2ZWQgYSBtZXNzYWdlLlxuICogQGV2ZW50IE1lZGlhU2lnbmFsaW5nVHJhbnNwb3J0I21lc3NhZ2VcbiAqIEBwYXJhbSB7b2JqZWN0fSBtZXNzYWdlXG4gKi9cblxuLyoqXG4gKiBAaW50ZXJmYWNlIFNlbmRBbmRSZWNlaXZlTGV2ZWxzXG4gKiBAZGVwcmVjYXRlZCAtIHRoZSBkZWNvbXBvc2VkIGxldmVscyBhcmUgb25seSB1c2VkIGZvciBkZWJ1Z2dpbmcgYW5kIHdpbGwgYmVcbiAqICAgcmVtb3ZlZCBhcyBzb29uIGFzIHdlIGFyZSBjb25maWRlbnQgaW4gb3VyIGltcGxlbWVudGF0aW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2VuZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJlY3ZcbiAqL1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgTmV0d29ya1F1YWxpdHlMZXZlbHNcbiAqIEBkZXByZWNhdGVkIC0gdGhlIGRlY29tcG9zZWQgbGV2ZWxzIGFyZSBvbmx5IHVzZWQgZm9yIGRlYnVnZ2luZyBhbmQgd2lsbCBiZVxuICogICByZW1vdmVkIGFzIHNvb24gYXMgd2UgYXJlIGNvbmZpZGVudCBpbiBvdXIgaW1wbGVtZW50YXRpb25cbiAqIEBwcm9wZXJ0eSB7U2VuZEFuZFJlY2VpdmVMZXZlbHN9IGF1ZGlvXG4gKiBAcHJvcGVydHkge1NlbmRBbmRSZWNlaXZlTGV2ZWxzfSB2aWRlb1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge1BlZXJDb25uZWN0aW9uU3VtbWFyeX0gTmV0d29ya1F1YWxpdHlJbnB1dHNcbiAqL1xuXG4vKipcbiAqIEBjbGFzc2Rlc2MgVGhlIHtAbGluayBOZXR3b3JrUXVhbGl0eVNpZ25hbGluZ30gY2xhc3MgYWxsb3dzIHN1Ym1pdHRpbmdcbiAqICAge0BsaW5rIE5ldHdvcmtRdWFsaXR5SW5wdXRzfSBmb3IgY29tcHV0aW5nIHtAbGluayBOZXR3b3JrUXVhbGl0eUxldmVsfS4gSXRcbiAqICAgZG9lcyBzbyBieSBzZW5kaW5nIGFuZCByZWNlaXZpbiBtZXNzYWdlcyBvdmVyIGFcbiAqICAge0BsaW5rIE1lZGlhU2lnbmFsaW5nVHJhbnNwb3J0fS4gVGhlIGV4YWN0IHRyYW5zcG9ydCB1c2VkIGRlcGVuZHMgb24gdGhlXG4gKiAgIHRvcG9sb2d5IG9mIHRoZSB7QGxpbmsgUm9vbX0gdGhhdCB7QGxpbmsgTmV0d29ya1F1YWxpdHlTaWduYWxpbmd9IGlzIGJlaW5nXG4gKiAgIHVzZWQgd2l0aGluOiBmb3IgUDJQIFJvb21zLCB3ZSByZS11c2UgdGhlIHtAbGluayBUcmFuc3BvcnRWMn07IGFuZCBmb3JcbiAqICAgR3JvdXAgUm9vbXMsIHdlIHVzZSBhIHtAbGluayBEYXRhVHJhbnNwb3J0fS5cbiAqIEBlbWl0cyBOZXR3b3JrUXVhbGl0eVNpZ25hbGluZyN1cGRhdGVkXG4gKi9cblxudmFyIE5ldHdvcmtRdWFsaXR5U2lnbmFsaW5nID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgX2luaGVyaXRzKE5ldHdvcmtRdWFsaXR5U2lnbmFsaW5nLCBfRXZlbnRFbWl0dGVyKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGEge0BsaW5rIE5ldHdvcmtRdWFsaXR5U2lnbmFsaW5nfS5cbiAgICogQHBhcmFtIHtNZWRpYVNpZ25hbGluZ1RyYW5zcG9ydH0gbWVkaWFTaWduYWxpbmdUcmFuc3BvcnRcbiAgICovXG4gIGZ1bmN0aW9uIE5ldHdvcmtRdWFsaXR5U2lnbmFsaW5nKG1lZGlhU2lnbmFsaW5nVHJhbnNwb3J0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5ldHdvcmtRdWFsaXR5U2lnbmFsaW5nKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChOZXR3b3JrUXVhbGl0eVNpZ25hbGluZy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE5ldHdvcmtRdWFsaXR5U2lnbmFsaW5nKSkuY2FsbCh0aGlzKSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgX2xldmVsOiB7XG4gICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIF9sZXZlbHM6IHtcbiAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9LFxuICAgICAgX21lZGlhU2lnbmFsaW5nVHJhbnNwb3J0OiB7XG4gICAgICAgIHZhbHVlOiBtZWRpYVNpZ25hbGluZ1RyYW5zcG9ydFxuICAgICAgfSxcbiAgICAgIF9uZXR3b3JrUXVhbGl0eUlucHV0czoge1xuICAgICAgICB2YWx1ZTogbmV3IEFzeW5jVmFyKClcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG1lZGlhU2lnbmFsaW5nVHJhbnNwb3J0Lm9uKCdtZXNzYWdlJywgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgIHN3aXRjaCAobWVzc2FnZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ25ldHdvcmtfcXVhbGl0eSc6XG4gICAgICAgICAgX3RoaXMuX2hhbmRsZU5ldHdvcmtRdWFsaXR5TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF90aGlzLl9zZW5kTmV0d29ya1F1YWxpdHlJbnB1dHMoKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IHtAbGluayBOZXR3b3JrUXVhbGl0eUxldmVsfSwgaWYgYW55LlxuICAgKiBAcmV0dXJucyB7P05ldHdvcmtRdWFsaXR5TGV2ZWx9IGxldmVsIC0gaW5pdGlhbGx5IG51bGxcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoTmV0d29ya1F1YWxpdHlTaWduYWxpbmcsIFt7XG4gICAga2V5OiAnX2hhbmRsZU5ldHdvcmtRdWFsaXR5TWVzc2FnZScsXG5cblxuICAgIC8qKlxuICAgICAqIENoZWNrIHRvIHNlZSBpZiB0aGUge0BsaW5rIE5ldHdvcmtRdWFsaXR5TGV2ZWx9IGlzIG5ldywgYW5kIHJhaXNlIGFuXG4gICAgICogZXZlbnQgaWYgbmVjZXNzYXJ5LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG1lc3NhZ2VcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZU5ldHdvcmtRdWFsaXR5TWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGxldmVsID0gbnVsbDtcbiAgICAgIHZhciBsb2NhbCA9IG1lc3NhZ2UgPyBtZXNzYWdlLmxvY2FsIDogbnVsbDtcbiAgICAgIGlmICh0eXBlb2YgbG9jYWwgPT09ICdudW1iZXInKSB7XG4gICAgICAgIC8vIE5PVEUobXJvYmVydHMpOiBJbiBwcm9kLCB3ZSBwbGFuIHRvIG9ubHkgc2VuZCB0aGUgbGV2ZWwuXG4gICAgICAgIGxldmVsID0gbG9jYWw7XG4gICAgICAgIHRoaXMuX2xldmVscyA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKCh0eXBlb2YgbG9jYWwgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGxvY2FsKSkgPT09ICdvYmplY3QnICYmIGxvY2FsKSB7XG4gICAgICAgIC8vIE5PVEUobXJvYmVydHMpOiBJbiBkZXYsIHdlIHBsYW4gdG8gc2VuZCB0aGUgZGVjb21wb3NlZCBsZXZlbHMuIEFuIGVhcmx5XG4gICAgICAgIC8vIFZNUyB2ZXJzaW9uIGRvZXMgbm90IGNvbXB1dGUgYGxldmVsYCBmb3IgdXMsIHNvIHdlIGZhbGxiYWNrIHRvIHRha2luZ1xuICAgICAgICAvLyB0aGUgbWluaW11bSBvdXJzZWx2ZXMuXG4gICAgICAgIHRoaXMuX2xldmVscyA9IGxvY2FsO1xuICAgICAgICBsZXZlbCA9IHR5cGVvZiBsb2NhbC5sZXZlbCA9PT0gJ251bWJlcicgPyBsb2NhbC5sZXZlbCA6IE1hdGgubWluKGxvY2FsLmF1ZGlvLnNlbmQsIGxvY2FsLmF1ZGlvLnJlY3YsIGxvY2FsLnZpZGVvLnNlbmQsIGxvY2FsLnZpZGVvLnJlY3YpO1xuICAgICAgfVxuICAgICAgaWYgKGxldmVsICE9PSBudWxsICYmIHRoaXMubGV2ZWwgIT09IGxldmVsKSB7XG4gICAgICAgIHRoaXMuX2xldmVsID0gbGV2ZWw7XG4gICAgICAgIHRoaXMuZW1pdCgndXBkYXRlZCcpO1xuICAgICAgfVxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczIuX3NlbmROZXR3b3JrUXVhbGl0eUlucHV0cygpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnQgc2VuZGluZyB7QGxpbmsgTmV0d29ya1F1YWxpdHlJbnB1dHN9LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19zZW5kTmV0d29ya1F1YWxpdHlJbnB1dHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2VuZE5ldHdvcmtRdWFsaXR5SW5wdXRzKCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLl9uZXR3b3JrUXVhbGl0eUlucHV0cy50YWtlKCkudGhlbihmdW5jdGlvbiAobmV0d29ya1F1YWxpdHlJbnB1dHMpIHtcbiAgICAgICAgX3RoaXMzLl9tZWRpYVNpZ25hbGluZ1RyYW5zcG9ydC5wdWJsaXNoKGNyZWF0ZU5ldHdvcmtRdWFsaXR5SW5wdXRzTWVzc2FnZShuZXR3b3JrUXVhbGl0eUlucHV0cykpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHV0IHtAbGluayBOZXR3b3JrUXVhbGl0eUlucHV0c30gdG8gYmUgdXNlZCBmb3IgY29tcHV0aW5nXG4gICAgICoge0BsaW5rIE5ldHdvcmtRdWFsaXR5TGV2ZWx9LlxuICAgICAqIEBwYXJhbSB7TmV0d29ya1F1YWxpdHlJbnB1dHN9IG5ldHdvcmtRdWFsaXR5SW5wdXRzXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3B1dCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHB1dChuZXR3b3JrUXVhbGl0eUlucHV0cykge1xuICAgICAgdGhpcy5fbmV0d29ya1F1YWxpdHlJbnB1dHMucHV0KG5ldHdvcmtRdWFsaXR5SW5wdXRzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdsZXZlbCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbGV2ZWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHtAbGluayBOZXR3b3JrUXVhbGl0eUxldmVsc30sIGlmIGFueS5cbiAgICAgKiBAZGVwcmVjYXRlZCAtIHRoZSBkZWNvbXBvc2VkIGxldmVscyBhcmUgb25seSB1c2VkIGZvciBkZWJ1Z2dpbmcgYW5kIHdpbGwgYmVcbiAgICAgKiAgcmVtb3ZlZCBhcyBzb29uIGFzIHdlIGFyZSBjb25maWRlbnQgaW4gb3VyIGltcGxlbWVudGF0aW9uXG4gICAgICogQHJldHVybnMgez9OZXR3b3JrUXVhbGl0eUxldmVsc30gbGV2ZWxzIC0gaW5pdGlhbGx5IG51bGxcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbGV2ZWxzJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9sZXZlbHM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE5ldHdvcmtRdWFsaXR5U2lnbmFsaW5nO1xufShFdmVudEVtaXR0ZXIpO1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgTmV0d29ya1F1YWxpdHlMZXZlbH0gY2hhbmdlZC5cbiAqIEBldmVudCBOZXR3b3JrUXVhbGl0eVNpZ25hbGluZyN1cGRhdGVkXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge05ldHdvcmtRdWFsaXR5SW5wdXRzfSBuZXR3b3JrUXVhbGl0eUlucHV0c1xuICogQHJldHVybnMge29iamVjdH0gbWVzc2FnZVxuICovXG5cblxuZnVuY3Rpb24gY3JlYXRlTmV0d29ya1F1YWxpdHlJbnB1dHNNZXNzYWdlKG5ldHdvcmtRdWFsaXR5SW5wdXRzKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHtcbiAgICB0eXBlOiAnbmV0d29ya19xdWFsaXR5J1xuICB9LCBuZXR3b3JrUXVhbGl0eUlucHV0cyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTmV0d29ya1F1YWxpdHlTaWduYWxpbmc7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvbmV0d29ya3F1YWxpdHlzaWduYWxpbmcuanNcbi8vIG1vZHVsZSBpZCA9IDMzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///331\n");

/***/ }),
/* 332 */
/*!********************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/asyncvar.js ***!
  \********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _require = __webpack_require__(/*! ./ */ 206),\n    defer = _require.defer;\n\n/**\n * An {@link AsyncVar} is an \"asynchronous variable\" which may or may not\n * contain a value of some type T. You can put a value into the {@link AsyncVar}\n * with {@link AsyncVar#put}. Callers can take a value out of the\n * {@link AsyncVar} by queueing up with {@link AsyncVar#take}. N calls to\n * {@link AsyncVar#take} require N calls to {@link AsyncVar#put} to resolve, and\n * they resolve in order.\n */\n\n\nvar AsyncVar = function () {\n  /**\n   * Construct an {@link AsyncVar}.\n   */\n  function AsyncVar() {\n    _classCallCheck(this, AsyncVar);\n\n    Object.defineProperties(this, {\n      _deferreds: {\n        value: []\n      },\n      _hasValue: {\n        value: false,\n        writable: true\n      },\n      _value: {\n        value: null,\n        writable: true\n      }\n    });\n  }\n\n  /**\n   * Put a value into the {@link AsyncVar}.\n   * @param {T} value\n   * @returns {this}\n   */\n\n\n  _createClass(AsyncVar, [{\n    key: 'put',\n    value: function put(value) {\n      this._hasValue = true;\n      this._value = value;\n      var deferred = this._deferreds.shift();\n      if (deferred) {\n        deferred.resolve(value);\n      }\n      return this;\n    }\n\n    /**\n     * Take the value out of the {@link AsyncVar}.\n     * @returns {Promise<T>}\n     */\n\n  }, {\n    key: 'take',\n    value: function take() {\n      var _this = this;\n\n      if (this._hasValue && !this._deferreds.length) {\n        this._hasValue = false;\n        return Promise.resolve(this._value);\n      }\n      var deferred = defer();\n      this._deferreds.push(deferred);\n      return deferred.promise.then(function (value) {\n        _this._hasValue = false;\n        return value;\n      });\n    }\n  }]);\n\n  return AsyncVar;\n}();\n\nmodule.exports = AsyncVar;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL2FzeW5jdmFyLmpzPzQyODkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGVBQWUsbUJBQU8sQ0FBQyxhQUFJO0FBQzNCOztBQUVBO0FBQ0EsT0FBTyxlQUFlO0FBQ3RCLGlFQUFpRTtBQUNqRSxTQUFTLG1CQUFtQjtBQUM1QixJQUFJLGVBQWUsc0JBQXNCLG9CQUFvQjtBQUM3RCxJQUFJLG9CQUFvQixxQkFBcUIsbUJBQW1CO0FBQ2hFO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxtQkFBbUIsZUFBZTtBQUNsQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLDJCQUEyQixlQUFlO0FBQzFDLGFBQWEsRUFBRTtBQUNmLGVBQWU7QUFDZjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQyxlQUFlO0FBQ2pELGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjMzMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnLi8nKSxcbiAgICBkZWZlciA9IF9yZXF1aXJlLmRlZmVyO1xuXG4vKipcbiAqIEFuIHtAbGluayBBc3luY1Zhcn0gaXMgYW4gXCJhc3luY2hyb25vdXMgdmFyaWFibGVcIiB3aGljaCBtYXkgb3IgbWF5IG5vdFxuICogY29udGFpbiBhIHZhbHVlIG9mIHNvbWUgdHlwZSBULiBZb3UgY2FuIHB1dCBhIHZhbHVlIGludG8gdGhlIHtAbGluayBBc3luY1Zhcn1cbiAqIHdpdGgge0BsaW5rIEFzeW5jVmFyI3B1dH0uIENhbGxlcnMgY2FuIHRha2UgYSB2YWx1ZSBvdXQgb2YgdGhlXG4gKiB7QGxpbmsgQXN5bmNWYXJ9IGJ5IHF1ZXVlaW5nIHVwIHdpdGgge0BsaW5rIEFzeW5jVmFyI3Rha2V9LiBOIGNhbGxzIHRvXG4gKiB7QGxpbmsgQXN5bmNWYXIjdGFrZX0gcmVxdWlyZSBOIGNhbGxzIHRvIHtAbGluayBBc3luY1ZhciNwdXR9IHRvIHJlc29sdmUsIGFuZFxuICogdGhleSByZXNvbHZlIGluIG9yZGVyLlxuICovXG5cblxudmFyIEFzeW5jVmFyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ29uc3RydWN0IGFuIHtAbGluayBBc3luY1Zhcn0uXG4gICAqL1xuICBmdW5jdGlvbiBBc3luY1ZhcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXN5bmNWYXIpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgX2RlZmVycmVkczoge1xuICAgICAgICB2YWx1ZTogW11cbiAgICAgIH0sXG4gICAgICBfaGFzVmFsdWU6IHtcbiAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIF92YWx1ZToge1xuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdXQgYSB2YWx1ZSBpbnRvIHRoZSB7QGxpbmsgQXN5bmNWYXJ9LlxuICAgKiBAcGFyYW0ge1R9IHZhbHVlXG4gICAqIEByZXR1cm5zIHt0aGlzfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhBc3luY1ZhciwgW3tcbiAgICBrZXk6ICdwdXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwdXQodmFsdWUpIHtcbiAgICAgIHRoaXMuX2hhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgICB2YXIgZGVmZXJyZWQgPSB0aGlzLl9kZWZlcnJlZHMuc2hpZnQoKTtcbiAgICAgIGlmIChkZWZlcnJlZCkge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRha2UgdGhlIHZhbHVlIG91dCBvZiB0aGUge0BsaW5rIEFzeW5jVmFyfS5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxUPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndGFrZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRha2UoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5faGFzVmFsdWUgJiYgIXRoaXMuX2RlZmVycmVkcy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5faGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl92YWx1ZSk7XG4gICAgICB9XG4gICAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgICAgdGhpcy5fZGVmZXJyZWRzLnB1c2goZGVmZXJyZWQpO1xuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgX3RoaXMuX2hhc1ZhbHVlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBc3luY1Zhcjtcbn0oKTtcblxubW9kdWxlLmV4cG9ydHMgPSBBc3luY1ZhcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3V0aWwvYXN5bmN2YXIuanNcbi8vIG1vZHVsZSBpZCA9IDMzMlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///332\n");

/***/ }),
/* 333 */
/*!*****************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/v2/recording.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RecordingSignaling = __webpack_require__(/*! ../recording */ 256);\n\n/**\n * @extends RecordingSignaling\n */\n\nvar RecordingV2 = function (_RecordingSignaling) {\n  _inherits(RecordingV2, _RecordingSignaling);\n\n  /**\n   * Construct a {@link RecordingV2}.\n   */\n  function RecordingV2() {\n    _classCallCheck(this, RecordingV2);\n\n    var _this = _possibleConstructorReturn(this, (RecordingV2.__proto__ || Object.getPrototypeOf(RecordingV2)).call(this));\n\n    Object.defineProperties(_this, {\n      _revision: {\n        value: 1,\n        writable: true\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * Compare the {@link RecordingV2} to a {@link RecordingV2#Representation}\n   * of itself and perform any updates necessary.\n   * @param {RecordingV2#Representation} recording\n   * @returns {this}\n   * @fires RecordingSignaling#updated\n   */\n\n\n  _createClass(RecordingV2, [{\n    key: 'update',\n    value: function update(recording) {\n      if (recording.revision < this._revision) {\n        return this;\n      }\n      this._revision = recording.revision;\n      return this.enable(recording.enabled);\n    }\n  }]);\n\n  return RecordingV2;\n}(RecordingSignaling);\n\n/**\n * The Room Signaling Protocol (RSP) representation of a {@link RecordingV2}\n * @typedef {object} RecordingV2#Representation\n * @property {boolean} enabled\n * @property {number} revision\n */\n\nmodule.exports = RecordingV2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvcmVjb3JkaW5nLmpzPzZhZTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUseUJBQXlCLG1CQUFPLENBQUMsdUJBQWM7O0FBRS9DO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLGtCQUFrQjtBQUNwQztBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLGtCQUFrQixPQUFPO0FBQzNDO0FBQ0EsYUFBYSwyQkFBMkI7QUFDeEMsZUFBZTtBQUNmO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0EsMERBQTBEO0FBQzFELGFBQWEsT0FBTztBQUNwQixjQUFjLFFBQVE7QUFDdEIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBIiwiZmlsZSI6IjMzMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmVjb3JkaW5nU2lnbmFsaW5nID0gcmVxdWlyZSgnLi4vcmVjb3JkaW5nJyk7XG5cbi8qKlxuICogQGV4dGVuZHMgUmVjb3JkaW5nU2lnbmFsaW5nXG4gKi9cblxudmFyIFJlY29yZGluZ1YyID0gZnVuY3Rpb24gKF9SZWNvcmRpbmdTaWduYWxpbmcpIHtcbiAgX2luaGVyaXRzKFJlY29yZGluZ1YyLCBfUmVjb3JkaW5nU2lnbmFsaW5nKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGEge0BsaW5rIFJlY29yZGluZ1YyfS5cbiAgICovXG4gIGZ1bmN0aW9uIFJlY29yZGluZ1YyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZWNvcmRpbmdWMik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmVjb3JkaW5nVjIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSZWNvcmRpbmdWMikpLmNhbGwodGhpcykpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoX3RoaXMsIHtcbiAgICAgIF9yZXZpc2lvbjoge1xuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ29tcGFyZSB0aGUge0BsaW5rIFJlY29yZGluZ1YyfSB0byBhIHtAbGluayBSZWNvcmRpbmdWMiNSZXByZXNlbnRhdGlvbn1cbiAgICogb2YgaXRzZWxmIGFuZCBwZXJmb3JtIGFueSB1cGRhdGVzIG5lY2Vzc2FyeS5cbiAgICogQHBhcmFtIHtSZWNvcmRpbmdWMiNSZXByZXNlbnRhdGlvbn0gcmVjb3JkaW5nXG4gICAqIEByZXR1cm5zIHt0aGlzfVxuICAgKiBAZmlyZXMgUmVjb3JkaW5nU2lnbmFsaW5nI3VwZGF0ZWRcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUmVjb3JkaW5nVjIsIFt7XG4gICAga2V5OiAndXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKHJlY29yZGluZykge1xuICAgICAgaWYgKHJlY29yZGluZy5yZXZpc2lvbiA8IHRoaXMuX3JldmlzaW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdGhpcy5fcmV2aXNpb24gPSByZWNvcmRpbmcucmV2aXNpb247XG4gICAgICByZXR1cm4gdGhpcy5lbmFibGUocmVjb3JkaW5nLmVuYWJsZWQpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZWNvcmRpbmdWMjtcbn0oUmVjb3JkaW5nU2lnbmFsaW5nKTtcblxuLyoqXG4gKiBUaGUgUm9vbSBTaWduYWxpbmcgUHJvdG9jb2wgKFJTUCkgcmVwcmVzZW50YXRpb24gb2YgYSB7QGxpbmsgUmVjb3JkaW5nVjJ9XG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBSZWNvcmRpbmdWMiNSZXByZXNlbnRhdGlvblxuICogQHByb3BlcnR5IHtib29sZWFufSBlbmFibGVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmV2aXNpb25cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlY29yZGluZ1YyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvc2lnbmFsaW5nL3YyL3JlY29yZGluZy5qc1xuLy8gbW9kdWxlIGlkID0gMzMzXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///333\n");

/***/ }),
/* 334 */
/*!*************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/v2/remoteparticipant.js ***!
  \*************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RemoteParticipantSignaling = __webpack_require__(/*! ../remoteparticipant */ 335);\nvar RemoteTrackPublicationV2 = __webpack_require__(/*! ./remotetrackpublication */ 336);\n\n/**\n * @extends RemoteParticipantSignaling\n * @property {?number} revision\n */\n\nvar RemoteParticipantV2 = function (_RemoteParticipantSig) {\n  _inherits(RemoteParticipantV2, _RemoteParticipantSig);\n\n  /**\n   * Construct a {@link RemoteParticipantV2}.\n   * @param {object} participantState\n   * @param {function(string): Promise<DataTrackReceiver|MediaTrackReceiver>} getTrackReceiver\n   * @param {object} [options]\n   */\n  function RemoteParticipantV2(participantState, getTrackReceiver, options) {\n    var _ret;\n\n    _classCallCheck(this, RemoteParticipantV2);\n\n    var _this = _possibleConstructorReturn(this, (RemoteParticipantV2.__proto__ || Object.getPrototypeOf(RemoteParticipantV2)).call(this, participantState.sid, participantState.identity));\n\n    options = Object.assign({\n      RemoteTrackPublicationV2: RemoteTrackPublicationV2\n    }, options);\n\n    Object.defineProperties(_this, {\n      _revision: {\n        writable: true,\n        value: null\n      },\n      _RemoteTrackPublicationV2: {\n        value: options.RemoteTrackPublicationV2\n      },\n      _getTrackReceiver: {\n        value: getTrackReceiver\n      },\n      revision: {\n        enumerable: true,\n        get: function get() {\n          return this._revision;\n        }\n      }\n    });\n\n    return _ret = _this.update(participantState), _possibleConstructorReturn(_this, _ret);\n  }\n\n  /**\n   * @private\n   */\n\n\n  _createClass(RemoteParticipantV2, [{\n    key: '_getOrCreateTrack',\n    value: function _getOrCreateTrack(trackState) {\n      var RemoteTrackPublicationV2 = this._RemoteTrackPublicationV2;\n      var track = this.tracks.get(trackState.sid);\n      if (!track) {\n        track = new RemoteTrackPublicationV2(trackState);\n        this.addTrack(track);\n      }\n      return track;\n    }\n\n    /**\n     * Update the {@link RemoteParticipantV2} with the new state.\n     * @param {object} participantState\n     * @returns {this}\n     */\n\n  }, {\n    key: 'update',\n    value: function update(participantState) {\n      var _this2 = this;\n\n      if (this.revision !== null && participantState.revision <= this.revision) {\n        return this;\n      }\n      this._revision = participantState.revision;\n\n      var tracksToKeep = new Set();\n\n      participantState.tracks.forEach(function (trackState) {\n        var track = _this2._getOrCreateTrack(trackState);\n        track.update(trackState);\n        tracksToKeep.add(track);\n      });\n\n      this.tracks.forEach(function (track) {\n        if (!tracksToKeep.has(track)) {\n          _this2.removeTrack(track);\n        }\n      });\n\n      if (participantState.state === 'disconnected' && this.state === 'connected') {\n        this.preempt('disconnected');\n      }\n\n      return this;\n    }\n  }]);\n\n  return RemoteParticipantV2;\n}(RemoteParticipantSignaling);\n\nmodule.exports = RemoteParticipantV2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvcmVtb3RlcGFydGljaXBhbnQuanM/Y2Q2MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixnQ0FBZ0MsMkNBQTJDLGdCQUFnQixrQkFBa0IsT0FBTywyQkFBMkIsd0RBQXdELGdDQUFnQyx1REFBdUQsMkRBQTJELEVBQUUsRUFBRSx5REFBeUQscUVBQXFFLDZEQUE2RCxvQkFBb0IsR0FBRyxFQUFFOztBQUVqakIsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSxpQ0FBaUMsbUJBQU8sQ0FBQywrQkFBc0I7QUFDL0QsK0JBQStCLG1CQUFPLENBQUMsbUNBQTBCOztBQUVqRTtBQUNBO0FBQ0EsY0FBYyxRQUFRO0FBQ3RCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsMEJBQTBCO0FBQzVDLGFBQWEsT0FBTztBQUNwQixhQUFhLGdFQUFnRTtBQUM3RSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLDBCQUEwQjtBQUM3QyxlQUFlLE9BQU87QUFDdEIsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjMzNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmVtb3RlUGFydGljaXBhbnRTaWduYWxpbmcgPSByZXF1aXJlKCcuLi9yZW1vdGVwYXJ0aWNpcGFudCcpO1xudmFyIFJlbW90ZVRyYWNrUHVibGljYXRpb25WMiA9IHJlcXVpcmUoJy4vcmVtb3RldHJhY2twdWJsaWNhdGlvbicpO1xuXG4vKipcbiAqIEBleHRlbmRzIFJlbW90ZVBhcnRpY2lwYW50U2lnbmFsaW5nXG4gKiBAcHJvcGVydHkgez9udW1iZXJ9IHJldmlzaW9uXG4gKi9cblxudmFyIFJlbW90ZVBhcnRpY2lwYW50VjIgPSBmdW5jdGlvbiAoX1JlbW90ZVBhcnRpY2lwYW50U2lnKSB7XG4gIF9pbmhlcml0cyhSZW1vdGVQYXJ0aWNpcGFudFYyLCBfUmVtb3RlUGFydGljaXBhbnRTaWcpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnRWMn0uXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJ0aWNpcGFudFN0YXRlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nKTogUHJvbWlzZTxEYXRhVHJhY2tSZWNlaXZlcnxNZWRpYVRyYWNrUmVjZWl2ZXI+fSBnZXRUcmFja1JlY2VpdmVyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICovXG4gIGZ1bmN0aW9uIFJlbW90ZVBhcnRpY2lwYW50VjIocGFydGljaXBhbnRTdGF0ZSwgZ2V0VHJhY2tSZWNlaXZlciwgb3B0aW9ucykge1xuICAgIHZhciBfcmV0O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbW90ZVBhcnRpY2lwYW50VjIpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJlbW90ZVBhcnRpY2lwYW50VjIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSZW1vdGVQYXJ0aWNpcGFudFYyKSkuY2FsbCh0aGlzLCBwYXJ0aWNpcGFudFN0YXRlLnNpZCwgcGFydGljaXBhbnRTdGF0ZS5pZGVudGl0eSkpO1xuXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgUmVtb3RlVHJhY2tQdWJsaWNhdGlvblYyOiBSZW1vdGVUcmFja1B1YmxpY2F0aW9uVjJcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBfcmV2aXNpb246IHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9LFxuICAgICAgX1JlbW90ZVRyYWNrUHVibGljYXRpb25WMjoge1xuICAgICAgICB2YWx1ZTogb3B0aW9ucy5SZW1vdGVUcmFja1B1YmxpY2F0aW9uVjJcbiAgICAgIH0sXG4gICAgICBfZ2V0VHJhY2tSZWNlaXZlcjoge1xuICAgICAgICB2YWx1ZTogZ2V0VHJhY2tSZWNlaXZlclxuICAgICAgfSxcbiAgICAgIHJldmlzaW9uOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9yZXZpc2lvbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIF9yZXQgPSBfdGhpcy51cGRhdGUocGFydGljaXBhbnRTdGF0ZSksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhSZW1vdGVQYXJ0aWNpcGFudFYyLCBbe1xuICAgIGtleTogJ19nZXRPckNyZWF0ZVRyYWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldE9yQ3JlYXRlVHJhY2sodHJhY2tTdGF0ZSkge1xuICAgICAgdmFyIFJlbW90ZVRyYWNrUHVibGljYXRpb25WMiA9IHRoaXMuX1JlbW90ZVRyYWNrUHVibGljYXRpb25WMjtcbiAgICAgIHZhciB0cmFjayA9IHRoaXMudHJhY2tzLmdldCh0cmFja1N0YXRlLnNpZCk7XG4gICAgICBpZiAoIXRyYWNrKSB7XG4gICAgICAgIHRyYWNrID0gbmV3IFJlbW90ZVRyYWNrUHVibGljYXRpb25WMih0cmFja1N0YXRlKTtcbiAgICAgICAgdGhpcy5hZGRUcmFjayh0cmFjayk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJhY2s7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnRWMn0gd2l0aCB0aGUgbmV3IHN0YXRlLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJ0aWNpcGFudFN0YXRlXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3VwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShwYXJ0aWNpcGFudFN0YXRlKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMucmV2aXNpb24gIT09IG51bGwgJiYgcGFydGljaXBhbnRTdGF0ZS5yZXZpc2lvbiA8PSB0aGlzLnJldmlzaW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdGhpcy5fcmV2aXNpb24gPSBwYXJ0aWNpcGFudFN0YXRlLnJldmlzaW9uO1xuXG4gICAgICB2YXIgdHJhY2tzVG9LZWVwID0gbmV3IFNldCgpO1xuXG4gICAgICBwYXJ0aWNpcGFudFN0YXRlLnRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFja1N0YXRlKSB7XG4gICAgICAgIHZhciB0cmFjayA9IF90aGlzMi5fZ2V0T3JDcmVhdGVUcmFjayh0cmFja1N0YXRlKTtcbiAgICAgICAgdHJhY2sudXBkYXRlKHRyYWNrU3RhdGUpO1xuICAgICAgICB0cmFja3NUb0tlZXAuYWRkKHRyYWNrKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICBpZiAoIXRyYWNrc1RvS2VlcC5oYXModHJhY2spKSB7XG4gICAgICAgICAgX3RoaXMyLnJlbW92ZVRyYWNrKHRyYWNrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChwYXJ0aWNpcGFudFN0YXRlLnN0YXRlID09PSAnZGlzY29ubmVjdGVkJyAmJiB0aGlzLnN0YXRlID09PSAnY29ubmVjdGVkJykge1xuICAgICAgICB0aGlzLnByZWVtcHQoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVtb3RlUGFydGljaXBhbnRWMjtcbn0oUmVtb3RlUGFydGljaXBhbnRTaWduYWxpbmcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlbW90ZVBhcnRpY2lwYW50VjI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvcmVtb3RlcGFydGljaXBhbnQuanNcbi8vIG1vZHVsZSBpZCA9IDMzNFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///334\n");

/***/ }),
/* 335 */
/*!**********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/remoteparticipant.js ***!
  \**********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ParticipantSignaling = __webpack_require__(/*! ./participant */ 228);\n\n/**\n * A {@link Participant} implementation\n * @extends ParticipantSignaling\n * @property {string} identity\n * @property {Participant.SID} sid\n */\n\nvar RemoteParticipantSignaling = function (_ParticipantSignaling) {\n  _inherits(RemoteParticipantSignaling, _ParticipantSignaling);\n\n  /**\n   * Construct a {@link RemoteParticipantSignaling}.\n   * @param {Participant.SID} sid\n   * @param {string} identity\n   */\n  function RemoteParticipantSignaling(sid, identity) {\n    _classCallCheck(this, RemoteParticipantSignaling);\n\n    var _this = _possibleConstructorReturn(this, (RemoteParticipantSignaling.__proto__ || Object.getPrototypeOf(RemoteParticipantSignaling)).call(this));\n\n    _this.connect(sid, identity);\n    return _this;\n  }\n\n  return RemoteParticipantSignaling;\n}(ParticipantSignaling);\n\nmodule.exports = RemoteParticipantSignaling;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvcmVtb3RlcGFydGljaXBhbnQuanM/ZTlkMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLDJCQUEyQixtQkFBTyxDQUFDLHdCQUFlOztBQUVsRDtBQUNBLE1BQU0sa0JBQWtCO0FBQ3hCO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsZ0JBQWdCO0FBQzlCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsaUNBQWlDO0FBQ25ELGFBQWEsZ0JBQWdCO0FBQzdCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIzMzUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFBhcnRpY2lwYW50U2lnbmFsaW5nID0gcmVxdWlyZSgnLi9wYXJ0aWNpcGFudCcpO1xuXG4vKipcbiAqIEEge0BsaW5rIFBhcnRpY2lwYW50fSBpbXBsZW1lbnRhdGlvblxuICogQGV4dGVuZHMgUGFydGljaXBhbnRTaWduYWxpbmdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZGVudGl0eVxuICogQHByb3BlcnR5IHtQYXJ0aWNpcGFudC5TSUR9IHNpZFxuICovXG5cbnZhciBSZW1vdGVQYXJ0aWNpcGFudFNpZ25hbGluZyA9IGZ1bmN0aW9uIChfUGFydGljaXBhbnRTaWduYWxpbmcpIHtcbiAgX2luaGVyaXRzKFJlbW90ZVBhcnRpY2lwYW50U2lnbmFsaW5nLCBfUGFydGljaXBhbnRTaWduYWxpbmcpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgUmVtb3RlUGFydGljaXBhbnRTaWduYWxpbmd9LlxuICAgKiBAcGFyYW0ge1BhcnRpY2lwYW50LlNJRH0gc2lkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZGVudGl0eVxuICAgKi9cbiAgZnVuY3Rpb24gUmVtb3RlUGFydGljaXBhbnRTaWduYWxpbmcoc2lkLCBpZGVudGl0eSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZW1vdGVQYXJ0aWNpcGFudFNpZ25hbGluZyk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmVtb3RlUGFydGljaXBhbnRTaWduYWxpbmcuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSZW1vdGVQYXJ0aWNpcGFudFNpZ25hbGluZykpLmNhbGwodGhpcykpO1xuXG4gICAgX3RoaXMuY29ubmVjdChzaWQsIGlkZW50aXR5KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICByZXR1cm4gUmVtb3RlUGFydGljaXBhbnRTaWduYWxpbmc7XG59KFBhcnRpY2lwYW50U2lnbmFsaW5nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZW1vdGVQYXJ0aWNpcGFudFNpZ25hbGluZztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3NpZ25hbGluZy9yZW1vdGVwYXJ0aWNpcGFudC5qc1xuLy8gbW9kdWxlIGlkID0gMzM1XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///335\n");

/***/ }),
/* 336 */
/*!******************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/v2/remotetrackpublication.js ***!
  \******************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RemoteTrackPublicationSignaling = __webpack_require__(/*! ../remotetrackpublication */ 337);\n\n/**\n * @extends RemoteTrackPublicationSignaling\n */\n\nvar RemoteTrackPublicationV2 = function (_RemoteTrackPublicati) {\n  _inherits(RemoteTrackPublicationV2, _RemoteTrackPublicati);\n\n  /**\n   * Construct a {@link RemoteTrackPublicationV2}.\n   * @param {RemoteTrackPublicationV2#Representation} track\n   */\n  function RemoteTrackPublicationV2(track) {\n    _classCallCheck(this, RemoteTrackPublicationV2);\n\n    return _possibleConstructorReturn(this, (RemoteTrackPublicationV2.__proto__ || Object.getPrototypeOf(RemoteTrackPublicationV2)).call(this, track.sid, track.name, track.kind, track.enabled));\n  }\n\n  /**\n   * Compare the {@link RemoteTrackPublicationV2} to a\n   * {@link RemoteTrackPublicationV2#Representation} of itself and perform any\n   * updates necessary.\n   * @param {RemoteTrackPublicationV2#Representation} track\n   * @returns {this}\n   * @fires TrackSignaling#updated\n   */\n\n\n  _createClass(RemoteTrackPublicationV2, [{\n    key: 'update',\n    value: function update(track) {\n      this.enable(track.enabled);\n      return this;\n    }\n  }]);\n\n  return RemoteTrackPublicationV2;\n}(RemoteTrackPublicationSignaling);\n\n/**\n * The Room Signaling Protocol (RSP) representation of a {@link RemoteTrackPublicationV2}.\n * @typedef {LocalTrackPublicationV2#Representation} RemoteTrackPublicationV2#Representation\n * @property (boolean} subscribed\n */\n\nmodule.exports = RemoteTrackPublicationV2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvcmVtb3RldHJhY2twdWJsaWNhdGlvbi5qcz85MjU2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLHNDQUFzQyxtQkFBTyxDQUFDLG9DQUEyQjs7QUFFekU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsK0JBQStCO0FBQ2pELGFBQWEsd0NBQXdDO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLCtCQUErQjtBQUNqRCxNQUFNLDhDQUE4QztBQUNwRDtBQUNBLGFBQWEsd0NBQXdDO0FBQ3JELGVBQWU7QUFDZjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLDBEQUEwRCwrQkFBK0I7QUFDekYsYUFBYSx1Q0FBdUM7QUFDcEQsc0JBQXNCO0FBQ3RCOztBQUVBIiwiZmlsZSI6IjMzNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmVtb3RlVHJhY2tQdWJsaWNhdGlvblNpZ25hbGluZyA9IHJlcXVpcmUoJy4uL3JlbW90ZXRyYWNrcHVibGljYXRpb24nKTtcblxuLyoqXG4gKiBAZXh0ZW5kcyBSZW1vdGVUcmFja1B1YmxpY2F0aW9uU2lnbmFsaW5nXG4gKi9cblxudmFyIFJlbW90ZVRyYWNrUHVibGljYXRpb25WMiA9IGZ1bmN0aW9uIChfUmVtb3RlVHJhY2tQdWJsaWNhdGkpIHtcbiAgX2luaGVyaXRzKFJlbW90ZVRyYWNrUHVibGljYXRpb25WMiwgX1JlbW90ZVRyYWNrUHVibGljYXRpKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGEge0BsaW5rIFJlbW90ZVRyYWNrUHVibGljYXRpb25WMn0uXG4gICAqIEBwYXJhbSB7UmVtb3RlVHJhY2tQdWJsaWNhdGlvblYyI1JlcHJlc2VudGF0aW9ufSB0cmFja1xuICAgKi9cbiAgZnVuY3Rpb24gUmVtb3RlVHJhY2tQdWJsaWNhdGlvblYyKHRyYWNrKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbW90ZVRyYWNrUHVibGljYXRpb25WMik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJlbW90ZVRyYWNrUHVibGljYXRpb25WMi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJlbW90ZVRyYWNrUHVibGljYXRpb25WMikpLmNhbGwodGhpcywgdHJhY2suc2lkLCB0cmFjay5uYW1lLCB0cmFjay5raW5kLCB0cmFjay5lbmFibGVkKSk7XG4gIH1cblxuICAvKipcbiAgICogQ29tcGFyZSB0aGUge0BsaW5rIFJlbW90ZVRyYWNrUHVibGljYXRpb25WMn0gdG8gYVxuICAgKiB7QGxpbmsgUmVtb3RlVHJhY2tQdWJsaWNhdGlvblYyI1JlcHJlc2VudGF0aW9ufSBvZiBpdHNlbGYgYW5kIHBlcmZvcm0gYW55XG4gICAqIHVwZGF0ZXMgbmVjZXNzYXJ5LlxuICAgKiBAcGFyYW0ge1JlbW90ZVRyYWNrUHVibGljYXRpb25WMiNSZXByZXNlbnRhdGlvbn0gdHJhY2tcbiAgICogQHJldHVybnMge3RoaXN9XG4gICAqIEBmaXJlcyBUcmFja1NpZ25hbGluZyN1cGRhdGVkXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFJlbW90ZVRyYWNrUHVibGljYXRpb25WMiwgW3tcbiAgICBrZXk6ICd1cGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUodHJhY2spIHtcbiAgICAgIHRoaXMuZW5hYmxlKHRyYWNrLmVuYWJsZWQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlbW90ZVRyYWNrUHVibGljYXRpb25WMjtcbn0oUmVtb3RlVHJhY2tQdWJsaWNhdGlvblNpZ25hbGluZyk7XG5cbi8qKlxuICogVGhlIFJvb20gU2lnbmFsaW5nIFByb3RvY29sIChSU1ApIHJlcHJlc2VudGF0aW9uIG9mIGEge0BsaW5rIFJlbW90ZVRyYWNrUHVibGljYXRpb25WMn0uXG4gKiBAdHlwZWRlZiB7TG9jYWxUcmFja1B1YmxpY2F0aW9uVjIjUmVwcmVzZW50YXRpb259IFJlbW90ZVRyYWNrUHVibGljYXRpb25WMiNSZXByZXNlbnRhdGlvblxuICogQHByb3BlcnR5IChib29sZWFufSBzdWJzY3JpYmVkXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZW1vdGVUcmFja1B1YmxpY2F0aW9uVjI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvcmVtb3RldHJhY2twdWJsaWNhdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gMzM2XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///336\n");

/***/ }),
/* 337 */
/*!***************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/remotetrackpublication.js ***!
  \***************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TrackSignaling = __webpack_require__(/*! ./track */ 258);\n\n/**\n * A {@link RemoteTrackPublication} implementation\n * @extends TrackSignaling\n */\n\nvar RemoteTrackPublicationSignaling = function (_TrackSignaling) {\n  _inherits(RemoteTrackPublicationSignaling, _TrackSignaling);\n\n  /**\n   * Construct a {@link RemoteTrackPublicationSignaling}.\n   * @param {Track.SID} sid\n   * @param {string} name\n   * @param {Track.Kind} kind\n   * @param {boolean} isEnabled\n   */\n  function RemoteTrackPublicationSignaling(sid, name, kind, isEnabled) {\n    _classCallCheck(this, RemoteTrackPublicationSignaling);\n\n    var _this = _possibleConstructorReturn(this, (RemoteTrackPublicationSignaling.__proto__ || Object.getPrototypeOf(RemoteTrackPublicationSignaling)).call(this, name, kind, isEnabled));\n\n    Object.defineProperties(_this, {\n      _error: {\n        value: null,\n        writable: true\n      }\n    });\n    _this.setSid(sid);\n    return _this;\n  }\n\n  /**\n   * Non-null if subscription failed.\n   * @property {?Error}\n   */\n\n\n  _createClass(RemoteTrackPublicationSignaling, [{\n    key: 'subscribeFailed',\n\n\n    /**\n     * @param {Error} error\n     * @returns {this}\n     */\n    value: function subscribeFailed(error) {\n      if (!this.error) {\n        this._error = error;\n        this.emit('updated');\n      }\n      return this;\n    }\n  }, {\n    key: 'error',\n    get: function get() {\n      return this._error;\n    }\n\n    /**\n     * Whether the {@link RemoteTrackPublicationSignaling} is subscribed to.\n     * @property {boolean}\n     */\n\n  }, {\n    key: 'isSubscribed',\n    get: function get() {\n      return !!this.trackTransceiver;\n    }\n  }]);\n\n  return RemoteTrackPublicationSignaling;\n}(TrackSignaling);\n\nmodule.exports = RemoteTrackPublicationSignaling;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvcmVtb3RldHJhY2twdWJsaWNhdGlvbi5qcz83ZTI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLHFCQUFxQixtQkFBTyxDQUFDLGtCQUFTOztBQUV0QztBQUNBLE1BQU0sNkJBQTZCO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixzQ0FBc0M7QUFDeEQsYUFBYSxVQUFVO0FBQ3ZCLGFBQWEsT0FBTztBQUNwQixhQUFhLFdBQVc7QUFDeEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCOzs7QUFHQTtBQUNBOzs7QUFHQTtBQUNBLGVBQWUsTUFBTTtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixzQ0FBc0M7QUFDMUQsa0JBQWtCO0FBQ2xCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEIiwiZmlsZSI6IjMzNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgVHJhY2tTaWduYWxpbmcgPSByZXF1aXJlKCcuL3RyYWNrJyk7XG5cbi8qKlxuICogQSB7QGxpbmsgUmVtb3RlVHJhY2tQdWJsaWNhdGlvbn0gaW1wbGVtZW50YXRpb25cbiAqIEBleHRlbmRzIFRyYWNrU2lnbmFsaW5nXG4gKi9cblxudmFyIFJlbW90ZVRyYWNrUHVibGljYXRpb25TaWduYWxpbmcgPSBmdW5jdGlvbiAoX1RyYWNrU2lnbmFsaW5nKSB7XG4gIF9pbmhlcml0cyhSZW1vdGVUcmFja1B1YmxpY2F0aW9uU2lnbmFsaW5nLCBfVHJhY2tTaWduYWxpbmcpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgUmVtb3RlVHJhY2tQdWJsaWNhdGlvblNpZ25hbGluZ30uXG4gICAqIEBwYXJhbSB7VHJhY2suU0lEfSBzaWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHtUcmFjay5LaW5kfSBraW5kXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNFbmFibGVkXG4gICAqL1xuICBmdW5jdGlvbiBSZW1vdGVUcmFja1B1YmxpY2F0aW9uU2lnbmFsaW5nKHNpZCwgbmFtZSwga2luZCwgaXNFbmFibGVkKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlbW90ZVRyYWNrUHVibGljYXRpb25TaWduYWxpbmcpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJlbW90ZVRyYWNrUHVibGljYXRpb25TaWduYWxpbmcuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSZW1vdGVUcmFja1B1YmxpY2F0aW9uU2lnbmFsaW5nKSkuY2FsbCh0aGlzLCBuYW1lLCBraW5kLCBpc0VuYWJsZWQpKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBfZXJyb3I6IHtcbiAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgX3RoaXMuc2V0U2lkKHNpZCk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIE5vbi1udWxsIGlmIHN1YnNjcmlwdGlvbiBmYWlsZWQuXG4gICAqIEBwcm9wZXJ0eSB7P0Vycm9yfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhSZW1vdGVUcmFja1B1YmxpY2F0aW9uU2lnbmFsaW5nLCBbe1xuICAgIGtleTogJ3N1YnNjcmliZUZhaWxlZCcsXG5cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RXJyb3J9IGVycm9yXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1YnNjcmliZUZhaWxlZChlcnJvcikge1xuICAgICAgaWYgKCF0aGlzLmVycm9yKSB7XG4gICAgICAgIHRoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgIHRoaXMuZW1pdCgndXBkYXRlZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZXJyb3InLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHtAbGluayBSZW1vdGVUcmFja1B1YmxpY2F0aW9uU2lnbmFsaW5nfSBpcyBzdWJzY3JpYmVkIHRvLlxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaXNTdWJzY3JpYmVkJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAhIXRoaXMudHJhY2tUcmFuc2NlaXZlcjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVtb3RlVHJhY2tQdWJsaWNhdGlvblNpZ25hbGluZztcbn0oVHJhY2tTaWduYWxpbmcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlbW90ZVRyYWNrUHVibGljYXRpb25TaWduYWxpbmc7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvcmVtb3RldHJhY2twdWJsaWNhdGlvbi5qc1xuLy8gbW9kdWxlIGlkID0gMzM3XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///337\n");

/***/ }),
/* 338 */
/*!*****************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/v2/transport.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar constants = __webpack_require__(/*! ../../util/constants */ 208);\nvar packageInfo = __webpack_require__(/*! ../../../package.json */ 219);\nvar InsightsPublisher = __webpack_require__(/*! ../../util/insightspublisher */ 339);\nvar NullInsightsPublisher = __webpack_require__(/*! ../../util/insightspublisher/null */ 340);\nvar SIP = __webpack_require__(/*! ../../sip */ 229);\nvar DefaultSIPJSMediaHandler = __webpack_require__(/*! ./sipjsmediahandler */ 260);\nvar StateMachine = __webpack_require__(/*! ../../statemachine */ 215);\nvar util = __webpack_require__(/*! ../../util */ 206);\n\nvar _require = __webpack_require__(/*! ../../util/twilio-video-errors */ 209),\n    RoomCompletedError = _require.RoomCompletedError;\n\nvar _require2 = __webpack_require__(/*! ../../util/twilio-video-errors */ 209),\n    SignalingConnectionDisconnectedError = _require2.SignalingConnectionDisconnectedError,\n    SignalingConnectionError = _require2.SignalingConnectionError,\n    SignalingConnectionTimeoutError = _require2.SignalingConnectionTimeoutError,\n    SignalingIncomingMessageInvalidError = _require2.SignalingIncomingMessageInvalidError,\n    createTwilioError = _require2.createTwilioError;\n\nvar RSP_VERSION = 2;\nvar SDK_NAME = packageInfo.name + '.js';\nvar SDK_VERSION = packageInfo.version;\n\n/*\nTransport States\n----------------\n\n                      +-----------+\n                      |           |\n                      |  syncing  |---------+\n                      |           |         |\n                      +-----------+         |\n                         ^     |            |\n                         |     |            |\n                         |     v            v\n    +------------+    +-----------+    +--------------+\n    |            |    |           |    |              |\n    | connecting |--->| connected |--->| disconnected |\n    |            |    |           |    |              |\n    +------------+    +-----------+    +--------------+\n             |                              ^\n             |                              |\n             |                              |\n             +------------------------------+\n\n*/\n\nvar states = {\n  connecting: ['connected', 'disconnected'],\n  connected: ['disconnected', 'syncing'],\n  syncing: ['connected', 'disconnected'],\n  disconnected: []\n};\n\n/**\n * A {@link Transport} supports sending and receiving Room Signaling Protocol\n * (RSP) messages. It also supports RSP requests, such as Sync and Disconnect.\n * @extends StateMachine\n * @implements MediaSignalingTransport\n * @emits Transport#connected\n * @emits Transport#message\n */\n\nvar Transport = function (_StateMachine) {\n  _inherits(Transport, _StateMachine);\n\n  /**\n   * Construct a {@link Transport}.\n   * @param {?string} name\n   * @param {string} accessToken\n   * @param {ParticipantSignaling} localParticipant\n   * @param {PeerConnectionManager} peerConnectionManager\n   * @param {object} ua\n   * @param {object} [options]\n   */\n  function Transport(name, accessToken, localParticipant, peerConnectionManager, ua, options) {\n    _classCallCheck(this, Transport);\n\n    options = Object.assign({\n      InsightsPublisher: InsightsPublisher,\n      NullInsightsPublisher: NullInsightsPublisher,\n      sdpSemantics: null,\n      SIPJSMediaHandler: DefaultSIPJSMediaHandler,\n      userAgent: util.getUserAgent()\n    }, options);\n\n    var _this = _possibleConstructorReturn(this, (Transport.__proto__ || Object.getPrototypeOf(Transport)).call(this, 'connecting', states));\n\n    var eventPublisherOptions = {};\n    if (options.wsServerInsights) {\n      eventPublisherOptions.gateway = options.wsServerInsights;\n    }\n\n    var EventPublisher = options.insights ? options.InsightsPublisher : options.NullInsightsPublisher;\n    Object.defineProperties(_this, {\n      _eventPublisher: {\n        value: new EventPublisher(accessToken, SDK_NAME, SDK_VERSION, options.environment, options.realm, eventPublisherOptions)\n      },\n      _sdpSemantics: {\n        value: options.sdpSemantics\n      },\n      _updatesReceived: {\n        value: []\n      },\n      _updatesToSend: {\n        value: []\n      },\n      _userAgent: {\n        value: options.userAgent\n      }\n    });\n\n    Object.defineProperties(_this, {\n      _session: {\n        value: createSession(_this, name, accessToken, localParticipant, peerConnectionManager, ua, options.SIPJSMediaHandler, options.iceServerSourceStatus, options.dominantSpeaker, options.networkQuality)\n      }\n    });\n    setupEventListeners(_this, _this._session, ua);\n    return _this;\n  }\n\n  /**\n   * Disconnect the {@link Transport}. Returns true if calling the method resulted\n   * in disconnection.\n   * @param {TwilioError} [error]\n   * @returns {boolean}\n   */\n\n\n  _createClass(Transport, [{\n    key: 'disconnect',\n    value: function disconnect(error) {\n      if (this.state !== 'disconnected') {\n        this.preempt('disconnected', null, [error]);\n        this._session.terminate({\n          body: JSON.stringify({\n            type: 'disconnect',\n            version: RSP_VERSION\n          }),\n          extraHeaders: ['Content-Type: application/room-signaling+json']\n        });\n        this._eventPublisher.disconnect();\n        return true;\n      }\n      return false;\n    }\n\n    /**\n     * Publish an RSP Update. Returns true if calling the method resulted in\n     * publishing (or eventually publishing) the update.\n     * @param {object} update\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'publish',\n    value: function publish(update) {\n      update = Object.assign({\n        type: 'update',\n        version: RSP_VERSION\n      }, update);\n      switch (this.state) {\n        case 'connected':\n          publishWithRetries(this, this._session, update);\n          return true;\n        case 'connecting':\n        case 'syncing':\n          this._updatesToSend.push(update);\n          return true;\n        case 'disconnected':\n        default:\n          return false;\n      }\n    }\n\n    /**\n     * Publish (or queue) an event to the Insights gateway.\n     * @param {string} groupName - Event group name\n     * @param {string} eventName - Event name\n     * @param {object} payload - Event payload\n     * @returns {boolean} true if queued or published, false if disconnected from the Insights gateway\n     */\n\n  }, {\n    key: 'publishEvent',\n    value: function publishEvent(groupName, eventName, payload) {\n      return this._eventPublisher.publish(groupName, eventName, payload);\n    }\n\n    /**\n     * Sync the {@link Transport}. Returns true if calling the method resulted in\n     * syncing.\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'sync',\n    value: function sync() {\n      if (this.state === 'connected') {\n        this.preempt('syncing');\n        this._session.sendReinvite();\n        return true;\n      }\n      return false;\n    }\n  }]);\n\n  return Transport;\n}(StateMachine);\n\n/**\n * @event Transport#connected\n * @param {object} initialState\n */\n\n/**\n * @event Transport#message\n * @param {object} state\n */\n\nfunction createSession(transport, name, accessToken, localParticipant, peerConnectionManager, ua, SIPJSMediaHandler, iceServerSourceStatus, dominantSpeaker, networkQuality) {\n  var target = 'sip:' + util.makeServerSIPURI();\n  return ua.invite(target, {\n    extraHeaders: [constants.headers.X_TWILIO_ACCESSTOKEN + ': ' + accessToken, 'Session-Expires: 120'],\n    media: { stream: {} },\n    mediaHandlerFactory: function mediaHandlerFactory() {\n      return new SIPJSMediaHandler(peerConnectionManager, function createMessage() {\n        if (transport.state === 'disconnected') {\n          return {\n            type: 'disconnect',\n            version: RSP_VERSION\n          };\n        }\n        var type = {\n          connecting: 'connect',\n          syncing: 'sync'\n        }[transport.state] || 'update';\n\n        var message = {\n          name: name,\n          participant: localParticipant.getState(),\n          type: type,\n          version: RSP_VERSION\n        };\n\n        if (message.type === 'connect') {\n          message.ice_servers = iceServerSourceStatus;\n          message.publisher = {\n            name: SDK_NAME,\n            sdk_version: SDK_VERSION,\n            user_agent: transport._userAgent\n          };\n          message.media_signaling = {};\n          if (networkQuality) {\n            message.media_signaling.network_quality = {\n              transports: [{ type: 'data-channel' }]\n            };\n          }\n          if (dominantSpeaker) {\n            message.media_signaling.active_speaker = {\n              transports: [{ type: 'data-channel' }]\n            };\n          }\n        }\n\n        var sdpFormat = util.getSdpFormat(transport._sdpSemantics);\n        if (type === 'connect' && sdpFormat) {\n          message.format = sdpFormat;\n        }\n\n        return message;\n      });\n    },\n    onInfo: function onInfo(request) {\n      this.emit('info', request);\n      request.reply(200);\n    }\n  });\n}\n\n/**\n * Add random jitter to a given value in the range [-jitter, jitter].\n * @private\n * @param {number} value\n * @param {number} jitter\n * @returns {number} value + random(-jitter, +jitter)\n */\nfunction withJitter(value, jitter) {\n  var rand = Math.random();\n  return value - jitter + Math.floor(2 * jitter * rand + 0.5);\n}\n\nfunction publishWithRetries(transport, session, payload, attempts) {\n  attempts = attempts || 0;\n  return new Promise(function (resolve, reject) {\n    function receiveResponse(response) {\n      switch (Math.floor(response.status_code / 100)) {\n        case 2:\n          resolve();\n          break;\n        case 5:\n          if (attempts < constants.PUBLISH_MAX_ATTEMPTS) {\n            resolve(publishWithRetries(transport, session, payload, ++attempts));\n          } else {\n            reject(new Error('Transport failed to send a message even after ' + constants.PUBLISH_MAX_ATTEMPTS + ' attempts'));\n          }\n          break;\n        default:\n          reject(response);\n      }\n    }\n    function sendRequest() {\n      if (transport.state === 'disconnected') {\n        return;\n      }\n      session.sendRequest('INFO', {\n        body: JSON.stringify(payload),\n        extraHeaders: ['Content-Type: application/room-signaling+json', 'Event: room-signaling', 'Info-Package: room-signaling'],\n        receiveResponse: receiveResponse\n      });\n    }\n    if (attempts === 0) {\n      sendRequest();\n      return;\n    }\n\n    var backOffMs = (1 << attempts - 1) * constants.PUBLISH_BACKOFF_MS;\n    setTimeout(sendRequest, withJitter(backOffMs, constants.PUBLISH_BACKOFF_JITTER));\n  });\n}\n\nfunction reducePeerConnections(peerConnections) {\n  return Array.from(peerConnections.reduce(function (peerConnectionsById, update) {\n    var reduced = peerConnectionsById.get(update.id) || update;\n\n    // First, reduce the top-level `description` property.\n    if (!reduced.description && update.description) {\n      reduced.description = update.description;\n    } else if (reduced.description && update.description) {\n      if (update.description.revision > reduced.description.revision) {\n        reduced.description = update.description;\n      }\n    }\n\n    // Then, reduce the top-level `ice` property.\n    if (!reduced.ice && update.ice) {\n      reduced.ice = update.ice;\n    } else if (reduced.ice && update.ice) {\n      if (update.ice.revision > reduced.ice.revision) {\n        reduced.ice = update.ice;\n      }\n    }\n\n    // Finally, update the map.\n    peerConnectionsById.set(reduced.id, reduced);\n\n    return peerConnectionsById;\n  }, new Map()).values());\n}\n\nfunction reduceUpdates(updates) {\n  return updates.reduce(function (reduced, update) {\n    // First, reduce the top-level `participant` property.\n    if (!reduced.participant && update.participant) {\n      reduced.participant = update.participant;\n    } else if (reduced.participant && update.participant) {\n      if (update.participant.revision > reduced.participant.revision) {\n        reduced.participant = update.participant;\n      }\n    }\n\n    // Then, reduce the top-level `peer_connections` property.\n    /* eslint camelcase:0 */\n    if (!reduced.peer_connections && update.peer_connections) {\n      reduced.peer_connections = reducePeerConnections(update.peer_connections);\n    } else if (reduced.peer_connections && update.peer_connections) {\n      reduced.peer_connections = reducePeerConnections(reduced.peer_connections.concat(update.peer_connections));\n    }\n\n    return reduced;\n  }, {\n    type: 'update',\n    version: RSP_VERSION\n  });\n}\n\n/**\n * Parse the body of a SIP incoming request or response.\n * @param {object} requestOrResponse\n * @returns {?object}\n * @throws {SignalingIncomingMessageInvalidError}\n */\nfunction parseRequestOrResponseBody(requestOrResponse) {\n  if (requestOrResponse.body) {\n    try {\n      return JSON.parse(requestOrResponse.body);\n    } catch (e) {\n      throw new SignalingIncomingMessageInvalidError();\n    }\n  }\n  return null;\n}\n\n/**\n * Get a {@link TwilioError} for a SIP incoming request or response from its body.\n * @param {object} requestOrResponse\n * @returns {?TwilioError}\n */\nfunction getTwilioErrorFromRequestOrResponseBody(requestOrResponse) {\n  try {\n    var message = parseRequestOrResponseBody(requestOrResponse);\n    if (message) {\n      switch (message.type) {\n        case 'disconnected':\n          if (message.status === 'completed') {\n            return new RoomCompletedError();\n          }\n          break;\n        case 'error':\n          return createTwilioError(message.code, message.message);\n        default:\n          break;\n      }\n    }\n    return null;\n  } catch (error) {\n    return error;\n  }\n}\n\n/**\n * Get a {@link TwilioError} for a SIP incoming request or response from its headers.\n * @param {object} requestOrResponse\n * @returns {?TwilioError}\n */\nfunction getTwilioErrorFromRequestOrResponseHeaders(requestOrResponse) {\n  var headers = requestOrResponse.headers;\n  if (headers && headers['X-Twilio-Error']) {\n    var twilioErrorHeader = headers['X-Twilio-Error'][0].raw.split(' ');\n    var code = parseInt(twilioErrorHeader[0], 10);\n    var message = twilioErrorHeader.slice(1).join(' ');\n    return createTwilioError(code, message);\n  }\n  return null;\n}\n\n/**\n * Create a {@link TwilioError} from a SIP request or response.\n * @param {object} requestOrResponse - SIP request or response\n * @returns {?TwilioError}\n */\nfunction getTwilioErrorFromRequestOrResponse(requestOrResponse) {\n  return getTwilioErrorFromRequestOrResponseHeaders(requestOrResponse) || getTwilioErrorFromRequestOrResponseBody(requestOrResponse);\n}\n\nfunction setupEventListeners(transport, session, ua) {\n  function disconnect(requestOrResponse, cause) {\n    var twilioError = void 0;\n\n    if (requestOrResponse && !(requestOrResponse instanceof SIP.OutgoingRequest)) {\n      twilioError = getTwilioErrorFromRequestOrResponse(requestOrResponse);\n    }\n\n    if (!twilioError) {\n      switch (cause) {\n        case SIP.C.causes.REQUEST_TIMEOUT:\n          twilioError = new SignalingConnectionTimeoutError();\n          break;\n        case SIP.C.causes.CONNECTION_ERROR:\n          twilioError = new SignalingConnectionError();\n          break;\n        default:\n          twilioError = new SignalingConnectionDisconnectedError();\n      }\n    }\n\n    transport.disconnect(twilioError);\n  }\n\n  function handleRequestOrResponse(requestOrResponse) {\n    // We don't need to handle requests we sent ourselves.\n    if (requestOrResponse instanceof SIP.OutgoingRequest) {\n      return;\n    }\n\n    // Handle any errors first.\n    var error = void 0;\n    try {\n      error = getTwilioErrorFromRequestOrResponse(requestOrResponse);\n    } catch (e) {\n      if (e instanceof SignalingIncomingMessageInvalidError) {\n        return;\n      }\n      error = e;\n    }\n\n    // If we get an error other than a SignalingIncomingMessageInvalidError,\n    // then disconnect.\n    if (error) {\n      transport.disconnect(error);\n      return;\n    }\n\n    // Otherwise, try to parse the RSP message.\n    var message = void 0;\n    try {\n      message = parseRequestOrResponseBody(requestOrResponse);\n    } catch (e) {}\n    // Do nothing.\n\n\n    // If there's no RSP message to handle, just return.\n    if (!message) {\n      return;\n    }\n\n    switch (transport.state) {\n      case 'connected':\n        switch (message.type) {\n          case 'connected':\n          case 'synced':\n          case 'update':\n            transport.emit('message', message);\n            return;\n          case 'disconnected':\n            transport.disconnect(message.status === 'completed' ? new RoomCompletedError() : null);\n            return;\n          default:\n            // Do nothing.\n            return;\n        }\n      case 'connecting':\n        switch (message.type) {\n          case 'connected':\n            transport.emit('connected', message);\n            transport.preempt('connected');\n            return;\n          case 'synced':\n          case 'update':\n            transport._updatesReceived.push(message);\n            return;\n          case 'disconnected':\n            transport.disconnect(message.status === 'completed' ? new RoomCompletedError() : null);\n            return;\n          default:\n            // Do nothing.\n            return;\n        }\n      case 'disconnected':\n        // Do nothing.\n        return;\n      case 'syncing':\n        switch (message.type) {\n          case 'connected':\n          case 'update':\n            transport._updatesReceived.push(message);\n            return;\n          case 'synced':\n            transport.emit('message', message);\n            transport.preempt('connected');\n            return;\n          case 'disconnected':\n            transport.disconnect(message.status === 'completed' ? new RoomCompletedError() : null);\n            return;\n          default:\n            // Do nothing.\n            return;\n        }\n      default:\n        // Impossible\n        return;\n    }\n  }\n\n  session.on('info', handleRequestOrResponse);\n  session.once('bye', disconnect);\n\n  session.once('accepted', handleRequestOrResponse);\n  session.once('failed', disconnect);\n\n  transport.on('stateChanged', function stateChanged(state) {\n    switch (state) {\n      case 'connected':\n        {\n          session.removeListener('accepted', handleRequestOrResponse);\n          session.removeListener('failed', disconnect);\n\n          var updates = transport._updatesToSend.splice(0);\n          if (updates.length) {\n            transport.publish(reduceUpdates(updates));\n          }\n\n          transport._updatesReceived.splice(0).forEach(transport.emit.bind(transport, 'message'));\n\n          return;\n        }\n      case 'disconnected':\n        session.removeListener('accepted', handleRequestOrResponse);\n        session.removeListener('failed', disconnect);\n        session.removeListener('info', handleRequestOrResponse);\n        session.removeListener('bye', disconnect);\n        transport.removeListener('stateChanged', stateChanged);\n        ua.stop();\n        return;\n      case 'syncing':\n        // Do nothing.\n        return;\n      default:\n        // Impossible\n        return;\n    }\n  });\n\n  ua.once('disconnected', disconnect);\n  ua.once('keepAliveTimeout', function () {\n    return transport.disconnect(new SignalingConnectionTimeoutError());\n  });\n}\n\nmodule.exports = Transport;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvdHJhbnNwb3J0LmpzPzE4ZTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsZ0JBQWdCLG1CQUFPLENBQUMsK0JBQXNCO0FBQzlDLGtCQUFrQixtQkFBTyxDQUFDLGdDQUF1QjtBQUNqRCx3QkFBd0IsbUJBQU8sQ0FBQyx1Q0FBOEI7QUFDOUQsNEJBQTRCLG1CQUFPLENBQUMsNENBQW1DO0FBQ3ZFLFVBQVUsbUJBQU8sQ0FBQyxvQkFBVztBQUM3QiwrQkFBK0IsbUJBQU8sQ0FBQyw4QkFBcUI7QUFDNUQsbUJBQW1CLG1CQUFPLENBQUMsNkJBQW9CO0FBQy9DLFdBQVcsbUJBQU8sQ0FBQyxxQkFBWTs7QUFFL0IsZUFBZSxtQkFBTyxDQUFDLHlDQUFnQztBQUN2RDs7QUFFQSxnQkFBZ0IsbUJBQU8sQ0FBQyx5Q0FBZ0M7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTSxnQkFBZ0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsZ0JBQWdCO0FBQ2xDLGFBQWEsUUFBUTtBQUNyQixhQUFhLE9BQU87QUFDcEIsYUFBYSxxQkFBcUI7QUFDbEMsYUFBYSxzQkFBc0I7QUFDbkMsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQixnQkFBZ0I7QUFDckM7QUFDQSxhQUFhLFlBQVk7QUFDekIsZUFBZTtBQUNmOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGVBQWUsT0FBTztBQUN0QixpQkFBaUIsUUFBUTtBQUN6Qjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFdBQVcsRUFBRTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsdUJBQXVCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHVCQUF1QjtBQUNuRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2IsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsa0JBQWtCO0FBQzVCLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsa0JBQWtCO0FBQzVCLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWEsa0JBQWtCO0FBQy9CLFdBQVcsT0FBTztBQUNsQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEiLCJmaWxlIjoiMzM4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBjb25zdGFudHMgPSByZXF1aXJlKCcuLi8uLi91dGlsL2NvbnN0YW50cycpO1xudmFyIHBhY2thZ2VJbmZvID0gcmVxdWlyZSgnLi4vLi4vLi4vcGFja2FnZS5qc29uJyk7XG52YXIgSW5zaWdodHNQdWJsaXNoZXIgPSByZXF1aXJlKCcuLi8uLi91dGlsL2luc2lnaHRzcHVibGlzaGVyJyk7XG52YXIgTnVsbEluc2lnaHRzUHVibGlzaGVyID0gcmVxdWlyZSgnLi4vLi4vdXRpbC9pbnNpZ2h0c3B1Ymxpc2hlci9udWxsJyk7XG52YXIgU0lQID0gcmVxdWlyZSgnLi4vLi4vc2lwJyk7XG52YXIgRGVmYXVsdFNJUEpTTWVkaWFIYW5kbGVyID0gcmVxdWlyZSgnLi9zaXBqc21lZGlhaGFuZGxlcicpO1xudmFyIFN0YXRlTWFjaGluZSA9IHJlcXVpcmUoJy4uLy4uL3N0YXRlbWFjaGluZScpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuLi8uLi91dGlsJyk7XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4uLy4uL3V0aWwvdHdpbGlvLXZpZGVvLWVycm9ycycpLFxuICAgIFJvb21Db21wbGV0ZWRFcnJvciA9IF9yZXF1aXJlLlJvb21Db21wbGV0ZWRFcnJvcjtcblxudmFyIF9yZXF1aXJlMiA9IHJlcXVpcmUoJy4uLy4uL3V0aWwvdHdpbGlvLXZpZGVvLWVycm9ycycpLFxuICAgIFNpZ25hbGluZ0Nvbm5lY3Rpb25EaXNjb25uZWN0ZWRFcnJvciA9IF9yZXF1aXJlMi5TaWduYWxpbmdDb25uZWN0aW9uRGlzY29ubmVjdGVkRXJyb3IsXG4gICAgU2lnbmFsaW5nQ29ubmVjdGlvbkVycm9yID0gX3JlcXVpcmUyLlNpZ25hbGluZ0Nvbm5lY3Rpb25FcnJvcixcbiAgICBTaWduYWxpbmdDb25uZWN0aW9uVGltZW91dEVycm9yID0gX3JlcXVpcmUyLlNpZ25hbGluZ0Nvbm5lY3Rpb25UaW1lb3V0RXJyb3IsXG4gICAgU2lnbmFsaW5nSW5jb21pbmdNZXNzYWdlSW52YWxpZEVycm9yID0gX3JlcXVpcmUyLlNpZ25hbGluZ0luY29taW5nTWVzc2FnZUludmFsaWRFcnJvcixcbiAgICBjcmVhdGVUd2lsaW9FcnJvciA9IF9yZXF1aXJlMi5jcmVhdGVUd2lsaW9FcnJvcjtcblxudmFyIFJTUF9WRVJTSU9OID0gMjtcbnZhciBTREtfTkFNRSA9IHBhY2thZ2VJbmZvLm5hbWUgKyAnLmpzJztcbnZhciBTREtfVkVSU0lPTiA9IHBhY2thZ2VJbmZvLnZlcnNpb247XG5cbi8qXG5UcmFuc3BvcnQgU3RhdGVzXG4tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0rXG4gICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgfFxuICAgICAgICAgICAgICAgICAgICAgIHwgIHN5bmNpbmcgIHwtLS0tLS0tLS0rXG4gICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgfCAgICAgICAgIHxcbiAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0rICAgICAgICAgfFxuICAgICAgICAgICAgICAgICAgICAgICAgIF4gICAgIHwgICAgICAgICAgICB8XG4gICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgfCAgICAgICAgICAgIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICB2ICAgICAgICAgICAgdlxuICAgICstLS0tLS0tLS0tLS0rICAgICstLS0tLS0tLS0tLSsgICAgKy0tLS0tLS0tLS0tLS0tK1xuICAgIHwgICAgICAgICAgICB8ICAgIHwgICAgICAgICAgIHwgICAgfCAgICAgICAgICAgICAgfFxuICAgIHwgY29ubmVjdGluZyB8LS0tPnwgY29ubmVjdGVkIHwtLS0+fCBkaXNjb25uZWN0ZWQgfFxuICAgIHwgICAgICAgICAgICB8ICAgIHwgICAgICAgICAgIHwgICAgfCAgICAgICAgICAgICAgfFxuICAgICstLS0tLS0tLS0tLS0rICAgICstLS0tLS0tLS0tLSsgICAgKy0tLS0tLS0tLS0tLS0tK1xuICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBeXG4gICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rXG5cbiovXG5cbnZhciBzdGF0ZXMgPSB7XG4gIGNvbm5lY3Rpbmc6IFsnY29ubmVjdGVkJywgJ2Rpc2Nvbm5lY3RlZCddLFxuICBjb25uZWN0ZWQ6IFsnZGlzY29ubmVjdGVkJywgJ3N5bmNpbmcnXSxcbiAgc3luY2luZzogWydjb25uZWN0ZWQnLCAnZGlzY29ubmVjdGVkJ10sXG4gIGRpc2Nvbm5lY3RlZDogW11cbn07XG5cbi8qKlxuICogQSB7QGxpbmsgVHJhbnNwb3J0fSBzdXBwb3J0cyBzZW5kaW5nIGFuZCByZWNlaXZpbmcgUm9vbSBTaWduYWxpbmcgUHJvdG9jb2xcbiAqIChSU1ApIG1lc3NhZ2VzLiBJdCBhbHNvIHN1cHBvcnRzIFJTUCByZXF1ZXN0cywgc3VjaCBhcyBTeW5jIGFuZCBEaXNjb25uZWN0LlxuICogQGV4dGVuZHMgU3RhdGVNYWNoaW5lXG4gKiBAaW1wbGVtZW50cyBNZWRpYVNpZ25hbGluZ1RyYW5zcG9ydFxuICogQGVtaXRzIFRyYW5zcG9ydCNjb25uZWN0ZWRcbiAqIEBlbWl0cyBUcmFuc3BvcnQjbWVzc2FnZVxuICovXG5cbnZhciBUcmFuc3BvcnQgPSBmdW5jdGlvbiAoX1N0YXRlTWFjaGluZSkge1xuICBfaW5oZXJpdHMoVHJhbnNwb3J0LCBfU3RhdGVNYWNoaW5lKTtcblxuICAvKipcbiAgICogQ29uc3RydWN0IGEge0BsaW5rIFRyYW5zcG9ydH0uXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gYWNjZXNzVG9rZW5cbiAgICogQHBhcmFtIHtQYXJ0aWNpcGFudFNpZ25hbGluZ30gbG9jYWxQYXJ0aWNpcGFudFxuICAgKiBAcGFyYW0ge1BlZXJDb25uZWN0aW9uTWFuYWdlcn0gcGVlckNvbm5lY3Rpb25NYW5hZ2VyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSB1YVxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAqL1xuICBmdW5jdGlvbiBUcmFuc3BvcnQobmFtZSwgYWNjZXNzVG9rZW4sIGxvY2FsUGFydGljaXBhbnQsIHBlZXJDb25uZWN0aW9uTWFuYWdlciwgdWEsIG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhbnNwb3J0KTtcblxuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIEluc2lnaHRzUHVibGlzaGVyOiBJbnNpZ2h0c1B1Ymxpc2hlcixcbiAgICAgIE51bGxJbnNpZ2h0c1B1Ymxpc2hlcjogTnVsbEluc2lnaHRzUHVibGlzaGVyLFxuICAgICAgc2RwU2VtYW50aWNzOiBudWxsLFxuICAgICAgU0lQSlNNZWRpYUhhbmRsZXI6IERlZmF1bHRTSVBKU01lZGlhSGFuZGxlcixcbiAgICAgIHVzZXJBZ2VudDogdXRpbC5nZXRVc2VyQWdlbnQoKVxuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRyYW5zcG9ydC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRyYW5zcG9ydCkpLmNhbGwodGhpcywgJ2Nvbm5lY3RpbmcnLCBzdGF0ZXMpKTtcblxuICAgIHZhciBldmVudFB1Ymxpc2hlck9wdGlvbnMgPSB7fTtcbiAgICBpZiAob3B0aW9ucy53c1NlcnZlckluc2lnaHRzKSB7XG4gICAgICBldmVudFB1Ymxpc2hlck9wdGlvbnMuZ2F0ZXdheSA9IG9wdGlvbnMud3NTZXJ2ZXJJbnNpZ2h0cztcbiAgICB9XG5cbiAgICB2YXIgRXZlbnRQdWJsaXNoZXIgPSBvcHRpb25zLmluc2lnaHRzID8gb3B0aW9ucy5JbnNpZ2h0c1B1Ymxpc2hlciA6IG9wdGlvbnMuTnVsbEluc2lnaHRzUHVibGlzaGVyO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBfZXZlbnRQdWJsaXNoZXI6IHtcbiAgICAgICAgdmFsdWU6IG5ldyBFdmVudFB1Ymxpc2hlcihhY2Nlc3NUb2tlbiwgU0RLX05BTUUsIFNES19WRVJTSU9OLCBvcHRpb25zLmVudmlyb25tZW50LCBvcHRpb25zLnJlYWxtLCBldmVudFB1Ymxpc2hlck9wdGlvbnMpXG4gICAgICB9LFxuICAgICAgX3NkcFNlbWFudGljczoge1xuICAgICAgICB2YWx1ZTogb3B0aW9ucy5zZHBTZW1hbnRpY3NcbiAgICAgIH0sXG4gICAgICBfdXBkYXRlc1JlY2VpdmVkOiB7XG4gICAgICAgIHZhbHVlOiBbXVxuICAgICAgfSxcbiAgICAgIF91cGRhdGVzVG9TZW5kOiB7XG4gICAgICAgIHZhbHVlOiBbXVxuICAgICAgfSxcbiAgICAgIF91c2VyQWdlbnQ6IHtcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMudXNlckFnZW50XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhfdGhpcywge1xuICAgICAgX3Nlc3Npb246IHtcbiAgICAgICAgdmFsdWU6IGNyZWF0ZVNlc3Npb24oX3RoaXMsIG5hbWUsIGFjY2Vzc1Rva2VuLCBsb2NhbFBhcnRpY2lwYW50LCBwZWVyQ29ubmVjdGlvbk1hbmFnZXIsIHVhLCBvcHRpb25zLlNJUEpTTWVkaWFIYW5kbGVyLCBvcHRpb25zLmljZVNlcnZlclNvdXJjZVN0YXR1cywgb3B0aW9ucy5kb21pbmFudFNwZWFrZXIsIG9wdGlvbnMubmV0d29ya1F1YWxpdHkpXG4gICAgICB9XG4gICAgfSk7XG4gICAgc2V0dXBFdmVudExpc3RlbmVycyhfdGhpcywgX3RoaXMuX3Nlc3Npb24sIHVhKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGlzY29ubmVjdCB0aGUge0BsaW5rIFRyYW5zcG9ydH0uIFJldHVybnMgdHJ1ZSBpZiBjYWxsaW5nIHRoZSBtZXRob2QgcmVzdWx0ZWRcbiAgICogaW4gZGlzY29ubmVjdGlvbi5cbiAgICogQHBhcmFtIHtUd2lsaW9FcnJvcn0gW2Vycm9yXVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoVHJhbnNwb3J0LCBbe1xuICAgIGtleTogJ2Rpc2Nvbm5lY3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNjb25uZWN0KGVycm9yKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgdGhpcy5wcmVlbXB0KCdkaXNjb25uZWN0ZWQnLCBudWxsLCBbZXJyb3JdKTtcbiAgICAgICAgdGhpcy5fc2Vzc2lvbi50ZXJtaW5hdGUoe1xuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHR5cGU6ICdkaXNjb25uZWN0JyxcbiAgICAgICAgICAgIHZlcnNpb246IFJTUF9WRVJTSU9OXG4gICAgICAgICAgfSksXG4gICAgICAgICAgZXh0cmFIZWFkZXJzOiBbJ0NvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vcm9vbS1zaWduYWxpbmcranNvbiddXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9ldmVudFB1Ymxpc2hlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1Ymxpc2ggYW4gUlNQIFVwZGF0ZS4gUmV0dXJucyB0cnVlIGlmIGNhbGxpbmcgdGhlIG1ldGhvZCByZXN1bHRlZCBpblxuICAgICAqIHB1Ymxpc2hpbmcgKG9yIGV2ZW50dWFsbHkgcHVibGlzaGluZykgdGhlIHVwZGF0ZS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdXBkYXRlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3B1Ymxpc2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwdWJsaXNoKHVwZGF0ZSkge1xuICAgICAgdXBkYXRlID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIHR5cGU6ICd1cGRhdGUnLFxuICAgICAgICB2ZXJzaW9uOiBSU1BfVkVSU0lPTlxuICAgICAgfSwgdXBkYXRlKTtcbiAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAgIHB1Ymxpc2hXaXRoUmV0cmllcyh0aGlzLCB0aGlzLl9zZXNzaW9uLCB1cGRhdGUpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlICdjb25uZWN0aW5nJzpcbiAgICAgICAgY2FzZSAnc3luY2luZyc6XG4gICAgICAgICAgdGhpcy5fdXBkYXRlc1RvU2VuZC5wdXNoKHVwZGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3RlZCc6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1Ymxpc2ggKG9yIHF1ZXVlKSBhbiBldmVudCB0byB0aGUgSW5zaWdodHMgZ2F0ZXdheS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZ3JvdXBOYW1lIC0gRXZlbnQgZ3JvdXAgbmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBFdmVudCBuYW1lXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHBheWxvYWQgLSBFdmVudCBwYXlsb2FkXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgcXVldWVkIG9yIHB1Ymxpc2hlZCwgZmFsc2UgaWYgZGlzY29ubmVjdGVkIGZyb20gdGhlIEluc2lnaHRzIGdhdGV3YXlcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncHVibGlzaEV2ZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHVibGlzaEV2ZW50KGdyb3VwTmFtZSwgZXZlbnROYW1lLCBwYXlsb2FkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZXZlbnRQdWJsaXNoZXIucHVibGlzaChncm91cE5hbWUsIGV2ZW50TmFtZSwgcGF5bG9hZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3luYyB0aGUge0BsaW5rIFRyYW5zcG9ydH0uIFJldHVybnMgdHJ1ZSBpZiBjYWxsaW5nIHRoZSBtZXRob2QgcmVzdWx0ZWQgaW5cbiAgICAgKiBzeW5jaW5nLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzeW5jJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3luYygpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlID09PSAnY29ubmVjdGVkJykge1xuICAgICAgICB0aGlzLnByZWVtcHQoJ3N5bmNpbmcnKTtcbiAgICAgICAgdGhpcy5fc2Vzc2lvbi5zZW5kUmVpbnZpdGUoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRyYW5zcG9ydDtcbn0oU3RhdGVNYWNoaW5lKTtcblxuLyoqXG4gKiBAZXZlbnQgVHJhbnNwb3J0I2Nvbm5lY3RlZFxuICogQHBhcmFtIHtvYmplY3R9IGluaXRpYWxTdGF0ZVxuICovXG5cbi8qKlxuICogQGV2ZW50IFRyYW5zcG9ydCNtZXNzYWdlXG4gKiBAcGFyYW0ge29iamVjdH0gc3RhdGVcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVTZXNzaW9uKHRyYW5zcG9ydCwgbmFtZSwgYWNjZXNzVG9rZW4sIGxvY2FsUGFydGljaXBhbnQsIHBlZXJDb25uZWN0aW9uTWFuYWdlciwgdWEsIFNJUEpTTWVkaWFIYW5kbGVyLCBpY2VTZXJ2ZXJTb3VyY2VTdGF0dXMsIGRvbWluYW50U3BlYWtlciwgbmV0d29ya1F1YWxpdHkpIHtcbiAgdmFyIHRhcmdldCA9ICdzaXA6JyArIHV0aWwubWFrZVNlcnZlclNJUFVSSSgpO1xuICByZXR1cm4gdWEuaW52aXRlKHRhcmdldCwge1xuICAgIGV4dHJhSGVhZGVyczogW2NvbnN0YW50cy5oZWFkZXJzLlhfVFdJTElPX0FDQ0VTU1RPS0VOICsgJzogJyArIGFjY2Vzc1Rva2VuLCAnU2Vzc2lvbi1FeHBpcmVzOiAxMjAnXSxcbiAgICBtZWRpYTogeyBzdHJlYW06IHt9IH0sXG4gICAgbWVkaWFIYW5kbGVyRmFjdG9yeTogZnVuY3Rpb24gbWVkaWFIYW5kbGVyRmFjdG9yeSgpIHtcbiAgICAgIHJldHVybiBuZXcgU0lQSlNNZWRpYUhhbmRsZXIocGVlckNvbm5lY3Rpb25NYW5hZ2VyLCBmdW5jdGlvbiBjcmVhdGVNZXNzYWdlKCkge1xuICAgICAgICBpZiAodHJhbnNwb3J0LnN0YXRlID09PSAnZGlzY29ubmVjdGVkJykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnZGlzY29ubmVjdCcsXG4gICAgICAgICAgICB2ZXJzaW9uOiBSU1BfVkVSU0lPTlxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHR5cGUgPSB7XG4gICAgICAgICAgY29ubmVjdGluZzogJ2Nvbm5lY3QnLFxuICAgICAgICAgIHN5bmNpbmc6ICdzeW5jJ1xuICAgICAgICB9W3RyYW5zcG9ydC5zdGF0ZV0gfHwgJ3VwZGF0ZSc7XG5cbiAgICAgICAgdmFyIG1lc3NhZ2UgPSB7XG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICBwYXJ0aWNpcGFudDogbG9jYWxQYXJ0aWNpcGFudC5nZXRTdGF0ZSgpLFxuICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgdmVyc2lvbjogUlNQX1ZFUlNJT05cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSAnY29ubmVjdCcpIHtcbiAgICAgICAgICBtZXNzYWdlLmljZV9zZXJ2ZXJzID0gaWNlU2VydmVyU291cmNlU3RhdHVzO1xuICAgICAgICAgIG1lc3NhZ2UucHVibGlzaGVyID0ge1xuICAgICAgICAgICAgbmFtZTogU0RLX05BTUUsXG4gICAgICAgICAgICBzZGtfdmVyc2lvbjogU0RLX1ZFUlNJT04sXG4gICAgICAgICAgICB1c2VyX2FnZW50OiB0cmFuc3BvcnQuX3VzZXJBZ2VudFxuICAgICAgICAgIH07XG4gICAgICAgICAgbWVzc2FnZS5tZWRpYV9zaWduYWxpbmcgPSB7fTtcbiAgICAgICAgICBpZiAobmV0d29ya1F1YWxpdHkpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UubWVkaWFfc2lnbmFsaW5nLm5ldHdvcmtfcXVhbGl0eSA9IHtcbiAgICAgICAgICAgICAgdHJhbnNwb3J0czogW3sgdHlwZTogJ2RhdGEtY2hhbm5lbCcgfV1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkb21pbmFudFNwZWFrZXIpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UubWVkaWFfc2lnbmFsaW5nLmFjdGl2ZV9zcGVha2VyID0ge1xuICAgICAgICAgICAgICB0cmFuc3BvcnRzOiBbeyB0eXBlOiAnZGF0YS1jaGFubmVsJyB9XVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2RwRm9ybWF0ID0gdXRpbC5nZXRTZHBGb3JtYXQodHJhbnNwb3J0Ll9zZHBTZW1hbnRpY3MpO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ2Nvbm5lY3QnICYmIHNkcEZvcm1hdCkge1xuICAgICAgICAgIG1lc3NhZ2UuZm9ybWF0ID0gc2RwRm9ybWF0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIG9uSW5mbzogZnVuY3Rpb24gb25JbmZvKHJlcXVlc3QpIHtcbiAgICAgIHRoaXMuZW1pdCgnaW5mbycsIHJlcXVlc3QpO1xuICAgICAgcmVxdWVzdC5yZXBseSgyMDApO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQWRkIHJhbmRvbSBqaXR0ZXIgdG8gYSBnaXZlbiB2YWx1ZSBpbiB0aGUgcmFuZ2UgWy1qaXR0ZXIsIGppdHRlcl0uXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gaml0dGVyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB2YWx1ZSArIHJhbmRvbSgtaml0dGVyLCAraml0dGVyKVxuICovXG5mdW5jdGlvbiB3aXRoSml0dGVyKHZhbHVlLCBqaXR0ZXIpIHtcbiAgdmFyIHJhbmQgPSBNYXRoLnJhbmRvbSgpO1xuICByZXR1cm4gdmFsdWUgLSBqaXR0ZXIgKyBNYXRoLmZsb29yKDIgKiBqaXR0ZXIgKiByYW5kICsgMC41KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaFdpdGhSZXRyaWVzKHRyYW5zcG9ydCwgc2Vzc2lvbiwgcGF5bG9hZCwgYXR0ZW1wdHMpIHtcbiAgYXR0ZW1wdHMgPSBhdHRlbXB0cyB8fCAwO1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIHJlY2VpdmVSZXNwb25zZShyZXNwb25zZSkge1xuICAgICAgc3dpdGNoIChNYXRoLmZsb29yKHJlc3BvbnNlLnN0YXR1c19jb2RlIC8gMTAwKSkge1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgaWYgKGF0dGVtcHRzIDwgY29uc3RhbnRzLlBVQkxJU0hfTUFYX0FUVEVNUFRTKSB7XG4gICAgICAgICAgICByZXNvbHZlKHB1Ymxpc2hXaXRoUmV0cmllcyh0cmFuc3BvcnQsIHNlc3Npb24sIHBheWxvYWQsICsrYXR0ZW1wdHMpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignVHJhbnNwb3J0IGZhaWxlZCB0byBzZW5kIGEgbWVzc2FnZSBldmVuIGFmdGVyICcgKyBjb25zdGFudHMuUFVCTElTSF9NQVhfQVRURU1QVFMgKyAnIGF0dGVtcHRzJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWplY3QocmVzcG9uc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzZW5kUmVxdWVzdCgpIHtcbiAgICAgIGlmICh0cmFuc3BvcnQuc3RhdGUgPT09ICdkaXNjb25uZWN0ZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlc3Npb24uc2VuZFJlcXVlc3QoJ0lORk8nLCB7XG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICBleHRyYUhlYWRlcnM6IFsnQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9yb29tLXNpZ25hbGluZytqc29uJywgJ0V2ZW50OiByb29tLXNpZ25hbGluZycsICdJbmZvLVBhY2thZ2U6IHJvb20tc2lnbmFsaW5nJ10sXG4gICAgICAgIHJlY2VpdmVSZXNwb25zZTogcmVjZWl2ZVJlc3BvbnNlXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGF0dGVtcHRzID09PSAwKSB7XG4gICAgICBzZW5kUmVxdWVzdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBiYWNrT2ZmTXMgPSAoMSA8PCBhdHRlbXB0cyAtIDEpICogY29uc3RhbnRzLlBVQkxJU0hfQkFDS09GRl9NUztcbiAgICBzZXRUaW1lb3V0KHNlbmRSZXF1ZXN0LCB3aXRoSml0dGVyKGJhY2tPZmZNcywgY29uc3RhbnRzLlBVQkxJU0hfQkFDS09GRl9KSVRURVIpKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlZHVjZVBlZXJDb25uZWN0aW9ucyhwZWVyQ29ubmVjdGlvbnMpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20ocGVlckNvbm5lY3Rpb25zLnJlZHVjZShmdW5jdGlvbiAocGVlckNvbm5lY3Rpb25zQnlJZCwgdXBkYXRlKSB7XG4gICAgdmFyIHJlZHVjZWQgPSBwZWVyQ29ubmVjdGlvbnNCeUlkLmdldCh1cGRhdGUuaWQpIHx8IHVwZGF0ZTtcblxuICAgIC8vIEZpcnN0LCByZWR1Y2UgdGhlIHRvcC1sZXZlbCBgZGVzY3JpcHRpb25gIHByb3BlcnR5LlxuICAgIGlmICghcmVkdWNlZC5kZXNjcmlwdGlvbiAmJiB1cGRhdGUuZGVzY3JpcHRpb24pIHtcbiAgICAgIHJlZHVjZWQuZGVzY3JpcHRpb24gPSB1cGRhdGUuZGVzY3JpcHRpb247XG4gICAgfSBlbHNlIGlmIChyZWR1Y2VkLmRlc2NyaXB0aW9uICYmIHVwZGF0ZS5kZXNjcmlwdGlvbikge1xuICAgICAgaWYgKHVwZGF0ZS5kZXNjcmlwdGlvbi5yZXZpc2lvbiA+IHJlZHVjZWQuZGVzY3JpcHRpb24ucmV2aXNpb24pIHtcbiAgICAgICAgcmVkdWNlZC5kZXNjcmlwdGlvbiA9IHVwZGF0ZS5kZXNjcmlwdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUaGVuLCByZWR1Y2UgdGhlIHRvcC1sZXZlbCBgaWNlYCBwcm9wZXJ0eS5cbiAgICBpZiAoIXJlZHVjZWQuaWNlICYmIHVwZGF0ZS5pY2UpIHtcbiAgICAgIHJlZHVjZWQuaWNlID0gdXBkYXRlLmljZTtcbiAgICB9IGVsc2UgaWYgKHJlZHVjZWQuaWNlICYmIHVwZGF0ZS5pY2UpIHtcbiAgICAgIGlmICh1cGRhdGUuaWNlLnJldmlzaW9uID4gcmVkdWNlZC5pY2UucmV2aXNpb24pIHtcbiAgICAgICAgcmVkdWNlZC5pY2UgPSB1cGRhdGUuaWNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZpbmFsbHksIHVwZGF0ZSB0aGUgbWFwLlxuICAgIHBlZXJDb25uZWN0aW9uc0J5SWQuc2V0KHJlZHVjZWQuaWQsIHJlZHVjZWQpO1xuXG4gICAgcmV0dXJuIHBlZXJDb25uZWN0aW9uc0J5SWQ7XG4gIH0sIG5ldyBNYXAoKSkudmFsdWVzKCkpO1xufVxuXG5mdW5jdGlvbiByZWR1Y2VVcGRhdGVzKHVwZGF0ZXMpIHtcbiAgcmV0dXJuIHVwZGF0ZXMucmVkdWNlKGZ1bmN0aW9uIChyZWR1Y2VkLCB1cGRhdGUpIHtcbiAgICAvLyBGaXJzdCwgcmVkdWNlIHRoZSB0b3AtbGV2ZWwgYHBhcnRpY2lwYW50YCBwcm9wZXJ0eS5cbiAgICBpZiAoIXJlZHVjZWQucGFydGljaXBhbnQgJiYgdXBkYXRlLnBhcnRpY2lwYW50KSB7XG4gICAgICByZWR1Y2VkLnBhcnRpY2lwYW50ID0gdXBkYXRlLnBhcnRpY2lwYW50O1xuICAgIH0gZWxzZSBpZiAocmVkdWNlZC5wYXJ0aWNpcGFudCAmJiB1cGRhdGUucGFydGljaXBhbnQpIHtcbiAgICAgIGlmICh1cGRhdGUucGFydGljaXBhbnQucmV2aXNpb24gPiByZWR1Y2VkLnBhcnRpY2lwYW50LnJldmlzaW9uKSB7XG4gICAgICAgIHJlZHVjZWQucGFydGljaXBhbnQgPSB1cGRhdGUucGFydGljaXBhbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGhlbiwgcmVkdWNlIHRoZSB0b3AtbGV2ZWwgYHBlZXJfY29ubmVjdGlvbnNgIHByb3BlcnR5LlxuICAgIC8qIGVzbGludCBjYW1lbGNhc2U6MCAqL1xuICAgIGlmICghcmVkdWNlZC5wZWVyX2Nvbm5lY3Rpb25zICYmIHVwZGF0ZS5wZWVyX2Nvbm5lY3Rpb25zKSB7XG4gICAgICByZWR1Y2VkLnBlZXJfY29ubmVjdGlvbnMgPSByZWR1Y2VQZWVyQ29ubmVjdGlvbnModXBkYXRlLnBlZXJfY29ubmVjdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAocmVkdWNlZC5wZWVyX2Nvbm5lY3Rpb25zICYmIHVwZGF0ZS5wZWVyX2Nvbm5lY3Rpb25zKSB7XG4gICAgICByZWR1Y2VkLnBlZXJfY29ubmVjdGlvbnMgPSByZWR1Y2VQZWVyQ29ubmVjdGlvbnMocmVkdWNlZC5wZWVyX2Nvbm5lY3Rpb25zLmNvbmNhdCh1cGRhdGUucGVlcl9jb25uZWN0aW9ucykpO1xuICAgIH1cblxuICAgIHJldHVybiByZWR1Y2VkO1xuICB9LCB7XG4gICAgdHlwZTogJ3VwZGF0ZScsXG4gICAgdmVyc2lvbjogUlNQX1ZFUlNJT05cbiAgfSk7XG59XG5cbi8qKlxuICogUGFyc2UgdGhlIGJvZHkgb2YgYSBTSVAgaW5jb21pbmcgcmVxdWVzdCBvciByZXNwb25zZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXF1ZXN0T3JSZXNwb25zZVxuICogQHJldHVybnMgez9vYmplY3R9XG4gKiBAdGhyb3dzIHtTaWduYWxpbmdJbmNvbWluZ01lc3NhZ2VJbnZhbGlkRXJyb3J9XG4gKi9cbmZ1bmN0aW9uIHBhcnNlUmVxdWVzdE9yUmVzcG9uc2VCb2R5KHJlcXVlc3RPclJlc3BvbnNlKSB7XG4gIGlmIChyZXF1ZXN0T3JSZXNwb25zZS5ib2R5KSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKHJlcXVlc3RPclJlc3BvbnNlLmJvZHkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IG5ldyBTaWduYWxpbmdJbmNvbWluZ01lc3NhZ2VJbnZhbGlkRXJyb3IoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogR2V0IGEge0BsaW5rIFR3aWxpb0Vycm9yfSBmb3IgYSBTSVAgaW5jb21pbmcgcmVxdWVzdCBvciByZXNwb25zZSBmcm9tIGl0cyBib2R5LlxuICogQHBhcmFtIHtvYmplY3R9IHJlcXVlc3RPclJlc3BvbnNlXG4gKiBAcmV0dXJucyB7P1R3aWxpb0Vycm9yfVxuICovXG5mdW5jdGlvbiBnZXRUd2lsaW9FcnJvckZyb21SZXF1ZXN0T3JSZXNwb25zZUJvZHkocmVxdWVzdE9yUmVzcG9uc2UpIHtcbiAgdHJ5IHtcbiAgICB2YXIgbWVzc2FnZSA9IHBhcnNlUmVxdWVzdE9yUmVzcG9uc2VCb2R5KHJlcXVlc3RPclJlc3BvbnNlKTtcbiAgICBpZiAobWVzc2FnZSkge1xuICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnZGlzY29ubmVjdGVkJzpcbiAgICAgICAgICBpZiAobWVzc2FnZS5zdGF0dXMgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJvb21Db21wbGV0ZWRFcnJvcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICAgIHJldHVybiBjcmVhdGVUd2lsaW9FcnJvcihtZXNzYWdlLmNvZGUsIG1lc3NhZ2UubWVzc2FnZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBhIHtAbGluayBUd2lsaW9FcnJvcn0gZm9yIGEgU0lQIGluY29taW5nIHJlcXVlc3Qgb3IgcmVzcG9uc2UgZnJvbSBpdHMgaGVhZGVycy5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXF1ZXN0T3JSZXNwb25zZVxuICogQHJldHVybnMgez9Ud2lsaW9FcnJvcn1cbiAqL1xuZnVuY3Rpb24gZ2V0VHdpbGlvRXJyb3JGcm9tUmVxdWVzdE9yUmVzcG9uc2VIZWFkZXJzKHJlcXVlc3RPclJlc3BvbnNlKSB7XG4gIHZhciBoZWFkZXJzID0gcmVxdWVzdE9yUmVzcG9uc2UuaGVhZGVycztcbiAgaWYgKGhlYWRlcnMgJiYgaGVhZGVyc1snWC1Ud2lsaW8tRXJyb3InXSkge1xuICAgIHZhciB0d2lsaW9FcnJvckhlYWRlciA9IGhlYWRlcnNbJ1gtVHdpbGlvLUVycm9yJ11bMF0ucmF3LnNwbGl0KCcgJyk7XG4gICAgdmFyIGNvZGUgPSBwYXJzZUludCh0d2lsaW9FcnJvckhlYWRlclswXSwgMTApO1xuICAgIHZhciBtZXNzYWdlID0gdHdpbGlvRXJyb3JIZWFkZXIuc2xpY2UoMSkuam9pbignICcpO1xuICAgIHJldHVybiBjcmVhdGVUd2lsaW9FcnJvcihjb2RlLCBtZXNzYWdlKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSB7QGxpbmsgVHdpbGlvRXJyb3J9IGZyb20gYSBTSVAgcmVxdWVzdCBvciByZXNwb25zZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXF1ZXN0T3JSZXNwb25zZSAtIFNJUCByZXF1ZXN0IG9yIHJlc3BvbnNlXG4gKiBAcmV0dXJucyB7P1R3aWxpb0Vycm9yfVxuICovXG5mdW5jdGlvbiBnZXRUd2lsaW9FcnJvckZyb21SZXF1ZXN0T3JSZXNwb25zZShyZXF1ZXN0T3JSZXNwb25zZSkge1xuICByZXR1cm4gZ2V0VHdpbGlvRXJyb3JGcm9tUmVxdWVzdE9yUmVzcG9uc2VIZWFkZXJzKHJlcXVlc3RPclJlc3BvbnNlKSB8fCBnZXRUd2lsaW9FcnJvckZyb21SZXF1ZXN0T3JSZXNwb25zZUJvZHkocmVxdWVzdE9yUmVzcG9uc2UpO1xufVxuXG5mdW5jdGlvbiBzZXR1cEV2ZW50TGlzdGVuZXJzKHRyYW5zcG9ydCwgc2Vzc2lvbiwgdWEpIHtcbiAgZnVuY3Rpb24gZGlzY29ubmVjdChyZXF1ZXN0T3JSZXNwb25zZSwgY2F1c2UpIHtcbiAgICB2YXIgdHdpbGlvRXJyb3IgPSB2b2lkIDA7XG5cbiAgICBpZiAocmVxdWVzdE9yUmVzcG9uc2UgJiYgIShyZXF1ZXN0T3JSZXNwb25zZSBpbnN0YW5jZW9mIFNJUC5PdXRnb2luZ1JlcXVlc3QpKSB7XG4gICAgICB0d2lsaW9FcnJvciA9IGdldFR3aWxpb0Vycm9yRnJvbVJlcXVlc3RPclJlc3BvbnNlKHJlcXVlc3RPclJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICBpZiAoIXR3aWxpb0Vycm9yKSB7XG4gICAgICBzd2l0Y2ggKGNhdXNlKSB7XG4gICAgICAgIGNhc2UgU0lQLkMuY2F1c2VzLlJFUVVFU1RfVElNRU9VVDpcbiAgICAgICAgICB0d2lsaW9FcnJvciA9IG5ldyBTaWduYWxpbmdDb25uZWN0aW9uVGltZW91dEVycm9yKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgU0lQLkMuY2F1c2VzLkNPTk5FQ1RJT05fRVJST1I6XG4gICAgICAgICAgdHdpbGlvRXJyb3IgPSBuZXcgU2lnbmFsaW5nQ29ubmVjdGlvbkVycm9yKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdHdpbGlvRXJyb3IgPSBuZXcgU2lnbmFsaW5nQ29ubmVjdGlvbkRpc2Nvbm5lY3RlZEVycm9yKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJhbnNwb3J0LmRpc2Nvbm5lY3QodHdpbGlvRXJyb3IpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUmVxdWVzdE9yUmVzcG9uc2UocmVxdWVzdE9yUmVzcG9uc2UpIHtcbiAgICAvLyBXZSBkb24ndCBuZWVkIHRvIGhhbmRsZSByZXF1ZXN0cyB3ZSBzZW50IG91cnNlbHZlcy5cbiAgICBpZiAocmVxdWVzdE9yUmVzcG9uc2UgaW5zdGFuY2VvZiBTSVAuT3V0Z29pbmdSZXF1ZXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGFueSBlcnJvcnMgZmlyc3QuXG4gICAgdmFyIGVycm9yID0gdm9pZCAwO1xuICAgIHRyeSB7XG4gICAgICBlcnJvciA9IGdldFR3aWxpb0Vycm9yRnJvbVJlcXVlc3RPclJlc3BvbnNlKHJlcXVlc3RPclJlc3BvbnNlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIFNpZ25hbGluZ0luY29taW5nTWVzc2FnZUludmFsaWRFcnJvcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlcnJvciA9IGU7XG4gICAgfVxuXG4gICAgLy8gSWYgd2UgZ2V0IGFuIGVycm9yIG90aGVyIHRoYW4gYSBTaWduYWxpbmdJbmNvbWluZ01lc3NhZ2VJbnZhbGlkRXJyb3IsXG4gICAgLy8gdGhlbiBkaXNjb25uZWN0LlxuICAgIGlmIChlcnJvcikge1xuICAgICAgdHJhbnNwb3J0LmRpc2Nvbm5lY3QoZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE90aGVyd2lzZSwgdHJ5IHRvIHBhcnNlIHRoZSBSU1AgbWVzc2FnZS5cbiAgICB2YXIgbWVzc2FnZSA9IHZvaWQgMDtcbiAgICB0cnkge1xuICAgICAgbWVzc2FnZSA9IHBhcnNlUmVxdWVzdE9yUmVzcG9uc2VCb2R5KHJlcXVlc3RPclJlc3BvbnNlKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIC8vIERvIG5vdGhpbmcuXG5cblxuICAgIC8vIElmIHRoZXJlJ3Mgbm8gUlNQIG1lc3NhZ2UgdG8gaGFuZGxlLCBqdXN0IHJldHVybi5cbiAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRyYW5zcG9ydC5zdGF0ZSkge1xuICAgICAgY2FzZSAnY29ubmVjdGVkJzpcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAgIGNhc2UgJ3N5bmNlZCc6XG4gICAgICAgICAgY2FzZSAndXBkYXRlJzpcbiAgICAgICAgICAgIHRyYW5zcG9ydC5lbWl0KCdtZXNzYWdlJywgbWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY2FzZSAnZGlzY29ubmVjdGVkJzpcbiAgICAgICAgICAgIHRyYW5zcG9ydC5kaXNjb25uZWN0KG1lc3NhZ2Uuc3RhdHVzID09PSAnY29tcGxldGVkJyA/IG5ldyBSb29tQ29tcGxldGVkRXJyb3IoKSA6IG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nLlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjYXNlICdjb25uZWN0aW5nJzpcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAgICAgdHJhbnNwb3J0LmVtaXQoJ2Nvbm5lY3RlZCcsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgdHJhbnNwb3J0LnByZWVtcHQoJ2Nvbm5lY3RlZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNhc2UgJ3N5bmNlZCc6XG4gICAgICAgICAgY2FzZSAndXBkYXRlJzpcbiAgICAgICAgICAgIHRyYW5zcG9ydC5fdXBkYXRlc1JlY2VpdmVkLnB1c2gobWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY2FzZSAnZGlzY29ubmVjdGVkJzpcbiAgICAgICAgICAgIHRyYW5zcG9ydC5kaXNjb25uZWN0KG1lc3NhZ2Uuc3RhdHVzID09PSAnY29tcGxldGVkJyA/IG5ldyBSb29tQ29tcGxldGVkRXJyb3IoKSA6IG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nLlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjYXNlICdkaXNjb25uZWN0ZWQnOlxuICAgICAgICAvLyBEbyBub3RoaW5nLlxuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlICdzeW5jaW5nJzpcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAgIGNhc2UgJ3VwZGF0ZSc6XG4gICAgICAgICAgICB0cmFuc3BvcnQuX3VwZGF0ZXNSZWNlaXZlZC5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNhc2UgJ3N5bmNlZCc6XG4gICAgICAgICAgICB0cmFuc3BvcnQuZW1pdCgnbWVzc2FnZScsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgdHJhbnNwb3J0LnByZWVtcHQoJ2Nvbm5lY3RlZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNhc2UgJ2Rpc2Nvbm5lY3RlZCc6XG4gICAgICAgICAgICB0cmFuc3BvcnQuZGlzY29ubmVjdChtZXNzYWdlLnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgPyBuZXcgUm9vbUNvbXBsZXRlZEVycm9yKCkgOiBudWxsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gRG8gbm90aGluZy5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gSW1wb3NzaWJsZVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgc2Vzc2lvbi5vbignaW5mbycsIGhhbmRsZVJlcXVlc3RPclJlc3BvbnNlKTtcbiAgc2Vzc2lvbi5vbmNlKCdieWUnLCBkaXNjb25uZWN0KTtcblxuICBzZXNzaW9uLm9uY2UoJ2FjY2VwdGVkJywgaGFuZGxlUmVxdWVzdE9yUmVzcG9uc2UpO1xuICBzZXNzaW9uLm9uY2UoJ2ZhaWxlZCcsIGRpc2Nvbm5lY3QpO1xuXG4gIHRyYW5zcG9ydC5vbignc3RhdGVDaGFuZ2VkJywgZnVuY3Rpb24gc3RhdGVDaGFuZ2VkKHN0YXRlKSB7XG4gICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgY2FzZSAnY29ubmVjdGVkJzpcbiAgICAgICAge1xuICAgICAgICAgIHNlc3Npb24ucmVtb3ZlTGlzdGVuZXIoJ2FjY2VwdGVkJywgaGFuZGxlUmVxdWVzdE9yUmVzcG9uc2UpO1xuICAgICAgICAgIHNlc3Npb24ucmVtb3ZlTGlzdGVuZXIoJ2ZhaWxlZCcsIGRpc2Nvbm5lY3QpO1xuXG4gICAgICAgICAgdmFyIHVwZGF0ZXMgPSB0cmFuc3BvcnQuX3VwZGF0ZXNUb1NlbmQuc3BsaWNlKDApO1xuICAgICAgICAgIGlmICh1cGRhdGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdHJhbnNwb3J0LnB1Ymxpc2gocmVkdWNlVXBkYXRlcyh1cGRhdGVzKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdHJhbnNwb3J0Ll91cGRhdGVzUmVjZWl2ZWQuc3BsaWNlKDApLmZvckVhY2godHJhbnNwb3J0LmVtaXQuYmluZCh0cmFuc3BvcnQsICdtZXNzYWdlJykpO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjYXNlICdkaXNjb25uZWN0ZWQnOlxuICAgICAgICBzZXNzaW9uLnJlbW92ZUxpc3RlbmVyKCdhY2NlcHRlZCcsIGhhbmRsZVJlcXVlc3RPclJlc3BvbnNlKTtcbiAgICAgICAgc2Vzc2lvbi5yZW1vdmVMaXN0ZW5lcignZmFpbGVkJywgZGlzY29ubmVjdCk7XG4gICAgICAgIHNlc3Npb24ucmVtb3ZlTGlzdGVuZXIoJ2luZm8nLCBoYW5kbGVSZXF1ZXN0T3JSZXNwb25zZSk7XG4gICAgICAgIHNlc3Npb24ucmVtb3ZlTGlzdGVuZXIoJ2J5ZScsIGRpc2Nvbm5lY3QpO1xuICAgICAgICB0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoJ3N0YXRlQ2hhbmdlZCcsIHN0YXRlQ2hhbmdlZCk7XG4gICAgICAgIHVhLnN0b3AoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSAnc3luY2luZyc6XG4gICAgICAgIC8vIERvIG5vdGhpbmcuXG4gICAgICAgIHJldHVybjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIEltcG9zc2libGVcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSk7XG5cbiAgdWEub25jZSgnZGlzY29ubmVjdGVkJywgZGlzY29ubmVjdCk7XG4gIHVhLm9uY2UoJ2tlZXBBbGl2ZVRpbWVvdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRyYW5zcG9ydC5kaXNjb25uZWN0KG5ldyBTaWduYWxpbmdDb25uZWN0aW9uVGltZW91dEVycm9yKCkpO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBUcmFuc3BvcnQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvdHJhbnNwb3J0LmpzXG4vLyBtb2R1bGUgaWQgPSAzMzhcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///338\n");

/***/ }),
/* 339 */
/*!***********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/insightspublisher/index.js ***!
  \***********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EventEmitter = __webpack_require__(/*! events */ 207).EventEmitter;\n\nvar _require = __webpack_require__(/*! .. */ 206),\n    getUserAgent = _require.getUserAgent;\n\nvar MAX_RECONNECT_ATTEMPTS = 5;\nvar RECONNECT_INTERVAL_MS = 50;\nvar WS_CLOSE_NORMAL = 1000;\n\nvar toplevel = global.window || global;\nvar WebSocket = toplevel.WebSocket ? toplevel.WebSocket : __webpack_require__(/*! ws */ 259);\n\n/**\n * Publish events to the Insights gateway.\n * @extends EventEmitter\n * @emits InsightsPublisher#connected\n * @emits InsightsPublisher#disconnected\n * @emits InsightsPublisher#reconnecting\n */\n\nvar InsightsPublisher = function (_EventEmitter) {\n  _inherits(InsightsPublisher, _EventEmitter);\n\n  /**\n   * @param {string} token - Insights gateway token\n   * @param {string} sdkName - Name of the SDK using the {@link InsightsPublisher}\n   * @param {string} sdkVersion - Version of the SDK using the {@link InsightsPublisher}\n   * @param {string} environment - One of 'dev', 'stage' or 'prod'\n   * @param {string} realm - Region identifier\n   * @param {InsightsPublisherOptions} options - Override default behavior\n   */\n  function InsightsPublisher(token, sdkName, sdkVersion, environment, realm, options) {\n    _classCallCheck(this, InsightsPublisher);\n\n    var _this = _possibleConstructorReturn(this, (InsightsPublisher.__proto__ || Object.getPrototypeOf(InsightsPublisher)).call(this));\n\n    options = Object.assign({\n      gateway: createGateway(environment, realm) + '/v1/VideoEvents',\n      maxReconnectAttempts: MAX_RECONNECT_ATTEMPTS,\n      reconnectIntervalMs: RECONNECT_INTERVAL_MS,\n      userAgent: getUserAgent(),\n      WebSocket: WebSocket\n    }, options);\n\n    Object.defineProperties(_this, {\n      _connectTimestamp: {\n        value: 0,\n        writable: true\n      },\n      _eventQueue: {\n        value: []\n      },\n      _reconnectAttemptsLeft: {\n        value: options.maxReconnectAttempts,\n        writable: true\n      },\n      _ws: {\n        value: null,\n        writable: true\n      },\n      _WebSocket: {\n        value: options.WebSocket\n      }\n    });\n\n    var self = _this;\n\n    _this.on('disconnected', function maybeReconnect(error) {\n      self._session = null;\n      if (error && self._reconnectAttemptsLeft > 0) {\n        self.emit('reconnecting');\n        reconnect(self, token, sdkName, sdkVersion, options);\n        return;\n      }\n      self.removeListener('disconnected', maybeReconnect);\n    });\n\n    connect(_this, token, sdkName, sdkVersion, options);\n    return _this;\n  }\n\n  /**\n   * Publish an event to the Insights gateway.\n   * @private\n   * @param {*} event\n   */\n\n\n  _createClass(InsightsPublisher, [{\n    key: '_publish',\n    value: function _publish(event) {\n      event.session = this._session;\n      this._ws.send(JSON.stringify(event));\n    }\n\n    /**\n     * Disconnect from the Insights gateway.\n     * @returns {boolean} true if called when connecting/open, false if not\n     */\n\n  }, {\n    key: 'disconnect',\n    value: function disconnect() {\n      if (this._ws.readyState === this._WebSocket.CLOSING || this._ws.readyState === this._WebSocket.CLOSED) {\n        return false;\n      }\n\n      try {\n        this._ws.close();\n      } catch (error) {\n        // Do nothing.\n      }\n      this.emit('disconnected');\n\n      return true;\n    }\n\n    /**\n     * Publish (or queue, if not connected) an event to the Insights gateway.\n     * @param {string} groupName - Event group name\n     * @param {string} eventName - Event name\n     * @param {object} payload - Event payload\n     * @returns {boolean} true if queued or published, false if disconnect() called\n     */\n\n  }, {\n    key: 'publish',\n    value: function publish(groupName, eventName, payload) {\n      if (this._ws.readyState === this._WebSocket.CLOSING || this._ws.readyState === this._WebSocket.CLOSED) {\n        return false;\n      }\n\n      var publishOrEnqueue = typeof this._session === 'string' ? this._publish.bind(this) : this._eventQueue.push.bind(this._eventQueue);\n\n      publishOrEnqueue({\n        group: groupName,\n        name: eventName,\n        payload: payload,\n        timestamp: Date.now(),\n        type: 'event',\n        version: 1\n      });\n\n      return true;\n    }\n  }]);\n\n  return InsightsPublisher;\n}(EventEmitter);\n\n/**\n * Start connecting to the Insights gateway.\n * @private\n * @param {InsightsPublisher} publisher\n * @param {string} name\n * @param {string} token\n * @param {string} sdkName\n * @param {string} sdkVersion\n * @param {InsightsPublisherOptions} options\n */\n\n\nfunction connect(publisher, token, sdkName, sdkVersion, options) {\n  publisher._connectTimestamp = Date.now();\n  publisher._reconnectAttemptsLeft--;\n  publisher._ws = new options.WebSocket(options.gateway);\n  var ws = publisher._ws;\n\n  ws.addEventListener('close', function (event) {\n    if (event.code === WS_CLOSE_NORMAL) {\n      publisher.emit('disconnected');\n      return;\n    }\n    publisher.emit('disconnected', new Error('WebSocket Error ' + event.code + ': ' + event.reason));\n  });\n\n  ws.addEventListener('message', function (message) {\n    handleConnectResponse(publisher, JSON.parse(message.data), options);\n  });\n\n  ws.addEventListener('open', function () {\n    var connectRequest = {\n      type: 'connect',\n      token: token,\n      version: 1\n    };\n\n    connectRequest.publisher = {\n      name: sdkName,\n      sdkVersion: sdkVersion,\n      userAgent: options.userAgent\n    };\n\n    ws.send(JSON.stringify(connectRequest));\n  });\n}\n\n/**\n * Create the Insights Websocket gateway URL.\n * @param {string} environment\n * @param {string} realm\n * @returns {string}\n */\nfunction createGateway(environment, realm) {\n  return environment === 'prod' ? 'wss://sdkgw.' + realm + '.twilio.com' : 'wss://sdkgw.' + environment + '-' + realm + '.twilio.com';\n}\n\n/**\n * Handle connect response from the Insights gateway.\n * @param {InsightsPublisher} publisher\n * @param {*} response\n * @param {InsightsPublisherOptions} options\n */\nfunction handleConnectResponse(publisher, response, options) {\n  switch (response.type) {\n    case 'connected':\n      publisher._session = response.session;\n      publisher._reconnectAttemptsLeft = options.maxReconnectAttempts;\n      publisher._eventQueue.splice(0).forEach(publisher._publish, publisher);\n      publisher.emit('connected');\n      break;\n    case 'error':\n      publisher._ws.close();\n      publisher.emit('disconnected', new Error(response.message));\n      break;\n  }\n}\n\n/**\n * Start re-connecting to the Insights gateway with an appropriate delay based\n * on InsightsPublisherOptions#reconnectIntervalMs.\n * @private\n * @param {InsightsPublisher} publisher\n * @param {string} token\n * @param {string} sdkName\n * @param {string} sdkVersion\n * @param {InsightsPublisherOptions} options\n */\nfunction reconnect(publisher, token, sdkName, sdkVersion, options) {\n  var connectInterval = Date.now() - publisher._connectTimestamp;\n  var timeToWait = options.reconnectIntervalMs - connectInterval;\n\n  if (timeToWait > 0) {\n    setTimeout(function () {\n      connect(publisher, token, sdkName, sdkVersion, options);\n    }, timeToWait);\n    return;\n  }\n\n  connect(publisher, token, sdkName, sdkVersion, options);\n}\n\n/**\n * The {@link InsightsPublisher} is connected to the gateway.\n * @event InsightsPublisher#connected\n */\n\n/**\n * The {@link InsightsPublisher} is disconnected from the gateway.\n * @event InsightsPublisher#disconnected\n * @param {Error} [error] - Optional error if disconnected unintentionally\n */\n\n/**\n * The {@link InsightsPublisher} is re-connecting to the gateway.\n * @event InsightsPublisher#reconnecting\n */\n\n/**\n * {@link InsightsPublisher} options.\n * @typedef {object} InsightsPublisherOptions\n * @property {string} [gateway=sdkgw.{environment}-{realm}.twilio.com] - Insights WebSocket gateway url\n * @property {number} [maxReconnectAttempts=5] - Max re-connect attempts\n * @property {number} [reconnectIntervalMs=50] - Re-connect interval in ms\n */\n\nmodule.exports = InsightsPublisher;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../../../../webpack/buildin/global.js */ 141)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL2luc2lnaHRzcHVibGlzaGVyL2luZGV4LmpzP2UzMGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsOENBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUsbUJBQW1CLG1CQUFPLENBQUMsaUJBQVE7O0FBRW5DLGVBQWUsbUJBQU8sQ0FBQyxhQUFJO0FBQzNCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBEQUEwRCxtQkFBTyxDQUFDLGFBQUk7O0FBRXRFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPLHNDQUFzQztBQUMxRCxhQUFhLE9BQU8sNENBQTRDO0FBQ2hFLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEIsYUFBYSx5QkFBeUI7QUFDdEM7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsRUFBRTtBQUNmOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixRQUFRO0FBQ3pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixlQUFlLE9BQU87QUFDdEIsZUFBZSxPQUFPO0FBQ3RCLGlCQUFpQixRQUFRO0FBQ3pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrQkFBa0I7QUFDN0IsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcseUJBQXlCO0FBQ3BDOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGtCQUFrQjtBQUM3QixXQUFXLEVBQUU7QUFDYixXQUFXLHlCQUF5QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGtCQUFrQjtBQUM3QixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLHlCQUF5QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsUUFBUSx3QkFBd0I7QUFDaEM7QUFDQTs7QUFFQTtBQUNBLFFBQVEsd0JBQXdCO0FBQ2hDO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCOztBQUVBO0FBQ0EsUUFBUSx3QkFBd0I7QUFDaEM7QUFDQTs7QUFFQTtBQUNBLElBQUksd0JBQXdCO0FBQzVCLGFBQWEsT0FBTztBQUNwQixjQUFjLE9BQU8saUJBQWlCLFlBQVksRUFBRSxNQUFNO0FBQzFELGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUEsbUMiLCJmaWxlIjoiMzM5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4uJyksXG4gICAgZ2V0VXNlckFnZW50ID0gX3JlcXVpcmUuZ2V0VXNlckFnZW50O1xuXG52YXIgTUFYX1JFQ09OTkVDVF9BVFRFTVBUUyA9IDU7XG52YXIgUkVDT05ORUNUX0lOVEVSVkFMX01TID0gNTA7XG52YXIgV1NfQ0xPU0VfTk9STUFMID0gMTAwMDtcblxudmFyIHRvcGxldmVsID0gZ2xvYmFsLndpbmRvdyB8fCBnbG9iYWw7XG52YXIgV2ViU29ja2V0ID0gdG9wbGV2ZWwuV2ViU29ja2V0ID8gdG9wbGV2ZWwuV2ViU29ja2V0IDogcmVxdWlyZSgnd3MnKTtcblxuLyoqXG4gKiBQdWJsaXNoIGV2ZW50cyB0byB0aGUgSW5zaWdodHMgZ2F0ZXdheS5cbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICogQGVtaXRzIEluc2lnaHRzUHVibGlzaGVyI2Nvbm5lY3RlZFxuICogQGVtaXRzIEluc2lnaHRzUHVibGlzaGVyI2Rpc2Nvbm5lY3RlZFxuICogQGVtaXRzIEluc2lnaHRzUHVibGlzaGVyI3JlY29ubmVjdGluZ1xuICovXG5cbnZhciBJbnNpZ2h0c1B1Ymxpc2hlciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gIF9pbmhlcml0cyhJbnNpZ2h0c1B1Ymxpc2hlciwgX0V2ZW50RW1pdHRlcik7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b2tlbiAtIEluc2lnaHRzIGdhdGV3YXkgdG9rZW5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHNka05hbWUgLSBOYW1lIG9mIHRoZSBTREsgdXNpbmcgdGhlIHtAbGluayBJbnNpZ2h0c1B1Ymxpc2hlcn1cbiAgICogQHBhcmFtIHtzdHJpbmd9IHNka1ZlcnNpb24gLSBWZXJzaW9uIG9mIHRoZSBTREsgdXNpbmcgdGhlIHtAbGluayBJbnNpZ2h0c1B1Ymxpc2hlcn1cbiAgICogQHBhcmFtIHtzdHJpbmd9IGVudmlyb25tZW50IC0gT25lIG9mICdkZXYnLCAnc3RhZ2UnIG9yICdwcm9kJ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVhbG0gLSBSZWdpb24gaWRlbnRpZmllclxuICAgKiBAcGFyYW0ge0luc2lnaHRzUHVibGlzaGVyT3B0aW9uc30gb3B0aW9ucyAtIE92ZXJyaWRlIGRlZmF1bHQgYmVoYXZpb3JcbiAgICovXG4gIGZ1bmN0aW9uIEluc2lnaHRzUHVibGlzaGVyKHRva2VuLCBzZGtOYW1lLCBzZGtWZXJzaW9uLCBlbnZpcm9ubWVudCwgcmVhbG0sIG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5zaWdodHNQdWJsaXNoZXIpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEluc2lnaHRzUHVibGlzaGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSW5zaWdodHNQdWJsaXNoZXIpKS5jYWxsKHRoaXMpKTtcblxuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIGdhdGV3YXk6IGNyZWF0ZUdhdGV3YXkoZW52aXJvbm1lbnQsIHJlYWxtKSArICcvdjEvVmlkZW9FdmVudHMnLFxuICAgICAgbWF4UmVjb25uZWN0QXR0ZW1wdHM6IE1BWF9SRUNPTk5FQ1RfQVRURU1QVFMsXG4gICAgICByZWNvbm5lY3RJbnRlcnZhbE1zOiBSRUNPTk5FQ1RfSU5URVJWQUxfTVMsXG4gICAgICB1c2VyQWdlbnQ6IGdldFVzZXJBZ2VudCgpLFxuICAgICAgV2ViU29ja2V0OiBXZWJTb2NrZXRcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBfY29ubmVjdFRpbWVzdGFtcDoge1xuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBfZXZlbnRRdWV1ZToge1xuICAgICAgICB2YWx1ZTogW11cbiAgICAgIH0sXG4gICAgICBfcmVjb25uZWN0QXR0ZW1wdHNMZWZ0OiB7XG4gICAgICAgIHZhbHVlOiBvcHRpb25zLm1heFJlY29ubmVjdEF0dGVtcHRzLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIF93czoge1xuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0sXG4gICAgICBfV2ViU29ja2V0OiB7XG4gICAgICAgIHZhbHVlOiBvcHRpb25zLldlYlNvY2tldFxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHNlbGYgPSBfdGhpcztcblxuICAgIF90aGlzLm9uKCdkaXNjb25uZWN0ZWQnLCBmdW5jdGlvbiBtYXliZVJlY29ubmVjdChlcnJvcikge1xuICAgICAgc2VsZi5fc2Vzc2lvbiA9IG51bGw7XG4gICAgICBpZiAoZXJyb3IgJiYgc2VsZi5fcmVjb25uZWN0QXR0ZW1wdHNMZWZ0ID4gMCkge1xuICAgICAgICBzZWxmLmVtaXQoJ3JlY29ubmVjdGluZycpO1xuICAgICAgICByZWNvbm5lY3Qoc2VsZiwgdG9rZW4sIHNka05hbWUsIHNka1ZlcnNpb24sIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKCdkaXNjb25uZWN0ZWQnLCBtYXliZVJlY29ubmVjdCk7XG4gICAgfSk7XG5cbiAgICBjb25uZWN0KF90aGlzLCB0b2tlbiwgc2RrTmFtZSwgc2RrVmVyc2lvbiwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1Ymxpc2ggYW4gZXZlbnQgdG8gdGhlIEluc2lnaHRzIGdhdGV3YXkuXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gZXZlbnRcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoSW5zaWdodHNQdWJsaXNoZXIsIFt7XG4gICAga2V5OiAnX3B1Ymxpc2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcHVibGlzaChldmVudCkge1xuICAgICAgZXZlbnQuc2Vzc2lvbiA9IHRoaXMuX3Nlc3Npb247XG4gICAgICB0aGlzLl93cy5zZW5kKEpTT04uc3RyaW5naWZ5KGV2ZW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdCBmcm9tIHRoZSBJbnNpZ2h0cyBnYXRld2F5LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGNhbGxlZCB3aGVuIGNvbm5lY3Rpbmcvb3BlbiwgZmFsc2UgaWYgbm90XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2Rpc2Nvbm5lY3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNjb25uZWN0KCkge1xuICAgICAgaWYgKHRoaXMuX3dzLnJlYWR5U3RhdGUgPT09IHRoaXMuX1dlYlNvY2tldC5DTE9TSU5HIHx8IHRoaXMuX3dzLnJlYWR5U3RhdGUgPT09IHRoaXMuX1dlYlNvY2tldC5DTE9TRUQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLl93cy5jbG9zZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gRG8gbm90aGluZy5cbiAgICAgIH1cbiAgICAgIHRoaXMuZW1pdCgnZGlzY29ubmVjdGVkJyk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1Ymxpc2ggKG9yIHF1ZXVlLCBpZiBub3QgY29ubmVjdGVkKSBhbiBldmVudCB0byB0aGUgSW5zaWdodHMgZ2F0ZXdheS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZ3JvdXBOYW1lIC0gRXZlbnQgZ3JvdXAgbmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBFdmVudCBuYW1lXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHBheWxvYWQgLSBFdmVudCBwYXlsb2FkXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgcXVldWVkIG9yIHB1Ymxpc2hlZCwgZmFsc2UgaWYgZGlzY29ubmVjdCgpIGNhbGxlZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdwdWJsaXNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHVibGlzaChncm91cE5hbWUsIGV2ZW50TmFtZSwgcGF5bG9hZCkge1xuICAgICAgaWYgKHRoaXMuX3dzLnJlYWR5U3RhdGUgPT09IHRoaXMuX1dlYlNvY2tldC5DTE9TSU5HIHx8IHRoaXMuX3dzLnJlYWR5U3RhdGUgPT09IHRoaXMuX1dlYlNvY2tldC5DTE9TRUQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHVibGlzaE9yRW5xdWV1ZSA9IHR5cGVvZiB0aGlzLl9zZXNzaW9uID09PSAnc3RyaW5nJyA/IHRoaXMuX3B1Ymxpc2guYmluZCh0aGlzKSA6IHRoaXMuX2V2ZW50UXVldWUucHVzaC5iaW5kKHRoaXMuX2V2ZW50UXVldWUpO1xuXG4gICAgICBwdWJsaXNoT3JFbnF1ZXVlKHtcbiAgICAgICAgZ3JvdXA6IGdyb3VwTmFtZSxcbiAgICAgICAgbmFtZTogZXZlbnROYW1lLFxuICAgICAgICBwYXlsb2FkOiBwYXlsb2FkLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIHR5cGU6ICdldmVudCcsXG4gICAgICAgIHZlcnNpb246IDFcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSW5zaWdodHNQdWJsaXNoZXI7XG59KEV2ZW50RW1pdHRlcik7XG5cbi8qKlxuICogU3RhcnQgY29ubmVjdGluZyB0byB0aGUgSW5zaWdodHMgZ2F0ZXdheS5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0luc2lnaHRzUHVibGlzaGVyfSBwdWJsaXNoZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9rZW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZGtOYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gc2RrVmVyc2lvblxuICogQHBhcmFtIHtJbnNpZ2h0c1B1Ymxpc2hlck9wdGlvbnN9IG9wdGlvbnNcbiAqL1xuXG5cbmZ1bmN0aW9uIGNvbm5lY3QocHVibGlzaGVyLCB0b2tlbiwgc2RrTmFtZSwgc2RrVmVyc2lvbiwgb3B0aW9ucykge1xuICBwdWJsaXNoZXIuX2Nvbm5lY3RUaW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICBwdWJsaXNoZXIuX3JlY29ubmVjdEF0dGVtcHRzTGVmdC0tO1xuICBwdWJsaXNoZXIuX3dzID0gbmV3IG9wdGlvbnMuV2ViU29ja2V0KG9wdGlvbnMuZ2F0ZXdheSk7XG4gIHZhciB3cyA9IHB1Ymxpc2hlci5fd3M7XG5cbiAgd3MuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuY29kZSA9PT0gV1NfQ0xPU0VfTk9STUFMKSB7XG4gICAgICBwdWJsaXNoZXIuZW1pdCgnZGlzY29ubmVjdGVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHB1Ymxpc2hlci5lbWl0KCdkaXNjb25uZWN0ZWQnLCBuZXcgRXJyb3IoJ1dlYlNvY2tldCBFcnJvciAnICsgZXZlbnQuY29kZSArICc6ICcgKyBldmVudC5yZWFzb24pKTtcbiAgfSk7XG5cbiAgd3MuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgaGFuZGxlQ29ubmVjdFJlc3BvbnNlKHB1Ymxpc2hlciwgSlNPTi5wYXJzZShtZXNzYWdlLmRhdGEpLCBvcHRpb25zKTtcbiAgfSk7XG5cbiAgd3MuYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY29ubmVjdFJlcXVlc3QgPSB7XG4gICAgICB0eXBlOiAnY29ubmVjdCcsXG4gICAgICB0b2tlbjogdG9rZW4sXG4gICAgICB2ZXJzaW9uOiAxXG4gICAgfTtcblxuICAgIGNvbm5lY3RSZXF1ZXN0LnB1Ymxpc2hlciA9IHtcbiAgICAgIG5hbWU6IHNka05hbWUsXG4gICAgICBzZGtWZXJzaW9uOiBzZGtWZXJzaW9uLFxuICAgICAgdXNlckFnZW50OiBvcHRpb25zLnVzZXJBZ2VudFxuICAgIH07XG5cbiAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KGNvbm5lY3RSZXF1ZXN0KSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZSB0aGUgSW5zaWdodHMgV2Vic29ja2V0IGdhdGV3YXkgVVJMLlxuICogQHBhcmFtIHtzdHJpbmd9IGVudmlyb25tZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gcmVhbG1cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUdhdGV3YXkoZW52aXJvbm1lbnQsIHJlYWxtKSB7XG4gIHJldHVybiBlbnZpcm9ubWVudCA9PT0gJ3Byb2QnID8gJ3dzczovL3Nka2d3LicgKyByZWFsbSArICcudHdpbGlvLmNvbScgOiAnd3NzOi8vc2RrZ3cuJyArIGVudmlyb25tZW50ICsgJy0nICsgcmVhbG0gKyAnLnR3aWxpby5jb20nO1xufVxuXG4vKipcbiAqIEhhbmRsZSBjb25uZWN0IHJlc3BvbnNlIGZyb20gdGhlIEluc2lnaHRzIGdhdGV3YXkuXG4gKiBAcGFyYW0ge0luc2lnaHRzUHVibGlzaGVyfSBwdWJsaXNoZXJcbiAqIEBwYXJhbSB7Kn0gcmVzcG9uc2VcbiAqIEBwYXJhbSB7SW5zaWdodHNQdWJsaXNoZXJPcHRpb25zfSBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZUNvbm5lY3RSZXNwb25zZShwdWJsaXNoZXIsIHJlc3BvbnNlLCBvcHRpb25zKSB7XG4gIHN3aXRjaCAocmVzcG9uc2UudHlwZSkge1xuICAgIGNhc2UgJ2Nvbm5lY3RlZCc6XG4gICAgICBwdWJsaXNoZXIuX3Nlc3Npb24gPSByZXNwb25zZS5zZXNzaW9uO1xuICAgICAgcHVibGlzaGVyLl9yZWNvbm5lY3RBdHRlbXB0c0xlZnQgPSBvcHRpb25zLm1heFJlY29ubmVjdEF0dGVtcHRzO1xuICAgICAgcHVibGlzaGVyLl9ldmVudFF1ZXVlLnNwbGljZSgwKS5mb3JFYWNoKHB1Ymxpc2hlci5fcHVibGlzaCwgcHVibGlzaGVyKTtcbiAgICAgIHB1Ymxpc2hlci5lbWl0KCdjb25uZWN0ZWQnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgIHB1Ymxpc2hlci5fd3MuY2xvc2UoKTtcbiAgICAgIHB1Ymxpc2hlci5lbWl0KCdkaXNjb25uZWN0ZWQnLCBuZXcgRXJyb3IocmVzcG9uc2UubWVzc2FnZSkpO1xuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuLyoqXG4gKiBTdGFydCByZS1jb25uZWN0aW5nIHRvIHRoZSBJbnNpZ2h0cyBnYXRld2F5IHdpdGggYW4gYXBwcm9wcmlhdGUgZGVsYXkgYmFzZWRcbiAqIG9uIEluc2lnaHRzUHVibGlzaGVyT3B0aW9ucyNyZWNvbm5lY3RJbnRlcnZhbE1zLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7SW5zaWdodHNQdWJsaXNoZXJ9IHB1Ymxpc2hlclxuICogQHBhcmFtIHtzdHJpbmd9IHRva2VuXG4gKiBAcGFyYW0ge3N0cmluZ30gc2RrTmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IHNka1ZlcnNpb25cbiAqIEBwYXJhbSB7SW5zaWdodHNQdWJsaXNoZXJPcHRpb25zfSBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIHJlY29ubmVjdChwdWJsaXNoZXIsIHRva2VuLCBzZGtOYW1lLCBzZGtWZXJzaW9uLCBvcHRpb25zKSB7XG4gIHZhciBjb25uZWN0SW50ZXJ2YWwgPSBEYXRlLm5vdygpIC0gcHVibGlzaGVyLl9jb25uZWN0VGltZXN0YW1wO1xuICB2YXIgdGltZVRvV2FpdCA9IG9wdGlvbnMucmVjb25uZWN0SW50ZXJ2YWxNcyAtIGNvbm5lY3RJbnRlcnZhbDtcblxuICBpZiAodGltZVRvV2FpdCA+IDApIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbm5lY3QocHVibGlzaGVyLCB0b2tlbiwgc2RrTmFtZSwgc2RrVmVyc2lvbiwgb3B0aW9ucyk7XG4gICAgfSwgdGltZVRvV2FpdCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29ubmVjdChwdWJsaXNoZXIsIHRva2VuLCBzZGtOYW1lLCBzZGtWZXJzaW9uLCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBUaGUge0BsaW5rIEluc2lnaHRzUHVibGlzaGVyfSBpcyBjb25uZWN0ZWQgdG8gdGhlIGdhdGV3YXkuXG4gKiBAZXZlbnQgSW5zaWdodHNQdWJsaXNoZXIjY29ubmVjdGVkXG4gKi9cblxuLyoqXG4gKiBUaGUge0BsaW5rIEluc2lnaHRzUHVibGlzaGVyfSBpcyBkaXNjb25uZWN0ZWQgZnJvbSB0aGUgZ2F0ZXdheS5cbiAqIEBldmVudCBJbnNpZ2h0c1B1Ymxpc2hlciNkaXNjb25uZWN0ZWRcbiAqIEBwYXJhbSB7RXJyb3J9IFtlcnJvcl0gLSBPcHRpb25hbCBlcnJvciBpZiBkaXNjb25uZWN0ZWQgdW5pbnRlbnRpb25hbGx5XG4gKi9cblxuLyoqXG4gKiBUaGUge0BsaW5rIEluc2lnaHRzUHVibGlzaGVyfSBpcyByZS1jb25uZWN0aW5nIHRvIHRoZSBnYXRld2F5LlxuICogQGV2ZW50IEluc2lnaHRzUHVibGlzaGVyI3JlY29ubmVjdGluZ1xuICovXG5cbi8qKlxuICoge0BsaW5rIEluc2lnaHRzUHVibGlzaGVyfSBvcHRpb25zLlxuICogQHR5cGVkZWYge29iamVjdH0gSW5zaWdodHNQdWJsaXNoZXJPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2dhdGV3YXk9c2RrZ3cue2Vudmlyb25tZW50fS17cmVhbG19LnR3aWxpby5jb21dIC0gSW5zaWdodHMgV2ViU29ja2V0IGdhdGV3YXkgdXJsXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFJlY29ubmVjdEF0dGVtcHRzPTVdIC0gTWF4IHJlLWNvbm5lY3QgYXR0ZW1wdHNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVjb25uZWN0SW50ZXJ2YWxNcz01MF0gLSBSZS1jb25uZWN0IGludGVydmFsIGluIG1zXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBJbnNpZ2h0c1B1Ymxpc2hlcjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3V0aWwvaW5zaWdodHNwdWJsaXNoZXIvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDMzOVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///339\n");

/***/ }),
/* 340 */
/*!**********************************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/insightspublisher/null.js ***!
  \**********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// TODO(mroberts): This should be described as implementing some\n// InsightsPublisher interface.\n\n\n/**\n * Null Insights publisher.\n */\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar InsightsPublisher = function () {\n  function InsightsPublisher() {\n    _classCallCheck(this, InsightsPublisher);\n\n    Object.defineProperties(this, {\n      _connected: {\n        writable: true,\n        value: true\n      }\n    });\n  }\n\n  /**\n   * Disconnect.\n   * @returns {boolean}\n   */\n\n\n  _createClass(InsightsPublisher, [{\n    key: 'disconnect',\n    value: function disconnect() {\n      if (this._connected) {\n        this._connected = false;\n        return true;\n      }\n      return false;\n    }\n\n    /**\n     * Publish.\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'publish',\n    value: function publish() {\n      return this._connected;\n    }\n  }]);\n\n  return InsightsPublisher;\n}();\n\nmodule.exports = InsightsPublisher;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL2luc2lnaHRzcHVibGlzaGVyL251bGwuanM/ZmMzNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ2E7O0FBRWI7QUFDQTtBQUNBOztBQUVBLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsZUFBZTtBQUNmOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIzNDAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUT0RPKG1yb2JlcnRzKTogVGhpcyBzaG91bGQgYmUgZGVzY3JpYmVkIGFzIGltcGxlbWVudGluZyBzb21lXG4vLyBJbnNpZ2h0c1B1Ymxpc2hlciBpbnRlcmZhY2UuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogTnVsbCBJbnNpZ2h0cyBwdWJsaXNoZXIuXG4gKi9cblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIEluc2lnaHRzUHVibGlzaGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBJbnNpZ2h0c1B1Ymxpc2hlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5zaWdodHNQdWJsaXNoZXIpO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuICAgICAgX2Nvbm5lY3RlZDoge1xuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoSW5zaWdodHNQdWJsaXNoZXIsIFt7XG4gICAga2V5OiAnZGlzY29ubmVjdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2Nvbm5lY3QoKSB7XG4gICAgICBpZiAodGhpcy5fY29ubmVjdGVkKSB7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdwdWJsaXNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHVibGlzaCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0ZWQ7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEluc2lnaHRzUHVibGlzaGVyO1xufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEluc2lnaHRzUHVibGlzaGVyO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3R3aWxpby12aWRlby9lczUvdXRpbC9pbnNpZ2h0c3B1Ymxpc2hlci9udWxsLmpzXG4vLyBtb2R1bGUgaWQgPSAzNDBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///340\n");

/***/ }),
/* 341 */
/*!******************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/Transport.js ***!
  \******************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview Transport\n */\n\n/**\n * @augments SIP\n * @class Transport\n * @param {SIP.UA} ua\n * @param {Object} server ws_server Object\n */\nmodule.exports = function (SIP, WebSocket) {\nvar Transport,\n  C = {\n    // Transport status codes\n    STATUS_READY:        0,\n    STATUS_DISCONNECTED: 1,\n    STATUS_ERROR:        2\n  };\n\n/**\n * Compute an amount of time in seconds to wait before sending another\n * keep-alive.\n * @returns {Number}\n */\nfunction computeKeepAliveTimeout(upperBound) {\n  var lowerBound = upperBound * 0.8;\n  return 1000 * (Math.random() * (upperBound - lowerBound) + lowerBound);\n}\n\nTransport = function(ua, server) {\n\n  this.logger = ua.getLogger('sip.transport');\n  this.ua = ua;\n  this.ws = null;\n  this.server = server;\n  this.reconnection_attempts = 0;\n  this.closed = false;\n  this.connected = false;\n  this.reconnectTimer = null;\n  this.lastTransportError = {};\n\n  this.keepAliveInterval = ua.configuration.keepAliveInterval;\n  this.keepAliveTimeout = null;\n  this.keepAliveTimer = null;\n\n  this.ua.transport = this;\n\n  // Connect\n  this.connect();\n};\n\nTransport.prototype = {\n  /**\n   * Send a message.\n   * @param {SIP.OutgoingRequest|String} msg\n   * @returns {Boolean}\n   */\n  send: function(msg) {\n    var message = msg.toString();\n\n    if(this.ws && this.ws.readyState === WebSocket.OPEN) {\n      if (this.ua.configuration.traceSip === true) {\n        this.logger.log('sending WebSocket message:\\n\\n' + message + '\\n');\n      }\n      this.ws.send(message);\n      return true;\n    } else {\n      this.logger.warn('unable to send message, WebSocket is not open');\n      return false;\n    }\n  },\n\n  /**\n   * Send a keep-alive (a double-CRLF sequence).\n   * @private\n   * @returns {Boolean}\n   */\n  sendKeepAlive: function() {\n    if(this.keepAliveTimeout) { return; }\n\n    this.keepAliveTimeout = SIP.Timers.setTimeout(function() {\n      this.ua.emit('keepAliveTimeout');\n    }.bind(this), 10000);\n\n    return this.send('\\r\\n\\r\\n');\n  },\n\n  /**\n   * Start sending keep-alives.\n   * @private\n   */\n  startSendingKeepAlives: function() {\n    if (this.keepAliveInterval && !this.keepAliveTimer) {\n      this.keepAliveTimer = SIP.Timers.setTimeout(function() {\n        this.sendKeepAlive();\n        this.keepAliveTimer = null;\n        this.startSendingKeepAlives();\n      }.bind(this), computeKeepAliveTimeout(this.keepAliveInterval));\n    }\n  },\n\n  /**\n   * Stop sending keep-alives.\n   * @private\n   */\n  stopSendingKeepAlives: function() {\n    SIP.Timers.clearTimeout(this.keepAliveTimer);\n    SIP.Timers.clearTimeout(this.keepAliveTimeout);\n    this.keepAliveTimer = null;\n    this.keepAliveTimeout = null;\n  },\n\n  /**\n  * Disconnect socket.\n  */\n  disconnect: function() {\n    if(this.ws) {\n      // Clear reconnectTimer\n      SIP.Timers.clearTimeout(this.reconnectTimer);\n\n      this.stopSendingKeepAlives();\n\n      this.closed = true;\n      this.logger.log('closing WebSocket ' + this.server.ws_uri);\n      this.ws.close();\n    }\n\n    if (this.reconnectTimer !== null) {\n      SIP.Timers.clearTimeout(this.reconnectTimer);\n      this.reconnectTimer = null;\n      this.ua.emit('disconnected', {\n        transport: this,\n        code: this.lastTransportError.code,\n        reason: this.lastTransportError.reason\n      });\n    }\n  },\n\n  /**\n  * Connect socket.\n  */\n  connect: function() {\n    var transport = this;\n\n    if(this.ws && (this.ws.readyState === WebSocket.OPEN || this.ws.readyState === WebSocket.CONNECTING)) {\n      this.logger.log('WebSocket ' + this.server.ws_uri + ' is already connected');\n      return false;\n    }\n\n    if(this.ws) {\n      this.ws.close();\n    }\n\n    this.logger.log('connecting to WebSocket ' + this.server.ws_uri);\n    this.ua.onTransportConnecting(this,\n      (this.reconnection_attempts === 0)?1:this.reconnection_attempts);\n\n    try {\n      this.ws = new WebSocket(this.server.ws_uri, 'sip');\n    } catch(e) {\n      this.logger.warn('error connecting to WebSocket ' + this.server.ws_uri + ': ' + e);\n    }\n\n    this.ws.binaryType = 'arraybuffer';\n\n    this.ws.onopen = function() {\n      transport.onOpen();\n    };\n\n    this.ws.onclose = function(e) {\n      transport.onClose(e);\n    };\n\n    this.ws.onmessage = function(e) {\n      transport.onMessage(e);\n    };\n\n    this.ws.onerror = function(e) {\n      transport.onError(e);\n    };\n  },\n\n  // Transport Event Handlers\n\n  /**\n  * @event\n  * @param {event} e\n  */\n  onOpen: function() {\n    this.connected = true;\n\n    this.logger.log('WebSocket ' + this.server.ws_uri + ' connected');\n    // Clear reconnectTimer since we are not disconnected\n    if (this.reconnectTimer !== null) {\n      SIP.Timers.clearTimeout(this.reconnectTimer);\n      this.reconnectTimer = null;\n    }\n    // Reset reconnection_attempts\n    this.reconnection_attempts = 0;\n    // Disable closed\n    this.closed = false;\n    // Trigger onTransportConnected callback\n    this.ua.onTransportConnected(this);\n    // Start sending keep-alives\n    this.startSendingKeepAlives();\n  },\n\n  /**\n  * @event\n  * @param {event} e\n  */\n  onClose: function(e) {\n    var connected_before = this.connected;\n\n    this.lastTransportError.code = e.code;\n    this.lastTransportError.reason = e.reason;\n\n    this.stopSendingKeepAlives();\n\n    if (this.reconnection_attempts > 0) {\n      this.logger.log('Reconnection attempt ' + this.reconnection_attempts + ' failed (code: ' + e.code + (e.reason? '| reason: ' + e.reason : '') +')');\n      this.reconnect();\n    } else {\n      this.connected = false;\n      this.logger.log('WebSocket disconnected (code: ' + e.code + (e.reason? '| reason: ' + e.reason : '') +')');\n\n      if(e.wasClean === false) {\n        this.logger.warn('WebSocket abrupt disconnection');\n      }\n      // Transport was connected\n      if(connected_before === true) {\n        this.ua.onTransportClosed(this);\n        // Check whether the user requested to close.\n        if(!this.closed) {\n          this.reconnect();\n        } else {\n          this.ua.emit('disconnected', {\n            transport: this,\n            code: this.lastTransportError.code,\n            reason: this.lastTransportError.reason\n          });\n\n        }\n      } else {\n        // This is the first connection attempt\n        //Network error\n        this.ua.onTransportError(this);\n      }\n    }\n  },\n\n  /**\n  * @event\n  * @param {event} e\n  */\n  onMessage: function(e) {\n    var message, transaction,\n      data = e.data;\n\n    // CRLF Keep Alive response from server. Ignore it.\n    if(data === '\\r\\n') {\n      SIP.Timers.clearTimeout(this.keepAliveTimeout);\n      this.keepAliveTimeout = null;\n\n      if (this.ua.configuration.traceSip === true) {\n        this.logger.log('received WebSocket message with CRLF Keep Alive response');\n      }\n\n      return;\n    }\n\n    // WebSocket binary message.\n    else if (typeof data !== 'string') {\n      try {\n        data = String.fromCharCode.apply(null, new Uint8Array(data));\n      } catch(evt) {\n        this.logger.warn('received WebSocket binary message failed to be converted into string, message discarded');\n        return;\n      }\n\n      if (this.ua.configuration.traceSip === true) {\n        this.logger.log('received WebSocket binary message:\\n\\n' + data + '\\n');\n      }\n    }\n\n    // WebSocket text message.\n    else {\n      if (this.ua.configuration.traceSip === true) {\n        this.logger.log('received WebSocket text message:\\n\\n' + data + '\\n');\n      }\n    }\n\n    message = SIP.Parser.parseMessage(data, this.ua);\n\n    if (!message) {\n      return;\n    }\n\n    if(this.ua.status === SIP.UA.C.STATUS_USER_CLOSED && message instanceof SIP.IncomingRequest) {\n      return;\n    }\n\n    // Do some sanity check\n    if(SIP.sanityCheck(message, this.ua, this)) {\n      if(message instanceof SIP.IncomingRequest) {\n        message.transport = this;\n        this.ua.receiveRequest(message);\n      } else if(message instanceof SIP.IncomingResponse) {\n        /* Unike stated in 18.1.2, if a response does not match\n        * any transaction, it is discarded here and no passed to the core\n        * in order to be discarded there.\n        */\n        switch(message.method) {\n          case SIP.C.INVITE:\n            transaction = this.ua.transactions.ict[message.via_branch];\n            if(transaction) {\n              transaction.receiveResponse(message);\n            }\n            break;\n          case SIP.C.ACK:\n            // Just in case ;-)\n            break;\n          default:\n            transaction = this.ua.transactions.nict[message.via_branch];\n            if(transaction) {\n              transaction.receiveResponse(message);\n            }\n            break;\n        }\n      }\n    }\n  },\n\n  /**\n  * @event\n  * @param {event} e\n  */\n  onError: function(e) {\n    this.logger.warn('WebSocket connection error: ' + JSON.stringify(e));\n  },\n\n  /**\n  * Reconnection attempt logic.\n  * @private\n  */\n  reconnect: function() {\n    var transport = this;\n\n    this.reconnection_attempts += 1;\n\n    if(this.reconnection_attempts > this.ua.configuration.wsServerMaxReconnection) {\n      this.logger.warn('maximum reconnection attempts for WebSocket ' + this.server.ws_uri);\n      this.ua.onTransportError(this);\n    } else if (this.reconnection_attempts === 1) {\n      this.logger.log('Connection to WebSocket ' + this.server.ws_uri + ' severed, attempting first reconnect');\n      transport.connect();\n    } else {\n      this.logger.log('trying to reconnect to WebSocket ' + this.server.ws_uri + ' (reconnection attempt ' + this.reconnection_attempts + ')');\n\n      this.reconnectTimer = SIP.Timers.setTimeout(function() {\n        transport.connect();\n        transport.reconnectTimer = null;\n      }, this.ua.configuration.wsServerReconnectionTimeout * 1000);\n    }\n  }\n};\n\nTransport.C = C;\nreturn Transport;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1RyYW5zcG9ydC5qcz84ZWFiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMkJBQTJCO0FBQ3hDLGVBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSwrQkFBK0IsUUFBUTs7QUFFdkM7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBLFlBQVksTUFBTTtBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLFlBQVksTUFBTTtBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxZQUFZLE1BQU07QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsWUFBWSxNQUFNO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBIiwiZmlsZSI6IjM0MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRyYW5zcG9ydFxuICovXG5cbi8qKlxuICogQGF1Z21lbnRzIFNJUFxuICogQGNsYXNzIFRyYW5zcG9ydFxuICogQHBhcmFtIHtTSVAuVUF9IHVhXG4gKiBAcGFyYW0ge09iamVjdH0gc2VydmVyIHdzX3NlcnZlciBPYmplY3RcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoU0lQLCBXZWJTb2NrZXQpIHtcbnZhciBUcmFuc3BvcnQsXG4gIEMgPSB7XG4gICAgLy8gVHJhbnNwb3J0IHN0YXR1cyBjb2Rlc1xuICAgIFNUQVRVU19SRUFEWTogICAgICAgIDAsXG4gICAgU1RBVFVTX0RJU0NPTk5FQ1RFRDogMSxcbiAgICBTVEFUVVNfRVJST1I6ICAgICAgICAyXG4gIH07XG5cbi8qKlxuICogQ29tcHV0ZSBhbiBhbW91bnQgb2YgdGltZSBpbiBzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIHNlbmRpbmcgYW5vdGhlclxuICoga2VlcC1hbGl2ZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVLZWVwQWxpdmVUaW1lb3V0KHVwcGVyQm91bmQpIHtcbiAgdmFyIGxvd2VyQm91bmQgPSB1cHBlckJvdW5kICogMC44O1xuICByZXR1cm4gMTAwMCAqIChNYXRoLnJhbmRvbSgpICogKHVwcGVyQm91bmQgLSBsb3dlckJvdW5kKSArIGxvd2VyQm91bmQpO1xufVxuXG5UcmFuc3BvcnQgPSBmdW5jdGlvbih1YSwgc2VydmVyKSB7XG5cbiAgdGhpcy5sb2dnZXIgPSB1YS5nZXRMb2dnZXIoJ3NpcC50cmFuc3BvcnQnKTtcbiAgdGhpcy51YSA9IHVhO1xuICB0aGlzLndzID0gbnVsbDtcbiAgdGhpcy5zZXJ2ZXIgPSBzZXJ2ZXI7XG4gIHRoaXMucmVjb25uZWN0aW9uX2F0dGVtcHRzID0gMDtcbiAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgdGhpcy5yZWNvbm5lY3RUaW1lciA9IG51bGw7XG4gIHRoaXMubGFzdFRyYW5zcG9ydEVycm9yID0ge307XG5cbiAgdGhpcy5rZWVwQWxpdmVJbnRlcnZhbCA9IHVhLmNvbmZpZ3VyYXRpb24ua2VlcEFsaXZlSW50ZXJ2YWw7XG4gIHRoaXMua2VlcEFsaXZlVGltZW91dCA9IG51bGw7XG4gIHRoaXMua2VlcEFsaXZlVGltZXIgPSBudWxsO1xuXG4gIHRoaXMudWEudHJhbnNwb3J0ID0gdGhpcztcblxuICAvLyBDb25uZWN0XG4gIHRoaXMuY29ubmVjdCgpO1xufTtcblxuVHJhbnNwb3J0LnByb3RvdHlwZSA9IHtcbiAgLyoqXG4gICAqIFNlbmQgYSBtZXNzYWdlLlxuICAgKiBAcGFyYW0ge1NJUC5PdXRnb2luZ1JlcXVlc3R8U3RyaW5nfSBtc2dcbiAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAqL1xuICBzZW5kOiBmdW5jdGlvbihtc2cpIHtcbiAgICB2YXIgbWVzc2FnZSA9IG1zZy50b1N0cmluZygpO1xuXG4gICAgaWYodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICBpZiAodGhpcy51YS5jb25maWd1cmF0aW9uLnRyYWNlU2lwID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygnc2VuZGluZyBXZWJTb2NrZXQgbWVzc2FnZTpcXG5cXG4nICsgbWVzc2FnZSArICdcXG4nKTtcbiAgICAgIH1cbiAgICAgIHRoaXMud3Muc2VuZChtZXNzYWdlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCd1bmFibGUgdG8gc2VuZCBtZXNzYWdlLCBXZWJTb2NrZXQgaXMgbm90IG9wZW4nKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNlbmQgYSBrZWVwLWFsaXZlIChhIGRvdWJsZS1DUkxGIHNlcXVlbmNlKS5cbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAqL1xuICBzZW5kS2VlcEFsaXZlOiBmdW5jdGlvbigpIHtcbiAgICBpZih0aGlzLmtlZXBBbGl2ZVRpbWVvdXQpIHsgcmV0dXJuOyB9XG5cbiAgICB0aGlzLmtlZXBBbGl2ZVRpbWVvdXQgPSBTSVAuVGltZXJzLnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnVhLmVtaXQoJ2tlZXBBbGl2ZVRpbWVvdXQnKTtcbiAgICB9LmJpbmQodGhpcyksIDEwMDAwKTtcblxuICAgIHJldHVybiB0aGlzLnNlbmQoJ1xcclxcblxcclxcbicpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTdGFydCBzZW5kaW5nIGtlZXAtYWxpdmVzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhcnRTZW5kaW5nS2VlcEFsaXZlczogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMua2VlcEFsaXZlSW50ZXJ2YWwgJiYgIXRoaXMua2VlcEFsaXZlVGltZXIpIHtcbiAgICAgIHRoaXMua2VlcEFsaXZlVGltZXIgPSBTSVAuVGltZXJzLnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2VuZEtlZXBBbGl2ZSgpO1xuICAgICAgICB0aGlzLmtlZXBBbGl2ZVRpbWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGFydFNlbmRpbmdLZWVwQWxpdmVzKCk7XG4gICAgICB9LmJpbmQodGhpcyksIGNvbXB1dGVLZWVwQWxpdmVUaW1lb3V0KHRoaXMua2VlcEFsaXZlSW50ZXJ2YWwpKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFN0b3Agc2VuZGluZyBrZWVwLWFsaXZlcy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0b3BTZW5kaW5nS2VlcEFsaXZlczogZnVuY3Rpb24oKSB7XG4gICAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5rZWVwQWxpdmVUaW1lcik7XG4gICAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5rZWVwQWxpdmVUaW1lb3V0KTtcbiAgICB0aGlzLmtlZXBBbGl2ZVRpbWVyID0gbnVsbDtcbiAgICB0aGlzLmtlZXBBbGl2ZVRpbWVvdXQgPSBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAqIERpc2Nvbm5lY3Qgc29ja2V0LlxuICAqL1xuICBkaXNjb25uZWN0OiBmdW5jdGlvbigpIHtcbiAgICBpZih0aGlzLndzKSB7XG4gICAgICAvLyBDbGVhciByZWNvbm5lY3RUaW1lclxuICAgICAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3RUaW1lcik7XG5cbiAgICAgIHRoaXMuc3RvcFNlbmRpbmdLZWVwQWxpdmVzKCk7XG5cbiAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgIHRoaXMubG9nZ2VyLmxvZygnY2xvc2luZyBXZWJTb2NrZXQgJyArIHRoaXMuc2VydmVyLndzX3VyaSk7XG4gICAgICB0aGlzLndzLmNsb3NlKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVjb25uZWN0VGltZXIgIT09IG51bGwpIHtcbiAgICAgIFNJUC5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0VGltZXIpO1xuICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lciA9IG51bGw7XG4gICAgICB0aGlzLnVhLmVtaXQoJ2Rpc2Nvbm5lY3RlZCcsIHtcbiAgICAgICAgdHJhbnNwb3J0OiB0aGlzLFxuICAgICAgICBjb2RlOiB0aGlzLmxhc3RUcmFuc3BvcnRFcnJvci5jb2RlLFxuICAgICAgICByZWFzb246IHRoaXMubGFzdFRyYW5zcG9ydEVycm9yLnJlYXNvblxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAqIENvbm5lY3Qgc29ja2V0LlxuICAqL1xuICBjb25uZWN0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdHJhbnNwb3J0ID0gdGhpcztcblxuICAgIGlmKHRoaXMud3MgJiYgKHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4gfHwgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ09OTkVDVElORykpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmxvZygnV2ViU29ja2V0ICcgKyB0aGlzLnNlcnZlci53c191cmkgKyAnIGlzIGFscmVhZHkgY29ubmVjdGVkJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYodGhpcy53cykge1xuICAgICAgdGhpcy53cy5jbG9zZSgpO1xuICAgIH1cblxuICAgIHRoaXMubG9nZ2VyLmxvZygnY29ubmVjdGluZyB0byBXZWJTb2NrZXQgJyArIHRoaXMuc2VydmVyLndzX3VyaSk7XG4gICAgdGhpcy51YS5vblRyYW5zcG9ydENvbm5lY3RpbmcodGhpcyxcbiAgICAgICh0aGlzLnJlY29ubmVjdGlvbl9hdHRlbXB0cyA9PT0gMCk/MTp0aGlzLnJlY29ubmVjdGlvbl9hdHRlbXB0cyk7XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQodGhpcy5zZXJ2ZXIud3NfdXJpLCAnc2lwJyk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdlcnJvciBjb25uZWN0aW5nIHRvIFdlYlNvY2tldCAnICsgdGhpcy5zZXJ2ZXIud3NfdXJpICsgJzogJyArIGUpO1xuICAgIH1cblxuICAgIHRoaXMud3MuYmluYXJ5VHlwZSA9ICdhcnJheWJ1ZmZlcic7XG5cbiAgICB0aGlzLndzLm9ub3BlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgdHJhbnNwb3J0Lm9uT3BlbigpO1xuICAgIH07XG5cbiAgICB0aGlzLndzLm9uY2xvc2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICB0cmFuc3BvcnQub25DbG9zZShlKTtcbiAgICB9O1xuXG4gICAgdGhpcy53cy5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICB0cmFuc3BvcnQub25NZXNzYWdlKGUpO1xuICAgIH07XG5cbiAgICB0aGlzLndzLm9uZXJyb3IgPSBmdW5jdGlvbihlKSB7XG4gICAgICB0cmFuc3BvcnQub25FcnJvcihlKTtcbiAgICB9O1xuICB9LFxuXG4gIC8vIFRyYW5zcG9ydCBFdmVudCBIYW5kbGVyc1xuXG4gIC8qKlxuICAqIEBldmVudFxuICAqIEBwYXJhbSB7ZXZlbnR9IGVcbiAgKi9cbiAgb25PcGVuOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XG5cbiAgICB0aGlzLmxvZ2dlci5sb2coJ1dlYlNvY2tldCAnICsgdGhpcy5zZXJ2ZXIud3NfdXJpICsgJyBjb25uZWN0ZWQnKTtcbiAgICAvLyBDbGVhciByZWNvbm5lY3RUaW1lciBzaW5jZSB3ZSBhcmUgbm90IGRpc2Nvbm5lY3RlZFxuICAgIGlmICh0aGlzLnJlY29ubmVjdFRpbWVyICE9PSBudWxsKSB7XG4gICAgICBTSVAuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnJlY29ubmVjdFRpbWVyKTtcbiAgICAgIHRoaXMucmVjb25uZWN0VGltZXIgPSBudWxsO1xuICAgIH1cbiAgICAvLyBSZXNldCByZWNvbm5lY3Rpb25fYXR0ZW1wdHNcbiAgICB0aGlzLnJlY29ubmVjdGlvbl9hdHRlbXB0cyA9IDA7XG4gICAgLy8gRGlzYWJsZSBjbG9zZWRcbiAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgIC8vIFRyaWdnZXIgb25UcmFuc3BvcnRDb25uZWN0ZWQgY2FsbGJhY2tcbiAgICB0aGlzLnVhLm9uVHJhbnNwb3J0Q29ubmVjdGVkKHRoaXMpO1xuICAgIC8vIFN0YXJ0IHNlbmRpbmcga2VlcC1hbGl2ZXNcbiAgICB0aGlzLnN0YXJ0U2VuZGluZ0tlZXBBbGl2ZXMoKTtcbiAgfSxcblxuICAvKipcbiAgKiBAZXZlbnRcbiAgKiBAcGFyYW0ge2V2ZW50fSBlXG4gICovXG4gIG9uQ2xvc2U6IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgY29ubmVjdGVkX2JlZm9yZSA9IHRoaXMuY29ubmVjdGVkO1xuXG4gICAgdGhpcy5sYXN0VHJhbnNwb3J0RXJyb3IuY29kZSA9IGUuY29kZTtcbiAgICB0aGlzLmxhc3RUcmFuc3BvcnRFcnJvci5yZWFzb24gPSBlLnJlYXNvbjtcblxuICAgIHRoaXMuc3RvcFNlbmRpbmdLZWVwQWxpdmVzKCk7XG5cbiAgICBpZiAodGhpcy5yZWNvbm5lY3Rpb25fYXR0ZW1wdHMgPiAwKSB7XG4gICAgICB0aGlzLmxvZ2dlci5sb2coJ1JlY29ubmVjdGlvbiBhdHRlbXB0ICcgKyB0aGlzLnJlY29ubmVjdGlvbl9hdHRlbXB0cyArICcgZmFpbGVkIChjb2RlOiAnICsgZS5jb2RlICsgKGUucmVhc29uPyAnfCByZWFzb246ICcgKyBlLnJlYXNvbiA6ICcnKSArJyknKTtcbiAgICAgIHRoaXMucmVjb25uZWN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmxvZ2dlci5sb2coJ1dlYlNvY2tldCBkaXNjb25uZWN0ZWQgKGNvZGU6ICcgKyBlLmNvZGUgKyAoZS5yZWFzb24/ICd8IHJlYXNvbjogJyArIGUucmVhc29uIDogJycpICsnKScpO1xuXG4gICAgICBpZihlLndhc0NsZWFuID09PSBmYWxzZSkge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdXZWJTb2NrZXQgYWJydXB0IGRpc2Nvbm5lY3Rpb24nKTtcbiAgICAgIH1cbiAgICAgIC8vIFRyYW5zcG9ydCB3YXMgY29ubmVjdGVkXG4gICAgICBpZihjb25uZWN0ZWRfYmVmb3JlID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMudWEub25UcmFuc3BvcnRDbG9zZWQodGhpcyk7XG4gICAgICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIHVzZXIgcmVxdWVzdGVkIHRvIGNsb3NlLlxuICAgICAgICBpZighdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICB0aGlzLnJlY29ubmVjdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudWEuZW1pdCgnZGlzY29ubmVjdGVkJywge1xuICAgICAgICAgICAgdHJhbnNwb3J0OiB0aGlzLFxuICAgICAgICAgICAgY29kZTogdGhpcy5sYXN0VHJhbnNwb3J0RXJyb3IuY29kZSxcbiAgICAgICAgICAgIHJlYXNvbjogdGhpcy5sYXN0VHJhbnNwb3J0RXJyb3IucmVhc29uXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgZmlyc3QgY29ubmVjdGlvbiBhdHRlbXB0XG4gICAgICAgIC8vTmV0d29yayBlcnJvclxuICAgICAgICB0aGlzLnVhLm9uVHJhbnNwb3J0RXJyb3IodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAqIEBldmVudFxuICAqIEBwYXJhbSB7ZXZlbnR9IGVcbiAgKi9cbiAgb25NZXNzYWdlOiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIG1lc3NhZ2UsIHRyYW5zYWN0aW9uLFxuICAgICAgZGF0YSA9IGUuZGF0YTtcblxuICAgIC8vIENSTEYgS2VlcCBBbGl2ZSByZXNwb25zZSBmcm9tIHNlcnZlci4gSWdub3JlIGl0LlxuICAgIGlmKGRhdGEgPT09ICdcXHJcXG4nKSB7XG4gICAgICBTSVAuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLmtlZXBBbGl2ZVRpbWVvdXQpO1xuICAgICAgdGhpcy5rZWVwQWxpdmVUaW1lb3V0ID0gbnVsbDtcblxuICAgICAgaWYgKHRoaXMudWEuY29uZmlndXJhdGlvbi50cmFjZVNpcCA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ3JlY2VpdmVkIFdlYlNvY2tldCBtZXNzYWdlIHdpdGggQ1JMRiBLZWVwIEFsaXZlIHJlc3BvbnNlJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBXZWJTb2NrZXQgYmluYXJ5IG1lc3NhZ2UuXG4gICAgZWxzZSBpZiAodHlwZW9mIGRhdGEgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBkYXRhID0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShkYXRhKSk7XG4gICAgICB9IGNhdGNoKGV2dCkge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdyZWNlaXZlZCBXZWJTb2NrZXQgYmluYXJ5IG1lc3NhZ2UgZmFpbGVkIHRvIGJlIGNvbnZlcnRlZCBpbnRvIHN0cmluZywgbWVzc2FnZSBkaXNjYXJkZWQnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy51YS5jb25maWd1cmF0aW9uLnRyYWNlU2lwID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygncmVjZWl2ZWQgV2ViU29ja2V0IGJpbmFyeSBtZXNzYWdlOlxcblxcbicgKyBkYXRhICsgJ1xcbicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdlYlNvY2tldCB0ZXh0IG1lc3NhZ2UuXG4gICAgZWxzZSB7XG4gICAgICBpZiAodGhpcy51YS5jb25maWd1cmF0aW9uLnRyYWNlU2lwID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygncmVjZWl2ZWQgV2ViU29ja2V0IHRleHQgbWVzc2FnZTpcXG5cXG4nICsgZGF0YSArICdcXG4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZXNzYWdlID0gU0lQLlBhcnNlci5wYXJzZU1lc3NhZ2UoZGF0YSwgdGhpcy51YSk7XG5cbiAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZih0aGlzLnVhLnN0YXR1cyA9PT0gU0lQLlVBLkMuU1RBVFVTX1VTRVJfQ0xPU0VEICYmIG1lc3NhZ2UgaW5zdGFuY2VvZiBTSVAuSW5jb21pbmdSZXF1ZXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRG8gc29tZSBzYW5pdHkgY2hlY2tcbiAgICBpZihTSVAuc2FuaXR5Q2hlY2sobWVzc2FnZSwgdGhpcy51YSwgdGhpcykpIHtcbiAgICAgIGlmKG1lc3NhZ2UgaW5zdGFuY2VvZiBTSVAuSW5jb21pbmdSZXF1ZXN0KSB7XG4gICAgICAgIG1lc3NhZ2UudHJhbnNwb3J0ID0gdGhpcztcbiAgICAgICAgdGhpcy51YS5yZWNlaXZlUmVxdWVzdChtZXNzYWdlKTtcbiAgICAgIH0gZWxzZSBpZihtZXNzYWdlIGluc3RhbmNlb2YgU0lQLkluY29taW5nUmVzcG9uc2UpIHtcbiAgICAgICAgLyogVW5pa2Ugc3RhdGVkIGluIDE4LjEuMiwgaWYgYSByZXNwb25zZSBkb2VzIG5vdCBtYXRjaFxuICAgICAgICAqIGFueSB0cmFuc2FjdGlvbiwgaXQgaXMgZGlzY2FyZGVkIGhlcmUgYW5kIG5vIHBhc3NlZCB0byB0aGUgY29yZVxuICAgICAgICAqIGluIG9yZGVyIHRvIGJlIGRpc2NhcmRlZCB0aGVyZS5cbiAgICAgICAgKi9cbiAgICAgICAgc3dpdGNoKG1lc3NhZ2UubWV0aG9kKSB7XG4gICAgICAgICAgY2FzZSBTSVAuQy5JTlZJVEU6XG4gICAgICAgICAgICB0cmFuc2FjdGlvbiA9IHRoaXMudWEudHJhbnNhY3Rpb25zLmljdFttZXNzYWdlLnZpYV9icmFuY2hdO1xuICAgICAgICAgICAgaWYodHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ucmVjZWl2ZVJlc3BvbnNlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBTSVAuQy5BQ0s6XG4gICAgICAgICAgICAvLyBKdXN0IGluIGNhc2UgOy0pXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdHJhbnNhY3Rpb24gPSB0aGlzLnVhLnRyYW5zYWN0aW9ucy5uaWN0W21lc3NhZ2UudmlhX2JyYW5jaF07XG4gICAgICAgICAgICBpZih0cmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5yZWNlaXZlUmVzcG9uc2UobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgKiBAZXZlbnRcbiAgKiBAcGFyYW0ge2V2ZW50fSBlXG4gICovXG4gIG9uRXJyb3I6IGZ1bmN0aW9uKGUpIHtcbiAgICB0aGlzLmxvZ2dlci53YXJuKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBlcnJvcjogJyArIEpTT04uc3RyaW5naWZ5KGUpKTtcbiAgfSxcblxuICAvKipcbiAgKiBSZWNvbm5lY3Rpb24gYXR0ZW1wdCBsb2dpYy5cbiAgKiBAcHJpdmF0ZVxuICAqL1xuICByZWNvbm5lY3Q6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0cmFuc3BvcnQgPSB0aGlzO1xuXG4gICAgdGhpcy5yZWNvbm5lY3Rpb25fYXR0ZW1wdHMgKz0gMTtcblxuICAgIGlmKHRoaXMucmVjb25uZWN0aW9uX2F0dGVtcHRzID4gdGhpcy51YS5jb25maWd1cmF0aW9uLndzU2VydmVyTWF4UmVjb25uZWN0aW9uKSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdtYXhpbXVtIHJlY29ubmVjdGlvbiBhdHRlbXB0cyBmb3IgV2ViU29ja2V0ICcgKyB0aGlzLnNlcnZlci53c191cmkpO1xuICAgICAgdGhpcy51YS5vblRyYW5zcG9ydEVycm9yKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5yZWNvbm5lY3Rpb25fYXR0ZW1wdHMgPT09IDEpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmxvZygnQ29ubmVjdGlvbiB0byBXZWJTb2NrZXQgJyArIHRoaXMuc2VydmVyLndzX3VyaSArICcgc2V2ZXJlZCwgYXR0ZW1wdGluZyBmaXJzdCByZWNvbm5lY3QnKTtcbiAgICAgIHRyYW5zcG9ydC5jb25uZWN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubG9nZ2VyLmxvZygndHJ5aW5nIHRvIHJlY29ubmVjdCB0byBXZWJTb2NrZXQgJyArIHRoaXMuc2VydmVyLndzX3VyaSArICcgKHJlY29ubmVjdGlvbiBhdHRlbXB0ICcgKyB0aGlzLnJlY29ubmVjdGlvbl9hdHRlbXB0cyArICcpJyk7XG5cbiAgICAgIHRoaXMucmVjb25uZWN0VGltZXIgPSBTSVAuVGltZXJzLnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyYW5zcG9ydC5jb25uZWN0KCk7XG4gICAgICAgIHRyYW5zcG9ydC5yZWNvbm5lY3RUaW1lciA9IG51bGw7XG4gICAgICB9LCB0aGlzLnVhLmNvbmZpZ3VyYXRpb24ud3NTZXJ2ZXJSZWNvbm5lY3Rpb25UaW1lb3V0ICogMTAwMCk7XG4gICAgfVxuICB9XG59O1xuXG5UcmFuc3BvcnQuQyA9IEM7XG5yZXR1cm4gVHJhbnNwb3J0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0B0d2lsaW8vc2lwLmpzL3NyYy9UcmFuc3BvcnQuanNcbi8vIG1vZHVsZSBpZCA9IDM0MVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///341\n");

/***/ }),
/* 342 */
/*!************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/SIP.js ***!
  \************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/**\n * @name SIP\n * @namespace\n */\n\n\nmodule.exports = function (environment) {\n\nvar pkg = __webpack_require__(/*! ../package.json */ 343);\n\nvar SIP = Object.defineProperties({}, {\n  version: {\n    get: function(){ return pkg.version; }\n  },\n  name: {\n    get: function(){ return pkg.title; }\n  }\n});\n\n__webpack_require__(/*! ./Utils */ 344)(SIP, environment);\nSIP.LoggerFactory = __webpack_require__(/*! ./LoggerFactory */ 345)(environment.console);\nSIP.EventEmitter = __webpack_require__(/*! ./EventEmitter */ 346)(environment.console);\nSIP.C = __webpack_require__(/*! ./Constants */ 347)(SIP.name, SIP.version);\nSIP.Exceptions = __webpack_require__(/*! ./Exceptions */ 348);\nSIP.Timers = __webpack_require__(/*! ./Timers */ 349)(environment.timers);\nSIP.Transport = environment.Transport(SIP, environment.WebSocket);\n__webpack_require__(/*! ./Parser */ 350)(SIP);\n__webpack_require__(/*! ./SIPMessage */ 351)(SIP);\n__webpack_require__(/*! ./URI */ 352)(SIP);\n__webpack_require__(/*! ./NameAddrHeader */ 353)(SIP);\n__webpack_require__(/*! ./Transactions */ 354)(SIP);\n__webpack_require__(/*! ./Dialogs */ 355)(SIP);\n__webpack_require__(/*! ./RequestSender */ 357)(SIP);\n__webpack_require__(/*! ./RegisterContext */ 358)(SIP);\nSIP.MediaHandler = __webpack_require__(/*! ./MediaHandler */ 359)(SIP.EventEmitter);\n__webpack_require__(/*! ./ClientContext */ 360)(SIP);\n__webpack_require__(/*! ./ServerContext */ 361)(SIP);\n__webpack_require__(/*! ./Session */ 362)(SIP, environment);\n__webpack_require__(/*! ./Subscription */ 365)(SIP);\nSIP.WebRTC = __webpack_require__(/*! ./WebRTC */ 366)(SIP, environment);\n__webpack_require__(/*! ./UA */ 369)(SIP, environment);\nSIP.Hacks = __webpack_require__(/*! ./Hacks */ 370)(SIP);\n__webpack_require__(/*! ./SanityCheck */ 371)(SIP);\nSIP.DigestAuthentication = __webpack_require__(/*! ./DigestAuthentication */ 372)(SIP.Utils);\nSIP.Grammar = __webpack_require__(/*! ./Grammar */ 373)(SIP);\n\nreturn SIP;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1NJUC5qcz8wZGQzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7O0FBRWI7O0FBRUEsVUFBVSxtQkFBTyxDQUFDLDBCQUFpQjs7QUFFbkMsb0NBQW9DO0FBQ3BDO0FBQ0Esb0JBQW9CLG9CQUFvQjtBQUN4QyxHQUFHO0FBQ0g7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0EsQ0FBQzs7QUFFRCxtQkFBTyxDQUFDLGtCQUFTO0FBQ2pCLG9CQUFvQixtQkFBTyxDQUFDLDBCQUFpQjtBQUM3QyxtQkFBbUIsbUJBQU8sQ0FBQyx5QkFBZ0I7QUFDM0MsUUFBUSxtQkFBTyxDQUFDLHNCQUFhO0FBQzdCLGlCQUFpQixtQkFBTyxDQUFDLHVCQUFjO0FBQ3ZDLGFBQWEsbUJBQU8sQ0FBQyxtQkFBVTtBQUMvQjtBQUNBLG1CQUFPLENBQUMsbUJBQVU7QUFDbEIsbUJBQU8sQ0FBQyx1QkFBYztBQUN0QixtQkFBTyxDQUFDLGdCQUFPO0FBQ2YsbUJBQU8sQ0FBQywyQkFBa0I7QUFDMUIsbUJBQU8sQ0FBQyx5QkFBZ0I7QUFDeEIsbUJBQU8sQ0FBQyxvQkFBVztBQUNuQixtQkFBTyxDQUFDLDBCQUFpQjtBQUN6QixtQkFBTyxDQUFDLDRCQUFtQjtBQUMzQixtQkFBbUIsbUJBQU8sQ0FBQyx5QkFBZ0I7QUFDM0MsbUJBQU8sQ0FBQywwQkFBaUI7QUFDekIsbUJBQU8sQ0FBQywwQkFBaUI7QUFDekIsbUJBQU8sQ0FBQyxvQkFBVztBQUNuQixtQkFBTyxDQUFDLHlCQUFnQjtBQUN4QixhQUFhLG1CQUFPLENBQUMsbUJBQVU7QUFDL0IsbUJBQU8sQ0FBQyxlQUFNO0FBQ2QsWUFBWSxtQkFBTyxDQUFDLGtCQUFTO0FBQzdCLG1CQUFPLENBQUMsd0JBQWU7QUFDdkIsMkJBQTJCLG1CQUFPLENBQUMsaUNBQXdCO0FBQzNELGNBQWMsbUJBQU8sQ0FBQyxvQkFBVzs7QUFFakM7QUFDQSIsImZpbGUiOiIzNDIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBuYW1lIFNJUFxuICogQG5hbWVzcGFjZVxuICovXG5cInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZW52aXJvbm1lbnQpIHtcblxudmFyIHBrZyA9IHJlcXVpcmUoJy4uL3BhY2thZ2UuanNvbicpO1xuXG52YXIgU0lQID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoe30sIHtcbiAgdmVyc2lvbjoge1xuICAgIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIHBrZy52ZXJzaW9uOyB9XG4gIH0sXG4gIG5hbWU6IHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiBwa2cudGl0bGU7IH1cbiAgfVxufSk7XG5cbnJlcXVpcmUoJy4vVXRpbHMnKShTSVAsIGVudmlyb25tZW50KTtcblNJUC5Mb2dnZXJGYWN0b3J5ID0gcmVxdWlyZSgnLi9Mb2dnZXJGYWN0b3J5JykoZW52aXJvbm1lbnQuY29uc29sZSk7XG5TSVAuRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnLi9FdmVudEVtaXR0ZXInKShlbnZpcm9ubWVudC5jb25zb2xlKTtcblNJUC5DID0gcmVxdWlyZSgnLi9Db25zdGFudHMnKShTSVAubmFtZSwgU0lQLnZlcnNpb24pO1xuU0lQLkV4Y2VwdGlvbnMgPSByZXF1aXJlKCcuL0V4Y2VwdGlvbnMnKTtcblNJUC5UaW1lcnMgPSByZXF1aXJlKCcuL1RpbWVycycpKGVudmlyb25tZW50LnRpbWVycyk7XG5TSVAuVHJhbnNwb3J0ID0gZW52aXJvbm1lbnQuVHJhbnNwb3J0KFNJUCwgZW52aXJvbm1lbnQuV2ViU29ja2V0KTtcbnJlcXVpcmUoJy4vUGFyc2VyJykoU0lQKTtcbnJlcXVpcmUoJy4vU0lQTWVzc2FnZScpKFNJUCk7XG5yZXF1aXJlKCcuL1VSSScpKFNJUCk7XG5yZXF1aXJlKCcuL05hbWVBZGRySGVhZGVyJykoU0lQKTtcbnJlcXVpcmUoJy4vVHJhbnNhY3Rpb25zJykoU0lQKTtcbnJlcXVpcmUoJy4vRGlhbG9ncycpKFNJUCk7XG5yZXF1aXJlKCcuL1JlcXVlc3RTZW5kZXInKShTSVApO1xucmVxdWlyZSgnLi9SZWdpc3RlckNvbnRleHQnKShTSVApO1xuU0lQLk1lZGlhSGFuZGxlciA9IHJlcXVpcmUoJy4vTWVkaWFIYW5kbGVyJykoU0lQLkV2ZW50RW1pdHRlcik7XG5yZXF1aXJlKCcuL0NsaWVudENvbnRleHQnKShTSVApO1xucmVxdWlyZSgnLi9TZXJ2ZXJDb250ZXh0JykoU0lQKTtcbnJlcXVpcmUoJy4vU2Vzc2lvbicpKFNJUCwgZW52aXJvbm1lbnQpO1xucmVxdWlyZSgnLi9TdWJzY3JpcHRpb24nKShTSVApO1xuU0lQLldlYlJUQyA9IHJlcXVpcmUoJy4vV2ViUlRDJykoU0lQLCBlbnZpcm9ubWVudCk7XG5yZXF1aXJlKCcuL1VBJykoU0lQLCBlbnZpcm9ubWVudCk7XG5TSVAuSGFja3MgPSByZXF1aXJlKCcuL0hhY2tzJykoU0lQKTtcbnJlcXVpcmUoJy4vU2FuaXR5Q2hlY2snKShTSVApO1xuU0lQLkRpZ2VzdEF1dGhlbnRpY2F0aW9uID0gcmVxdWlyZSgnLi9EaWdlc3RBdXRoZW50aWNhdGlvbicpKFNJUC5VdGlscyk7XG5TSVAuR3JhbW1hciA9IHJlcXVpcmUoJy4vR3JhbW1hcicpKFNJUCk7XG5cbnJldHVybiBTSVA7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1NJUC5qc1xuLy8gbW9kdWxlIGlkID0gMzQyXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///342\n");

/***/ }),
/* 343 */
/*!**************************************************!*\
  !*** ./node_modules/@twilio/sip.js/package.json ***!
  \**************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = {\"name\":\"@twilio/sip.js\",\"title\":\"SIP.js\",\"description\":\"A simple, intuitive, and powerful JavaScript signaling library\",\"version\":\"0.7.7\",\"main\":\"src/index.js\",\"browser\":{\"./src/environment.js\":\"./src/environment_browser.js\"},\"homepage\":\"http://sipjs.com\",\"author\":\"OnSIP <developer@onsip.com> (http://sipjs.com/authors/)\",\"contributors\":[{\"url\":\"https://github.com/onsip/SIP.js/blob/master/THANKS.md\"}],\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/onsip/SIP.js.git\"},\"keywords\":[\"sip\",\"websocket\",\"webrtc\",\"library\",\"javascript\"],\"devDependencies\":{\"beefy\":\"^2.1.5\",\"browserify\":\"^4.1.8\",\"grunt\":\"~0.4.0\",\"grunt-browserify\":\"^4.0.1\",\"grunt-cli\":\"~0.1.6\",\"grunt-contrib-copy\":\"^0.5.0\",\"grunt-contrib-jasmine\":\"^1.0.3\",\"grunt-contrib-jshint\":\">0.5.0\",\"grunt-contrib-uglify\":\"~0.2.0\",\"grunt-peg\":\"~1.3.1\",\"grunt-trimtrailingspaces\":\"^0.4.0\",\"pegjs\":\"^0.8.0\",\"release-tool\":\"^0.2.2\"},\"engines\":{\"node\":\">=0.12\"},\"license\":\"MIT\",\"scripts\":{\"repl\":\"beefy test/repl.js --open\",\"build\":\"grunt build\",\"test\":\"grunt travis --verbose\"}}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvcGFja2FnZS5qc29uPzc4OTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0JBQWtCLDJLQUEySyxzREFBc0QsbUhBQW1ILDhEQUE4RCxnQkFBZ0IseURBQXlELG1GQUFtRiwwVUFBMFUsWUFBWSxnQkFBZ0IsNEJBQTRCIiwiZmlsZSI6IjM0My5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1wibmFtZVwiOlwiQHR3aWxpby9zaXAuanNcIixcInRpdGxlXCI6XCJTSVAuanNcIixcImRlc2NyaXB0aW9uXCI6XCJBIHNpbXBsZSwgaW50dWl0aXZlLCBhbmQgcG93ZXJmdWwgSmF2YVNjcmlwdCBzaWduYWxpbmcgbGlicmFyeVwiLFwidmVyc2lvblwiOlwiMC43LjdcIixcIm1haW5cIjpcInNyYy9pbmRleC5qc1wiLFwiYnJvd3NlclwiOntcIi4vc3JjL2Vudmlyb25tZW50LmpzXCI6XCIuL3NyYy9lbnZpcm9ubWVudF9icm93c2VyLmpzXCJ9LFwiaG9tZXBhZ2VcIjpcImh0dHA6Ly9zaXBqcy5jb21cIixcImF1dGhvclwiOlwiT25TSVAgPGRldmVsb3BlckBvbnNpcC5jb20+IChodHRwOi8vc2lwanMuY29tL2F1dGhvcnMvKVwiLFwiY29udHJpYnV0b3JzXCI6W3tcInVybFwiOlwiaHR0cHM6Ly9naXRodWIuY29tL29uc2lwL1NJUC5qcy9ibG9iL21hc3Rlci9USEFOS1MubWRcIn1dLFwicmVwb3NpdG9yeVwiOntcInR5cGVcIjpcImdpdFwiLFwidXJsXCI6XCJodHRwczovL2dpdGh1Yi5jb20vb25zaXAvU0lQLmpzLmdpdFwifSxcImtleXdvcmRzXCI6W1wic2lwXCIsXCJ3ZWJzb2NrZXRcIixcIndlYnJ0Y1wiLFwibGlicmFyeVwiLFwiamF2YXNjcmlwdFwiXSxcImRldkRlcGVuZGVuY2llc1wiOntcImJlZWZ5XCI6XCJeMi4xLjVcIixcImJyb3dzZXJpZnlcIjpcIl40LjEuOFwiLFwiZ3J1bnRcIjpcIn4wLjQuMFwiLFwiZ3J1bnQtYnJvd3NlcmlmeVwiOlwiXjQuMC4xXCIsXCJncnVudC1jbGlcIjpcIn4wLjEuNlwiLFwiZ3J1bnQtY29udHJpYi1jb3B5XCI6XCJeMC41LjBcIixcImdydW50LWNvbnRyaWItamFzbWluZVwiOlwiXjEuMC4zXCIsXCJncnVudC1jb250cmliLWpzaGludFwiOlwiPjAuNS4wXCIsXCJncnVudC1jb250cmliLXVnbGlmeVwiOlwifjAuMi4wXCIsXCJncnVudC1wZWdcIjpcIn4xLjMuMVwiLFwiZ3J1bnQtdHJpbXRyYWlsaW5nc3BhY2VzXCI6XCJeMC40LjBcIixcInBlZ2pzXCI6XCJeMC44LjBcIixcInJlbGVhc2UtdG9vbFwiOlwiXjAuMi4yXCJ9LFwiZW5naW5lc1wiOntcIm5vZGVcIjpcIj49MC4xMlwifSxcImxpY2Vuc2VcIjpcIk1JVFwiLFwic2NyaXB0c1wiOntcInJlcGxcIjpcImJlZWZ5IHRlc3QvcmVwbC5qcyAtLW9wZW5cIixcImJ1aWxkXCI6XCJncnVudCBidWlsZFwiLFwidGVzdFwiOlwiZ3J1bnQgdHJhdmlzIC0tdmVyYm9zZVwifX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AdHdpbGlvL3NpcC5qcy9wYWNrYWdlLmpzb25cbi8vIG1vZHVsZSBpZCA9IDM0M1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///343\n");

/***/ }),
/* 344 */
/*!**************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/Utils.js ***!
  \**************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview Utils\n */\n\nmodule.exports = function (SIP, environment) {\nvar Utils;\n\nUtils= {\n\n  Promise: environment.Promise,\n\n  defer: function defer () {\n    var deferred = {};\n    deferred.promise = new Utils.Promise(function (resolve, reject) {\n      deferred.resolve = resolve;\n      deferred.reject = reject;\n    });\n    return deferred;\n  },\n\n  promisify: function promisify (object, methodName, callbacksFirst) {\n    var oldMethod = object[methodName];\n    return function promisifiedMethod (arg, onSuccess, onFailure) {\n      return new Utils.Promise(function (resolve, reject) {\n        var oldArgs = [arg, resolve, reject];\n        if (callbacksFirst) {\n          oldArgs = [resolve, reject, arg];\n        }\n        oldMethod.apply(object, oldArgs);\n      }).then(onSuccess, onFailure);\n    };\n  },\n\n  augment: function (object, constructor, args, override) {\n    var idx, proto;\n\n    // Add public properties from constructor's prototype onto object\n    proto = constructor.prototype;\n    for (idx in proto) {\n      if (override || object[idx] === undefined) {\n        object[idx] = proto[idx];\n      }\n    }\n\n    // Construct the object as though it were just created by constructor\n    constructor.apply(object, args);\n  },\n\n  optionsOverride: function (options, winner, loser, isDeprecated, logger, defaultValue) {\n    if (isDeprecated && options[loser]) {\n      logger.warn(loser + ' is deprecated, please use ' + winner + ' instead');\n    }\n\n    if (options[winner] && options[loser]) {\n      logger.warn(winner + ' overriding ' + loser);\n    }\n\n    options[winner] = options[winner] || options[loser] || defaultValue;\n  },\n\n  str_utf8_length: function(string) {\n    return encodeURIComponent(string).replace(/%[A-F\\d]{2}/g, 'U').length;\n  },\n\n  generateFakeSDP: function(body) {\n    if (!body) {\n      return;\n    }\n\n    var start = body.indexOf('o=');\n    var end = body.indexOf('\\r\\n', start);\n\n    return 'v=0\\r\\n' + body.slice(start, end) + '\\r\\ns=-\\r\\nt=0 0\\r\\nc=IN IP4 0.0.0.0';\n  },\n\n  isFunction: function(fn) {\n    if (fn !== undefined) {\n      return Object.prototype.toString.call(fn) === '[object Function]';\n    } else {\n      return false;\n    }\n  },\n\n  isDecimal: function (num) {\n    return !isNaN(num) && (parseFloat(num) === parseInt(num,10));\n  },\n\n  createRandomToken: function(size, base) {\n    var i, r,\n      token = '';\n\n    base = base || 32;\n\n    for( i=0; i < size; i++ ) {\n      r = Math.random() * base|0;\n      token += r.toString(base);\n    }\n\n    return token;\n  },\n\n  newTag: function() {\n    return SIP.Utils.createRandomToken(SIP.UA.C.TAG_LENGTH);\n  },\n\n  // http://stackoverflow.com/users/109538/broofa\n  newUUID: function() {\n    var UUID =  'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n      var r = Math.random()*16|0, v = c === 'x' ? r : (r&0x3|0x8);\n      return v.toString(16);\n    });\n\n    return UUID;\n  },\n\n  hostType: function(host) {\n    if (!host) {\n      return;\n    } else {\n      host = SIP.Grammar.parse(host,'host');\n      if (host !== -1) {\n        return host.host_type;\n      }\n    }\n  },\n\n  /**\n  * Normalize SIP URI.\n  * NOTE: It does not allow a SIP URI without username.\n  * Accepts 'sip', 'sips' and 'tel' URIs and convert them into 'sip'.\n  * Detects the domain part (if given) and properly hex-escapes the user portion.\n  * If the user portion has only 'tel' number symbols the user portion is clean of 'tel' visual separators.\n  * @private\n  * @param {String} target\n  * @param {String} [domain]\n  */\n  normalizeTarget: function(target, domain) {\n    var uri, target_array, target_user, target_domain;\n\n    // If no target is given then raise an error.\n    if (!target) {\n      return;\n    // If a SIP.URI instance is given then return it.\n    } else if (target instanceof SIP.URI) {\n      return target;\n\n    // If a string is given split it by '@':\n    // - Last fragment is the desired domain.\n    // - Otherwise append the given domain argument.\n    } else if (typeof target === 'string') {\n      target_array = target.split('@');\n\n      switch(target_array.length) {\n        case 1:\n          if (!domain) {\n            return;\n          }\n          target_user = target;\n          target_domain = domain;\n          break;\n        case 2:\n          target_user = target_array[0];\n          target_domain = target_array[1];\n          break;\n        default:\n          target_user = target_array.slice(0, target_array.length-1).join('@');\n          target_domain = target_array[target_array.length-1];\n      }\n\n      // Remove the URI scheme (if present).\n      target_user = target_user.replace(/^(sips?|tel):/i, '');\n\n      // Remove 'tel' visual separators if the user portion just contains 'tel' number symbols.\n      if (/^[\\-\\.\\(\\)]*\\+?[0-9\\-\\.\\(\\)]+$/.test(target_user)) {\n        target_user = target_user.replace(/[\\-\\.\\(\\)]/g, '');\n      }\n\n      // Build the complete SIP URI.\n      target = SIP.C.SIP + ':' + SIP.Utils.escapeUser(target_user) + '@' + target_domain;\n\n      // Finally parse the resulting URI.\n      if (uri = SIP.URI.parse(target)) {\n        return uri;\n      } else {\n        return;\n      }\n    } else {\n      return;\n    }\n  },\n\n  /**\n  * Hex-escape a SIP URI user.\n  * @private\n  * @param {String} user\n  */\n  escapeUser: function(user) {\n    // Don't hex-escape ':' (%3A), '+' (%2B), '?' (%3F\"), '/' (%2F).\n    return encodeURIComponent(decodeURIComponent(user)).replace(/%3A/ig, ':').replace(/%2B/ig, '+').replace(/%3F/ig, '?').replace(/%2F/ig, '/');\n  },\n\n  headerize: function(string) {\n    var exceptions = {\n      'Call-Id': 'Call-ID',\n      'Cseq': 'CSeq',\n      'Min-Se': 'Min-SE',\n      'Rack': 'RAck',\n      'Rseq': 'RSeq',\n      'Www-Authenticate': 'WWW-Authenticate'\n      },\n      name = string.toLowerCase().replace(/_/g,'-').split('-'),\n      hname = '',\n      parts = name.length, part;\n\n    for (part = 0; part < parts; part++) {\n      if (part !== 0) {\n        hname +='-';\n      }\n      hname += name[part].charAt(0).toUpperCase()+name[part].substring(1);\n    }\n    if (exceptions[hname]) {\n      hname = exceptions[hname];\n    }\n    return hname;\n  },\n\n  sipErrorCause: function(status_code) {\n    var cause;\n\n    for (cause in SIP.C.SIP_ERROR_CAUSES) {\n      if (SIP.C.SIP_ERROR_CAUSES[cause].indexOf(status_code) !== -1) {\n        return SIP.C.causes[cause];\n      }\n    }\n\n    return SIP.C.causes.SIP_FAILURE_CODE;\n  },\n\n  getReasonPhrase: function getReasonPhrase (code, specific) {\n    return specific || SIP.C.REASON_PHRASE[code] || '';\n  },\n\n  getReasonHeaderValue: function getReasonHeaderValue (code, reason) {\n    reason = SIP.Utils.getReasonPhrase(code, reason);\n    return 'SIP ;cause=' + code + ' ;text=\"' + reason + '\"';\n  },\n\n  getCancelReason: function getCancelReason (code, reason) {\n    if (code && code < 200 || code > 699) {\n      throw new TypeError('Invalid status_code: ' + code);\n    } else if (code) {\n      return SIP.Utils.getReasonHeaderValue(code, reason);\n    }\n  },\n\n  buildStatusLine: function buildStatusLine (code, reason) {\n    code = code || null;\n    reason = reason || null;\n\n    // Validate code and reason values\n    if (!code || (code < 100 || code > 699)) {\n      throw new TypeError('Invalid status_code: '+ code);\n    } else if (reason && typeof reason !== 'string' && !(reason instanceof String)) {\n      throw new TypeError('Invalid reason_phrase: '+ reason);\n    }\n\n    reason = Utils.getReasonPhrase(code, reason);\n\n    return 'SIP/2.0 ' + code + ' ' + reason + '\\r\\n';\n  },\n\n  /**\n  * Generate a random Test-Net IP (http://tools.ietf.org/html/rfc5735)\n  * @private\n  */\n  getRandomTestNetIP: function() {\n    function getOctet(from,to) {\n      return Math.floor(Math.random()*(to-from+1)+from);\n    }\n    return '192.0.2.' + getOctet(1, 254);\n  },\n\n  // MD5 (Message-Digest Algorithm) http://www.webtoolkit.info\n  calculateMD5: function(string) {\n    function RotateLeft(lValue, iShiftBits) {\n      return (lValue<<iShiftBits) | (lValue>>>(32-iShiftBits));\n    }\n\n    function AddUnsigned(lX,lY) {\n      var lX4,lY4,lX8,lY8,lResult;\n      lX8 = (lX & 0x80000000);\n      lY8 = (lY & 0x80000000);\n      lX4 = (lX & 0x40000000);\n      lY4 = (lY & 0x40000000);\n      lResult = (lX & 0x3FFFFFFF)+(lY & 0x3FFFFFFF);\n      if (lX4 & lY4) {\n        return (lResult ^ 0x80000000 ^ lX8 ^ lY8);\n      }\n      if (lX4 | lY4) {\n        if (lResult & 0x40000000) {\n          return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);\n        } else {\n          return (lResult ^ 0x40000000 ^ lX8 ^ lY8);\n        }\n      } else {\n        return (lResult ^ lX8 ^ lY8);\n      }\n    }\n\n    function F(x,y,z) {\n      return (x & y) | ((~x) & z);\n    }\n\n    function G(x,y,z) {\n      return (x & z) | (y & (~z));\n    }\n\n    function H(x,y,z) {\n      return (x ^ y ^ z);\n    }\n\n    function I(x,y,z) {\n      return (y ^ (x | (~z)));\n    }\n\n    function FF(a,b,c,d,x,s,ac) {\n      a = AddUnsigned(a, AddUnsigned(AddUnsigned(F(b, c, d), x), ac));\n      return AddUnsigned(RotateLeft(a, s), b);\n    }\n\n    function GG(a,b,c,d,x,s,ac) {\n      a = AddUnsigned(a, AddUnsigned(AddUnsigned(G(b, c, d), x), ac));\n      return AddUnsigned(RotateLeft(a, s), b);\n    }\n\n    function HH(a,b,c,d,x,s,ac) {\n      a = AddUnsigned(a, AddUnsigned(AddUnsigned(H(b, c, d), x), ac));\n      return AddUnsigned(RotateLeft(a, s), b);\n    }\n\n    function II(a,b,c,d,x,s,ac) {\n      a = AddUnsigned(a, AddUnsigned(AddUnsigned(I(b, c, d), x), ac));\n      return AddUnsigned(RotateLeft(a, s), b);\n    }\n\n    function ConvertToWordArray(string) {\n      var lWordCount;\n      var lMessageLength = string.length;\n      var lNumberOfWords_temp1=lMessageLength + 8;\n      var lNumberOfWords_temp2=(lNumberOfWords_temp1-(lNumberOfWords_temp1 % 64))/64;\n      var lNumberOfWords = (lNumberOfWords_temp2+1)*16;\n      var lWordArray=Array(lNumberOfWords-1);\n      var lBytePosition = 0;\n      var lByteCount = 0;\n      while ( lByteCount < lMessageLength ) {\n        lWordCount = (lByteCount-(lByteCount % 4))/4;\n        lBytePosition = (lByteCount % 4)*8;\n        lWordArray[lWordCount] = (lWordArray[lWordCount] | (string.charCodeAt(lByteCount)<<lBytePosition));\n        lByteCount++;\n      }\n      lWordCount = (lByteCount-(lByteCount % 4))/4;\n      lBytePosition = (lByteCount % 4)*8;\n      lWordArray[lWordCount] = lWordArray[lWordCount] | (0x80<<lBytePosition);\n      lWordArray[lNumberOfWords-2] = lMessageLength<<3;\n      lWordArray[lNumberOfWords-1] = lMessageLength>>>29;\n      return lWordArray;\n    }\n\n    function WordToHex(lValue) {\n      var WordToHexValue=\"\",WordToHexValue_temp=\"\",lByte,lCount;\n      for (lCount = 0;lCount<=3;lCount++) {\n        lByte = (lValue>>>(lCount*8)) & 255;\n        WordToHexValue_temp = \"0\" + lByte.toString(16);\n        WordToHexValue = WordToHexValue + WordToHexValue_temp.substr(WordToHexValue_temp.length-2,2);\n      }\n      return WordToHexValue;\n    }\n\n    function Utf8Encode(string) {\n      string = string.replace(/\\r\\n/g,\"\\n\");\n      var utftext = \"\";\n\n      for (var n = 0; n < string.length; n++) {\n        var c = string.charCodeAt(n);\n\n        if (c < 128) {\n          utftext += String.fromCharCode(c);\n        }\n        else if((c > 127) && (c < 2048)) {\n          utftext += String.fromCharCode((c >> 6) | 192);\n          utftext += String.fromCharCode((c & 63) | 128);\n        }\n        else {\n          utftext += String.fromCharCode((c >> 12) | 224);\n          utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n          utftext += String.fromCharCode((c & 63) | 128);\n        }\n      }\n      return utftext;\n    }\n\n    var x=[];\n    var k,AA,BB,CC,DD,a,b,c,d;\n    var S11=7, S12=12, S13=17, S14=22;\n    var S21=5, S22=9 , S23=14, S24=20;\n    var S31=4, S32=11, S33=16, S34=23;\n    var S41=6, S42=10, S43=15, S44=21;\n\n    string = Utf8Encode(string);\n\n    x = ConvertToWordArray(string);\n\n    a = 0x67452301; b = 0xEFCDAB89; c = 0x98BADCFE; d = 0x10325476;\n\n    for (k=0;k<x.length;k+=16) {\n      AA=a; BB=b; CC=c; DD=d;\n      a=FF(a,b,c,d,x[k+0], S11,0xD76AA478);\n      d=FF(d,a,b,c,x[k+1], S12,0xE8C7B756);\n      c=FF(c,d,a,b,x[k+2], S13,0x242070DB);\n      b=FF(b,c,d,a,x[k+3], S14,0xC1BDCEEE);\n      a=FF(a,b,c,d,x[k+4], S11,0xF57C0FAF);\n      d=FF(d,a,b,c,x[k+5], S12,0x4787C62A);\n      c=FF(c,d,a,b,x[k+6], S13,0xA8304613);\n      b=FF(b,c,d,a,x[k+7], S14,0xFD469501);\n      a=FF(a,b,c,d,x[k+8], S11,0x698098D8);\n      d=FF(d,a,b,c,x[k+9], S12,0x8B44F7AF);\n      c=FF(c,d,a,b,x[k+10],S13,0xFFFF5BB1);\n      b=FF(b,c,d,a,x[k+11],S14,0x895CD7BE);\n      a=FF(a,b,c,d,x[k+12],S11,0x6B901122);\n      d=FF(d,a,b,c,x[k+13],S12,0xFD987193);\n      c=FF(c,d,a,b,x[k+14],S13,0xA679438E);\n      b=FF(b,c,d,a,x[k+15],S14,0x49B40821);\n      a=GG(a,b,c,d,x[k+1], S21,0xF61E2562);\n      d=GG(d,a,b,c,x[k+6], S22,0xC040B340);\n      c=GG(c,d,a,b,x[k+11],S23,0x265E5A51);\n      b=GG(b,c,d,a,x[k+0], S24,0xE9B6C7AA);\n      a=GG(a,b,c,d,x[k+5], S21,0xD62F105D);\n      d=GG(d,a,b,c,x[k+10],S22,0x2441453);\n      c=GG(c,d,a,b,x[k+15],S23,0xD8A1E681);\n      b=GG(b,c,d,a,x[k+4], S24,0xE7D3FBC8);\n      a=GG(a,b,c,d,x[k+9], S21,0x21E1CDE6);\n      d=GG(d,a,b,c,x[k+14],S22,0xC33707D6);\n      c=GG(c,d,a,b,x[k+3], S23,0xF4D50D87);\n      b=GG(b,c,d,a,x[k+8], S24,0x455A14ED);\n      a=GG(a,b,c,d,x[k+13],S21,0xA9E3E905);\n      d=GG(d,a,b,c,x[k+2], S22,0xFCEFA3F8);\n      c=GG(c,d,a,b,x[k+7], S23,0x676F02D9);\n      b=GG(b,c,d,a,x[k+12],S24,0x8D2A4C8A);\n      a=HH(a,b,c,d,x[k+5], S31,0xFFFA3942);\n      d=HH(d,a,b,c,x[k+8], S32,0x8771F681);\n      c=HH(c,d,a,b,x[k+11],S33,0x6D9D6122);\n      b=HH(b,c,d,a,x[k+14],S34,0xFDE5380C);\n      a=HH(a,b,c,d,x[k+1], S31,0xA4BEEA44);\n      d=HH(d,a,b,c,x[k+4], S32,0x4BDECFA9);\n      c=HH(c,d,a,b,x[k+7], S33,0xF6BB4B60);\n      b=HH(b,c,d,a,x[k+10],S34,0xBEBFBC70);\n      a=HH(a,b,c,d,x[k+13],S31,0x289B7EC6);\n      d=HH(d,a,b,c,x[k+0], S32,0xEAA127FA);\n      c=HH(c,d,a,b,x[k+3], S33,0xD4EF3085);\n      b=HH(b,c,d,a,x[k+6], S34,0x4881D05);\n      a=HH(a,b,c,d,x[k+9], S31,0xD9D4D039);\n      d=HH(d,a,b,c,x[k+12],S32,0xE6DB99E5);\n      c=HH(c,d,a,b,x[k+15],S33,0x1FA27CF8);\n      b=HH(b,c,d,a,x[k+2], S34,0xC4AC5665);\n      a=II(a,b,c,d,x[k+0], S41,0xF4292244);\n      d=II(d,a,b,c,x[k+7], S42,0x432AFF97);\n      c=II(c,d,a,b,x[k+14],S43,0xAB9423A7);\n      b=II(b,c,d,a,x[k+5], S44,0xFC93A039);\n      a=II(a,b,c,d,x[k+12],S41,0x655B59C3);\n      d=II(d,a,b,c,x[k+3], S42,0x8F0CCC92);\n      c=II(c,d,a,b,x[k+10],S43,0xFFEFF47D);\n      b=II(b,c,d,a,x[k+1], S44,0x85845DD1);\n      a=II(a,b,c,d,x[k+8], S41,0x6FA87E4F);\n      d=II(d,a,b,c,x[k+15],S42,0xFE2CE6E0);\n      c=II(c,d,a,b,x[k+6], S43,0xA3014314);\n      b=II(b,c,d,a,x[k+13],S44,0x4E0811A1);\n      a=II(a,b,c,d,x[k+4], S41,0xF7537E82);\n      d=II(d,a,b,c,x[k+11],S42,0xBD3AF235);\n      c=II(c,d,a,b,x[k+2], S43,0x2AD7D2BB);\n      b=II(b,c,d,a,x[k+9], S44,0xEB86D391);\n      a=AddUnsigned(a,AA);\n      b=AddUnsigned(b,BB);\n      c=AddUnsigned(c,CC);\n      d=AddUnsigned(d,DD);\n    }\n\n    var temp = WordToHex(a)+WordToHex(b)+WordToHex(c)+WordToHex(d);\n\n    return temp.toLowerCase();\n  }\n};\n\nSIP.Utils = Utils;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1V0aWxzLmpzPzc1NGUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLHdEQUF3RCxFQUFFO0FBQzFELEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CLFlBQVksT0FBTztBQUNuQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsaUJBQWlCLG9CQUFvQjtBQUNyQyxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQixVQUFVO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLG1CQUFtQjtBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLG1CQUFtQixnQkFBZ0IsZ0JBQWdCOztBQUVuRCxhQUFhLFdBQVc7QUFDeEIsV0FBVyxNQUFNLE1BQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6IjM0NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFV0aWxzXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoU0lQLCBlbnZpcm9ubWVudCkge1xudmFyIFV0aWxzO1xuXG5VdGlscz0ge1xuXG4gIFByb21pc2U6IGVudmlyb25tZW50LlByb21pc2UsXG5cbiAgZGVmZXI6IGZ1bmN0aW9uIGRlZmVyICgpIHtcbiAgICB2YXIgZGVmZXJyZWQgPSB7fTtcbiAgICBkZWZlcnJlZC5wcm9taXNlID0gbmV3IFV0aWxzLlByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICBkZWZlcnJlZC5yZWplY3QgPSByZWplY3Q7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkO1xuICB9LFxuXG4gIHByb21pc2lmeTogZnVuY3Rpb24gcHJvbWlzaWZ5IChvYmplY3QsIG1ldGhvZE5hbWUsIGNhbGxiYWNrc0ZpcnN0KSB7XG4gICAgdmFyIG9sZE1ldGhvZCA9IG9iamVjdFttZXRob2ROYW1lXTtcbiAgICByZXR1cm4gZnVuY3Rpb24gcHJvbWlzaWZpZWRNZXRob2QgKGFyZywgb25TdWNjZXNzLCBvbkZhaWx1cmUpIHtcbiAgICAgIHJldHVybiBuZXcgVXRpbHMuUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciBvbGRBcmdzID0gW2FyZywgcmVzb2x2ZSwgcmVqZWN0XTtcbiAgICAgICAgaWYgKGNhbGxiYWNrc0ZpcnN0KSB7XG4gICAgICAgICAgb2xkQXJncyA9IFtyZXNvbHZlLCByZWplY3QsIGFyZ107XG4gICAgICAgIH1cbiAgICAgICAgb2xkTWV0aG9kLmFwcGx5KG9iamVjdCwgb2xkQXJncyk7XG4gICAgICB9KS50aGVuKG9uU3VjY2Vzcywgb25GYWlsdXJlKTtcbiAgICB9O1xuICB9LFxuXG4gIGF1Z21lbnQ6IGZ1bmN0aW9uIChvYmplY3QsIGNvbnN0cnVjdG9yLCBhcmdzLCBvdmVycmlkZSkge1xuICAgIHZhciBpZHgsIHByb3RvO1xuXG4gICAgLy8gQWRkIHB1YmxpYyBwcm9wZXJ0aWVzIGZyb20gY29uc3RydWN0b3IncyBwcm90b3R5cGUgb250byBvYmplY3RcbiAgICBwcm90byA9IGNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgICBmb3IgKGlkeCBpbiBwcm90bykge1xuICAgICAgaWYgKG92ZXJyaWRlIHx8IG9iamVjdFtpZHhdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb2JqZWN0W2lkeF0gPSBwcm90b1tpZHhdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENvbnN0cnVjdCB0aGUgb2JqZWN0IGFzIHRob3VnaCBpdCB3ZXJlIGp1c3QgY3JlYXRlZCBieSBjb25zdHJ1Y3RvclxuICAgIGNvbnN0cnVjdG9yLmFwcGx5KG9iamVjdCwgYXJncyk7XG4gIH0sXG5cbiAgb3B0aW9uc092ZXJyaWRlOiBmdW5jdGlvbiAob3B0aW9ucywgd2lubmVyLCBsb3NlciwgaXNEZXByZWNhdGVkLCBsb2dnZXIsIGRlZmF1bHRWYWx1ZSkge1xuICAgIGlmIChpc0RlcHJlY2F0ZWQgJiYgb3B0aW9uc1tsb3Nlcl0pIHtcbiAgICAgIGxvZ2dlci53YXJuKGxvc2VyICsgJyBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlICcgKyB3aW5uZXIgKyAnIGluc3RlYWQnKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9uc1t3aW5uZXJdICYmIG9wdGlvbnNbbG9zZXJdKSB7XG4gICAgICBsb2dnZXIud2Fybih3aW5uZXIgKyAnIG92ZXJyaWRpbmcgJyArIGxvc2VyKTtcbiAgICB9XG5cbiAgICBvcHRpb25zW3dpbm5lcl0gPSBvcHRpb25zW3dpbm5lcl0gfHwgb3B0aW9uc1tsb3Nlcl0gfHwgZGVmYXVsdFZhbHVlO1xuICB9LFxuXG4gIHN0cl91dGY4X2xlbmd0aDogZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpLnJlcGxhY2UoLyVbQS1GXFxkXXsyfS9nLCAnVScpLmxlbmd0aDtcbiAgfSxcblxuICBnZW5lcmF0ZUZha2VTRFA6IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICBpZiAoIWJvZHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc3RhcnQgPSBib2R5LmluZGV4T2YoJ289Jyk7XG4gICAgdmFyIGVuZCA9IGJvZHkuaW5kZXhPZignXFxyXFxuJywgc3RhcnQpO1xuXG4gICAgcmV0dXJuICd2PTBcXHJcXG4nICsgYm9keS5zbGljZShzdGFydCwgZW5kKSArICdcXHJcXG5zPS1cXHJcXG50PTAgMFxcclxcbmM9SU4gSVA0IDAuMC4wLjAnO1xuICB9LFxuXG4gIGlzRnVuY3Rpb246IGZ1bmN0aW9uKGZuKSB7XG4gICAgaWYgKGZuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZm4pID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuXG4gIGlzRGVjaW1hbDogZnVuY3Rpb24gKG51bSkge1xuICAgIHJldHVybiAhaXNOYU4obnVtKSAmJiAocGFyc2VGbG9hdChudW0pID09PSBwYXJzZUludChudW0sMTApKTtcbiAgfSxcblxuICBjcmVhdGVSYW5kb21Ub2tlbjogZnVuY3Rpb24oc2l6ZSwgYmFzZSkge1xuICAgIHZhciBpLCByLFxuICAgICAgdG9rZW4gPSAnJztcblxuICAgIGJhc2UgPSBiYXNlIHx8IDMyO1xuXG4gICAgZm9yKCBpPTA7IGkgPCBzaXplOyBpKysgKSB7XG4gICAgICByID0gTWF0aC5yYW5kb20oKSAqIGJhc2V8MDtcbiAgICAgIHRva2VuICs9IHIudG9TdHJpbmcoYmFzZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRva2VuO1xuICB9LFxuXG4gIG5ld1RhZzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFNJUC5VdGlscy5jcmVhdGVSYW5kb21Ub2tlbihTSVAuVUEuQy5UQUdfTEVOR1RIKTtcbiAgfSxcblxuICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vdXNlcnMvMTA5NTM4L2Jyb29mYVxuICBuZXdVVUlEOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgVVVJRCA9ICAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uKGMpIHtcbiAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSoxNnwwLCB2ID0gYyA9PT0gJ3gnID8gciA6IChyJjB4M3wweDgpO1xuICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIFVVSUQ7XG4gIH0sXG5cbiAgaG9zdFR5cGU6IGZ1bmN0aW9uKGhvc3QpIHtcbiAgICBpZiAoIWhvc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgaG9zdCA9IFNJUC5HcmFtbWFyLnBhcnNlKGhvc3QsJ2hvc3QnKTtcbiAgICAgIGlmIChob3N0ICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gaG9zdC5ob3N0X3R5cGU7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAqIE5vcm1hbGl6ZSBTSVAgVVJJLlxuICAqIE5PVEU6IEl0IGRvZXMgbm90IGFsbG93IGEgU0lQIFVSSSB3aXRob3V0IHVzZXJuYW1lLlxuICAqIEFjY2VwdHMgJ3NpcCcsICdzaXBzJyBhbmQgJ3RlbCcgVVJJcyBhbmQgY29udmVydCB0aGVtIGludG8gJ3NpcCcuXG4gICogRGV0ZWN0cyB0aGUgZG9tYWluIHBhcnQgKGlmIGdpdmVuKSBhbmQgcHJvcGVybHkgaGV4LWVzY2FwZXMgdGhlIHVzZXIgcG9ydGlvbi5cbiAgKiBJZiB0aGUgdXNlciBwb3J0aW9uIGhhcyBvbmx5ICd0ZWwnIG51bWJlciBzeW1ib2xzIHRoZSB1c2VyIHBvcnRpb24gaXMgY2xlYW4gb2YgJ3RlbCcgdmlzdWFsIHNlcGFyYXRvcnMuXG4gICogQHByaXZhdGVcbiAgKiBAcGFyYW0ge1N0cmluZ30gdGFyZ2V0XG4gICogQHBhcmFtIHtTdHJpbmd9IFtkb21haW5dXG4gICovXG4gIG5vcm1hbGl6ZVRhcmdldDogZnVuY3Rpb24odGFyZ2V0LCBkb21haW4pIHtcbiAgICB2YXIgdXJpLCB0YXJnZXRfYXJyYXksIHRhcmdldF91c2VyLCB0YXJnZXRfZG9tYWluO1xuXG4gICAgLy8gSWYgbm8gdGFyZ2V0IGlzIGdpdmVuIHRoZW4gcmFpc2UgYW4gZXJyb3IuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICAvLyBJZiBhIFNJUC5VUkkgaW5zdGFuY2UgaXMgZ2l2ZW4gdGhlbiByZXR1cm4gaXQuXG4gICAgfSBlbHNlIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBTSVAuVVJJKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuXG4gICAgLy8gSWYgYSBzdHJpbmcgaXMgZ2l2ZW4gc3BsaXQgaXQgYnkgJ0AnOlxuICAgIC8vIC0gTGFzdCBmcmFnbWVudCBpcyB0aGUgZGVzaXJlZCBkb21haW4uXG4gICAgLy8gLSBPdGhlcndpc2UgYXBwZW5kIHRoZSBnaXZlbiBkb21haW4gYXJndW1lbnQuXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgdGFyZ2V0X2FycmF5ID0gdGFyZ2V0LnNwbGl0KCdAJyk7XG5cbiAgICAgIHN3aXRjaCh0YXJnZXRfYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoIWRvbWFpbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0YXJnZXRfdXNlciA9IHRhcmdldDtcbiAgICAgICAgICB0YXJnZXRfZG9tYWluID0gZG9tYWluO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgdGFyZ2V0X3VzZXIgPSB0YXJnZXRfYXJyYXlbMF07XG4gICAgICAgICAgdGFyZ2V0X2RvbWFpbiA9IHRhcmdldF9hcnJheVsxXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0YXJnZXRfdXNlciA9IHRhcmdldF9hcnJheS5zbGljZSgwLCB0YXJnZXRfYXJyYXkubGVuZ3RoLTEpLmpvaW4oJ0AnKTtcbiAgICAgICAgICB0YXJnZXRfZG9tYWluID0gdGFyZ2V0X2FycmF5W3RhcmdldF9hcnJheS5sZW5ndGgtMV07XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbW92ZSB0aGUgVVJJIHNjaGVtZSAoaWYgcHJlc2VudCkuXG4gICAgICB0YXJnZXRfdXNlciA9IHRhcmdldF91c2VyLnJlcGxhY2UoL14oc2lwcz98dGVsKTovaSwgJycpO1xuXG4gICAgICAvLyBSZW1vdmUgJ3RlbCcgdmlzdWFsIHNlcGFyYXRvcnMgaWYgdGhlIHVzZXIgcG9ydGlvbiBqdXN0IGNvbnRhaW5zICd0ZWwnIG51bWJlciBzeW1ib2xzLlxuICAgICAgaWYgKC9eW1xcLVxcLlxcKFxcKV0qXFwrP1swLTlcXC1cXC5cXChcXCldKyQvLnRlc3QodGFyZ2V0X3VzZXIpKSB7XG4gICAgICAgIHRhcmdldF91c2VyID0gdGFyZ2V0X3VzZXIucmVwbGFjZSgvW1xcLVxcLlxcKFxcKV0vZywgJycpO1xuICAgICAgfVxuXG4gICAgICAvLyBCdWlsZCB0aGUgY29tcGxldGUgU0lQIFVSSS5cbiAgICAgIHRhcmdldCA9IFNJUC5DLlNJUCArICc6JyArIFNJUC5VdGlscy5lc2NhcGVVc2VyKHRhcmdldF91c2VyKSArICdAJyArIHRhcmdldF9kb21haW47XG5cbiAgICAgIC8vIEZpbmFsbHkgcGFyc2UgdGhlIHJlc3VsdGluZyBVUkkuXG4gICAgICBpZiAodXJpID0gU0lQLlVSSS5wYXJzZSh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiB1cmk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICogSGV4LWVzY2FwZSBhIFNJUCBVUkkgdXNlci5cbiAgKiBAcHJpdmF0ZVxuICAqIEBwYXJhbSB7U3RyaW5nfSB1c2VyXG4gICovXG4gIGVzY2FwZVVzZXI6IGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAvLyBEb24ndCBoZXgtZXNjYXBlICc6JyAoJTNBKSwgJysnICglMkIpLCAnPycgKCUzRlwiKSwgJy8nICglMkYpLlxuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoZGVjb2RlVVJJQ29tcG9uZW50KHVzZXIpKS5yZXBsYWNlKC8lM0EvaWcsICc6JykucmVwbGFjZSgvJTJCL2lnLCAnKycpLnJlcGxhY2UoLyUzRi9pZywgJz8nKS5yZXBsYWNlKC8lMkYvaWcsICcvJyk7XG4gIH0sXG5cbiAgaGVhZGVyaXplOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICB2YXIgZXhjZXB0aW9ucyA9IHtcbiAgICAgICdDYWxsLUlkJzogJ0NhbGwtSUQnLFxuICAgICAgJ0NzZXEnOiAnQ1NlcScsXG4gICAgICAnTWluLVNlJzogJ01pbi1TRScsXG4gICAgICAnUmFjayc6ICdSQWNrJyxcbiAgICAgICdSc2VxJzogJ1JTZXEnLFxuICAgICAgJ1d3dy1BdXRoZW50aWNhdGUnOiAnV1dXLUF1dGhlbnRpY2F0ZSdcbiAgICAgIH0sXG4gICAgICBuYW1lID0gc3RyaW5nLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLCctJykuc3BsaXQoJy0nKSxcbiAgICAgIGhuYW1lID0gJycsXG4gICAgICBwYXJ0cyA9IG5hbWUubGVuZ3RoLCBwYXJ0O1xuXG4gICAgZm9yIChwYXJ0ID0gMDsgcGFydCA8IHBhcnRzOyBwYXJ0KyspIHtcbiAgICAgIGlmIChwYXJ0ICE9PSAwKSB7XG4gICAgICAgIGhuYW1lICs9Jy0nO1xuICAgICAgfVxuICAgICAgaG5hbWUgKz0gbmFtZVtwYXJ0XS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStuYW1lW3BhcnRdLnN1YnN0cmluZygxKTtcbiAgICB9XG4gICAgaWYgKGV4Y2VwdGlvbnNbaG5hbWVdKSB7XG4gICAgICBobmFtZSA9IGV4Y2VwdGlvbnNbaG5hbWVdO1xuICAgIH1cbiAgICByZXR1cm4gaG5hbWU7XG4gIH0sXG5cbiAgc2lwRXJyb3JDYXVzZTogZnVuY3Rpb24oc3RhdHVzX2NvZGUpIHtcbiAgICB2YXIgY2F1c2U7XG5cbiAgICBmb3IgKGNhdXNlIGluIFNJUC5DLlNJUF9FUlJPUl9DQVVTRVMpIHtcbiAgICAgIGlmIChTSVAuQy5TSVBfRVJST1JfQ0FVU0VTW2NhdXNlXS5pbmRleE9mKHN0YXR1c19jb2RlKSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIFNJUC5DLmNhdXNlc1tjYXVzZV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFNJUC5DLmNhdXNlcy5TSVBfRkFJTFVSRV9DT0RFO1xuICB9LFxuXG4gIGdldFJlYXNvblBocmFzZTogZnVuY3Rpb24gZ2V0UmVhc29uUGhyYXNlIChjb2RlLCBzcGVjaWZpYykge1xuICAgIHJldHVybiBzcGVjaWZpYyB8fCBTSVAuQy5SRUFTT05fUEhSQVNFW2NvZGVdIHx8ICcnO1xuICB9LFxuXG4gIGdldFJlYXNvbkhlYWRlclZhbHVlOiBmdW5jdGlvbiBnZXRSZWFzb25IZWFkZXJWYWx1ZSAoY29kZSwgcmVhc29uKSB7XG4gICAgcmVhc29uID0gU0lQLlV0aWxzLmdldFJlYXNvblBocmFzZShjb2RlLCByZWFzb24pO1xuICAgIHJldHVybiAnU0lQIDtjYXVzZT0nICsgY29kZSArICcgO3RleHQ9XCInICsgcmVhc29uICsgJ1wiJztcbiAgfSxcblxuICBnZXRDYW5jZWxSZWFzb246IGZ1bmN0aW9uIGdldENhbmNlbFJlYXNvbiAoY29kZSwgcmVhc29uKSB7XG4gICAgaWYgKGNvZGUgJiYgY29kZSA8IDIwMCB8fCBjb2RlID4gNjk5KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHN0YXR1c19jb2RlOiAnICsgY29kZSk7XG4gICAgfSBlbHNlIGlmIChjb2RlKSB7XG4gICAgICByZXR1cm4gU0lQLlV0aWxzLmdldFJlYXNvbkhlYWRlclZhbHVlKGNvZGUsIHJlYXNvbik7XG4gICAgfVxuICB9LFxuXG4gIGJ1aWxkU3RhdHVzTGluZTogZnVuY3Rpb24gYnVpbGRTdGF0dXNMaW5lIChjb2RlLCByZWFzb24pIHtcbiAgICBjb2RlID0gY29kZSB8fCBudWxsO1xuICAgIHJlYXNvbiA9IHJlYXNvbiB8fCBudWxsO1xuXG4gICAgLy8gVmFsaWRhdGUgY29kZSBhbmQgcmVhc29uIHZhbHVlc1xuICAgIGlmICghY29kZSB8fCAoY29kZSA8IDEwMCB8fCBjb2RlID4gNjk5KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBzdGF0dXNfY29kZTogJysgY29kZSk7XG4gICAgfSBlbHNlIGlmIChyZWFzb24gJiYgdHlwZW9mIHJlYXNvbiAhPT0gJ3N0cmluZycgJiYgIShyZWFzb24gaW5zdGFuY2VvZiBTdHJpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHJlYXNvbl9waHJhc2U6ICcrIHJlYXNvbik7XG4gICAgfVxuXG4gICAgcmVhc29uID0gVXRpbHMuZ2V0UmVhc29uUGhyYXNlKGNvZGUsIHJlYXNvbik7XG5cbiAgICByZXR1cm4gJ1NJUC8yLjAgJyArIGNvZGUgKyAnICcgKyByZWFzb24gKyAnXFxyXFxuJztcbiAgfSxcblxuICAvKipcbiAgKiBHZW5lcmF0ZSBhIHJhbmRvbSBUZXN0LU5ldCBJUCAoaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNTczNSlcbiAgKiBAcHJpdmF0ZVxuICAqL1xuICBnZXRSYW5kb21UZXN0TmV0SVA6IGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIGdldE9jdGV0KGZyb20sdG8pIHtcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKHRvLWZyb20rMSkrZnJvbSk7XG4gICAgfVxuICAgIHJldHVybiAnMTkyLjAuMi4nICsgZ2V0T2N0ZXQoMSwgMjU0KTtcbiAgfSxcblxuICAvLyBNRDUgKE1lc3NhZ2UtRGlnZXN0IEFsZ29yaXRobSkgaHR0cDovL3d3dy53ZWJ0b29sa2l0LmluZm9cbiAgY2FsY3VsYXRlTUQ1OiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICBmdW5jdGlvbiBSb3RhdGVMZWZ0KGxWYWx1ZSwgaVNoaWZ0Qml0cykge1xuICAgICAgcmV0dXJuIChsVmFsdWU8PGlTaGlmdEJpdHMpIHwgKGxWYWx1ZT4+PigzMi1pU2hpZnRCaXRzKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gQWRkVW5zaWduZWQobFgsbFkpIHtcbiAgICAgIHZhciBsWDQsbFk0LGxYOCxsWTgsbFJlc3VsdDtcbiAgICAgIGxYOCA9IChsWCAmIDB4ODAwMDAwMDApO1xuICAgICAgbFk4ID0gKGxZICYgMHg4MDAwMDAwMCk7XG4gICAgICBsWDQgPSAobFggJiAweDQwMDAwMDAwKTtcbiAgICAgIGxZNCA9IChsWSAmIDB4NDAwMDAwMDApO1xuICAgICAgbFJlc3VsdCA9IChsWCAmIDB4M0ZGRkZGRkYpKyhsWSAmIDB4M0ZGRkZGRkYpO1xuICAgICAgaWYgKGxYNCAmIGxZNCkge1xuICAgICAgICByZXR1cm4gKGxSZXN1bHQgXiAweDgwMDAwMDAwIF4gbFg4IF4gbFk4KTtcbiAgICAgIH1cbiAgICAgIGlmIChsWDQgfCBsWTQpIHtcbiAgICAgICAgaWYgKGxSZXN1bHQgJiAweDQwMDAwMDAwKSB7XG4gICAgICAgICAgcmV0dXJuIChsUmVzdWx0IF4gMHhDMDAwMDAwMCBeIGxYOCBeIGxZOCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIChsUmVzdWx0IF4gMHg0MDAwMDAwMCBeIGxYOCBeIGxZOCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAobFJlc3VsdCBeIGxYOCBeIGxZOCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gRih4LHkseikge1xuICAgICAgcmV0dXJuICh4ICYgeSkgfCAoKH54KSAmIHopO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEcoeCx5LHopIHtcbiAgICAgIHJldHVybiAoeCAmIHopIHwgKHkgJiAofnopKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBIKHgseSx6KSB7XG4gICAgICByZXR1cm4gKHggXiB5IF4geik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gSSh4LHkseikge1xuICAgICAgcmV0dXJuICh5IF4gKHggfCAofnopKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gRkYoYSxiLGMsZCx4LHMsYWMpIHtcbiAgICAgIGEgPSBBZGRVbnNpZ25lZChhLCBBZGRVbnNpZ25lZChBZGRVbnNpZ25lZChGKGIsIGMsIGQpLCB4KSwgYWMpKTtcbiAgICAgIHJldHVybiBBZGRVbnNpZ25lZChSb3RhdGVMZWZ0KGEsIHMpLCBiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBHRyhhLGIsYyxkLHgscyxhYykge1xuICAgICAgYSA9IEFkZFVuc2lnbmVkKGEsIEFkZFVuc2lnbmVkKEFkZFVuc2lnbmVkKEcoYiwgYywgZCksIHgpLCBhYykpO1xuICAgICAgcmV0dXJuIEFkZFVuc2lnbmVkKFJvdGF0ZUxlZnQoYSwgcyksIGIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEhIKGEsYixjLGQseCxzLGFjKSB7XG4gICAgICBhID0gQWRkVW5zaWduZWQoYSwgQWRkVW5zaWduZWQoQWRkVW5zaWduZWQoSChiLCBjLCBkKSwgeCksIGFjKSk7XG4gICAgICByZXR1cm4gQWRkVW5zaWduZWQoUm90YXRlTGVmdChhLCBzKSwgYik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gSUkoYSxiLGMsZCx4LHMsYWMpIHtcbiAgICAgIGEgPSBBZGRVbnNpZ25lZChhLCBBZGRVbnNpZ25lZChBZGRVbnNpZ25lZChJKGIsIGMsIGQpLCB4KSwgYWMpKTtcbiAgICAgIHJldHVybiBBZGRVbnNpZ25lZChSb3RhdGVMZWZ0KGEsIHMpLCBiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBDb252ZXJ0VG9Xb3JkQXJyYXkoc3RyaW5nKSB7XG4gICAgICB2YXIgbFdvcmRDb3VudDtcbiAgICAgIHZhciBsTWVzc2FnZUxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICB2YXIgbE51bWJlck9mV29yZHNfdGVtcDE9bE1lc3NhZ2VMZW5ndGggKyA4O1xuICAgICAgdmFyIGxOdW1iZXJPZldvcmRzX3RlbXAyPShsTnVtYmVyT2ZXb3Jkc190ZW1wMS0obE51bWJlck9mV29yZHNfdGVtcDEgJSA2NCkpLzY0O1xuICAgICAgdmFyIGxOdW1iZXJPZldvcmRzID0gKGxOdW1iZXJPZldvcmRzX3RlbXAyKzEpKjE2O1xuICAgICAgdmFyIGxXb3JkQXJyYXk9QXJyYXkobE51bWJlck9mV29yZHMtMSk7XG4gICAgICB2YXIgbEJ5dGVQb3NpdGlvbiA9IDA7XG4gICAgICB2YXIgbEJ5dGVDb3VudCA9IDA7XG4gICAgICB3aGlsZSAoIGxCeXRlQ291bnQgPCBsTWVzc2FnZUxlbmd0aCApIHtcbiAgICAgICAgbFdvcmRDb3VudCA9IChsQnl0ZUNvdW50LShsQnl0ZUNvdW50ICUgNCkpLzQ7XG4gICAgICAgIGxCeXRlUG9zaXRpb24gPSAobEJ5dGVDb3VudCAlIDQpKjg7XG4gICAgICAgIGxXb3JkQXJyYXlbbFdvcmRDb3VudF0gPSAobFdvcmRBcnJheVtsV29yZENvdW50XSB8IChzdHJpbmcuY2hhckNvZGVBdChsQnl0ZUNvdW50KTw8bEJ5dGVQb3NpdGlvbikpO1xuICAgICAgICBsQnl0ZUNvdW50Kys7XG4gICAgICB9XG4gICAgICBsV29yZENvdW50ID0gKGxCeXRlQ291bnQtKGxCeXRlQ291bnQgJSA0KSkvNDtcbiAgICAgIGxCeXRlUG9zaXRpb24gPSAobEJ5dGVDb3VudCAlIDQpKjg7XG4gICAgICBsV29yZEFycmF5W2xXb3JkQ291bnRdID0gbFdvcmRBcnJheVtsV29yZENvdW50XSB8ICgweDgwPDxsQnl0ZVBvc2l0aW9uKTtcbiAgICAgIGxXb3JkQXJyYXlbbE51bWJlck9mV29yZHMtMl0gPSBsTWVzc2FnZUxlbmd0aDw8MztcbiAgICAgIGxXb3JkQXJyYXlbbE51bWJlck9mV29yZHMtMV0gPSBsTWVzc2FnZUxlbmd0aD4+PjI5O1xuICAgICAgcmV0dXJuIGxXb3JkQXJyYXk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gV29yZFRvSGV4KGxWYWx1ZSkge1xuICAgICAgdmFyIFdvcmRUb0hleFZhbHVlPVwiXCIsV29yZFRvSGV4VmFsdWVfdGVtcD1cIlwiLGxCeXRlLGxDb3VudDtcbiAgICAgIGZvciAobENvdW50ID0gMDtsQ291bnQ8PTM7bENvdW50KyspIHtcbiAgICAgICAgbEJ5dGUgPSAobFZhbHVlPj4+KGxDb3VudCo4KSkgJiAyNTU7XG4gICAgICAgIFdvcmRUb0hleFZhbHVlX3RlbXAgPSBcIjBcIiArIGxCeXRlLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgV29yZFRvSGV4VmFsdWUgPSBXb3JkVG9IZXhWYWx1ZSArIFdvcmRUb0hleFZhbHVlX3RlbXAuc3Vic3RyKFdvcmRUb0hleFZhbHVlX3RlbXAubGVuZ3RoLTIsMik7XG4gICAgICB9XG4gICAgICByZXR1cm4gV29yZFRvSGV4VmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gVXRmOEVuY29kZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC9cXHJcXG4vZyxcIlxcblwiKTtcbiAgICAgIHZhciB1dGZ0ZXh0ID0gXCJcIjtcblxuICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBzdHJpbmcubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgdmFyIGMgPSBzdHJpbmcuY2hhckNvZGVBdChuKTtcblxuICAgICAgICBpZiAoYyA8IDEyOCkge1xuICAgICAgICAgIHV0ZnRleHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKChjID4gMTI3KSAmJiAoYyA8IDIwNDgpKSB7XG4gICAgICAgICAgdXRmdGV4dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjID4+IDYpIHwgMTkyKTtcbiAgICAgICAgICB1dGZ0ZXh0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGMgJiA2MykgfCAxMjgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHV0ZnRleHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYyA+PiAxMikgfCAyMjQpO1xuICAgICAgICAgIHV0ZnRleHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGMgPj4gNikgJiA2MykgfCAxMjgpO1xuICAgICAgICAgIHV0ZnRleHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYyAmIDYzKSB8IDEyOCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB1dGZ0ZXh0O1xuICAgIH1cblxuICAgIHZhciB4PVtdO1xuICAgIHZhciBrLEFBLEJCLENDLERELGEsYixjLGQ7XG4gICAgdmFyIFMxMT03LCBTMTI9MTIsIFMxMz0xNywgUzE0PTIyO1xuICAgIHZhciBTMjE9NSwgUzIyPTkgLCBTMjM9MTQsIFMyND0yMDtcbiAgICB2YXIgUzMxPTQsIFMzMj0xMSwgUzMzPTE2LCBTMzQ9MjM7XG4gICAgdmFyIFM0MT02LCBTNDI9MTAsIFM0Mz0xNSwgUzQ0PTIxO1xuXG4gICAgc3RyaW5nID0gVXRmOEVuY29kZShzdHJpbmcpO1xuXG4gICAgeCA9IENvbnZlcnRUb1dvcmRBcnJheShzdHJpbmcpO1xuXG4gICAgYSA9IDB4Njc0NTIzMDE7IGIgPSAweEVGQ0RBQjg5OyBjID0gMHg5OEJBRENGRTsgZCA9IDB4MTAzMjU0NzY7XG5cbiAgICBmb3IgKGs9MDtrPHgubGVuZ3RoO2srPTE2KSB7XG4gICAgICBBQT1hOyBCQj1iOyBDQz1jOyBERD1kO1xuICAgICAgYT1GRihhLGIsYyxkLHhbayswXSwgUzExLDB4RDc2QUE0NzgpO1xuICAgICAgZD1GRihkLGEsYixjLHhbaysxXSwgUzEyLDB4RThDN0I3NTYpO1xuICAgICAgYz1GRihjLGQsYSxiLHhbaysyXSwgUzEzLDB4MjQyMDcwREIpO1xuICAgICAgYj1GRihiLGMsZCxhLHhbayszXSwgUzE0LDB4QzFCRENFRUUpO1xuICAgICAgYT1GRihhLGIsYyxkLHhbays0XSwgUzExLDB4RjU3QzBGQUYpO1xuICAgICAgZD1GRihkLGEsYixjLHhbays1XSwgUzEyLDB4NDc4N0M2MkEpO1xuICAgICAgYz1GRihjLGQsYSxiLHhbays2XSwgUzEzLDB4QTgzMDQ2MTMpO1xuICAgICAgYj1GRihiLGMsZCxhLHhbays3XSwgUzE0LDB4RkQ0Njk1MDEpO1xuICAgICAgYT1GRihhLGIsYyxkLHhbays4XSwgUzExLDB4Njk4MDk4RDgpO1xuICAgICAgZD1GRihkLGEsYixjLHhbays5XSwgUzEyLDB4OEI0NEY3QUYpO1xuICAgICAgYz1GRihjLGQsYSxiLHhbaysxMF0sUzEzLDB4RkZGRjVCQjEpO1xuICAgICAgYj1GRihiLGMsZCxhLHhbaysxMV0sUzE0LDB4ODk1Q0Q3QkUpO1xuICAgICAgYT1GRihhLGIsYyxkLHhbaysxMl0sUzExLDB4NkI5MDExMjIpO1xuICAgICAgZD1GRihkLGEsYixjLHhbaysxM10sUzEyLDB4RkQ5ODcxOTMpO1xuICAgICAgYz1GRihjLGQsYSxiLHhbaysxNF0sUzEzLDB4QTY3OTQzOEUpO1xuICAgICAgYj1GRihiLGMsZCxhLHhbaysxNV0sUzE0LDB4NDlCNDA4MjEpO1xuICAgICAgYT1HRyhhLGIsYyxkLHhbaysxXSwgUzIxLDB4RjYxRTI1NjIpO1xuICAgICAgZD1HRyhkLGEsYixjLHhbays2XSwgUzIyLDB4QzA0MEIzNDApO1xuICAgICAgYz1HRyhjLGQsYSxiLHhbaysxMV0sUzIzLDB4MjY1RTVBNTEpO1xuICAgICAgYj1HRyhiLGMsZCxhLHhbayswXSwgUzI0LDB4RTlCNkM3QUEpO1xuICAgICAgYT1HRyhhLGIsYyxkLHhbays1XSwgUzIxLDB4RDYyRjEwNUQpO1xuICAgICAgZD1HRyhkLGEsYixjLHhbaysxMF0sUzIyLDB4MjQ0MTQ1Myk7XG4gICAgICBjPUdHKGMsZCxhLGIseFtrKzE1XSxTMjMsMHhEOEExRTY4MSk7XG4gICAgICBiPUdHKGIsYyxkLGEseFtrKzRdLCBTMjQsMHhFN0QzRkJDOCk7XG4gICAgICBhPUdHKGEsYixjLGQseFtrKzldLCBTMjEsMHgyMUUxQ0RFNik7XG4gICAgICBkPUdHKGQsYSxiLGMseFtrKzE0XSxTMjIsMHhDMzM3MDdENik7XG4gICAgICBjPUdHKGMsZCxhLGIseFtrKzNdLCBTMjMsMHhGNEQ1MEQ4Nyk7XG4gICAgICBiPUdHKGIsYyxkLGEseFtrKzhdLCBTMjQsMHg0NTVBMTRFRCk7XG4gICAgICBhPUdHKGEsYixjLGQseFtrKzEzXSxTMjEsMHhBOUUzRTkwNSk7XG4gICAgICBkPUdHKGQsYSxiLGMseFtrKzJdLCBTMjIsMHhGQ0VGQTNGOCk7XG4gICAgICBjPUdHKGMsZCxhLGIseFtrKzddLCBTMjMsMHg2NzZGMDJEOSk7XG4gICAgICBiPUdHKGIsYyxkLGEseFtrKzEyXSxTMjQsMHg4RDJBNEM4QSk7XG4gICAgICBhPUhIKGEsYixjLGQseFtrKzVdLCBTMzEsMHhGRkZBMzk0Mik7XG4gICAgICBkPUhIKGQsYSxiLGMseFtrKzhdLCBTMzIsMHg4NzcxRjY4MSk7XG4gICAgICBjPUhIKGMsZCxhLGIseFtrKzExXSxTMzMsMHg2RDlENjEyMik7XG4gICAgICBiPUhIKGIsYyxkLGEseFtrKzE0XSxTMzQsMHhGREU1MzgwQyk7XG4gICAgICBhPUhIKGEsYixjLGQseFtrKzFdLCBTMzEsMHhBNEJFRUE0NCk7XG4gICAgICBkPUhIKGQsYSxiLGMseFtrKzRdLCBTMzIsMHg0QkRFQ0ZBOSk7XG4gICAgICBjPUhIKGMsZCxhLGIseFtrKzddLCBTMzMsMHhGNkJCNEI2MCk7XG4gICAgICBiPUhIKGIsYyxkLGEseFtrKzEwXSxTMzQsMHhCRUJGQkM3MCk7XG4gICAgICBhPUhIKGEsYixjLGQseFtrKzEzXSxTMzEsMHgyODlCN0VDNik7XG4gICAgICBkPUhIKGQsYSxiLGMseFtrKzBdLCBTMzIsMHhFQUExMjdGQSk7XG4gICAgICBjPUhIKGMsZCxhLGIseFtrKzNdLCBTMzMsMHhENEVGMzA4NSk7XG4gICAgICBiPUhIKGIsYyxkLGEseFtrKzZdLCBTMzQsMHg0ODgxRDA1KTtcbiAgICAgIGE9SEgoYSxiLGMsZCx4W2srOV0sIFMzMSwweEQ5RDREMDM5KTtcbiAgICAgIGQ9SEgoZCxhLGIsYyx4W2srMTJdLFMzMiwweEU2REI5OUU1KTtcbiAgICAgIGM9SEgoYyxkLGEsYix4W2srMTVdLFMzMywweDFGQTI3Q0Y4KTtcbiAgICAgIGI9SEgoYixjLGQsYSx4W2srMl0sIFMzNCwweEM0QUM1NjY1KTtcbiAgICAgIGE9SUkoYSxiLGMsZCx4W2srMF0sIFM0MSwweEY0MjkyMjQ0KTtcbiAgICAgIGQ9SUkoZCxhLGIsYyx4W2srN10sIFM0MiwweDQzMkFGRjk3KTtcbiAgICAgIGM9SUkoYyxkLGEsYix4W2srMTRdLFM0MywweEFCOTQyM0E3KTtcbiAgICAgIGI9SUkoYixjLGQsYSx4W2srNV0sIFM0NCwweEZDOTNBMDM5KTtcbiAgICAgIGE9SUkoYSxiLGMsZCx4W2srMTJdLFM0MSwweDY1NUI1OUMzKTtcbiAgICAgIGQ9SUkoZCxhLGIsYyx4W2srM10sIFM0MiwweDhGMENDQzkyKTtcbiAgICAgIGM9SUkoYyxkLGEsYix4W2srMTBdLFM0MywweEZGRUZGNDdEKTtcbiAgICAgIGI9SUkoYixjLGQsYSx4W2srMV0sIFM0NCwweDg1ODQ1REQxKTtcbiAgICAgIGE9SUkoYSxiLGMsZCx4W2srOF0sIFM0MSwweDZGQTg3RTRGKTtcbiAgICAgIGQ9SUkoZCxhLGIsYyx4W2srMTVdLFM0MiwweEZFMkNFNkUwKTtcbiAgICAgIGM9SUkoYyxkLGEsYix4W2srNl0sIFM0MywweEEzMDE0MzE0KTtcbiAgICAgIGI9SUkoYixjLGQsYSx4W2srMTNdLFM0NCwweDRFMDgxMUExKTtcbiAgICAgIGE9SUkoYSxiLGMsZCx4W2srNF0sIFM0MSwweEY3NTM3RTgyKTtcbiAgICAgIGQ9SUkoZCxhLGIsYyx4W2srMTFdLFM0MiwweEJEM0FGMjM1KTtcbiAgICAgIGM9SUkoYyxkLGEsYix4W2srMl0sIFM0MywweDJBRDdEMkJCKTtcbiAgICAgIGI9SUkoYixjLGQsYSx4W2srOV0sIFM0NCwweEVCODZEMzkxKTtcbiAgICAgIGE9QWRkVW5zaWduZWQoYSxBQSk7XG4gICAgICBiPUFkZFVuc2lnbmVkKGIsQkIpO1xuICAgICAgYz1BZGRVbnNpZ25lZChjLENDKTtcbiAgICAgIGQ9QWRkVW5zaWduZWQoZCxERCk7XG4gICAgfVxuXG4gICAgdmFyIHRlbXAgPSBXb3JkVG9IZXgoYSkrV29yZFRvSGV4KGIpK1dvcmRUb0hleChjKStXb3JkVG9IZXgoZCk7XG5cbiAgICByZXR1cm4gdGVtcC50b0xvd2VyQ2FzZSgpO1xuICB9XG59O1xuXG5TSVAuVXRpbHMgPSBVdGlscztcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AdHdpbGlvL3NpcC5qcy9zcmMvVXRpbHMuanNcbi8vIG1vZHVsZSBpZCA9IDM0NFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///344\n");

/***/ }),
/* 345 */
/*!**********************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/LoggerFactory.js ***!
  \**********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar levels = {\n  'error': 0,\n  'warn': 1,\n  'log': 2,\n  'debug': 3\n};\n\nmodule.exports = function (console) {\n\nvar LoggerFactory = function () {\n  var logger,\n    level = 2,\n    builtinEnabled = true,\n    connector = null;\n\n    this.loggers = {};\n\n    logger = this.getLogger('sip.loggerfactory');\n\n\n  Object.defineProperties(this, {\n    builtinEnabled: {\n      get: function(){ return builtinEnabled; },\n      set: function(value){\n        if (typeof value === 'boolean') {\n          builtinEnabled = value;\n        } else {\n          logger.error('invalid \"builtinEnabled\" parameter value: '+ JSON.stringify(value));\n        }\n      }\n    },\n\n    level: {\n      get: function() {return level; },\n      set: function(value) {\n        if (value >= 0 && value <=3) {\n          level = value;\n        } else if (value > 3) {\n          level = 3;\n        } else if (levels.hasOwnProperty(value)) {\n          level = levels[value];\n        } else {\n          logger.error('invalid \"level\" parameter value: '+ JSON.stringify(value));\n        }\n      }\n    },\n\n    connector: {\n      get: function() {return connector; },\n      set: function(value){\n        if(value === null || value === \"\" || value === undefined) {\n          connector = null;\n        } else if (typeof value === 'function') {\n          connector = value;\n        } else {\n          logger.error('invalid \"connector\" parameter value: '+ JSON.stringify(value));\n        }\n      }\n    }\n  });\n};\n\nLoggerFactory.prototype.print = function(target, category, label, content) {\n  if (typeof content === 'string') {\n    var prefix = [new Date(), category];\n    if (label) {\n      prefix.push(label);\n    }\n    content = prefix.concat(content).join(' | ');\n  }\n  target.call(console, content);\n};\n\nfunction Logger (logger, category, label) {\n  this.logger = logger;\n  this.category = category;\n  this.label = label;\n}\n\nObject.keys(levels).forEach(function (targetName) {\n  Logger.prototype[targetName] = function (content) {\n    this.logger[targetName](this.category, this.label, content);\n  };\n\n  LoggerFactory.prototype[targetName] = function (category, label, content) {\n    if (this.level >= levels[targetName]) {\n      if (this.builtinEnabled) {\n        this.print(console[targetName], category, label, content);\n      }\n\n      if (this.connector) {\n        this.connector(targetName, category, label, content);\n      }\n    }\n  };\n});\n\nLoggerFactory.prototype.getLogger = function(category, label) {\n  var logger;\n\n  if (label && this.level === 3) {\n    return new Logger(this, category, label);\n  } else if (this.loggers[category]) {\n    return this.loggers[category];\n  } else {\n    logger = new Logger(this, category);\n    this.loggers[category] = logger;\n    return logger;\n  }\n};\n\nreturn LoggerFactory;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL0xvZ2dlckZhY3RvcnkuanM/ZmYyMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0Esc0JBQXNCLHVCQUF1QixFQUFFO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsdUJBQXVCLGFBQWEsRUFBRTtBQUN0QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLHVCQUF1QixpQkFBaUIsRUFBRTtBQUMxQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJmaWxlIjoiMzQ1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgbGV2ZWxzID0ge1xuICAnZXJyb3InOiAwLFxuICAnd2Fybic6IDEsXG4gICdsb2cnOiAyLFxuICAnZGVidWcnOiAzXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjb25zb2xlKSB7XG5cbnZhciBMb2dnZXJGYWN0b3J5ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbG9nZ2VyLFxuICAgIGxldmVsID0gMixcbiAgICBidWlsdGluRW5hYmxlZCA9IHRydWUsXG4gICAgY29ubmVjdG9yID0gbnVsbDtcblxuICAgIHRoaXMubG9nZ2VycyA9IHt9O1xuXG4gICAgbG9nZ2VyID0gdGhpcy5nZXRMb2dnZXIoJ3NpcC5sb2dnZXJmYWN0b3J5Jyk7XG5cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7XG4gICAgYnVpbHRpbkVuYWJsZWQ6IHtcbiAgICAgIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIGJ1aWx0aW5FbmFibGVkOyB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgICAgICAgIGJ1aWx0aW5FbmFibGVkID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nZ2VyLmVycm9yKCdpbnZhbGlkIFwiYnVpbHRpbkVuYWJsZWRcIiBwYXJhbWV0ZXIgdmFsdWU6ICcrIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgbGV2ZWw6IHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7cmV0dXJuIGxldmVsOyB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPj0gMCAmJiB2YWx1ZSA8PTMpIHtcbiAgICAgICAgICBsZXZlbCA9IHZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID4gMykge1xuICAgICAgICAgIGxldmVsID0gMztcbiAgICAgICAgfSBlbHNlIGlmIChsZXZlbHMuaGFzT3duUHJvcGVydHkodmFsdWUpKSB7XG4gICAgICAgICAgbGV2ZWwgPSBsZXZlbHNbdmFsdWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZ2dlci5lcnJvcignaW52YWxpZCBcImxldmVsXCIgcGFyYW1ldGVyIHZhbHVlOiAnKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGNvbm5lY3Rvcjoge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtyZXR1cm4gY29ubmVjdG9yOyB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgIGlmKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSBcIlwiIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb25uZWN0b3IgPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNvbm5lY3RvciA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZ2dlci5lcnJvcignaW52YWxpZCBcImNvbm5lY3RvclwiIHBhcmFtZXRlciB2YWx1ZTogJysgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5Mb2dnZXJGYWN0b3J5LnByb3RvdHlwZS5wcmludCA9IGZ1bmN0aW9uKHRhcmdldCwgY2F0ZWdvcnksIGxhYmVsLCBjb250ZW50KSB7XG4gIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgcHJlZml4ID0gW25ldyBEYXRlKCksIGNhdGVnb3J5XTtcbiAgICBpZiAobGFiZWwpIHtcbiAgICAgIHByZWZpeC5wdXNoKGxhYmVsKTtcbiAgICB9XG4gICAgY29udGVudCA9IHByZWZpeC5jb25jYXQoY29udGVudCkuam9pbignIHwgJyk7XG4gIH1cbiAgdGFyZ2V0LmNhbGwoY29uc29sZSwgY29udGVudCk7XG59O1xuXG5mdW5jdGlvbiBMb2dnZXIgKGxvZ2dlciwgY2F0ZWdvcnksIGxhYmVsKSB7XG4gIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICB0aGlzLmNhdGVnb3J5ID0gY2F0ZWdvcnk7XG4gIHRoaXMubGFiZWwgPSBsYWJlbDtcbn1cblxuT2JqZWN0LmtleXMobGV2ZWxzKS5mb3JFYWNoKGZ1bmN0aW9uICh0YXJnZXROYW1lKSB7XG4gIExvZ2dlci5wcm90b3R5cGVbdGFyZ2V0TmFtZV0gPSBmdW5jdGlvbiAoY29udGVudCkge1xuICAgIHRoaXMubG9nZ2VyW3RhcmdldE5hbWVdKHRoaXMuY2F0ZWdvcnksIHRoaXMubGFiZWwsIGNvbnRlbnQpO1xuICB9O1xuXG4gIExvZ2dlckZhY3RvcnkucHJvdG90eXBlW3RhcmdldE5hbWVdID0gZnVuY3Rpb24gKGNhdGVnb3J5LCBsYWJlbCwgY29udGVudCkge1xuICAgIGlmICh0aGlzLmxldmVsID49IGxldmVsc1t0YXJnZXROYW1lXSkge1xuICAgICAgaWYgKHRoaXMuYnVpbHRpbkVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5wcmludChjb25zb2xlW3RhcmdldE5hbWVdLCBjYXRlZ29yeSwgbGFiZWwsIGNvbnRlbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jb25uZWN0b3IpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0b3IodGFyZ2V0TmFtZSwgY2F0ZWdvcnksIGxhYmVsLCBjb250ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KTtcblxuTG9nZ2VyRmFjdG9yeS5wcm90b3R5cGUuZ2V0TG9nZ2VyID0gZnVuY3Rpb24oY2F0ZWdvcnksIGxhYmVsKSB7XG4gIHZhciBsb2dnZXI7XG5cbiAgaWYgKGxhYmVsICYmIHRoaXMubGV2ZWwgPT09IDMpIHtcbiAgICByZXR1cm4gbmV3IExvZ2dlcih0aGlzLCBjYXRlZ29yeSwgbGFiZWwpO1xuICB9IGVsc2UgaWYgKHRoaXMubG9nZ2Vyc1tjYXRlZ29yeV0pIHtcbiAgICByZXR1cm4gdGhpcy5sb2dnZXJzW2NhdGVnb3J5XTtcbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIgPSBuZXcgTG9nZ2VyKHRoaXMsIGNhdGVnb3J5KTtcbiAgICB0aGlzLmxvZ2dlcnNbY2F0ZWdvcnldID0gbG9nZ2VyO1xuICAgIHJldHVybiBsb2dnZXI7XG4gIH1cbn07XG5cbnJldHVybiBMb2dnZXJGYWN0b3J5O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0B0d2lsaW8vc2lwLmpzL3NyYy9Mb2dnZXJGYWN0b3J5LmpzXG4vLyBtb2R1bGUgaWQgPSAzNDVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///345\n");

/***/ }),
/* 346 */
/*!*********************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/EventEmitter.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar NodeEventEmitter = __webpack_require__(/*! events */ 207).EventEmitter;\n\nmodule.exports = function (console) {\n\n// Don't use `new SIP.EventEmitter()` for inheriting.\n// Use Object.create(SIP.EventEmitter.prototoype);\nfunction EventEmitter () {\n  NodeEventEmitter.call(this);\n}\n\nEventEmitter.prototype = Object.create(NodeEventEmitter.prototype, {\n  constructor: {\n    value: EventEmitter,\n    enumerable: false,\n    writable: true,\n    configurable: true\n  }\n});\n\nEventEmitter.prototype.off = function off (eventName, listener) {\n  var warning = '';\n  warning += 'SIP.EventEmitter#off is deprecated and may be removed in future SIP.js versions.\\n';\n  warning += 'Please use removeListener or removeAllListeners instead.\\n';\n  warning += 'See here for more details:\\n';\n  warning += 'http://nodejs.org/api/events.html#events_emitter_removelistener_event_listener';\n  console.warn(warning);\n\n  if (arguments.length < 2) {\n    return this.removeAllListeners.apply(this, arguments);\n  } else {\n    return this.removeListener(eventName, listener);\n  }\n};\n\nreturn EventEmitter;\n\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL0V2ZW50RW1pdHRlci5qcz8yNWFlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsdUJBQXVCLG1CQUFPLENBQUMsaUJBQVE7O0FBRXZDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBIiwiZmlsZSI6IjM0Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIE5vZGVFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNvbnNvbGUpIHtcblxuLy8gRG9uJ3QgdXNlIGBuZXcgU0lQLkV2ZW50RW1pdHRlcigpYCBmb3IgaW5oZXJpdGluZy5cbi8vIFVzZSBPYmplY3QuY3JlYXRlKFNJUC5FdmVudEVtaXR0ZXIucHJvdG90b3lwZSk7XG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIgKCkge1xuICBOb2RlRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE5vZGVFdmVudEVtaXR0ZXIucHJvdG90eXBlLCB7XG4gIGNvbnN0cnVjdG9yOiB7XG4gICAgdmFsdWU6IEV2ZW50RW1pdHRlcixcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gb2ZmIChldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gIHZhciB3YXJuaW5nID0gJyc7XG4gIHdhcm5pbmcgKz0gJ1NJUC5FdmVudEVtaXR0ZXIjb2ZmIGlzIGRlcHJlY2F0ZWQgYW5kIG1heSBiZSByZW1vdmVkIGluIGZ1dHVyZSBTSVAuanMgdmVyc2lvbnMuXFxuJztcbiAgd2FybmluZyArPSAnUGxlYXNlIHVzZSByZW1vdmVMaXN0ZW5lciBvciByZW1vdmVBbGxMaXN0ZW5lcnMgaW5zdGVhZC5cXG4nO1xuICB3YXJuaW5nICs9ICdTZWUgaGVyZSBmb3IgbW9yZSBkZXRhaWxzOlxcbic7XG4gIHdhcm5pbmcgKz0gJ2h0dHA6Ly9ub2RlanMub3JnL2FwaS9ldmVudHMuaHRtbCNldmVudHNfZW1pdHRlcl9yZW1vdmVsaXN0ZW5lcl9ldmVudF9saXN0ZW5lcic7XG4gIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICByZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgfVxufTtcblxucmV0dXJuIEV2ZW50RW1pdHRlcjtcblxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0B0d2lsaW8vc2lwLmpzL3NyYy9FdmVudEVtaXR0ZXIuanNcbi8vIG1vZHVsZSBpZCA9IDM0NlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///346\n");

/***/ }),
/* 347 */
/*!******************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/Constants.js ***!
  \******************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview SIP Constants\n */\n\n/**\n * SIP Constants.\n * @augments SIP\n */\n\nmodule.exports = function (name, version) {\nreturn {\n  USER_AGENT: name +'/'+ version,\n\n  // SIP scheme\n  SIP:  'sip',\n  SIPS: 'sips',\n\n  // End and Failure causes\n  causes: {\n    // Generic error causes\n    CONNECTION_ERROR:         'Connection Error',\n    REQUEST_TIMEOUT:          'Request Timeout',\n    SIP_FAILURE_CODE:         'SIP Failure Code',\n    INTERNAL_ERROR:           'Internal Error',\n\n    // SIP error causes\n    BUSY:                     'Busy',\n    REJECTED:                 'Rejected',\n    REDIRECTED:               'Redirected',\n    UNAVAILABLE:              'Unavailable',\n    NOT_FOUND:                'Not Found',\n    ADDRESS_INCOMPLETE:       'Address Incomplete',\n    INCOMPATIBLE_SDP:         'Incompatible SDP',\n    AUTHENTICATION_ERROR:     'Authentication Error',\n    DIALOG_ERROR:             'Dialog Error',\n\n    // Session error causes\n    WEBRTC_NOT_SUPPORTED:     'WebRTC Not Supported',\n    WEBRTC_ERROR:             'WebRTC Error',\n    CANCELED:                 'Canceled',\n    NO_ANSWER:                'No Answer',\n    EXPIRES:                  'Expires',\n    NO_ACK:                   'No ACK',\n    NO_PRACK:                 'No PRACK',\n    USER_DENIED_MEDIA_ACCESS: 'User Denied Media Access',\n    BAD_MEDIA_DESCRIPTION:    'Bad Media Description',\n    RTP_TIMEOUT:              'RTP Timeout'\n  },\n\n  supported: {\n    UNSUPPORTED:        'none',\n    SUPPORTED:          'supported',\n    REQUIRED:           'required'\n  },\n\n  SIP_ERROR_CAUSES: {\n    REDIRECTED: [300,301,302,305,380],\n    BUSY: [486,600],\n    REJECTED: [403,603],\n    NOT_FOUND: [404,604],\n    UNAVAILABLE: [480,410,408,430],\n    ADDRESS_INCOMPLETE: [484],\n    INCOMPATIBLE_SDP: [488,606],\n    AUTHENTICATION_ERROR:[401,407]\n  },\n\n  // SIP Methods\n  ACK:        'ACK',\n  BYE:        'BYE',\n  CANCEL:     'CANCEL',\n  INFO:       'INFO',\n  INVITE:     'INVITE',\n  MESSAGE:    'MESSAGE',\n  NOTIFY:     'NOTIFY',\n  OPTIONS:    'OPTIONS',\n  REGISTER:   'REGISTER',\n  UPDATE:     'UPDATE',\n  SUBSCRIBE:  'SUBSCRIBE',\n  REFER:      'REFER',\n  PRACK:      'PRACK',\n\n  /* SIP Response Reasons\n   * DOC: http://www.iana.org/assignments/sip-parameters\n   * Copied from https://github.com/versatica/OverSIP/blob/master/lib/oversip/sip/constants.rb#L7\n   */\n  REASON_PHRASE: {\n    100: 'Trying',\n    180: 'Ringing',\n    181: 'Call Is Being Forwarded',\n    182: 'Queued',\n    183: 'Session Progress',\n    199: 'Early Dialog Terminated',  // draft-ietf-sipcore-199\n    200: 'OK',\n    202: 'Accepted',  // RFC 3265\n    204: 'No Notification',  //RFC 5839\n    300: 'Multiple Choices',\n    301: 'Moved Permanently',\n    302: 'Moved Temporarily',\n    305: 'Use Proxy',\n    380: 'Alternative Service',\n    400: 'Bad Request',\n    401: 'Unauthorized',\n    402: 'Payment Required',\n    403: 'Forbidden',\n    404: 'Not Found',\n    405: 'Method Not Allowed',\n    406: 'Not Acceptable',\n    407: 'Proxy Authentication Required',\n    408: 'Request Timeout',\n    410: 'Gone',\n    412: 'Conditional Request Failed',  // RFC 3903\n    413: 'Request Entity Too Large',\n    414: 'Request-URI Too Long',\n    415: 'Unsupported Media Type',\n    416: 'Unsupported URI Scheme',\n    417: 'Unknown Resource-Priority',  // RFC 4412\n    420: 'Bad Extension',\n    421: 'Extension Required',\n    422: 'Session Interval Too Small',  // RFC 4028\n    423: 'Interval Too Brief',\n    428: 'Use Identity Header',  // RFC 4474\n    429: 'Provide Referrer Identity',  // RFC 3892\n    430: 'Flow Failed',  // RFC 5626\n    433: 'Anonymity Disallowed',  // RFC 5079\n    436: 'Bad Identity-Info',  // RFC 4474\n    437: 'Unsupported Certificate',  // RFC 4744\n    438: 'Invalid Identity Header',  // RFC 4744\n    439: 'First Hop Lacks Outbound Support',  // RFC 5626\n    440: 'Max-Breadth Exceeded',  // RFC 5393\n    469: 'Bad Info Package',  // draft-ietf-sipcore-info-events\n    470: 'Consent Needed',  // RFC 5360\n    478: 'Unresolvable Destination',  // Custom code copied from Kamailio.\n    480: 'Temporarily Unavailable',\n    481: 'Call/Transaction Does Not Exist',\n    482: 'Loop Detected',\n    483: 'Too Many Hops',\n    484: 'Address Incomplete',\n    485: 'Ambiguous',\n    486: 'Busy Here',\n    487: 'Request Terminated',\n    488: 'Not Acceptable Here',\n    489: 'Bad Event',  // RFC 3265\n    491: 'Request Pending',\n    493: 'Undecipherable',\n    494: 'Security Agreement Required',  // RFC 3329\n    500: 'Internal Server Error',\n    501: 'Not Implemented',\n    502: 'Bad Gateway',\n    503: 'Service Unavailable',\n    504: 'Server Time-out',\n    505: 'Version Not Supported',\n    513: 'Message Too Large',\n    580: 'Precondition Failure',  // RFC 3312\n    600: 'Busy Everywhere',\n    603: 'Decline',\n    604: 'Does Not Exist Anywhere',\n    606: 'Not Acceptable'\n  },\n\n  /* SIP Option Tags\n   * DOC: http://www.iana.org/assignments/sip-parameters/sip-parameters.xhtml#sip-parameters-4\n   */\n  OPTION_TAGS: {\n    '100rel':                   true,  // RFC 3262\n    199:                        true,  // RFC 6228\n    answermode:                 true,  // RFC 5373\n    'early-session':            true,  // RFC 3959\n    eventlist:                  true,  // RFC 4662\n    explicitsub:                true,  // RFC-ietf-sipcore-refer-explicit-subscription-03\n    'from-change':              true,  // RFC 4916\n    'geolocation-http':         true,  // RFC 6442\n    'geolocation-sip':          true,  // RFC 6442\n    gin:                        true,  // RFC 6140\n    gruu:                       true,  // RFC 5627\n    histinfo:                   true,  // RFC 7044\n    ice:                        true,  // RFC 5768\n    join:                       true,  // RFC 3911\n    'multiple-refer':           true,  // RFC 5368\n    norefersub:                 true,  // RFC 4488\n    nosub:                      true,  // RFC-ietf-sipcore-refer-explicit-subscription-03\n    outbound:                   true,  // RFC 5626\n    path:                       true,  // RFC 3327\n    policy:                     true,  // RFC 6794\n    precondition:               true,  // RFC 3312\n    pref:                       true,  // RFC 3840\n    privacy:                    true,  // RFC 3323\n    'recipient-list-invite':    true,  // RFC 5366\n    'recipient-list-message':   true,  // RFC 5365\n    'recipient-list-subscribe': true,  // RFC 5367\n    replaces:                   true,  // RFC 3891\n    'resource-priority':        true,  // RFC 4412\n    'sdp-anat':                 true,  // RFC 4092\n    'sec-agree':                true,  // RFC 3329\n    tdialog:                    true,  // RFC 4538\n    timer:                      true,  // RFC 4028\n    uui:                        true   // RFC 7433\n  }\n};\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL0NvbnN0YW50cy5qcz85OGY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMzQ3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgU0lQIENvbnN0YW50c1xuICovXG5cbi8qKlxuICogU0lQIENvbnN0YW50cy5cbiAqIEBhdWdtZW50cyBTSVBcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lLCB2ZXJzaW9uKSB7XG5yZXR1cm4ge1xuICBVU0VSX0FHRU5UOiBuYW1lICsnLycrIHZlcnNpb24sXG5cbiAgLy8gU0lQIHNjaGVtZVxuICBTSVA6ICAnc2lwJyxcbiAgU0lQUzogJ3NpcHMnLFxuXG4gIC8vIEVuZCBhbmQgRmFpbHVyZSBjYXVzZXNcbiAgY2F1c2VzOiB7XG4gICAgLy8gR2VuZXJpYyBlcnJvciBjYXVzZXNcbiAgICBDT05ORUNUSU9OX0VSUk9SOiAgICAgICAgICdDb25uZWN0aW9uIEVycm9yJyxcbiAgICBSRVFVRVNUX1RJTUVPVVQ6ICAgICAgICAgICdSZXF1ZXN0IFRpbWVvdXQnLFxuICAgIFNJUF9GQUlMVVJFX0NPREU6ICAgICAgICAgJ1NJUCBGYWlsdXJlIENvZGUnLFxuICAgIElOVEVSTkFMX0VSUk9SOiAgICAgICAgICAgJ0ludGVybmFsIEVycm9yJyxcblxuICAgIC8vIFNJUCBlcnJvciBjYXVzZXNcbiAgICBCVVNZOiAgICAgICAgICAgICAgICAgICAgICdCdXN5JyxcbiAgICBSRUpFQ1RFRDogICAgICAgICAgICAgICAgICdSZWplY3RlZCcsXG4gICAgUkVESVJFQ1RFRDogICAgICAgICAgICAgICAnUmVkaXJlY3RlZCcsXG4gICAgVU5BVkFJTEFCTEU6ICAgICAgICAgICAgICAnVW5hdmFpbGFibGUnLFxuICAgIE5PVF9GT1VORDogICAgICAgICAgICAgICAgJ05vdCBGb3VuZCcsXG4gICAgQUREUkVTU19JTkNPTVBMRVRFOiAgICAgICAnQWRkcmVzcyBJbmNvbXBsZXRlJyxcbiAgICBJTkNPTVBBVElCTEVfU0RQOiAgICAgICAgICdJbmNvbXBhdGlibGUgU0RQJyxcbiAgICBBVVRIRU5USUNBVElPTl9FUlJPUjogICAgICdBdXRoZW50aWNhdGlvbiBFcnJvcicsXG4gICAgRElBTE9HX0VSUk9SOiAgICAgICAgICAgICAnRGlhbG9nIEVycm9yJyxcblxuICAgIC8vIFNlc3Npb24gZXJyb3IgY2F1c2VzXG4gICAgV0VCUlRDX05PVF9TVVBQT1JURUQ6ICAgICAnV2ViUlRDIE5vdCBTdXBwb3J0ZWQnLFxuICAgIFdFQlJUQ19FUlJPUjogICAgICAgICAgICAgJ1dlYlJUQyBFcnJvcicsXG4gICAgQ0FOQ0VMRUQ6ICAgICAgICAgICAgICAgICAnQ2FuY2VsZWQnLFxuICAgIE5PX0FOU1dFUjogICAgICAgICAgICAgICAgJ05vIEFuc3dlcicsXG4gICAgRVhQSVJFUzogICAgICAgICAgICAgICAgICAnRXhwaXJlcycsXG4gICAgTk9fQUNLOiAgICAgICAgICAgICAgICAgICAnTm8gQUNLJyxcbiAgICBOT19QUkFDSzogICAgICAgICAgICAgICAgICdObyBQUkFDSycsXG4gICAgVVNFUl9ERU5JRURfTUVESUFfQUNDRVNTOiAnVXNlciBEZW5pZWQgTWVkaWEgQWNjZXNzJyxcbiAgICBCQURfTUVESUFfREVTQ1JJUFRJT046ICAgICdCYWQgTWVkaWEgRGVzY3JpcHRpb24nLFxuICAgIFJUUF9USU1FT1VUOiAgICAgICAgICAgICAgJ1JUUCBUaW1lb3V0J1xuICB9LFxuXG4gIHN1cHBvcnRlZDoge1xuICAgIFVOU1VQUE9SVEVEOiAgICAgICAgJ25vbmUnLFxuICAgIFNVUFBPUlRFRDogICAgICAgICAgJ3N1cHBvcnRlZCcsXG4gICAgUkVRVUlSRUQ6ICAgICAgICAgICAncmVxdWlyZWQnXG4gIH0sXG5cbiAgU0lQX0VSUk9SX0NBVVNFUzoge1xuICAgIFJFRElSRUNURUQ6IFszMDAsMzAxLDMwMiwzMDUsMzgwXSxcbiAgICBCVVNZOiBbNDg2LDYwMF0sXG4gICAgUkVKRUNURUQ6IFs0MDMsNjAzXSxcbiAgICBOT1RfRk9VTkQ6IFs0MDQsNjA0XSxcbiAgICBVTkFWQUlMQUJMRTogWzQ4MCw0MTAsNDA4LDQzMF0sXG4gICAgQUREUkVTU19JTkNPTVBMRVRFOiBbNDg0XSxcbiAgICBJTkNPTVBBVElCTEVfU0RQOiBbNDg4LDYwNl0sXG4gICAgQVVUSEVOVElDQVRJT05fRVJST1I6WzQwMSw0MDddXG4gIH0sXG5cbiAgLy8gU0lQIE1ldGhvZHNcbiAgQUNLOiAgICAgICAgJ0FDSycsXG4gIEJZRTogICAgICAgICdCWUUnLFxuICBDQU5DRUw6ICAgICAnQ0FOQ0VMJyxcbiAgSU5GTzogICAgICAgJ0lORk8nLFxuICBJTlZJVEU6ICAgICAnSU5WSVRFJyxcbiAgTUVTU0FHRTogICAgJ01FU1NBR0UnLFxuICBOT1RJRlk6ICAgICAnTk9USUZZJyxcbiAgT1BUSU9OUzogICAgJ09QVElPTlMnLFxuICBSRUdJU1RFUjogICAnUkVHSVNURVInLFxuICBVUERBVEU6ICAgICAnVVBEQVRFJyxcbiAgU1VCU0NSSUJFOiAgJ1NVQlNDUklCRScsXG4gIFJFRkVSOiAgICAgICdSRUZFUicsXG4gIFBSQUNLOiAgICAgICdQUkFDSycsXG5cbiAgLyogU0lQIFJlc3BvbnNlIFJlYXNvbnNcbiAgICogRE9DOiBodHRwOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL3NpcC1wYXJhbWV0ZXJzXG4gICAqIENvcGllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJzYXRpY2EvT3ZlclNJUC9ibG9iL21hc3Rlci9saWIvb3ZlcnNpcC9zaXAvY29uc3RhbnRzLnJiI0w3XG4gICAqL1xuICBSRUFTT05fUEhSQVNFOiB7XG4gICAgMTAwOiAnVHJ5aW5nJyxcbiAgICAxODA6ICdSaW5naW5nJyxcbiAgICAxODE6ICdDYWxsIElzIEJlaW5nIEZvcndhcmRlZCcsXG4gICAgMTgyOiAnUXVldWVkJyxcbiAgICAxODM6ICdTZXNzaW9uIFByb2dyZXNzJyxcbiAgICAxOTk6ICdFYXJseSBEaWFsb2cgVGVybWluYXRlZCcsICAvLyBkcmFmdC1pZXRmLXNpcGNvcmUtMTk5XG4gICAgMjAwOiAnT0snLFxuICAgIDIwMjogJ0FjY2VwdGVkJywgIC8vIFJGQyAzMjY1XG4gICAgMjA0OiAnTm8gTm90aWZpY2F0aW9uJywgIC8vUkZDIDU4MzlcbiAgICAzMDA6ICdNdWx0aXBsZSBDaG9pY2VzJyxcbiAgICAzMDE6ICdNb3ZlZCBQZXJtYW5lbnRseScsXG4gICAgMzAyOiAnTW92ZWQgVGVtcG9yYXJpbHknLFxuICAgIDMwNTogJ1VzZSBQcm94eScsXG4gICAgMzgwOiAnQWx0ZXJuYXRpdmUgU2VydmljZScsXG4gICAgNDAwOiAnQmFkIFJlcXVlc3QnLFxuICAgIDQwMTogJ1VuYXV0aG9yaXplZCcsXG4gICAgNDAyOiAnUGF5bWVudCBSZXF1aXJlZCcsXG4gICAgNDAzOiAnRm9yYmlkZGVuJyxcbiAgICA0MDQ6ICdOb3QgRm91bmQnLFxuICAgIDQwNTogJ01ldGhvZCBOb3QgQWxsb3dlZCcsXG4gICAgNDA2OiAnTm90IEFjY2VwdGFibGUnLFxuICAgIDQwNzogJ1Byb3h5IEF1dGhlbnRpY2F0aW9uIFJlcXVpcmVkJyxcbiAgICA0MDg6ICdSZXF1ZXN0IFRpbWVvdXQnLFxuICAgIDQxMDogJ0dvbmUnLFxuICAgIDQxMjogJ0NvbmRpdGlvbmFsIFJlcXVlc3QgRmFpbGVkJywgIC8vIFJGQyAzOTAzXG4gICAgNDEzOiAnUmVxdWVzdCBFbnRpdHkgVG9vIExhcmdlJyxcbiAgICA0MTQ6ICdSZXF1ZXN0LVVSSSBUb28gTG9uZycsXG4gICAgNDE1OiAnVW5zdXBwb3J0ZWQgTWVkaWEgVHlwZScsXG4gICAgNDE2OiAnVW5zdXBwb3J0ZWQgVVJJIFNjaGVtZScsXG4gICAgNDE3OiAnVW5rbm93biBSZXNvdXJjZS1Qcmlvcml0eScsICAvLyBSRkMgNDQxMlxuICAgIDQyMDogJ0JhZCBFeHRlbnNpb24nLFxuICAgIDQyMTogJ0V4dGVuc2lvbiBSZXF1aXJlZCcsXG4gICAgNDIyOiAnU2Vzc2lvbiBJbnRlcnZhbCBUb28gU21hbGwnLCAgLy8gUkZDIDQwMjhcbiAgICA0MjM6ICdJbnRlcnZhbCBUb28gQnJpZWYnLFxuICAgIDQyODogJ1VzZSBJZGVudGl0eSBIZWFkZXInLCAgLy8gUkZDIDQ0NzRcbiAgICA0Mjk6ICdQcm92aWRlIFJlZmVycmVyIElkZW50aXR5JywgIC8vIFJGQyAzODkyXG4gICAgNDMwOiAnRmxvdyBGYWlsZWQnLCAgLy8gUkZDIDU2MjZcbiAgICA0MzM6ICdBbm9ueW1pdHkgRGlzYWxsb3dlZCcsICAvLyBSRkMgNTA3OVxuICAgIDQzNjogJ0JhZCBJZGVudGl0eS1JbmZvJywgIC8vIFJGQyA0NDc0XG4gICAgNDM3OiAnVW5zdXBwb3J0ZWQgQ2VydGlmaWNhdGUnLCAgLy8gUkZDIDQ3NDRcbiAgICA0Mzg6ICdJbnZhbGlkIElkZW50aXR5IEhlYWRlcicsICAvLyBSRkMgNDc0NFxuICAgIDQzOTogJ0ZpcnN0IEhvcCBMYWNrcyBPdXRib3VuZCBTdXBwb3J0JywgIC8vIFJGQyA1NjI2XG4gICAgNDQwOiAnTWF4LUJyZWFkdGggRXhjZWVkZWQnLCAgLy8gUkZDIDUzOTNcbiAgICA0Njk6ICdCYWQgSW5mbyBQYWNrYWdlJywgIC8vIGRyYWZ0LWlldGYtc2lwY29yZS1pbmZvLWV2ZW50c1xuICAgIDQ3MDogJ0NvbnNlbnQgTmVlZGVkJywgIC8vIFJGQyA1MzYwXG4gICAgNDc4OiAnVW5yZXNvbHZhYmxlIERlc3RpbmF0aW9uJywgIC8vIEN1c3RvbSBjb2RlIGNvcGllZCBmcm9tIEthbWFpbGlvLlxuICAgIDQ4MDogJ1RlbXBvcmFyaWx5IFVuYXZhaWxhYmxlJyxcbiAgICA0ODE6ICdDYWxsL1RyYW5zYWN0aW9uIERvZXMgTm90IEV4aXN0JyxcbiAgICA0ODI6ICdMb29wIERldGVjdGVkJyxcbiAgICA0ODM6ICdUb28gTWFueSBIb3BzJyxcbiAgICA0ODQ6ICdBZGRyZXNzIEluY29tcGxldGUnLFxuICAgIDQ4NTogJ0FtYmlndW91cycsXG4gICAgNDg2OiAnQnVzeSBIZXJlJyxcbiAgICA0ODc6ICdSZXF1ZXN0IFRlcm1pbmF0ZWQnLFxuICAgIDQ4ODogJ05vdCBBY2NlcHRhYmxlIEhlcmUnLFxuICAgIDQ4OTogJ0JhZCBFdmVudCcsICAvLyBSRkMgMzI2NVxuICAgIDQ5MTogJ1JlcXVlc3QgUGVuZGluZycsXG4gICAgNDkzOiAnVW5kZWNpcGhlcmFibGUnLFxuICAgIDQ5NDogJ1NlY3VyaXR5IEFncmVlbWVudCBSZXF1aXJlZCcsICAvLyBSRkMgMzMyOVxuICAgIDUwMDogJ0ludGVybmFsIFNlcnZlciBFcnJvcicsXG4gICAgNTAxOiAnTm90IEltcGxlbWVudGVkJyxcbiAgICA1MDI6ICdCYWQgR2F0ZXdheScsXG4gICAgNTAzOiAnU2VydmljZSBVbmF2YWlsYWJsZScsXG4gICAgNTA0OiAnU2VydmVyIFRpbWUtb3V0JyxcbiAgICA1MDU6ICdWZXJzaW9uIE5vdCBTdXBwb3J0ZWQnLFxuICAgIDUxMzogJ01lc3NhZ2UgVG9vIExhcmdlJyxcbiAgICA1ODA6ICdQcmVjb25kaXRpb24gRmFpbHVyZScsICAvLyBSRkMgMzMxMlxuICAgIDYwMDogJ0J1c3kgRXZlcnl3aGVyZScsXG4gICAgNjAzOiAnRGVjbGluZScsXG4gICAgNjA0OiAnRG9lcyBOb3QgRXhpc3QgQW55d2hlcmUnLFxuICAgIDYwNjogJ05vdCBBY2NlcHRhYmxlJ1xuICB9LFxuXG4gIC8qIFNJUCBPcHRpb24gVGFnc1xuICAgKiBET0M6IGh0dHA6Ly93d3cuaWFuYS5vcmcvYXNzaWdubWVudHMvc2lwLXBhcmFtZXRlcnMvc2lwLXBhcmFtZXRlcnMueGh0bWwjc2lwLXBhcmFtZXRlcnMtNFxuICAgKi9cbiAgT1BUSU9OX1RBR1M6IHtcbiAgICAnMTAwcmVsJzogICAgICAgICAgICAgICAgICAgdHJ1ZSwgIC8vIFJGQyAzMjYyXG4gICAgMTk5OiAgICAgICAgICAgICAgICAgICAgICAgIHRydWUsICAvLyBSRkMgNjIyOFxuICAgIGFuc3dlcm1vZGU6ICAgICAgICAgICAgICAgICB0cnVlLCAgLy8gUkZDIDUzNzNcbiAgICAnZWFybHktc2Vzc2lvbic6ICAgICAgICAgICAgdHJ1ZSwgIC8vIFJGQyAzOTU5XG4gICAgZXZlbnRsaXN0OiAgICAgICAgICAgICAgICAgIHRydWUsICAvLyBSRkMgNDY2MlxuICAgIGV4cGxpY2l0c3ViOiAgICAgICAgICAgICAgICB0cnVlLCAgLy8gUkZDLWlldGYtc2lwY29yZS1yZWZlci1leHBsaWNpdC1zdWJzY3JpcHRpb24tMDNcbiAgICAnZnJvbS1jaGFuZ2UnOiAgICAgICAgICAgICAgdHJ1ZSwgIC8vIFJGQyA0OTE2XG4gICAgJ2dlb2xvY2F0aW9uLWh0dHAnOiAgICAgICAgIHRydWUsICAvLyBSRkMgNjQ0MlxuICAgICdnZW9sb2NhdGlvbi1zaXAnOiAgICAgICAgICB0cnVlLCAgLy8gUkZDIDY0NDJcbiAgICBnaW46ICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSwgIC8vIFJGQyA2MTQwXG4gICAgZ3J1dTogICAgICAgICAgICAgICAgICAgICAgIHRydWUsICAvLyBSRkMgNTYyN1xuICAgIGhpc3RpbmZvOiAgICAgICAgICAgICAgICAgICB0cnVlLCAgLy8gUkZDIDcwNDRcbiAgICBpY2U6ICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSwgIC8vIFJGQyA1NzY4XG4gICAgam9pbjogICAgICAgICAgICAgICAgICAgICAgIHRydWUsICAvLyBSRkMgMzkxMVxuICAgICdtdWx0aXBsZS1yZWZlcic6ICAgICAgICAgICB0cnVlLCAgLy8gUkZDIDUzNjhcbiAgICBub3JlZmVyc3ViOiAgICAgICAgICAgICAgICAgdHJ1ZSwgIC8vIFJGQyA0NDg4XG4gICAgbm9zdWI6ICAgICAgICAgICAgICAgICAgICAgIHRydWUsICAvLyBSRkMtaWV0Zi1zaXBjb3JlLXJlZmVyLWV4cGxpY2l0LXN1YnNjcmlwdGlvbi0wM1xuICAgIG91dGJvdW5kOiAgICAgICAgICAgICAgICAgICB0cnVlLCAgLy8gUkZDIDU2MjZcbiAgICBwYXRoOiAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSwgIC8vIFJGQyAzMzI3XG4gICAgcG9saWN5OiAgICAgICAgICAgICAgICAgICAgIHRydWUsICAvLyBSRkMgNjc5NFxuICAgIHByZWNvbmRpdGlvbjogICAgICAgICAgICAgICB0cnVlLCAgLy8gUkZDIDMzMTJcbiAgICBwcmVmOiAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZSwgIC8vIFJGQyAzODQwXG4gICAgcHJpdmFjeTogICAgICAgICAgICAgICAgICAgIHRydWUsICAvLyBSRkMgMzMyM1xuICAgICdyZWNpcGllbnQtbGlzdC1pbnZpdGUnOiAgICB0cnVlLCAgLy8gUkZDIDUzNjZcbiAgICAncmVjaXBpZW50LWxpc3QtbWVzc2FnZSc6ICAgdHJ1ZSwgIC8vIFJGQyA1MzY1XG4gICAgJ3JlY2lwaWVudC1saXN0LXN1YnNjcmliZSc6IHRydWUsICAvLyBSRkMgNTM2N1xuICAgIHJlcGxhY2VzOiAgICAgICAgICAgICAgICAgICB0cnVlLCAgLy8gUkZDIDM4OTFcbiAgICAncmVzb3VyY2UtcHJpb3JpdHknOiAgICAgICAgdHJ1ZSwgIC8vIFJGQyA0NDEyXG4gICAgJ3NkcC1hbmF0JzogICAgICAgICAgICAgICAgIHRydWUsICAvLyBSRkMgNDA5MlxuICAgICdzZWMtYWdyZWUnOiAgICAgICAgICAgICAgICB0cnVlLCAgLy8gUkZDIDMzMjlcbiAgICB0ZGlhbG9nOiAgICAgICAgICAgICAgICAgICAgdHJ1ZSwgIC8vIFJGQyA0NTM4XG4gICAgdGltZXI6ICAgICAgICAgICAgICAgICAgICAgIHRydWUsICAvLyBSRkMgNDAyOFxuICAgIHV1aTogICAgICAgICAgICAgICAgICAgICAgICB0cnVlICAgLy8gUkZDIDc0MzNcbiAgfVxufTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AdHdpbGlvL3NpcC5qcy9zcmMvQ29uc3RhbnRzLmpzXG4vLyBtb2R1bGUgaWQgPSAzNDdcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///347\n");

/***/ }),
/* 348 */
/*!*******************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/Exceptions.js ***!
  \*******************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview Exceptions\n */\n\n/**\n * SIP Exceptions.\n * @augments SIP\n */\nmodule.exports = {\n  ConfigurationError: (function(){\n    var exception = function(parameter, value) {\n      this.code = 1;\n      this.name = 'CONFIGURATION_ERROR';\n      this.parameter = parameter;\n      this.value = value;\n      this.message = (!this.value)? 'Missing parameter: '+ this.parameter : 'Invalid value '+ JSON.stringify(this.value) +' for parameter \"'+ this.parameter +'\"';\n    };\n    exception.prototype = new Error();\n    return exception;\n  }()),\n\n  InvalidStateError: (function(){\n    var exception = function(status) {\n      this.code = 2;\n      this.name = 'INVALID_STATE_ERROR';\n      this.status = status;\n      this.message = 'Invalid status: ' + status;\n    };\n    exception.prototype = new Error();\n    return exception;\n  }()),\n\n  NotSupportedError: (function(){\n    var exception = function(message) {\n      this.code = 3;\n      this.name = 'NOT_SUPPORTED_ERROR';\n      this.message = message;\n    };\n    exception.prototype = new Error();\n    return exception;\n  }()),\n\n  GetDescriptionError: (function(){\n    var exception = function(message) {\n      this.code = 4;\n      this.name = 'GET_DESCRIPTION_ERROR';\n      this.message = message;\n    };\n    exception.prototype = new Error();\n    return exception;\n  }())\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL0V4Y2VwdGlvbnMuanM/NGRiOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCIsImZpbGUiOiIzNDguanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBFeGNlcHRpb25zXG4gKi9cblxuLyoqXG4gKiBTSVAgRXhjZXB0aW9ucy5cbiAqIEBhdWdtZW50cyBTSVBcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIENvbmZpZ3VyYXRpb25FcnJvcjogKGZ1bmN0aW9uKCl7XG4gICAgdmFyIGV4Y2VwdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlciwgdmFsdWUpIHtcbiAgICAgIHRoaXMuY29kZSA9IDE7XG4gICAgICB0aGlzLm5hbWUgPSAnQ09ORklHVVJBVElPTl9FUlJPUic7XG4gICAgICB0aGlzLnBhcmFtZXRlciA9IHBhcmFtZXRlcjtcbiAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgIHRoaXMubWVzc2FnZSA9ICghdGhpcy52YWx1ZSk/ICdNaXNzaW5nIHBhcmFtZXRlcjogJysgdGhpcy5wYXJhbWV0ZXIgOiAnSW52YWxpZCB2YWx1ZSAnKyBKU09OLnN0cmluZ2lmeSh0aGlzLnZhbHVlKSArJyBmb3IgcGFyYW1ldGVyIFwiJysgdGhpcy5wYXJhbWV0ZXIgKydcIic7XG4gICAgfTtcbiAgICBleGNlcHRpb24ucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XG4gICAgcmV0dXJuIGV4Y2VwdGlvbjtcbiAgfSgpKSxcblxuICBJbnZhbGlkU3RhdGVFcnJvcjogKGZ1bmN0aW9uKCl7XG4gICAgdmFyIGV4Y2VwdGlvbiA9IGZ1bmN0aW9uKHN0YXR1cykge1xuICAgICAgdGhpcy5jb2RlID0gMjtcbiAgICAgIHRoaXMubmFtZSA9ICdJTlZBTElEX1NUQVRFX0VSUk9SJztcbiAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgdGhpcy5tZXNzYWdlID0gJ0ludmFsaWQgc3RhdHVzOiAnICsgc3RhdHVzO1xuICAgIH07XG4gICAgZXhjZXB0aW9uLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xuICAgIHJldHVybiBleGNlcHRpb247XG4gIH0oKSksXG5cbiAgTm90U3VwcG9ydGVkRXJyb3I6IChmdW5jdGlvbigpe1xuICAgIHZhciBleGNlcHRpb24gPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICB0aGlzLmNvZGUgPSAzO1xuICAgICAgdGhpcy5uYW1lID0gJ05PVF9TVVBQT1JURURfRVJST1InO1xuICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9O1xuICAgIGV4Y2VwdGlvbi5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcbiAgICByZXR1cm4gZXhjZXB0aW9uO1xuICB9KCkpLFxuXG4gIEdldERlc2NyaXB0aW9uRXJyb3I6IChmdW5jdGlvbigpe1xuICAgIHZhciBleGNlcHRpb24gPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICB0aGlzLmNvZGUgPSA0O1xuICAgICAgdGhpcy5uYW1lID0gJ0dFVF9ERVNDUklQVElPTl9FUlJPUic7XG4gICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIH07XG4gICAgZXhjZXB0aW9uLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xuICAgIHJldHVybiBleGNlcHRpb247XG4gIH0oKSlcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AdHdpbGlvL3NpcC5qcy9zcmMvRXhjZXB0aW9ucy5qc1xuLy8gbW9kdWxlIGlkID0gMzQ4XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///348\n");

/***/ }),
/* 349 */
/*!***************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/Timers.js ***!
  \***************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview SIP TIMERS\n */\n\n/**\n * @augments SIP\n */\nvar\n  T1 = 500,\n  T2 = 4000,\n  T4 = 5000;\nmodule.exports = function (timers) {\n  var Timers = {\n    T1: T1,\n    T2: T2,\n    T4: T4,\n    TIMER_B: 64 * T1,\n    TIMER_D: 0  * T1,\n    TIMER_F: 64 * T1,\n    TIMER_H: 64 * T1,\n    TIMER_I: 0  * T1,\n    TIMER_J: 0  * T1,\n    TIMER_K: 0  * T4,\n    TIMER_L: 64 * T1,\n    TIMER_M: 64 * T1,\n    TIMER_N: 64 * T1,\n    PROVISIONAL_RESPONSE_INTERVAL: 60000  // See RFC 3261 Section 13.3.1.1\n  };\n\n  ['setTimeout', 'clearTimeout', 'setInterval', 'clearInterval']\n  .forEach(function (name) {\n    // can't just use timers[name].bind(timers) since it bypasses jasmine's\n    // clock-mocking\n    Timers[name] = function () {\n      return timers[name].apply(timers, arguments);\n    };\n  });\n\n  return Timers;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1RpbWVycy5qcz8yZGMyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSIsImZpbGUiOiIzNDkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBTSVAgVElNRVJTXG4gKi9cblxuLyoqXG4gKiBAYXVnbWVudHMgU0lQXG4gKi9cbnZhclxuICBUMSA9IDUwMCxcbiAgVDIgPSA0MDAwLFxuICBUNCA9IDUwMDA7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0aW1lcnMpIHtcbiAgdmFyIFRpbWVycyA9IHtcbiAgICBUMTogVDEsXG4gICAgVDI6IFQyLFxuICAgIFQ0OiBUNCxcbiAgICBUSU1FUl9COiA2NCAqIFQxLFxuICAgIFRJTUVSX0Q6IDAgICogVDEsXG4gICAgVElNRVJfRjogNjQgKiBUMSxcbiAgICBUSU1FUl9IOiA2NCAqIFQxLFxuICAgIFRJTUVSX0k6IDAgICogVDEsXG4gICAgVElNRVJfSjogMCAgKiBUMSxcbiAgICBUSU1FUl9LOiAwICAqIFQ0LFxuICAgIFRJTUVSX0w6IDY0ICogVDEsXG4gICAgVElNRVJfTTogNjQgKiBUMSxcbiAgICBUSU1FUl9OOiA2NCAqIFQxLFxuICAgIFBST1ZJU0lPTkFMX1JFU1BPTlNFX0lOVEVSVkFMOiA2MDAwMCAgLy8gU2VlIFJGQyAzMjYxIFNlY3Rpb24gMTMuMy4xLjFcbiAgfTtcblxuICBbJ3NldFRpbWVvdXQnLCAnY2xlYXJUaW1lb3V0JywgJ3NldEludGVydmFsJywgJ2NsZWFySW50ZXJ2YWwnXVxuICAuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgIC8vIGNhbid0IGp1c3QgdXNlIHRpbWVyc1tuYW1lXS5iaW5kKHRpbWVycykgc2luY2UgaXQgYnlwYXNzZXMgamFzbWluZSdzXG4gICAgLy8gY2xvY2stbW9ja2luZ1xuICAgIFRpbWVyc1tuYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aW1lcnNbbmFtZV0uYXBwbHkodGltZXJzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH0pO1xuXG4gIHJldHVybiBUaW1lcnM7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1RpbWVycy5qc1xuLy8gbW9kdWxlIGlkID0gMzQ5XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///349\n");

/***/ }),
/* 350 */
/*!***************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/Parser.js ***!
  \***************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview SIP Message Parser\n */\n\n/**\n * Extract and parse every header of a SIP message.\n * @augments SIP\n * @namespace\n */\nmodule.exports = function (SIP) {\nvar Parser;\n\nfunction getHeader(data, headerStart) {\n  var\n    // 'start' position of the header.\n    start = headerStart,\n    // 'end' position of the header.\n    end = 0,\n    // 'partial end' position of the header.\n    partialEnd = 0;\n\n  //End of message.\n  if (data.substring(start, start + 2).match(/(^\\r\\n)/)) {\n    return -2;\n  }\n\n  while(end === 0) {\n    // Partial End of Header.\n    partialEnd = data.indexOf('\\r\\n', start);\n\n    // 'indexOf' returns -1 if the value to be found never occurs.\n    if (partialEnd === -1) {\n      return partialEnd;\n    }\n\n    if(!data.substring(partialEnd + 2, partialEnd + 4).match(/(^\\r\\n)/) && data.charAt(partialEnd + 2).match(/(^\\s+)/)) {\n      // Not the end of the message. Continue from the next position.\n      start = partialEnd + 2;\n    } else {\n      end = partialEnd;\n    }\n  }\n\n  return end;\n}\n\nfunction parseHeader(message, data, headerStart, headerEnd) {\n  var header, idx, length, parsed,\n    hcolonIndex = data.indexOf(':', headerStart),\n    headerName = data.substring(headerStart, hcolonIndex).trim(),\n    headerValue = data.substring(hcolonIndex + 1, headerEnd).trim();\n\n  // If header-field is well-known, parse it.\n  switch(headerName.toLowerCase()) {\n    case 'via':\n    case 'v':\n      message.addHeader('via', headerValue);\n      if(message.getHeaders('via').length === 1) {\n        parsed = message.parseHeader('Via');\n        if(parsed) {\n          message.via = parsed;\n          message.via_branch = parsed.branch;\n        }\n      } else {\n        parsed = 0;\n      }\n      break;\n    case 'from':\n    case 'f':\n      message.setHeader('from', headerValue);\n      parsed = message.parseHeader('from');\n      if(parsed) {\n        message.from = parsed;\n        message.from_tag = parsed.getParam('tag');\n      }\n      break;\n    case 'to':\n    case 't':\n      message.setHeader('to', headerValue);\n      parsed = message.parseHeader('to');\n      if(parsed) {\n        message.to = parsed;\n        message.to_tag = parsed.getParam('tag');\n      }\n      break;\n    case 'record-route':\n      parsed = SIP.Grammar.parse(headerValue, 'Record_Route');\n\n      if (parsed === -1) {\n        parsed = undefined;\n        break;\n      }\n\n      length = parsed.length;\n      for (idx = 0; idx < length; idx++) {\n        header = parsed[idx];\n        message.addHeader('record-route', headerValue.substring(header.position, header.offset));\n        message.headers['Record-Route'][message.getHeaders('record-route').length - 1].parsed = header.parsed;\n      }\n      break;\n    case 'call-id':\n    case 'i':\n      message.setHeader('call-id', headerValue);\n      parsed = message.parseHeader('call-id');\n      if(parsed) {\n        message.call_id = headerValue;\n      }\n      break;\n    case 'contact':\n    case 'm':\n      parsed = SIP.Grammar.parse(headerValue, 'Contact');\n\n      if (parsed === -1) {\n        parsed = undefined;\n        break;\n      }\n\n      length = parsed.length;\n      for (idx = 0; idx < length; idx++) {\n        header = parsed[idx];\n        message.addHeader('contact', headerValue.substring(header.position, header.offset));\n        message.headers['Contact'][message.getHeaders('contact').length - 1].parsed = header.parsed;\n      }\n      break;\n    case 'content-length':\n    case 'l':\n      message.setHeader('content-length', headerValue);\n      parsed = message.parseHeader('content-length');\n      break;\n    case 'content-type':\n    case 'c':\n      message.setHeader('content-type', headerValue);\n      parsed = message.parseHeader('content-type');\n      break;\n    case 'cseq':\n      message.setHeader('cseq', headerValue);\n      parsed = message.parseHeader('cseq');\n      if(parsed) {\n        message.cseq = parsed.value;\n      }\n      if(message instanceof SIP.IncomingResponse) {\n        message.method = parsed.method;\n      }\n      break;\n    case 'max-forwards':\n      message.setHeader('max-forwards', headerValue);\n      parsed = message.parseHeader('max-forwards');\n      break;\n    case 'www-authenticate':\n      message.setHeader('www-authenticate', headerValue);\n      parsed = message.parseHeader('www-authenticate');\n      break;\n    case 'proxy-authenticate':\n      message.setHeader('proxy-authenticate', headerValue);\n      parsed = message.parseHeader('proxy-authenticate');\n      break;\n    case 'refer-to':\n    case 'r':\n      message.setHeader('refer-to', headerValue);\n      parsed = message.parseHeader('refer-to');\n      if (parsed) {\n        message.refer_to = parsed;\n      }\n      break;\n    default:\n      // Do not parse this header.\n      message.setHeader(headerName, headerValue);\n      parsed = 0;\n  }\n\n  if (parsed === undefined) {\n    return {\n      error: 'error parsing header \"'+ headerName +'\"'\n    };\n  } else {\n    return true;\n  }\n}\n\n/** Parse SIP Message\n * @function\n * @param {String} message SIP message.\n * @param {Object} logger object.\n * @returns {SIP.IncomingRequest|SIP.IncomingResponse|undefined}\n */\nParser = {};\nParser.parseMessage = function(data, ua) {\n  var message, firstLine, contentLength, bodyStart, parsed,\n    headerStart = 0,\n    headerEnd = data.indexOf('\\r\\n'),\n    logger = ua.getLogger('sip.parser');\n\n  if(headerEnd === -1) {\n    logger.warn('no CRLF found, not a SIP message, discarded');\n    return;\n  }\n\n  // Parse first line. Check if it is a Request or a Reply.\n  firstLine = data.substring(0, headerEnd);\n  parsed = SIP.Grammar.parse(firstLine, 'Request_Response');\n\n  if(parsed === -1) {\n    logger.warn('error parsing first line of SIP message: \"' + firstLine + '\"');\n    return;\n  } else if(!parsed.status_code) {\n    message = new SIP.IncomingRequest(ua);\n    message.method = parsed.method;\n    message.ruri = parsed.uri;\n  } else {\n    message = new SIP.IncomingResponse(ua);\n    message.status_code = parsed.status_code;\n    message.reason_phrase = parsed.reason_phrase;\n  }\n\n  message.data = data;\n  headerStart = headerEnd + 2;\n\n  /* Loop over every line in data. Detect the end of each header and parse\n  * it or simply add to the headers collection.\n  */\n  while(true) {\n    headerEnd = getHeader(data, headerStart);\n\n    // The SIP message has normally finished.\n    if(headerEnd === -2) {\n      bodyStart = headerStart + 2;\n      break;\n    }\n    // data.indexOf returned -1 due to a malformed message.\n    else if(headerEnd === -1) {\n      logger.error('malformed message');\n      return;\n    }\n\n    parsed = parseHeader(message, data, headerStart, headerEnd);\n\n    if(parsed !== true) {\n      logger.error(parsed.error);\n      return;\n    }\n\n    headerStart = headerEnd + 2;\n  }\n\n  /* RFC3261 18.3.\n   * If there are additional bytes in the transport packet\n   * beyond the end of the body, they MUST be discarded.\n   */\n  if(message.hasHeader('content-length')) {\n    contentLength = message.getHeader('content-length');\n    message.body = data.substr(bodyStart, contentLength);\n  } else {\n    message.body = data.substring(bodyStart);\n  }\n\n  return message;\n};\n\nSIP.Parser = Parser;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1BhcnNlci5qcz83N2FlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQixjQUFjO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLGNBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6IjM1MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFNJUCBNZXNzYWdlIFBhcnNlclxuICovXG5cbi8qKlxuICogRXh0cmFjdCBhbmQgcGFyc2UgZXZlcnkgaGVhZGVyIG9mIGEgU0lQIG1lc3NhZ2UuXG4gKiBAYXVnbWVudHMgU0lQXG4gKiBAbmFtZXNwYWNlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFNJUCkge1xudmFyIFBhcnNlcjtcblxuZnVuY3Rpb24gZ2V0SGVhZGVyKGRhdGEsIGhlYWRlclN0YXJ0KSB7XG4gIHZhclxuICAgIC8vICdzdGFydCcgcG9zaXRpb24gb2YgdGhlIGhlYWRlci5cbiAgICBzdGFydCA9IGhlYWRlclN0YXJ0LFxuICAgIC8vICdlbmQnIHBvc2l0aW9uIG9mIHRoZSBoZWFkZXIuXG4gICAgZW5kID0gMCxcbiAgICAvLyAncGFydGlhbCBlbmQnIHBvc2l0aW9uIG9mIHRoZSBoZWFkZXIuXG4gICAgcGFydGlhbEVuZCA9IDA7XG5cbiAgLy9FbmQgb2YgbWVzc2FnZS5cbiAgaWYgKGRhdGEuc3Vic3RyaW5nKHN0YXJ0LCBzdGFydCArIDIpLm1hdGNoKC8oXlxcclxcbikvKSkge1xuICAgIHJldHVybiAtMjtcbiAgfVxuXG4gIHdoaWxlKGVuZCA9PT0gMCkge1xuICAgIC8vIFBhcnRpYWwgRW5kIG9mIEhlYWRlci5cbiAgICBwYXJ0aWFsRW5kID0gZGF0YS5pbmRleE9mKCdcXHJcXG4nLCBzdGFydCk7XG5cbiAgICAvLyAnaW5kZXhPZicgcmV0dXJucyAtMSBpZiB0aGUgdmFsdWUgdG8gYmUgZm91bmQgbmV2ZXIgb2NjdXJzLlxuICAgIGlmIChwYXJ0aWFsRW5kID09PSAtMSkge1xuICAgICAgcmV0dXJuIHBhcnRpYWxFbmQ7XG4gICAgfVxuXG4gICAgaWYoIWRhdGEuc3Vic3RyaW5nKHBhcnRpYWxFbmQgKyAyLCBwYXJ0aWFsRW5kICsgNCkubWF0Y2goLyheXFxyXFxuKS8pICYmIGRhdGEuY2hhckF0KHBhcnRpYWxFbmQgKyAyKS5tYXRjaCgvKF5cXHMrKS8pKSB7XG4gICAgICAvLyBOb3QgdGhlIGVuZCBvZiB0aGUgbWVzc2FnZS4gQ29udGludWUgZnJvbSB0aGUgbmV4dCBwb3NpdGlvbi5cbiAgICAgIHN0YXJ0ID0gcGFydGlhbEVuZCArIDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVuZCA9IHBhcnRpYWxFbmQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGVuZDtcbn1cblxuZnVuY3Rpb24gcGFyc2VIZWFkZXIobWVzc2FnZSwgZGF0YSwgaGVhZGVyU3RhcnQsIGhlYWRlckVuZCkge1xuICB2YXIgaGVhZGVyLCBpZHgsIGxlbmd0aCwgcGFyc2VkLFxuICAgIGhjb2xvbkluZGV4ID0gZGF0YS5pbmRleE9mKCc6JywgaGVhZGVyU3RhcnQpLFxuICAgIGhlYWRlck5hbWUgPSBkYXRhLnN1YnN0cmluZyhoZWFkZXJTdGFydCwgaGNvbG9uSW5kZXgpLnRyaW0oKSxcbiAgICBoZWFkZXJWYWx1ZSA9IGRhdGEuc3Vic3RyaW5nKGhjb2xvbkluZGV4ICsgMSwgaGVhZGVyRW5kKS50cmltKCk7XG5cbiAgLy8gSWYgaGVhZGVyLWZpZWxkIGlzIHdlbGwta25vd24sIHBhcnNlIGl0LlxuICBzd2l0Y2goaGVhZGVyTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAndmlhJzpcbiAgICBjYXNlICd2JzpcbiAgICAgIG1lc3NhZ2UuYWRkSGVhZGVyKCd2aWEnLCBoZWFkZXJWYWx1ZSk7XG4gICAgICBpZihtZXNzYWdlLmdldEhlYWRlcnMoJ3ZpYScpLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBwYXJzZWQgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKCdWaWEnKTtcbiAgICAgICAgaWYocGFyc2VkKSB7XG4gICAgICAgICAgbWVzc2FnZS52aWEgPSBwYXJzZWQ7XG4gICAgICAgICAgbWVzc2FnZS52aWFfYnJhbmNoID0gcGFyc2VkLmJyYW5jaDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkID0gMDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Zyb20nOlxuICAgIGNhc2UgJ2YnOlxuICAgICAgbWVzc2FnZS5zZXRIZWFkZXIoJ2Zyb20nLCBoZWFkZXJWYWx1ZSk7XG4gICAgICBwYXJzZWQgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKCdmcm9tJyk7XG4gICAgICBpZihwYXJzZWQpIHtcbiAgICAgICAgbWVzc2FnZS5mcm9tID0gcGFyc2VkO1xuICAgICAgICBtZXNzYWdlLmZyb21fdGFnID0gcGFyc2VkLmdldFBhcmFtKCd0YWcnKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RvJzpcbiAgICBjYXNlICd0JzpcbiAgICAgIG1lc3NhZ2Uuc2V0SGVhZGVyKCd0bycsIGhlYWRlclZhbHVlKTtcbiAgICAgIHBhcnNlZCA9IG1lc3NhZ2UucGFyc2VIZWFkZXIoJ3RvJyk7XG4gICAgICBpZihwYXJzZWQpIHtcbiAgICAgICAgbWVzc2FnZS50byA9IHBhcnNlZDtcbiAgICAgICAgbWVzc2FnZS50b190YWcgPSBwYXJzZWQuZ2V0UGFyYW0oJ3RhZycpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncmVjb3JkLXJvdXRlJzpcbiAgICAgIHBhcnNlZCA9IFNJUC5HcmFtbWFyLnBhcnNlKGhlYWRlclZhbHVlLCAnUmVjb3JkX1JvdXRlJyk7XG5cbiAgICAgIGlmIChwYXJzZWQgPT09IC0xKSB7XG4gICAgICAgIHBhcnNlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGxlbmd0aCA9IHBhcnNlZC5sZW5ndGg7XG4gICAgICBmb3IgKGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgaGVhZGVyID0gcGFyc2VkW2lkeF07XG4gICAgICAgIG1lc3NhZ2UuYWRkSGVhZGVyKCdyZWNvcmQtcm91dGUnLCBoZWFkZXJWYWx1ZS5zdWJzdHJpbmcoaGVhZGVyLnBvc2l0aW9uLCBoZWFkZXIub2Zmc2V0KSk7XG4gICAgICAgIG1lc3NhZ2UuaGVhZGVyc1snUmVjb3JkLVJvdXRlJ11bbWVzc2FnZS5nZXRIZWFkZXJzKCdyZWNvcmQtcm91dGUnKS5sZW5ndGggLSAxXS5wYXJzZWQgPSBoZWFkZXIucGFyc2VkO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnY2FsbC1pZCc6XG4gICAgY2FzZSAnaSc6XG4gICAgICBtZXNzYWdlLnNldEhlYWRlcignY2FsbC1pZCcsIGhlYWRlclZhbHVlKTtcbiAgICAgIHBhcnNlZCA9IG1lc3NhZ2UucGFyc2VIZWFkZXIoJ2NhbGwtaWQnKTtcbiAgICAgIGlmKHBhcnNlZCkge1xuICAgICAgICBtZXNzYWdlLmNhbGxfaWQgPSBoZWFkZXJWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2NvbnRhY3QnOlxuICAgIGNhc2UgJ20nOlxuICAgICAgcGFyc2VkID0gU0lQLkdyYW1tYXIucGFyc2UoaGVhZGVyVmFsdWUsICdDb250YWN0Jyk7XG5cbiAgICAgIGlmIChwYXJzZWQgPT09IC0xKSB7XG4gICAgICAgIHBhcnNlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGxlbmd0aCA9IHBhcnNlZC5sZW5ndGg7XG4gICAgICBmb3IgKGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgaGVhZGVyID0gcGFyc2VkW2lkeF07XG4gICAgICAgIG1lc3NhZ2UuYWRkSGVhZGVyKCdjb250YWN0JywgaGVhZGVyVmFsdWUuc3Vic3RyaW5nKGhlYWRlci5wb3NpdGlvbiwgaGVhZGVyLm9mZnNldCkpO1xuICAgICAgICBtZXNzYWdlLmhlYWRlcnNbJ0NvbnRhY3QnXVttZXNzYWdlLmdldEhlYWRlcnMoJ2NvbnRhY3QnKS5sZW5ndGggLSAxXS5wYXJzZWQgPSBoZWFkZXIucGFyc2VkO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnY29udGVudC1sZW5ndGgnOlxuICAgIGNhc2UgJ2wnOlxuICAgICAgbWVzc2FnZS5zZXRIZWFkZXIoJ2NvbnRlbnQtbGVuZ3RoJywgaGVhZGVyVmFsdWUpO1xuICAgICAgcGFyc2VkID0gbWVzc2FnZS5wYXJzZUhlYWRlcignY29udGVudC1sZW5ndGgnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2NvbnRlbnQtdHlwZSc6XG4gICAgY2FzZSAnYyc6XG4gICAgICBtZXNzYWdlLnNldEhlYWRlcignY29udGVudC10eXBlJywgaGVhZGVyVmFsdWUpO1xuICAgICAgcGFyc2VkID0gbWVzc2FnZS5wYXJzZUhlYWRlcignY29udGVudC10eXBlJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdjc2VxJzpcbiAgICAgIG1lc3NhZ2Uuc2V0SGVhZGVyKCdjc2VxJywgaGVhZGVyVmFsdWUpO1xuICAgICAgcGFyc2VkID0gbWVzc2FnZS5wYXJzZUhlYWRlcignY3NlcScpO1xuICAgICAgaWYocGFyc2VkKSB7XG4gICAgICAgIG1lc3NhZ2UuY3NlcSA9IHBhcnNlZC52YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmKG1lc3NhZ2UgaW5zdGFuY2VvZiBTSVAuSW5jb21pbmdSZXNwb25zZSkge1xuICAgICAgICBtZXNzYWdlLm1ldGhvZCA9IHBhcnNlZC5tZXRob2Q7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdtYXgtZm9yd2FyZHMnOlxuICAgICAgbWVzc2FnZS5zZXRIZWFkZXIoJ21heC1mb3J3YXJkcycsIGhlYWRlclZhbHVlKTtcbiAgICAgIHBhcnNlZCA9IG1lc3NhZ2UucGFyc2VIZWFkZXIoJ21heC1mb3J3YXJkcycpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnd3d3LWF1dGhlbnRpY2F0ZSc6XG4gICAgICBtZXNzYWdlLnNldEhlYWRlcignd3d3LWF1dGhlbnRpY2F0ZScsIGhlYWRlclZhbHVlKTtcbiAgICAgIHBhcnNlZCA9IG1lc3NhZ2UucGFyc2VIZWFkZXIoJ3d3dy1hdXRoZW50aWNhdGUnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3Byb3h5LWF1dGhlbnRpY2F0ZSc6XG4gICAgICBtZXNzYWdlLnNldEhlYWRlcigncHJveHktYXV0aGVudGljYXRlJywgaGVhZGVyVmFsdWUpO1xuICAgICAgcGFyc2VkID0gbWVzc2FnZS5wYXJzZUhlYWRlcigncHJveHktYXV0aGVudGljYXRlJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdyZWZlci10byc6XG4gICAgY2FzZSAncic6XG4gICAgICBtZXNzYWdlLnNldEhlYWRlcigncmVmZXItdG8nLCBoZWFkZXJWYWx1ZSk7XG4gICAgICBwYXJzZWQgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKCdyZWZlci10bycpO1xuICAgICAgaWYgKHBhcnNlZCkge1xuICAgICAgICBtZXNzYWdlLnJlZmVyX3RvID0gcGFyc2VkO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIERvIG5vdCBwYXJzZSB0aGlzIGhlYWRlci5cbiAgICAgIG1lc3NhZ2Uuc2V0SGVhZGVyKGhlYWRlck5hbWUsIGhlYWRlclZhbHVlKTtcbiAgICAgIHBhcnNlZCA9IDA7XG4gIH1cblxuICBpZiAocGFyc2VkID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6ICdlcnJvciBwYXJzaW5nIGhlYWRlciBcIicrIGhlYWRlck5hbWUgKydcIidcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8qKiBQYXJzZSBTSVAgTWVzc2FnZVxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBTSVAgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBsb2dnZXIgb2JqZWN0LlxuICogQHJldHVybnMge1NJUC5JbmNvbWluZ1JlcXVlc3R8U0lQLkluY29taW5nUmVzcG9uc2V8dW5kZWZpbmVkfVxuICovXG5QYXJzZXIgPSB7fTtcblBhcnNlci5wYXJzZU1lc3NhZ2UgPSBmdW5jdGlvbihkYXRhLCB1YSkge1xuICB2YXIgbWVzc2FnZSwgZmlyc3RMaW5lLCBjb250ZW50TGVuZ3RoLCBib2R5U3RhcnQsIHBhcnNlZCxcbiAgICBoZWFkZXJTdGFydCA9IDAsXG4gICAgaGVhZGVyRW5kID0gZGF0YS5pbmRleE9mKCdcXHJcXG4nKSxcbiAgICBsb2dnZXIgPSB1YS5nZXRMb2dnZXIoJ3NpcC5wYXJzZXInKTtcblxuICBpZihoZWFkZXJFbmQgPT09IC0xKSB7XG4gICAgbG9nZ2VyLndhcm4oJ25vIENSTEYgZm91bmQsIG5vdCBhIFNJUCBtZXNzYWdlLCBkaXNjYXJkZWQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBQYXJzZSBmaXJzdCBsaW5lLiBDaGVjayBpZiBpdCBpcyBhIFJlcXVlc3Qgb3IgYSBSZXBseS5cbiAgZmlyc3RMaW5lID0gZGF0YS5zdWJzdHJpbmcoMCwgaGVhZGVyRW5kKTtcbiAgcGFyc2VkID0gU0lQLkdyYW1tYXIucGFyc2UoZmlyc3RMaW5lLCAnUmVxdWVzdF9SZXNwb25zZScpO1xuXG4gIGlmKHBhcnNlZCA9PT0gLTEpIHtcbiAgICBsb2dnZXIud2FybignZXJyb3IgcGFyc2luZyBmaXJzdCBsaW5lIG9mIFNJUCBtZXNzYWdlOiBcIicgKyBmaXJzdExpbmUgKyAnXCInKTtcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZighcGFyc2VkLnN0YXR1c19jb2RlKSB7XG4gICAgbWVzc2FnZSA9IG5ldyBTSVAuSW5jb21pbmdSZXF1ZXN0KHVhKTtcbiAgICBtZXNzYWdlLm1ldGhvZCA9IHBhcnNlZC5tZXRob2Q7XG4gICAgbWVzc2FnZS5ydXJpID0gcGFyc2VkLnVyaTtcbiAgfSBlbHNlIHtcbiAgICBtZXNzYWdlID0gbmV3IFNJUC5JbmNvbWluZ1Jlc3BvbnNlKHVhKTtcbiAgICBtZXNzYWdlLnN0YXR1c19jb2RlID0gcGFyc2VkLnN0YXR1c19jb2RlO1xuICAgIG1lc3NhZ2UucmVhc29uX3BocmFzZSA9IHBhcnNlZC5yZWFzb25fcGhyYXNlO1xuICB9XG5cbiAgbWVzc2FnZS5kYXRhID0gZGF0YTtcbiAgaGVhZGVyU3RhcnQgPSBoZWFkZXJFbmQgKyAyO1xuXG4gIC8qIExvb3Agb3ZlciBldmVyeSBsaW5lIGluIGRhdGEuIERldGVjdCB0aGUgZW5kIG9mIGVhY2ggaGVhZGVyIGFuZCBwYXJzZVxuICAqIGl0IG9yIHNpbXBseSBhZGQgdG8gdGhlIGhlYWRlcnMgY29sbGVjdGlvbi5cbiAgKi9cbiAgd2hpbGUodHJ1ZSkge1xuICAgIGhlYWRlckVuZCA9IGdldEhlYWRlcihkYXRhLCBoZWFkZXJTdGFydCk7XG5cbiAgICAvLyBUaGUgU0lQIG1lc3NhZ2UgaGFzIG5vcm1hbGx5IGZpbmlzaGVkLlxuICAgIGlmKGhlYWRlckVuZCA9PT0gLTIpIHtcbiAgICAgIGJvZHlTdGFydCA9IGhlYWRlclN0YXJ0ICsgMjtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBkYXRhLmluZGV4T2YgcmV0dXJuZWQgLTEgZHVlIHRvIGEgbWFsZm9ybWVkIG1lc3NhZ2UuXG4gICAgZWxzZSBpZihoZWFkZXJFbmQgPT09IC0xKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ21hbGZvcm1lZCBtZXNzYWdlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcGFyc2VkID0gcGFyc2VIZWFkZXIobWVzc2FnZSwgZGF0YSwgaGVhZGVyU3RhcnQsIGhlYWRlckVuZCk7XG5cbiAgICBpZihwYXJzZWQgIT09IHRydWUpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihwYXJzZWQuZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGhlYWRlclN0YXJ0ID0gaGVhZGVyRW5kICsgMjtcbiAgfVxuXG4gIC8qIFJGQzMyNjEgMTguMy5cbiAgICogSWYgdGhlcmUgYXJlIGFkZGl0aW9uYWwgYnl0ZXMgaW4gdGhlIHRyYW5zcG9ydCBwYWNrZXRcbiAgICogYmV5b25kIHRoZSBlbmQgb2YgdGhlIGJvZHksIHRoZXkgTVVTVCBiZSBkaXNjYXJkZWQuXG4gICAqL1xuICBpZihtZXNzYWdlLmhhc0hlYWRlcignY29udGVudC1sZW5ndGgnKSkge1xuICAgIGNvbnRlbnRMZW5ndGggPSBtZXNzYWdlLmdldEhlYWRlcignY29udGVudC1sZW5ndGgnKTtcbiAgICBtZXNzYWdlLmJvZHkgPSBkYXRhLnN1YnN0cihib2R5U3RhcnQsIGNvbnRlbnRMZW5ndGgpO1xuICB9IGVsc2Uge1xuICAgIG1lc3NhZ2UuYm9keSA9IGRhdGEuc3Vic3RyaW5nKGJvZHlTdGFydCk7XG4gIH1cblxuICByZXR1cm4gbWVzc2FnZTtcbn07XG5cblNJUC5QYXJzZXIgPSBQYXJzZXI7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1BhcnNlci5qc1xuLy8gbW9kdWxlIGlkID0gMzUwXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///350\n");

/***/ }),
/* 351 */
/*!*******************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/SIPMessage.js ***!
  \*******************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview SIP Message\n */\n\nmodule.exports = function (SIP) {\nvar\n  OutgoingRequest,\n  IncomingMessage,\n  IncomingRequest,\n  IncomingResponse;\n\nfunction getSupportedHeader (request) {\n  var allowUnregistered = request.ua.configuration.hackAllowUnregisteredOptionTags;\n  var optionTags = [];\n  var optionTagSet = {};\n\n  if (request.method === SIP.C.REGISTER) {\n    optionTags.push('path', 'gruu');\n  } else if (request.method === SIP.C.INVITE &&\n             (request.ua.contact.pub_gruu || request.ua.contact.temp_gruu)) {\n    optionTags.push('gruu');\n  }\n\n  if (request.ua.configuration.rel100 === SIP.C.supported.SUPPORTED) {\n    optionTags.push('100rel');\n  }\n  if (request.ua.configuration.replaces === SIP.C.supported.SUPPORTED) {\n    optionTags.push('replaces');\n  }\n\n  optionTags.push('outbound');\n\n  optionTags = optionTags.concat(request.ua.configuration.extraSupported);\n\n  optionTags = optionTags.filter(function(optionTag) {\n    var registered = SIP.C.OPTION_TAGS[optionTag];\n    var unique = !optionTagSet[optionTag];\n    optionTagSet[optionTag] = true;\n    return (registered || allowUnregistered) && unique;\n  });\n\n  return 'Supported: ' + optionTags.join(', ') + '\\r\\n';\n}\n\n/**\n * @augments SIP\n * @class Class for outgoing SIP request.\n * @param {String} method request method\n * @param {String} ruri request uri\n * @param {SIP.UA} ua\n * @param {Object} params parameters that will have priority over ua.configuration parameters:\n * <br>\n *  - cseq, call_id, from_tag, from_uri, from_displayName, to_uri, to_tag, route_set\n * @param {Object} [headers] extra headers\n * @param {String} [body]\n */\nOutgoingRequest = function(method, ruri, ua, params, extraHeaders, body) {\n  var\n    to,\n    from,\n    call_id,\n    cseq,\n    to_uri,\n    from_uri;\n\n  params = params || {};\n\n  // Mandatory parameters check\n  if(!method || !ruri || !ua) {\n    return null;\n  }\n\n  this.logger = ua.getLogger('sip.sipmessage');\n  this.ua = ua;\n  this.headers = {};\n  this.method = method;\n  this.ruri = ruri;\n  this.body = body;\n  this.extraHeaders = (extraHeaders || []).slice();\n  this.statusCode = params.status_code;\n  this.reasonPhrase = params.reason_phrase;\n\n  // Fill the Common SIP Request Headers\n\n  // Route\n  if (params.route_set) {\n    this.setHeader('route', params.route_set);\n  } else if (ua.configuration.usePreloadedRoute){\n    this.setHeader('route', ua.transport.server.sip_uri);\n  }\n\n  // Via\n  // Empty Via header. Will be filled by the client transaction.\n  this.setHeader('via', '');\n\n  // Max-Forwards\n  this.setHeader('max-forwards', SIP.UA.C.MAX_FORWARDS);\n\n  // To\n  to_uri = params.to_uri || ruri;\n  to = (params.to_displayName || params.to_displayName === 0) ? '\"' + params.to_displayName + '\" ' : '';\n  to += '<' + (to_uri && to_uri.toRaw ? to_uri.toRaw() : to_uri) + '>';\n  to += params.to_tag ? ';tag=' + params.to_tag : '';\n  this.to = new SIP.NameAddrHeader.parse(to);\n  this.setHeader('to', to);\n\n  // From\n  from_uri = params.from_uri || ua.configuration.uri;\n  if (params.from_displayName || params.from_displayName === 0) {\n    from = '\"' + params.from_displayName + '\" ';\n  } else if (ua.configuration.displayName) {\n    from = '\"' + ua.configuration.displayName + '\" ';\n  } else {\n    from = '';\n  }\n  from += '<' + (from_uri && from_uri.toRaw ? from_uri.toRaw() : from_uri) + '>;tag=';\n  from += params.from_tag || SIP.Utils.newTag();\n  this.from = new SIP.NameAddrHeader.parse(from);\n  this.setHeader('from', from);\n\n  // Call-ID\n  call_id = params.call_id || (ua.configuration.sipjsId + SIP.Utils.createRandomToken(15));\n  this.call_id = call_id;\n  this.setHeader('call-id', call_id);\n\n  // CSeq\n  cseq = params.cseq || Math.floor(Math.random() * 10000);\n  this.cseq = cseq;\n  this.setHeader('cseq', cseq + ' ' + method);\n};\n\nOutgoingRequest.prototype = {\n  /**\n   * Replace the the given header by the given value.\n   * @param {String} name header name\n   * @param {String | Array} value header value\n   */\n  setHeader: function(name, value) {\n    this.headers[SIP.Utils.headerize(name)] = (value instanceof Array) ? value : [value];\n  },\n\n  /**\n   * Get the value of the given header name at the given position.\n   * @param {String} name header name\n   * @returns {String|undefined} Returns the specified header, undefined if header doesn't exist.\n   */\n  getHeader: function(name) {\n    var regexp, idx,\n      length = this.extraHeaders.length,\n      header = this.headers[SIP.Utils.headerize(name)];\n\n    if(header) {\n      if(header[0]) {\n        return header[0];\n      }\n    } else {\n      regexp = new RegExp('^\\\\s*' + name + '\\\\s*:','i');\n      for (idx = 0; idx < length; idx++) {\n        header = this.extraHeaders[idx];\n        if (regexp.test(header)) {\n          return header.substring(header.indexOf(':')+1).trim();\n        }\n      }\n    }\n\n    return;\n  },\n\n  /**\n   * Get the header/s of the given name.\n   * @param {String} name header name\n   * @returns {Array} Array with all the headers of the specified name.\n   */\n  getHeaders: function(name) {\n    var idx, length, regexp,\n      header = this.headers[SIP.Utils.headerize(name)],\n      result = [];\n\n    if(header) {\n      length = header.length;\n      for (idx = 0; idx < length; idx++) {\n        result.push(header[idx]);\n      }\n      return result;\n    } else {\n      length = this.extraHeaders.length;\n      regexp = new RegExp('^\\\\s*' + name + '\\\\s*:','i');\n      for (idx = 0; idx < length; idx++) {\n        header = this.extraHeaders[idx];\n        if (regexp.test(header)) {\n          result.push(header.substring(header.indexOf(':')+1).trim());\n        }\n      }\n      return result;\n    }\n  },\n\n  /**\n   * Verify the existence of the given header.\n   * @param {String} name header name\n   * @returns {boolean} true if header with given name exists, false otherwise\n   */\n  hasHeader: function(name) {\n    var regexp, idx,\n      length = this.extraHeaders.length;\n\n    if (this.headers[SIP.Utils.headerize(name)]) {\n      return true;\n    } else {\n      regexp = new RegExp('^\\\\s*' + name + '\\\\s*:','i');\n      for (idx = 0; idx < length; idx++) {\n        if (regexp.test(this.extraHeaders[idx])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  },\n\n  toString: function() {\n    var msg = '', header, length, idx;\n\n    msg += this.method + ' ' + (this.ruri.toRaw ? this.ruri.toRaw() : this.ruri) + ' SIP/2.0\\r\\n';\n\n    for (header in this.headers) {\n      length = this.headers[header].length;\n      for (idx = 0; idx < length; idx++) {\n        msg += header + ': ' + this.headers[header][idx] + '\\r\\n';\n      }\n    }\n\n    length = this.extraHeaders.length;\n    for (idx = 0; idx < length; idx++) {\n      msg += this.extraHeaders[idx].trim() +'\\r\\n';\n    }\n\n    msg += getSupportedHeader(this);\n    msg += 'User-Agent: ' + this.ua.configuration.userAgentString +'\\r\\n';\n\n    if (this.body) {\n      if (typeof this.body === 'string') {\n        length = SIP.Utils.str_utf8_length(this.body);\n        msg += 'Content-Length: ' + length + '\\r\\n\\r\\n';\n        msg += this.body;\n      } else {\n        if (this.body.body && this.body.contentType) {\n          length = SIP.Utils.str_utf8_length(this.body.body);\n          msg += 'Content-Type: ' + this.body.contentType + '\\r\\n';\n          msg += 'Content-Length: ' + length + '\\r\\n\\r\\n';\n          msg += this.body.body;\n        } else {\n          msg += 'Content-Length: ' + 0 + '\\r\\n\\r\\n';\n        }\n      }\n    } else {\n      msg += 'Content-Length: ' + 0 + '\\r\\n\\r\\n';\n    }\n\n    return msg;\n  }\n};\n\n/**\n * @augments SIP\n * @class Class for incoming SIP message.\n */\nIncomingMessage = function(){\n  this.data = null;\n  this.headers = null;\n  this.method =  null;\n  this.via = null;\n  this.via_branch = null;\n  this.call_id = null;\n  this.cseq = null;\n  this.from = null;\n  this.from_tag = null;\n  this.to = null;\n  this.to_tag = null;\n  this.body = null;\n};\n\nIncomingMessage.prototype = {\n  /**\n  * Insert a header of the given name and value into the last position of the\n  * header array.\n  * @param {String} name header name\n  * @param {String} value header value\n  */\n  addHeader: function(name, value) {\n    var header = { raw: value };\n\n    name = SIP.Utils.headerize(name);\n\n    if(this.headers[name]) {\n      this.headers[name].push(header);\n    } else {\n      this.headers[name] = [header];\n    }\n  },\n\n  /**\n   * Get the value of the given header name at the given position.\n   * @param {String} name header name\n   * @returns {String|undefined} Returns the specified header, null if header doesn't exist.\n   */\n  getHeader: function(name) {\n    var header = this.headers[SIP.Utils.headerize(name)];\n\n    if(header) {\n      if(header[0]) {\n        return header[0].raw;\n      }\n    } else {\n      return;\n    }\n  },\n\n  /**\n   * Get the header/s of the given name.\n   * @param {String} name header name\n   * @returns {Array} Array with all the headers of the specified name.\n   */\n  getHeaders: function(name) {\n    var idx, length,\n      header = this.headers[SIP.Utils.headerize(name)],\n      result = [];\n\n    if(!header) {\n      return [];\n    }\n\n    length = header.length;\n    for (idx = 0; idx < length; idx++) {\n      result.push(header[idx].raw);\n    }\n\n    return result;\n  },\n\n  /**\n   * Verify the existence of the given header.\n   * @param {String} name header name\n   * @returns {boolean} true if header with given name exists, false otherwise\n   */\n  hasHeader: function(name) {\n    return(this.headers[SIP.Utils.headerize(name)]) ? true : false;\n  },\n\n  /**\n  * Parse the given header on the given index.\n  * @param {String} name header name\n  * @param {Number} [idx=0] header index\n  * @returns {Object|undefined} Parsed header object, undefined if the header is not present or in case of a parsing error.\n  */\n  parseHeader: function(name, idx) {\n    var header, value, parsed;\n\n    name = SIP.Utils.headerize(name);\n\n    idx = idx || 0;\n\n    if(!this.headers[name]) {\n      this.logger.log('header \"' + name + '\" not present');\n      return;\n    } else if(idx >= this.headers[name].length) {\n      this.logger.log('not so many \"' + name + '\" headers present');\n      return;\n    }\n\n    header = this.headers[name][idx];\n    value = header.raw;\n\n    if(header.parsed) {\n      return header.parsed;\n    }\n\n    //substitute '-' by '_' for grammar rule matching.\n    parsed = SIP.Grammar.parse(value, name.replace(/-/g, '_'));\n\n    if(parsed === -1) {\n      this.headers[name].splice(idx, 1); //delete from headers\n      this.logger.warn('error parsing \"' + name + '\" header field with value \"' + value + '\"');\n      return;\n    } else {\n      header.parsed = parsed;\n      return parsed;\n    }\n  },\n\n  /**\n   * Message Header attribute selector. Alias of parseHeader.\n   * @param {String} name header name\n   * @param {Number} [idx=0] header index\n   * @returns {Object|undefined} Parsed header object, undefined if the header is not present or in case of a parsing error.\n   *\n   * @example\n   * message.s('via',3).port\n   */\n  s: function(name, idx) {\n    return this.parseHeader(name, idx);\n  },\n\n  /**\n  * Replace the value of the given header by the value.\n  * @param {String} name header name\n  * @param {String} value header value\n  */\n  setHeader: function(name, value) {\n    var header = { raw: value };\n    this.headers[SIP.Utils.headerize(name)] = [header];\n  },\n\n  toString: function() {\n    return this.data;\n  }\n};\n\n/**\n * @augments IncomingMessage\n * @class Class for incoming SIP request.\n */\nIncomingRequest = function(ua) {\n  this.logger = ua.getLogger('sip.sipmessage');\n  this.ua = ua;\n  this.headers = {};\n  this.ruri = null;\n  this.transport = null;\n  this.server_transaction = null;\n};\nIncomingRequest.prototype = new IncomingMessage();\n\n/**\n* Stateful reply.\n* @param {Number} code status code\n* @param {String} reason reason phrase\n* @param {Object} headers extra headers\n* @param {String} body body\n* @param {Function} [onSuccess] onSuccess callback\n* @param {Function} [onFailure] onFailure callback\n*/\nIncomingRequest.prototype.reply = function(code, reason, extraHeaders, body, onSuccess, onFailure) {\n  var rr, vias, length, idx, response,\n    to = this.getHeader('To'),\n    r = 0,\n    v = 0;\n\n  response = SIP.Utils.buildStatusLine(code, reason);\n  extraHeaders = (extraHeaders || []).slice();\n\n  if(this.method === SIP.C.INVITE && code > 100 && code <= 200) {\n    rr = this.getHeaders('record-route');\n    length = rr.length;\n\n    for(r; r < length; r++) {\n      response += 'Record-Route: ' + rr[r] + '\\r\\n';\n    }\n  }\n\n  vias = this.getHeaders('via');\n  length = vias.length;\n\n  for(v; v < length; v++) {\n    response += 'Via: ' + vias[v] + '\\r\\n';\n  }\n\n  if(!this.to_tag && code > 100) {\n    to += ';tag=' + SIP.Utils.newTag();\n  } else if(this.to_tag && !this.s('to').hasParam('tag')) {\n    to += ';tag=' + this.to_tag;\n  }\n\n  response += 'To: ' + to + '\\r\\n';\n  response += 'From: ' + this.getHeader('From') + '\\r\\n';\n  response += 'Call-ID: ' + this.call_id + '\\r\\n';\n  response += 'CSeq: ' + this.cseq + ' ' + this.method + '\\r\\n';\n\n  length = extraHeaders.length;\n  for (idx = 0; idx < length; idx++) {\n    response += extraHeaders[idx].trim() +'\\r\\n';\n  }\n\n  response += getSupportedHeader(this);\n  response += 'User-Agent: ' + this.ua.configuration.userAgentString +'\\r\\n';\n\n  if (body) {\n    if (typeof body === 'string') {\n      length = SIP.Utils.str_utf8_length(body);\n      response += 'Content-Type: application/sdp\\r\\n';\n      response += 'Content-Length: ' + length + '\\r\\n\\r\\n';\n      response += body;\n    } else {\n      if (body.body && body.contentType) {\n        length = SIP.Utils.str_utf8_length(body.body);\n        response += 'Content-Type: ' + body.contentType + '\\r\\n';\n        response += 'Content-Length: ' + length + '\\r\\n\\r\\n';\n        response += body.body;\n      } else {\n        response += 'Content-Length: ' + 0 + '\\r\\n\\r\\n';\n      }\n    }\n  } else {\n    response += 'Content-Length: ' + 0 + '\\r\\n\\r\\n';\n  }\n\n  this.server_transaction.receiveResponse(code, response).then(onSuccess, onFailure);\n\n  return response;\n};\n\n/**\n* Stateless reply.\n* @param {Number} code status code\n* @param {String} reason reason phrase\n*/\nIncomingRequest.prototype.reply_sl = function(code, reason) {\n  var to, response,\n    v = 0,\n    vias = this.getHeaders('via'),\n    length = vias.length;\n\n  response = SIP.Utils.buildStatusLine(code, reason);\n\n  for(v; v < length; v++) {\n    response += 'Via: ' + vias[v] + '\\r\\n';\n  }\n\n  to = this.getHeader('To');\n\n  if(!this.to_tag && code > 100) {\n    to += ';tag=' + SIP.Utils.newTag();\n  } else if(this.to_tag && !this.s('to').hasParam('tag')) {\n    to += ';tag=' + this.to_tag;\n  }\n\n  response += 'To: ' + to + '\\r\\n';\n  response += 'From: ' + this.getHeader('From') + '\\r\\n';\n  response += 'Call-ID: ' + this.call_id + '\\r\\n';\n  response += 'CSeq: ' + this.cseq + ' ' + this.method + '\\r\\n';\n  response += 'User-Agent: ' + this.ua.configuration.userAgentString +'\\r\\n';\n  response += 'Content-Length: ' + 0 + '\\r\\n\\r\\n';\n\n  this.transport.send(response);\n};\n\n\n/**\n * @augments IncomingMessage\n * @class Class for incoming SIP response.\n */\nIncomingResponse = function(ua) {\n  this.logger = ua.getLogger('sip.sipmessage');\n  this.headers = {};\n  this.status_code = null;\n  this.reason_phrase = null;\n};\nIncomingResponse.prototype = new IncomingMessage();\n\nSIP.OutgoingRequest = OutgoingRequest;\nSIP.IncomingRequest = IncomingRequest;\nSIP.IncomingResponse = IncomingResponse;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1NJUE1lc3NhZ2UuanM/NmZhMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsZ0ZBQWdGO0FBQ2hGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixhQUFhLGVBQWU7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGVBQWUsaUJBQWlCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxtQkFBbUIsY0FBYztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsZUFBZSxNQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQixjQUFjO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsbUJBQW1CLGNBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxtQkFBbUIsY0FBYztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUIsY0FBYztBQUNqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIsY0FBYztBQUMvQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQSxrQkFBa0I7O0FBRWxCOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixlQUFlLGlCQUFpQjtBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixlQUFlLE1BQU07QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIsY0FBYztBQUMvQjtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxZQUFZLE9BQU87QUFDbkIsWUFBWSxPQUFPO0FBQ25CLGNBQWMsaUJBQWlCO0FBQy9CO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCLGVBQWUsaUJBQWlCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQixZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsT0FBTztBQUNqQixVQUFVLE9BQU87QUFDakIsVUFBVSxPQUFPO0FBQ2pCLFVBQVUsT0FBTztBQUNqQixVQUFVLFNBQVM7QUFDbkIsVUFBVSxTQUFTO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVLFlBQVk7QUFDdEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsUUFBUSxZQUFZO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1osR0FBRztBQUNILFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWUsY0FBYztBQUM3QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxPQUFPO0FBQ2pCLFVBQVUsT0FBTztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsUUFBUSxZQUFZO0FBQ3BCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxZQUFZO0FBQ1osR0FBRztBQUNILFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIzNTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBTSVAgTWVzc2FnZVxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFNJUCkge1xudmFyXG4gIE91dGdvaW5nUmVxdWVzdCxcbiAgSW5jb21pbmdNZXNzYWdlLFxuICBJbmNvbWluZ1JlcXVlc3QsXG4gIEluY29taW5nUmVzcG9uc2U7XG5cbmZ1bmN0aW9uIGdldFN1cHBvcnRlZEhlYWRlciAocmVxdWVzdCkge1xuICB2YXIgYWxsb3dVbnJlZ2lzdGVyZWQgPSByZXF1ZXN0LnVhLmNvbmZpZ3VyYXRpb24uaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFncztcbiAgdmFyIG9wdGlvblRhZ3MgPSBbXTtcbiAgdmFyIG9wdGlvblRhZ1NldCA9IHt9O1xuXG4gIGlmIChyZXF1ZXN0Lm1ldGhvZCA9PT0gU0lQLkMuUkVHSVNURVIpIHtcbiAgICBvcHRpb25UYWdzLnB1c2goJ3BhdGgnLCAnZ3J1dScpO1xuICB9IGVsc2UgaWYgKHJlcXVlc3QubWV0aG9kID09PSBTSVAuQy5JTlZJVEUgJiZcbiAgICAgICAgICAgICAocmVxdWVzdC51YS5jb250YWN0LnB1Yl9ncnV1IHx8IHJlcXVlc3QudWEuY29udGFjdC50ZW1wX2dydXUpKSB7XG4gICAgb3B0aW9uVGFncy5wdXNoKCdncnV1Jyk7XG4gIH1cblxuICBpZiAocmVxdWVzdC51YS5jb25maWd1cmF0aW9uLnJlbDEwMCA9PT0gU0lQLkMuc3VwcG9ydGVkLlNVUFBPUlRFRCkge1xuICAgIG9wdGlvblRhZ3MucHVzaCgnMTAwcmVsJyk7XG4gIH1cbiAgaWYgKHJlcXVlc3QudWEuY29uZmlndXJhdGlvbi5yZXBsYWNlcyA9PT0gU0lQLkMuc3VwcG9ydGVkLlNVUFBPUlRFRCkge1xuICAgIG9wdGlvblRhZ3MucHVzaCgncmVwbGFjZXMnKTtcbiAgfVxuXG4gIG9wdGlvblRhZ3MucHVzaCgnb3V0Ym91bmQnKTtcblxuICBvcHRpb25UYWdzID0gb3B0aW9uVGFncy5jb25jYXQocmVxdWVzdC51YS5jb25maWd1cmF0aW9uLmV4dHJhU3VwcG9ydGVkKTtcblxuICBvcHRpb25UYWdzID0gb3B0aW9uVGFncy5maWx0ZXIoZnVuY3Rpb24ob3B0aW9uVGFnKSB7XG4gICAgdmFyIHJlZ2lzdGVyZWQgPSBTSVAuQy5PUFRJT05fVEFHU1tvcHRpb25UYWddO1xuICAgIHZhciB1bmlxdWUgPSAhb3B0aW9uVGFnU2V0W29wdGlvblRhZ107XG4gICAgb3B0aW9uVGFnU2V0W29wdGlvblRhZ10gPSB0cnVlO1xuICAgIHJldHVybiAocmVnaXN0ZXJlZCB8fCBhbGxvd1VucmVnaXN0ZXJlZCkgJiYgdW5pcXVlO1xuICB9KTtcblxuICByZXR1cm4gJ1N1cHBvcnRlZDogJyArIG9wdGlvblRhZ3Muam9pbignLCAnKSArICdcXHJcXG4nO1xufVxuXG4vKipcbiAqIEBhdWdtZW50cyBTSVBcbiAqIEBjbGFzcyBDbGFzcyBmb3Igb3V0Z29pbmcgU0lQIHJlcXVlc3QuXG4gKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kIHJlcXVlc3QgbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ30gcnVyaSByZXF1ZXN0IHVyaVxuICogQHBhcmFtIHtTSVAuVUF9IHVhXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIHBhcmFtZXRlcnMgdGhhdCB3aWxsIGhhdmUgcHJpb3JpdHkgb3ZlciB1YS5jb25maWd1cmF0aW9uIHBhcmFtZXRlcnM6XG4gKiA8YnI+XG4gKiAgLSBjc2VxLCBjYWxsX2lkLCBmcm9tX3RhZywgZnJvbV91cmksIGZyb21fZGlzcGxheU5hbWUsIHRvX3VyaSwgdG9fdGFnLCByb3V0ZV9zZXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbaGVhZGVyc10gZXh0cmEgaGVhZGVyc1xuICogQHBhcmFtIHtTdHJpbmd9IFtib2R5XVxuICovXG5PdXRnb2luZ1JlcXVlc3QgPSBmdW5jdGlvbihtZXRob2QsIHJ1cmksIHVhLCBwYXJhbXMsIGV4dHJhSGVhZGVycywgYm9keSkge1xuICB2YXJcbiAgICB0byxcbiAgICBmcm9tLFxuICAgIGNhbGxfaWQsXG4gICAgY3NlcSxcbiAgICB0b191cmksXG4gICAgZnJvbV91cmk7XG5cbiAgcGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuXG4gIC8vIE1hbmRhdG9yeSBwYXJhbWV0ZXJzIGNoZWNrXG4gIGlmKCFtZXRob2QgfHwgIXJ1cmkgfHwgIXVhKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB0aGlzLmxvZ2dlciA9IHVhLmdldExvZ2dlcignc2lwLnNpcG1lc3NhZ2UnKTtcbiAgdGhpcy51YSA9IHVhO1xuICB0aGlzLmhlYWRlcnMgPSB7fTtcbiAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gIHRoaXMucnVyaSA9IHJ1cmk7XG4gIHRoaXMuYm9keSA9IGJvZHk7XG4gIHRoaXMuZXh0cmFIZWFkZXJzID0gKGV4dHJhSGVhZGVycyB8fCBbXSkuc2xpY2UoKTtcbiAgdGhpcy5zdGF0dXNDb2RlID0gcGFyYW1zLnN0YXR1c19jb2RlO1xuICB0aGlzLnJlYXNvblBocmFzZSA9IHBhcmFtcy5yZWFzb25fcGhyYXNlO1xuXG4gIC8vIEZpbGwgdGhlIENvbW1vbiBTSVAgUmVxdWVzdCBIZWFkZXJzXG5cbiAgLy8gUm91dGVcbiAgaWYgKHBhcmFtcy5yb3V0ZV9zZXQpIHtcbiAgICB0aGlzLnNldEhlYWRlcigncm91dGUnLCBwYXJhbXMucm91dGVfc2V0KTtcbiAgfSBlbHNlIGlmICh1YS5jb25maWd1cmF0aW9uLnVzZVByZWxvYWRlZFJvdXRlKXtcbiAgICB0aGlzLnNldEhlYWRlcigncm91dGUnLCB1YS50cmFuc3BvcnQuc2VydmVyLnNpcF91cmkpO1xuICB9XG5cbiAgLy8gVmlhXG4gIC8vIEVtcHR5IFZpYSBoZWFkZXIuIFdpbGwgYmUgZmlsbGVkIGJ5IHRoZSBjbGllbnQgdHJhbnNhY3Rpb24uXG4gIHRoaXMuc2V0SGVhZGVyKCd2aWEnLCAnJyk7XG5cbiAgLy8gTWF4LUZvcndhcmRzXG4gIHRoaXMuc2V0SGVhZGVyKCdtYXgtZm9yd2FyZHMnLCBTSVAuVUEuQy5NQVhfRk9SV0FSRFMpO1xuXG4gIC8vIFRvXG4gIHRvX3VyaSA9IHBhcmFtcy50b191cmkgfHwgcnVyaTtcbiAgdG8gPSAocGFyYW1zLnRvX2Rpc3BsYXlOYW1lIHx8IHBhcmFtcy50b19kaXNwbGF5TmFtZSA9PT0gMCkgPyAnXCInICsgcGFyYW1zLnRvX2Rpc3BsYXlOYW1lICsgJ1wiICcgOiAnJztcbiAgdG8gKz0gJzwnICsgKHRvX3VyaSAmJiB0b191cmkudG9SYXcgPyB0b191cmkudG9SYXcoKSA6IHRvX3VyaSkgKyAnPic7XG4gIHRvICs9IHBhcmFtcy50b190YWcgPyAnO3RhZz0nICsgcGFyYW1zLnRvX3RhZyA6ICcnO1xuICB0aGlzLnRvID0gbmV3IFNJUC5OYW1lQWRkckhlYWRlci5wYXJzZSh0byk7XG4gIHRoaXMuc2V0SGVhZGVyKCd0bycsIHRvKTtcblxuICAvLyBGcm9tXG4gIGZyb21fdXJpID0gcGFyYW1zLmZyb21fdXJpIHx8IHVhLmNvbmZpZ3VyYXRpb24udXJpO1xuICBpZiAocGFyYW1zLmZyb21fZGlzcGxheU5hbWUgfHwgcGFyYW1zLmZyb21fZGlzcGxheU5hbWUgPT09IDApIHtcbiAgICBmcm9tID0gJ1wiJyArIHBhcmFtcy5mcm9tX2Rpc3BsYXlOYW1lICsgJ1wiICc7XG4gIH0gZWxzZSBpZiAodWEuY29uZmlndXJhdGlvbi5kaXNwbGF5TmFtZSkge1xuICAgIGZyb20gPSAnXCInICsgdWEuY29uZmlndXJhdGlvbi5kaXNwbGF5TmFtZSArICdcIiAnO1xuICB9IGVsc2Uge1xuICAgIGZyb20gPSAnJztcbiAgfVxuICBmcm9tICs9ICc8JyArIChmcm9tX3VyaSAmJiBmcm9tX3VyaS50b1JhdyA/IGZyb21fdXJpLnRvUmF3KCkgOiBmcm9tX3VyaSkgKyAnPjt0YWc9JztcbiAgZnJvbSArPSBwYXJhbXMuZnJvbV90YWcgfHwgU0lQLlV0aWxzLm5ld1RhZygpO1xuICB0aGlzLmZyb20gPSBuZXcgU0lQLk5hbWVBZGRySGVhZGVyLnBhcnNlKGZyb20pO1xuICB0aGlzLnNldEhlYWRlcignZnJvbScsIGZyb20pO1xuXG4gIC8vIENhbGwtSURcbiAgY2FsbF9pZCA9IHBhcmFtcy5jYWxsX2lkIHx8ICh1YS5jb25maWd1cmF0aW9uLnNpcGpzSWQgKyBTSVAuVXRpbHMuY3JlYXRlUmFuZG9tVG9rZW4oMTUpKTtcbiAgdGhpcy5jYWxsX2lkID0gY2FsbF9pZDtcbiAgdGhpcy5zZXRIZWFkZXIoJ2NhbGwtaWQnLCBjYWxsX2lkKTtcblxuICAvLyBDU2VxXG4gIGNzZXEgPSBwYXJhbXMuY3NlcSB8fCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XG4gIHRoaXMuY3NlcSA9IGNzZXE7XG4gIHRoaXMuc2V0SGVhZGVyKCdjc2VxJywgY3NlcSArICcgJyArIG1ldGhvZCk7XG59O1xuXG5PdXRnb2luZ1JlcXVlc3QucHJvdG90eXBlID0ge1xuICAvKipcbiAgICogUmVwbGFjZSB0aGUgdGhlIGdpdmVuIGhlYWRlciBieSB0aGUgZ2l2ZW4gdmFsdWUuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIGhlYWRlciBuYW1lXG4gICAqIEBwYXJhbSB7U3RyaW5nIHwgQXJyYXl9IHZhbHVlIGhlYWRlciB2YWx1ZVxuICAgKi9cbiAgc2V0SGVhZGVyOiBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMuaGVhZGVyc1tTSVAuVXRpbHMuaGVhZGVyaXplKG5hbWUpXSA9ICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gaGVhZGVyIG5hbWUgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBoZWFkZXIgbmFtZVxuICAgKiBAcmV0dXJucyB7U3RyaW5nfHVuZGVmaW5lZH0gUmV0dXJucyB0aGUgc3BlY2lmaWVkIGhlYWRlciwgdW5kZWZpbmVkIGlmIGhlYWRlciBkb2Vzbid0IGV4aXN0LlxuICAgKi9cbiAgZ2V0SGVhZGVyOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIHJlZ2V4cCwgaWR4LFxuICAgICAgbGVuZ3RoID0gdGhpcy5leHRyYUhlYWRlcnMubGVuZ3RoLFxuICAgICAgaGVhZGVyID0gdGhpcy5oZWFkZXJzW1NJUC5VdGlscy5oZWFkZXJpemUobmFtZSldO1xuXG4gICAgaWYoaGVhZGVyKSB7XG4gICAgICBpZihoZWFkZXJbMF0pIHtcbiAgICAgICAgcmV0dXJuIGhlYWRlclswXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVnZXhwID0gbmV3IFJlZ0V4cCgnXlxcXFxzKicgKyBuYW1lICsgJ1xcXFxzKjonLCdpJyk7XG4gICAgICBmb3IgKGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgaGVhZGVyID0gdGhpcy5leHRyYUhlYWRlcnNbaWR4XTtcbiAgICAgICAgaWYgKHJlZ2V4cC50ZXN0KGhlYWRlcikpIHtcbiAgICAgICAgICByZXR1cm4gaGVhZGVyLnN1YnN0cmluZyhoZWFkZXIuaW5kZXhPZignOicpKzEpLnRyaW0oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBoZWFkZXIvcyBvZiB0aGUgZ2l2ZW4gbmFtZS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgaGVhZGVyIG5hbWVcbiAgICogQHJldHVybnMge0FycmF5fSBBcnJheSB3aXRoIGFsbCB0aGUgaGVhZGVycyBvZiB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gICAqL1xuICBnZXRIZWFkZXJzOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIGlkeCwgbGVuZ3RoLCByZWdleHAsXG4gICAgICBoZWFkZXIgPSB0aGlzLmhlYWRlcnNbU0lQLlV0aWxzLmhlYWRlcml6ZShuYW1lKV0sXG4gICAgICByZXN1bHQgPSBbXTtcblxuICAgIGlmKGhlYWRlcikge1xuICAgICAgbGVuZ3RoID0gaGVhZGVyLmxlbmd0aDtcbiAgICAgIGZvciAoaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICByZXN1bHQucHVzaChoZWFkZXJbaWR4XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICBsZW5ndGggPSB0aGlzLmV4dHJhSGVhZGVycy5sZW5ndGg7XG4gICAgICByZWdleHAgPSBuZXcgUmVnRXhwKCdeXFxcXHMqJyArIG5hbWUgKyAnXFxcXHMqOicsJ2knKTtcbiAgICAgIGZvciAoaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBoZWFkZXIgPSB0aGlzLmV4dHJhSGVhZGVyc1tpZHhdO1xuICAgICAgICBpZiAocmVnZXhwLnRlc3QoaGVhZGVyKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGhlYWRlci5zdWJzdHJpbmcoaGVhZGVyLmluZGV4T2YoJzonKSsxKS50cmltKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogVmVyaWZ5IHRoZSBleGlzdGVuY2Ugb2YgdGhlIGdpdmVuIGhlYWRlci5cbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgaGVhZGVyIG5hbWVcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgaGVhZGVyIHdpdGggZ2l2ZW4gbmFtZSBleGlzdHMsIGZhbHNlIG90aGVyd2lzZVxuICAgKi9cbiAgaGFzSGVhZGVyOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIHJlZ2V4cCwgaWR4LFxuICAgICAgbGVuZ3RoID0gdGhpcy5leHRyYUhlYWRlcnMubGVuZ3RoO1xuXG4gICAgaWYgKHRoaXMuaGVhZGVyc1tTSVAuVXRpbHMuaGVhZGVyaXplKG5hbWUpXSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlZ2V4cCA9IG5ldyBSZWdFeHAoJ15cXFxccyonICsgbmFtZSArICdcXFxccyo6JywnaScpO1xuICAgICAgZm9yIChpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGlmIChyZWdleHAudGVzdCh0aGlzLmV4dHJhSGVhZGVyc1tpZHhdKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbXNnID0gJycsIGhlYWRlciwgbGVuZ3RoLCBpZHg7XG5cbiAgICBtc2cgKz0gdGhpcy5tZXRob2QgKyAnICcgKyAodGhpcy5ydXJpLnRvUmF3ID8gdGhpcy5ydXJpLnRvUmF3KCkgOiB0aGlzLnJ1cmkpICsgJyBTSVAvMi4wXFxyXFxuJztcblxuICAgIGZvciAoaGVhZGVyIGluIHRoaXMuaGVhZGVycykge1xuICAgICAgbGVuZ3RoID0gdGhpcy5oZWFkZXJzW2hlYWRlcl0ubGVuZ3RoO1xuICAgICAgZm9yIChpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIG1zZyArPSBoZWFkZXIgKyAnOiAnICsgdGhpcy5oZWFkZXJzW2hlYWRlcl1baWR4XSArICdcXHJcXG4nO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxlbmd0aCA9IHRoaXMuZXh0cmFIZWFkZXJzLmxlbmd0aDtcbiAgICBmb3IgKGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgIG1zZyArPSB0aGlzLmV4dHJhSGVhZGVyc1tpZHhdLnRyaW0oKSArJ1xcclxcbic7XG4gICAgfVxuXG4gICAgbXNnICs9IGdldFN1cHBvcnRlZEhlYWRlcih0aGlzKTtcbiAgICBtc2cgKz0gJ1VzZXItQWdlbnQ6ICcgKyB0aGlzLnVhLmNvbmZpZ3VyYXRpb24udXNlckFnZW50U3RyaW5nICsnXFxyXFxuJztcblxuICAgIGlmICh0aGlzLmJvZHkpIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5ib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICBsZW5ndGggPSBTSVAuVXRpbHMuc3RyX3V0ZjhfbGVuZ3RoKHRoaXMuYm9keSk7XG4gICAgICAgIG1zZyArPSAnQ29udGVudC1MZW5ndGg6ICcgKyBsZW5ndGggKyAnXFxyXFxuXFxyXFxuJztcbiAgICAgICAgbXNnICs9IHRoaXMuYm9keTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLmJvZHkuYm9keSAmJiB0aGlzLmJvZHkuY29udGVudFR5cGUpIHtcbiAgICAgICAgICBsZW5ndGggPSBTSVAuVXRpbHMuc3RyX3V0ZjhfbGVuZ3RoKHRoaXMuYm9keS5ib2R5KTtcbiAgICAgICAgICBtc2cgKz0gJ0NvbnRlbnQtVHlwZTogJyArIHRoaXMuYm9keS5jb250ZW50VHlwZSArICdcXHJcXG4nO1xuICAgICAgICAgIG1zZyArPSAnQ29udGVudC1MZW5ndGg6ICcgKyBsZW5ndGggKyAnXFxyXFxuXFxyXFxuJztcbiAgICAgICAgICBtc2cgKz0gdGhpcy5ib2R5LmJvZHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbXNnICs9ICdDb250ZW50LUxlbmd0aDogJyArIDAgKyAnXFxyXFxuXFxyXFxuJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtc2cgKz0gJ0NvbnRlbnQtTGVuZ3RoOiAnICsgMCArICdcXHJcXG5cXHJcXG4nO1xuICAgIH1cblxuICAgIHJldHVybiBtc2c7XG4gIH1cbn07XG5cbi8qKlxuICogQGF1Z21lbnRzIFNJUFxuICogQGNsYXNzIENsYXNzIGZvciBpbmNvbWluZyBTSVAgbWVzc2FnZS5cbiAqL1xuSW5jb21pbmdNZXNzYWdlID0gZnVuY3Rpb24oKXtcbiAgdGhpcy5kYXRhID0gbnVsbDtcbiAgdGhpcy5oZWFkZXJzID0gbnVsbDtcbiAgdGhpcy5tZXRob2QgPSAgbnVsbDtcbiAgdGhpcy52aWEgPSBudWxsO1xuICB0aGlzLnZpYV9icmFuY2ggPSBudWxsO1xuICB0aGlzLmNhbGxfaWQgPSBudWxsO1xuICB0aGlzLmNzZXEgPSBudWxsO1xuICB0aGlzLmZyb20gPSBudWxsO1xuICB0aGlzLmZyb21fdGFnID0gbnVsbDtcbiAgdGhpcy50byA9IG51bGw7XG4gIHRoaXMudG9fdGFnID0gbnVsbDtcbiAgdGhpcy5ib2R5ID0gbnVsbDtcbn07XG5cbkluY29taW5nTWVzc2FnZS5wcm90b3R5cGUgPSB7XG4gIC8qKlxuICAqIEluc2VydCBhIGhlYWRlciBvZiB0aGUgZ2l2ZW4gbmFtZSBhbmQgdmFsdWUgaW50byB0aGUgbGFzdCBwb3NpdGlvbiBvZiB0aGVcbiAgKiBoZWFkZXIgYXJyYXkuXG4gICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgaGVhZGVyIG5hbWVcbiAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWUgaGVhZGVyIHZhbHVlXG4gICovXG4gIGFkZEhlYWRlcjogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgaGVhZGVyID0geyByYXc6IHZhbHVlIH07XG5cbiAgICBuYW1lID0gU0lQLlV0aWxzLmhlYWRlcml6ZShuYW1lKTtcblxuICAgIGlmKHRoaXMuaGVhZGVyc1tuYW1lXSkge1xuICAgICAgdGhpcy5oZWFkZXJzW25hbWVdLnB1c2goaGVhZGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oZWFkZXJzW25hbWVdID0gW2hlYWRlcl07XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBoZWFkZXIgbmFtZSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIGhlYWRlciBuYW1lXG4gICAqIEByZXR1cm5zIHtTdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBzcGVjaWZpZWQgaGVhZGVyLCBudWxsIGlmIGhlYWRlciBkb2Vzbid0IGV4aXN0LlxuICAgKi9cbiAgZ2V0SGVhZGVyOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIGhlYWRlciA9IHRoaXMuaGVhZGVyc1tTSVAuVXRpbHMuaGVhZGVyaXplKG5hbWUpXTtcblxuICAgIGlmKGhlYWRlcikge1xuICAgICAgaWYoaGVhZGVyWzBdKSB7XG4gICAgICAgIHJldHVybiBoZWFkZXJbMF0ucmF3O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGhlYWRlci9zIG9mIHRoZSBnaXZlbiBuYW1lLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBoZWFkZXIgbmFtZVxuICAgKiBAcmV0dXJucyB7QXJyYXl9IEFycmF5IHdpdGggYWxsIHRoZSBoZWFkZXJzIG9mIHRoZSBzcGVjaWZpZWQgbmFtZS5cbiAgICovXG4gIGdldEhlYWRlcnM6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgaWR4LCBsZW5ndGgsXG4gICAgICBoZWFkZXIgPSB0aGlzLmhlYWRlcnNbU0lQLlV0aWxzLmhlYWRlcml6ZShuYW1lKV0sXG4gICAgICByZXN1bHQgPSBbXTtcblxuICAgIGlmKCFoZWFkZXIpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBsZW5ndGggPSBoZWFkZXIubGVuZ3RoO1xuICAgIGZvciAoaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgcmVzdWx0LnB1c2goaGVhZGVyW2lkeF0ucmF3KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBWZXJpZnkgdGhlIGV4aXN0ZW5jZSBvZiB0aGUgZ2l2ZW4gaGVhZGVyLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBoZWFkZXIgbmFtZVxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBoZWFkZXIgd2l0aCBnaXZlbiBuYW1lIGV4aXN0cywgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqL1xuICBoYXNIZWFkZXI6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICByZXR1cm4odGhpcy5oZWFkZXJzW1NJUC5VdGlscy5oZWFkZXJpemUobmFtZSldKSA/IHRydWUgOiBmYWxzZTtcbiAgfSxcblxuICAvKipcbiAgKiBQYXJzZSB0aGUgZ2l2ZW4gaGVhZGVyIG9uIHRoZSBnaXZlbiBpbmRleC5cbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBoZWFkZXIgbmFtZVxuICAqIEBwYXJhbSB7TnVtYmVyfSBbaWR4PTBdIGhlYWRlciBpbmRleFxuICAqIEByZXR1cm5zIHtPYmplY3R8dW5kZWZpbmVkfSBQYXJzZWQgaGVhZGVyIG9iamVjdCwgdW5kZWZpbmVkIGlmIHRoZSBoZWFkZXIgaXMgbm90IHByZXNlbnQgb3IgaW4gY2FzZSBvZiBhIHBhcnNpbmcgZXJyb3IuXG4gICovXG4gIHBhcnNlSGVhZGVyOiBmdW5jdGlvbihuYW1lLCBpZHgpIHtcbiAgICB2YXIgaGVhZGVyLCB2YWx1ZSwgcGFyc2VkO1xuXG4gICAgbmFtZSA9IFNJUC5VdGlscy5oZWFkZXJpemUobmFtZSk7XG5cbiAgICBpZHggPSBpZHggfHwgMDtcblxuICAgIGlmKCF0aGlzLmhlYWRlcnNbbmFtZV0pIHtcbiAgICAgIHRoaXMubG9nZ2VyLmxvZygnaGVhZGVyIFwiJyArIG5hbWUgKyAnXCIgbm90IHByZXNlbnQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYoaWR4ID49IHRoaXMuaGVhZGVyc1tuYW1lXS5sZW5ndGgpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmxvZygnbm90IHNvIG1hbnkgXCInICsgbmFtZSArICdcIiBoZWFkZXJzIHByZXNlbnQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBoZWFkZXIgPSB0aGlzLmhlYWRlcnNbbmFtZV1baWR4XTtcbiAgICB2YWx1ZSA9IGhlYWRlci5yYXc7XG5cbiAgICBpZihoZWFkZXIucGFyc2VkKSB7XG4gICAgICByZXR1cm4gaGVhZGVyLnBhcnNlZDtcbiAgICB9XG5cbiAgICAvL3N1YnN0aXR1dGUgJy0nIGJ5ICdfJyBmb3IgZ3JhbW1hciBydWxlIG1hdGNoaW5nLlxuICAgIHBhcnNlZCA9IFNJUC5HcmFtbWFyLnBhcnNlKHZhbHVlLCBuYW1lLnJlcGxhY2UoLy0vZywgJ18nKSk7XG5cbiAgICBpZihwYXJzZWQgPT09IC0xKSB7XG4gICAgICB0aGlzLmhlYWRlcnNbbmFtZV0uc3BsaWNlKGlkeCwgMSk7IC8vZGVsZXRlIGZyb20gaGVhZGVyc1xuICAgICAgdGhpcy5sb2dnZXIud2FybignZXJyb3IgcGFyc2luZyBcIicgKyBuYW1lICsgJ1wiIGhlYWRlciBmaWVsZCB3aXRoIHZhbHVlIFwiJyArIHZhbHVlICsgJ1wiJyk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlci5wYXJzZWQgPSBwYXJzZWQ7XG4gICAgICByZXR1cm4gcGFyc2VkO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogTWVzc2FnZSBIZWFkZXIgYXR0cmlidXRlIHNlbGVjdG9yLiBBbGlhcyBvZiBwYXJzZUhlYWRlci5cbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgaGVhZGVyIG5hbWVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtpZHg9MF0gaGVhZGVyIGluZGV4XG4gICAqIEByZXR1cm5zIHtPYmplY3R8dW5kZWZpbmVkfSBQYXJzZWQgaGVhZGVyIG9iamVjdCwgdW5kZWZpbmVkIGlmIHRoZSBoZWFkZXIgaXMgbm90IHByZXNlbnQgb3IgaW4gY2FzZSBvZiBhIHBhcnNpbmcgZXJyb3IuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIG1lc3NhZ2UucygndmlhJywzKS5wb3J0XG4gICAqL1xuICBzOiBmdW5jdGlvbihuYW1lLCBpZHgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJzZUhlYWRlcihuYW1lLCBpZHgpO1xuICB9LFxuXG4gIC8qKlxuICAqIFJlcGxhY2UgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBoZWFkZXIgYnkgdGhlIHZhbHVlLlxuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIGhlYWRlciBuYW1lXG4gICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIGhlYWRlciB2YWx1ZVxuICAqL1xuICBzZXRIZWFkZXI6IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIGhlYWRlciA9IHsgcmF3OiB2YWx1ZSB9O1xuICAgIHRoaXMuaGVhZGVyc1tTSVAuVXRpbHMuaGVhZGVyaXplKG5hbWUpXSA9IFtoZWFkZXJdO1xuICB9LFxuXG4gIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhO1xuICB9XG59O1xuXG4vKipcbiAqIEBhdWdtZW50cyBJbmNvbWluZ01lc3NhZ2VcbiAqIEBjbGFzcyBDbGFzcyBmb3IgaW5jb21pbmcgU0lQIHJlcXVlc3QuXG4gKi9cbkluY29taW5nUmVxdWVzdCA9IGZ1bmN0aW9uKHVhKSB7XG4gIHRoaXMubG9nZ2VyID0gdWEuZ2V0TG9nZ2VyKCdzaXAuc2lwbWVzc2FnZScpO1xuICB0aGlzLnVhID0gdWE7XG4gIHRoaXMuaGVhZGVycyA9IHt9O1xuICB0aGlzLnJ1cmkgPSBudWxsO1xuICB0aGlzLnRyYW5zcG9ydCA9IG51bGw7XG4gIHRoaXMuc2VydmVyX3RyYW5zYWN0aW9uID0gbnVsbDtcbn07XG5JbmNvbWluZ1JlcXVlc3QucHJvdG90eXBlID0gbmV3IEluY29taW5nTWVzc2FnZSgpO1xuXG4vKipcbiogU3RhdGVmdWwgcmVwbHkuXG4qIEBwYXJhbSB7TnVtYmVyfSBjb2RlIHN0YXR1cyBjb2RlXG4qIEBwYXJhbSB7U3RyaW5nfSByZWFzb24gcmVhc29uIHBocmFzZVxuKiBAcGFyYW0ge09iamVjdH0gaGVhZGVycyBleHRyYSBoZWFkZXJzXG4qIEBwYXJhbSB7U3RyaW5nfSBib2R5IGJvZHlcbiogQHBhcmFtIHtGdW5jdGlvbn0gW29uU3VjY2Vzc10gb25TdWNjZXNzIGNhbGxiYWNrXG4qIEBwYXJhbSB7RnVuY3Rpb259IFtvbkZhaWx1cmVdIG9uRmFpbHVyZSBjYWxsYmFja1xuKi9cbkluY29taW5nUmVxdWVzdC5wcm90b3R5cGUucmVwbHkgPSBmdW5jdGlvbihjb2RlLCByZWFzb24sIGV4dHJhSGVhZGVycywgYm9keSwgb25TdWNjZXNzLCBvbkZhaWx1cmUpIHtcbiAgdmFyIHJyLCB2aWFzLCBsZW5ndGgsIGlkeCwgcmVzcG9uc2UsXG4gICAgdG8gPSB0aGlzLmdldEhlYWRlcignVG8nKSxcbiAgICByID0gMCxcbiAgICB2ID0gMDtcblxuICByZXNwb25zZSA9IFNJUC5VdGlscy5idWlsZFN0YXR1c0xpbmUoY29kZSwgcmVhc29uKTtcbiAgZXh0cmFIZWFkZXJzID0gKGV4dHJhSGVhZGVycyB8fCBbXSkuc2xpY2UoKTtcblxuICBpZih0aGlzLm1ldGhvZCA9PT0gU0lQLkMuSU5WSVRFICYmIGNvZGUgPiAxMDAgJiYgY29kZSA8PSAyMDApIHtcbiAgICByciA9IHRoaXMuZ2V0SGVhZGVycygncmVjb3JkLXJvdXRlJyk7XG4gICAgbGVuZ3RoID0gcnIubGVuZ3RoO1xuXG4gICAgZm9yKHI7IHIgPCBsZW5ndGg7IHIrKykge1xuICAgICAgcmVzcG9uc2UgKz0gJ1JlY29yZC1Sb3V0ZTogJyArIHJyW3JdICsgJ1xcclxcbic7XG4gICAgfVxuICB9XG5cbiAgdmlhcyA9IHRoaXMuZ2V0SGVhZGVycygndmlhJyk7XG4gIGxlbmd0aCA9IHZpYXMubGVuZ3RoO1xuXG4gIGZvcih2OyB2IDwgbGVuZ3RoOyB2KyspIHtcbiAgICByZXNwb25zZSArPSAnVmlhOiAnICsgdmlhc1t2XSArICdcXHJcXG4nO1xuICB9XG5cbiAgaWYoIXRoaXMudG9fdGFnICYmIGNvZGUgPiAxMDApIHtcbiAgICB0byArPSAnO3RhZz0nICsgU0lQLlV0aWxzLm5ld1RhZygpO1xuICB9IGVsc2UgaWYodGhpcy50b190YWcgJiYgIXRoaXMucygndG8nKS5oYXNQYXJhbSgndGFnJykpIHtcbiAgICB0byArPSAnO3RhZz0nICsgdGhpcy50b190YWc7XG4gIH1cblxuICByZXNwb25zZSArPSAnVG86ICcgKyB0byArICdcXHJcXG4nO1xuICByZXNwb25zZSArPSAnRnJvbTogJyArIHRoaXMuZ2V0SGVhZGVyKCdGcm9tJykgKyAnXFxyXFxuJztcbiAgcmVzcG9uc2UgKz0gJ0NhbGwtSUQ6ICcgKyB0aGlzLmNhbGxfaWQgKyAnXFxyXFxuJztcbiAgcmVzcG9uc2UgKz0gJ0NTZXE6ICcgKyB0aGlzLmNzZXEgKyAnICcgKyB0aGlzLm1ldGhvZCArICdcXHJcXG4nO1xuXG4gIGxlbmd0aCA9IGV4dHJhSGVhZGVycy5sZW5ndGg7XG4gIGZvciAoaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgIHJlc3BvbnNlICs9IGV4dHJhSGVhZGVyc1tpZHhdLnRyaW0oKSArJ1xcclxcbic7XG4gIH1cblxuICByZXNwb25zZSArPSBnZXRTdXBwb3J0ZWRIZWFkZXIodGhpcyk7XG4gIHJlc3BvbnNlICs9ICdVc2VyLUFnZW50OiAnICsgdGhpcy51YS5jb25maWd1cmF0aW9uLnVzZXJBZ2VudFN0cmluZyArJ1xcclxcbic7XG5cbiAgaWYgKGJvZHkpIHtcbiAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICBsZW5ndGggPSBTSVAuVXRpbHMuc3RyX3V0ZjhfbGVuZ3RoKGJvZHkpO1xuICAgICAgcmVzcG9uc2UgKz0gJ0NvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vc2RwXFxyXFxuJztcbiAgICAgIHJlc3BvbnNlICs9ICdDb250ZW50LUxlbmd0aDogJyArIGxlbmd0aCArICdcXHJcXG5cXHJcXG4nO1xuICAgICAgcmVzcG9uc2UgKz0gYm9keTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGJvZHkuYm9keSAmJiBib2R5LmNvbnRlbnRUeXBlKSB7XG4gICAgICAgIGxlbmd0aCA9IFNJUC5VdGlscy5zdHJfdXRmOF9sZW5ndGgoYm9keS5ib2R5KTtcbiAgICAgICAgcmVzcG9uc2UgKz0gJ0NvbnRlbnQtVHlwZTogJyArIGJvZHkuY29udGVudFR5cGUgKyAnXFxyXFxuJztcbiAgICAgICAgcmVzcG9uc2UgKz0gJ0NvbnRlbnQtTGVuZ3RoOiAnICsgbGVuZ3RoICsgJ1xcclxcblxcclxcbic7XG4gICAgICAgIHJlc3BvbnNlICs9IGJvZHkuYm9keTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3BvbnNlICs9ICdDb250ZW50LUxlbmd0aDogJyArIDAgKyAnXFxyXFxuXFxyXFxuJztcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzcG9uc2UgKz0gJ0NvbnRlbnQtTGVuZ3RoOiAnICsgMCArICdcXHJcXG5cXHJcXG4nO1xuICB9XG5cbiAgdGhpcy5zZXJ2ZXJfdHJhbnNhY3Rpb24ucmVjZWl2ZVJlc3BvbnNlKGNvZGUsIHJlc3BvbnNlKS50aGVuKG9uU3VjY2Vzcywgb25GYWlsdXJlKTtcblxuICByZXR1cm4gcmVzcG9uc2U7XG59O1xuXG4vKipcbiogU3RhdGVsZXNzIHJlcGx5LlxuKiBAcGFyYW0ge051bWJlcn0gY29kZSBzdGF0dXMgY29kZVxuKiBAcGFyYW0ge1N0cmluZ30gcmVhc29uIHJlYXNvbiBwaHJhc2VcbiovXG5JbmNvbWluZ1JlcXVlc3QucHJvdG90eXBlLnJlcGx5X3NsID0gZnVuY3Rpb24oY29kZSwgcmVhc29uKSB7XG4gIHZhciB0bywgcmVzcG9uc2UsXG4gICAgdiA9IDAsXG4gICAgdmlhcyA9IHRoaXMuZ2V0SGVhZGVycygndmlhJyksXG4gICAgbGVuZ3RoID0gdmlhcy5sZW5ndGg7XG5cbiAgcmVzcG9uc2UgPSBTSVAuVXRpbHMuYnVpbGRTdGF0dXNMaW5lKGNvZGUsIHJlYXNvbik7XG5cbiAgZm9yKHY7IHYgPCBsZW5ndGg7IHYrKykge1xuICAgIHJlc3BvbnNlICs9ICdWaWE6ICcgKyB2aWFzW3ZdICsgJ1xcclxcbic7XG4gIH1cblxuICB0byA9IHRoaXMuZ2V0SGVhZGVyKCdUbycpO1xuXG4gIGlmKCF0aGlzLnRvX3RhZyAmJiBjb2RlID4gMTAwKSB7XG4gICAgdG8gKz0gJzt0YWc9JyArIFNJUC5VdGlscy5uZXdUYWcoKTtcbiAgfSBlbHNlIGlmKHRoaXMudG9fdGFnICYmICF0aGlzLnMoJ3RvJykuaGFzUGFyYW0oJ3RhZycpKSB7XG4gICAgdG8gKz0gJzt0YWc9JyArIHRoaXMudG9fdGFnO1xuICB9XG5cbiAgcmVzcG9uc2UgKz0gJ1RvOiAnICsgdG8gKyAnXFxyXFxuJztcbiAgcmVzcG9uc2UgKz0gJ0Zyb206ICcgKyB0aGlzLmdldEhlYWRlcignRnJvbScpICsgJ1xcclxcbic7XG4gIHJlc3BvbnNlICs9ICdDYWxsLUlEOiAnICsgdGhpcy5jYWxsX2lkICsgJ1xcclxcbic7XG4gIHJlc3BvbnNlICs9ICdDU2VxOiAnICsgdGhpcy5jc2VxICsgJyAnICsgdGhpcy5tZXRob2QgKyAnXFxyXFxuJztcbiAgcmVzcG9uc2UgKz0gJ1VzZXItQWdlbnQ6ICcgKyB0aGlzLnVhLmNvbmZpZ3VyYXRpb24udXNlckFnZW50U3RyaW5nICsnXFxyXFxuJztcbiAgcmVzcG9uc2UgKz0gJ0NvbnRlbnQtTGVuZ3RoOiAnICsgMCArICdcXHJcXG5cXHJcXG4nO1xuXG4gIHRoaXMudHJhbnNwb3J0LnNlbmQocmVzcG9uc2UpO1xufTtcblxuXG4vKipcbiAqIEBhdWdtZW50cyBJbmNvbWluZ01lc3NhZ2VcbiAqIEBjbGFzcyBDbGFzcyBmb3IgaW5jb21pbmcgU0lQIHJlc3BvbnNlLlxuICovXG5JbmNvbWluZ1Jlc3BvbnNlID0gZnVuY3Rpb24odWEpIHtcbiAgdGhpcy5sb2dnZXIgPSB1YS5nZXRMb2dnZXIoJ3NpcC5zaXBtZXNzYWdlJyk7XG4gIHRoaXMuaGVhZGVycyA9IHt9O1xuICB0aGlzLnN0YXR1c19jb2RlID0gbnVsbDtcbiAgdGhpcy5yZWFzb25fcGhyYXNlID0gbnVsbDtcbn07XG5JbmNvbWluZ1Jlc3BvbnNlLnByb3RvdHlwZSA9IG5ldyBJbmNvbWluZ01lc3NhZ2UoKTtcblxuU0lQLk91dGdvaW5nUmVxdWVzdCA9IE91dGdvaW5nUmVxdWVzdDtcblNJUC5JbmNvbWluZ1JlcXVlc3QgPSBJbmNvbWluZ1JlcXVlc3Q7XG5TSVAuSW5jb21pbmdSZXNwb25zZSA9IEluY29taW5nUmVzcG9uc2U7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1NJUE1lc3NhZ2UuanNcbi8vIG1vZHVsZSBpZCA9IDM1MVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///351\n");

/***/ }),
/* 352 */
/*!************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/URI.js ***!
  \************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview SIP URI\n */\n\n/**\n * @augments SIP\n * @class Class creating a SIP URI.\n *\n * @param {String} [scheme]\n * @param {String} [user]\n * @param {String} host\n * @param {String} [port]\n * @param {Object} [parameters]\n * @param {Object} [headers]\n *\n */\nmodule.exports = function (SIP) {\nvar URI;\n\nURI = function(scheme, user, host, port, parameters, headers) {\n  var param, header, raw, normal;\n\n  // Checks\n  if(!host) {\n    throw new TypeError('missing or invalid \"host\" parameter');\n  }\n\n  // Initialize parameters\n  scheme = scheme || SIP.C.SIP;\n  this.parameters = {};\n  this.headers = {};\n\n  for (param in parameters) {\n    this.setParam(param, parameters[param]);\n  }\n\n  for (header in headers) {\n    this.setHeader(header, headers[header]);\n  }\n\n  // Raw URI\n  raw = {\n    scheme: scheme,\n    user: user,\n    host: host,\n    port: port\n  };\n\n  // Normalized URI\n  normal = {\n    scheme: scheme.toLowerCase(),\n    user: user,\n    host: host.toLowerCase(),\n    port: port\n  };\n\n  Object.defineProperties(this, {\n    _normal: {\n      get: function() { return normal; }\n    },\n\n    _raw: {\n      get: function() { return raw; }\n    },\n\n    scheme: {\n      get: function() { return normal.scheme; },\n      set: function(value) {\n        raw.scheme = value;\n        normal.scheme = value.toLowerCase();\n      }\n    },\n\n    user: {\n      get: function() { return normal.user; },\n      set: function(value) {\n        normal.user = raw.user = value;\n      }\n    },\n\n    host: {\n      get: function() { return normal.host; },\n      set: function(value) {\n        raw.host = value;\n        normal.host = value.toLowerCase();\n      }\n    },\n\n    aor: {\n      get: function() { return normal.user + '@' + normal.host; }\n    },\n\n    port: {\n      get: function() { return normal.port; },\n      set: function(value) {\n        normal.port = raw.port = value === 0 ? value : (parseInt(value,10) || null);\n      }\n    }\n  });\n};\n\nURI.prototype = {\n  setParam: function(key, value) {\n    if(key) {\n      this.parameters[key.toLowerCase()] = (typeof value === 'undefined' || value === null) ? null : value.toString().toLowerCase();\n    }\n  },\n\n  getParam: function(key) {\n    if(key) {\n      return this.parameters[key.toLowerCase()];\n    }\n  },\n\n  hasParam: function(key) {\n    if(key) {\n      return (this.parameters.hasOwnProperty(key.toLowerCase()) && true) || false;\n    }\n  },\n\n  deleteParam: function(parameter) {\n    var value;\n    parameter = parameter.toLowerCase();\n    if (this.parameters.hasOwnProperty(parameter)) {\n      value = this.parameters[parameter];\n      delete this.parameters[parameter];\n      return value;\n    }\n  },\n\n  clearParams: function() {\n    this.parameters = {};\n  },\n\n  setHeader: function(name, value) {\n    this.headers[SIP.Utils.headerize(name)] = (value instanceof Array) ? value : [value];\n  },\n\n  getHeader: function(name) {\n    if(name) {\n      return this.headers[SIP.Utils.headerize(name)];\n    }\n  },\n\n  hasHeader: function(name) {\n    if(name) {\n      return (this.headers.hasOwnProperty(SIP.Utils.headerize(name)) && true) || false;\n    }\n  },\n\n  deleteHeader: function(header) {\n    var value;\n    header = SIP.Utils.headerize(header);\n    if(this.headers.hasOwnProperty(header)) {\n      value = this.headers[header];\n      delete this.headers[header];\n      return value;\n    }\n  },\n\n  clearHeaders: function() {\n    this.headers = {};\n  },\n\n  clone: function() {\n    return new URI(\n      this._raw.scheme,\n      this._raw.user,\n      this._raw.host,\n      this._raw.port,\n      JSON.parse(JSON.stringify(this.parameters)),\n      JSON.parse(JSON.stringify(this.headers)));\n  },\n\n  toRaw: function() {\n    return this._toString(this._raw);\n  },\n\n  toString: function() {\n    return this._toString(this._normal);\n  },\n\n  _toString: function(uri) {\n    var header, parameter, idx, uriString, headers = [];\n\n    uriString  = uri.scheme + ':';\n    // add slashes if it's not a sip(s) URI\n    if (!uri.scheme.toLowerCase().match(\"^sips?$\")) {\n      uriString += \"//\";\n    }\n    if (uri.user) {\n      uriString += SIP.Utils.escapeUser(uri.user) + '@';\n    }\n    uriString += uri.host;\n    if (uri.port || uri.port === 0) {\n      uriString += ':' + uri.port;\n    }\n\n    for (parameter in this.parameters) {\n      uriString += ';' + parameter;\n\n      if (this.parameters[parameter] !== null) {\n        uriString += '='+ this.parameters[parameter];\n      }\n    }\n\n    for(header in this.headers) {\n      for(idx in this.headers[header]) {\n        headers.push(header + '=' + this.headers[header][idx]);\n      }\n    }\n\n    if (headers.length > 0) {\n      uriString += '?' + headers.join('&');\n    }\n\n    return uriString;\n  }\n};\n\n\n/**\n  * Parse the given string and returns a SIP.URI instance or undefined if\n  * it is an invalid URI.\n  * @public\n  * @param {String} uri\n  */\nURI.parse = function(uri) {\n  uri = SIP.Grammar.parse(uri,'SIP_URI');\n\n  if (uri !== -1) {\n    return uri;\n  } else {\n    return undefined;\n  }\n};\n\nSIP.URI = URI;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1VSSS5qcz9jZTRlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBdUIsZUFBZTtBQUN0QyxLQUFLOztBQUVMO0FBQ0EsdUJBQXVCLFlBQVk7QUFDbkMsS0FBSzs7QUFFTDtBQUNBLHVCQUF1QixzQkFBc0IsRUFBRTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSx1QkFBdUIsb0JBQW9CLEVBQUU7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLHVCQUF1QixvQkFBb0IsRUFBRTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSx1QkFBdUIsd0NBQXdDO0FBQy9ELEtBQUs7O0FBRUw7QUFDQSx1QkFBdUIsb0JBQW9CLEVBQUU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCOztBQUVyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6IjM1Mi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFNJUCBVUklcbiAqL1xuXG4vKipcbiAqIEBhdWdtZW50cyBTSVBcbiAqIEBjbGFzcyBDbGFzcyBjcmVhdGluZyBhIFNJUCBVUkkuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IFtzY2hlbWVdXG4gKiBAcGFyYW0ge1N0cmluZ30gW3VzZXJdXG4gKiBAcGFyYW0ge1N0cmluZ30gaG9zdFxuICogQHBhcmFtIHtTdHJpbmd9IFtwb3J0XVxuICogQHBhcmFtIHtPYmplY3R9IFtwYXJhbWV0ZXJzXVxuICogQHBhcmFtIHtPYmplY3R9IFtoZWFkZXJzXVxuICpcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoU0lQKSB7XG52YXIgVVJJO1xuXG5VUkkgPSBmdW5jdGlvbihzY2hlbWUsIHVzZXIsIGhvc3QsIHBvcnQsIHBhcmFtZXRlcnMsIGhlYWRlcnMpIHtcbiAgdmFyIHBhcmFtLCBoZWFkZXIsIHJhdywgbm9ybWFsO1xuXG4gIC8vIENoZWNrc1xuICBpZighaG9zdCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ21pc3Npbmcgb3IgaW52YWxpZCBcImhvc3RcIiBwYXJhbWV0ZXInKTtcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgcGFyYW1ldGVyc1xuICBzY2hlbWUgPSBzY2hlbWUgfHwgU0lQLkMuU0lQO1xuICB0aGlzLnBhcmFtZXRlcnMgPSB7fTtcbiAgdGhpcy5oZWFkZXJzID0ge307XG5cbiAgZm9yIChwYXJhbSBpbiBwYXJhbWV0ZXJzKSB7XG4gICAgdGhpcy5zZXRQYXJhbShwYXJhbSwgcGFyYW1ldGVyc1twYXJhbV0pO1xuICB9XG5cbiAgZm9yIChoZWFkZXIgaW4gaGVhZGVycykge1xuICAgIHRoaXMuc2V0SGVhZGVyKGhlYWRlciwgaGVhZGVyc1toZWFkZXJdKTtcbiAgfVxuXG4gIC8vIFJhdyBVUklcbiAgcmF3ID0ge1xuICAgIHNjaGVtZTogc2NoZW1lLFxuICAgIHVzZXI6IHVzZXIsXG4gICAgaG9zdDogaG9zdCxcbiAgICBwb3J0OiBwb3J0XG4gIH07XG5cbiAgLy8gTm9ybWFsaXplZCBVUklcbiAgbm9ybWFsID0ge1xuICAgIHNjaGVtZTogc2NoZW1lLnRvTG93ZXJDYXNlKCksXG4gICAgdXNlcjogdXNlcixcbiAgICBob3N0OiBob3N0LnRvTG93ZXJDYXNlKCksXG4gICAgcG9ydDogcG9ydFxuICB9O1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICBfbm9ybWFsOiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbm9ybWFsOyB9XG4gICAgfSxcblxuICAgIF9yYXc6IHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiByYXc7IH1cbiAgICB9LFxuXG4gICAgc2NoZW1lOiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbm9ybWFsLnNjaGVtZTsgfSxcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmF3LnNjaGVtZSA9IHZhbHVlO1xuICAgICAgICBub3JtYWwuc2NoZW1lID0gdmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgdXNlcjoge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG5vcm1hbC51c2VyOyB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBub3JtYWwudXNlciA9IHJhdy51c2VyID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGhvc3Q6IHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBub3JtYWwuaG9zdDsgfSxcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmF3Lmhvc3QgPSB2YWx1ZTtcbiAgICAgICAgbm9ybWFsLmhvc3QgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBhb3I6IHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBub3JtYWwudXNlciArICdAJyArIG5vcm1hbC5ob3N0OyB9XG4gICAgfSxcblxuICAgIHBvcnQ6IHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBub3JtYWwucG9ydDsgfSxcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgbm9ybWFsLnBvcnQgPSByYXcucG9ydCA9IHZhbHVlID09PSAwID8gdmFsdWUgOiAocGFyc2VJbnQodmFsdWUsMTApIHx8IG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5VUkkucHJvdG90eXBlID0ge1xuICBzZXRQYXJhbTogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIGlmKGtleSkge1xuICAgICAgdGhpcy5wYXJhbWV0ZXJzW2tleS50b0xvd2VyQ2FzZSgpXSA9ICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHZhbHVlID09PSBudWxsKSA/IG51bGwgOiB2YWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICB9LFxuXG4gIGdldFBhcmFtOiBmdW5jdGlvbihrZXkpIHtcbiAgICBpZihrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcnNba2V5LnRvTG93ZXJDYXNlKCldO1xuICAgIH1cbiAgfSxcblxuICBoYXNQYXJhbTogZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYoa2V5KSB7XG4gICAgICByZXR1cm4gKHRoaXMucGFyYW1ldGVycy5oYXNPd25Qcm9wZXJ0eShrZXkudG9Mb3dlckNhc2UoKSkgJiYgdHJ1ZSkgfHwgZmFsc2U7XG4gICAgfVxuICB9LFxuXG4gIGRlbGV0ZVBhcmFtOiBmdW5jdGlvbihwYXJhbWV0ZXIpIHtcbiAgICB2YXIgdmFsdWU7XG4gICAgcGFyYW1ldGVyID0gcGFyYW1ldGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHRoaXMucGFyYW1ldGVycy5oYXNPd25Qcm9wZXJ0eShwYXJhbWV0ZXIpKSB7XG4gICAgICB2YWx1ZSA9IHRoaXMucGFyYW1ldGVyc1twYXJhbWV0ZXJdO1xuICAgICAgZGVsZXRlIHRoaXMucGFyYW1ldGVyc1twYXJhbWV0ZXJdO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfSxcblxuICBjbGVhclBhcmFtczogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5wYXJhbWV0ZXJzID0ge307XG4gIH0sXG5cbiAgc2V0SGVhZGVyOiBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMuaGVhZGVyc1tTSVAuVXRpbHMuaGVhZGVyaXplKG5hbWUpXSA9ICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgfSxcblxuICBnZXRIZWFkZXI6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBpZihuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5oZWFkZXJzW1NJUC5VdGlscy5oZWFkZXJpemUobmFtZSldO1xuICAgIH1cbiAgfSxcblxuICBoYXNIZWFkZXI6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBpZihuYW1lKSB7XG4gICAgICByZXR1cm4gKHRoaXMuaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShTSVAuVXRpbHMuaGVhZGVyaXplKG5hbWUpKSAmJiB0cnVlKSB8fCBmYWxzZTtcbiAgICB9XG4gIH0sXG5cbiAgZGVsZXRlSGVhZGVyOiBmdW5jdGlvbihoZWFkZXIpIHtcbiAgICB2YXIgdmFsdWU7XG4gICAgaGVhZGVyID0gU0lQLlV0aWxzLmhlYWRlcml6ZShoZWFkZXIpO1xuICAgIGlmKHRoaXMuaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShoZWFkZXIpKSB7XG4gICAgICB2YWx1ZSA9IHRoaXMuaGVhZGVyc1toZWFkZXJdO1xuICAgICAgZGVsZXRlIHRoaXMuaGVhZGVyc1toZWFkZXJdO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfSxcblxuICBjbGVhckhlYWRlcnM6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaGVhZGVycyA9IHt9O1xuICB9LFxuXG4gIGNsb25lOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFVSSShcbiAgICAgIHRoaXMuX3Jhdy5zY2hlbWUsXG4gICAgICB0aGlzLl9yYXcudXNlcixcbiAgICAgIHRoaXMuX3Jhdy5ob3N0LFxuICAgICAgdGhpcy5fcmF3LnBvcnQsXG4gICAgICBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMucGFyYW1ldGVycykpLFxuICAgICAgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmhlYWRlcnMpKSk7XG4gIH0sXG5cbiAgdG9SYXc6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl90b1N0cmluZyh0aGlzLl9yYXcpO1xuICB9LFxuXG4gIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fdG9TdHJpbmcodGhpcy5fbm9ybWFsKTtcbiAgfSxcblxuICBfdG9TdHJpbmc6IGZ1bmN0aW9uKHVyaSkge1xuICAgIHZhciBoZWFkZXIsIHBhcmFtZXRlciwgaWR4LCB1cmlTdHJpbmcsIGhlYWRlcnMgPSBbXTtcblxuICAgIHVyaVN0cmluZyAgPSB1cmkuc2NoZW1lICsgJzonO1xuICAgIC8vIGFkZCBzbGFzaGVzIGlmIGl0J3Mgbm90IGEgc2lwKHMpIFVSSVxuICAgIGlmICghdXJpLnNjaGVtZS50b0xvd2VyQ2FzZSgpLm1hdGNoKFwiXnNpcHM/JFwiKSkge1xuICAgICAgdXJpU3RyaW5nICs9IFwiLy9cIjtcbiAgICB9XG4gICAgaWYgKHVyaS51c2VyKSB7XG4gICAgICB1cmlTdHJpbmcgKz0gU0lQLlV0aWxzLmVzY2FwZVVzZXIodXJpLnVzZXIpICsgJ0AnO1xuICAgIH1cbiAgICB1cmlTdHJpbmcgKz0gdXJpLmhvc3Q7XG4gICAgaWYgKHVyaS5wb3J0IHx8IHVyaS5wb3J0ID09PSAwKSB7XG4gICAgICB1cmlTdHJpbmcgKz0gJzonICsgdXJpLnBvcnQ7XG4gICAgfVxuXG4gICAgZm9yIChwYXJhbWV0ZXIgaW4gdGhpcy5wYXJhbWV0ZXJzKSB7XG4gICAgICB1cmlTdHJpbmcgKz0gJzsnICsgcGFyYW1ldGVyO1xuXG4gICAgICBpZiAodGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlcl0gIT09IG51bGwpIHtcbiAgICAgICAgdXJpU3RyaW5nICs9ICc9JysgdGhpcy5wYXJhbWV0ZXJzW3BhcmFtZXRlcl07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yKGhlYWRlciBpbiB0aGlzLmhlYWRlcnMpIHtcbiAgICAgIGZvcihpZHggaW4gdGhpcy5oZWFkZXJzW2hlYWRlcl0pIHtcbiAgICAgICAgaGVhZGVycy5wdXNoKGhlYWRlciArICc9JyArIHRoaXMuaGVhZGVyc1toZWFkZXJdW2lkeF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoZWFkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIHVyaVN0cmluZyArPSAnPycgKyBoZWFkZXJzLmpvaW4oJyYnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXJpU3RyaW5nO1xuICB9XG59O1xuXG5cbi8qKlxuICAqIFBhcnNlIHRoZSBnaXZlbiBzdHJpbmcgYW5kIHJldHVybnMgYSBTSVAuVVJJIGluc3RhbmNlIG9yIHVuZGVmaW5lZCBpZlxuICAqIGl0IGlzIGFuIGludmFsaWQgVVJJLlxuICAqIEBwdWJsaWNcbiAgKiBAcGFyYW0ge1N0cmluZ30gdXJpXG4gICovXG5VUkkucGFyc2UgPSBmdW5jdGlvbih1cmkpIHtcbiAgdXJpID0gU0lQLkdyYW1tYXIucGFyc2UodXJpLCdTSVBfVVJJJyk7XG5cbiAgaWYgKHVyaSAhPT0gLTEpIHtcbiAgICByZXR1cm4gdXJpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn07XG5cblNJUC5VUkkgPSBVUkk7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1VSSS5qc1xuLy8gbW9kdWxlIGlkID0gMzUyXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///352\n");

/***/ }),
/* 353 */
/*!***********************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/NameAddrHeader.js ***!
  \***********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview SIP NameAddrHeader\n */\n\n/**\n * @augments SIP\n * @class Class creating a Name Address SIP header.\n *\n * @param {SIP.URI} uri\n * @param {String} [displayName]\n * @param {Object} [parameters]\n *\n */\nmodule.exports = function (SIP) {\nvar NameAddrHeader;\n\nNameAddrHeader = function(uri, displayName, parameters) {\n  var param;\n\n  // Checks\n  if(!uri || !(uri instanceof SIP.URI)) {\n    throw new TypeError('missing or invalid \"uri\" parameter');\n  }\n\n  // Initialize parameters\n  this.uri = uri;\n  this.parameters = {};\n\n  for (param in parameters) {\n    this.setParam(param, parameters[param]);\n  }\n\n  Object.defineProperties(this, {\n    friendlyName: {\n      get: function() { return this.displayName || uri.aor; }\n    },\n\n    displayName: {\n      get: function() { return displayName; },\n      set: function(value) {\n        displayName = (value === 0) ? '0' : value;\n      }\n    }\n  });\n};\nNameAddrHeader.prototype = {\n  setParam: function (key, value) {\n    if(key) {\n      this.parameters[key.toLowerCase()] = (typeof value === 'undefined' || value === null) ? null : value.toString();\n    }\n  },\n  getParam: SIP.URI.prototype.getParam,\n  hasParam: SIP.URI.prototype.hasParam,\n  deleteParam: SIP.URI.prototype.deleteParam,\n  clearParams: SIP.URI.prototype.clearParams,\n\n  clone: function() {\n    return new NameAddrHeader(\n      this.uri.clone(),\n      this.displayName,\n      JSON.parse(JSON.stringify(this.parameters)));\n  },\n\n  toString: function() {\n    var body, parameter;\n\n    body  = (this.displayName || this.displayName === 0) ? '\"' + this.displayName + '\" ' : '';\n    body += '<' + this.uri.toString() + '>';\n\n    for (parameter in this.parameters) {\n      body += ';' + parameter;\n\n      if (this.parameters[parameter] !== null) {\n        body += '='+ this.parameters[parameter];\n      }\n    }\n\n    return body;\n  }\n};\n\n\n/**\n  * Parse the given string and returns a SIP.NameAddrHeader instance or undefined if\n  * it is an invalid NameAddrHeader.\n  * @public\n  * @param {String} name_addr_header\n  */\nNameAddrHeader.parse = function(name_addr_header) {\n  name_addr_header = SIP.Grammar.parse(name_addr_header,'Name_Addr_Header');\n\n  if (name_addr_header !== -1) {\n    return name_addr_header;\n  } else {\n    return undefined;\n  }\n};\n\nSIP.NameAddrHeader = NameAddrHeader;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL05hbWVBZGRySGVhZGVyLmpzP2NlZGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUF1QixvQ0FBb0M7QUFDM0QsS0FBSzs7QUFFTDtBQUNBLHVCQUF1QixvQkFBb0IsRUFBRTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCOztBQUVoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6IjM1My5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFNJUCBOYW1lQWRkckhlYWRlclxuICovXG5cbi8qKlxuICogQGF1Z21lbnRzIFNJUFxuICogQGNsYXNzIENsYXNzIGNyZWF0aW5nIGEgTmFtZSBBZGRyZXNzIFNJUCBoZWFkZXIuXG4gKlxuICogQHBhcmFtIHtTSVAuVVJJfSB1cmlcbiAqIEBwYXJhbSB7U3RyaW5nfSBbZGlzcGxheU5hbWVdXG4gKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtZXRlcnNdXG4gKlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChTSVApIHtcbnZhciBOYW1lQWRkckhlYWRlcjtcblxuTmFtZUFkZHJIZWFkZXIgPSBmdW5jdGlvbih1cmksIGRpc3BsYXlOYW1lLCBwYXJhbWV0ZXJzKSB7XG4gIHZhciBwYXJhbTtcblxuICAvLyBDaGVja3NcbiAgaWYoIXVyaSB8fCAhKHVyaSBpbnN0YW5jZW9mIFNJUC5VUkkpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbWlzc2luZyBvciBpbnZhbGlkIFwidXJpXCIgcGFyYW1ldGVyJyk7XG4gIH1cblxuICAvLyBJbml0aWFsaXplIHBhcmFtZXRlcnNcbiAgdGhpcy51cmkgPSB1cmk7XG4gIHRoaXMucGFyYW1ldGVycyA9IHt9O1xuXG4gIGZvciAocGFyYW0gaW4gcGFyYW1ldGVycykge1xuICAgIHRoaXMuc2V0UGFyYW0ocGFyYW0sIHBhcmFtZXRlcnNbcGFyYW1dKTtcbiAgfVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICBmcmllbmRseU5hbWU6IHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmRpc3BsYXlOYW1lIHx8IHVyaS5hb3I7IH1cbiAgICB9LFxuXG4gICAgZGlzcGxheU5hbWU6IHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBkaXNwbGF5TmFtZTsgfSxcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgZGlzcGxheU5hbWUgPSAodmFsdWUgPT09IDApID8gJzAnIDogdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5OYW1lQWRkckhlYWRlci5wcm90b3R5cGUgPSB7XG4gIHNldFBhcmFtOiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgIGlmKGtleSkge1xuICAgICAgdGhpcy5wYXJhbWV0ZXJzW2tleS50b0xvd2VyQ2FzZSgpXSA9ICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHZhbHVlID09PSBudWxsKSA/IG51bGwgOiB2YWx1ZS50b1N0cmluZygpO1xuICAgIH1cbiAgfSxcbiAgZ2V0UGFyYW06IFNJUC5VUkkucHJvdG90eXBlLmdldFBhcmFtLFxuICBoYXNQYXJhbTogU0lQLlVSSS5wcm90b3R5cGUuaGFzUGFyYW0sXG4gIGRlbGV0ZVBhcmFtOiBTSVAuVVJJLnByb3RvdHlwZS5kZWxldGVQYXJhbSxcbiAgY2xlYXJQYXJhbXM6IFNJUC5VUkkucHJvdG90eXBlLmNsZWFyUGFyYW1zLFxuXG4gIGNsb25lOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IE5hbWVBZGRySGVhZGVyKFxuICAgICAgdGhpcy51cmkuY2xvbmUoKSxcbiAgICAgIHRoaXMuZGlzcGxheU5hbWUsXG4gICAgICBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMucGFyYW1ldGVycykpKTtcbiAgfSxcblxuICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJvZHksIHBhcmFtZXRlcjtcblxuICAgIGJvZHkgID0gKHRoaXMuZGlzcGxheU5hbWUgfHwgdGhpcy5kaXNwbGF5TmFtZSA9PT0gMCkgPyAnXCInICsgdGhpcy5kaXNwbGF5TmFtZSArICdcIiAnIDogJyc7XG4gICAgYm9keSArPSAnPCcgKyB0aGlzLnVyaS50b1N0cmluZygpICsgJz4nO1xuXG4gICAgZm9yIChwYXJhbWV0ZXIgaW4gdGhpcy5wYXJhbWV0ZXJzKSB7XG4gICAgICBib2R5ICs9ICc7JyArIHBhcmFtZXRlcjtcblxuICAgICAgaWYgKHRoaXMucGFyYW1ldGVyc1twYXJhbWV0ZXJdICE9PSBudWxsKSB7XG4gICAgICAgIGJvZHkgKz0gJz0nKyB0aGlzLnBhcmFtZXRlcnNbcGFyYW1ldGVyXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYm9keTtcbiAgfVxufTtcblxuXG4vKipcbiAgKiBQYXJzZSB0aGUgZ2l2ZW4gc3RyaW5nIGFuZCByZXR1cm5zIGEgU0lQLk5hbWVBZGRySGVhZGVyIGluc3RhbmNlIG9yIHVuZGVmaW5lZCBpZlxuICAqIGl0IGlzIGFuIGludmFsaWQgTmFtZUFkZHJIZWFkZXIuXG4gICogQHB1YmxpY1xuICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lX2FkZHJfaGVhZGVyXG4gICovXG5OYW1lQWRkckhlYWRlci5wYXJzZSA9IGZ1bmN0aW9uKG5hbWVfYWRkcl9oZWFkZXIpIHtcbiAgbmFtZV9hZGRyX2hlYWRlciA9IFNJUC5HcmFtbWFyLnBhcnNlKG5hbWVfYWRkcl9oZWFkZXIsJ05hbWVfQWRkcl9IZWFkZXInKTtcblxuICBpZiAobmFtZV9hZGRyX2hlYWRlciAhPT0gLTEpIHtcbiAgICByZXR1cm4gbmFtZV9hZGRyX2hlYWRlcjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59O1xuXG5TSVAuTmFtZUFkZHJIZWFkZXIgPSBOYW1lQWRkckhlYWRlcjtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AdHdpbGlvL3NpcC5qcy9zcmMvTmFtZUFkZHJIZWFkZXIuanNcbi8vIG1vZHVsZSBpZCA9IDM1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///353\n");

/***/ }),
/* 354 */
/*!*********************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/Transactions.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview SIP Transactions\n */\n\n/**\n * SIP Transactions module.\n * @augments SIP\n */\nmodule.exports = function (SIP) {\nvar\n  C = {\n    // Transaction states\n    STATUS_TRYING:     1,\n    STATUS_PROCEEDING: 2,\n    STATUS_CALLING:    3,\n    STATUS_ACCEPTED:   4,\n    STATUS_COMPLETED:  5,\n    STATUS_TERMINATED: 6,\n    STATUS_CONFIRMED:  7,\n\n    // Transaction types\n    NON_INVITE_CLIENT: 'nict',\n    NON_INVITE_SERVER: 'nist',\n    INVITE_CLIENT: 'ict',\n    INVITE_SERVER: 'ist'\n  };\n\nfunction buildViaHeader (request_sender, transport, id) {\n  var via;\n  via = 'SIP/2.0/' + (request_sender.ua.configuration.hackViaTcp ? 'TCP' : transport.server.scheme);\n  via += ' ' + request_sender.ua.configuration.viaHost + ';branch=' + id;\n  if (request_sender.ua.configuration.forceRport) {\n    via += ';rport';\n  }\n  return via;\n}\n\n/**\n* @augments SIP.Transactions\n* @class Non Invite Client Transaction\n* @param {SIP.RequestSender} request_sender\n* @param {SIP.OutgoingRequest} request\n* @param {SIP.Transport} transport\n*/\nvar NonInviteClientTransaction = function(request_sender, request, transport) {\n  var via;\n\n  this.type = C.NON_INVITE_CLIENT;\n  this.transport = transport;\n  this.id = 'z9hG4bK' + Math.floor(Math.random() * 10000000);\n  this.request_sender = request_sender;\n  this.request = request;\n\n  this.logger = request_sender.ua.getLogger('sip.transaction.nict', this.id);\n\n  via = buildViaHeader(request_sender, transport, this.id);\n  this.request.setHeader('via', via);\n\n  this.request_sender.ua.newTransaction(this);\n};\nNonInviteClientTransaction.prototype = Object.create(SIP.EventEmitter.prototype);\n\nNonInviteClientTransaction.prototype.stateChanged = function(state) {\n  this.state = state;\n  this.emit('stateChanged');\n};\n\nNonInviteClientTransaction.prototype.send = function() {\n  var tr = this;\n\n  this.stateChanged(C.STATUS_TRYING);\n  this.F = SIP.Timers.setTimeout(tr.timer_F.bind(tr), SIP.Timers.TIMER_F);\n\n  if(!this.transport.send(this.request)) {\n    this.onTransportError();\n  }\n};\n\nNonInviteClientTransaction.prototype.onTransportError = function() {\n  this.logger.log('transport error occurred, deleting non-INVITE client transaction ' + this.id);\n  SIP.Timers.clearTimeout(this.F);\n  SIP.Timers.clearTimeout(this.K);\n  this.stateChanged(C.STATUS_TERMINATED);\n  this.request_sender.ua.destroyTransaction(this);\n  this.request_sender.onTransportError();\n};\n\nNonInviteClientTransaction.prototype.timer_F = function() {\n  this.logger.log('Timer F expired for non-INVITE client transaction ' + this.id);\n  this.stateChanged(C.STATUS_TERMINATED);\n  this.request_sender.ua.destroyTransaction(this);\n  this.request_sender.onRequestTimeout();\n};\n\nNonInviteClientTransaction.prototype.timer_K = function() {\n  this.stateChanged(C.STATUS_TERMINATED);\n  this.request_sender.ua.destroyTransaction(this);\n};\n\nNonInviteClientTransaction.prototype.receiveResponse = function(response) {\n  var\n    tr = this,\n    status_code = response.status_code;\n\n  if(status_code < 200) {\n    switch(this.state) {\n      case C.STATUS_TRYING:\n      case C.STATUS_PROCEEDING:\n        this.stateChanged(C.STATUS_PROCEEDING);\n        this.request_sender.receiveResponse(response);\n        break;\n    }\n  } else {\n    switch(this.state) {\n      case C.STATUS_TRYING:\n      case C.STATUS_PROCEEDING:\n        this.stateChanged(C.STATUS_COMPLETED);\n        SIP.Timers.clearTimeout(this.F);\n\n        if(status_code === 408) {\n          this.request_sender.onRequestTimeout();\n        } else {\n          this.request_sender.receiveResponse(response);\n        }\n\n        this.K = SIP.Timers.setTimeout(tr.timer_K.bind(tr), SIP.Timers.TIMER_K);\n        break;\n      case C.STATUS_COMPLETED:\n        break;\n    }\n  }\n};\n\n\n\n/**\n* @augments SIP.Transactions\n* @class Invite Client Transaction\n* @param {SIP.RequestSender} request_sender\n* @param {SIP.OutgoingRequest} request\n* @param {SIP.Transport} transport\n*/\nvar InviteClientTransaction = function(request_sender, request, transport) {\n  var via,\n    tr = this;\n\n  this.type = C.INVITE_CLIENT;\n  this.transport = transport;\n  this.id = 'z9hG4bK' + Math.floor(Math.random() * 10000000);\n  this.request_sender = request_sender;\n  this.request = request;\n\n  this.logger = request_sender.ua.getLogger('sip.transaction.ict', this.id);\n\n  via = buildViaHeader(request_sender, transport, this.id);\n  this.request.setHeader('via', via);\n\n  this.request_sender.ua.newTransaction(this);\n\n  // Add the cancel property to the request.\n  //Will be called from the request instance, not the transaction itself.\n  this.request.cancel = function(reason, extraHeaders) {\n    extraHeaders = (extraHeaders || []).slice();\n    var length = extraHeaders.length;\n    var extraHeadersString = null;\n    for (var idx = 0; idx < length; idx++) {\n      extraHeadersString = (extraHeadersString || '') + extraHeaders[idx].trim() + '\\r\\n';\n    }\n\n    tr.cancel_request(tr, reason, extraHeadersString);\n  };\n};\nInviteClientTransaction.prototype = Object.create(SIP.EventEmitter.prototype);\n\nInviteClientTransaction.prototype.stateChanged = function(state) {\n  this.state = state;\n  this.emit('stateChanged');\n};\n\nInviteClientTransaction.prototype.send = function() {\n  var tr = this;\n  this.stateChanged(C.STATUS_CALLING);\n  this.B = SIP.Timers.setTimeout(tr.timer_B.bind(tr), SIP.Timers.TIMER_B);\n\n  if(!this.transport.send(this.request)) {\n    this.onTransportError();\n  }\n};\n\nInviteClientTransaction.prototype.onTransportError = function() {\n  this.logger.log('transport error occurred, deleting INVITE client transaction ' + this.id);\n  SIP.Timers.clearTimeout(this.B);\n  SIP.Timers.clearTimeout(this.D);\n  SIP.Timers.clearTimeout(this.M);\n  this.stateChanged(C.STATUS_TERMINATED);\n  this.request_sender.ua.destroyTransaction(this);\n\n  if (this.state !== C.STATUS_ACCEPTED) {\n    this.request_sender.onTransportError();\n  }\n};\n\n// RFC 6026 7.2\nInviteClientTransaction.prototype.timer_M = function() {\n  this.logger.log('Timer M expired for INVITE client transaction ' + this.id);\n\n  if(this.state === C.STATUS_ACCEPTED) {\n    SIP.Timers.clearTimeout(this.B);\n    this.stateChanged(C.STATUS_TERMINATED);\n    this.request_sender.ua.destroyTransaction(this);\n  }\n};\n\n// RFC 3261 17.1.1\nInviteClientTransaction.prototype.timer_B = function() {\n  this.logger.log('Timer B expired for INVITE client transaction ' + this.id);\n  if(this.state === C.STATUS_CALLING) {\n    this.stateChanged(C.STATUS_TERMINATED);\n    this.request_sender.ua.destroyTransaction(this);\n    this.request_sender.onRequestTimeout();\n  }\n};\n\nInviteClientTransaction.prototype.timer_D = function() {\n  this.logger.log('Timer D expired for INVITE client transaction ' + this.id);\n  SIP.Timers.clearTimeout(this.B);\n  this.stateChanged(C.STATUS_TERMINATED);\n  this.request_sender.ua.destroyTransaction(this);\n};\n\nInviteClientTransaction.prototype.sendACK = function(response) {\n  var tr = this;\n\n  this.ack = 'ACK ' + this.request.ruri + ' SIP/2.0\\r\\n';\n  this.ack += 'Via: ' + this.request.headers['Via'].toString() + '\\r\\n';\n\n  if(this.request.headers['Route']) {\n    this.ack += 'Route: ' + this.request.headers['Route'].toString() + '\\r\\n';\n  }\n\n  this.ack += 'To: ' + response.getHeader('to') + '\\r\\n';\n  this.ack += 'From: ' + this.request.headers['From'].toString() + '\\r\\n';\n  this.ack += 'Call-ID: ' + this.request.headers['Call-ID'].toString() + '\\r\\n';\n  this.ack += 'Content-Length: 0\\r\\n';\n  this.ack += 'CSeq: ' + this.request.headers['CSeq'].toString().split(' ')[0];\n  this.ack += ' ACK\\r\\n\\r\\n';\n\n  this.D = SIP.Timers.setTimeout(tr.timer_D.bind(tr), SIP.Timers.TIMER_D);\n\n  this.transport.send(this.ack);\n};\n\nInviteClientTransaction.prototype.cancel_request = function(tr, reason, extraHeaders) {\n  var request = tr.request;\n\n  this.cancel = SIP.C.CANCEL + ' ' + request.ruri + ' SIP/2.0\\r\\n';\n  this.cancel += 'Via: ' + request.headers['Via'].toString() + '\\r\\n';\n\n  if(this.request.headers['Route']) {\n    this.cancel += 'Route: ' + request.headers['Route'].toString() + '\\r\\n';\n  }\n\n  this.cancel += 'To: ' + request.headers['To'].toString() + '\\r\\n';\n  this.cancel += 'From: ' + request.headers['From'].toString() + '\\r\\n';\n  this.cancel += 'Call-ID: ' + request.headers['Call-ID'].toString() + '\\r\\n';\n  this.cancel += 'CSeq: ' + request.headers['CSeq'].toString().split(' ')[0] +\n  ' CANCEL\\r\\n';\n\n  if(reason) {\n    this.cancel += 'Reason: ' + reason + '\\r\\n';\n  }\n\n  if (extraHeaders) {\n    this.cancel += extraHeaders;\n  }\n\n  this.cancel += 'Content-Length: 0\\r\\n\\r\\n';\n\n  // Send only if a provisional response (>100) has been received.\n  if(this.state === C.STATUS_PROCEEDING) {\n    this.transport.send(this.cancel);\n  }\n};\n\nInviteClientTransaction.prototype.receiveResponse = function(response) {\n  var\n  tr = this,\n  status_code = response.status_code;\n\n  if(status_code >= 100 && status_code <= 199) {\n    switch(this.state) {\n      case C.STATUS_CALLING:\n        this.stateChanged(C.STATUS_PROCEEDING);\n        this.request_sender.receiveResponse(response);\n        if(this.cancel) {\n          this.transport.send(this.cancel);\n        }\n        break;\n      case C.STATUS_PROCEEDING:\n        this.request_sender.receiveResponse(response);\n        break;\n    }\n  } else if(status_code >= 200 && status_code <= 299) {\n    switch(this.state) {\n      case C.STATUS_CALLING:\n      case C.STATUS_PROCEEDING:\n        this.stateChanged(C.STATUS_ACCEPTED);\n        this.M = SIP.Timers.setTimeout(tr.timer_M.bind(tr), SIP.Timers.TIMER_M);\n        this.request_sender.receiveResponse(response);\n        break;\n      case C.STATUS_ACCEPTED:\n        this.request_sender.receiveResponse(response);\n        break;\n    }\n  } else if(status_code >= 300 && status_code <= 699) {\n    switch(this.state) {\n      case C.STATUS_CALLING:\n      case C.STATUS_PROCEEDING:\n        this.stateChanged(C.STATUS_COMPLETED);\n        this.sendACK(response);\n        this.request_sender.receiveResponse(response);\n        break;\n      case C.STATUS_COMPLETED:\n        this.sendACK(response);\n        break;\n    }\n  }\n};\n\n\n/**\n * @augments SIP.Transactions\n * @class ACK Client Transaction\n * @param {SIP.RequestSender} request_sender\n * @param {SIP.OutgoingRequest} request\n * @param {SIP.Transport} transport\n */\nvar AckClientTransaction = function(request_sender, request, transport) {\n  var via;\n\n  this.transport = transport;\n  this.id = 'z9hG4bK' + Math.floor(Math.random() * 10000000);\n  this.request_sender = request_sender;\n  this.request = request;\n\n  this.logger = request_sender.ua.getLogger('sip.transaction.nict', this.id);\n\n  via = buildViaHeader(request_sender, transport, this.id);\n  this.request.setHeader('via', via);\n};\nAckClientTransaction.prototype = Object.create(SIP.EventEmitter.prototype);\n\nAckClientTransaction.prototype.send = function() {\n  if(!this.transport.send(this.request)) {\n    this.onTransportError();\n  }\n};\n\nAckClientTransaction.prototype.onTransportError = function() {\n  this.logger.log('transport error occurred, for an ACK client transaction ' + this.id);\n  this.request_sender.onTransportError();\n};\n\n\n/**\n* @augments SIP.Transactions\n* @class Non Invite Server Transaction\n* @param {SIP.IncomingRequest} request\n* @param {SIP.UA} ua\n*/\nvar NonInviteServerTransaction = function(request, ua) {\n  this.type = C.NON_INVITE_SERVER;\n  this.id = request.via_branch;\n  this.request = request;\n  this.transport = request.transport;\n  this.ua = ua;\n  this.last_response = '';\n  request.server_transaction = this;\n\n  this.logger = ua.getLogger('sip.transaction.nist', this.id);\n\n  this.state = C.STATUS_TRYING;\n\n  ua.newTransaction(this);\n};\nNonInviteServerTransaction.prototype = Object.create(SIP.EventEmitter.prototype);\n\nNonInviteServerTransaction.prototype.stateChanged = function(state) {\n  this.state = state;\n  this.emit('stateChanged');\n};\n\nNonInviteServerTransaction.prototype.timer_J = function() {\n  this.logger.log('Timer J expired for non-INVITE server transaction ' + this.id);\n  this.stateChanged(C.STATUS_TERMINATED);\n  this.ua.destroyTransaction(this);\n};\n\nNonInviteServerTransaction.prototype.onTransportError = function() {\n  if (!this.transportError) {\n    this.transportError = true;\n\n    this.logger.log('transport error occurred, deleting non-INVITE server transaction ' + this.id);\n\n    SIP.Timers.clearTimeout(this.J);\n    this.stateChanged(C.STATUS_TERMINATED);\n    this.ua.destroyTransaction(this);\n  }\n};\n\nNonInviteServerTransaction.prototype.receiveResponse = function(status_code, response) {\n  var tr = this;\n  var deferred = SIP.Utils.defer();\n\n  if(status_code === 100) {\n    /* RFC 4320 4.1\n     * 'A SIP element MUST NOT\n     * send any provisional response with a\n     * Status-Code other than 100 to a non-INVITE request.'\n     */\n    switch(this.state) {\n      case C.STATUS_TRYING:\n        this.stateChanged(C.STATUS_PROCEEDING);\n        if(!this.transport.send(response))  {\n          this.onTransportError();\n        }\n        break;\n      case C.STATUS_PROCEEDING:\n        this.last_response = response;\n        if(!this.transport.send(response)) {\n          this.onTransportError();\n          deferred.reject();\n        } else {\n          deferred.resolve();\n        }\n        break;\n    }\n  } else if(status_code >= 200 && status_code <= 699) {\n    switch(this.state) {\n      case C.STATUS_TRYING:\n      case C.STATUS_PROCEEDING:\n        this.stateChanged(C.STATUS_COMPLETED);\n        this.last_response = response;\n        this.J = SIP.Timers.setTimeout(tr.timer_J.bind(tr), SIP.Timers.TIMER_J);\n        if(!this.transport.send(response)) {\n          this.onTransportError();\n          deferred.reject();\n        } else {\n          deferred.resolve();\n        }\n        break;\n      case C.STATUS_COMPLETED:\n        break;\n    }\n  }\n\n  return deferred.promise;\n};\n\n/**\n* @augments SIP.Transactions\n* @class Invite Server Transaction\n* @param {SIP.IncomingRequest} request\n* @param {SIP.UA} ua\n*/\nvar InviteServerTransaction = function(request, ua) {\n  this.type = C.INVITE_SERVER;\n  this.id = request.via_branch;\n  this.request = request;\n  this.transport = request.transport;\n  this.ua = ua;\n  this.last_response = '';\n  request.server_transaction = this;\n\n  this.logger = ua.getLogger('sip.transaction.ist', this.id);\n\n  this.state = C.STATUS_PROCEEDING;\n\n  ua.newTransaction(this);\n\n  this.resendProvisionalTimer = null;\n\n  request.reply(100);\n};\nInviteServerTransaction.prototype = Object.create(SIP.EventEmitter.prototype);\n\nInviteServerTransaction.prototype.stateChanged = function(state) {\n  this.state = state;\n  this.emit('stateChanged');\n};\n\nInviteServerTransaction.prototype.timer_H = function() {\n  this.logger.log('Timer H expired for INVITE server transaction ' + this.id);\n\n  if(this.state === C.STATUS_COMPLETED) {\n    this.logger.warn('transactions', 'ACK for INVITE server transaction was never received, call will be terminated');\n  }\n\n  this.stateChanged(C.STATUS_TERMINATED);\n  this.ua.destroyTransaction(this);\n};\n\nInviteServerTransaction.prototype.timer_I = function() {\n  this.stateChanged(C.STATUS_TERMINATED);\n  this.ua.destroyTransaction(this);\n};\n\n// RFC 6026 7.1\nInviteServerTransaction.prototype.timer_L = function() {\n  this.logger.log('Timer L expired for INVITE server transaction ' + this.id);\n\n  if(this.state === C.STATUS_ACCEPTED) {\n    this.stateChanged(C.STATUS_TERMINATED);\n    this.ua.destroyTransaction(this);\n  }\n};\n\nInviteServerTransaction.prototype.onTransportError = function() {\n  if (!this.transportError) {\n    this.transportError = true;\n\n    this.logger.log('transport error occurred, deleting INVITE server transaction ' + this.id);\n\n    if (this.resendProvisionalTimer !== null) {\n      SIP.Timers.clearInterval(this.resendProvisionalTimer);\n      this.resendProvisionalTimer = null;\n    }\n\n    SIP.Timers.clearTimeout(this.L);\n    SIP.Timers.clearTimeout(this.H);\n    SIP.Timers.clearTimeout(this.I);\n\n    this.stateChanged(C.STATUS_TERMINATED);\n    this.ua.destroyTransaction(this);\n  }\n};\n\nInviteServerTransaction.prototype.resend_provisional = function() {\n  if(!this.transport.send(this.last_response)) {\n    this.onTransportError();\n  }\n};\n\n// INVITE Server Transaction RFC 3261 17.2.1\nInviteServerTransaction.prototype.receiveResponse = function(status_code, response) {\n  var tr = this;\n  var deferred = SIP.Utils.defer();\n\n  if(status_code >= 100 && status_code <= 199) {\n    switch(this.state) {\n      case C.STATUS_PROCEEDING:\n        if(!this.transport.send(response)) {\n          this.onTransportError();\n        }\n        this.last_response = response;\n        break;\n    }\n  }\n\n  if(status_code > 100 && status_code <= 199 && this.state === C.STATUS_PROCEEDING) {\n    // Trigger the resendProvisionalTimer only for the first non 100 provisional response.\n    if(this.resendProvisionalTimer === null) {\n      this.resendProvisionalTimer = SIP.Timers.setInterval(tr.resend_provisional.bind(tr),\n        SIP.Timers.PROVISIONAL_RESPONSE_INTERVAL);\n    }\n  } else if(status_code >= 200 && status_code <= 299) {\n    switch(this.state) {\n      case C.STATUS_PROCEEDING:\n        this.stateChanged(C.STATUS_ACCEPTED);\n        this.last_response = response;\n        this.L = SIP.Timers.setTimeout(tr.timer_L.bind(tr), SIP.Timers.TIMER_L);\n\n        if (this.resendProvisionalTimer !== null) {\n          SIP.Timers.clearInterval(this.resendProvisionalTimer);\n          this.resendProvisionalTimer = null;\n        }\n        /* falls through */\n        case C.STATUS_ACCEPTED:\n          // Note that this point will be reached for proceeding tr.state also.\n          if(!this.transport.send(response)) {\n            this.onTransportError();\n            deferred.reject();\n          } else {\n            deferred.resolve();\n          }\n          break;\n    }\n  } else if(status_code >= 300 && status_code <= 699) {\n    switch(this.state) {\n      case C.STATUS_PROCEEDING:\n        if (this.resendProvisionalTimer !== null) {\n          SIP.Timers.clearInterval(this.resendProvisionalTimer);\n          this.resendProvisionalTimer = null;\n        }\n\n        if(!this.transport.send(response)) {\n          this.onTransportError();\n          deferred.reject();\n        } else {\n          this.stateChanged(C.STATUS_COMPLETED);\n          this.H = SIP.Timers.setTimeout(tr.timer_H.bind(tr), SIP.Timers.TIMER_H);\n          deferred.resolve();\n        }\n        break;\n    }\n  }\n\n  return deferred.promise;\n};\n\n/**\n * @function\n * @param {SIP.UA} ua\n * @param {SIP.IncomingRequest} request\n *\n * @return {boolean}\n * INVITE:\n *  _true_ if retransmission\n *  _false_ new request\n *\n * ACK:\n *  _true_  ACK to non2xx response\n *  _false_ ACK must be passed to TU (accepted state)\n *          ACK to 2xx response\n *\n * CANCEL:\n *  _true_  no matching invite transaction\n *  _false_ matching invite transaction and no final response sent\n *\n * OTHER:\n *  _true_  retransmission\n *  _false_ new request\n */\nvar checkTransaction = function(ua, request) {\n  var tr;\n\n  switch(request.method) {\n    case SIP.C.INVITE:\n      tr = ua.transactions.ist[request.via_branch];\n      if(tr) {\n        switch(tr.state) {\n          case C.STATUS_PROCEEDING:\n            tr.transport.send(tr.last_response);\n            break;\n\n            // RFC 6026 7.1 Invite retransmission\n            //received while in C.STATUS_ACCEPTED state. Absorb it.\n          case C.STATUS_ACCEPTED:\n            break;\n        }\n        return true;\n      }\n      break;\n    case SIP.C.ACK:\n      tr = ua.transactions.ist[request.via_branch];\n\n      // RFC 6026 7.1\n      if(tr) {\n        if(tr.state === C.STATUS_ACCEPTED) {\n          return false;\n        } else if(tr.state === C.STATUS_COMPLETED) {\n          tr.stateChanged(C.STATUS_CONFIRMED);\n          tr.I = SIP.Timers.setTimeout(tr.timer_I.bind(tr), SIP.Timers.TIMER_I);\n          return true;\n        }\n      }\n\n      // ACK to 2XX Response.\n      else {\n        return false;\n      }\n      break;\n    case SIP.C.CANCEL:\n      tr = ua.transactions.ist[request.via_branch];\n      if(tr) {\n        request.reply_sl(200);\n        if(tr.state === C.STATUS_PROCEEDING) {\n          return false;\n        } else {\n          return true;\n        }\n      } else {\n        request.reply_sl(481);\n        return true;\n      }\n      break;\n    default:\n\n      // Non-INVITE Server Transaction RFC 3261 17.2.2\n      tr = ua.transactions.nist[request.via_branch];\n      if(tr) {\n        switch(tr.state) {\n          case C.STATUS_TRYING:\n            break;\n          case C.STATUS_PROCEEDING:\n          case C.STATUS_COMPLETED:\n            tr.transport.send(tr.last_response);\n            break;\n        }\n        return true;\n      }\n      break;\n  }\n};\n\nSIP.Transactions = {\n  C: C,\n  checkTransaction: checkTransaction,\n  NonInviteClientTransaction: NonInviteClientTransaction,\n  InviteClientTransaction: InviteClientTransaction,\n  AckClientTransaction: AckClientTransaction,\n  NonInviteServerTransaction: NonInviteServerTransaction,\n  InviteServerTransaction: InviteServerTransaction\n};\n\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1RyYW5zYWN0aW9ucy5qcz82YmYyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNEO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGtCQUFrQjtBQUM1QixVQUFVLG9CQUFvQjtBQUM5QixVQUFVLGNBQWM7QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGtCQUFrQjtBQUM1QixVQUFVLG9CQUFvQjtBQUM5QixVQUFVLGNBQWM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixjQUFjO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGtCQUFrQjtBQUM3QixXQUFXLG9CQUFvQjtBQUMvQixXQUFXLGNBQWM7QUFDekI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsb0JBQW9CO0FBQzlCLFVBQVUsT0FBTztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLG9CQUFvQjtBQUM5QixVQUFVLE9BQU87QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMzU0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgU0lQIFRyYW5zYWN0aW9uc1xuICovXG5cbi8qKlxuICogU0lQIFRyYW5zYWN0aW9ucyBtb2R1bGUuXG4gKiBAYXVnbWVudHMgU0lQXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFNJUCkge1xudmFyXG4gIEMgPSB7XG4gICAgLy8gVHJhbnNhY3Rpb24gc3RhdGVzXG4gICAgU1RBVFVTX1RSWUlORzogICAgIDEsXG4gICAgU1RBVFVTX1BST0NFRURJTkc6IDIsXG4gICAgU1RBVFVTX0NBTExJTkc6ICAgIDMsXG4gICAgU1RBVFVTX0FDQ0VQVEVEOiAgIDQsXG4gICAgU1RBVFVTX0NPTVBMRVRFRDogIDUsXG4gICAgU1RBVFVTX1RFUk1JTkFURUQ6IDYsXG4gICAgU1RBVFVTX0NPTkZJUk1FRDogIDcsXG5cbiAgICAvLyBUcmFuc2FjdGlvbiB0eXBlc1xuICAgIE5PTl9JTlZJVEVfQ0xJRU5UOiAnbmljdCcsXG4gICAgTk9OX0lOVklURV9TRVJWRVI6ICduaXN0JyxcbiAgICBJTlZJVEVfQ0xJRU5UOiAnaWN0JyxcbiAgICBJTlZJVEVfU0VSVkVSOiAnaXN0J1xuICB9O1xuXG5mdW5jdGlvbiBidWlsZFZpYUhlYWRlciAocmVxdWVzdF9zZW5kZXIsIHRyYW5zcG9ydCwgaWQpIHtcbiAgdmFyIHZpYTtcbiAgdmlhID0gJ1NJUC8yLjAvJyArIChyZXF1ZXN0X3NlbmRlci51YS5jb25maWd1cmF0aW9uLmhhY2tWaWFUY3AgPyAnVENQJyA6IHRyYW5zcG9ydC5zZXJ2ZXIuc2NoZW1lKTtcbiAgdmlhICs9ICcgJyArIHJlcXVlc3Rfc2VuZGVyLnVhLmNvbmZpZ3VyYXRpb24udmlhSG9zdCArICc7YnJhbmNoPScgKyBpZDtcbiAgaWYgKHJlcXVlc3Rfc2VuZGVyLnVhLmNvbmZpZ3VyYXRpb24uZm9yY2VScG9ydCkge1xuICAgIHZpYSArPSAnO3Jwb3J0JztcbiAgfVxuICByZXR1cm4gdmlhO1xufVxuXG4vKipcbiogQGF1Z21lbnRzIFNJUC5UcmFuc2FjdGlvbnNcbiogQGNsYXNzIE5vbiBJbnZpdGUgQ2xpZW50IFRyYW5zYWN0aW9uXG4qIEBwYXJhbSB7U0lQLlJlcXVlc3RTZW5kZXJ9IHJlcXVlc3Rfc2VuZGVyXG4qIEBwYXJhbSB7U0lQLk91dGdvaW5nUmVxdWVzdH0gcmVxdWVzdFxuKiBAcGFyYW0ge1NJUC5UcmFuc3BvcnR9IHRyYW5zcG9ydFxuKi9cbnZhciBOb25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uKHJlcXVlc3Rfc2VuZGVyLCByZXF1ZXN0LCB0cmFuc3BvcnQpIHtcbiAgdmFyIHZpYTtcblxuICB0aGlzLnR5cGUgPSBDLk5PTl9JTlZJVEVfQ0xJRU5UO1xuICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbiAgdGhpcy5pZCA9ICd6OWhHNGJLJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDAwKTtcbiAgdGhpcy5yZXF1ZXN0X3NlbmRlciA9IHJlcXVlc3Rfc2VuZGVyO1xuICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuXG4gIHRoaXMubG9nZ2VyID0gcmVxdWVzdF9zZW5kZXIudWEuZ2V0TG9nZ2VyKCdzaXAudHJhbnNhY3Rpb24ubmljdCcsIHRoaXMuaWQpO1xuXG4gIHZpYSA9IGJ1aWxkVmlhSGVhZGVyKHJlcXVlc3Rfc2VuZGVyLCB0cmFuc3BvcnQsIHRoaXMuaWQpO1xuICB0aGlzLnJlcXVlc3Quc2V0SGVhZGVyKCd2aWEnLCB2aWEpO1xuXG4gIHRoaXMucmVxdWVzdF9zZW5kZXIudWEubmV3VHJhbnNhY3Rpb24odGhpcyk7XG59O1xuTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTSVAuRXZlbnRFbWl0dGVyLnByb3RvdHlwZSk7XG5cbk5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS5zdGF0ZUNoYW5nZWQgPSBmdW5jdGlvbihzdGF0ZSkge1xuICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gIHRoaXMuZW1pdCgnc3RhdGVDaGFuZ2VkJyk7XG59O1xuXG5Ob25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgdHIgPSB0aGlzO1xuXG4gIHRoaXMuc3RhdGVDaGFuZ2VkKEMuU1RBVFVTX1RSWUlORyk7XG4gIHRoaXMuRiA9IFNJUC5UaW1lcnMuc2V0VGltZW91dCh0ci50aW1lcl9GLmJpbmQodHIpLCBTSVAuVGltZXJzLlRJTUVSX0YpO1xuXG4gIGlmKCF0aGlzLnRyYW5zcG9ydC5zZW5kKHRoaXMucmVxdWVzdCkpIHtcbiAgICB0aGlzLm9uVHJhbnNwb3J0RXJyb3IoKTtcbiAgfVxufTtcblxuTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24ucHJvdG90eXBlLm9uVHJhbnNwb3J0RXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5sb2dnZXIubG9nKCd0cmFuc3BvcnQgZXJyb3Igb2NjdXJyZWQsIGRlbGV0aW5nIG5vbi1JTlZJVEUgY2xpZW50IHRyYW5zYWN0aW9uICcgKyB0aGlzLmlkKTtcbiAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5GKTtcbiAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5LKTtcbiAgdGhpcy5zdGF0ZUNoYW5nZWQoQy5TVEFUVVNfVEVSTUlOQVRFRCk7XG4gIHRoaXMucmVxdWVzdF9zZW5kZXIudWEuZGVzdHJveVRyYW5zYWN0aW9uKHRoaXMpO1xuICB0aGlzLnJlcXVlc3Rfc2VuZGVyLm9uVHJhbnNwb3J0RXJyb3IoKTtcbn07XG5cbk5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS50aW1lcl9GID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubG9nZ2VyLmxvZygnVGltZXIgRiBleHBpcmVkIGZvciBub24tSU5WSVRFIGNsaWVudCB0cmFuc2FjdGlvbiAnICsgdGhpcy5pZCk7XG4gIHRoaXMuc3RhdGVDaGFuZ2VkKEMuU1RBVFVTX1RFUk1JTkFURUQpO1xuICB0aGlzLnJlcXVlc3Rfc2VuZGVyLnVhLmRlc3Ryb3lUcmFuc2FjdGlvbih0aGlzKTtcbiAgdGhpcy5yZXF1ZXN0X3NlbmRlci5vblJlcXVlc3RUaW1lb3V0KCk7XG59O1xuXG5Ob25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUudGltZXJfSyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnN0YXRlQ2hhbmdlZChDLlNUQVRVU19URVJNSU5BVEVEKTtcbiAgdGhpcy5yZXF1ZXN0X3NlbmRlci51YS5kZXN0cm95VHJhbnNhY3Rpb24odGhpcyk7XG59O1xuXG5Ob25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUucmVjZWl2ZVJlc3BvbnNlID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgdmFyXG4gICAgdHIgPSB0aGlzLFxuICAgIHN0YXR1c19jb2RlID0gcmVzcG9uc2Uuc3RhdHVzX2NvZGU7XG5cbiAgaWYoc3RhdHVzX2NvZGUgPCAyMDApIHtcbiAgICBzd2l0Y2godGhpcy5zdGF0ZSkge1xuICAgICAgY2FzZSBDLlNUQVRVU19UUllJTkc6XG4gICAgICBjYXNlIEMuU1RBVFVTX1BST0NFRURJTkc6XG4gICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VkKEMuU1RBVFVTX1BST0NFRURJTkcpO1xuICAgICAgICB0aGlzLnJlcXVlc3Rfc2VuZGVyLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2godGhpcy5zdGF0ZSkge1xuICAgICAgY2FzZSBDLlNUQVRVU19UUllJTkc6XG4gICAgICBjYXNlIEMuU1RBVFVTX1BST0NFRURJTkc6XG4gICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VkKEMuU1RBVFVTX0NPTVBMRVRFRCk7XG4gICAgICAgIFNJUC5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMuRik7XG5cbiAgICAgICAgaWYoc3RhdHVzX2NvZGUgPT09IDQwOCkge1xuICAgICAgICAgIHRoaXMucmVxdWVzdF9zZW5kZXIub25SZXF1ZXN0VGltZW91dCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucmVxdWVzdF9zZW5kZXIucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuSyA9IFNJUC5UaW1lcnMuc2V0VGltZW91dCh0ci50aW1lcl9LLmJpbmQodHIpLCBTSVAuVGltZXJzLlRJTUVSX0spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQy5TVEFUVVNfQ09NUExFVEVEOlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbn07XG5cblxuXG4vKipcbiogQGF1Z21lbnRzIFNJUC5UcmFuc2FjdGlvbnNcbiogQGNsYXNzIEludml0ZSBDbGllbnQgVHJhbnNhY3Rpb25cbiogQHBhcmFtIHtTSVAuUmVxdWVzdFNlbmRlcn0gcmVxdWVzdF9zZW5kZXJcbiogQHBhcmFtIHtTSVAuT3V0Z29pbmdSZXF1ZXN0fSByZXF1ZXN0XG4qIEBwYXJhbSB7U0lQLlRyYW5zcG9ydH0gdHJhbnNwb3J0XG4qL1xudmFyIEludml0ZUNsaWVudFRyYW5zYWN0aW9uID0gZnVuY3Rpb24ocmVxdWVzdF9zZW5kZXIsIHJlcXVlc3QsIHRyYW5zcG9ydCkge1xuICB2YXIgdmlhLFxuICAgIHRyID0gdGhpcztcblxuICB0aGlzLnR5cGUgPSBDLklOVklURV9DTElFTlQ7XG4gIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICB0aGlzLmlkID0gJ3o5aEc0YksnICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwMDApO1xuICB0aGlzLnJlcXVlc3Rfc2VuZGVyID0gcmVxdWVzdF9zZW5kZXI7XG4gIHRoaXMucmVxdWVzdCA9IHJlcXVlc3Q7XG5cbiAgdGhpcy5sb2dnZXIgPSByZXF1ZXN0X3NlbmRlci51YS5nZXRMb2dnZXIoJ3NpcC50cmFuc2FjdGlvbi5pY3QnLCB0aGlzLmlkKTtcblxuICB2aWEgPSBidWlsZFZpYUhlYWRlcihyZXF1ZXN0X3NlbmRlciwgdHJhbnNwb3J0LCB0aGlzLmlkKTtcbiAgdGhpcy5yZXF1ZXN0LnNldEhlYWRlcigndmlhJywgdmlhKTtcblxuICB0aGlzLnJlcXVlc3Rfc2VuZGVyLnVhLm5ld1RyYW5zYWN0aW9uKHRoaXMpO1xuXG4gIC8vIEFkZCB0aGUgY2FuY2VsIHByb3BlcnR5IHRvIHRoZSByZXF1ZXN0LlxuICAvL1dpbGwgYmUgY2FsbGVkIGZyb20gdGhlIHJlcXVlc3QgaW5zdGFuY2UsIG5vdCB0aGUgdHJhbnNhY3Rpb24gaXRzZWxmLlxuICB0aGlzLnJlcXVlc3QuY2FuY2VsID0gZnVuY3Rpb24ocmVhc29uLCBleHRyYUhlYWRlcnMpIHtcbiAgICBleHRyYUhlYWRlcnMgPSAoZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgIHZhciBsZW5ndGggPSBleHRyYUhlYWRlcnMubGVuZ3RoO1xuICAgIHZhciBleHRyYUhlYWRlcnNTdHJpbmcgPSBudWxsO1xuICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgIGV4dHJhSGVhZGVyc1N0cmluZyA9IChleHRyYUhlYWRlcnNTdHJpbmcgfHwgJycpICsgZXh0cmFIZWFkZXJzW2lkeF0udHJpbSgpICsgJ1xcclxcbic7XG4gICAgfVxuXG4gICAgdHIuY2FuY2VsX3JlcXVlc3QodHIsIHJlYXNvbiwgZXh0cmFIZWFkZXJzU3RyaW5nKTtcbiAgfTtcbn07XG5JbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNJUC5FdmVudEVtaXR0ZXIucHJvdG90eXBlKTtcblxuSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24ucHJvdG90eXBlLnN0YXRlQ2hhbmdlZCA9IGZ1bmN0aW9uKHN0YXRlKSB7XG4gIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgdGhpcy5lbWl0KCdzdGF0ZUNoYW5nZWQnKTtcbn07XG5cbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24oKSB7XG4gIHZhciB0ciA9IHRoaXM7XG4gIHRoaXMuc3RhdGVDaGFuZ2VkKEMuU1RBVFVTX0NBTExJTkcpO1xuICB0aGlzLkIgPSBTSVAuVGltZXJzLnNldFRpbWVvdXQodHIudGltZXJfQi5iaW5kKHRyKSwgU0lQLlRpbWVycy5USU1FUl9CKTtcblxuICBpZighdGhpcy50cmFuc3BvcnQuc2VuZCh0aGlzLnJlcXVlc3QpKSB7XG4gICAgdGhpcy5vblRyYW5zcG9ydEVycm9yKCk7XG4gIH1cbn07XG5cbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubG9nZ2VyLmxvZygndHJhbnNwb3J0IGVycm9yIG9jY3VycmVkLCBkZWxldGluZyBJTlZJVEUgY2xpZW50IHRyYW5zYWN0aW9uICcgKyB0aGlzLmlkKTtcbiAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5CKTtcbiAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5EKTtcbiAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5NKTtcbiAgdGhpcy5zdGF0ZUNoYW5nZWQoQy5TVEFUVVNfVEVSTUlOQVRFRCk7XG4gIHRoaXMucmVxdWVzdF9zZW5kZXIudWEuZGVzdHJveVRyYW5zYWN0aW9uKHRoaXMpO1xuXG4gIGlmICh0aGlzLnN0YXRlICE9PSBDLlNUQVRVU19BQ0NFUFRFRCkge1xuICAgIHRoaXMucmVxdWVzdF9zZW5kZXIub25UcmFuc3BvcnRFcnJvcigpO1xuICB9XG59O1xuXG4vLyBSRkMgNjAyNiA3LjJcbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS50aW1lcl9NID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubG9nZ2VyLmxvZygnVGltZXIgTSBleHBpcmVkIGZvciBJTlZJVEUgY2xpZW50IHRyYW5zYWN0aW9uICcgKyB0aGlzLmlkKTtcblxuICBpZih0aGlzLnN0YXRlID09PSBDLlNUQVRVU19BQ0NFUFRFRCkge1xuICAgIFNJUC5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMuQik7XG4gICAgdGhpcy5zdGF0ZUNoYW5nZWQoQy5TVEFUVVNfVEVSTUlOQVRFRCk7XG4gICAgdGhpcy5yZXF1ZXN0X3NlbmRlci51YS5kZXN0cm95VHJhbnNhY3Rpb24odGhpcyk7XG4gIH1cbn07XG5cbi8vIFJGQyAzMjYxIDE3LjEuMVxuSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24ucHJvdG90eXBlLnRpbWVyX0IgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5sb2dnZXIubG9nKCdUaW1lciBCIGV4cGlyZWQgZm9yIElOVklURSBjbGllbnQgdHJhbnNhY3Rpb24gJyArIHRoaXMuaWQpO1xuICBpZih0aGlzLnN0YXRlID09PSBDLlNUQVRVU19DQUxMSU5HKSB7XG4gICAgdGhpcy5zdGF0ZUNoYW5nZWQoQy5TVEFUVVNfVEVSTUlOQVRFRCk7XG4gICAgdGhpcy5yZXF1ZXN0X3NlbmRlci51YS5kZXN0cm95VHJhbnNhY3Rpb24odGhpcyk7XG4gICAgdGhpcy5yZXF1ZXN0X3NlbmRlci5vblJlcXVlc3RUaW1lb3V0KCk7XG4gIH1cbn07XG5cbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS50aW1lcl9EID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubG9nZ2VyLmxvZygnVGltZXIgRCBleHBpcmVkIGZvciBJTlZJVEUgY2xpZW50IHRyYW5zYWN0aW9uICcgKyB0aGlzLmlkKTtcbiAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5CKTtcbiAgdGhpcy5zdGF0ZUNoYW5nZWQoQy5TVEFUVVNfVEVSTUlOQVRFRCk7XG4gIHRoaXMucmVxdWVzdF9zZW5kZXIudWEuZGVzdHJveVRyYW5zYWN0aW9uKHRoaXMpO1xufTtcblxuSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24ucHJvdG90eXBlLnNlbmRBQ0sgPSBmdW5jdGlvbihyZXNwb25zZSkge1xuICB2YXIgdHIgPSB0aGlzO1xuXG4gIHRoaXMuYWNrID0gJ0FDSyAnICsgdGhpcy5yZXF1ZXN0LnJ1cmkgKyAnIFNJUC8yLjBcXHJcXG4nO1xuICB0aGlzLmFjayArPSAnVmlhOiAnICsgdGhpcy5yZXF1ZXN0LmhlYWRlcnNbJ1ZpYSddLnRvU3RyaW5nKCkgKyAnXFxyXFxuJztcblxuICBpZih0aGlzLnJlcXVlc3QuaGVhZGVyc1snUm91dGUnXSkge1xuICAgIHRoaXMuYWNrICs9ICdSb3V0ZTogJyArIHRoaXMucmVxdWVzdC5oZWFkZXJzWydSb3V0ZSddLnRvU3RyaW5nKCkgKyAnXFxyXFxuJztcbiAgfVxuXG4gIHRoaXMuYWNrICs9ICdUbzogJyArIHJlc3BvbnNlLmdldEhlYWRlcigndG8nKSArICdcXHJcXG4nO1xuICB0aGlzLmFjayArPSAnRnJvbTogJyArIHRoaXMucmVxdWVzdC5oZWFkZXJzWydGcm9tJ10udG9TdHJpbmcoKSArICdcXHJcXG4nO1xuICB0aGlzLmFjayArPSAnQ2FsbC1JRDogJyArIHRoaXMucmVxdWVzdC5oZWFkZXJzWydDYWxsLUlEJ10udG9TdHJpbmcoKSArICdcXHJcXG4nO1xuICB0aGlzLmFjayArPSAnQ29udGVudC1MZW5ndGg6IDBcXHJcXG4nO1xuICB0aGlzLmFjayArPSAnQ1NlcTogJyArIHRoaXMucmVxdWVzdC5oZWFkZXJzWydDU2VxJ10udG9TdHJpbmcoKS5zcGxpdCgnICcpWzBdO1xuICB0aGlzLmFjayArPSAnIEFDS1xcclxcblxcclxcbic7XG5cbiAgdGhpcy5EID0gU0lQLlRpbWVycy5zZXRUaW1lb3V0KHRyLnRpbWVyX0QuYmluZCh0ciksIFNJUC5UaW1lcnMuVElNRVJfRCk7XG5cbiAgdGhpcy50cmFuc3BvcnQuc2VuZCh0aGlzLmFjayk7XG59O1xuXG5JbnZpdGVDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUuY2FuY2VsX3JlcXVlc3QgPSBmdW5jdGlvbih0ciwgcmVhc29uLCBleHRyYUhlYWRlcnMpIHtcbiAgdmFyIHJlcXVlc3QgPSB0ci5yZXF1ZXN0O1xuXG4gIHRoaXMuY2FuY2VsID0gU0lQLkMuQ0FOQ0VMICsgJyAnICsgcmVxdWVzdC5ydXJpICsgJyBTSVAvMi4wXFxyXFxuJztcbiAgdGhpcy5jYW5jZWwgKz0gJ1ZpYTogJyArIHJlcXVlc3QuaGVhZGVyc1snVmlhJ10udG9TdHJpbmcoKSArICdcXHJcXG4nO1xuXG4gIGlmKHRoaXMucmVxdWVzdC5oZWFkZXJzWydSb3V0ZSddKSB7XG4gICAgdGhpcy5jYW5jZWwgKz0gJ1JvdXRlOiAnICsgcmVxdWVzdC5oZWFkZXJzWydSb3V0ZSddLnRvU3RyaW5nKCkgKyAnXFxyXFxuJztcbiAgfVxuXG4gIHRoaXMuY2FuY2VsICs9ICdUbzogJyArIHJlcXVlc3QuaGVhZGVyc1snVG8nXS50b1N0cmluZygpICsgJ1xcclxcbic7XG4gIHRoaXMuY2FuY2VsICs9ICdGcm9tOiAnICsgcmVxdWVzdC5oZWFkZXJzWydGcm9tJ10udG9TdHJpbmcoKSArICdcXHJcXG4nO1xuICB0aGlzLmNhbmNlbCArPSAnQ2FsbC1JRDogJyArIHJlcXVlc3QuaGVhZGVyc1snQ2FsbC1JRCddLnRvU3RyaW5nKCkgKyAnXFxyXFxuJztcbiAgdGhpcy5jYW5jZWwgKz0gJ0NTZXE6ICcgKyByZXF1ZXN0LmhlYWRlcnNbJ0NTZXEnXS50b1N0cmluZygpLnNwbGl0KCcgJylbMF0gK1xuICAnIENBTkNFTFxcclxcbic7XG5cbiAgaWYocmVhc29uKSB7XG4gICAgdGhpcy5jYW5jZWwgKz0gJ1JlYXNvbjogJyArIHJlYXNvbiArICdcXHJcXG4nO1xuICB9XG5cbiAgaWYgKGV4dHJhSGVhZGVycykge1xuICAgIHRoaXMuY2FuY2VsICs9IGV4dHJhSGVhZGVycztcbiAgfVxuXG4gIHRoaXMuY2FuY2VsICs9ICdDb250ZW50LUxlbmd0aDogMFxcclxcblxcclxcbic7XG5cbiAgLy8gU2VuZCBvbmx5IGlmIGEgcHJvdmlzaW9uYWwgcmVzcG9uc2UgKD4xMDApIGhhcyBiZWVuIHJlY2VpdmVkLlxuICBpZih0aGlzLnN0YXRlID09PSBDLlNUQVRVU19QUk9DRUVESU5HKSB7XG4gICAgdGhpcy50cmFuc3BvcnQuc2VuZCh0aGlzLmNhbmNlbCk7XG4gIH1cbn07XG5cbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS5yZWNlaXZlUmVzcG9uc2UgPSBmdW5jdGlvbihyZXNwb25zZSkge1xuICB2YXJcbiAgdHIgPSB0aGlzLFxuICBzdGF0dXNfY29kZSA9IHJlc3BvbnNlLnN0YXR1c19jb2RlO1xuXG4gIGlmKHN0YXR1c19jb2RlID49IDEwMCAmJiBzdGF0dXNfY29kZSA8PSAxOTkpIHtcbiAgICBzd2l0Y2godGhpcy5zdGF0ZSkge1xuICAgICAgY2FzZSBDLlNUQVRVU19DQUxMSU5HOlxuICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlZChDLlNUQVRVU19QUk9DRUVESU5HKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0X3NlbmRlci5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICBpZih0aGlzLmNhbmNlbCkge1xuICAgICAgICAgIHRoaXMudHJhbnNwb3J0LnNlbmQodGhpcy5jYW5jZWwpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDLlNUQVRVU19QUk9DRUVESU5HOlxuICAgICAgICB0aGlzLnJlcXVlc3Rfc2VuZGVyLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSBlbHNlIGlmKHN0YXR1c19jb2RlID49IDIwMCAmJiBzdGF0dXNfY29kZSA8PSAyOTkpIHtcbiAgICBzd2l0Y2godGhpcy5zdGF0ZSkge1xuICAgICAgY2FzZSBDLlNUQVRVU19DQUxMSU5HOlxuICAgICAgY2FzZSBDLlNUQVRVU19QUk9DRUVESU5HOlxuICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlZChDLlNUQVRVU19BQ0NFUFRFRCk7XG4gICAgICAgIHRoaXMuTSA9IFNJUC5UaW1lcnMuc2V0VGltZW91dCh0ci50aW1lcl9NLmJpbmQodHIpLCBTSVAuVGltZXJzLlRJTUVSX00pO1xuICAgICAgICB0aGlzLnJlcXVlc3Rfc2VuZGVyLnJlY2VpdmVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDLlNUQVRVU19BQ0NFUFRFRDpcbiAgICAgICAgdGhpcy5yZXF1ZXN0X3NlbmRlci5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0gZWxzZSBpZihzdGF0dXNfY29kZSA+PSAzMDAgJiYgc3RhdHVzX2NvZGUgPD0gNjk5KSB7XG4gICAgc3dpdGNoKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNhc2UgQy5TVEFUVVNfQ0FMTElORzpcbiAgICAgIGNhc2UgQy5TVEFUVVNfUFJPQ0VFRElORzpcbiAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZWQoQy5TVEFUVVNfQ09NUExFVEVEKTtcbiAgICAgICAgdGhpcy5zZW5kQUNLKHJlc3BvbnNlKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0X3NlbmRlci5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQy5TVEFUVVNfQ09NUExFVEVEOlxuICAgICAgICB0aGlzLnNlbmRBQ0socmVzcG9uc2UpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBAYXVnbWVudHMgU0lQLlRyYW5zYWN0aW9uc1xuICogQGNsYXNzIEFDSyBDbGllbnQgVHJhbnNhY3Rpb25cbiAqIEBwYXJhbSB7U0lQLlJlcXVlc3RTZW5kZXJ9IHJlcXVlc3Rfc2VuZGVyXG4gKiBAcGFyYW0ge1NJUC5PdXRnb2luZ1JlcXVlc3R9IHJlcXVlc3RcbiAqIEBwYXJhbSB7U0lQLlRyYW5zcG9ydH0gdHJhbnNwb3J0XG4gKi9cbnZhciBBY2tDbGllbnRUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uKHJlcXVlc3Rfc2VuZGVyLCByZXF1ZXN0LCB0cmFuc3BvcnQpIHtcbiAgdmFyIHZpYTtcblxuICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbiAgdGhpcy5pZCA9ICd6OWhHNGJLJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDAwKTtcbiAgdGhpcy5yZXF1ZXN0X3NlbmRlciA9IHJlcXVlc3Rfc2VuZGVyO1xuICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuXG4gIHRoaXMubG9nZ2VyID0gcmVxdWVzdF9zZW5kZXIudWEuZ2V0TG9nZ2VyKCdzaXAudHJhbnNhY3Rpb24ubmljdCcsIHRoaXMuaWQpO1xuXG4gIHZpYSA9IGJ1aWxkVmlhSGVhZGVyKHJlcXVlc3Rfc2VuZGVyLCB0cmFuc3BvcnQsIHRoaXMuaWQpO1xuICB0aGlzLnJlcXVlc3Quc2V0SGVhZGVyKCd2aWEnLCB2aWEpO1xufTtcbkFja0NsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU0lQLkV2ZW50RW1pdHRlci5wcm90b3R5cGUpO1xuXG5BY2tDbGllbnRUcmFuc2FjdGlvbi5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKCkge1xuICBpZighdGhpcy50cmFuc3BvcnQuc2VuZCh0aGlzLnJlcXVlc3QpKSB7XG4gICAgdGhpcy5vblRyYW5zcG9ydEVycm9yKCk7XG4gIH1cbn07XG5cbkFja0NsaWVudFRyYW5zYWN0aW9uLnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubG9nZ2VyLmxvZygndHJhbnNwb3J0IGVycm9yIG9jY3VycmVkLCBmb3IgYW4gQUNLIGNsaWVudCB0cmFuc2FjdGlvbiAnICsgdGhpcy5pZCk7XG4gIHRoaXMucmVxdWVzdF9zZW5kZXIub25UcmFuc3BvcnRFcnJvcigpO1xufTtcblxuXG4vKipcbiogQGF1Z21lbnRzIFNJUC5UcmFuc2FjdGlvbnNcbiogQGNsYXNzIE5vbiBJbnZpdGUgU2VydmVyIFRyYW5zYWN0aW9uXG4qIEBwYXJhbSB7U0lQLkluY29taW5nUmVxdWVzdH0gcmVxdWVzdFxuKiBAcGFyYW0ge1NJUC5VQX0gdWFcbiovXG52YXIgTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb24gPSBmdW5jdGlvbihyZXF1ZXN0LCB1YSkge1xuICB0aGlzLnR5cGUgPSBDLk5PTl9JTlZJVEVfU0VSVkVSO1xuICB0aGlzLmlkID0gcmVxdWVzdC52aWFfYnJhbmNoO1xuICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuICB0aGlzLnRyYW5zcG9ydCA9IHJlcXVlc3QudHJhbnNwb3J0O1xuICB0aGlzLnVhID0gdWE7XG4gIHRoaXMubGFzdF9yZXNwb25zZSA9ICcnO1xuICByZXF1ZXN0LnNlcnZlcl90cmFuc2FjdGlvbiA9IHRoaXM7XG5cbiAgdGhpcy5sb2dnZXIgPSB1YS5nZXRMb2dnZXIoJ3NpcC50cmFuc2FjdGlvbi5uaXN0JywgdGhpcy5pZCk7XG5cbiAgdGhpcy5zdGF0ZSA9IEMuU1RBVFVTX1RSWUlORztcblxuICB1YS5uZXdUcmFuc2FjdGlvbih0aGlzKTtcbn07XG5Ob25JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNJUC5FdmVudEVtaXR0ZXIucHJvdG90eXBlKTtcblxuTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnN0YXRlQ2hhbmdlZCA9IGZ1bmN0aW9uKHN0YXRlKSB7XG4gIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgdGhpcy5lbWl0KCdzdGF0ZUNoYW5nZWQnKTtcbn07XG5cbk5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS50aW1lcl9KID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubG9nZ2VyLmxvZygnVGltZXIgSiBleHBpcmVkIGZvciBub24tSU5WSVRFIHNlcnZlciB0cmFuc2FjdGlvbiAnICsgdGhpcy5pZCk7XG4gIHRoaXMuc3RhdGVDaGFuZ2VkKEMuU1RBVFVTX1RFUk1JTkFURUQpO1xuICB0aGlzLnVhLmRlc3Ryb3lUcmFuc2FjdGlvbih0aGlzKTtcbn07XG5cbk5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy50cmFuc3BvcnRFcnJvcikge1xuICAgIHRoaXMudHJhbnNwb3J0RXJyb3IgPSB0cnVlO1xuXG4gICAgdGhpcy5sb2dnZXIubG9nKCd0cmFuc3BvcnQgZXJyb3Igb2NjdXJyZWQsIGRlbGV0aW5nIG5vbi1JTlZJVEUgc2VydmVyIHRyYW5zYWN0aW9uICcgKyB0aGlzLmlkKTtcblxuICAgIFNJUC5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMuSik7XG4gICAgdGhpcy5zdGF0ZUNoYW5nZWQoQy5TVEFUVVNfVEVSTUlOQVRFRCk7XG4gICAgdGhpcy51YS5kZXN0cm95VHJhbnNhY3Rpb24odGhpcyk7XG4gIH1cbn07XG5cbk5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS5yZWNlaXZlUmVzcG9uc2UgPSBmdW5jdGlvbihzdGF0dXNfY29kZSwgcmVzcG9uc2UpIHtcbiAgdmFyIHRyID0gdGhpcztcbiAgdmFyIGRlZmVycmVkID0gU0lQLlV0aWxzLmRlZmVyKCk7XG5cbiAgaWYoc3RhdHVzX2NvZGUgPT09IDEwMCkge1xuICAgIC8qIFJGQyA0MzIwIDQuMVxuICAgICAqICdBIFNJUCBlbGVtZW50IE1VU1QgTk9UXG4gICAgICogc2VuZCBhbnkgcHJvdmlzaW9uYWwgcmVzcG9uc2Ugd2l0aCBhXG4gICAgICogU3RhdHVzLUNvZGUgb3RoZXIgdGhhbiAxMDAgdG8gYSBub24tSU5WSVRFIHJlcXVlc3QuJ1xuICAgICAqL1xuICAgIHN3aXRjaCh0aGlzLnN0YXRlKSB7XG4gICAgICBjYXNlIEMuU1RBVFVTX1RSWUlORzpcbiAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZWQoQy5TVEFUVVNfUFJPQ0VFRElORyk7XG4gICAgICAgIGlmKCF0aGlzLnRyYW5zcG9ydC5zZW5kKHJlc3BvbnNlKSkgIHtcbiAgICAgICAgICB0aGlzLm9uVHJhbnNwb3J0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQy5TVEFUVVNfUFJPQ0VFRElORzpcbiAgICAgICAgdGhpcy5sYXN0X3Jlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgIGlmKCF0aGlzLnRyYW5zcG9ydC5zZW5kKHJlc3BvbnNlKSkge1xuICAgICAgICAgIHRoaXMub25UcmFuc3BvcnRFcnJvcigpO1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0gZWxzZSBpZihzdGF0dXNfY29kZSA+PSAyMDAgJiYgc3RhdHVzX2NvZGUgPD0gNjk5KSB7XG4gICAgc3dpdGNoKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNhc2UgQy5TVEFUVVNfVFJZSU5HOlxuICAgICAgY2FzZSBDLlNUQVRVU19QUk9DRUVESU5HOlxuICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlZChDLlNUQVRVU19DT01QTEVURUQpO1xuICAgICAgICB0aGlzLmxhc3RfcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5KID0gU0lQLlRpbWVycy5zZXRUaW1lb3V0KHRyLnRpbWVyX0ouYmluZCh0ciksIFNJUC5UaW1lcnMuVElNRVJfSik7XG4gICAgICAgIGlmKCF0aGlzLnRyYW5zcG9ydC5zZW5kKHJlc3BvbnNlKSkge1xuICAgICAgICAgIHRoaXMub25UcmFuc3BvcnRFcnJvcigpO1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQy5TVEFUVVNfQ09NUExFVEVEOlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbi8qKlxuKiBAYXVnbWVudHMgU0lQLlRyYW5zYWN0aW9uc1xuKiBAY2xhc3MgSW52aXRlIFNlcnZlciBUcmFuc2FjdGlvblxuKiBAcGFyYW0ge1NJUC5JbmNvbWluZ1JlcXVlc3R9IHJlcXVlc3RcbiogQHBhcmFtIHtTSVAuVUF9IHVhXG4qL1xudmFyIEludml0ZVNlcnZlclRyYW5zYWN0aW9uID0gZnVuY3Rpb24ocmVxdWVzdCwgdWEpIHtcbiAgdGhpcy50eXBlID0gQy5JTlZJVEVfU0VSVkVSO1xuICB0aGlzLmlkID0gcmVxdWVzdC52aWFfYnJhbmNoO1xuICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuICB0aGlzLnRyYW5zcG9ydCA9IHJlcXVlc3QudHJhbnNwb3J0O1xuICB0aGlzLnVhID0gdWE7XG4gIHRoaXMubGFzdF9yZXNwb25zZSA9ICcnO1xuICByZXF1ZXN0LnNlcnZlcl90cmFuc2FjdGlvbiA9IHRoaXM7XG5cbiAgdGhpcy5sb2dnZXIgPSB1YS5nZXRMb2dnZXIoJ3NpcC50cmFuc2FjdGlvbi5pc3QnLCB0aGlzLmlkKTtcblxuICB0aGlzLnN0YXRlID0gQy5TVEFUVVNfUFJPQ0VFRElORztcblxuICB1YS5uZXdUcmFuc2FjdGlvbih0aGlzKTtcblxuICB0aGlzLnJlc2VuZFByb3Zpc2lvbmFsVGltZXIgPSBudWxsO1xuXG4gIHJlcXVlc3QucmVwbHkoMTAwKTtcbn07XG5JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNJUC5FdmVudEVtaXR0ZXIucHJvdG90eXBlKTtcblxuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnN0YXRlQ2hhbmdlZCA9IGZ1bmN0aW9uKHN0YXRlKSB7XG4gIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgdGhpcy5lbWl0KCdzdGF0ZUNoYW5nZWQnKTtcbn07XG5cbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS50aW1lcl9IID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubG9nZ2VyLmxvZygnVGltZXIgSCBleHBpcmVkIGZvciBJTlZJVEUgc2VydmVyIHRyYW5zYWN0aW9uICcgKyB0aGlzLmlkKTtcblxuICBpZih0aGlzLnN0YXRlID09PSBDLlNUQVRVU19DT01QTEVURUQpIHtcbiAgICB0aGlzLmxvZ2dlci53YXJuKCd0cmFuc2FjdGlvbnMnLCAnQUNLIGZvciBJTlZJVEUgc2VydmVyIHRyYW5zYWN0aW9uIHdhcyBuZXZlciByZWNlaXZlZCwgY2FsbCB3aWxsIGJlIHRlcm1pbmF0ZWQnKTtcbiAgfVxuXG4gIHRoaXMuc3RhdGVDaGFuZ2VkKEMuU1RBVFVTX1RFUk1JTkFURUQpO1xuICB0aGlzLnVhLmRlc3Ryb3lUcmFuc2FjdGlvbih0aGlzKTtcbn07XG5cbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS50aW1lcl9JID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuc3RhdGVDaGFuZ2VkKEMuU1RBVFVTX1RFUk1JTkFURUQpO1xuICB0aGlzLnVhLmRlc3Ryb3lUcmFuc2FjdGlvbih0aGlzKTtcbn07XG5cbi8vIFJGQyA2MDI2IDcuMVxuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnRpbWVyX0wgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5sb2dnZXIubG9nKCdUaW1lciBMIGV4cGlyZWQgZm9yIElOVklURSBzZXJ2ZXIgdHJhbnNhY3Rpb24gJyArIHRoaXMuaWQpO1xuXG4gIGlmKHRoaXMuc3RhdGUgPT09IEMuU1RBVFVTX0FDQ0VQVEVEKSB7XG4gICAgdGhpcy5zdGF0ZUNoYW5nZWQoQy5TVEFUVVNfVEVSTUlOQVRFRCk7XG4gICAgdGhpcy51YS5kZXN0cm95VHJhbnNhY3Rpb24odGhpcyk7XG4gIH1cbn07XG5cbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy50cmFuc3BvcnRFcnJvcikge1xuICAgIHRoaXMudHJhbnNwb3J0RXJyb3IgPSB0cnVlO1xuXG4gICAgdGhpcy5sb2dnZXIubG9nKCd0cmFuc3BvcnQgZXJyb3Igb2NjdXJyZWQsIGRlbGV0aW5nIElOVklURSBzZXJ2ZXIgdHJhbnNhY3Rpb24gJyArIHRoaXMuaWQpO1xuXG4gICAgaWYgKHRoaXMucmVzZW5kUHJvdmlzaW9uYWxUaW1lciAhPT0gbnVsbCkge1xuICAgICAgU0lQLlRpbWVycy5jbGVhckludGVydmFsKHRoaXMucmVzZW5kUHJvdmlzaW9uYWxUaW1lcik7XG4gICAgICB0aGlzLnJlc2VuZFByb3Zpc2lvbmFsVGltZXIgPSBudWxsO1xuICAgIH1cblxuICAgIFNJUC5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMuTCk7XG4gICAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5IKTtcbiAgICBTSVAuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLkkpO1xuXG4gICAgdGhpcy5zdGF0ZUNoYW5nZWQoQy5TVEFUVVNfVEVSTUlOQVRFRCk7XG4gICAgdGhpcy51YS5kZXN0cm95VHJhbnNhY3Rpb24odGhpcyk7XG4gIH1cbn07XG5cbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLnByb3RvdHlwZS5yZXNlbmRfcHJvdmlzaW9uYWwgPSBmdW5jdGlvbigpIHtcbiAgaWYoIXRoaXMudHJhbnNwb3J0LnNlbmQodGhpcy5sYXN0X3Jlc3BvbnNlKSkge1xuICAgIHRoaXMub25UcmFuc3BvcnRFcnJvcigpO1xuICB9XG59O1xuXG4vLyBJTlZJVEUgU2VydmVyIFRyYW5zYWN0aW9uIFJGQyAzMjYxIDE3LjIuMVxuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ucHJvdG90eXBlLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uKHN0YXR1c19jb2RlLCByZXNwb25zZSkge1xuICB2YXIgdHIgPSB0aGlzO1xuICB2YXIgZGVmZXJyZWQgPSBTSVAuVXRpbHMuZGVmZXIoKTtcblxuICBpZihzdGF0dXNfY29kZSA+PSAxMDAgJiYgc3RhdHVzX2NvZGUgPD0gMTk5KSB7XG4gICAgc3dpdGNoKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNhc2UgQy5TVEFUVVNfUFJPQ0VFRElORzpcbiAgICAgICAgaWYoIXRoaXMudHJhbnNwb3J0LnNlbmQocmVzcG9uc2UpKSB7XG4gICAgICAgICAgdGhpcy5vblRyYW5zcG9ydEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0X3Jlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmKHN0YXR1c19jb2RlID4gMTAwICYmIHN0YXR1c19jb2RlIDw9IDE5OSAmJiB0aGlzLnN0YXRlID09PSBDLlNUQVRVU19QUk9DRUVESU5HKSB7XG4gICAgLy8gVHJpZ2dlciB0aGUgcmVzZW5kUHJvdmlzaW9uYWxUaW1lciBvbmx5IGZvciB0aGUgZmlyc3Qgbm9uIDEwMCBwcm92aXNpb25hbCByZXNwb25zZS5cbiAgICBpZih0aGlzLnJlc2VuZFByb3Zpc2lvbmFsVGltZXIgPT09IG51bGwpIHtcbiAgICAgIHRoaXMucmVzZW5kUHJvdmlzaW9uYWxUaW1lciA9IFNJUC5UaW1lcnMuc2V0SW50ZXJ2YWwodHIucmVzZW5kX3Byb3Zpc2lvbmFsLmJpbmQodHIpLFxuICAgICAgICBTSVAuVGltZXJzLlBST1ZJU0lPTkFMX1JFU1BPTlNFX0lOVEVSVkFMKTtcbiAgICB9XG4gIH0gZWxzZSBpZihzdGF0dXNfY29kZSA+PSAyMDAgJiYgc3RhdHVzX2NvZGUgPD0gMjk5KSB7XG4gICAgc3dpdGNoKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNhc2UgQy5TVEFUVVNfUFJPQ0VFRElORzpcbiAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZWQoQy5TVEFUVVNfQUNDRVBURUQpO1xuICAgICAgICB0aGlzLmxhc3RfcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5MID0gU0lQLlRpbWVycy5zZXRUaW1lb3V0KHRyLnRpbWVyX0wuYmluZCh0ciksIFNJUC5UaW1lcnMuVElNRVJfTCk7XG5cbiAgICAgICAgaWYgKHRoaXMucmVzZW5kUHJvdmlzaW9uYWxUaW1lciAhPT0gbnVsbCkge1xuICAgICAgICAgIFNJUC5UaW1lcnMuY2xlYXJJbnRlcnZhbCh0aGlzLnJlc2VuZFByb3Zpc2lvbmFsVGltZXIpO1xuICAgICAgICAgIHRoaXMucmVzZW5kUHJvdmlzaW9uYWxUaW1lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlIEMuU1RBVFVTX0FDQ0VQVEVEOlxuICAgICAgICAgIC8vIE5vdGUgdGhhdCB0aGlzIHBvaW50IHdpbGwgYmUgcmVhY2hlZCBmb3IgcHJvY2VlZGluZyB0ci5zdGF0ZSBhbHNvLlxuICAgICAgICAgIGlmKCF0aGlzLnRyYW5zcG9ydC5zZW5kKHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgdGhpcy5vblRyYW5zcG9ydEVycm9yKCk7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICB9XG4gIH0gZWxzZSBpZihzdGF0dXNfY29kZSA+PSAzMDAgJiYgc3RhdHVzX2NvZGUgPD0gNjk5KSB7XG4gICAgc3dpdGNoKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNhc2UgQy5TVEFUVVNfUFJPQ0VFRElORzpcbiAgICAgICAgaWYgKHRoaXMucmVzZW5kUHJvdmlzaW9uYWxUaW1lciAhPT0gbnVsbCkge1xuICAgICAgICAgIFNJUC5UaW1lcnMuY2xlYXJJbnRlcnZhbCh0aGlzLnJlc2VuZFByb3Zpc2lvbmFsVGltZXIpO1xuICAgICAgICAgIHRoaXMucmVzZW5kUHJvdmlzaW9uYWxUaW1lciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZighdGhpcy50cmFuc3BvcnQuc2VuZChyZXNwb25zZSkpIHtcbiAgICAgICAgICB0aGlzLm9uVHJhbnNwb3J0RXJyb3IoKTtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlZChDLlNUQVRVU19DT01QTEVURUQpO1xuICAgICAgICAgIHRoaXMuSCA9IFNJUC5UaW1lcnMuc2V0VGltZW91dCh0ci50aW1lcl9ILmJpbmQodHIpLCBTSVAuVGltZXJzLlRJTUVSX0gpO1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge1NJUC5VQX0gdWFcbiAqIEBwYXJhbSB7U0lQLkluY29taW5nUmVxdWVzdH0gcmVxdWVzdFxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKiBJTlZJVEU6XG4gKiAgX3RydWVfIGlmIHJldHJhbnNtaXNzaW9uXG4gKiAgX2ZhbHNlXyBuZXcgcmVxdWVzdFxuICpcbiAqIEFDSzpcbiAqICBfdHJ1ZV8gIEFDSyB0byBub24yeHggcmVzcG9uc2VcbiAqICBfZmFsc2VfIEFDSyBtdXN0IGJlIHBhc3NlZCB0byBUVSAoYWNjZXB0ZWQgc3RhdGUpXG4gKiAgICAgICAgICBBQ0sgdG8gMnh4IHJlc3BvbnNlXG4gKlxuICogQ0FOQ0VMOlxuICogIF90cnVlXyAgbm8gbWF0Y2hpbmcgaW52aXRlIHRyYW5zYWN0aW9uXG4gKiAgX2ZhbHNlXyBtYXRjaGluZyBpbnZpdGUgdHJhbnNhY3Rpb24gYW5kIG5vIGZpbmFsIHJlc3BvbnNlIHNlbnRcbiAqXG4gKiBPVEhFUjpcbiAqICBfdHJ1ZV8gIHJldHJhbnNtaXNzaW9uXG4gKiAgX2ZhbHNlXyBuZXcgcmVxdWVzdFxuICovXG52YXIgY2hlY2tUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uKHVhLCByZXF1ZXN0KSB7XG4gIHZhciB0cjtcblxuICBzd2l0Y2gocmVxdWVzdC5tZXRob2QpIHtcbiAgICBjYXNlIFNJUC5DLklOVklURTpcbiAgICAgIHRyID0gdWEudHJhbnNhY3Rpb25zLmlzdFtyZXF1ZXN0LnZpYV9icmFuY2hdO1xuICAgICAgaWYodHIpIHtcbiAgICAgICAgc3dpdGNoKHRyLnN0YXRlKSB7XG4gICAgICAgICAgY2FzZSBDLlNUQVRVU19QUk9DRUVESU5HOlxuICAgICAgICAgICAgdHIudHJhbnNwb3J0LnNlbmQodHIubGFzdF9yZXNwb25zZSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy8gUkZDIDYwMjYgNy4xIEludml0ZSByZXRyYW5zbWlzc2lvblxuICAgICAgICAgICAgLy9yZWNlaXZlZCB3aGlsZSBpbiBDLlNUQVRVU19BQ0NFUFRFRCBzdGF0ZS4gQWJzb3JiIGl0LlxuICAgICAgICAgIGNhc2UgQy5TVEFUVVNfQUNDRVBURUQ6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgU0lQLkMuQUNLOlxuICAgICAgdHIgPSB1YS50cmFuc2FjdGlvbnMuaXN0W3JlcXVlc3QudmlhX2JyYW5jaF07XG5cbiAgICAgIC8vIFJGQyA2MDI2IDcuMVxuICAgICAgaWYodHIpIHtcbiAgICAgICAgaWYodHIuc3RhdGUgPT09IEMuU1RBVFVTX0FDQ0VQVEVEKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYodHIuc3RhdGUgPT09IEMuU1RBVFVTX0NPTVBMRVRFRCkge1xuICAgICAgICAgIHRyLnN0YXRlQ2hhbmdlZChDLlNUQVRVU19DT05GSVJNRUQpO1xuICAgICAgICAgIHRyLkkgPSBTSVAuVGltZXJzLnNldFRpbWVvdXQodHIudGltZXJfSS5iaW5kKHRyKSwgU0lQLlRpbWVycy5USU1FUl9JKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBQ0sgdG8gMlhYIFJlc3BvbnNlLlxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgU0lQLkMuQ0FOQ0VMOlxuICAgICAgdHIgPSB1YS50cmFuc2FjdGlvbnMuaXN0W3JlcXVlc3QudmlhX2JyYW5jaF07XG4gICAgICBpZih0cikge1xuICAgICAgICByZXF1ZXN0LnJlcGx5X3NsKDIwMCk7XG4gICAgICAgIGlmKHRyLnN0YXRlID09PSBDLlNUQVRVU19QUk9DRUVESU5HKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXF1ZXN0LnJlcGx5X3NsKDQ4MSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcblxuICAgICAgLy8gTm9uLUlOVklURSBTZXJ2ZXIgVHJhbnNhY3Rpb24gUkZDIDMyNjEgMTcuMi4yXG4gICAgICB0ciA9IHVhLnRyYW5zYWN0aW9ucy5uaXN0W3JlcXVlc3QudmlhX2JyYW5jaF07XG4gICAgICBpZih0cikge1xuICAgICAgICBzd2l0Y2godHIuc3RhdGUpIHtcbiAgICAgICAgICBjYXNlIEMuU1RBVFVTX1RSWUlORzpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQy5TVEFUVVNfUFJPQ0VFRElORzpcbiAgICAgICAgICBjYXNlIEMuU1RBVFVTX0NPTVBMRVRFRDpcbiAgICAgICAgICAgIHRyLnRyYW5zcG9ydC5zZW5kKHRyLmxhc3RfcmVzcG9uc2UpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxufTtcblxuU0lQLlRyYW5zYWN0aW9ucyA9IHtcbiAgQzogQyxcbiAgY2hlY2tUcmFuc2FjdGlvbjogY2hlY2tUcmFuc2FjdGlvbixcbiAgTm9uSW52aXRlQ2xpZW50VHJhbnNhY3Rpb246IE5vbkludml0ZUNsaWVudFRyYW5zYWN0aW9uLFxuICBJbnZpdGVDbGllbnRUcmFuc2FjdGlvbjogSW52aXRlQ2xpZW50VHJhbnNhY3Rpb24sXG4gIEFja0NsaWVudFRyYW5zYWN0aW9uOiBBY2tDbGllbnRUcmFuc2FjdGlvbixcbiAgTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb246IE5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uLFxuICBJbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbjogSW52aXRlU2VydmVyVHJhbnNhY3Rpb25cbn07XG5cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AdHdpbGlvL3NpcC5qcy9zcmMvVHJhbnNhY3Rpb25zLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///354\n");

/***/ }),
/* 355 */
/*!****************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/Dialogs.js ***!
  \****************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview SIP Dialog\n */\n\n/**\n * @augments SIP\n * @class Class creating a SIP dialog.\n * @param {SIP.RTCSession} owner\n * @param {SIP.IncomingRequest|SIP.IncomingResponse} message\n * @param {Enum} type UAC / UAS\n * @param {Enum} state SIP.Dialog.C.STATUS_EARLY / SIP.Dialog.C.STATUS_CONFIRMED\n */\nmodule.exports = function (SIP) {\n\nvar RequestSender = __webpack_require__(/*! ./Dialog/RequestSender */ 356)(SIP);\n\nvar Dialog,\n  C = {\n    // Dialog states\n    STATUS_EARLY:       1,\n    STATUS_CONFIRMED:   2\n  };\n\n// RFC 3261 12.1\nDialog = function(owner, message, type, state) {\n  var contact;\n\n  this.uac_pending_reply = false;\n  this.uas_pending_reply = false;\n\n  if(!message.hasHeader('contact')) {\n    return {\n      error: 'unable to create a Dialog without Contact header field'\n    };\n  }\n\n  if(message instanceof SIP.IncomingResponse) {\n    state = (message.status_code < 200) ? C.STATUS_EARLY : C.STATUS_CONFIRMED;\n  } else {\n    // Create confirmed dialog if state is not defined\n    state = state || C.STATUS_CONFIRMED;\n  }\n\n  contact = message.parseHeader('contact');\n\n  // RFC 3261 12.1.1\n  if(type === 'UAS') {\n    this.id = {\n      call_id: message.call_id,\n      local_tag: message.to_tag,\n      remote_tag: message.from_tag,\n      toString: function() {\n        return this.call_id + this.local_tag + this.remote_tag;\n      }\n    };\n    this.state = state;\n    this.remote_seqnum = message.cseq;\n    this.local_uri = message.parseHeader('to').uri;\n    this.remote_uri = message.parseHeader('from').uri;\n    this.remote_target = contact.uri;\n    this.route_set = message.getHeaders('record-route');\n    this.invite_seqnum = message.cseq;\n    this.local_seqnum = message.cseq;\n  }\n  // RFC 3261 12.1.2\n  else if(type === 'UAC') {\n    this.id = {\n      call_id: message.call_id,\n      local_tag: message.from_tag,\n      remote_tag: message.to_tag,\n      toString: function() {\n        return this.call_id + this.local_tag + this.remote_tag;\n      }\n    };\n    this.state = state;\n    this.invite_seqnum = message.cseq;\n    this.local_seqnum = message.cseq;\n    this.local_uri = message.parseHeader('from').uri;\n    this.pracked = [];\n    this.remote_uri = message.parseHeader('to').uri;\n    this.remote_target = contact.uri;\n    this.route_set = message.getHeaders('record-route').reverse();\n\n    //RENDERBODY\n    if (this.state === C.STATUS_EARLY && (!owner.hasOffer)) {\n      this.mediaHandler = owner.mediaHandlerFactory(owner);\n    }\n  }\n\n  this.logger = owner.ua.getLogger('sip.dialog', this.id.toString());\n  this.owner = owner;\n  owner.ua.dialogs[this.id.toString()] = this;\n  this.logger.log('new ' + type + ' dialog created with status ' + (this.state === C.STATUS_EARLY ? 'EARLY': 'CONFIRMED'));\n  owner.emit('dialog', this);\n};\n\nDialog.prototype = {\n  /**\n   * @param {SIP.IncomingMessage} message\n   * @param {Enum} UAC/UAS\n   */\n  update: function(message, type) {\n    this.state = C.STATUS_CONFIRMED;\n\n    this.logger.log('dialog '+ this.id.toString() +'  changed to CONFIRMED state');\n\n    if(type === 'UAC') {\n      // RFC 3261 13.2.2.4\n      this.route_set = message.getHeaders('record-route').reverse();\n    }\n  },\n\n  terminate: function() {\n    this.logger.log('dialog ' + this.id.toString() + ' deleted');\n    if (this.mediaHandler && this.state !== C.STATUS_CONFIRMED) {\n      this.mediaHandler.peerConnection.close();\n    }\n    delete this.owner.ua.dialogs[this.id.toString()];\n  },\n\n  /**\n  * @param {String} method request method\n  * @param {Object} extraHeaders extra headers\n  * @returns {SIP.OutgoingRequest}\n  */\n\n  // RFC 3261 12.2.1.1\n  createRequest: function(method, extraHeaders, body) {\n    var cseq, request;\n    extraHeaders = (extraHeaders || []).slice();\n\n    if(!this.local_seqnum) { this.local_seqnum = Math.floor(Math.random() * 10000); }\n\n    cseq = (method === SIP.C.CANCEL || method === SIP.C.ACK) ? this.invite_seqnum : this.local_seqnum += 1;\n\n    request = new SIP.OutgoingRequest(\n      method,\n      this.remote_target,\n      this.owner.ua, {\n        'cseq': cseq,\n        'call_id': this.id.call_id,\n        'from_uri': this.local_uri,\n        'from_tag': this.id.local_tag,\n        'to_uri': this.remote_uri,\n        'to_tag': this.id.remote_tag,\n        'route_set': this.route_set\n      }, extraHeaders, body);\n\n    request.dialog = this;\n\n    return request;\n  },\n\n  /**\n  * @param {SIP.IncomingRequest} request\n  * @returns {Boolean}\n  */\n\n  // RFC 3261 12.2.2\n  checkInDialogRequest: function(request) {\n    var self = this;\n\n    if(!this.remote_seqnum) {\n      this.remote_seqnum = request.cseq;\n    } else if(request.cseq < this.remote_seqnum) {\n        //Do not try to reply to an ACK request.\n        if (request.method !== SIP.C.ACK) {\n          request.reply(500);\n        }\n        if (request.cseq === this.invite_seqnum) {\n          return true;\n        }\n        return false;\n    } else if(request.cseq > this.remote_seqnum) {\n      this.remote_seqnum = request.cseq;\n    }\n\n    switch(request.method) {\n      // RFC3261 14.2 Modifying an Existing Session -UAS BEHAVIOR-\n      case SIP.C.INVITE:\n        if (this.uac_pending_reply === true) {\n          request.reply(491);\n        } else if (this.uas_pending_reply === true) {\n          var retryAfter = (Math.random() * 10 | 0) + 1;\n          request.reply(500, null, ['Retry-After:' + retryAfter]);\n          return false;\n        } else {\n          this.uas_pending_reply = true;\n          request.server_transaction.on('stateChanged', function stateChanged(){\n            if (this.state === SIP.Transactions.C.STATUS_ACCEPTED ||\n                this.state === SIP.Transactions.C.STATUS_COMPLETED ||\n                this.state === SIP.Transactions.C.STATUS_TERMINATED) {\n\n              this.removeListener('stateChanged', stateChanged);\n              self.uas_pending_reply = false;\n\n              if (self.uac_pending_reply === false) {\n                self.owner.onReadyToReinvite();\n              }\n            }\n          });\n        }\n\n        // RFC3261 12.2.2 Replace the dialog`s remote target URI if the request is accepted\n        if(request.hasHeader('contact')) {\n          request.server_transaction.on('stateChanged', function(){\n            if (this.state === SIP.Transactions.C.STATUS_ACCEPTED) {\n              self.remote_target = request.parseHeader('contact').uri;\n            }\n          });\n        }\n        break;\n      case SIP.C.NOTIFY:\n        // RFC6665 3.2 Replace the dialog`s remote target URI if the request is accepted\n        if(request.hasHeader('contact')) {\n          request.server_transaction.on('stateChanged', function(){\n            if (this.state === SIP.Transactions.C.STATUS_COMPLETED) {\n              self.remote_target = request.parseHeader('contact').uri;\n            }\n          });\n        }\n        break;\n    }\n\n    return true;\n  },\n\n  sendRequest: function(applicant, method, options) {\n    options = options || {};\n\n    var extraHeaders = (options.extraHeaders || []).slice();\n\n    var body = null;\n    if (options.body) {\n      if (options.body.body) {\n        body = options.body;\n      } else {\n        body = {};\n        body.body = options.body;\n        if (options.contentType) {\n          body.contentType = options.contentType;\n        }\n      }\n    }\n\n    var request = this.createRequest(method, extraHeaders, body),\n      request_sender = new RequestSender(this, applicant, request);\n\n    request_sender.send();\n\n    return request;\n  },\n\n  /**\n  * @param {SIP.IncomingRequest} request\n  */\n  receiveRequest: function(request) {\n    //Check in-dialog request\n    if(!this.checkInDialogRequest(request)) {\n      return;\n    }\n\n    this.owner.receiveRequest(request);\n  }\n};\n\nDialog.C = C;\nSIP.Dialog = Dialog;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL0RpYWxvZ3MuanM/MjA3ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsV0FBVyx5Q0FBeUM7QUFDcEQsV0FBVyxLQUFLO0FBQ2hCLFdBQVcsS0FBSztBQUNoQjtBQUNBOztBQUVBLG9CQUFvQixtQkFBTyxDQUFDLGlDQUF3Qjs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsb0JBQW9CO0FBQ2pDLGFBQWEsS0FBSztBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxZQUFZLE9BQU87QUFDbkIsWUFBWSxPQUFPO0FBQ25CLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0QkFBNEIsdURBQXVEOztBQUVuRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxZQUFZLG9CQUFvQjtBQUNoQyxjQUFjO0FBQ2Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLFlBQVksb0JBQW9CO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBIiwiZmlsZSI6IjM1NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFNJUCBEaWFsb2dcbiAqL1xuXG4vKipcbiAqIEBhdWdtZW50cyBTSVBcbiAqIEBjbGFzcyBDbGFzcyBjcmVhdGluZyBhIFNJUCBkaWFsb2cuXG4gKiBAcGFyYW0ge1NJUC5SVENTZXNzaW9ufSBvd25lclxuICogQHBhcmFtIHtTSVAuSW5jb21pbmdSZXF1ZXN0fFNJUC5JbmNvbWluZ1Jlc3BvbnNlfSBtZXNzYWdlXG4gKiBAcGFyYW0ge0VudW19IHR5cGUgVUFDIC8gVUFTXG4gKiBAcGFyYW0ge0VudW19IHN0YXRlIFNJUC5EaWFsb2cuQy5TVEFUVVNfRUFSTFkgLyBTSVAuRGlhbG9nLkMuU1RBVFVTX0NPTkZJUk1FRFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChTSVApIHtcblxudmFyIFJlcXVlc3RTZW5kZXIgPSByZXF1aXJlKCcuL0RpYWxvZy9SZXF1ZXN0U2VuZGVyJykoU0lQKTtcblxudmFyIERpYWxvZyxcbiAgQyA9IHtcbiAgICAvLyBEaWFsb2cgc3RhdGVzXG4gICAgU1RBVFVTX0VBUkxZOiAgICAgICAxLFxuICAgIFNUQVRVU19DT05GSVJNRUQ6ICAgMlxuICB9O1xuXG4vLyBSRkMgMzI2MSAxMi4xXG5EaWFsb2cgPSBmdW5jdGlvbihvd25lciwgbWVzc2FnZSwgdHlwZSwgc3RhdGUpIHtcbiAgdmFyIGNvbnRhY3Q7XG5cbiAgdGhpcy51YWNfcGVuZGluZ19yZXBseSA9IGZhbHNlO1xuICB0aGlzLnVhc19wZW5kaW5nX3JlcGx5ID0gZmFsc2U7XG5cbiAgaWYoIW1lc3NhZ2UuaGFzSGVhZGVyKCdjb250YWN0JykpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6ICd1bmFibGUgdG8gY3JlYXRlIGEgRGlhbG9nIHdpdGhvdXQgQ29udGFjdCBoZWFkZXIgZmllbGQnXG4gICAgfTtcbiAgfVxuXG4gIGlmKG1lc3NhZ2UgaW5zdGFuY2VvZiBTSVAuSW5jb21pbmdSZXNwb25zZSkge1xuICAgIHN0YXRlID0gKG1lc3NhZ2Uuc3RhdHVzX2NvZGUgPCAyMDApID8gQy5TVEFUVVNfRUFSTFkgOiBDLlNUQVRVU19DT05GSVJNRUQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ3JlYXRlIGNvbmZpcm1lZCBkaWFsb2cgaWYgc3RhdGUgaXMgbm90IGRlZmluZWRcbiAgICBzdGF0ZSA9IHN0YXRlIHx8IEMuU1RBVFVTX0NPTkZJUk1FRDtcbiAgfVxuXG4gIGNvbnRhY3QgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKCdjb250YWN0Jyk7XG5cbiAgLy8gUkZDIDMyNjEgMTIuMS4xXG4gIGlmKHR5cGUgPT09ICdVQVMnKSB7XG4gICAgdGhpcy5pZCA9IHtcbiAgICAgIGNhbGxfaWQ6IG1lc3NhZ2UuY2FsbF9pZCxcbiAgICAgIGxvY2FsX3RhZzogbWVzc2FnZS50b190YWcsXG4gICAgICByZW1vdGVfdGFnOiBtZXNzYWdlLmZyb21fdGFnLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsX2lkICsgdGhpcy5sb2NhbF90YWcgKyB0aGlzLnJlbW90ZV90YWc7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5yZW1vdGVfc2VxbnVtID0gbWVzc2FnZS5jc2VxO1xuICAgIHRoaXMubG9jYWxfdXJpID0gbWVzc2FnZS5wYXJzZUhlYWRlcigndG8nKS51cmk7XG4gICAgdGhpcy5yZW1vdGVfdXJpID0gbWVzc2FnZS5wYXJzZUhlYWRlcignZnJvbScpLnVyaTtcbiAgICB0aGlzLnJlbW90ZV90YXJnZXQgPSBjb250YWN0LnVyaTtcbiAgICB0aGlzLnJvdXRlX3NldCA9IG1lc3NhZ2UuZ2V0SGVhZGVycygncmVjb3JkLXJvdXRlJyk7XG4gICAgdGhpcy5pbnZpdGVfc2VxbnVtID0gbWVzc2FnZS5jc2VxO1xuICAgIHRoaXMubG9jYWxfc2VxbnVtID0gbWVzc2FnZS5jc2VxO1xuICB9XG4gIC8vIFJGQyAzMjYxIDEyLjEuMlxuICBlbHNlIGlmKHR5cGUgPT09ICdVQUMnKSB7XG4gICAgdGhpcy5pZCA9IHtcbiAgICAgIGNhbGxfaWQ6IG1lc3NhZ2UuY2FsbF9pZCxcbiAgICAgIGxvY2FsX3RhZzogbWVzc2FnZS5mcm9tX3RhZyxcbiAgICAgIHJlbW90ZV90YWc6IG1lc3NhZ2UudG9fdGFnLFxuICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsX2lkICsgdGhpcy5sb2NhbF90YWcgKyB0aGlzLnJlbW90ZV90YWc7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5pbnZpdGVfc2VxbnVtID0gbWVzc2FnZS5jc2VxO1xuICAgIHRoaXMubG9jYWxfc2VxbnVtID0gbWVzc2FnZS5jc2VxO1xuICAgIHRoaXMubG9jYWxfdXJpID0gbWVzc2FnZS5wYXJzZUhlYWRlcignZnJvbScpLnVyaTtcbiAgICB0aGlzLnByYWNrZWQgPSBbXTtcbiAgICB0aGlzLnJlbW90ZV91cmkgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKCd0bycpLnVyaTtcbiAgICB0aGlzLnJlbW90ZV90YXJnZXQgPSBjb250YWN0LnVyaTtcbiAgICB0aGlzLnJvdXRlX3NldCA9IG1lc3NhZ2UuZ2V0SGVhZGVycygncmVjb3JkLXJvdXRlJykucmV2ZXJzZSgpO1xuXG4gICAgLy9SRU5ERVJCT0RZXG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IEMuU1RBVFVTX0VBUkxZICYmICghb3duZXIuaGFzT2ZmZXIpKSB7XG4gICAgICB0aGlzLm1lZGlhSGFuZGxlciA9IG93bmVyLm1lZGlhSGFuZGxlckZhY3Rvcnkob3duZXIpO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMubG9nZ2VyID0gb3duZXIudWEuZ2V0TG9nZ2VyKCdzaXAuZGlhbG9nJywgdGhpcy5pZC50b1N0cmluZygpKTtcbiAgdGhpcy5vd25lciA9IG93bmVyO1xuICBvd25lci51YS5kaWFsb2dzW3RoaXMuaWQudG9TdHJpbmcoKV0gPSB0aGlzO1xuICB0aGlzLmxvZ2dlci5sb2coJ25ldyAnICsgdHlwZSArICcgZGlhbG9nIGNyZWF0ZWQgd2l0aCBzdGF0dXMgJyArICh0aGlzLnN0YXRlID09PSBDLlNUQVRVU19FQVJMWSA/ICdFQVJMWSc6ICdDT05GSVJNRUQnKSk7XG4gIG93bmVyLmVtaXQoJ2RpYWxvZycsIHRoaXMpO1xufTtcblxuRGlhbG9nLnByb3RvdHlwZSA9IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7U0lQLkluY29taW5nTWVzc2FnZX0gbWVzc2FnZVxuICAgKiBAcGFyYW0ge0VudW19IFVBQy9VQVNcbiAgICovXG4gIHVwZGF0ZTogZnVuY3Rpb24obWVzc2FnZSwgdHlwZSkge1xuICAgIHRoaXMuc3RhdGUgPSBDLlNUQVRVU19DT05GSVJNRUQ7XG5cbiAgICB0aGlzLmxvZ2dlci5sb2coJ2RpYWxvZyAnKyB0aGlzLmlkLnRvU3RyaW5nKCkgKycgIGNoYW5nZWQgdG8gQ09ORklSTUVEIHN0YXRlJyk7XG5cbiAgICBpZih0eXBlID09PSAnVUFDJykge1xuICAgICAgLy8gUkZDIDMyNjEgMTMuMi4yLjRcbiAgICAgIHRoaXMucm91dGVfc2V0ID0gbWVzc2FnZS5nZXRIZWFkZXJzKCdyZWNvcmQtcm91dGUnKS5yZXZlcnNlKCk7XG4gICAgfVxuICB9LFxuXG4gIHRlcm1pbmF0ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5sb2dnZXIubG9nKCdkaWFsb2cgJyArIHRoaXMuaWQudG9TdHJpbmcoKSArICcgZGVsZXRlZCcpO1xuICAgIGlmICh0aGlzLm1lZGlhSGFuZGxlciAmJiB0aGlzLnN0YXRlICE9PSBDLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgIHRoaXMubWVkaWFIYW5kbGVyLnBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgfVxuICAgIGRlbGV0ZSB0aGlzLm93bmVyLnVhLmRpYWxvZ3NbdGhpcy5pZC50b1N0cmluZygpXTtcbiAgfSxcblxuICAvKipcbiAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kIHJlcXVlc3QgbWV0aG9kXG4gICogQHBhcmFtIHtPYmplY3R9IGV4dHJhSGVhZGVycyBleHRyYSBoZWFkZXJzXG4gICogQHJldHVybnMge1NJUC5PdXRnb2luZ1JlcXVlc3R9XG4gICovXG5cbiAgLy8gUkZDIDMyNjEgMTIuMi4xLjFcbiAgY3JlYXRlUmVxdWVzdDogZnVuY3Rpb24obWV0aG9kLCBleHRyYUhlYWRlcnMsIGJvZHkpIHtcbiAgICB2YXIgY3NlcSwgcmVxdWVzdDtcbiAgICBleHRyYUhlYWRlcnMgPSAoZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuXG4gICAgaWYoIXRoaXMubG9jYWxfc2VxbnVtKSB7IHRoaXMubG9jYWxfc2VxbnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyB9XG5cbiAgICBjc2VxID0gKG1ldGhvZCA9PT0gU0lQLkMuQ0FOQ0VMIHx8IG1ldGhvZCA9PT0gU0lQLkMuQUNLKSA/IHRoaXMuaW52aXRlX3NlcW51bSA6IHRoaXMubG9jYWxfc2VxbnVtICs9IDE7XG5cbiAgICByZXF1ZXN0ID0gbmV3IFNJUC5PdXRnb2luZ1JlcXVlc3QoXG4gICAgICBtZXRob2QsXG4gICAgICB0aGlzLnJlbW90ZV90YXJnZXQsXG4gICAgICB0aGlzLm93bmVyLnVhLCB7XG4gICAgICAgICdjc2VxJzogY3NlcSxcbiAgICAgICAgJ2NhbGxfaWQnOiB0aGlzLmlkLmNhbGxfaWQsXG4gICAgICAgICdmcm9tX3VyaSc6IHRoaXMubG9jYWxfdXJpLFxuICAgICAgICAnZnJvbV90YWcnOiB0aGlzLmlkLmxvY2FsX3RhZyxcbiAgICAgICAgJ3RvX3VyaSc6IHRoaXMucmVtb3RlX3VyaSxcbiAgICAgICAgJ3RvX3RhZyc6IHRoaXMuaWQucmVtb3RlX3RhZyxcbiAgICAgICAgJ3JvdXRlX3NldCc6IHRoaXMucm91dGVfc2V0XG4gICAgICB9LCBleHRyYUhlYWRlcnMsIGJvZHkpO1xuXG4gICAgcmVxdWVzdC5kaWFsb2cgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHJlcXVlc3Q7XG4gIH0sXG5cbiAgLyoqXG4gICogQHBhcmFtIHtTSVAuSW5jb21pbmdSZXF1ZXN0fSByZXF1ZXN0XG4gICogQHJldHVybnMge0Jvb2xlYW59XG4gICovXG5cbiAgLy8gUkZDIDMyNjEgMTIuMi4yXG4gIGNoZWNrSW5EaWFsb2dSZXF1ZXN0OiBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgaWYoIXRoaXMucmVtb3RlX3NlcW51bSkge1xuICAgICAgdGhpcy5yZW1vdGVfc2VxbnVtID0gcmVxdWVzdC5jc2VxO1xuICAgIH0gZWxzZSBpZihyZXF1ZXN0LmNzZXEgPCB0aGlzLnJlbW90ZV9zZXFudW0pIHtcbiAgICAgICAgLy9EbyBub3QgdHJ5IHRvIHJlcGx5IHRvIGFuIEFDSyByZXF1ZXN0LlxuICAgICAgICBpZiAocmVxdWVzdC5tZXRob2QgIT09IFNJUC5DLkFDSykge1xuICAgICAgICAgIHJlcXVlc3QucmVwbHkoNTAwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxdWVzdC5jc2VxID09PSB0aGlzLmludml0ZV9zZXFudW0pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmKHJlcXVlc3QuY3NlcSA+IHRoaXMucmVtb3RlX3NlcW51bSkge1xuICAgICAgdGhpcy5yZW1vdGVfc2VxbnVtID0gcmVxdWVzdC5jc2VxO1xuICAgIH1cblxuICAgIHN3aXRjaChyZXF1ZXN0Lm1ldGhvZCkge1xuICAgICAgLy8gUkZDMzI2MSAxNC4yIE1vZGlmeWluZyBhbiBFeGlzdGluZyBTZXNzaW9uIC1VQVMgQkVIQVZJT1ItXG4gICAgICBjYXNlIFNJUC5DLklOVklURTpcbiAgICAgICAgaWYgKHRoaXMudWFjX3BlbmRpbmdfcmVwbHkgPT09IHRydWUpIHtcbiAgICAgICAgICByZXF1ZXN0LnJlcGx5KDQ5MSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy51YXNfcGVuZGluZ19yZXBseSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHZhciByZXRyeUFmdGVyID0gKE1hdGgucmFuZG9tKCkgKiAxMCB8IDApICsgMTtcbiAgICAgICAgICByZXF1ZXN0LnJlcGx5KDUwMCwgbnVsbCwgWydSZXRyeS1BZnRlcjonICsgcmV0cnlBZnRlcl0pO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnVhc19wZW5kaW5nX3JlcGx5ID0gdHJ1ZTtcbiAgICAgICAgICByZXF1ZXN0LnNlcnZlcl90cmFuc2FjdGlvbi5vbignc3RhdGVDaGFuZ2VkJywgZnVuY3Rpb24gc3RhdGVDaGFuZ2VkKCl7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU0lQLlRyYW5zYWN0aW9ucy5DLlNUQVRVU19BQ0NFUFRFRCB8fFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPT09IFNJUC5UcmFuc2FjdGlvbnMuQy5TVEFUVVNfQ09NUExFVEVEIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9PT0gU0lQLlRyYW5zYWN0aW9ucy5DLlNUQVRVU19URVJNSU5BVEVEKSB7XG5cbiAgICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcignc3RhdGVDaGFuZ2VkJywgc3RhdGVDaGFuZ2VkKTtcbiAgICAgICAgICAgICAgc2VsZi51YXNfcGVuZGluZ19yZXBseSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgIGlmIChzZWxmLnVhY19wZW5kaW5nX3JlcGx5ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHNlbGYub3duZXIub25SZWFkeVRvUmVpbnZpdGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUkZDMzI2MSAxMi4yLjIgUmVwbGFjZSB0aGUgZGlhbG9nYHMgcmVtb3RlIHRhcmdldCBVUkkgaWYgdGhlIHJlcXVlc3QgaXMgYWNjZXB0ZWRcbiAgICAgICAgaWYocmVxdWVzdC5oYXNIZWFkZXIoJ2NvbnRhY3QnKSkge1xuICAgICAgICAgIHJlcXVlc3Quc2VydmVyX3RyYW5zYWN0aW9uLm9uKCdzdGF0ZUNoYW5nZWQnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IFNJUC5UcmFuc2FjdGlvbnMuQy5TVEFUVVNfQUNDRVBURUQpIHtcbiAgICAgICAgICAgICAgc2VsZi5yZW1vdGVfdGFyZ2V0ID0gcmVxdWVzdC5wYXJzZUhlYWRlcignY29udGFjdCcpLnVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU0lQLkMuTk9USUZZOlxuICAgICAgICAvLyBSRkM2NjY1IDMuMiBSZXBsYWNlIHRoZSBkaWFsb2dgcyByZW1vdGUgdGFyZ2V0IFVSSSBpZiB0aGUgcmVxdWVzdCBpcyBhY2NlcHRlZFxuICAgICAgICBpZihyZXF1ZXN0Lmhhc0hlYWRlcignY29udGFjdCcpKSB7XG4gICAgICAgICAgcmVxdWVzdC5zZXJ2ZXJfdHJhbnNhY3Rpb24ub24oJ3N0YXRlQ2hhbmdlZCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU0lQLlRyYW5zYWN0aW9ucy5DLlNUQVRVU19DT01QTEVURUQpIHtcbiAgICAgICAgICAgICAgc2VsZi5yZW1vdGVfdGFyZ2V0ID0gcmVxdWVzdC5wYXJzZUhlYWRlcignY29udGFjdCcpLnVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICBzZW5kUmVxdWVzdDogZnVuY3Rpb24oYXBwbGljYW50LCBtZXRob2QsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIHZhciBleHRyYUhlYWRlcnMgPSAob3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCk7XG5cbiAgICB2YXIgYm9keSA9IG51bGw7XG4gICAgaWYgKG9wdGlvbnMuYm9keSkge1xuICAgICAgaWYgKG9wdGlvbnMuYm9keS5ib2R5KSB7XG4gICAgICAgIGJvZHkgPSBvcHRpb25zLmJvZHk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBib2R5ID0ge307XG4gICAgICAgIGJvZHkuYm9keSA9IG9wdGlvbnMuYm9keTtcbiAgICAgICAgaWYgKG9wdGlvbnMuY29udGVudFR5cGUpIHtcbiAgICAgICAgICBib2R5LmNvbnRlbnRUeXBlID0gb3B0aW9ucy5jb250ZW50VHlwZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gdGhpcy5jcmVhdGVSZXF1ZXN0KG1ldGhvZCwgZXh0cmFIZWFkZXJzLCBib2R5KSxcbiAgICAgIHJlcXVlc3Rfc2VuZGVyID0gbmV3IFJlcXVlc3RTZW5kZXIodGhpcywgYXBwbGljYW50LCByZXF1ZXN0KTtcblxuICAgIHJlcXVlc3Rfc2VuZGVyLnNlbmQoKTtcblxuICAgIHJldHVybiByZXF1ZXN0O1xuICB9LFxuXG4gIC8qKlxuICAqIEBwYXJhbSB7U0lQLkluY29taW5nUmVxdWVzdH0gcmVxdWVzdFxuICAqL1xuICByZWNlaXZlUmVxdWVzdDogZnVuY3Rpb24ocmVxdWVzdCkge1xuICAgIC8vQ2hlY2sgaW4tZGlhbG9nIHJlcXVlc3RcbiAgICBpZighdGhpcy5jaGVja0luRGlhbG9nUmVxdWVzdChyZXF1ZXN0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMub3duZXIucmVjZWl2ZVJlcXVlc3QocmVxdWVzdCk7XG4gIH1cbn07XG5cbkRpYWxvZy5DID0gQztcblNJUC5EaWFsb2cgPSBEaWFsb2c7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL0RpYWxvZ3MuanNcbi8vIG1vZHVsZSBpZCA9IDM1NVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///355\n");

/***/ }),
/* 356 */
/*!*****************************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/Dialog/RequestSender.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * @fileoverview In-Dialog Request Sender\n */\n\n/**\n * @augments SIP.Dialog\n * @class Class creating an In-dialog request sender.\n * @param {SIP.Dialog} dialog\n * @param {Object} applicant\n * @param {SIP.OutgoingRequest} request\n */\n/**\n * @fileoverview in-Dialog Request Sender\n */\n\nmodule.exports = function (SIP) {\nvar RequestSender;\n\nRequestSender = function(dialog, applicant, request) {\n\n  this.dialog = dialog;\n  this.applicant = applicant;\n  this.request = request;\n\n  // RFC3261 14.1 Modifying an Existing Session. UAC Behavior.\n  this.reattempt = false;\n  this.reattemptTimer = null;\n};\n\nRequestSender.prototype = {\n  send: function() {\n    var self = this,\n      request_sender = new SIP.RequestSender(this, this.dialog.owner.ua);\n\n      request_sender.send();\n\n    // RFC3261 14.2 Modifying an Existing Session -UAC BEHAVIOR-\n    if (this.request.method === SIP.C.INVITE && request_sender.clientTransaction.state !== SIP.Transactions.C.STATUS_TERMINATED) {\n      this.dialog.uac_pending_reply = true;\n      request_sender.clientTransaction.on('stateChanged', function stateChanged(){\n        if (this.state === SIP.Transactions.C.STATUS_ACCEPTED ||\n            this.state === SIP.Transactions.C.STATUS_COMPLETED ||\n            this.state === SIP.Transactions.C.STATUS_TERMINATED) {\n\n          this.removeListener('stateChanged', stateChanged);\n          self.dialog.uac_pending_reply = false;\n\n          if (self.dialog.uas_pending_reply === false) {\n            self.dialog.owner.onReadyToReinvite();\n          }\n        }\n      });\n    }\n  },\n\n  onRequestTimeout: function() {\n    this.applicant.onRequestTimeout();\n  },\n\n  onTransportError: function() {\n    this.applicant.onTransportError();\n  },\n\n  receiveResponse: function(response) {\n    var self = this;\n\n    // RFC3261 12.2.1.2 408 or 481 is received for a request within a dialog.\n    if (response.status_code === 408 || response.status_code === 481) {\n      this.applicant.onDialogError(response);\n    } else if (response.method === SIP.C.INVITE && response.status_code === 491) {\n      if (this.reattempt) {\n        this.applicant.receiveResponse(response);\n      } else {\n        this.request.cseq.value = this.dialog.local_seqnum += 1;\n        this.reattemptTimer = SIP.Timers.setTimeout(\n          function() {\n            if (self.applicant.owner.status !== SIP.Session.C.STATUS_TERMINATED) {\n              self.reattempt = true;\n              self.request_sender.send();\n            }\n          },\n          this.getReattemptTimeout()\n        );\n      }\n    } else {\n      this.applicant.receiveResponse(response);\n    }\n  }\n};\n\nreturn RequestSender;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL0RpYWxvZy9SZXF1ZXN0U2VuZGVyLmpzPzI5MzciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLE9BQU87QUFDbEIsV0FBVyxvQkFBb0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsImZpbGUiOiIzNTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEluLURpYWxvZyBSZXF1ZXN0IFNlbmRlclxuICovXG5cbi8qKlxuICogQGF1Z21lbnRzIFNJUC5EaWFsb2dcbiAqIEBjbGFzcyBDbGFzcyBjcmVhdGluZyBhbiBJbi1kaWFsb2cgcmVxdWVzdCBzZW5kZXIuXG4gKiBAcGFyYW0ge1NJUC5EaWFsb2d9IGRpYWxvZ1xuICogQHBhcmFtIHtPYmplY3R9IGFwcGxpY2FudFxuICogQHBhcmFtIHtTSVAuT3V0Z29pbmdSZXF1ZXN0fSByZXF1ZXN0XG4gKi9cbi8qKlxuICogQGZpbGVvdmVydmlldyBpbi1EaWFsb2cgUmVxdWVzdCBTZW5kZXJcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChTSVApIHtcbnZhciBSZXF1ZXN0U2VuZGVyO1xuXG5SZXF1ZXN0U2VuZGVyID0gZnVuY3Rpb24oZGlhbG9nLCBhcHBsaWNhbnQsIHJlcXVlc3QpIHtcblxuICB0aGlzLmRpYWxvZyA9IGRpYWxvZztcbiAgdGhpcy5hcHBsaWNhbnQgPSBhcHBsaWNhbnQ7XG4gIHRoaXMucmVxdWVzdCA9IHJlcXVlc3Q7XG5cbiAgLy8gUkZDMzI2MSAxNC4xIE1vZGlmeWluZyBhbiBFeGlzdGluZyBTZXNzaW9uLiBVQUMgQmVoYXZpb3IuXG4gIHRoaXMucmVhdHRlbXB0ID0gZmFsc2U7XG4gIHRoaXMucmVhdHRlbXB0VGltZXIgPSBudWxsO1xufTtcblxuUmVxdWVzdFNlbmRlci5wcm90b3R5cGUgPSB7XG4gIHNlbmQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIHJlcXVlc3Rfc2VuZGVyID0gbmV3IFNJUC5SZXF1ZXN0U2VuZGVyKHRoaXMsIHRoaXMuZGlhbG9nLm93bmVyLnVhKTtcblxuICAgICAgcmVxdWVzdF9zZW5kZXIuc2VuZCgpO1xuXG4gICAgLy8gUkZDMzI2MSAxNC4yIE1vZGlmeWluZyBhbiBFeGlzdGluZyBTZXNzaW9uIC1VQUMgQkVIQVZJT1ItXG4gICAgaWYgKHRoaXMucmVxdWVzdC5tZXRob2QgPT09IFNJUC5DLklOVklURSAmJiByZXF1ZXN0X3NlbmRlci5jbGllbnRUcmFuc2FjdGlvbi5zdGF0ZSAhPT0gU0lQLlRyYW5zYWN0aW9ucy5DLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICB0aGlzLmRpYWxvZy51YWNfcGVuZGluZ19yZXBseSA9IHRydWU7XG4gICAgICByZXF1ZXN0X3NlbmRlci5jbGllbnRUcmFuc2FjdGlvbi5vbignc3RhdGVDaGFuZ2VkJywgZnVuY3Rpb24gc3RhdGVDaGFuZ2VkKCl7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBTSVAuVHJhbnNhY3Rpb25zLkMuU1RBVFVTX0FDQ0VQVEVEIHx8XG4gICAgICAgICAgICB0aGlzLnN0YXRlID09PSBTSVAuVHJhbnNhY3Rpb25zLkMuU1RBVFVTX0NPTVBMRVRFRCB8fFxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9PT0gU0lQLlRyYW5zYWN0aW9ucy5DLlNUQVRVU19URVJNSU5BVEVEKSB7XG5cbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdzdGF0ZUNoYW5nZWQnLCBzdGF0ZUNoYW5nZWQpO1xuICAgICAgICAgIHNlbGYuZGlhbG9nLnVhY19wZW5kaW5nX3JlcGx5ID0gZmFsc2U7XG5cbiAgICAgICAgICBpZiAoc2VsZi5kaWFsb2cudWFzX3BlbmRpbmdfcmVwbHkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBzZWxmLmRpYWxvZy5vd25lci5vblJlYWR5VG9SZWludml0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIG9uUmVxdWVzdFRpbWVvdXQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuYXBwbGljYW50Lm9uUmVxdWVzdFRpbWVvdXQoKTtcbiAgfSxcblxuICBvblRyYW5zcG9ydEVycm9yOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmFwcGxpY2FudC5vblRyYW5zcG9ydEVycm9yKCk7XG4gIH0sXG5cbiAgcmVjZWl2ZVJlc3BvbnNlOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIFJGQzMyNjEgMTIuMi4xLjIgNDA4IG9yIDQ4MSBpcyByZWNlaXZlZCBmb3IgYSByZXF1ZXN0IHdpdGhpbiBhIGRpYWxvZy5cbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzX2NvZGUgPT09IDQwOCB8fCByZXNwb25zZS5zdGF0dXNfY29kZSA9PT0gNDgxKSB7XG4gICAgICB0aGlzLmFwcGxpY2FudC5vbkRpYWxvZ0Vycm9yKHJlc3BvbnNlKTtcbiAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLm1ldGhvZCA9PT0gU0lQLkMuSU5WSVRFICYmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09PSA0OTEpIHtcbiAgICAgIGlmICh0aGlzLnJlYXR0ZW1wdCkge1xuICAgICAgICB0aGlzLmFwcGxpY2FudC5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0LmNzZXEudmFsdWUgPSB0aGlzLmRpYWxvZy5sb2NhbF9zZXFudW0gKz0gMTtcbiAgICAgICAgdGhpcy5yZWF0dGVtcHRUaW1lciA9IFNJUC5UaW1lcnMuc2V0VGltZW91dChcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLmFwcGxpY2FudC5vd25lci5zdGF0dXMgIT09IFNJUC5TZXNzaW9uLkMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgICAgc2VsZi5yZWF0dGVtcHQgPSB0cnVlO1xuICAgICAgICAgICAgICBzZWxmLnJlcXVlc3Rfc2VuZGVyLnNlbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHRoaXMuZ2V0UmVhdHRlbXB0VGltZW91dCgpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXBwbGljYW50LnJlY2VpdmVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgfVxuICB9XG59O1xuXG5yZXR1cm4gUmVxdWVzdFNlbmRlcjtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AdHdpbGlvL3NpcC5qcy9zcmMvRGlhbG9nL1JlcXVlc3RTZW5kZXIuanNcbi8vIG1vZHVsZSBpZCA9IDM1NlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///356\n");

/***/ }),
/* 357 */
/*!**********************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/RequestSender.js ***!
  \**********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * @fileoverview Request Sender\n */\n\n/**\n * @augments SIP\n * @class Class creating a request sender.\n * @param {Object} applicant\n * @param {SIP.UA} ua\n */\nmodule.exports = function (SIP) {\nvar RequestSender;\n\nRequestSender = function(applicant, ua) {\n  this.logger = ua.getLogger('sip.requestsender');\n  this.ua = ua;\n  this.applicant = applicant;\n  this.method = applicant.request.method;\n  this.request = applicant.request;\n  this.credentials = null;\n  this.challenged = false;\n  this.staled = false;\n\n  // If ua is in closing process or even closed just allow sending Bye and ACK\n  if (ua.status === SIP.UA.C.STATUS_USER_CLOSED && (this.method !== SIP.C.BYE || this.method !== SIP.C.ACK)) {\n    this.onTransportError();\n  }\n};\n\n/**\n* Create the client transaction and send the message.\n*/\nRequestSender.prototype = {\n  send: function() {\n    switch(this.method) {\n      case \"INVITE\":\n        this.clientTransaction = new SIP.Transactions.InviteClientTransaction(this, this.request, this.ua.transport);\n        break;\n      case \"ACK\":\n        this.clientTransaction = new SIP.Transactions.AckClientTransaction(this, this.request, this.ua.transport);\n        break;\n      default:\n        this.clientTransaction = new SIP.Transactions.NonInviteClientTransaction(this, this.request, this.ua.transport);\n    }\n    this.clientTransaction.send();\n\n    return this.clientTransaction;\n  },\n\n  /**\n  * Callback fired when receiving a request timeout error from the client transaction.\n  * To be re-defined by the applicant.\n  * @event\n  */\n  onRequestTimeout: function() {\n    this.applicant.onRequestTimeout();\n  },\n\n  /**\n  * Callback fired when receiving a transport error from the client transaction.\n  * To be re-defined by the applicant.\n  * @event\n  */\n  onTransportError: function() {\n    this.applicant.onTransportError();\n  },\n\n  /**\n  * Called from client transaction when receiving a correct response to the request.\n  * Authenticate request if needed or pass the response back to the applicant.\n  * @param {SIP.IncomingResponse} response\n  */\n  receiveResponse: function(response) {\n    var cseq, challenge, authorization_header_name,\n      status_code = response.status_code;\n\n    /*\n    * Authentication\n    * Authenticate once. _challenged_ flag used to avoid infinite authentications.\n    */\n    if (status_code === 401 || status_code === 407) {\n\n      // Get and parse the appropriate WWW-Authenticate or Proxy-Authenticate header.\n      if (response.status_code === 401) {\n        challenge = response.parseHeader('www-authenticate');\n        authorization_header_name = 'authorization';\n      } else {\n        challenge = response.parseHeader('proxy-authenticate');\n        authorization_header_name = 'proxy-authorization';\n      }\n\n      // Verify it seems a valid challenge.\n      if (! challenge) {\n        this.logger.warn(response.status_code + ' with wrong or missing challenge, cannot authenticate');\n        this.applicant.receiveResponse(response);\n        return;\n      }\n\n      if (!this.challenged || (!this.staled && challenge.stale === true)) {\n        if (!this.credentials) {\n          this.credentials = this.ua.configuration.authenticationFactory(this.ua);\n        }\n\n        // Verify that the challenge is really valid.\n        if (!this.credentials.authenticate(this.request, challenge)) {\n          this.applicant.receiveResponse(response);\n          return;\n        }\n        this.challenged = true;\n\n        if (challenge.stale) {\n          this.staled = true;\n        }\n\n        if (response.method === SIP.C.REGISTER) {\n          cseq = this.applicant.cseq += 1;\n        } else if (this.request.dialog){\n          cseq = this.request.dialog.local_seqnum += 1;\n        } else {\n          cseq = this.request.cseq + 1;\n          this.request.cseq = cseq;\n        }\n        this.request.setHeader('cseq', cseq +' '+ this.method);\n\n        this.request.setHeader(authorization_header_name, this.credentials.toString());\n        this.send();\n      } else {\n        this.applicant.receiveResponse(response);\n      }\n    } else {\n      this.applicant.receiveResponse(response);\n    }\n  }\n};\n\nSIP.RequestSender = RequestSender;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1JlcXVlc3RTZW5kZXIuanM/Mjg3NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxQkFBcUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsImZpbGUiOiIzNTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFJlcXVlc3QgU2VuZGVyXG4gKi9cblxuLyoqXG4gKiBAYXVnbWVudHMgU0lQXG4gKiBAY2xhc3MgQ2xhc3MgY3JlYXRpbmcgYSByZXF1ZXN0IHNlbmRlci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBhcHBsaWNhbnRcbiAqIEBwYXJhbSB7U0lQLlVBfSB1YVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChTSVApIHtcbnZhciBSZXF1ZXN0U2VuZGVyO1xuXG5SZXF1ZXN0U2VuZGVyID0gZnVuY3Rpb24oYXBwbGljYW50LCB1YSkge1xuICB0aGlzLmxvZ2dlciA9IHVhLmdldExvZ2dlcignc2lwLnJlcXVlc3RzZW5kZXInKTtcbiAgdGhpcy51YSA9IHVhO1xuICB0aGlzLmFwcGxpY2FudCA9IGFwcGxpY2FudDtcbiAgdGhpcy5tZXRob2QgPSBhcHBsaWNhbnQucmVxdWVzdC5tZXRob2Q7XG4gIHRoaXMucmVxdWVzdCA9IGFwcGxpY2FudC5yZXF1ZXN0O1xuICB0aGlzLmNyZWRlbnRpYWxzID0gbnVsbDtcbiAgdGhpcy5jaGFsbGVuZ2VkID0gZmFsc2U7XG4gIHRoaXMuc3RhbGVkID0gZmFsc2U7XG5cbiAgLy8gSWYgdWEgaXMgaW4gY2xvc2luZyBwcm9jZXNzIG9yIGV2ZW4gY2xvc2VkIGp1c3QgYWxsb3cgc2VuZGluZyBCeWUgYW5kIEFDS1xuICBpZiAodWEuc3RhdHVzID09PSBTSVAuVUEuQy5TVEFUVVNfVVNFUl9DTE9TRUQgJiYgKHRoaXMubWV0aG9kICE9PSBTSVAuQy5CWUUgfHwgdGhpcy5tZXRob2QgIT09IFNJUC5DLkFDSykpIHtcbiAgICB0aGlzLm9uVHJhbnNwb3J0RXJyb3IoKTtcbiAgfVxufTtcblxuLyoqXG4qIENyZWF0ZSB0aGUgY2xpZW50IHRyYW5zYWN0aW9uIGFuZCBzZW5kIHRoZSBtZXNzYWdlLlxuKi9cblJlcXVlc3RTZW5kZXIucHJvdG90eXBlID0ge1xuICBzZW5kOiBmdW5jdGlvbigpIHtcbiAgICBzd2l0Y2godGhpcy5tZXRob2QpIHtcbiAgICAgIGNhc2UgXCJJTlZJVEVcIjpcbiAgICAgICAgdGhpcy5jbGllbnRUcmFuc2FjdGlvbiA9IG5ldyBTSVAuVHJhbnNhY3Rpb25zLkludml0ZUNsaWVudFRyYW5zYWN0aW9uKHRoaXMsIHRoaXMucmVxdWVzdCwgdGhpcy51YS50cmFuc3BvcnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJBQ0tcIjpcbiAgICAgICAgdGhpcy5jbGllbnRUcmFuc2FjdGlvbiA9IG5ldyBTSVAuVHJhbnNhY3Rpb25zLkFja0NsaWVudFRyYW5zYWN0aW9uKHRoaXMsIHRoaXMucmVxdWVzdCwgdGhpcy51YS50cmFuc3BvcnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMuY2xpZW50VHJhbnNhY3Rpb24gPSBuZXcgU0lQLlRyYW5zYWN0aW9ucy5Ob25JbnZpdGVDbGllbnRUcmFuc2FjdGlvbih0aGlzLCB0aGlzLnJlcXVlc3QsIHRoaXMudWEudHJhbnNwb3J0KTtcbiAgICB9XG4gICAgdGhpcy5jbGllbnRUcmFuc2FjdGlvbi5zZW5kKCk7XG5cbiAgICByZXR1cm4gdGhpcy5jbGllbnRUcmFuc2FjdGlvbjtcbiAgfSxcblxuICAvKipcbiAgKiBDYWxsYmFjayBmaXJlZCB3aGVuIHJlY2VpdmluZyBhIHJlcXVlc3QgdGltZW91dCBlcnJvciBmcm9tIHRoZSBjbGllbnQgdHJhbnNhY3Rpb24uXG4gICogVG8gYmUgcmUtZGVmaW5lZCBieSB0aGUgYXBwbGljYW50LlxuICAqIEBldmVudFxuICAqL1xuICBvblJlcXVlc3RUaW1lb3V0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmFwcGxpY2FudC5vblJlcXVlc3RUaW1lb3V0KCk7XG4gIH0sXG5cbiAgLyoqXG4gICogQ2FsbGJhY2sgZmlyZWQgd2hlbiByZWNlaXZpbmcgYSB0cmFuc3BvcnQgZXJyb3IgZnJvbSB0aGUgY2xpZW50IHRyYW5zYWN0aW9uLlxuICAqIFRvIGJlIHJlLWRlZmluZWQgYnkgdGhlIGFwcGxpY2FudC5cbiAgKiBAZXZlbnRcbiAgKi9cbiAgb25UcmFuc3BvcnRFcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5hcHBsaWNhbnQub25UcmFuc3BvcnRFcnJvcigpO1xuICB9LFxuXG4gIC8qKlxuICAqIENhbGxlZCBmcm9tIGNsaWVudCB0cmFuc2FjdGlvbiB3aGVuIHJlY2VpdmluZyBhIGNvcnJlY3QgcmVzcG9uc2UgdG8gdGhlIHJlcXVlc3QuXG4gICogQXV0aGVudGljYXRlIHJlcXVlc3QgaWYgbmVlZGVkIG9yIHBhc3MgdGhlIHJlc3BvbnNlIGJhY2sgdG8gdGhlIGFwcGxpY2FudC5cbiAgKiBAcGFyYW0ge1NJUC5JbmNvbWluZ1Jlc3BvbnNlfSByZXNwb25zZVxuICAqL1xuICByZWNlaXZlUmVzcG9uc2U6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgdmFyIGNzZXEsIGNoYWxsZW5nZSwgYXV0aG9yaXphdGlvbl9oZWFkZXJfbmFtZSxcbiAgICAgIHN0YXR1c19jb2RlID0gcmVzcG9uc2Uuc3RhdHVzX2NvZGU7XG5cbiAgICAvKlxuICAgICogQXV0aGVudGljYXRpb25cbiAgICAqIEF1dGhlbnRpY2F0ZSBvbmNlLiBfY2hhbGxlbmdlZF8gZmxhZyB1c2VkIHRvIGF2b2lkIGluZmluaXRlIGF1dGhlbnRpY2F0aW9ucy5cbiAgICAqL1xuICAgIGlmIChzdGF0dXNfY29kZSA9PT0gNDAxIHx8IHN0YXR1c19jb2RlID09PSA0MDcpIHtcblxuICAgICAgLy8gR2V0IGFuZCBwYXJzZSB0aGUgYXBwcm9wcmlhdGUgV1dXLUF1dGhlbnRpY2F0ZSBvciBQcm94eS1BdXRoZW50aWNhdGUgaGVhZGVyLlxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1c19jb2RlID09PSA0MDEpIHtcbiAgICAgICAgY2hhbGxlbmdlID0gcmVzcG9uc2UucGFyc2VIZWFkZXIoJ3d3dy1hdXRoZW50aWNhdGUnKTtcbiAgICAgICAgYXV0aG9yaXphdGlvbl9oZWFkZXJfbmFtZSA9ICdhdXRob3JpemF0aW9uJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoYWxsZW5nZSA9IHJlc3BvbnNlLnBhcnNlSGVhZGVyKCdwcm94eS1hdXRoZW50aWNhdGUnKTtcbiAgICAgICAgYXV0aG9yaXphdGlvbl9oZWFkZXJfbmFtZSA9ICdwcm94eS1hdXRob3JpemF0aW9uJztcbiAgICAgIH1cblxuICAgICAgLy8gVmVyaWZ5IGl0IHNlZW1zIGEgdmFsaWQgY2hhbGxlbmdlLlxuICAgICAgaWYgKCEgY2hhbGxlbmdlKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLndhcm4ocmVzcG9uc2Uuc3RhdHVzX2NvZGUgKyAnIHdpdGggd3Jvbmcgb3IgbWlzc2luZyBjaGFsbGVuZ2UsIGNhbm5vdCBhdXRoZW50aWNhdGUnKTtcbiAgICAgICAgdGhpcy5hcHBsaWNhbnQucmVjZWl2ZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuY2hhbGxlbmdlZCB8fCAoIXRoaXMuc3RhbGVkICYmIGNoYWxsZW5nZS5zdGFsZSA9PT0gdHJ1ZSkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgdGhpcy5jcmVkZW50aWFscyA9IHRoaXMudWEuY29uZmlndXJhdGlvbi5hdXRoZW50aWNhdGlvbkZhY3RvcnkodGhpcy51YSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWZXJpZnkgdGhhdCB0aGUgY2hhbGxlbmdlIGlzIHJlYWxseSB2YWxpZC5cbiAgICAgICAgaWYgKCF0aGlzLmNyZWRlbnRpYWxzLmF1dGhlbnRpY2F0ZSh0aGlzLnJlcXVlc3QsIGNoYWxsZW5nZSkpIHtcbiAgICAgICAgICB0aGlzLmFwcGxpY2FudC5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYWxsZW5nZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmIChjaGFsbGVuZ2Uuc3RhbGUpIHtcbiAgICAgICAgICB0aGlzLnN0YWxlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzcG9uc2UubWV0aG9kID09PSBTSVAuQy5SRUdJU1RFUikge1xuICAgICAgICAgIGNzZXEgPSB0aGlzLmFwcGxpY2FudC5jc2VxICs9IDE7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXF1ZXN0LmRpYWxvZyl7XG4gICAgICAgICAgY3NlcSA9IHRoaXMucmVxdWVzdC5kaWFsb2cubG9jYWxfc2VxbnVtICs9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3NlcSA9IHRoaXMucmVxdWVzdC5jc2VxICsgMTtcbiAgICAgICAgICB0aGlzLnJlcXVlc3QuY3NlcSA9IGNzZXE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXF1ZXN0LnNldEhlYWRlcignY3NlcScsIGNzZXEgKycgJysgdGhpcy5tZXRob2QpO1xuXG4gICAgICAgIHRoaXMucmVxdWVzdC5zZXRIZWFkZXIoYXV0aG9yaXphdGlvbl9oZWFkZXJfbmFtZSwgdGhpcy5jcmVkZW50aWFscy50b1N0cmluZygpKTtcbiAgICAgICAgdGhpcy5zZW5kKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFwcGxpY2FudC5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFwcGxpY2FudC5yZWNlaXZlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIH1cbiAgfVxufTtcblxuU0lQLlJlcXVlc3RTZW5kZXIgPSBSZXF1ZXN0U2VuZGVyO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0B0d2lsaW8vc2lwLmpzL3NyYy9SZXF1ZXN0U2VuZGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTdcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///357\n");

/***/ }),
/* 358 */
/*!************************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/RegisterContext.js ***!
  \************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nmodule.exports = function (SIP) {\n\nvar RegisterContext;\n\nRegisterContext = function (ua) {\n  var params = {},\n      regId = 1;\n\n  this.registrar = ua.configuration.registrarServer;\n  this.expires = ua.configuration.registerExpires;\n\n\n  // Contact header\n  this.contact = ua.contact.toString();\n\n  if(regId) {\n    this.contact += ';reg-id='+ regId;\n    this.contact += ';+sip.instance=\"<urn:uuid:'+ ua.configuration.instanceId+'>\"';\n  }\n\n  // Call-ID and CSeq values RFC3261 10.2\n  this.call_id = SIP.Utils.createRandomToken(22);\n  this.cseq = 80;\n\n  this.to_uri = ua.configuration.uri;\n\n  params.to_uri = this.to_uri;\n  params.to_displayName = ua.configuration.displayName;\n  params.call_id = this.call_id;\n  params.cseq = this.cseq;\n\n  // Extends ClientContext\n  SIP.Utils.augment(this, SIP.ClientContext, [ua, 'REGISTER', this.registrar, {params: params}]);\n\n  this.registrationTimer = null;\n  this.registrationExpiredTimer = null;\n\n  // Set status\n  this.registered = false;\n\n  this.logger = ua.getLogger('sip.registercontext');\n};\n\nRegisterContext.prototype = {\n  register: function (options) {\n    var self = this, extraHeaders;\n\n    // Handle Options\n    this.options = options || {};\n    extraHeaders = (this.options.extraHeaders || []).slice();\n    extraHeaders.push('Contact: ' + this.contact + ';expires=' + this.expires);\n    extraHeaders.push('Allow: ' + SIP.UA.C.ALLOWED_METHODS.toString());\n\n    // Save original extraHeaders to be used in .close\n    this.closeHeaders = this.options.closeWithHeaders ?\n      (this.options.extraHeaders || []).slice() : [];\n\n    this.receiveResponse = function(response) {\n      var contact, expires,\n        contacts = response.getHeaders('contact').length,\n        cause;\n\n      // Discard responses to older REGISTER/un-REGISTER requests.\n      if(response.cseq !== this.cseq) {\n        return;\n      }\n\n      // Clear registration timer\n      if (this.registrationTimer !== null) {\n        SIP.Timers.clearTimeout(this.registrationTimer);\n        this.registrationTimer = null;\n      }\n\n      switch(true) {\n        case /^1[0-9]{2}$/.test(response.status_code):\n          this.emit('progress', response);\n          break;\n        case /^2[0-9]{2}$/.test(response.status_code):\n          this.emit('accepted', response);\n\n          if(response.hasHeader('expires')) {\n            expires = response.getHeader('expires');\n          }\n\n          if (this.registrationExpiredTimer !== null) {\n            SIP.Timers.clearTimeout(this.registrationExpiredTimer);\n            this.registrationExpiredTimer = null;\n          }\n\n          // Search the Contact pointing to us and update the expires value accordingly.\n          if (!contacts) {\n            this.logger.warn('no Contact header in response to REGISTER, response ignored');\n            break;\n          }\n\n          while(contacts--) {\n            contact = response.parseHeader('contact', contacts);\n            if(contact.uri.user === this.ua.contact.uri.user) {\n              expires = contact.getParam('expires');\n              break;\n            } else {\n              contact = null;\n            }\n          }\n\n          if (!contact) {\n            this.logger.warn('no Contact header pointing to us, response ignored');\n            break;\n          }\n\n          if(!expires) {\n            expires = this.expires;\n          }\n\n          // Re-Register before the expiration interval has elapsed.\n          // For that, decrease the expires value. ie: 3 seconds\n          this.registrationTimer = SIP.Timers.setTimeout(function() {\n            self.registrationTimer = null;\n            self.register(self.options);\n          }, (expires * 1000) - 3000);\n          this.registrationExpiredTimer = SIP.Timers.setTimeout(function () {\n            self.logger.warn('registration expired');\n            if (self.registered) {\n              self.unregistered(null, SIP.C.causes.EXPIRES);\n            }\n          }, expires * 1000);\n\n          //Save gruu values\n          if (contact.hasParam('temp-gruu')) {\n            this.ua.contact.temp_gruu = SIP.URI.parse(contact.getParam('temp-gruu').replace(/\"/g,''));\n          }\n          if (contact.hasParam('pub-gruu')) {\n            this.ua.contact.pub_gruu = SIP.URI.parse(contact.getParam('pub-gruu').replace(/\"/g,''));\n          }\n\n          this.registered = true;\n          this.emit('registered', response || null);\n          break;\n        // Interval too brief RFC3261 10.2.8\n        case /^423$/.test(response.status_code):\n          if(response.hasHeader('min-expires')) {\n            // Increase our registration interval to the suggested minimum\n            this.expires = response.getHeader('min-expires');\n            // Attempt the registration again immediately\n            this.register(this.options);\n          } else { //This response MUST contain a Min-Expires header field\n            this.logger.warn('423 response received for REGISTER without Min-Expires');\n            this.registrationFailure(response, SIP.C.causes.SIP_FAILURE_CODE);\n          }\n          break;\n        default:\n          cause = SIP.Utils.sipErrorCause(response.status_code);\n          this.registrationFailure(response, cause);\n      }\n    };\n\n    this.onRequestTimeout = function() {\n      this.registrationFailure(null, SIP.C.causes.REQUEST_TIMEOUT);\n    };\n\n    this.onTransportError = function() {\n      this.registrationFailure(null, SIP.C.causes.CONNECTION_ERROR);\n    };\n\n    this.cseq++;\n    this.request.cseq = this.cseq;\n    this.request.setHeader('cseq', this.cseq + ' REGISTER');\n    this.request.extraHeaders = extraHeaders;\n    this.send();\n  },\n\n  registrationFailure: function (response, cause) {\n    this.emit('failed', response || null, cause || null);\n  },\n\n  onTransportClosed: function() {\n    this.registered_before = this.registered;\n    if (this.registrationTimer !== null) {\n      SIP.Timers.clearTimeout(this.registrationTimer);\n      this.registrationTimer = null;\n    }\n\n    if (this.registrationExpiredTimer !== null) {\n      SIP.Timers.clearTimeout(this.registrationExpiredTimer);\n      this.registrationExpiredTimer = null;\n    }\n\n    if(this.registered) {\n      this.unregistered(null, SIP.C.causes.CONNECTION_ERROR);\n    }\n  },\n\n  onTransportConnected: function() {\n    this.register(this.options);\n  },\n\n  close: function() {\n    var options = {\n      all: false,\n      extraHeaders: this.closeHeaders\n    };\n\n    this.registered_before = this.registered;\n    this.unregister(options);\n  },\n\n  unregister: function(options) {\n    var extraHeaders;\n\n    options = options || {};\n\n    if(!this.registered && !options.all) {\n      this.logger.warn('already unregistered');\n      return;\n    }\n\n    extraHeaders = (options.extraHeaders || []).slice();\n\n    this.registered = false;\n\n    // Clear the registration timer.\n    if (this.registrationTimer !== null) {\n      SIP.Timers.clearTimeout(this.registrationTimer);\n      this.registrationTimer = null;\n    }\n\n    if(options.all) {\n      extraHeaders.push('Contact: *');\n      extraHeaders.push('Expires: 0');\n    } else {\n      extraHeaders.push('Contact: '+ this.contact + ';expires=0');\n    }\n\n\n    this.receiveResponse = function(response) {\n      var cause;\n\n      switch(true) {\n        case /^1[0-9]{2}$/.test(response.status_code):\n          this.emit('progress', response);\n          break;\n        case /^2[0-9]{2}$/.test(response.status_code):\n          this.emit('accepted', response);\n          if (this.registrationExpiredTimer !== null) {\n            SIP.Timers.clearTimeout(this.registrationExpiredTimer);\n            this.registrationExpiredTimer = null;\n          }\n          this.unregistered(response);\n          break;\n        default:\n          cause = SIP.Utils.sipErrorCause(response.status_code);\n          this.unregistered(response,cause);\n      }\n    };\n\n    this.onRequestTimeout = function() {\n      // Not actually unregistered...\n      //this.unregistered(null, SIP.C.causes.REQUEST_TIMEOUT);\n    };\n\n    this.onTransportError = function() {\n      // Not actually unregistered...\n      //this.unregistered(null, SIP.C.causes.CONNECTION_ERROR);\n    };\n\n    this.cseq++;\n    this.request.cseq = this.cseq;\n    this.request.setHeader('cseq', this.cseq + ' REGISTER');\n    this.request.extraHeaders = extraHeaders;\n\n    this.send();\n  },\n\n  unregistered: function(response, cause) {\n    this.registered = false;\n    this.emit('unregistered', response || null, cause || null);\n  }\n\n};\n\n\nSIP.RegisterContext = RegisterContext;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1JlZ2lzdGVyQ29udGV4dC5qcz85NTc1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7O0FBRUE7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQjtBQUN0QixzQkFBc0I7QUFDdEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0VBQStFLGVBQWU7O0FBRTlGO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQkFBc0IsRUFBRTtBQUN4QjtBQUNBO0FBQ0Esc0JBQXNCLEVBQUU7QUFDeEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHNEQUFzRDtBQUN0RDs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixFQUFFO0FBQ3hCO0FBQ0E7QUFDQSxzQkFBc0IsRUFBRTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBIiwiZmlsZSI6IjM1OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoU0lQKSB7XG5cbnZhciBSZWdpc3RlckNvbnRleHQ7XG5cblJlZ2lzdGVyQ29udGV4dCA9IGZ1bmN0aW9uICh1YSkge1xuICB2YXIgcGFyYW1zID0ge30sXG4gICAgICByZWdJZCA9IDE7XG5cbiAgdGhpcy5yZWdpc3RyYXIgPSB1YS5jb25maWd1cmF0aW9uLnJlZ2lzdHJhclNlcnZlcjtcbiAgdGhpcy5leHBpcmVzID0gdWEuY29uZmlndXJhdGlvbi5yZWdpc3RlckV4cGlyZXM7XG5cblxuICAvLyBDb250YWN0IGhlYWRlclxuICB0aGlzLmNvbnRhY3QgPSB1YS5jb250YWN0LnRvU3RyaW5nKCk7XG5cbiAgaWYocmVnSWQpIHtcbiAgICB0aGlzLmNvbnRhY3QgKz0gJztyZWctaWQ9JysgcmVnSWQ7XG4gICAgdGhpcy5jb250YWN0ICs9ICc7K3NpcC5pbnN0YW5jZT1cIjx1cm46dXVpZDonKyB1YS5jb25maWd1cmF0aW9uLmluc3RhbmNlSWQrJz5cIic7XG4gIH1cblxuICAvLyBDYWxsLUlEIGFuZCBDU2VxIHZhbHVlcyBSRkMzMjYxIDEwLjJcbiAgdGhpcy5jYWxsX2lkID0gU0lQLlV0aWxzLmNyZWF0ZVJhbmRvbVRva2VuKDIyKTtcbiAgdGhpcy5jc2VxID0gODA7XG5cbiAgdGhpcy50b191cmkgPSB1YS5jb25maWd1cmF0aW9uLnVyaTtcblxuICBwYXJhbXMudG9fdXJpID0gdGhpcy50b191cmk7XG4gIHBhcmFtcy50b19kaXNwbGF5TmFtZSA9IHVhLmNvbmZpZ3VyYXRpb24uZGlzcGxheU5hbWU7XG4gIHBhcmFtcy5jYWxsX2lkID0gdGhpcy5jYWxsX2lkO1xuICBwYXJhbXMuY3NlcSA9IHRoaXMuY3NlcTtcblxuICAvLyBFeHRlbmRzIENsaWVudENvbnRleHRcbiAgU0lQLlV0aWxzLmF1Z21lbnQodGhpcywgU0lQLkNsaWVudENvbnRleHQsIFt1YSwgJ1JFR0lTVEVSJywgdGhpcy5yZWdpc3RyYXIsIHtwYXJhbXM6IHBhcmFtc31dKTtcblxuICB0aGlzLnJlZ2lzdHJhdGlvblRpbWVyID0gbnVsbDtcbiAgdGhpcy5yZWdpc3RyYXRpb25FeHBpcmVkVGltZXIgPSBudWxsO1xuXG4gIC8vIFNldCBzdGF0dXNcbiAgdGhpcy5yZWdpc3RlcmVkID0gZmFsc2U7XG5cbiAgdGhpcy5sb2dnZXIgPSB1YS5nZXRMb2dnZXIoJ3NpcC5yZWdpc3RlcmNvbnRleHQnKTtcbn07XG5cblJlZ2lzdGVyQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gIHJlZ2lzdGVyOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBzZWxmID0gdGhpcywgZXh0cmFIZWFkZXJzO1xuXG4gICAgLy8gSGFuZGxlIE9wdGlvbnNcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIGV4dHJhSGVhZGVycyA9ICh0aGlzLm9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuICAgIGV4dHJhSGVhZGVycy5wdXNoKCdDb250YWN0OiAnICsgdGhpcy5jb250YWN0ICsgJztleHBpcmVzPScgKyB0aGlzLmV4cGlyZXMpO1xuICAgIGV4dHJhSGVhZGVycy5wdXNoKCdBbGxvdzogJyArIFNJUC5VQS5DLkFMTE9XRURfTUVUSE9EUy50b1N0cmluZygpKTtcblxuICAgIC8vIFNhdmUgb3JpZ2luYWwgZXh0cmFIZWFkZXJzIHRvIGJlIHVzZWQgaW4gLmNsb3NlXG4gICAgdGhpcy5jbG9zZUhlYWRlcnMgPSB0aGlzLm9wdGlvbnMuY2xvc2VXaXRoSGVhZGVycyA/XG4gICAgICAodGhpcy5vcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXSkuc2xpY2UoKSA6IFtdO1xuXG4gICAgdGhpcy5yZWNlaXZlUmVzcG9uc2UgPSBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgdmFyIGNvbnRhY3QsIGV4cGlyZXMsXG4gICAgICAgIGNvbnRhY3RzID0gcmVzcG9uc2UuZ2V0SGVhZGVycygnY29udGFjdCcpLmxlbmd0aCxcbiAgICAgICAgY2F1c2U7XG5cbiAgICAgIC8vIERpc2NhcmQgcmVzcG9uc2VzIHRvIG9sZGVyIFJFR0lTVEVSL3VuLVJFR0lTVEVSIHJlcXVlc3RzLlxuICAgICAgaWYocmVzcG9uc2UuY3NlcSAhPT0gdGhpcy5jc2VxKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYXIgcmVnaXN0cmF0aW9uIHRpbWVyXG4gICAgICBpZiAodGhpcy5yZWdpc3RyYXRpb25UaW1lciAhPT0gbnVsbCkge1xuICAgICAgICBTSVAuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnJlZ2lzdHJhdGlvblRpbWVyKTtcbiAgICAgICAgdGhpcy5yZWdpc3RyYXRpb25UaW1lciA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCh0cnVlKSB7XG4gICAgICAgIGNhc2UgL14xWzAtOV17Mn0kLy50ZXN0KHJlc3BvbnNlLnN0YXR1c19jb2RlKTpcbiAgICAgICAgICB0aGlzLmVtaXQoJ3Byb2dyZXNzJywgcmVzcG9uc2UpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC9eMlswLTldezJ9JC8udGVzdChyZXNwb25zZS5zdGF0dXNfY29kZSk6XG4gICAgICAgICAgdGhpcy5lbWl0KCdhY2NlcHRlZCcsIHJlc3BvbnNlKTtcblxuICAgICAgICAgIGlmKHJlc3BvbnNlLmhhc0hlYWRlcignZXhwaXJlcycpKSB7XG4gICAgICAgICAgICBleHBpcmVzID0gcmVzcG9uc2UuZ2V0SGVhZGVyKCdleHBpcmVzJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRoaXMucmVnaXN0cmF0aW9uRXhwaXJlZFRpbWVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBTSVAuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnJlZ2lzdHJhdGlvbkV4cGlyZWRUaW1lcik7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJhdGlvbkV4cGlyZWRUaW1lciA9IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU2VhcmNoIHRoZSBDb250YWN0IHBvaW50aW5nIHRvIHVzIGFuZCB1cGRhdGUgdGhlIGV4cGlyZXMgdmFsdWUgYWNjb3JkaW5nbHkuXG4gICAgICAgICAgaWYgKCFjb250YWN0cykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2Fybignbm8gQ29udGFjdCBoZWFkZXIgaW4gcmVzcG9uc2UgdG8gUkVHSVNURVIsIHJlc3BvbnNlIGlnbm9yZWQnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHdoaWxlKGNvbnRhY3RzLS0pIHtcbiAgICAgICAgICAgIGNvbnRhY3QgPSByZXNwb25zZS5wYXJzZUhlYWRlcignY29udGFjdCcsIGNvbnRhY3RzKTtcbiAgICAgICAgICAgIGlmKGNvbnRhY3QudXJpLnVzZXIgPT09IHRoaXMudWEuY29udGFjdC51cmkudXNlcikge1xuICAgICAgICAgICAgICBleHBpcmVzID0gY29udGFjdC5nZXRQYXJhbSgnZXhwaXJlcycpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnRhY3QgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghY29udGFjdCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2Fybignbm8gQ29udGFjdCBoZWFkZXIgcG9pbnRpbmcgdG8gdXMsIHJlc3BvbnNlIGlnbm9yZWQnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmKCFleHBpcmVzKSB7XG4gICAgICAgICAgICBleHBpcmVzID0gdGhpcy5leHBpcmVzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFJlLVJlZ2lzdGVyIGJlZm9yZSB0aGUgZXhwaXJhdGlvbiBpbnRlcnZhbCBoYXMgZWxhcHNlZC5cbiAgICAgICAgICAvLyBGb3IgdGhhdCwgZGVjcmVhc2UgdGhlIGV4cGlyZXMgdmFsdWUuIGllOiAzIHNlY29uZHNcbiAgICAgICAgICB0aGlzLnJlZ2lzdHJhdGlvblRpbWVyID0gU0lQLlRpbWVycy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5yZWdpc3RyYXRpb25UaW1lciA9IG51bGw7XG4gICAgICAgICAgICBzZWxmLnJlZ2lzdGVyKHNlbGYub3B0aW9ucyk7XG4gICAgICAgICAgfSwgKGV4cGlyZXMgKiAxMDAwKSAtIDMwMDApO1xuICAgICAgICAgIHRoaXMucmVnaXN0cmF0aW9uRXhwaXJlZFRpbWVyID0gU0lQLlRpbWVycy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYubG9nZ2VyLndhcm4oJ3JlZ2lzdHJhdGlvbiBleHBpcmVkJyk7XG4gICAgICAgICAgICBpZiAoc2VsZi5yZWdpc3RlcmVkKSB7XG4gICAgICAgICAgICAgIHNlbGYudW5yZWdpc3RlcmVkKG51bGwsIFNJUC5DLmNhdXNlcy5FWFBJUkVTKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBleHBpcmVzICogMTAwMCk7XG5cbiAgICAgICAgICAvL1NhdmUgZ3J1dSB2YWx1ZXNcbiAgICAgICAgICBpZiAoY29udGFjdC5oYXNQYXJhbSgndGVtcC1ncnV1JykpIHtcbiAgICAgICAgICAgIHRoaXMudWEuY29udGFjdC50ZW1wX2dydXUgPSBTSVAuVVJJLnBhcnNlKGNvbnRhY3QuZ2V0UGFyYW0oJ3RlbXAtZ3J1dScpLnJlcGxhY2UoL1wiL2csJycpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvbnRhY3QuaGFzUGFyYW0oJ3B1Yi1ncnV1JykpIHtcbiAgICAgICAgICAgIHRoaXMudWEuY29udGFjdC5wdWJfZ3J1dSA9IFNJUC5VUkkucGFyc2UoY29udGFjdC5nZXRQYXJhbSgncHViLWdydXUnKS5yZXBsYWNlKC9cIi9nLCcnKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5yZWdpc3RlcmVkID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlZ2lzdGVyZWQnLCByZXNwb25zZSB8fCBudWxsKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gSW50ZXJ2YWwgdG9vIGJyaWVmIFJGQzMyNjEgMTAuMi44XG4gICAgICAgIGNhc2UgL140MjMkLy50ZXN0KHJlc3BvbnNlLnN0YXR1c19jb2RlKTpcbiAgICAgICAgICBpZihyZXNwb25zZS5oYXNIZWFkZXIoJ21pbi1leHBpcmVzJykpIHtcbiAgICAgICAgICAgIC8vIEluY3JlYXNlIG91ciByZWdpc3RyYXRpb24gaW50ZXJ2YWwgdG8gdGhlIHN1Z2dlc3RlZCBtaW5pbXVtXG4gICAgICAgICAgICB0aGlzLmV4cGlyZXMgPSByZXNwb25zZS5nZXRIZWFkZXIoJ21pbi1leHBpcmVzJyk7XG4gICAgICAgICAgICAvLyBBdHRlbXB0IHRoZSByZWdpc3RyYXRpb24gYWdhaW4gaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXIodGhpcy5vcHRpb25zKTtcbiAgICAgICAgICB9IGVsc2UgeyAvL1RoaXMgcmVzcG9uc2UgTVVTVCBjb250YWluIGEgTWluLUV4cGlyZXMgaGVhZGVyIGZpZWxkXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCc0MjMgcmVzcG9uc2UgcmVjZWl2ZWQgZm9yIFJFR0lTVEVSIHdpdGhvdXQgTWluLUV4cGlyZXMnKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0cmF0aW9uRmFpbHVyZShyZXNwb25zZSwgU0lQLkMuY2F1c2VzLlNJUF9GQUlMVVJFX0NPREUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjYXVzZSA9IFNJUC5VdGlscy5zaXBFcnJvckNhdXNlKHJlc3BvbnNlLnN0YXR1c19jb2RlKTtcbiAgICAgICAgICB0aGlzLnJlZ2lzdHJhdGlvbkZhaWx1cmUocmVzcG9uc2UsIGNhdXNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5vblJlcXVlc3RUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnJlZ2lzdHJhdGlvbkZhaWx1cmUobnVsbCwgU0lQLkMuY2F1c2VzLlJFUVVFU1RfVElNRU9VVCk7XG4gICAgfTtcblxuICAgIHRoaXMub25UcmFuc3BvcnRFcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5yZWdpc3RyYXRpb25GYWlsdXJlKG51bGwsIFNJUC5DLmNhdXNlcy5DT05ORUNUSU9OX0VSUk9SKTtcbiAgICB9O1xuXG4gICAgdGhpcy5jc2VxKys7XG4gICAgdGhpcy5yZXF1ZXN0LmNzZXEgPSB0aGlzLmNzZXE7XG4gICAgdGhpcy5yZXF1ZXN0LnNldEhlYWRlcignY3NlcScsIHRoaXMuY3NlcSArICcgUkVHSVNURVInKTtcbiAgICB0aGlzLnJlcXVlc3QuZXh0cmFIZWFkZXJzID0gZXh0cmFIZWFkZXJzO1xuICAgIHRoaXMuc2VuZCgpO1xuICB9LFxuXG4gIHJlZ2lzdHJhdGlvbkZhaWx1cmU6IGZ1bmN0aW9uIChyZXNwb25zZSwgY2F1c2UpIHtcbiAgICB0aGlzLmVtaXQoJ2ZhaWxlZCcsIHJlc3BvbnNlIHx8IG51bGwsIGNhdXNlIHx8IG51bGwpO1xuICB9LFxuXG4gIG9uVHJhbnNwb3J0Q2xvc2VkOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlZ2lzdGVyZWRfYmVmb3JlID0gdGhpcy5yZWdpc3RlcmVkO1xuICAgIGlmICh0aGlzLnJlZ2lzdHJhdGlvblRpbWVyICE9PSBudWxsKSB7XG4gICAgICBTSVAuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnJlZ2lzdHJhdGlvblRpbWVyKTtcbiAgICAgIHRoaXMucmVnaXN0cmF0aW9uVGltZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnJlZ2lzdHJhdGlvbkV4cGlyZWRUaW1lciAhPT0gbnVsbCkge1xuICAgICAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5yZWdpc3RyYXRpb25FeHBpcmVkVGltZXIpO1xuICAgICAgdGhpcy5yZWdpc3RyYXRpb25FeHBpcmVkVGltZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGlmKHRoaXMucmVnaXN0ZXJlZCkge1xuICAgICAgdGhpcy51bnJlZ2lzdGVyZWQobnVsbCwgU0lQLkMuY2F1c2VzLkNPTk5FQ1RJT05fRVJST1IpO1xuICAgIH1cbiAgfSxcblxuICBvblRyYW5zcG9ydENvbm5lY3RlZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yZWdpc3Rlcih0aGlzLm9wdGlvbnMpO1xuICB9LFxuXG4gIGNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgIGFsbDogZmFsc2UsXG4gICAgICBleHRyYUhlYWRlcnM6IHRoaXMuY2xvc2VIZWFkZXJzXG4gICAgfTtcblxuICAgIHRoaXMucmVnaXN0ZXJlZF9iZWZvcmUgPSB0aGlzLnJlZ2lzdGVyZWQ7XG4gICAgdGhpcy51bnJlZ2lzdGVyKG9wdGlvbnMpO1xuICB9LFxuXG4gIHVucmVnaXN0ZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgZXh0cmFIZWFkZXJzO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICBpZighdGhpcy5yZWdpc3RlcmVkICYmICFvcHRpb25zLmFsbCkge1xuICAgICAgdGhpcy5sb2dnZXIud2FybignYWxyZWFkeSB1bnJlZ2lzdGVyZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBleHRyYUhlYWRlcnMgPSAob3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCk7XG5cbiAgICB0aGlzLnJlZ2lzdGVyZWQgPSBmYWxzZTtcblxuICAgIC8vIENsZWFyIHRoZSByZWdpc3RyYXRpb24gdGltZXIuXG4gICAgaWYgKHRoaXMucmVnaXN0cmF0aW9uVGltZXIgIT09IG51bGwpIHtcbiAgICAgIFNJUC5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMucmVnaXN0cmF0aW9uVGltZXIpO1xuICAgICAgdGhpcy5yZWdpc3RyYXRpb25UaW1lciA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYob3B0aW9ucy5hbGwpIHtcbiAgICAgIGV4dHJhSGVhZGVycy5wdXNoKCdDb250YWN0OiAqJyk7XG4gICAgICBleHRyYUhlYWRlcnMucHVzaCgnRXhwaXJlczogMCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHRyYUhlYWRlcnMucHVzaCgnQ29udGFjdDogJysgdGhpcy5jb250YWN0ICsgJztleHBpcmVzPTAnKTtcbiAgICB9XG5cblxuICAgIHRoaXMucmVjZWl2ZVJlc3BvbnNlID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgIHZhciBjYXVzZTtcblxuICAgICAgc3dpdGNoKHRydWUpIHtcbiAgICAgICAgY2FzZSAvXjFbMC05XXsyfSQvLnRlc3QocmVzcG9uc2Uuc3RhdHVzX2NvZGUpOlxuICAgICAgICAgIHRoaXMuZW1pdCgncHJvZ3Jlc3MnLCByZXNwb25zZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgL14yWzAtOV17Mn0kLy50ZXN0KHJlc3BvbnNlLnN0YXR1c19jb2RlKTpcbiAgICAgICAgICB0aGlzLmVtaXQoJ2FjY2VwdGVkJywgcmVzcG9uc2UpO1xuICAgICAgICAgIGlmICh0aGlzLnJlZ2lzdHJhdGlvbkV4cGlyZWRUaW1lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5yZWdpc3RyYXRpb25FeHBpcmVkVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RyYXRpb25FeHBpcmVkVGltZXIgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnVucmVnaXN0ZXJlZChyZXNwb25zZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY2F1c2UgPSBTSVAuVXRpbHMuc2lwRXJyb3JDYXVzZShyZXNwb25zZS5zdGF0dXNfY29kZSk7XG4gICAgICAgICAgdGhpcy51bnJlZ2lzdGVyZWQocmVzcG9uc2UsY2F1c2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm9uUmVxdWVzdFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIC8vIE5vdCBhY3R1YWxseSB1bnJlZ2lzdGVyZWQuLi5cbiAgICAgIC8vdGhpcy51bnJlZ2lzdGVyZWQobnVsbCwgU0lQLkMuY2F1c2VzLlJFUVVFU1RfVElNRU9VVCk7XG4gICAgfTtcblxuICAgIHRoaXMub25UcmFuc3BvcnRFcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gTm90IGFjdHVhbGx5IHVucmVnaXN0ZXJlZC4uLlxuICAgICAgLy90aGlzLnVucmVnaXN0ZXJlZChudWxsLCBTSVAuQy5jYXVzZXMuQ09OTkVDVElPTl9FUlJPUik7XG4gICAgfTtcblxuICAgIHRoaXMuY3NlcSsrO1xuICAgIHRoaXMucmVxdWVzdC5jc2VxID0gdGhpcy5jc2VxO1xuICAgIHRoaXMucmVxdWVzdC5zZXRIZWFkZXIoJ2NzZXEnLCB0aGlzLmNzZXEgKyAnIFJFR0lTVEVSJyk7XG4gICAgdGhpcy5yZXF1ZXN0LmV4dHJhSGVhZGVycyA9IGV4dHJhSGVhZGVycztcblxuICAgIHRoaXMuc2VuZCgpO1xuICB9LFxuXG4gIHVucmVnaXN0ZXJlZDogZnVuY3Rpb24ocmVzcG9uc2UsIGNhdXNlKSB7XG4gICAgdGhpcy5yZWdpc3RlcmVkID0gZmFsc2U7XG4gICAgdGhpcy5lbWl0KCd1bnJlZ2lzdGVyZWQnLCByZXNwb25zZSB8fCBudWxsLCBjYXVzZSB8fCBudWxsKTtcbiAgfVxuXG59O1xuXG5cblNJUC5SZWdpc3RlckNvbnRleHQgPSBSZWdpc3RlckNvbnRleHQ7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1JlZ2lzdGVyQ29udGV4dC5qc1xuLy8gbW9kdWxlIGlkID0gMzU4XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///358\n");

/***/ }),
/* 359 */
/*!*********************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/MediaHandler.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview MediaHandler\n */\n\n/* MediaHandler\n * @class PeerConnection helper Class.\n * @param {SIP.Session} session\n * @param {Object} [options]\n */\nmodule.exports = function (EventEmitter) {\nvar MediaHandler = function(session, options) {\n  // keep jshint happy\n  session = session;\n  options = options;\n};\n\nMediaHandler.prototype = Object.create(EventEmitter.prototype, {\n  isReady: {value: function isReady () {}},\n\n  close: {value: function close () {}},\n\n  /**\n   * @param {Object} [mediaHint] A custom object describing the media to be used during this session.\n   */\n  getDescription: {value: function getDescription (mediaHint) {\n    // keep jshint happy\n    mediaHint = mediaHint;\n  }},\n\n  /**\n   * Check if a SIP message contains a session description.\n   * @param {SIP.SIPMessage} message\n   * @returns {boolean}\n   */\n  hasDescription: {value: function hasDescription (message) {\n    // keep jshint happy\n    message = message;\n  }},\n\n  /**\n   * Set the session description contained in a SIP message.\n   * @param {SIP.SIPMessage} message\n   * @returns {Promise}\n   */\n  setDescription: {value: function setDescription (message) {\n    // keep jshint happy\n    message = message;\n  }}\n});\n\nreturn MediaHandler;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL01lZGlhSGFuZGxlci5qcz9hZGRkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWSw4QkFBOEI7O0FBRTFDLFVBQVUsNEJBQTRCOztBQUV0QztBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0EsYUFBYSxlQUFlO0FBQzVCLGVBQWU7QUFDZjtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0EsYUFBYSxlQUFlO0FBQzVCLGVBQWU7QUFDZjtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0EiLCJmaWxlIjoiMzU5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgTWVkaWFIYW5kbGVyXG4gKi9cblxuLyogTWVkaWFIYW5kbGVyXG4gKiBAY2xhc3MgUGVlckNvbm5lY3Rpb24gaGVscGVyIENsYXNzLlxuICogQHBhcmFtIHtTSVAuU2Vzc2lvbn0gc2Vzc2lvblxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChFdmVudEVtaXR0ZXIpIHtcbnZhciBNZWRpYUhhbmRsZXIgPSBmdW5jdGlvbihzZXNzaW9uLCBvcHRpb25zKSB7XG4gIC8vIGtlZXAganNoaW50IGhhcHB5XG4gIHNlc3Npb24gPSBzZXNzaW9uO1xuICBvcHRpb25zID0gb3B0aW9ucztcbn07XG5cbk1lZGlhSGFuZGxlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEV2ZW50RW1pdHRlci5wcm90b3R5cGUsIHtcbiAgaXNSZWFkeToge3ZhbHVlOiBmdW5jdGlvbiBpc1JlYWR5ICgpIHt9fSxcblxuICBjbG9zZToge3ZhbHVlOiBmdW5jdGlvbiBjbG9zZSAoKSB7fX0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbbWVkaWFIaW50XSBBIGN1c3RvbSBvYmplY3QgZGVzY3JpYmluZyB0aGUgbWVkaWEgdG8gYmUgdXNlZCBkdXJpbmcgdGhpcyBzZXNzaW9uLlxuICAgKi9cbiAgZ2V0RGVzY3JpcHRpb246IHt2YWx1ZTogZnVuY3Rpb24gZ2V0RGVzY3JpcHRpb24gKG1lZGlhSGludCkge1xuICAgIC8vIGtlZXAganNoaW50IGhhcHB5XG4gICAgbWVkaWFIaW50ID0gbWVkaWFIaW50O1xuICB9fSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBTSVAgbWVzc2FnZSBjb250YWlucyBhIHNlc3Npb24gZGVzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7U0lQLlNJUE1lc3NhZ2V9IG1lc3NhZ2VcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBoYXNEZXNjcmlwdGlvbjoge3ZhbHVlOiBmdW5jdGlvbiBoYXNEZXNjcmlwdGlvbiAobWVzc2FnZSkge1xuICAgIC8vIGtlZXAganNoaW50IGhhcHB5XG4gICAgbWVzc2FnZSA9IG1lc3NhZ2U7XG4gIH19LFxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHNlc3Npb24gZGVzY3JpcHRpb24gY29udGFpbmVkIGluIGEgU0lQIG1lc3NhZ2UuXG4gICAqIEBwYXJhbSB7U0lQLlNJUE1lc3NhZ2V9IG1lc3NhZ2VcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBzZXREZXNjcmlwdGlvbjoge3ZhbHVlOiBmdW5jdGlvbiBzZXREZXNjcmlwdGlvbiAobWVzc2FnZSkge1xuICAgIC8vIGtlZXAganNoaW50IGhhcHB5XG4gICAgbWVzc2FnZSA9IG1lc3NhZ2U7XG4gIH19XG59KTtcblxucmV0dXJuIE1lZGlhSGFuZGxlcjtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AdHdpbGlvL3NpcC5qcy9zcmMvTWVkaWFIYW5kbGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAzNTlcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///359\n");

/***/ }),
/* 360 */
/*!**********************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/ClientContext.js ***!
  \**********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nmodule.exports = function (SIP) {\nvar ClientContext;\n\nClientContext = function (ua, method, target, options) {\n  var originalTarget = target;\n\n  // Validate arguments\n  if (target === undefined) {\n    throw new TypeError('Not enough arguments');\n  }\n\n  this.ua = ua;\n  this.logger = ua.getLogger('sip.clientcontext');\n  this.method = method;\n  target = ua.normalizeTarget(target);\n  if (!target) {\n    throw new TypeError('Invalid target: ' + originalTarget);\n  }\n\n  /* Options\n   * - extraHeaders\n   * - params\n   * - contentType\n   * - body\n   */\n  options = Object.create(options || Object.prototype);\n  options.extraHeaders = (options.extraHeaders || []).slice();\n\n  // Build the request\n  this.request = new SIP.OutgoingRequest(this.method,\n                                         target,\n                                         this.ua,\n                                         options.params,\n                                         options.extraHeaders);\n  if (options.body) {\n    this.body = {};\n    this.body.body = options.body;\n    if (options.contentType) {\n      this.body.contentType = options.contentType;\n    }\n    this.request.body = this.body;\n  }\n\n  /* Set other properties from the request */\n  this.localIdentity = this.request.from;\n  this.remoteIdentity = this.request.to;\n\n  this.data = {};\n};\nClientContext.prototype = Object.create(SIP.EventEmitter.prototype);\n\nClientContext.prototype.send = function () {\n  (new SIP.RequestSender(this, this.ua)).send();\n  return this;\n};\n\nClientContext.prototype.cancel = function (options) {\n  options = options || {};\n\n  options.extraHeaders = (options.extraHeaders || []).slice();\n\n  var cancel_reason = SIP.Utils.getCancelReason(options.status_code, options.reason_phrase);\n  this.request.cancel(cancel_reason, options.extraHeaders);\n\n  this.emit('cancel');\n};\n\nClientContext.prototype.receiveResponse = function (response) {\n  var cause = SIP.Utils.getReasonPhrase(response.status_code);\n\n  switch(true) {\n    case /^1[0-9]{2}$/.test(response.status_code):\n      this.emit('progress', response, cause);\n      break;\n\n    case /^2[0-9]{2}$/.test(response.status_code):\n      if(this.ua.applicants[this]) {\n        delete this.ua.applicants[this];\n      }\n      this.emit('accepted', response, cause);\n      break;\n\n    default:\n      if(this.ua.applicants[this]) {\n        delete this.ua.applicants[this];\n      }\n      this.emit('rejected', response, cause);\n      this.emit('failed', response, cause);\n      break;\n  }\n\n};\n\nClientContext.prototype.onRequestTimeout = function () {\n  this.emit('failed', null, SIP.C.causes.REQUEST_TIMEOUT);\n};\n\nClientContext.prototype.onTransportError = function () {\n  this.emit('failed', null, SIP.C.causes.CONNECTION_ERROR);\n};\n\nSIP.ClientContext = ClientContext;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL0NsaWVudENvbnRleHQuanM/M2M4ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLEVBQUU7QUFDcEI7QUFDQTs7QUFFQSxrQkFBa0IsRUFBRTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6IjM2MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoU0lQKSB7XG52YXIgQ2xpZW50Q29udGV4dDtcblxuQ2xpZW50Q29udGV4dCA9IGZ1bmN0aW9uICh1YSwgbWV0aG9kLCB0YXJnZXQsIG9wdGlvbnMpIHtcbiAgdmFyIG9yaWdpbmFsVGFyZ2V0ID0gdGFyZ2V0O1xuXG4gIC8vIFZhbGlkYXRlIGFyZ3VtZW50c1xuICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb3QgZW5vdWdoIGFyZ3VtZW50cycpO1xuICB9XG5cbiAgdGhpcy51YSA9IHVhO1xuICB0aGlzLmxvZ2dlciA9IHVhLmdldExvZ2dlcignc2lwLmNsaWVudGNvbnRleHQnKTtcbiAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gIHRhcmdldCA9IHVhLm5vcm1hbGl6ZVRhcmdldCh0YXJnZXQpO1xuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgdGFyZ2V0OiAnICsgb3JpZ2luYWxUYXJnZXQpO1xuICB9XG5cbiAgLyogT3B0aW9uc1xuICAgKiAtIGV4dHJhSGVhZGVyc1xuICAgKiAtIHBhcmFtc1xuICAgKiAtIGNvbnRlbnRUeXBlXG4gICAqIC0gYm9keVxuICAgKi9cbiAgb3B0aW9ucyA9IE9iamVjdC5jcmVhdGUob3B0aW9ucyB8fCBPYmplY3QucHJvdG90eXBlKTtcbiAgb3B0aW9ucy5leHRyYUhlYWRlcnMgPSAob3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCk7XG5cbiAgLy8gQnVpbGQgdGhlIHJlcXVlc3RcbiAgdGhpcy5yZXF1ZXN0ID0gbmV3IFNJUC5PdXRnb2luZ1JlcXVlc3QodGhpcy5tZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZXh0cmFIZWFkZXJzKTtcbiAgaWYgKG9wdGlvbnMuYm9keSkge1xuICAgIHRoaXMuYm9keSA9IHt9O1xuICAgIHRoaXMuYm9keS5ib2R5ID0gb3B0aW9ucy5ib2R5O1xuICAgIGlmIChvcHRpb25zLmNvbnRlbnRUeXBlKSB7XG4gICAgICB0aGlzLmJvZHkuY29udGVudFR5cGUgPSBvcHRpb25zLmNvbnRlbnRUeXBlO1xuICAgIH1cbiAgICB0aGlzLnJlcXVlc3QuYm9keSA9IHRoaXMuYm9keTtcbiAgfVxuXG4gIC8qIFNldCBvdGhlciBwcm9wZXJ0aWVzIGZyb20gdGhlIHJlcXVlc3QgKi9cbiAgdGhpcy5sb2NhbElkZW50aXR5ID0gdGhpcy5yZXF1ZXN0LmZyb207XG4gIHRoaXMucmVtb3RlSWRlbnRpdHkgPSB0aGlzLnJlcXVlc3QudG87XG5cbiAgdGhpcy5kYXRhID0ge307XG59O1xuQ2xpZW50Q29udGV4dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNJUC5FdmVudEVtaXR0ZXIucHJvdG90eXBlKTtcblxuQ2xpZW50Q29udGV4dC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgKG5ldyBTSVAuUmVxdWVzdFNlbmRlcih0aGlzLCB0aGlzLnVhKSkuc2VuZCgpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkNsaWVudENvbnRleHQucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIG9wdGlvbnMuZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuXG4gIHZhciBjYW5jZWxfcmVhc29uID0gU0lQLlV0aWxzLmdldENhbmNlbFJlYXNvbihvcHRpb25zLnN0YXR1c19jb2RlLCBvcHRpb25zLnJlYXNvbl9waHJhc2UpO1xuICB0aGlzLnJlcXVlc3QuY2FuY2VsKGNhbmNlbF9yZWFzb24sIG9wdGlvbnMuZXh0cmFIZWFkZXJzKTtcblxuICB0aGlzLmVtaXQoJ2NhbmNlbCcpO1xufTtcblxuQ2xpZW50Q29udGV4dC5wcm90b3R5cGUucmVjZWl2ZVJlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gIHZhciBjYXVzZSA9IFNJUC5VdGlscy5nZXRSZWFzb25QaHJhc2UocmVzcG9uc2Uuc3RhdHVzX2NvZGUpO1xuXG4gIHN3aXRjaCh0cnVlKSB7XG4gICAgY2FzZSAvXjFbMC05XXsyfSQvLnRlc3QocmVzcG9uc2Uuc3RhdHVzX2NvZGUpOlxuICAgICAgdGhpcy5lbWl0KCdwcm9ncmVzcycsIHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgL14yWzAtOV17Mn0kLy50ZXN0KHJlc3BvbnNlLnN0YXR1c19jb2RlKTpcbiAgICAgIGlmKHRoaXMudWEuYXBwbGljYW50c1t0aGlzXSkge1xuICAgICAgICBkZWxldGUgdGhpcy51YS5hcHBsaWNhbnRzW3RoaXNdO1xuICAgICAgfVxuICAgICAgdGhpcy5lbWl0KCdhY2NlcHRlZCcsIHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICBpZih0aGlzLnVhLmFwcGxpY2FudHNbdGhpc10pIHtcbiAgICAgICAgZGVsZXRlIHRoaXMudWEuYXBwbGljYW50c1t0aGlzXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZW1pdCgncmVqZWN0ZWQnLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgdGhpcy5lbWl0KCdmYWlsZWQnLCByZXNwb25zZSwgY2F1c2UpO1xuICAgICAgYnJlYWs7XG4gIH1cblxufTtcblxuQ2xpZW50Q29udGV4dC5wcm90b3R5cGUub25SZXF1ZXN0VGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5lbWl0KCdmYWlsZWQnLCBudWxsLCBTSVAuQy5jYXVzZXMuUkVRVUVTVF9USU1FT1VUKTtcbn07XG5cbkNsaWVudENvbnRleHQucHJvdG90eXBlLm9uVHJhbnNwb3J0RXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZW1pdCgnZmFpbGVkJywgbnVsbCwgU0lQLkMuY2F1c2VzLkNPTk5FQ1RJT05fRVJST1IpO1xufTtcblxuU0lQLkNsaWVudENvbnRleHQgPSBDbGllbnRDb250ZXh0O1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0B0d2lsaW8vc2lwLmpzL3NyYy9DbGllbnRDb250ZXh0LmpzXG4vLyBtb2R1bGUgaWQgPSAzNjBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///360\n");

/***/ }),
/* 361 */
/*!**********************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/ServerContext.js ***!
  \**********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nmodule.exports = function (SIP) {\nvar ServerContext;\n\nServerContext = function (ua, request) {\n  this.ua = ua;\n  this.logger = ua.getLogger('sip.servercontext');\n  this.request = request;\n  if (request.method === SIP.C.INVITE) {\n    this.transaction = new SIP.Transactions.InviteServerTransaction(request, ua);\n  } else {\n    this.transaction = new SIP.Transactions.NonInviteServerTransaction(request, ua);\n  }\n\n  if (request.body) {\n    this.body = request.body;\n  }\n  if (request.hasHeader('Content-Type')) {\n    this.contentType = request.getHeader('Content-Type');\n  }\n  this.method = request.method;\n\n  this.data = {};\n\n  this.localIdentity = request.to;\n  this.remoteIdentity = request.from;\n};\n\nServerContext.prototype = Object.create(SIP.EventEmitter.prototype);\n\nServerContext.prototype.progress = function (options) {\n  options = Object.create(options || Object.prototype);\n  options.statusCode || (options.statusCode = 180);\n  options.minCode = 100;\n  options.maxCode = 199;\n  options.events = ['progress'];\n  return this.reply(options);\n};\n\nServerContext.prototype.accept = function (options) {\n  options = Object.create(options || Object.prototype);\n  options.statusCode || (options.statusCode = 200);\n  options.minCode = 200;\n  options.maxCode = 299;\n  options.events = ['accepted'];\n  return this.reply(options);\n};\n\nServerContext.prototype.reject = function (options) {\n  options = Object.create(options || Object.prototype);\n  options.statusCode || (options.statusCode = 480);\n  options.minCode = 300;\n  options.maxCode = 699;\n  options.events = ['rejected', 'failed'];\n  return this.reply(options);\n};\n\nServerContext.prototype.reply = function (options) {\n  options = options || {}; // This is okay, so long as we treat options as read-only in this method\n  var\n    statusCode = options.statusCode || 100,\n    minCode = options.minCode || 100,\n    maxCode = options.maxCode || 699,\n    reasonPhrase = SIP.Utils.getReasonPhrase(statusCode, options.reasonPhrase),\n    extraHeaders = options.extraHeaders || [],\n    body = options.body,\n    events = options.events || [],\n    response;\n\n  if (statusCode < minCode || statusCode > maxCode) {\n    throw new TypeError('Invalid statusCode: ' + statusCode);\n  }\n  response = this.request.reply(statusCode, reasonPhrase, extraHeaders, body);\n  events.forEach(function (event) {\n    this.emit(event, response, reasonPhrase);\n  }, this);\n\n  return this;\n};\n\nServerContext.prototype.onRequestTimeout = function () {\n  this.emit('failed', null, SIP.C.causes.REQUEST_TIMEOUT);\n};\n\nServerContext.prototype.onTransportError = function () {\n  this.emit('failed', null, SIP.C.causes.CONNECTION_ERROR);\n};\n\nSIP.ServerContext = ServerContext;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1NlcnZlckNvbnRleHQuanM/NjRmMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6IjM2MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoU0lQKSB7XG52YXIgU2VydmVyQ29udGV4dDtcblxuU2VydmVyQ29udGV4dCA9IGZ1bmN0aW9uICh1YSwgcmVxdWVzdCkge1xuICB0aGlzLnVhID0gdWE7XG4gIHRoaXMubG9nZ2VyID0gdWEuZ2V0TG9nZ2VyKCdzaXAuc2VydmVyY29udGV4dCcpO1xuICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuICBpZiAocmVxdWVzdC5tZXRob2QgPT09IFNJUC5DLklOVklURSkge1xuICAgIHRoaXMudHJhbnNhY3Rpb24gPSBuZXcgU0lQLlRyYW5zYWN0aW9ucy5JbnZpdGVTZXJ2ZXJUcmFuc2FjdGlvbihyZXF1ZXN0LCB1YSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy50cmFuc2FjdGlvbiA9IG5ldyBTSVAuVHJhbnNhY3Rpb25zLk5vbkludml0ZVNlcnZlclRyYW5zYWN0aW9uKHJlcXVlc3QsIHVhKTtcbiAgfVxuXG4gIGlmIChyZXF1ZXN0LmJvZHkpIHtcbiAgICB0aGlzLmJvZHkgPSByZXF1ZXN0LmJvZHk7XG4gIH1cbiAgaWYgKHJlcXVlc3QuaGFzSGVhZGVyKCdDb250ZW50LVR5cGUnKSkge1xuICAgIHRoaXMuY29udGVudFR5cGUgPSByZXF1ZXN0LmdldEhlYWRlcignQ29udGVudC1UeXBlJyk7XG4gIH1cbiAgdGhpcy5tZXRob2QgPSByZXF1ZXN0Lm1ldGhvZDtcblxuICB0aGlzLmRhdGEgPSB7fTtcblxuICB0aGlzLmxvY2FsSWRlbnRpdHkgPSByZXF1ZXN0LnRvO1xuICB0aGlzLnJlbW90ZUlkZW50aXR5ID0gcmVxdWVzdC5mcm9tO1xufTtcblxuU2VydmVyQ29udGV4dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNJUC5FdmVudEVtaXR0ZXIucHJvdG90eXBlKTtcblxuU2VydmVyQ29udGV4dC5wcm90b3R5cGUucHJvZ3Jlc3MgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBvcHRpb25zID0gT2JqZWN0LmNyZWF0ZShvcHRpb25zIHx8IE9iamVjdC5wcm90b3R5cGUpO1xuICBvcHRpb25zLnN0YXR1c0NvZGUgfHwgKG9wdGlvbnMuc3RhdHVzQ29kZSA9IDE4MCk7XG4gIG9wdGlvbnMubWluQ29kZSA9IDEwMDtcbiAgb3B0aW9ucy5tYXhDb2RlID0gMTk5O1xuICBvcHRpb25zLmV2ZW50cyA9IFsncHJvZ3Jlc3MnXTtcbiAgcmV0dXJuIHRoaXMucmVwbHkob3B0aW9ucyk7XG59O1xuXG5TZXJ2ZXJDb250ZXh0LnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBvcHRpb25zID0gT2JqZWN0LmNyZWF0ZShvcHRpb25zIHx8IE9iamVjdC5wcm90b3R5cGUpO1xuICBvcHRpb25zLnN0YXR1c0NvZGUgfHwgKG9wdGlvbnMuc3RhdHVzQ29kZSA9IDIwMCk7XG4gIG9wdGlvbnMubWluQ29kZSA9IDIwMDtcbiAgb3B0aW9ucy5tYXhDb2RlID0gMjk5O1xuICBvcHRpb25zLmV2ZW50cyA9IFsnYWNjZXB0ZWQnXTtcbiAgcmV0dXJuIHRoaXMucmVwbHkob3B0aW9ucyk7XG59O1xuXG5TZXJ2ZXJDb250ZXh0LnByb3RvdHlwZS5yZWplY3QgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBvcHRpb25zID0gT2JqZWN0LmNyZWF0ZShvcHRpb25zIHx8IE9iamVjdC5wcm90b3R5cGUpO1xuICBvcHRpb25zLnN0YXR1c0NvZGUgfHwgKG9wdGlvbnMuc3RhdHVzQ29kZSA9IDQ4MCk7XG4gIG9wdGlvbnMubWluQ29kZSA9IDMwMDtcbiAgb3B0aW9ucy5tYXhDb2RlID0gNjk5O1xuICBvcHRpb25zLmV2ZW50cyA9IFsncmVqZWN0ZWQnLCAnZmFpbGVkJ107XG4gIHJldHVybiB0aGlzLnJlcGx5KG9wdGlvbnMpO1xufTtcblxuU2VydmVyQ29udGV4dC5wcm90b3R5cGUucmVwbHkgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gVGhpcyBpcyBva2F5LCBzbyBsb25nIGFzIHdlIHRyZWF0IG9wdGlvbnMgYXMgcmVhZC1vbmx5IGluIHRoaXMgbWV0aG9kXG4gIHZhclxuICAgIHN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGUgfHwgMTAwLFxuICAgIG1pbkNvZGUgPSBvcHRpb25zLm1pbkNvZGUgfHwgMTAwLFxuICAgIG1heENvZGUgPSBvcHRpb25zLm1heENvZGUgfHwgNjk5LFxuICAgIHJlYXNvblBocmFzZSA9IFNJUC5VdGlscy5nZXRSZWFzb25QaHJhc2Uoc3RhdHVzQ29kZSwgb3B0aW9ucy5yZWFzb25QaHJhc2UpLFxuICAgIGV4dHJhSGVhZGVycyA9IG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdLFxuICAgIGJvZHkgPSBvcHRpb25zLmJvZHksXG4gICAgZXZlbnRzID0gb3B0aW9ucy5ldmVudHMgfHwgW10sXG4gICAgcmVzcG9uc2U7XG5cbiAgaWYgKHN0YXR1c0NvZGUgPCBtaW5Db2RlIHx8IHN0YXR1c0NvZGUgPiBtYXhDb2RlKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBzdGF0dXNDb2RlOiAnICsgc3RhdHVzQ29kZSk7XG4gIH1cbiAgcmVzcG9uc2UgPSB0aGlzLnJlcXVlc3QucmVwbHkoc3RhdHVzQ29kZSwgcmVhc29uUGhyYXNlLCBleHRyYUhlYWRlcnMsIGJvZHkpO1xuICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB0aGlzLmVtaXQoZXZlbnQsIHJlc3BvbnNlLCByZWFzb25QaHJhc2UpO1xuICB9LCB0aGlzKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cblNlcnZlckNvbnRleHQucHJvdG90eXBlLm9uUmVxdWVzdFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZW1pdCgnZmFpbGVkJywgbnVsbCwgU0lQLkMuY2F1c2VzLlJFUVVFU1RfVElNRU9VVCk7XG59O1xuXG5TZXJ2ZXJDb250ZXh0LnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmVtaXQoJ2ZhaWxlZCcsIG51bGwsIFNJUC5DLmNhdXNlcy5DT05ORUNUSU9OX0VSUk9SKTtcbn07XG5cblNJUC5TZXJ2ZXJDb250ZXh0ID0gU2VydmVyQ29udGV4dDtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AdHdpbGlvL3NpcC5qcy9zcmMvU2VydmVyQ29udGV4dC5qc1xuLy8gbW9kdWxlIGlkID0gMzYxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///361\n");

/***/ }),
/* 362 */
/*!****************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/Session.js ***!
  \****************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nmodule.exports = function (SIP, environment) {\n\nvar DTMF = __webpack_require__(/*! ./Session/DTMF */ 363)(SIP);\nvar RFC4028 = __webpack_require__(/*! ./RFC4028 */ 364)(SIP.Timers);\n\nvar Session, InviteServerContext, InviteClientContext,\n C = {\n    //Session states\n    STATUS_NULL:                        0,\n    STATUS_INVITE_SENT:                 1,\n    STATUS_1XX_RECEIVED:                2,\n    STATUS_INVITE_RECEIVED:             3,\n    STATUS_WAITING_FOR_ANSWER:          4,\n    STATUS_ANSWERED:                    5,\n    STATUS_WAITING_FOR_PRACK:           6,\n    STATUS_WAITING_FOR_ACK:             7,\n    STATUS_CANCELED:                    8,\n    STATUS_TERMINATED:                  9,\n    STATUS_ANSWERED_WAITING_FOR_PRACK: 10,\n    STATUS_EARLY_MEDIA:                11,\n    STATUS_CONFIRMED:                  12\n  };\n\n/*\n * @param {function returning SIP.MediaHandler} [mediaHandlerFactory]\n *        (See the documentation for the mediaHandlerFactory argument of the UA constructor.)\n */\nSession = function (mediaHandlerFactory) {\n  this.status = C.STATUS_NULL;\n  this.dialog = null;\n  this.earlyDialogs = {};\n  this.mediaHandlerFactory = mediaHandlerFactory || SIP.WebRTC.MediaHandler.defaultFactory;\n  // this.mediaHandler gets set by ICC/ISC constructors\n  this.hasOffer = false;\n  this.hasAnswer = false;\n\n  // Session Timers\n  this.timers = {\n    ackTimer: null,\n    expiresTimer: null,\n    invite2xxTimer: null,\n    userNoAnswerTimer: null,\n    rel1xxTimer: null,\n    prackTimer: null\n  };\n\n  // Session info\n  this.startTime = null;\n  this.endTime = null;\n  this.tones = null;\n\n  // Mute/Hold state\n  this.local_hold = false;\n  this.remote_hold = false;\n\n  this.pending_actions = {\n    actions: [],\n\n    length: function() {\n      return this.actions.length;\n    },\n\n    isPending: function(name){\n      var\n      idx = 0,\n      length = this.actions.length;\n\n      for (idx; idx<length; idx++) {\n        if (this.actions[idx].name === name) {\n          return true;\n        }\n      }\n      return false;\n    },\n\n    shift: function() {\n      return this.actions.shift();\n    },\n\n    push: function(name) {\n      this.actions.push({\n        name: name\n      });\n    },\n\n    pop: function(name) {\n      var\n      idx = 0,\n      length = this.actions.length;\n\n      for (idx; idx<length; idx++) {\n        if (this.actions[idx].name === name) {\n          this.actions.splice(idx,1);\n          length --;\n          idx--;\n        }\n      }\n    }\n   };\n\n  this.early_sdp = null;\n  this.rel100 = SIP.C.supported.UNSUPPORTED;\n};\n\nSession.prototype = {\n  dtmf: function(tones, options) {\n    var tone, dtmfs = [],\n        self = this;\n\n    options = options || {};\n\n    if (tones === undefined) {\n      throw new TypeError('Not enough arguments');\n    }\n\n    // Check Session Status\n    if (this.status !== C.STATUS_CONFIRMED && this.status !== C.STATUS_WAITING_FOR_ACK) {\n      throw new SIP.Exceptions.InvalidStateError(this.status);\n    }\n\n    // Check tones\n    if ((typeof tones !== 'string' && typeof tones !== 'number') || !tones.toString().match(/^[0-9A-D#*,]+$/i)) {\n      throw new TypeError('Invalid tones: '+ tones);\n    }\n\n    tones = tones.toString().split('');\n\n    while (tones.length > 0) { dtmfs.push(new DTMF(this, tones.shift(), options)); }\n\n    if (this.tones) {\n      // Tones are already queued, just add to the queue\n      this.tones =  this.tones.concat(dtmfs);\n      return this;\n    }\n\n    var sendDTMF = function () {\n      var dtmf, timeout;\n\n      if (self.status === C.STATUS_TERMINATED || !self.tones || self.tones.length === 0) {\n        // Stop sending DTMF\n        self.tones = null;\n        return this;\n      }\n\n      dtmf = self.tones.shift();\n\n      if (tone === ',') {\n        timeout = 2000;\n      } else {\n        dtmf.on('failed', function(){self.tones = null;});\n        dtmf.send(options);\n        timeout = dtmf.duration + dtmf.interToneGap;\n      }\n\n      // Set timeout for the next tone\n      SIP.Timers.setTimeout(sendDTMF, timeout);\n    };\n\n    this.tones = dtmfs;\n    sendDTMF();\n    return this;\n  },\n\n  bye: function(options) {\n    options = Object.create(options || Object.prototype);\n    var statusCode = options.statusCode;\n\n    // Check Session Status\n    if (this.status === C.STATUS_TERMINATED) {\n      this.logger.error('Error: Attempted to send BYE in a terminated session.');\n      return this;\n    }\n\n    this.logger.log('terminating Session');\n\n    if (statusCode && (statusCode < 200 || statusCode >= 700)) {\n      throw new TypeError('Invalid statusCode: '+ statusCode);\n    }\n\n    options.receiveResponse = function () {};\n\n    return this.\n      sendRequest(SIP.C.BYE, options).\n      terminated();\n  },\n\n  refer: function(target, options) {\n    options = options || {};\n    var extraHeaders = (options.extraHeaders || []).slice(),\n        withReplaces =\n          target instanceof SIP.InviteServerContext ||\n          target instanceof SIP.InviteClientContext,\n        originalTarget = target;\n\n    if (target === undefined) {\n      throw new TypeError('Not enough arguments');\n    }\n\n    // Check Session Status\n    if (this.status !== C.STATUS_CONFIRMED) {\n      throw new SIP.Exceptions.InvalidStateError(this.status);\n    }\n\n    // transform `target` so that it can be a Refer-To header value\n    if (withReplaces) {\n      //Attended Transfer\n      // B.transfer(C)\n      target = '\"' + target.remoteIdentity.friendlyName + '\" ' +\n        '<' + target.dialog.remote_target.toString() +\n        '?Replaces=' + target.dialog.id.call_id +\n        '%3Bto-tag%3D' + target.dialog.id.remote_tag +\n        '%3Bfrom-tag%3D' + target.dialog.id.local_tag + '>';\n    } else {\n      //Blind Transfer\n      // normalizeTarget allows instances of SIP.URI to pass through unaltered,\n      // so try to make one ahead of time\n      try {\n        target = SIP.Grammar.parse(target, 'Refer_To').uri || target;\n      } catch (e) {\n        this.logger.debug(\".refer() cannot parse Refer_To from\", target);\n        this.logger.debug(\"...falling through to normalizeTarget()\");\n      }\n\n      // Check target validity\n      target = this.ua.normalizeTarget(target);\n      if (!target) {\n        throw new TypeError('Invalid target: ' + originalTarget);\n      }\n    }\n\n    extraHeaders.push('Contact: '+ this.contact);\n    extraHeaders.push('Allow: '+ SIP.UA.C.ALLOWED_METHODS.toString());\n    extraHeaders.push('Refer-To: '+ target);\n\n    // Send the request\n    this.sendRequest(SIP.C.REFER, {\n      extraHeaders: extraHeaders,\n      body: options.body,\n      receiveResponse: function (response) {\n        if ( ! /^2[0-9]{2}$/.test(response.status_code) ) {\n          return;\n        }\n        // hang up only if we transferred to a SIP address\n        if (withReplaces || (target.scheme && target.scheme.match(\"^sips?$\"))) {\n          this.terminate();\n        }\n      }.bind(this)\n    });\n    return this;\n  },\n\n  followRefer: function followRefer (callback) {\n    return function referListener (callback, request) {\n      // open non-SIP URIs if possible and keep session open\n      var referTo = request.parseHeader('refer-to');\n      var target = referTo.uri;\n      if (!target.scheme.match(\"^sips?$\")) {\n        var targetString = target.toString();\n        if (typeof environment.open === \"function\") {\n          environment.open(targetString);\n        } else {\n          this.logger.warn(\"referred to non-SIP URI but `open` isn't in the environment: \" + targetString);\n        }\n        return;\n      }\n\n      var extraHeaders = [];\n\n      /* Copy the Replaces query into a Replaces header */\n      /* TODO - make sure we don't copy a poorly formatted header? */\n      var replaces = target.getHeader('Replaces');\n      if (replaces !== undefined) {\n        extraHeaders.push('Replaces: ' + decodeURIComponent(replaces));\n      }\n\n      // don't embed headers into Request-URI of INVITE\n      target.clearHeaders();\n\n      /*\n        Harmless race condition.  Both sides of REFER\n        may send a BYE, but in the end the dialogs are destroyed.\n      */\n      var getReferMedia = this.mediaHandler.getReferMedia;\n      var mediaHint = getReferMedia ? getReferMedia.call(this.mediaHandler) : this.mediaHint;\n\n      SIP.Hacks.Chrome.getsConfusedAboutGUM(this);\n\n      var referSession = this.ua.invite(target, {\n        media: mediaHint,\n        params: {\n          to_displayName: referTo.friendlyName\n        },\n        extraHeaders: extraHeaders\n      });\n\n      callback.call(this, request, referSession);\n\n      this.terminate();\n    }.bind(this, callback);\n  },\n\n  sendRequest: function(method,options) {\n    options = options || {};\n    var self = this;\n\n    var request = new SIP.OutgoingRequest(\n      method,\n      this.dialog.remote_target,\n      this.ua,\n      {\n        cseq: options.cseq || (this.dialog.local_seqnum += 1),\n        call_id: this.dialog.id.call_id,\n        from_uri: this.dialog.local_uri,\n        from_tag: this.dialog.id.local_tag,\n        to_uri: this.dialog.remote_uri,\n        to_tag: this.dialog.id.remote_tag,\n        route_set: this.dialog.route_set,\n        statusCode: options.statusCode,\n        reasonPhrase: options.reasonPhrase\n      },\n      options.extraHeaders || [],\n      options.body\n    );\n\n    new SIP.RequestSender({\n      request: request,\n      onRequestTimeout: function() {\n        self.onRequestTimeout();\n      },\n      onTransportError: function() {\n        self.onTransportError();\n      },\n      receiveResponse: options.receiveResponse || function(response) {\n        self.receiveNonInviteResponse(response);\n      }\n    }, this.ua).send();\n\n    // Emit the request event\n    this.emit(method.toLowerCase(), request);\n\n    return this;\n  },\n\n  close: function() {\n    var idx;\n\n    if(this.status === C.STATUS_TERMINATED) {\n      return this;\n    }\n\n    this.logger.log('closing INVITE session ' + this.id);\n\n    // 1st Step. Terminate media.\n    if (this.mediaHandler){\n      this.mediaHandler.close();\n    }\n\n    // 2nd Step. Terminate signaling.\n\n    // Clear session timers\n    for(idx in this.timers) {\n      SIP.Timers.clearTimeout(this.timers[idx]);\n    }\n\n    // Terminate dialogs\n\n    // Terminate confirmed dialog\n    if(this.dialog) {\n      this.dialog.terminate();\n      delete this.dialog;\n    }\n\n    // Terminate early dialogs\n    for(idx in this.earlyDialogs) {\n      this.earlyDialogs[idx].terminate();\n      delete this.earlyDialogs[idx];\n    }\n\n    this.status = C.STATUS_TERMINATED;\n\n    delete this.ua.sessions[this.id];\n    return this;\n  },\n\n  createDialog: function(message, type, early) {\n    var dialog, early_dialog,\n      local_tag = message[(type === 'UAS') ? 'to_tag' : 'from_tag'],\n      remote_tag = message[(type === 'UAS') ? 'from_tag' : 'to_tag'],\n      id = message.call_id + local_tag + remote_tag;\n\n    early_dialog = this.earlyDialogs[id];\n\n    // Early Dialog\n    if (early) {\n      if (early_dialog) {\n        return true;\n      } else {\n        early_dialog = new SIP.Dialog(this, message, type, SIP.Dialog.C.STATUS_EARLY);\n\n        // Dialog has been successfully created.\n        if(early_dialog.error) {\n          this.logger.error(early_dialog.error);\n          this.failed(message, SIP.C.causes.INTERNAL_ERROR);\n          return false;\n        } else {\n          this.earlyDialogs[id] = early_dialog;\n          return true;\n        }\n      }\n    }\n    // Confirmed Dialog\n    else {\n      // In case the dialog is in _early_ state, update it\n      if (early_dialog) {\n        early_dialog.update(message, type);\n        this.dialog = early_dialog;\n        delete this.earlyDialogs[id];\n        for (var dia in this.earlyDialogs) {\n          this.earlyDialogs[dia].terminate();\n          delete this.earlyDialogs[dia];\n        }\n        return true;\n      }\n\n      // Otherwise, create a _confirmed_ dialog\n      dialog = new SIP.Dialog(this, message, type);\n\n      if(dialog.error) {\n        this.logger.error(dialog.error);\n        this.failed(message, SIP.C.causes.INTERNAL_ERROR);\n        return false;\n      } else {\n        this.to_tag = message.to_tag;\n        this.dialog = dialog;\n        return true;\n      }\n    }\n  },\n\n  /**\n  * Check if Session is ready for a re-INVITE\n  *\n  * @returns {Boolean}\n  */\n  isReadyToReinvite: function() {\n    return this.mediaHandler.isReady() &&\n      !this.dialog.uac_pending_reply &&\n      !this.dialog.uas_pending_reply;\n  },\n\n  /**\n   * Mute\n   */\n  mute: function(options) {\n    var ret = this.mediaHandler.mute(options);\n    if (ret) {\n      this.onmute(ret);\n    }\n  },\n\n  /**\n   * Unmute\n   */\n  unmute: function(options) {\n    var ret = this.mediaHandler.unmute(options);\n    if (ret) {\n      this.onunmute(ret);\n    }\n  },\n\n  /**\n   * Hold\n   */\n  hold: function() {\n\n    if (this.status !== C.STATUS_WAITING_FOR_ACK && this.status !== C.STATUS_CONFIRMED) {\n      throw new SIP.Exceptions.InvalidStateError(this.status);\n    }\n\n    this.mediaHandler.hold();\n\n    // Check if RTCSession is ready to send a reINVITE\n    if (!this.isReadyToReinvite()) {\n      /* If there is a pending 'unhold' action, cancel it and don't queue this one\n       * Else, if there isn't any 'hold' action, add this one to the queue\n       * Else, if there is already a 'hold' action, skip\n       */\n      if (this.pending_actions.isPending('unhold')) {\n        this.pending_actions.pop('unhold');\n      } else if (!this.pending_actions.isPending('hold')) {\n        this.pending_actions.push('hold');\n      }\n      return;\n    } else if (this.local_hold === true) {\n        return;\n    }\n\n    this.onhold('local');\n\n    this.sendReinvite();\n  },\n\n  /**\n   * Unhold\n   */\n  unhold: function(options) {\n\n    if (this.status !== C.STATUS_WAITING_FOR_ACK && this.status !== C.STATUS_CONFIRMED) {\n      throw new SIP.Exceptions.InvalidStateError(this.status);\n    }\n\n    this.mediaHandler.unhold();\n\n    if (!this.isReadyToReinvite()) {\n      /* If there is a pending 'hold' action, cancel it and don't queue this one\n       * Else, if there isn't any 'unhold' action, add this one to the queue\n       * Else, if there is already a 'unhold' action, skip\n       */\n      if (this.pending_actions.isPending('hold')) {\n        this.pending_actions.pop('hold');\n      } else if (!this.pending_actions.isPending('unhold')) {\n        this.pending_actions.push('unhold');\n      }\n      return;\n    } else if (this.local_hold === false) {\n      return;\n    }\n\n    this.onunhold('local');\n\n    this.sendReinvite(options);\n  },\n\n  /**\n   * isOnHold\n   */\n  isOnHold: function() {\n    return {\n      local: this.local_hold,\n      remote: this.remote_hold\n    };\n  },\n\n  /**\n   * In dialog INVITE Reception\n   * @private\n   */\n  receiveReinvite: function(request) {\n    var self = this;\n\n    if (!this.mediaHandler.hasDescription(request)) {\n      this.logger.warn('invalid Content-Type');\n      request.reply(415);\n      return;\n    }\n\n    this.mediaHandler.setDescription(request)\n    .then(this.mediaHandler.getDescription.bind(this.mediaHandler, this.mediaHint))\n    .then(function(description) {\n      var extraHeaders = ['Contact: ' + self.contact];\n      request.reply(200, null, extraHeaders, description,\n        function() {\n          self.status = C.STATUS_WAITING_FOR_ACK;\n          self.setInvite2xxTimer(request, description);\n          self.setACKTimer();\n\n          if (self.remote_hold && !self.mediaHandler.remote_hold) {\n            self.onunhold('remote');\n          } else if (!self.remote_hold && self.mediaHandler.remote_hold) {\n            self.onhold('remote');\n          }\n        });\n    })\n    .catch(function onFailure (e) {\n      var statusCode;\n      if (e instanceof SIP.Exceptions.GetDescriptionError) {\n        statusCode = 500;\n      } else {\n        self.logger.error(e);\n        statusCode = 488;\n      }\n      request.reply(statusCode);\n    });\n  },\n\n  sendReinvite: function(options) {\n    options = options || {};\n\n    var\n      self = this,\n       extraHeaders = (options.extraHeaders || []).slice(),\n       eventHandlers = options.eventHandlers || {},\n       succeeded;\n\n    if (eventHandlers.succeeded) {\n      succeeded = eventHandlers.succeeded;\n    }\n    this.reinviteSucceeded = function(){\n      SIP.Timers.clearTimeout(self.timers.ackTimer);\n      SIP.Timers.clearTimeout(self.timers.invite2xxTimer);\n      self.status = C.STATUS_CONFIRMED;\n      succeeded && succeeded.apply(this, arguments);\n    };\n    if (eventHandlers.failed) {\n      this.reinviteFailed = eventHandlers.failed;\n    } else {\n      this.reinviteFailed = function(){};\n    }\n\n    extraHeaders.push('Contact: ' + this.contact);\n    extraHeaders.push('Allow: '+ SIP.UA.C.ALLOWED_METHODS.toString());\n\n    this.receiveResponse = this.receiveReinviteResponse;\n    //REVISIT\n    this.mediaHandler.getDescription(self.mediaHint)\n    .then(\n      function(description){\n        self.dialog.sendRequest(self, SIP.C.INVITE, {\n          extraHeaders: extraHeaders,\n          body: description\n        });\n      },\n      function() {\n        if (self.isReadyToReinvite()) {\n          self.onReadyToReinvite();\n        }\n        self.reinviteFailed();\n      }\n    );\n  },\n\n  receiveRequest: function (request) {\n    switch (request.method) {\n      case SIP.C.BYE:\n        request.reply(200);\n        if(this.status === C.STATUS_CONFIRMED) {\n          this.emit('bye', request);\n          this.terminated(request, SIP.C.causes.BYE);\n        }\n        break;\n      case SIP.C.INVITE:\n        if(this.status === C.STATUS_CONFIRMED) {\n          this.logger.log('re-INVITE received');\n          this.receiveReinvite(request);\n        }\n        break;\n      case SIP.C.INFO:\n        if (this.status === C.STATUS_1XX_RECEIVED ||\n            this.status === C.STATUS_WAITING_FOR_PRACK ||\n            this.status === C.STATUS_WAITING_FOR_ACK ||\n            this.status === C.STATUS_ANSWERED_WAITING_FOR_PRACK ||\n            this.status === C.STATUS_EARLY_MEDIA ||\n            this.status === C.STATUS_CONFIRMED ||\n            this.dialog) {\n          if (this.onInfo) {\n            return this.onInfo(request);\n          }\n\n          var body, tone, duration,\n              contentType = request.getHeader('content-type'),\n              reg_tone = /^(Signal\\s*?=\\s*?)([0-9A-D#*]{1})(\\s)?.*/,\n              reg_duration = /^(Duration\\s?=\\s?)([0-9]{1,4})(\\s)?.*/;\n\n          if (contentType) {\n            if (contentType.match(/^application\\/dtmf-relay/i)) {\n              if (request.body) {\n                body = request.body.split('\\r\\n', 2);\n                if (body.length === 2) {\n                  if (reg_tone.test(body[0])) {\n                    tone = body[0].replace(reg_tone,\"$2\");\n                  }\n                  if (reg_duration.test(body[1])) {\n                    duration = parseInt(body[1].replace(reg_duration,\"$2\"), 10);\n                  }\n                }\n              }\n\n              new DTMF(this, tone, {duration: duration}).init_incoming(request);\n            } else {\n              request.reply(415, null, [\"Accept: application/dtmf-relay\"]);\n            }\n          }\n        }\n        break;\n      case SIP.C.REFER:\n        if(this.status ===  C.STATUS_CONFIRMED) {\n          this.logger.log('REFER received');\n          var hasReferListener = this.listeners('refer').length,\n              notifyBody;\n\n          if (hasReferListener) {\n            request.reply(202, 'Accepted');\n            notifyBody = 'SIP/2.0 100 Trying';\n\n            this.sendRequest(SIP.C.NOTIFY, {\n              extraHeaders:[\n                'Event: refer',\n                'Subscription-State: terminated',\n                'Content-Type: message/sipfrag'\n              ],\n              body: notifyBody,\n              receiveResponse: function() {}\n            });\n\n            this.emit('refer', request);\n          } else {\n            // RFC 3515.2.4.2: 'the UA MAY decline the request.'\n            request.reply(603, 'Declined');\n          }\n        }\n        break;\n      case SIP.C.NOTIFY:\n        request.reply(200, 'OK');\n        this.emit('notify', request);\n        break;\n    }\n  },\n\n  /**\n   * Reception of Response for in-dialog INVITE\n   * @private\n   */\n  receiveReinviteResponse: function(response) {\n    var self = this;\n\n    if (this.status === C.STATUS_TERMINATED) {\n      return;\n    }\n\n    switch(true) {\n      case /^1[0-9]{2}$/.test(response.status_code):\n        break;\n      case /^2[0-9]{2}$/.test(response.status_code):\n        this.status = C.STATUS_CONFIRMED;\n\n        this.sendRequest(SIP.C.ACK,{cseq:response.cseq});\n\n        if (!this.mediaHandler.hasDescription(response)) {\n          this.reinviteFailed();\n          break;\n        }\n\n        //REVISIT\n        this.mediaHandler.setDescription(response)\n        .then(\n          function onSuccess () {\n            self.reinviteSucceeded();\n          },\n          function onFailure () {\n            self.reinviteFailed();\n          }\n        );\n        break;\n      default:\n        this.reinviteFailed();\n    }\n  },\n\n  acceptAndTerminate: function(response, status_code, reason_phrase) {\n    var extraHeaders = [];\n\n    if (status_code) {\n      extraHeaders.push('Reason: ' + SIP.Utils.getReasonHeaderValue(status_code, reason_phrase));\n    }\n\n    // An error on dialog creation will fire 'failed' event\n    if (this.dialog || this.createDialog(response, 'UAC')) {\n      this.sendRequest(SIP.C.ACK,{cseq: response.cseq});\n      this.sendRequest(SIP.C.BYE, {\n        extraHeaders: extraHeaders\n      });\n    }\n\n    return this;\n  },\n\n  /**\n   * RFC3261 13.3.1.4\n   * Response retransmissions cannot be accomplished by transaction layer\n   *  since it is destroyed when receiving the first 2xx answer\n   */\n  setInvite2xxTimer: function(request, description) {\n    var self = this,\n        timeout = SIP.Timers.T1;\n\n    this.timers.invite2xxTimer = SIP.Timers.setTimeout(function invite2xxRetransmission() {\n      if (self.status !== C.STATUS_WAITING_FOR_ACK) {\n        return;\n      }\n\n      self.logger.log('no ACK received, attempting to retransmit OK');\n\n      var extraHeaders = ['Contact: ' + self.contact];\n\n      request.reply(200, null, extraHeaders, description);\n\n      timeout = Math.min(timeout * 2, SIP.Timers.T2);\n\n      self.timers.invite2xxTimer = SIP.Timers.setTimeout(invite2xxRetransmission, timeout);\n    }, timeout);\n  },\n\n  /**\n   * RFC3261 14.2\n   * If a UAS generates a 2xx response and never receives an ACK,\n   *  it SHOULD generate a BYE to terminate the dialog.\n   */\n  setACKTimer: function() {\n    var self = this;\n\n    this.timers.ackTimer = SIP.Timers.setTimeout(function() {\n      if(self.status === C.STATUS_WAITING_FOR_ACK) {\n        self.logger.log('no ACK received for an extended period of time, terminating the call');\n        SIP.Timers.clearTimeout(self.timers.invite2xxTimer);\n        self.sendRequest(SIP.C.BYE);\n        self.terminated(null, SIP.C.causes.NO_ACK);\n      }\n    }, SIP.Timers.TIMER_H);\n  },\n\n  /*\n   * @private\n   */\n  onReadyToReinvite: function() {\n    var action = this.pending_actions.shift();\n\n    if (!action || !this[action.name]) {\n      return;\n    }\n\n    this[action.name]();\n  },\n\n  onTransportError: function() {\n    if (this.status !== C.STATUS_CONFIRMED && this.status !== C.STATUS_TERMINATED) {\n      this.failed(null, SIP.C.causes.CONNECTION_ERROR);\n    }\n  },\n\n  onRequestTimeout: function() {\n    if (this.status === C.STATUS_CONFIRMED) {\n      this.terminated(null, SIP.C.causes.REQUEST_TIMEOUT);\n    } else if (this.status !== C.STATUS_TERMINATED) {\n      this.failed(null, SIP.C.causes.REQUEST_TIMEOUT);\n      this.terminated(null, SIP.C.causes.REQUEST_TIMEOUT);\n    }\n  },\n\n  onDialogError: function(response) {\n    if (this.status === C.STATUS_CONFIRMED) {\n      this.terminated(response, SIP.C.causes.DIALOG_ERROR);\n    } else if (this.status !== C.STATUS_TERMINATED) {\n      this.failed(response, SIP.C.causes.DIALOG_ERROR);\n      this.terminated(response, SIP.C.causes.DIALOG_ERROR);\n    }\n  },\n\n  /**\n   * @private\n   */\n  onhold: function(originator) {\n    this[originator === 'local' ? 'local_hold' : 'remote_hold'] = true;\n    this.emit('hold', { originator: originator });\n  },\n\n  /**\n   * @private\n   */\n  onunhold: function(originator) {\n    this[originator === 'local' ? 'local_hold' : 'remote_hold'] = false;\n    this.emit('unhold', { originator: originator });\n  },\n\n  /*\n   * @private\n   */\n  onmute: function(options) {\n    this.emit('muted', {\n      audio: options.audio,\n      video: options.video\n    });\n  },\n\n  /*\n   * @private\n   */\n  onunmute: function(options) {\n    this.emit('unmuted', {\n      audio: options.audio,\n      video: options.video\n    });\n  },\n\n  failed: function(response, cause) {\n    if (this.status === C.STATUS_TERMINATED) {\n      return this;\n    }\n    this.emit('failed', response || null, cause || null);\n    return this;\n  },\n\n  rejected: function(response, cause) {\n    this.emit('rejected',\n      response || null,\n      cause || null\n    );\n    return this;\n  },\n\n  canceled: function() {\n    this.emit('cancel');\n    return this;\n  },\n\n  accepted: function(response, cause) {\n    cause = SIP.Utils.getReasonPhrase(response && response.status_code, cause);\n\n    this.startTime = new Date();\n\n    if (this.replacee) {\n      this.replacee.emit('replaced', this);\n      this.replacee.terminate();\n    }\n    if (response) {\n      RFC4028.updateState(this.dialog, response, SIP.Parser.parseMessage, this.ua);\n    }\n    this.emit('accepted', response, cause);\n    return this;\n  },\n\n  terminated: function(message, cause) {\n    if (this.status === C.STATUS_TERMINATED) {\n      return this;\n    }\n\n    this.endTime = new Date();\n\n    this.close();\n    this.emit('terminated',\n      message || null,\n      cause || null\n    );\n    return this;\n  },\n\n  connecting: function(request) {\n    this.emit('connecting', { request: request });\n    return this;\n  }\n};\n\nSession.desugar = function desugar(options) {\n  if (environment.HTMLMediaElement && options instanceof environment.HTMLMediaElement) {\n    options = {\n      media: {\n        constraints: {\n          audio: true,\n          video: options.tagName === 'VIDEO'\n        },\n        render: {\n          remote: options\n        }\n      }\n    };\n  }\n  return options || {};\n};\n\n\nSession.C = C;\nSIP.Session = Session;\n\n\nInviteServerContext = function(ua, request) {\n  var expires,\n    self = this,\n    contentType = request.getHeader('Content-Type'),\n    contentDisp = request.parseHeader('Content-Disposition');\n\n  SIP.Utils.augment(this, SIP.ServerContext, [ua, request]);\n  SIP.Utils.augment(this, SIP.Session, [ua.configuration.mediaHandlerFactory]);\n\n  //Initialize Media Session\n  this.mediaHandler = this.mediaHandlerFactory(this, {\n    RTCConstraints: {\"optional\": [{'DtlsSrtpKeyAgreement': 'true'}]}\n  });\n\n  // Check body and content type\n  if ((!contentDisp && !this.mediaHandler.hasDescription(request)) || (contentDisp && contentDisp.type === 'render')) {\n    this.renderbody = request.body;\n    this.rendertype = contentType;\n  } else if (!this.mediaHandler.hasDescription(request) && (contentDisp && contentDisp.type === 'session')) {\n    request.reply(415);\n    //TODO: instead of 415, pass off to the media handler, who can then decide if we can use it\n    return;\n  }\n\n  // TODO test\n  // http://tools.ietf.org/html/rfc4028#section-9\n  if (RFC4028.hasSmallMinSE(request)) {\n    request.reply(422, null, ['Min-SE: ' + RFC4028.localMinSE]);\n    return;\n  }\n\n  this.status = C.STATUS_INVITE_RECEIVED;\n  this.from_tag = request.from_tag;\n  this.id = request.call_id + this.from_tag;\n  this.request = request;\n  this.contact = this.ua.contact.toString();\n\n  this.receiveNonInviteResponse = function () {}; // intentional no-op\n\n  this.logger = ua.getLogger('sip.inviteservercontext', this.id);\n\n  //Save the session into the ua sessions collection.\n  this.ua.sessions[this.id] = this;\n\n  //Get the Expires header value if exists\n  if(request.hasHeader('expires')) {\n    expires = request.getHeader('expires') * 1000;\n  }\n\n  //Set 100rel if necessary\n  function set100rel(h,c) {\n    if (request.hasHeader(h) && request.getHeader(h).toLowerCase().indexOf('100rel') >= 0) {\n      self.rel100 = c;\n    }\n  }\n  set100rel('require', SIP.C.supported.REQUIRED);\n  set100rel('supported', SIP.C.supported.SUPPORTED);\n\n  /* Set the to_tag before\n   * replying a response code that will create a dialog.\n   */\n  request.to_tag = SIP.Utils.newTag();\n\n  // An error on dialog creation will fire 'failed' event\n  if(!this.createDialog(request, 'UAS', true)) {\n    request.reply(500, 'Missing Contact header field');\n    return;\n  }\n\n  if (this.mediaHandler && this.mediaHandler.getRemoteStreams) {\n    this.getRemoteStreams = this.mediaHandler.getRemoteStreams.bind(this.mediaHandler);\n    this.getLocalStreams = this.mediaHandler.getLocalStreams.bind(this.mediaHandler);\n  }\n\n  function fireNewSession() {\n    var options = {extraHeaders: ['Contact: ' + self.contact]};\n\n    if (self.rel100 !== SIP.C.supported.REQUIRED) {\n      self.progress(options);\n    }\n    self.status = C.STATUS_WAITING_FOR_ANSWER;\n\n    // Set userNoAnswerTimer\n    self.timers.userNoAnswerTimer = SIP.Timers.setTimeout(function() {\n      request.reply(408);\n      self.failed(request, SIP.C.causes.NO_ANSWER);\n      self.terminated(request, SIP.C.causes.NO_ANSWER);\n    }, self.ua.configuration.noAnswerTimeout);\n\n    /* Set expiresTimer\n     * RFC3261 13.3.1\n     */\n    if (expires) {\n      self.timers.expiresTimer = SIP.Timers.setTimeout(function() {\n        if(self.status === C.STATUS_WAITING_FOR_ANSWER) {\n          request.reply(487);\n          self.failed(request, SIP.C.causes.EXPIRES);\n          self.terminated(request, SIP.C.causes.EXPIRES);\n        }\n      }, expires);\n    }\n\n    self.emit('invite',request);\n  }\n\n  if (!this.mediaHandler.hasDescription(request) || this.renderbody) {\n    SIP.Timers.setTimeout(fireNewSession, 0);\n  } else {\n    this.hasOffer = true;\n    this.mediaHandler.setDescription(request)\n    .then(\n      fireNewSession,\n      function onFailure (e) {\n        self.logger.warn('invalid description');\n        self.logger.warn(e);\n        request.reply(488);\n      }\n    );\n  }\n};\n\nInviteServerContext.prototype = {\n  reject: function(options) {\n    // Check Session Status\n    if (this.status === C.STATUS_TERMINATED) {\n      throw new SIP.Exceptions.InvalidStateError(this.status);\n    }\n\n    this.logger.log('rejecting RTCSession');\n\n    SIP.ServerContext.prototype.reject.call(this, options);\n    return this.terminated();\n  },\n\n  terminate: function(options) {\n    options = options || {};\n\n    var\n    extraHeaders = (options.extraHeaders || []).slice(),\n    body = options.body,\n    dialog,\n    self = this;\n\n    if (this.status === C.STATUS_WAITING_FOR_ACK &&\n       this.request.server_transaction.state !== SIP.Transactions.C.STATUS_TERMINATED) {\n      dialog = this.dialog;\n\n      this.receiveRequest = function(request) {\n        if (request.method === SIP.C.ACK) {\n          this.sendRequest(SIP.C.BYE, {\n            extraHeaders: extraHeaders,\n            body: body\n          });\n          dialog.terminate();\n        }\n      };\n\n      this.request.server_transaction.on('stateChanged', function(){\n        if (this.state === SIP.Transactions.C.STATUS_TERMINATED && this.dialog) {\n          this.request = new SIP.OutgoingRequest(\n            SIP.C.BYE,\n            this.dialog.remote_target,\n            this.ua,\n            {\n              'cseq': this.dialog.local_seqnum+=1,\n              'call_id': this.dialog.id.call_id,\n              'from_uri': this.dialog.local_uri,\n              'from_tag': this.dialog.id.local_tag,\n              'to_uri': this.dialog.remote_uri,\n              'to_tag': this.dialog.id.remote_tag,\n              'route_set': this.dialog.route_set\n            },\n            extraHeaders,\n            body\n          );\n\n          new SIP.RequestSender(\n            {\n              request: this.request,\n              onRequestTimeout: function() {\n                self.onRequestTimeout();\n              },\n              onTransportError: function() {\n                self.onTransportError();\n              },\n              receiveResponse: function() {\n                return;\n              }\n            },\n            this.ua\n          ).send();\n          dialog.terminate();\n        }\n      });\n\n      this.emit('bye', this.request);\n      this.terminated();\n\n      // Restore the dialog into 'this' in order to be able to send the in-dialog BYE :-)\n      this.dialog = dialog;\n\n      // Restore the dialog into 'ua' so the ACK can reach 'this' session\n      this.ua.dialogs[dialog.id.toString()] = dialog;\n\n    } else if (this.status === C.STATUS_CONFIRMED) {\n      this.bye(options);\n    } else {\n      this.reject(options);\n    }\n\n    return this;\n  },\n\n  /*\n   * @param {Object} [options.media] gets passed to SIP.MediaHandler.getDescription as mediaHint\n   */\n  progress: function (options) {\n    options = options || {};\n    var\n      statusCode = options.statusCode || 180,\n      reasonPhrase = options.reasonPhrase,\n      extraHeaders = (options.extraHeaders || []).slice(),\n      iceServers,\n      stunServers = options.stunServers || null,\n      turnServers = options.turnServers || null,\n      body = options.body,\n      response;\n\n    if (statusCode < 100 || statusCode > 199) {\n      throw new TypeError('Invalid statusCode: ' + statusCode);\n    }\n\n    if (this.isCanceled || this.status === C.STATUS_TERMINATED) {\n      return this;\n    }\n\n    if (stunServers || turnServers) {\n      if (stunServers) {\n        iceServers = SIP.UA.configuration_check.optional['stunServers'](stunServers);\n        if (!iceServers) {\n          throw new TypeError('Invalid stunServers: '+ stunServers);\n        } else {\n          this.stunServers = iceServers;\n        }\n      }\n\n      if (turnServers) {\n        iceServers = SIP.UA.configuration_check.optional['turnServers'](turnServers);\n        if (!iceServers) {\n          throw new TypeError('Invalid turnServers: '+ turnServers);\n        } else {\n          this.turnServers = iceServers;\n        }\n      }\n\n      this.mediaHandler.updateIceServers({\n        stunServers: this.stunServers,\n        turnServers: this.turnServers\n      });\n    }\n\n    function do100rel() {\n      /* jshint validthis: true */\n      statusCode = options.statusCode || 183;\n\n      // Set status and add extra headers\n      this.status = C.STATUS_WAITING_FOR_PRACK;\n      extraHeaders.push('Contact: '+ this.contact);\n      extraHeaders.push('Require: 100rel');\n      extraHeaders.push('RSeq: ' + Math.floor(Math.random() * 10000));\n\n      // Save media hint for later (referred sessions)\n      this.mediaHint = options.media;\n\n      // Get the session description to add to preaccept with\n      this.mediaHandler.getDescription(options.media)\n      .then(\n        function onSuccess (description) {\n          if (this.isCanceled || this.status === C.STATUS_TERMINATED) {\n            return;\n          }\n\n          this.early_sdp = description.body;\n          this[this.hasOffer ? 'hasAnswer' : 'hasOffer'] = true;\n\n          // Retransmit until we get a response or we time out (see prackTimer below)\n          var timeout = SIP.Timers.T1;\n          this.timers.rel1xxTimer = SIP.Timers.setTimeout(function rel1xxRetransmission() {\n            this.request.reply(statusCode, null, extraHeaders, description);\n            timeout *= 2;\n            this.timers.rel1xxTimer = SIP.Timers.setTimeout(rel1xxRetransmission.bind(this), timeout);\n          }.bind(this), timeout);\n\n          // Timeout and reject INVITE if no response\n          this.timers.prackTimer = SIP.Timers.setTimeout(function () {\n            if (this.status !== C.STATUS_WAITING_FOR_PRACK) {\n              return;\n            }\n\n            this.logger.log('no PRACK received, rejecting the call');\n            SIP.Timers.clearTimeout(this.timers.rel1xxTimer);\n            this.request.reply(504);\n            this.terminated(null, SIP.C.causes.NO_PRACK);\n          }.bind(this), SIP.Timers.T1 * 64);\n\n          // Send the initial response\n          response = this.request.reply(statusCode, reasonPhrase, extraHeaders, description);\n          this.emit('progress', response, reasonPhrase);\n        }.bind(this),\n\n        function onFailure () {\n          this.request.reply(480);\n          this.failed(null, SIP.C.causes.WEBRTC_ERROR);\n          this.terminated(null, SIP.C.causes.WEBRTC_ERROR);\n        }.bind(this)\n      );\n    } // end do100rel\n\n    function normalReply() {\n      /* jshint validthis:true */\n      response = this.request.reply(statusCode, reasonPhrase, extraHeaders, body);\n      this.emit('progress', response, reasonPhrase);\n    }\n\n    if (options.statusCode !== 100 &&\n        (this.rel100 === SIP.C.supported.REQUIRED ||\n         (this.rel100 === SIP.C.supported.SUPPORTED && options.rel100) ||\n         (this.rel100 === SIP.C.supported.SUPPORTED && (this.ua.configuration.rel100 === SIP.C.supported.REQUIRED)))) {\n      do100rel.apply(this);\n    } else {\n      normalReply.apply(this);\n    }\n    return this;\n  },\n\n  /*\n   * @param {Object} [options.media] gets passed to SIP.MediaHandler.getDescription as mediaHint\n   */\n  accept: function(options) {\n    options = Object.create(Session.desugar(options));\n    SIP.Utils.optionsOverride(options, 'media', 'mediaConstraints', true, this.logger, this.ua.configuration.media);\n    this.mediaHint = options.media;\n\n    this.onInfo = options.onInfo;\n\n    // commented out now-unused hold-related variables for jshint. See below. JMF 2014-1-21\n    var\n      //idx, length, hasAudio, hasVideo,\n      self = this,\n      request = this.request,\n      extraHeaders = (options.extraHeaders || []).slice(),\n    //mediaStream = options.mediaStream || null,\n      iceServers,\n      stunServers = options.stunServers || null,\n      turnServers = options.turnServers || null,\n      descriptionCreationSucceeded = function(description) {\n        var\n          response,\n          // run for reply success callback\n          replySucceeded = function() {\n            self.status = C.STATUS_WAITING_FOR_ACK;\n\n            self.setInvite2xxTimer(request, description);\n            self.setACKTimer();\n          },\n\n          // run for reply failure callback\n          replyFailed = function() {\n            self.failed(null, SIP.C.causes.CONNECTION_ERROR);\n            self.terminated(null, SIP.C.causes.CONNECTION_ERROR);\n          };\n\n        // Chrome might call onaddstream before accept() is called, which means\n        // mediaHandler.render() was called without a renderHint, so we need to\n        // re-render now that mediaHint.render has been set.\n        //\n        // Chrome seems to be in the right regarding this, see\n        // http://dev.w3.org/2011/webrtc/editor/webrtc.html#widl-RTCPeerConnection-onaddstream\n        self.mediaHandler.render();\n\n        extraHeaders.push('Contact: ' + self.contact);\n        extraHeaders.push('Allow: ' + SIP.UA.C.ALLOWED_METHODS.toString());\n\n        // TODO test\n        // http://tools.ietf.org/html/rfc4028#section-9\n        var supportedOptions = request.parseHeader('Supported') || [];\n        var sessionExpires = request.parseHeader('Session-Expires') || {};\n        var interval = sessionExpires.deltaSeconds;\n        if (interval) {\n          var refresher = sessionExpires.refresher || 'uas';\n          extraHeaders.push('Session-Expires: ' + interval + ';' + refresher);\n          if (refresher === 'uac' || supportedOptions.indexOf('timer') >= 0) {\n            extraHeaders.push('Require: timer');\n          }\n        }\n\n        if(!self.hasOffer) {\n          self.hasOffer = true;\n        } else {\n          self.hasAnswer = true;\n        }\n        response = request.reply(200, null, extraHeaders,\n                      description,\n                      replySucceeded,\n                      replyFailed\n                     );\n        if (self.status !== C.STATUS_TERMINATED) { // Didn't fail\n          self.accepted(response, SIP.Utils.getReasonPhrase(200));\n        }\n      },\n\n      descriptionCreationFailed = function() {\n        if (self.status === C.STATUS_TERMINATED) {\n          return;\n        }\n        // TODO - fail out on error\n        self.request.reply(480);\n        //self.failed(response, SIP.C.causes.USER_DENIED_MEDIA_ACCESS);\n        self.failed(null, SIP.C.causes.WEBRTC_ERROR);\n        self.terminated(null, SIP.C.causes.WEBRTC_ERROR);\n      };\n\n    // Check Session Status\n    if (this.status === C.STATUS_WAITING_FOR_PRACK) {\n      this.status = C.STATUS_ANSWERED_WAITING_FOR_PRACK;\n      return this;\n    } else if (this.status === C.STATUS_WAITING_FOR_ANSWER) {\n      this.status = C.STATUS_ANSWERED;\n    } else if (this.status !== C.STATUS_EARLY_MEDIA) {\n      throw new SIP.Exceptions.InvalidStateError(this.status);\n    }\n\n    if ((stunServers || turnServers) &&\n        (this.status !== C.STATUS_EARLY_MEDIA && this.status !== C.STATUS_ANSWERED_WAITING_FOR_PRACK)) {\n      if (stunServers) {\n        iceServers = SIP.UA.configuration_check.optional['stunServers'](stunServers);\n        if (!iceServers) {\n          throw new TypeError('Invalid stunServers: '+ stunServers);\n        } else {\n          this.stunServers = iceServers;\n        }\n      }\n\n      if (turnServers) {\n        iceServers = SIP.UA.configuration_check.optional['turnServers'](turnServers);\n        if (!iceServers) {\n          throw new TypeError('Invalid turnServers: '+ turnServers);\n        } else {\n          this.turnServers = iceServers;\n        }\n      }\n\n      this.mediaHandler.updateIceServers({\n        stunServers: this.stunServers,\n        turnServers: this.turnServers\n      });\n    }\n\n    // An error on dialog creation will fire 'failed' event\n    if(!this.createDialog(request, 'UAS')) {\n      request.reply(500, 'Missing Contact header field');\n      return this;\n    }\n\n    SIP.Timers.clearTimeout(this.timers.userNoAnswerTimer);\n\n    // this hold-related code breaks FF accepting new calls - JMF 2014-1-21\n    /*\n    length = this.getRemoteStreams().length;\n\n    for (idx = 0; idx < length; idx++) {\n      if (this.mediaHandler.getRemoteStreams()[idx].getVideoTracks().length > 0) {\n        hasVideo = true;\n      }\n      if (this.mediaHandler.getRemoteStreams()[idx].getAudioTracks().length > 0) {\n        hasAudio = true;\n      }\n    }\n\n    if (!hasAudio && this.mediaConstraints.audio === true) {\n      this.mediaConstraints.audio = false;\n      if (mediaStream) {\n        length = mediaStream.getAudioTracks().length;\n        for (idx = 0; idx < length; idx++) {\n          mediaStream.removeTrack(mediaStream.getAudioTracks()[idx]);\n        }\n      }\n    }\n\n    if (!hasVideo && this.mediaConstraints.video === true) {\n      this.mediaConstraints.video = false;\n      if (mediaStream) {\n        length = mediaStream.getVideoTracks().length;\n        for (idx = 0; idx < length; idx++) {\n          mediaStream.removeTrack(mediaStream.getVideoTracks()[idx]);\n        }\n      }\n    }\n    */\n\n    if (this.status === C.STATUS_EARLY_MEDIA) {\n      descriptionCreationSucceeded({});\n    } else {\n      this.mediaHandler.getDescription(self.mediaHint)\n      .then(\n        descriptionCreationSucceeded,\n        descriptionCreationFailed\n      );\n    }\n\n    return this;\n  },\n\n  receiveRequest: function(request) {\n\n    // ISC RECEIVE REQUEST\n\n    function confirmSession() {\n      /* jshint validthis:true */\n      var contentType;\n\n      SIP.Timers.clearTimeout(this.timers.ackTimer);\n      SIP.Timers.clearTimeout(this.timers.invite2xxTimer);\n      this.status = C.STATUS_CONFIRMED;\n      this.unmute();\n\n      // TODO - this logic assumes Content-Disposition defaults\n      contentType = request.getHeader('Content-Type');\n      if (!this.mediaHandler.hasDescription(request)) {\n        this.renderbody = request.body;\n        this.rendertype = contentType;\n      }\n\n      this.emit('confirmed', request);\n    }\n\n    switch(request.method) {\n    case SIP.C.CANCEL:\n      /* RFC3261 15 States that a UAS may have accepted an invitation while a CANCEL\n       * was in progress and that the UAC MAY continue with the session established by\n       * any 2xx response, or MAY terminate with BYE. SIP does continue with the\n       * established session. So the CANCEL is processed only if the session is not yet\n       * established.\n       */\n\n      /*\n       * Terminate the whole session in case the user didn't accept (or yet to send the answer) nor reject the\n       *request opening the session.\n       */\n      if(this.status === C.STATUS_WAITING_FOR_ANSWER ||\n         this.status === C.STATUS_WAITING_FOR_PRACK ||\n         this.status === C.STATUS_ANSWERED_WAITING_FOR_PRACK ||\n         this.status === C.STATUS_EARLY_MEDIA ||\n         this.status === C.STATUS_ANSWERED) {\n\n        this.status = C.STATUS_CANCELED;\n        this.request.reply(487);\n        this.canceled(request);\n        this.rejected(request, SIP.C.causes.CANCELED);\n        this.failed(request, SIP.C.causes.CANCELED);\n        this.terminated(request, SIP.C.causes.CANCELED);\n      }\n      break;\n    case SIP.C.ACK:\n      if(this.status === C.STATUS_WAITING_FOR_ACK) {\n        if (!this.hasAnswer) {\n          if(this.mediaHandler.hasDescription(request)) {\n            // ACK contains answer to an INVITE w/o SDP negotiation\n            this.hasAnswer = true;\n            this.mediaHandler.setDescription(request)\n            .then(\n              confirmSession.bind(this),\n              function onFailure (e) {\n                this.logger.warn(e);\n                this.terminate({\n                  statusCode: '488',\n                  reasonPhrase: 'Bad Media Description'\n                });\n                this.failed(request, SIP.C.causes.BAD_MEDIA_DESCRIPTION);\n                this.terminated(request, SIP.C.causes.BAD_MEDIA_DESCRIPTION);\n              }.bind(this)\n            );\n          } else if (this.early_sdp) {\n            confirmSession.apply(this);\n          } else {\n            //TODO: Pass to mediahandler\n            this.failed(request, SIP.C.causes.BAD_MEDIA_DESCRIPTION);\n            this.terminated(request, SIP.C.causes.BAD_MEDIA_DESCRIPTION);\n          }\n        } else {\n          confirmSession.apply(this);\n        }\n      }\n      break;\n    case SIP.C.PRACK:\n      if (this.status === C.STATUS_WAITING_FOR_PRACK || this.status === C.STATUS_ANSWERED_WAITING_FOR_PRACK) {\n        //localMedia = session.mediaHandler.localMedia;\n        if(!this.hasAnswer) {\n          if(this.mediaHandler.hasDescription(request)) {\n            this.hasAnswer = true;\n            this.mediaHandler.setDescription(request)\n            .then(\n              function onSuccess () {\n                SIP.Timers.clearTimeout(this.timers.rel1xxTimer);\n                SIP.Timers.clearTimeout(this.timers.prackTimer);\n                request.reply(200);\n                if (this.status === C.STATUS_ANSWERED_WAITING_FOR_PRACK) {\n                  this.status = C.STATUS_EARLY_MEDIA;\n                  this.accept();\n                }\n                this.status = C.STATUS_EARLY_MEDIA;\n                //REVISIT\n                this.mute();\n              }.bind(this),\n              function onFailure (e) {\n                //TODO: Send to media handler\n                this.logger.warn(e);\n                this.terminate({\n                  statusCode: '488',\n                  reasonPhrase: 'Bad Media Description'\n                });\n                this.failed(request, SIP.C.causes.BAD_MEDIA_DESCRIPTION);\n                this.terminated(request, SIP.C.causes.BAD_MEDIA_DESCRIPTION);\n              }.bind(this)\n            );\n          } else {\n            this.terminate({\n              statusCode: '488',\n              reasonPhrase: 'Bad Media Description'\n            });\n            this.failed(request, SIP.C.causes.BAD_MEDIA_DESCRIPTION);\n            this.terminated(request, SIP.C.causes.BAD_MEDIA_DESCRIPTION);\n          }\n        } else {\n          SIP.Timers.clearTimeout(this.timers.rel1xxTimer);\n          SIP.Timers.clearTimeout(this.timers.prackTimer);\n          request.reply(200);\n\n          if (this.status === C.STATUS_ANSWERED_WAITING_FOR_PRACK) {\n            this.status = C.STATUS_EARLY_MEDIA;\n            this.accept();\n          }\n          this.status = C.STATUS_EARLY_MEDIA;\n          //REVISIT\n          this.mute();\n        }\n      } else if(this.status === C.STATUS_EARLY_MEDIA) {\n        request.reply(200);\n      }\n      break;\n    default:\n      Session.prototype.receiveRequest.apply(this, [request]);\n      break;\n    }\n  },\n\n  onTransportError: function() {\n    if (this.status !== C.STATUS_CONFIRMED && this.status !== C.STATUS_TERMINATED) {\n      this.failed(null, SIP.C.causes.CONNECTION_ERROR);\n    }\n  },\n\n  onRequestTimeout: function() {\n    if (this.status === C.STATUS_CONFIRMED) {\n      this.terminated(null, SIP.C.causes.REQUEST_TIMEOUT);\n    } else if (this.status !== C.STATUS_TERMINATED) {\n      this.failed(null, SIP.C.causes.REQUEST_TIMEOUT);\n      this.terminated(null, SIP.C.causes.REQUEST_TIMEOUT);\n    }\n  }\n\n};\n\nSIP.InviteServerContext = InviteServerContext;\n\nInviteClientContext = function(ua, target, options) {\n  options = Object.create(Session.desugar(options));\n  options.params = Object.create(options.params || Object.prototype);\n\n  var iceServers,\n    extraHeaders = (options.extraHeaders || []).slice(),\n    stunServers = options.stunServers || null,\n    turnServers = options.turnServers || null,\n    mediaHandlerFactory = options.mediaHandlerFactory || ua.configuration.mediaHandlerFactory,\n    isMediaSupported = mediaHandlerFactory.isSupported;\n\n  // Check WebRTC support\n  if (isMediaSupported && !isMediaSupported()) {\n    throw new SIP.Exceptions.NotSupportedError('Media not supported');\n  }\n\n  this.RTCConstraints = options.RTCConstraints || {};\n  this.inviteWithoutSdp = options.inviteWithoutSdp || false;\n\n  // Set anonymous property\n  this.anonymous = options.anonymous || false;\n\n  // Custom data to be sent either in INVITE or in ACK\n  this.renderbody = options.renderbody || null;\n  this.rendertype = options.rendertype || 'text/plain';\n\n  options.params.from_tag = this.from_tag;\n\n  /* Do not add ;ob in initial forming dialog requests if the registration over\n   *  the current connection got a GRUU URI.\n   */\n  this.contact = ua.contact.toString({\n    anonymous: this.anonymous,\n    outbound: this.anonymous ? !ua.contact.temp_gruu : !ua.contact.pub_gruu\n  });\n\n  if (this.anonymous) {\n    options.params.from_displayName = 'Anonymous';\n    options.params.from_uri = 'sip:anonymous@anonymous.invalid';\n\n    extraHeaders.push('P-Preferred-Identity: '+ ua.configuration.uri.toString());\n    extraHeaders.push('Privacy: id');\n  }\n  extraHeaders.push('Contact: '+ this.contact);\n  extraHeaders.push('Allow: '+ SIP.UA.C.ALLOWED_METHODS.toString());\n  if (this.inviteWithoutSdp && this.renderbody) {\n    extraHeaders.push('Content-Type: ' + this.rendertype);\n    extraHeaders.push('Content-Disposition: render;handling=optional');\n  }\n\n  if (ua.configuration.rel100 === SIP.C.supported.REQUIRED) {\n    extraHeaders.push('Require: 100rel');\n  }\n  if (ua.configuration.replaces === SIP.C.supported.REQUIRED) {\n    extraHeaders.push('Require: replaces');\n  }\n\n  options.extraHeaders = extraHeaders;\n\n  SIP.Utils.augment(this, SIP.ClientContext, [ua, SIP.C.INVITE, target, options]);\n  SIP.Utils.augment(this, SIP.Session, [mediaHandlerFactory]);\n\n  // Check Session Status\n  if (this.status !== C.STATUS_NULL) {\n    throw new SIP.Exceptions.InvalidStateError(this.status);\n  }\n\n  // Session parameter initialization\n  this.from_tag = SIP.Utils.newTag();\n\n  // OutgoingSession specific parameters\n  this.isCanceled = false;\n  this.received_100 = false;\n\n  this.method = SIP.C.INVITE;\n\n  this.receiveNonInviteResponse = this.receiveResponse;\n  this.receiveResponse = this.receiveInviteResponse;\n\n  this.logger = ua.getLogger('sip.inviteclientcontext');\n\n  if (stunServers) {\n    iceServers = SIP.UA.configuration_check.optional['stunServers'](stunServers);\n    if (!iceServers) {\n      throw new TypeError('Invalid stunServers: '+ stunServers);\n    } else {\n      this.stunServers = iceServers;\n    }\n  }\n\n  if (turnServers) {\n    iceServers = SIP.UA.configuration_check.optional['turnServers'](turnServers);\n    if (!iceServers) {\n      throw new TypeError('Invalid turnServers: '+ turnServers);\n    } else {\n      this.turnServers = iceServers;\n    }\n  }\n\n  ua.applicants[this] = this;\n\n  this.id = this.request.call_id + this.from_tag;\n\n  //Initialize Media Session\n  this.mediaHandler = this.mediaHandlerFactory(this, {\n    RTCConstraints: this.RTCConstraints,\n    stunServers: this.stunServers,\n    turnServers: this.turnServers\n  });\n\n  if (this.mediaHandler && this.mediaHandler.getRemoteStreams) {\n    this.getRemoteStreams = this.mediaHandler.getRemoteStreams.bind(this.mediaHandler);\n    this.getLocalStreams = this.mediaHandler.getLocalStreams.bind(this.mediaHandler);\n  }\n\n  SIP.Utils.optionsOverride(options, 'media', 'mediaConstraints', true, this.logger, this.ua.configuration.media);\n  this.mediaHint = options.media;\n\n  this.onInfo = options.onInfo;\n};\n\nInviteClientContext.prototype = {\n  invite: function () {\n    var self = this;\n\n    //Save the session into the ua sessions collection.\n    //Note: placing in constructor breaks call to request.cancel on close... User does not need this anyway\n    this.ua.sessions[this.id] = this;\n\n    //Note: due to the way Firefox handles gUM calls, it is recommended to make the gUM call at the app level\n    // and hand sip.js a stream as the mediaHint\n    if (this.inviteWithoutSdp) {\n      //just send an invite with no sdp...\n      this.request.body = self.renderbody;\n      this.status = C.STATUS_INVITE_SENT;\n      this.send();\n    } else {\n      this.mediaHandler.getDescription(self.mediaHint)\n      .then(\n        function onSuccess(description) {\n          if (self.isCanceled || self.status === C.STATUS_TERMINATED) {\n            return;\n          }\n          self.hasOffer = true;\n          self.request.body = description;\n          self.status = C.STATUS_INVITE_SENT;\n          self.send();\n        },\n        function onFailure() {\n          if (self.status === C.STATUS_TERMINATED) {\n            return;\n          }\n          // TODO...fail out\n          //self.failed(null, SIP.C.causes.USER_DENIED_MEDIA_ACCESS);\n          //self.failed(null, SIP.C.causes.WEBRTC_ERROR);\n          self.failed(null, SIP.C.causes.WEBRTC_ERROR);\n          self.terminated(null, SIP.C.causes.WEBRTC_ERROR);\n        }\n      );\n    }\n\n    return this;\n  },\n\n  receiveInviteResponse: function(response) {\n    var cause, //localMedia,\n      session = this,\n      id = response.call_id + response.from_tag + response.to_tag,\n      extraHeaders = [],\n      options = {};\n\n    if (this.status === C.STATUS_TERMINATED || response.method !== SIP.C.INVITE) {\n      return;\n    }\n\n    if (this.dialog && (response.status_code >= 200 && response.status_code <= 299)) {\n      if (id !== this.dialog.id.toString() ) {\n        if (!this.createDialog(response, 'UAC', true)) {\n          return;\n        }\n        this.earlyDialogs[id].sendRequest(this, SIP.C.ACK,\n                                          {\n                                            body: SIP.Utils.generateFakeSDP(response.body)\n                                          });\n        this.earlyDialogs[id].sendRequest(this, SIP.C.BYE);\n\n        /* NOTE: This fails because the forking proxy does not recognize that an unanswerable\n         * leg (due to peerConnection limitations) has been answered first. If your forking\n         * proxy does not hang up all unanswered branches on the first branch answered, remove this.\n         */\n        if(this.status !== C.STATUS_CONFIRMED) {\n          this.failed(response, SIP.C.causes.WEBRTC_ERROR);\n          this.terminated(response, SIP.C.causes.WEBRTC_ERROR);\n        }\n        return;\n      } else if (this.status === C.STATUS_CONFIRMED) {\n        this.sendRequest(SIP.C.ACK,{cseq: response.cseq});\n        return;\n      } else if (!this.hasAnswer) {\n        // invite w/o sdp is waiting for callback\n        //an invite with sdp must go on, and hasAnswer is true\n        return;\n      }\n    }\n\n    if (this.dialog && response.status_code < 200) {\n      /*\n        Early media has been set up with at least one other different branch,\n        but a final 2xx response hasn't been received\n      */\n      if (this.dialog.pracked.indexOf(response.getHeader('rseq')) !== -1 ||\n          (this.dialog.pracked[this.dialog.pracked.length-1] >= response.getHeader('rseq') && this.dialog.pracked.length > 0)) {\n        return;\n      }\n\n      if (!this.earlyDialogs[id] && !this.createDialog(response, 'UAC', true)) {\n        return;\n      }\n\n      if (this.earlyDialogs[id].pracked.indexOf(response.getHeader('rseq')) !== -1 ||\n          (this.earlyDialogs[id].pracked[this.earlyDialogs[id].pracked.length-1] >= response.getHeader('rseq') && this.earlyDialogs[id].pracked.length > 0)) {\n        return;\n      }\n\n      extraHeaders.push('RAck: ' + response.getHeader('rseq') + ' ' + response.getHeader('cseq'));\n      this.earlyDialogs[id].pracked.push(response.getHeader('rseq'));\n\n      this.earlyDialogs[id].sendRequest(this, SIP.C.PRACK, {\n        extraHeaders: extraHeaders,\n        body: SIP.Utils.generateFakeSDP(response.body)\n      });\n      return;\n    }\n\n    // Proceed to cancellation if the user requested.\n    if(this.isCanceled) {\n      if(response.status_code >= 100 && response.status_code < 200) {\n        this.request.cancel(this.cancelReason, extraHeaders);\n        this.canceled(null);\n      } else if(response.status_code >= 200 && response.status_code < 299) {\n        this.acceptAndTerminate(response);\n        this.emit('bye', this.request);\n      } else if (response.status_code >= 300) {\n        cause = SIP.C.REASON_PHRASE[response.status_code] || SIP.C.causes.CANCELED;\n        this.rejected(response, cause);\n        this.failed(response, cause);\n        this.terminated(response, cause);\n      }\n      return;\n    }\n\n    switch(true) {\n      case /^100$/.test(response.status_code):\n        this.received_100 = true;\n        this.emit('progress', response);\n        break;\n      case (/^1[0-9]{2}$/.test(response.status_code)):\n        // Do nothing with 1xx responses without To tag.\n        if(!response.to_tag) {\n          this.logger.warn('1xx response received without to tag');\n          break;\n        }\n\n        // Create Early Dialog if 1XX comes with contact\n        if(response.hasHeader('contact')) {\n          // An error on dialog creation will fire 'failed' event\n          if (!this.createDialog(response, 'UAC', true)) {\n            break;\n          }\n        }\n\n        this.status = C.STATUS_1XX_RECEIVED;\n\n        if(response.hasHeader('require') &&\n           response.getHeader('require').indexOf('100rel') !== -1) {\n\n          // Do nothing if this.dialog is already confirmed\n          if (this.dialog || !this.earlyDialogs[id]) {\n            break;\n          }\n\n          if (this.earlyDialogs[id].pracked.indexOf(response.getHeader('rseq')) !== -1 ||\n              (this.earlyDialogs[id].pracked[this.earlyDialogs[id].pracked.length-1] >= response.getHeader('rseq') && this.earlyDialogs[id].pracked.length > 0)) {\n            return;\n          }\n\n          if (!this.mediaHandler.hasDescription(response)) {\n            extraHeaders.push('RAck: ' + response.getHeader('rseq') + ' ' + response.getHeader('cseq'));\n            this.earlyDialogs[id].pracked.push(response.getHeader('rseq'));\n            this.earlyDialogs[id].sendRequest(this, SIP.C.PRACK, {\n              extraHeaders: extraHeaders\n            });\n            this.emit('progress', response);\n\n          } else if (this.hasOffer) {\n            if (!this.createDialog(response, 'UAC')) {\n              break;\n            }\n            this.hasAnswer = true;\n            this.dialog.pracked.push(response.getHeader('rseq'));\n\n            this.mediaHandler.setDescription(response)\n            .then(\n              function onSuccess () {\n                extraHeaders.push('RAck: ' + response.getHeader('rseq') + ' ' + response.getHeader('cseq'));\n\n                session.sendRequest(SIP.C.PRACK, {\n                  extraHeaders: extraHeaders,\n                  receiveResponse: function() {}\n                });\n                session.status = C.STATUS_EARLY_MEDIA;\n                session.mute();\n                session.emit('progress', response);\n                /*\n                if (session.status === C.STATUS_EARLY_MEDIA) {\n                  localMedia = session.mediaHandler.localMedia;\n                  if (localMedia.getAudioTracks().length > 0) {\n                    localMedia.getAudioTracks()[0].enabled = false;\n                  }\n                  if (localMedia.getVideoTracks().length > 0) {\n                    localMedia.getVideoTracks()[0].enabled = false;\n                  }\n                }*/\n              },\n              function onFailure (e) {\n                session.logger.warn(e);\n                session.acceptAndTerminate(response, 488, 'Not Acceptable Here');\n                session.failed(response, SIP.C.causes.BAD_MEDIA_DESCRIPTION);\n              }\n            );\n          } else {\n            var earlyDialog = this.earlyDialogs[id];\n            var earlyMedia = earlyDialog.mediaHandler;\n\n            earlyDialog.pracked.push(response.getHeader('rseq'));\n\n            earlyMedia.setDescription(response)\n            .then(earlyMedia.getDescription.bind(earlyMedia, session.mediaHint))\n            .then(function onSuccess(description) {\n              extraHeaders.push('RAck: ' + response.getHeader('rseq') + ' ' + response.getHeader('cseq'));\n              earlyDialog.sendRequest(session, SIP.C.PRACK, {\n                extraHeaders: extraHeaders,\n                body: description\n              });\n              session.status = C.STATUS_EARLY_MEDIA;\n              session.emit('progress', response);\n            })\n            .catch(function onFailure(e) {\n              if (e instanceof SIP.Exceptions.GetDescriptionError) {\n                earlyDialog.pracked.push(response.getHeader('rseq'));\n                if (session.status === C.STATUS_TERMINATED) {\n                  return;\n                }\n                // TODO - fail out on error\n                // session.failed(gum error);\n                session.failed(null, SIP.C.causes.WEBRTC_ERROR);\n                session.terminated(null, SIP.C.causes.WEBRTC_ERROR);\n              } else {\n                earlyDialog.pracked.splice(earlyDialog.pracked.indexOf(response.getHeader('rseq')), 1);\n                // Could not set remote description\n                session.logger.warn('invalid description');\n                session.logger.warn(e);\n              }\n            });\n          }\n        } else {\n          this.emit('progress', response);\n        }\n        break;\n      case /^2[0-9]{2}$/.test(response.status_code):\n        var cseq = this.request.cseq + ' ' + this.request.method;\n        if (cseq !== response.getHeader('cseq')) {\n          break;\n        }\n\n        if (this.status === C.STATUS_EARLY_MEDIA && this.dialog) {\n          this.status = C.STATUS_CONFIRMED;\n          this.unmute();\n          /*localMedia = this.mediaHandler.localMedia;\n          if (localMedia.getAudioTracks().length > 0) {\n            localMedia.getAudioTracks()[0].enabled = true;\n          }\n          if (localMedia.getVideoTracks().length > 0) {\n            localMedia.getVideoTracks()[0].enabled = true;\n          }*/\n          options = {};\n          if (this.renderbody) {\n            extraHeaders.push('Content-Type: ' + this.rendertype);\n            options.extraHeaders = extraHeaders;\n            options.body = this.renderbody;\n          }\n          options.cseq = response.cseq;\n          this.sendRequest(SIP.C.ACK, options);\n          this.accepted(response);\n          break;\n        }\n        // Do nothing if this.dialog is already confirmed\n        if (this.dialog) {\n          break;\n        }\n\n        // This is an invite without sdp\n        if (!this.hasOffer) {\n          if (this.earlyDialogs[id] && this.earlyDialogs[id].mediaHandler.localMedia) {\n            //REVISIT\n            this.hasOffer = true;\n            this.hasAnswer = true;\n            this.mediaHandler = this.earlyDialogs[id].mediaHandler;\n            if (!this.createDialog(response, 'UAC')) {\n              break;\n            }\n            this.status = C.STATUS_CONFIRMED;\n            this.sendRequest(SIP.C.ACK, {cseq:response.cseq});\n\n            this.unmute();\n            /*\n            localMedia = session.mediaHandler.localMedia;\n            if (localMedia.getAudioTracks().length > 0) {\n              localMedia.getAudioTracks()[0].enabled = true;\n            }\n            if (localMedia.getVideoTracks().length > 0) {\n              localMedia.getVideoTracks()[0].enabled = true;\n            }*/\n            this.accepted(response);\n          } else {\n            if(!this.mediaHandler.hasDescription(response)) {\n              this.acceptAndTerminate(response, 400, 'Missing session description');\n              this.failed(response, SIP.C.causes.BAD_MEDIA_DESCRIPTION);\n              break;\n            }\n            if (!this.createDialog(response, 'UAC')) {\n              break;\n            }\n            this.hasOffer = true;\n            this.mediaHandler.setDescription(response)\n            .then(this.mediaHandler.getDescription.bind(this.mediaHandler, this.mediaHint))\n            .then(function onSuccess(description) {\n              //var localMedia;\n              if(session.isCanceled || session.status === C.STATUS_TERMINATED) {\n                return;\n              }\n\n              session.status = C.STATUS_CONFIRMED;\n              session.hasAnswer = true;\n\n              session.unmute();\n              /*localMedia = session.mediaHandler.localMedia;\n              if (localMedia.getAudioTracks().length > 0) {\n                localMedia.getAudioTracks()[0].enabled = true;\n              }\n              if (localMedia.getVideoTracks().length > 0) {\n                localMedia.getVideoTracks()[0].enabled = true;\n              }*/\n              session.sendRequest(SIP.C.ACK,{\n                body: description,\n                cseq:response.cseq\n              });\n              session.accepted(response);\n            })\n            .catch(function onFailure(e) {\n              if (e instanceof SIP.Exceptions.GetDescriptionError) {\n                // TODO do something here\n                session.logger.warn(\"there was a problem\");\n              } else {\n                session.logger.warn('invalid description');\n                session.logger.warn(e);\n                response.reply(488);\n              }\n            });\n          }\n        } else if (this.hasAnswer){\n          if (this.renderbody) {\n            extraHeaders.push('Content-Type: ' + session.rendertype);\n            options.extraHeaders = extraHeaders;\n            options.body = this.renderbody;\n          }\n          this.sendRequest(SIP.C.ACK, options);\n        } else {\n          if(!this.mediaHandler.hasDescription(response)) {\n            this.acceptAndTerminate(response, 400, 'Missing session description');\n            this.failed(response, SIP.C.causes.BAD_MEDIA_DESCRIPTION);\n            break;\n          }\n          if (!this.createDialog(response, 'UAC')) {\n            break;\n          }\n          this.hasAnswer = true;\n          this.mediaHandler.setDescription(response)\n          .then(\n            function onSuccess () {\n              var options = {};//,localMedia;\n              session.status = C.STATUS_CONFIRMED;\n              session.unmute();\n              /*localMedia = session.mediaHandler.localMedia;\n              if (localMedia.getAudioTracks().length > 0) {\n                localMedia.getAudioTracks()[0].enabled = true;\n              }\n              if (localMedia.getVideoTracks().length > 0) {\n                localMedia.getVideoTracks()[0].enabled = true;\n              }*/\n              if (session.renderbody) {\n                extraHeaders.push('Content-Type: ' + session.rendertype);\n                options.extraHeaders = extraHeaders;\n                options.body = session.renderbody;\n              }\n              options.cseq = response.cseq;\n              session.sendRequest(SIP.C.ACK, options);\n              session.accepted(response);\n            },\n            function onFailure (e) {\n              session.logger.warn(e);\n              session.acceptAndTerminate(response, 488, 'Not Acceptable Here');\n              session.failed(response, SIP.C.causes.BAD_MEDIA_DESCRIPTION);\n            }\n          );\n        }\n        break;\n      default:\n        cause = SIP.Utils.sipErrorCause(response.status_code);\n        this.rejected(response, cause);\n        this.failed(response, cause);\n        this.terminated(response, cause);\n    }\n  },\n\n  cancel: function(options) {\n    options = options || {};\n\n    options.extraHeaders = (options.extraHeaders || []).slice();\n\n    // Check Session Status\n    if (this.status === C.STATUS_TERMINATED || this.status === C.STATUS_CONFIRMED) {\n      throw new SIP.Exceptions.InvalidStateError(this.status);\n    }\n\n    this.logger.log('canceling RTCSession');\n\n    var cancel_reason = SIP.Utils.getCancelReason(options.status_code, options.reason_phrase);\n\n    // Check Session Status\n    if (this.status === C.STATUS_NULL ||\n        (this.status === C.STATUS_INVITE_SENT && !this.received_100)) {\n      this.isCanceled = true;\n      this.cancelReason = cancel_reason;\n    } else if (this.status === C.STATUS_INVITE_SENT ||\n               this.status === C.STATUS_1XX_RECEIVED ||\n               this.status === C.STATUS_EARLY_MEDIA) {\n      this.request.cancel(cancel_reason, options.extraHeaders);\n    }\n\n    return this.canceled();\n  },\n\n  terminate: function(options) {\n    if (this.status === C.STATUS_TERMINATED) {\n      return this;\n    }\n\n    if (this.status === C.STATUS_WAITING_FOR_ACK || this.status === C.STATUS_CONFIRMED) {\n      this.bye(options);\n    } else {\n      this.cancel(options);\n    }\n\n    return this;\n  },\n\n  receiveRequest: function(request) {\n    // ICC RECEIVE REQUEST\n\n    // Reject CANCELs\n    if (request.method === SIP.C.CANCEL) {\n      // TODO; make this a switch when it gets added\n    }\n\n    if (request.method === SIP.C.ACK && this.status === C.STATUS_WAITING_FOR_ACK) {\n      SIP.Timers.clearTimeout(this.timers.ackTimer);\n      SIP.Timers.clearTimeout(this.timers.invite2xxTimer);\n      this.status = C.STATUS_CONFIRMED;\n      this.unmute();\n\n      this.accepted();\n    }\n\n    return Session.prototype.receiveRequest.apply(this, [request]);\n  },\n\n  onTransportError: function() {\n    if (this.status !== C.STATUS_CONFIRMED && this.status !== C.STATUS_TERMINATED) {\n      this.failed(null, SIP.C.causes.CONNECTION_ERROR);\n    }\n  },\n\n  onRequestTimeout: function() {\n    if (this.status === C.STATUS_CONFIRMED) {\n      this.terminated(null, SIP.C.causes.REQUEST_TIMEOUT);\n    } else if (this.status !== C.STATUS_TERMINATED) {\n      this.failed(null, SIP.C.causes.REQUEST_TIMEOUT);\n      this.terminated(null, SIP.C.causes.REQUEST_TIMEOUT);\n    }\n  }\n\n};\n\nSIP.InviteClientContext = InviteClientContext;\n\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1Nlc3Npb24uanM/YjBkYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiOztBQUVBLFdBQVcsbUJBQU8sQ0FBQyx5QkFBZ0I7QUFDbkMsY0FBYyxtQkFBTyxDQUFDLG9CQUFXOztBQUVqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVyxvQ0FBb0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGVBQWUsWUFBWTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLFlBQVk7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLDhCQUE4QixvREFBb0Q7O0FBRWxGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AscUNBQXFDLG1CQUFtQjtBQUN4RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsRUFBRTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTzs7QUFFUDs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0RBQXdELEVBQUU7QUFDMUQsdURBQXVELElBQUk7O0FBRTNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9DQUFvQyxtQkFBbUI7QUFDdkQsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixFQUFFO0FBQ3RCO0FBQ0Esb0JBQW9CLEVBQUU7QUFDdEI7O0FBRUEsb0NBQW9DLG1CQUFtQjs7QUFFdkQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0NBQWtDLG9CQUFvQjtBQUN0RDtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIseUJBQXlCO0FBQ2hELEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix5QkFBeUI7QUFDbEQsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQixjQUFjLCtCQUErQjtBQUNsRSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlEQUFpRDs7QUFFakQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUI7O0FBRW5CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsY0FBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixjQUFjO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGNBQWM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFDQUFxQztBQUNyQyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxvQ0FBb0Msb0JBQW9CO0FBQ3hEO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLEVBQUU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUEsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixFQUFFO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxtQkFBbUI7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEiLCJmaWxlIjoiMzYyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChTSVAsIGVudmlyb25tZW50KSB7XG5cbnZhciBEVE1GID0gcmVxdWlyZSgnLi9TZXNzaW9uL0RUTUYnKShTSVApO1xudmFyIFJGQzQwMjggPSByZXF1aXJlKCcuL1JGQzQwMjgnKShTSVAuVGltZXJzKTtcblxudmFyIFNlc3Npb24sIEludml0ZVNlcnZlckNvbnRleHQsIEludml0ZUNsaWVudENvbnRleHQsXG4gQyA9IHtcbiAgICAvL1Nlc3Npb24gc3RhdGVzXG4gICAgU1RBVFVTX05VTEw6ICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICBTVEFUVVNfSU5WSVRFX1NFTlQ6ICAgICAgICAgICAgICAgICAxLFxuICAgIFNUQVRVU18xWFhfUkVDRUlWRUQ6ICAgICAgICAgICAgICAgIDIsXG4gICAgU1RBVFVTX0lOVklURV9SRUNFSVZFRDogICAgICAgICAgICAgMyxcbiAgICBTVEFUVVNfV0FJVElOR19GT1JfQU5TV0VSOiAgICAgICAgICA0LFxuICAgIFNUQVRVU19BTlNXRVJFRDogICAgICAgICAgICAgICAgICAgIDUsXG4gICAgU1RBVFVTX1dBSVRJTkdfRk9SX1BSQUNLOiAgICAgICAgICAgNixcbiAgICBTVEFUVVNfV0FJVElOR19GT1JfQUNLOiAgICAgICAgICAgICA3LFxuICAgIFNUQVRVU19DQU5DRUxFRDogICAgICAgICAgICAgICAgICAgIDgsXG4gICAgU1RBVFVTX1RFUk1JTkFURUQ6ICAgICAgICAgICAgICAgICAgOSxcbiAgICBTVEFUVVNfQU5TV0VSRURfV0FJVElOR19GT1JfUFJBQ0s6IDEwLFxuICAgIFNUQVRVU19FQVJMWV9NRURJQTogICAgICAgICAgICAgICAgMTEsXG4gICAgU1RBVFVTX0NPTkZJUk1FRDogICAgICAgICAgICAgICAgICAxMlxuICB9O1xuXG4vKlxuICogQHBhcmFtIHtmdW5jdGlvbiByZXR1cm5pbmcgU0lQLk1lZGlhSGFuZGxlcn0gW21lZGlhSGFuZGxlckZhY3RvcnldXG4gKiAgICAgICAgKFNlZSB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgdGhlIG1lZGlhSGFuZGxlckZhY3RvcnkgYXJndW1lbnQgb2YgdGhlIFVBIGNvbnN0cnVjdG9yLilcbiAqL1xuU2Vzc2lvbiA9IGZ1bmN0aW9uIChtZWRpYUhhbmRsZXJGYWN0b3J5KSB7XG4gIHRoaXMuc3RhdHVzID0gQy5TVEFUVVNfTlVMTDtcbiAgdGhpcy5kaWFsb2cgPSBudWxsO1xuICB0aGlzLmVhcmx5RGlhbG9ncyA9IHt9O1xuICB0aGlzLm1lZGlhSGFuZGxlckZhY3RvcnkgPSBtZWRpYUhhbmRsZXJGYWN0b3J5IHx8IFNJUC5XZWJSVEMuTWVkaWFIYW5kbGVyLmRlZmF1bHRGYWN0b3J5O1xuICAvLyB0aGlzLm1lZGlhSGFuZGxlciBnZXRzIHNldCBieSBJQ0MvSVNDIGNvbnN0cnVjdG9yc1xuICB0aGlzLmhhc09mZmVyID0gZmFsc2U7XG4gIHRoaXMuaGFzQW5zd2VyID0gZmFsc2U7XG5cbiAgLy8gU2Vzc2lvbiBUaW1lcnNcbiAgdGhpcy50aW1lcnMgPSB7XG4gICAgYWNrVGltZXI6IG51bGwsXG4gICAgZXhwaXJlc1RpbWVyOiBudWxsLFxuICAgIGludml0ZTJ4eFRpbWVyOiBudWxsLFxuICAgIHVzZXJOb0Fuc3dlclRpbWVyOiBudWxsLFxuICAgIHJlbDF4eFRpbWVyOiBudWxsLFxuICAgIHByYWNrVGltZXI6IG51bGxcbiAgfTtcblxuICAvLyBTZXNzaW9uIGluZm9cbiAgdGhpcy5zdGFydFRpbWUgPSBudWxsO1xuICB0aGlzLmVuZFRpbWUgPSBudWxsO1xuICB0aGlzLnRvbmVzID0gbnVsbDtcblxuICAvLyBNdXRlL0hvbGQgc3RhdGVcbiAgdGhpcy5sb2NhbF9ob2xkID0gZmFsc2U7XG4gIHRoaXMucmVtb3RlX2hvbGQgPSBmYWxzZTtcblxuICB0aGlzLnBlbmRpbmdfYWN0aW9ucyA9IHtcbiAgICBhY3Rpb25zOiBbXSxcblxuICAgIGxlbmd0aDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5hY3Rpb25zLmxlbmd0aDtcbiAgICB9LFxuXG4gICAgaXNQZW5kaW5nOiBmdW5jdGlvbihuYW1lKXtcbiAgICAgIHZhclxuICAgICAgaWR4ID0gMCxcbiAgICAgIGxlbmd0aCA9IHRoaXMuYWN0aW9ucy5sZW5ndGg7XG5cbiAgICAgIGZvciAoaWR4OyBpZHg8bGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBpZiAodGhpcy5hY3Rpb25zW2lkeF0ubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIHNoaWZ0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmFjdGlvbnMuc2hpZnQoKTtcbiAgICB9LFxuXG4gICAgcHVzaDogZnVuY3Rpb24obmFtZSkge1xuICAgICAgdGhpcy5hY3Rpb25zLnB1c2goe1xuICAgICAgICBuYW1lOiBuYW1lXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgcG9wOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXJcbiAgICAgIGlkeCA9IDAsXG4gICAgICBsZW5ndGggPSB0aGlzLmFjdGlvbnMubGVuZ3RoO1xuXG4gICAgICBmb3IgKGlkeDsgaWR4PGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aW9uc1tpZHhdLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMuc3BsaWNlKGlkeCwxKTtcbiAgICAgICAgICBsZW5ndGggLS07XG4gICAgICAgICAgaWR4LS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICB9O1xuXG4gIHRoaXMuZWFybHlfc2RwID0gbnVsbDtcbiAgdGhpcy5yZWwxMDAgPSBTSVAuQy5zdXBwb3J0ZWQuVU5TVVBQT1JURUQ7XG59O1xuXG5TZXNzaW9uLnByb3RvdHlwZSA9IHtcbiAgZHRtZjogZnVuY3Rpb24odG9uZXMsIG9wdGlvbnMpIHtcbiAgICB2YXIgdG9uZSwgZHRtZnMgPSBbXSxcbiAgICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIGlmICh0b25lcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb3QgZW5vdWdoIGFyZ3VtZW50cycpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIFNlc3Npb24gU3RhdHVzXG4gICAgaWYgKHRoaXMuc3RhdHVzICE9PSBDLlNUQVRVU19DT05GSVJNRUQgJiYgdGhpcy5zdGF0dXMgIT09IEMuU1RBVFVTX1dBSVRJTkdfRk9SX0FDSykge1xuICAgICAgdGhyb3cgbmV3IFNJUC5FeGNlcHRpb25zLkludmFsaWRTdGF0ZUVycm9yKHRoaXMuc3RhdHVzKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayB0b25lc1xuICAgIGlmICgodHlwZW9mIHRvbmVzICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdG9uZXMgIT09ICdudW1iZXInKSB8fCAhdG9uZXMudG9TdHJpbmcoKS5tYXRjaCgvXlswLTlBLUQjKixdKyQvaSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgdG9uZXM6ICcrIHRvbmVzKTtcbiAgICB9XG5cbiAgICB0b25lcyA9IHRvbmVzLnRvU3RyaW5nKCkuc3BsaXQoJycpO1xuXG4gICAgd2hpbGUgKHRvbmVzLmxlbmd0aCA+IDApIHsgZHRtZnMucHVzaChuZXcgRFRNRih0aGlzLCB0b25lcy5zaGlmdCgpLCBvcHRpb25zKSk7IH1cblxuICAgIGlmICh0aGlzLnRvbmVzKSB7XG4gICAgICAvLyBUb25lcyBhcmUgYWxyZWFkeSBxdWV1ZWQsIGp1c3QgYWRkIHRvIHRoZSBxdWV1ZVxuICAgICAgdGhpcy50b25lcyA9ICB0aGlzLnRvbmVzLmNvbmNhdChkdG1mcyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB2YXIgc2VuZERUTUYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZHRtZiwgdGltZW91dDtcblxuICAgICAgaWYgKHNlbGYuc3RhdHVzID09PSBDLlNUQVRVU19URVJNSU5BVEVEIHx8ICFzZWxmLnRvbmVzIHx8IHNlbGYudG9uZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIFN0b3Agc2VuZGluZyBEVE1GXG4gICAgICAgIHNlbGYudG9uZXMgPSBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgZHRtZiA9IHNlbGYudG9uZXMuc2hpZnQoKTtcblxuICAgICAgaWYgKHRvbmUgPT09ICcsJykge1xuICAgICAgICB0aW1lb3V0ID0gMjAwMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGR0bWYub24oJ2ZhaWxlZCcsIGZ1bmN0aW9uKCl7c2VsZi50b25lcyA9IG51bGw7fSk7XG4gICAgICAgIGR0bWYuc2VuZChvcHRpb25zKTtcbiAgICAgICAgdGltZW91dCA9IGR0bWYuZHVyYXRpb24gKyBkdG1mLmludGVyVG9uZUdhcDtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHRpbWVvdXQgZm9yIHRoZSBuZXh0IHRvbmVcbiAgICAgIFNJUC5UaW1lcnMuc2V0VGltZW91dChzZW5kRFRNRiwgdGltZW91dCk7XG4gICAgfTtcblxuICAgIHRoaXMudG9uZXMgPSBkdG1mcztcbiAgICBzZW5kRFRNRigpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIGJ5ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKG9wdGlvbnMgfHwgT2JqZWN0LnByb3RvdHlwZSk7XG4gICAgdmFyIHN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGU7XG5cbiAgICAvLyBDaGVjayBTZXNzaW9uIFN0YXR1c1xuICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gQy5TVEFUVVNfVEVSTUlOQVRFRCkge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yOiBBdHRlbXB0ZWQgdG8gc2VuZCBCWUUgaW4gYSB0ZXJtaW5hdGVkIHNlc3Npb24uJyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0aGlzLmxvZ2dlci5sb2coJ3Rlcm1pbmF0aW5nIFNlc3Npb24nKTtcblxuICAgIGlmIChzdGF0dXNDb2RlICYmIChzdGF0dXNDb2RlIDwgMjAwIHx8IHN0YXR1c0NvZGUgPj0gNzAwKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBzdGF0dXNDb2RlOiAnKyBzdGF0dXNDb2RlKTtcbiAgICB9XG5cbiAgICBvcHRpb25zLnJlY2VpdmVSZXNwb25zZSA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gICAgcmV0dXJuIHRoaXMuXG4gICAgICBzZW5kUmVxdWVzdChTSVAuQy5CWUUsIG9wdGlvbnMpLlxuICAgICAgdGVybWluYXRlZCgpO1xuICB9LFxuXG4gIHJlZmVyOiBmdW5jdGlvbih0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpLFxuICAgICAgICB3aXRoUmVwbGFjZXMgPVxuICAgICAgICAgIHRhcmdldCBpbnN0YW5jZW9mIFNJUC5JbnZpdGVTZXJ2ZXJDb250ZXh0IHx8XG4gICAgICAgICAgdGFyZ2V0IGluc3RhbmNlb2YgU0lQLkludml0ZUNsaWVudENvbnRleHQsXG4gICAgICAgIG9yaWdpbmFsVGFyZ2V0ID0gdGFyZ2V0O1xuXG4gICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb3QgZW5vdWdoIGFyZ3VtZW50cycpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIFNlc3Npb24gU3RhdHVzXG4gICAgaWYgKHRoaXMuc3RhdHVzICE9PSBDLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgIHRocm93IG5ldyBTSVAuRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvcih0aGlzLnN0YXR1cyk7XG4gICAgfVxuXG4gICAgLy8gdHJhbnNmb3JtIGB0YXJnZXRgIHNvIHRoYXQgaXQgY2FuIGJlIGEgUmVmZXItVG8gaGVhZGVyIHZhbHVlXG4gICAgaWYgKHdpdGhSZXBsYWNlcykge1xuICAgICAgLy9BdHRlbmRlZCBUcmFuc2ZlclxuICAgICAgLy8gQi50cmFuc2ZlcihDKVxuICAgICAgdGFyZ2V0ID0gJ1wiJyArIHRhcmdldC5yZW1vdGVJZGVudGl0eS5mcmllbmRseU5hbWUgKyAnXCIgJyArXG4gICAgICAgICc8JyArIHRhcmdldC5kaWFsb2cucmVtb3RlX3RhcmdldC50b1N0cmluZygpICtcbiAgICAgICAgJz9SZXBsYWNlcz0nICsgdGFyZ2V0LmRpYWxvZy5pZC5jYWxsX2lkICtcbiAgICAgICAgJyUzQnRvLXRhZyUzRCcgKyB0YXJnZXQuZGlhbG9nLmlkLnJlbW90ZV90YWcgK1xuICAgICAgICAnJTNCZnJvbS10YWclM0QnICsgdGFyZ2V0LmRpYWxvZy5pZC5sb2NhbF90YWcgKyAnPic7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vQmxpbmQgVHJhbnNmZXJcbiAgICAgIC8vIG5vcm1hbGl6ZVRhcmdldCBhbGxvd3MgaW5zdGFuY2VzIG9mIFNJUC5VUkkgdG8gcGFzcyB0aHJvdWdoIHVuYWx0ZXJlZCxcbiAgICAgIC8vIHNvIHRyeSB0byBtYWtlIG9uZSBhaGVhZCBvZiB0aW1lXG4gICAgICB0cnkge1xuICAgICAgICB0YXJnZXQgPSBTSVAuR3JhbW1hci5wYXJzZSh0YXJnZXQsICdSZWZlcl9UbycpLnVyaSB8fCB0YXJnZXQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiLnJlZmVyKCkgY2Fubm90IHBhcnNlIFJlZmVyX1RvIGZyb21cIiwgdGFyZ2V0KTtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoXCIuLi5mYWxsaW5nIHRocm91Z2ggdG8gbm9ybWFsaXplVGFyZ2V0KClcIik7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIHRhcmdldCB2YWxpZGl0eVxuICAgICAgdGFyZ2V0ID0gdGhpcy51YS5ub3JtYWxpemVUYXJnZXQodGFyZ2V0KTtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgdGFyZ2V0OiAnICsgb3JpZ2luYWxUYXJnZXQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGV4dHJhSGVhZGVycy5wdXNoKCdDb250YWN0OiAnKyB0aGlzLmNvbnRhY3QpO1xuICAgIGV4dHJhSGVhZGVycy5wdXNoKCdBbGxvdzogJysgU0lQLlVBLkMuQUxMT1dFRF9NRVRIT0RTLnRvU3RyaW5nKCkpO1xuICAgIGV4dHJhSGVhZGVycy5wdXNoKCdSZWZlci1UbzogJysgdGFyZ2V0KTtcblxuICAgIC8vIFNlbmQgdGhlIHJlcXVlc3RcbiAgICB0aGlzLnNlbmRSZXF1ZXN0KFNJUC5DLlJFRkVSLCB7XG4gICAgICBleHRyYUhlYWRlcnM6IGV4dHJhSGVhZGVycyxcbiAgICAgIGJvZHk6IG9wdGlvbnMuYm9keSxcbiAgICAgIHJlY2VpdmVSZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICggISAvXjJbMC05XXsyfSQvLnRlc3QocmVzcG9uc2Uuc3RhdHVzX2NvZGUpICkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5nIHVwIG9ubHkgaWYgd2UgdHJhbnNmZXJyZWQgdG8gYSBTSVAgYWRkcmVzc1xuICAgICAgICBpZiAod2l0aFJlcGxhY2VzIHx8ICh0YXJnZXQuc2NoZW1lICYmIHRhcmdldC5zY2hlbWUubWF0Y2goXCJec2lwcz8kXCIpKSkge1xuICAgICAgICAgIHRoaXMudGVybWluYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0uYmluZCh0aGlzKVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIGZvbGxvd1JlZmVyOiBmdW5jdGlvbiBmb2xsb3dSZWZlciAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gcmVmZXJMaXN0ZW5lciAoY2FsbGJhY2ssIHJlcXVlc3QpIHtcbiAgICAgIC8vIG9wZW4gbm9uLVNJUCBVUklzIGlmIHBvc3NpYmxlIGFuZCBrZWVwIHNlc3Npb24gb3BlblxuICAgICAgdmFyIHJlZmVyVG8gPSByZXF1ZXN0LnBhcnNlSGVhZGVyKCdyZWZlci10bycpO1xuICAgICAgdmFyIHRhcmdldCA9IHJlZmVyVG8udXJpO1xuICAgICAgaWYgKCF0YXJnZXQuc2NoZW1lLm1hdGNoKFwiXnNpcHM/JFwiKSkge1xuICAgICAgICB2YXIgdGFyZ2V0U3RyaW5nID0gdGFyZ2V0LnRvU3RyaW5nKCk7XG4gICAgICAgIGlmICh0eXBlb2YgZW52aXJvbm1lbnQub3BlbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgZW52aXJvbm1lbnQub3Blbih0YXJnZXRTdHJpbmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJyZWZlcnJlZCB0byBub24tU0lQIFVSSSBidXQgYG9wZW5gIGlzbid0IGluIHRoZSBlbnZpcm9ubWVudDogXCIgKyB0YXJnZXRTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGV4dHJhSGVhZGVycyA9IFtdO1xuXG4gICAgICAvKiBDb3B5IHRoZSBSZXBsYWNlcyBxdWVyeSBpbnRvIGEgUmVwbGFjZXMgaGVhZGVyICovXG4gICAgICAvKiBUT0RPIC0gbWFrZSBzdXJlIHdlIGRvbid0IGNvcHkgYSBwb29ybHkgZm9ybWF0dGVkIGhlYWRlcj8gKi9cbiAgICAgIHZhciByZXBsYWNlcyA9IHRhcmdldC5nZXRIZWFkZXIoJ1JlcGxhY2VzJyk7XG4gICAgICBpZiAocmVwbGFjZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBleHRyYUhlYWRlcnMucHVzaCgnUmVwbGFjZXM6ICcgKyBkZWNvZGVVUklDb21wb25lbnQocmVwbGFjZXMpKTtcbiAgICAgIH1cblxuICAgICAgLy8gZG9uJ3QgZW1iZWQgaGVhZGVycyBpbnRvIFJlcXVlc3QtVVJJIG9mIElOVklURVxuICAgICAgdGFyZ2V0LmNsZWFySGVhZGVycygpO1xuXG4gICAgICAvKlxuICAgICAgICBIYXJtbGVzcyByYWNlIGNvbmRpdGlvbi4gIEJvdGggc2lkZXMgb2YgUkVGRVJcbiAgICAgICAgbWF5IHNlbmQgYSBCWUUsIGJ1dCBpbiB0aGUgZW5kIHRoZSBkaWFsb2dzIGFyZSBkZXN0cm95ZWQuXG4gICAgICAqL1xuICAgICAgdmFyIGdldFJlZmVyTWVkaWEgPSB0aGlzLm1lZGlhSGFuZGxlci5nZXRSZWZlck1lZGlhO1xuICAgICAgdmFyIG1lZGlhSGludCA9IGdldFJlZmVyTWVkaWEgPyBnZXRSZWZlck1lZGlhLmNhbGwodGhpcy5tZWRpYUhhbmRsZXIpIDogdGhpcy5tZWRpYUhpbnQ7XG5cbiAgICAgIFNJUC5IYWNrcy5DaHJvbWUuZ2V0c0NvbmZ1c2VkQWJvdXRHVU0odGhpcyk7XG5cbiAgICAgIHZhciByZWZlclNlc3Npb24gPSB0aGlzLnVhLmludml0ZSh0YXJnZXQsIHtcbiAgICAgICAgbWVkaWE6IG1lZGlhSGludCxcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgdG9fZGlzcGxheU5hbWU6IHJlZmVyVG8uZnJpZW5kbHlOYW1lXG4gICAgICAgIH0sXG4gICAgICAgIGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzXG4gICAgICB9KTtcblxuICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCByZXF1ZXN0LCByZWZlclNlc3Npb24pO1xuXG4gICAgICB0aGlzLnRlcm1pbmF0ZSgpO1xuICAgIH0uYmluZCh0aGlzLCBjYWxsYmFjayk7XG4gIH0sXG5cbiAgc2VuZFJlcXVlc3Q6IGZ1bmN0aW9uKG1ldGhvZCxvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgU0lQLk91dGdvaW5nUmVxdWVzdChcbiAgICAgIG1ldGhvZCxcbiAgICAgIHRoaXMuZGlhbG9nLnJlbW90ZV90YXJnZXQsXG4gICAgICB0aGlzLnVhLFxuICAgICAge1xuICAgICAgICBjc2VxOiBvcHRpb25zLmNzZXEgfHwgKHRoaXMuZGlhbG9nLmxvY2FsX3NlcW51bSArPSAxKSxcbiAgICAgICAgY2FsbF9pZDogdGhpcy5kaWFsb2cuaWQuY2FsbF9pZCxcbiAgICAgICAgZnJvbV91cmk6IHRoaXMuZGlhbG9nLmxvY2FsX3VyaSxcbiAgICAgICAgZnJvbV90YWc6IHRoaXMuZGlhbG9nLmlkLmxvY2FsX3RhZyxcbiAgICAgICAgdG9fdXJpOiB0aGlzLmRpYWxvZy5yZW1vdGVfdXJpLFxuICAgICAgICB0b190YWc6IHRoaXMuZGlhbG9nLmlkLnJlbW90ZV90YWcsXG4gICAgICAgIHJvdXRlX3NldDogdGhpcy5kaWFsb2cucm91dGVfc2V0LFxuICAgICAgICBzdGF0dXNDb2RlOiBvcHRpb25zLnN0YXR1c0NvZGUsXG4gICAgICAgIHJlYXNvblBocmFzZTogb3B0aW9ucy5yZWFzb25QaHJhc2VcbiAgICAgIH0sXG4gICAgICBvcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXSxcbiAgICAgIG9wdGlvbnMuYm9keVxuICAgICk7XG5cbiAgICBuZXcgU0lQLlJlcXVlc3RTZW5kZXIoe1xuICAgICAgcmVxdWVzdDogcmVxdWVzdCxcbiAgICAgIG9uUmVxdWVzdFRpbWVvdXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLm9uUmVxdWVzdFRpbWVvdXQoKTtcbiAgICAgIH0sXG4gICAgICBvblRyYW5zcG9ydEVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5vblRyYW5zcG9ydEVycm9yKCk7XG4gICAgICB9LFxuICAgICAgcmVjZWl2ZVJlc3BvbnNlOiBvcHRpb25zLnJlY2VpdmVSZXNwb25zZSB8fCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICBzZWxmLnJlY2VpdmVOb25JbnZpdGVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICB9XG4gICAgfSwgdGhpcy51YSkuc2VuZCgpO1xuXG4gICAgLy8gRW1pdCB0aGUgcmVxdWVzdCBldmVudFxuICAgIHRoaXMuZW1pdChtZXRob2QudG9Mb3dlckNhc2UoKSwgcmVxdWVzdCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlkeDtcblxuICAgIGlmKHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0aGlzLmxvZ2dlci5sb2coJ2Nsb3NpbmcgSU5WSVRFIHNlc3Npb24gJyArIHRoaXMuaWQpO1xuXG4gICAgLy8gMXN0IFN0ZXAuIFRlcm1pbmF0ZSBtZWRpYS5cbiAgICBpZiAodGhpcy5tZWRpYUhhbmRsZXIpe1xuICAgICAgdGhpcy5tZWRpYUhhbmRsZXIuY2xvc2UoKTtcbiAgICB9XG5cbiAgICAvLyAybmQgU3RlcC4gVGVybWluYXRlIHNpZ25hbGluZy5cblxuICAgIC8vIENsZWFyIHNlc3Npb24gdGltZXJzXG4gICAgZm9yKGlkeCBpbiB0aGlzLnRpbWVycykge1xuICAgICAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy50aW1lcnNbaWR4XSk7XG4gICAgfVxuXG4gICAgLy8gVGVybWluYXRlIGRpYWxvZ3NcblxuICAgIC8vIFRlcm1pbmF0ZSBjb25maXJtZWQgZGlhbG9nXG4gICAgaWYodGhpcy5kaWFsb2cpIHtcbiAgICAgIHRoaXMuZGlhbG9nLnRlcm1pbmF0ZSgpO1xuICAgICAgZGVsZXRlIHRoaXMuZGlhbG9nO1xuICAgIH1cblxuICAgIC8vIFRlcm1pbmF0ZSBlYXJseSBkaWFsb2dzXG4gICAgZm9yKGlkeCBpbiB0aGlzLmVhcmx5RGlhbG9ncykge1xuICAgICAgdGhpcy5lYXJseURpYWxvZ3NbaWR4XS50ZXJtaW5hdGUoKTtcbiAgICAgIGRlbGV0ZSB0aGlzLmVhcmx5RGlhbG9nc1tpZHhdO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdHVzID0gQy5TVEFUVVNfVEVSTUlOQVRFRDtcblxuICAgIGRlbGV0ZSB0aGlzLnVhLnNlc3Npb25zW3RoaXMuaWRdO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIGNyZWF0ZURpYWxvZzogZnVuY3Rpb24obWVzc2FnZSwgdHlwZSwgZWFybHkpIHtcbiAgICB2YXIgZGlhbG9nLCBlYXJseV9kaWFsb2csXG4gICAgICBsb2NhbF90YWcgPSBtZXNzYWdlWyh0eXBlID09PSAnVUFTJykgPyAndG9fdGFnJyA6ICdmcm9tX3RhZyddLFxuICAgICAgcmVtb3RlX3RhZyA9IG1lc3NhZ2VbKHR5cGUgPT09ICdVQVMnKSA/ICdmcm9tX3RhZycgOiAndG9fdGFnJ10sXG4gICAgICBpZCA9IG1lc3NhZ2UuY2FsbF9pZCArIGxvY2FsX3RhZyArIHJlbW90ZV90YWc7XG5cbiAgICBlYXJseV9kaWFsb2cgPSB0aGlzLmVhcmx5RGlhbG9nc1tpZF07XG5cbiAgICAvLyBFYXJseSBEaWFsb2dcbiAgICBpZiAoZWFybHkpIHtcbiAgICAgIGlmIChlYXJseV9kaWFsb2cpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlYXJseV9kaWFsb2cgPSBuZXcgU0lQLkRpYWxvZyh0aGlzLCBtZXNzYWdlLCB0eXBlLCBTSVAuRGlhbG9nLkMuU1RBVFVTX0VBUkxZKTtcblxuICAgICAgICAvLyBEaWFsb2cgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQuXG4gICAgICAgIGlmKGVhcmx5X2RpYWxvZy5lcnJvcikge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGVhcmx5X2RpYWxvZy5lcnJvcik7XG4gICAgICAgICAgdGhpcy5mYWlsZWQobWVzc2FnZSwgU0lQLkMuY2F1c2VzLklOVEVSTkFMX0VSUk9SKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5lYXJseURpYWxvZ3NbaWRdID0gZWFybHlfZGlhbG9nO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIENvbmZpcm1lZCBEaWFsb2dcbiAgICBlbHNlIHtcbiAgICAgIC8vIEluIGNhc2UgdGhlIGRpYWxvZyBpcyBpbiBfZWFybHlfIHN0YXRlLCB1cGRhdGUgaXRcbiAgICAgIGlmIChlYXJseV9kaWFsb2cpIHtcbiAgICAgICAgZWFybHlfZGlhbG9nLnVwZGF0ZShtZXNzYWdlLCB0eXBlKTtcbiAgICAgICAgdGhpcy5kaWFsb2cgPSBlYXJseV9kaWFsb2c7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmVhcmx5RGlhbG9nc1tpZF07XG4gICAgICAgIGZvciAodmFyIGRpYSBpbiB0aGlzLmVhcmx5RGlhbG9ncykge1xuICAgICAgICAgIHRoaXMuZWFybHlEaWFsb2dzW2RpYV0udGVybWluYXRlKCk7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuZWFybHlEaWFsb2dzW2RpYV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIE90aGVyd2lzZSwgY3JlYXRlIGEgX2NvbmZpcm1lZF8gZGlhbG9nXG4gICAgICBkaWFsb2cgPSBuZXcgU0lQLkRpYWxvZyh0aGlzLCBtZXNzYWdlLCB0eXBlKTtcblxuICAgICAgaWYoZGlhbG9nLmVycm9yKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGRpYWxvZy5lcnJvcik7XG4gICAgICAgIHRoaXMuZmFpbGVkKG1lc3NhZ2UsIFNJUC5DLmNhdXNlcy5JTlRFUk5BTF9FUlJPUik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudG9fdGFnID0gbWVzc2FnZS50b190YWc7XG4gICAgICAgIHRoaXMuZGlhbG9nID0gZGlhbG9nO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICogQ2hlY2sgaWYgU2Vzc2lvbiBpcyByZWFkeSBmb3IgYSByZS1JTlZJVEVcbiAgKlxuICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAqL1xuICBpc1JlYWR5VG9SZWludml0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubWVkaWFIYW5kbGVyLmlzUmVhZHkoKSAmJlxuICAgICAgIXRoaXMuZGlhbG9nLnVhY19wZW5kaW5nX3JlcGx5ICYmXG4gICAgICAhdGhpcy5kaWFsb2cudWFzX3BlbmRpbmdfcmVwbHk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE11dGVcbiAgICovXG4gIG11dGU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgcmV0ID0gdGhpcy5tZWRpYUhhbmRsZXIubXV0ZShvcHRpb25zKTtcbiAgICBpZiAocmV0KSB7XG4gICAgICB0aGlzLm9ubXV0ZShyZXQpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogVW5tdXRlXG4gICAqL1xuICB1bm11dGU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgcmV0ID0gdGhpcy5tZWRpYUhhbmRsZXIudW5tdXRlKG9wdGlvbnMpO1xuICAgIGlmIChyZXQpIHtcbiAgICAgIHRoaXMub251bm11dGUocmV0KTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEhvbGRcbiAgICovXG4gIGhvbGQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgaWYgKHRoaXMuc3RhdHVzICE9PSBDLlNUQVRVU19XQUlUSU5HX0ZPUl9BQ0sgJiYgdGhpcy5zdGF0dXMgIT09IEMuU1RBVFVTX0NPTkZJUk1FRCkge1xuICAgICAgdGhyb3cgbmV3IFNJUC5FeGNlcHRpb25zLkludmFsaWRTdGF0ZUVycm9yKHRoaXMuc3RhdHVzKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lZGlhSGFuZGxlci5ob2xkKCk7XG5cbiAgICAvLyBDaGVjayBpZiBSVENTZXNzaW9uIGlzIHJlYWR5IHRvIHNlbmQgYSByZUlOVklURVxuICAgIGlmICghdGhpcy5pc1JlYWR5VG9SZWludml0ZSgpKSB7XG4gICAgICAvKiBJZiB0aGVyZSBpcyBhIHBlbmRpbmcgJ3VuaG9sZCcgYWN0aW9uLCBjYW5jZWwgaXQgYW5kIGRvbid0IHF1ZXVlIHRoaXMgb25lXG4gICAgICAgKiBFbHNlLCBpZiB0aGVyZSBpc24ndCBhbnkgJ2hvbGQnIGFjdGlvbiwgYWRkIHRoaXMgb25lIHRvIHRoZSBxdWV1ZVxuICAgICAgICogRWxzZSwgaWYgdGhlcmUgaXMgYWxyZWFkeSBhICdob2xkJyBhY3Rpb24sIHNraXBcbiAgICAgICAqL1xuICAgICAgaWYgKHRoaXMucGVuZGluZ19hY3Rpb25zLmlzUGVuZGluZygndW5ob2xkJykpIHtcbiAgICAgICAgdGhpcy5wZW5kaW5nX2FjdGlvbnMucG9wKCd1bmhvbGQnKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMucGVuZGluZ19hY3Rpb25zLmlzUGVuZGluZygnaG9sZCcpKSB7XG4gICAgICAgIHRoaXMucGVuZGluZ19hY3Rpb25zLnB1c2goJ2hvbGQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKHRoaXMubG9jYWxfaG9sZCA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5vbmhvbGQoJ2xvY2FsJyk7XG5cbiAgICB0aGlzLnNlbmRSZWludml0ZSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBVbmhvbGRcbiAgICovXG4gIHVuaG9sZDogZnVuY3Rpb24ob3B0aW9ucykge1xuXG4gICAgaWYgKHRoaXMuc3RhdHVzICE9PSBDLlNUQVRVU19XQUlUSU5HX0ZPUl9BQ0sgJiYgdGhpcy5zdGF0dXMgIT09IEMuU1RBVFVTX0NPTkZJUk1FRCkge1xuICAgICAgdGhyb3cgbmV3IFNJUC5FeGNlcHRpb25zLkludmFsaWRTdGF0ZUVycm9yKHRoaXMuc3RhdHVzKTtcbiAgICB9XG5cbiAgICB0aGlzLm1lZGlhSGFuZGxlci51bmhvbGQoKTtcblxuICAgIGlmICghdGhpcy5pc1JlYWR5VG9SZWludml0ZSgpKSB7XG4gICAgICAvKiBJZiB0aGVyZSBpcyBhIHBlbmRpbmcgJ2hvbGQnIGFjdGlvbiwgY2FuY2VsIGl0IGFuZCBkb24ndCBxdWV1ZSB0aGlzIG9uZVxuICAgICAgICogRWxzZSwgaWYgdGhlcmUgaXNuJ3QgYW55ICd1bmhvbGQnIGFjdGlvbiwgYWRkIHRoaXMgb25lIHRvIHRoZSBxdWV1ZVxuICAgICAgICogRWxzZSwgaWYgdGhlcmUgaXMgYWxyZWFkeSBhICd1bmhvbGQnIGFjdGlvbiwgc2tpcFxuICAgICAgICovXG4gICAgICBpZiAodGhpcy5wZW5kaW5nX2FjdGlvbnMuaXNQZW5kaW5nKCdob2xkJykpIHtcbiAgICAgICAgdGhpcy5wZW5kaW5nX2FjdGlvbnMucG9wKCdob2xkJyk7XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLnBlbmRpbmdfYWN0aW9ucy5pc1BlbmRpbmcoJ3VuaG9sZCcpKSB7XG4gICAgICAgIHRoaXMucGVuZGluZ19hY3Rpb25zLnB1c2goJ3VuaG9sZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAodGhpcy5sb2NhbF9ob2xkID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMub251bmhvbGQoJ2xvY2FsJyk7XG5cbiAgICB0aGlzLnNlbmRSZWludml0ZShvcHRpb25zKTtcbiAgfSxcblxuICAvKipcbiAgICogaXNPbkhvbGRcbiAgICovXG4gIGlzT25Ib2xkOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbG9jYWw6IHRoaXMubG9jYWxfaG9sZCxcbiAgICAgIHJlbW90ZTogdGhpcy5yZW1vdGVfaG9sZFxuICAgIH07XG4gIH0sXG5cbiAgLyoqXG4gICAqIEluIGRpYWxvZyBJTlZJVEUgUmVjZXB0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZWNlaXZlUmVpbnZpdGU6IGZ1bmN0aW9uKHJlcXVlc3QpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAoIXRoaXMubWVkaWFIYW5kbGVyLmhhc0Rlc2NyaXB0aW9uKHJlcXVlc3QpKSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdpbnZhbGlkIENvbnRlbnQtVHlwZScpO1xuICAgICAgcmVxdWVzdC5yZXBseSg0MTUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMubWVkaWFIYW5kbGVyLnNldERlc2NyaXB0aW9uKHJlcXVlc3QpXG4gICAgLnRoZW4odGhpcy5tZWRpYUhhbmRsZXIuZ2V0RGVzY3JpcHRpb24uYmluZCh0aGlzLm1lZGlhSGFuZGxlciwgdGhpcy5tZWRpYUhpbnQpKVxuICAgIC50aGVuKGZ1bmN0aW9uKGRlc2NyaXB0aW9uKSB7XG4gICAgICB2YXIgZXh0cmFIZWFkZXJzID0gWydDb250YWN0OiAnICsgc2VsZi5jb250YWN0XTtcbiAgICAgIHJlcXVlc3QucmVwbHkoMjAwLCBudWxsLCBleHRyYUhlYWRlcnMsIGRlc2NyaXB0aW9uLFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnN0YXR1cyA9IEMuU1RBVFVTX1dBSVRJTkdfRk9SX0FDSztcbiAgICAgICAgICBzZWxmLnNldEludml0ZTJ4eFRpbWVyKHJlcXVlc3QsIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgICBzZWxmLnNldEFDS1RpbWVyKCk7XG5cbiAgICAgICAgICBpZiAoc2VsZi5yZW1vdGVfaG9sZCAmJiAhc2VsZi5tZWRpYUhhbmRsZXIucmVtb3RlX2hvbGQpIHtcbiAgICAgICAgICAgIHNlbGYub251bmhvbGQoJ3JlbW90ZScpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXNlbGYucmVtb3RlX2hvbGQgJiYgc2VsZi5tZWRpYUhhbmRsZXIucmVtb3RlX2hvbGQpIHtcbiAgICAgICAgICAgIHNlbGYub25ob2xkKCdyZW1vdGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pXG4gICAgLmNhdGNoKGZ1bmN0aW9uIG9uRmFpbHVyZSAoZSkge1xuICAgICAgdmFyIHN0YXR1c0NvZGU7XG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIFNJUC5FeGNlcHRpb25zLkdldERlc2NyaXB0aW9uRXJyb3IpIHtcbiAgICAgICAgc3RhdHVzQ29kZSA9IDUwMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYubG9nZ2VyLmVycm9yKGUpO1xuICAgICAgICBzdGF0dXNDb2RlID0gNDg4O1xuICAgICAgfVxuICAgICAgcmVxdWVzdC5yZXBseShzdGF0dXNDb2RlKTtcbiAgICB9KTtcbiAgfSxcblxuICBzZW5kUmVpbnZpdGU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIHZhclxuICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpLFxuICAgICAgIGV2ZW50SGFuZGxlcnMgPSBvcHRpb25zLmV2ZW50SGFuZGxlcnMgfHwge30sXG4gICAgICAgc3VjY2VlZGVkO1xuXG4gICAgaWYgKGV2ZW50SGFuZGxlcnMuc3VjY2VlZGVkKSB7XG4gICAgICBzdWNjZWVkZWQgPSBldmVudEhhbmRsZXJzLnN1Y2NlZWRlZDtcbiAgICB9XG4gICAgdGhpcy5yZWludml0ZVN1Y2NlZWRlZCA9IGZ1bmN0aW9uKCl7XG4gICAgICBTSVAuVGltZXJzLmNsZWFyVGltZW91dChzZWxmLnRpbWVycy5hY2tUaW1lcik7XG4gICAgICBTSVAuVGltZXJzLmNsZWFyVGltZW91dChzZWxmLnRpbWVycy5pbnZpdGUyeHhUaW1lcik7XG4gICAgICBzZWxmLnN0YXR1cyA9IEMuU1RBVFVTX0NPTkZJUk1FRDtcbiAgICAgIHN1Y2NlZWRlZCAmJiBzdWNjZWVkZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICAgIGlmIChldmVudEhhbmRsZXJzLmZhaWxlZCkge1xuICAgICAgdGhpcy5yZWludml0ZUZhaWxlZCA9IGV2ZW50SGFuZGxlcnMuZmFpbGVkO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlaW52aXRlRmFpbGVkID0gZnVuY3Rpb24oKXt9O1xuICAgIH1cblxuICAgIGV4dHJhSGVhZGVycy5wdXNoKCdDb250YWN0OiAnICsgdGhpcy5jb250YWN0KTtcbiAgICBleHRyYUhlYWRlcnMucHVzaCgnQWxsb3c6ICcrIFNJUC5VQS5DLkFMTE9XRURfTUVUSE9EUy50b1N0cmluZygpKTtcblxuICAgIHRoaXMucmVjZWl2ZVJlc3BvbnNlID0gdGhpcy5yZWNlaXZlUmVpbnZpdGVSZXNwb25zZTtcbiAgICAvL1JFVklTSVRcbiAgICB0aGlzLm1lZGlhSGFuZGxlci5nZXREZXNjcmlwdGlvbihzZWxmLm1lZGlhSGludClcbiAgICAudGhlbihcbiAgICAgIGZ1bmN0aW9uKGRlc2NyaXB0aW9uKXtcbiAgICAgICAgc2VsZi5kaWFsb2cuc2VuZFJlcXVlc3Qoc2VsZiwgU0lQLkMuSU5WSVRFLCB7XG4gICAgICAgICAgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsXG4gICAgICAgICAgYm9keTogZGVzY3JpcHRpb25cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChzZWxmLmlzUmVhZHlUb1JlaW52aXRlKCkpIHtcbiAgICAgICAgICBzZWxmLm9uUmVhZHlUb1JlaW52aXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5yZWludml0ZUZhaWxlZCgpO1xuICAgICAgfVxuICAgICk7XG4gIH0sXG5cbiAgcmVjZWl2ZVJlcXVlc3Q6IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgc3dpdGNoIChyZXF1ZXN0Lm1ldGhvZCkge1xuICAgICAgY2FzZSBTSVAuQy5CWUU6XG4gICAgICAgIHJlcXVlc3QucmVwbHkoMjAwKTtcbiAgICAgICAgaWYodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX0NPTkZJUk1FRCkge1xuICAgICAgICAgIHRoaXMuZW1pdCgnYnllJywgcmVxdWVzdCk7XG4gICAgICAgICAgdGhpcy50ZXJtaW5hdGVkKHJlcXVlc3QsIFNJUC5DLmNhdXNlcy5CWUUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTSVAuQy5JTlZJVEU6XG4gICAgICAgIGlmKHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ3JlLUlOVklURSByZWNlaXZlZCcpO1xuICAgICAgICAgIHRoaXMucmVjZWl2ZVJlaW52aXRlKHJlcXVlc3QpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTSVAuQy5JTkZPOlxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTXzFYWF9SRUNFSVZFRCB8fFxuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX1dBSVRJTkdfRk9SX1BSQUNLIHx8XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9PT0gQy5TVEFUVVNfV0FJVElOR19GT1JfQUNLIHx8XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9PT0gQy5TVEFUVVNfQU5TV0VSRURfV0FJVElOR19GT1JfUFJBQ0sgfHxcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU19FQVJMWV9NRURJQSB8fFxuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX0NPTkZJUk1FRCB8fFxuICAgICAgICAgICAgdGhpcy5kaWFsb2cpIHtcbiAgICAgICAgICBpZiAodGhpcy5vbkluZm8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9uSW5mbyhyZXF1ZXN0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgYm9keSwgdG9uZSwgZHVyYXRpb24sXG4gICAgICAgICAgICAgIGNvbnRlbnRUeXBlID0gcmVxdWVzdC5nZXRIZWFkZXIoJ2NvbnRlbnQtdHlwZScpLFxuICAgICAgICAgICAgICByZWdfdG9uZSA9IC9eKFNpZ25hbFxccyo/PVxccyo/KShbMC05QS1EIypdezF9KShcXHMpPy4qLyxcbiAgICAgICAgICAgICAgcmVnX2R1cmF0aW9uID0gL14oRHVyYXRpb25cXHM/PVxccz8pKFswLTldezEsNH0pKFxccyk/LiovO1xuXG4gICAgICAgICAgaWYgKGNvbnRlbnRUeXBlKSB7XG4gICAgICAgICAgICBpZiAoY29udGVudFR5cGUubWF0Y2goL15hcHBsaWNhdGlvblxcL2R0bWYtcmVsYXkvaSkpIHtcbiAgICAgICAgICAgICAgaWYgKHJlcXVlc3QuYm9keSkge1xuICAgICAgICAgICAgICAgIGJvZHkgPSByZXF1ZXN0LmJvZHkuc3BsaXQoJ1xcclxcbicsIDIpO1xuICAgICAgICAgICAgICAgIGlmIChib2R5Lmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgaWYgKHJlZ190b25lLnRlc3QoYm9keVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9uZSA9IGJvZHlbMF0ucmVwbGFjZShyZWdfdG9uZSxcIiQyXCIpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKHJlZ19kdXJhdGlvbi50ZXN0KGJvZHlbMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gcGFyc2VJbnQoYm9keVsxXS5yZXBsYWNlKHJlZ19kdXJhdGlvbixcIiQyXCIpLCAxMCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgbmV3IERUTUYodGhpcywgdG9uZSwge2R1cmF0aW9uOiBkdXJhdGlvbn0pLmluaXRfaW5jb21pbmcocmVxdWVzdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXF1ZXN0LnJlcGx5KDQxNSwgbnVsbCwgW1wiQWNjZXB0OiBhcHBsaWNhdGlvbi9kdG1mLXJlbGF5XCJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNJUC5DLlJFRkVSOlxuICAgICAgICBpZih0aGlzLnN0YXR1cyA9PT0gIEMuU1RBVFVTX0NPTkZJUk1FRCkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZygnUkVGRVIgcmVjZWl2ZWQnKTtcbiAgICAgICAgICB2YXIgaGFzUmVmZXJMaXN0ZW5lciA9IHRoaXMubGlzdGVuZXJzKCdyZWZlcicpLmxlbmd0aCxcbiAgICAgICAgICAgICAgbm90aWZ5Qm9keTtcblxuICAgICAgICAgIGlmIChoYXNSZWZlckxpc3RlbmVyKSB7XG4gICAgICAgICAgICByZXF1ZXN0LnJlcGx5KDIwMiwgJ0FjY2VwdGVkJyk7XG4gICAgICAgICAgICBub3RpZnlCb2R5ID0gJ1NJUC8yLjAgMTAwIFRyeWluZyc7XG5cbiAgICAgICAgICAgIHRoaXMuc2VuZFJlcXVlc3QoU0lQLkMuTk9USUZZLCB7XG4gICAgICAgICAgICAgIGV4dHJhSGVhZGVyczpbXG4gICAgICAgICAgICAgICAgJ0V2ZW50OiByZWZlcicsXG4gICAgICAgICAgICAgICAgJ1N1YnNjcmlwdGlvbi1TdGF0ZTogdGVybWluYXRlZCcsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZTogbWVzc2FnZS9zaXBmcmFnJ1xuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBib2R5OiBub3RpZnlCb2R5LFxuICAgICAgICAgICAgICByZWNlaXZlUmVzcG9uc2U6IGZ1bmN0aW9uKCkge31cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlZmVyJywgcmVxdWVzdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJGQyAzNTE1LjIuNC4yOiAndGhlIFVBIE1BWSBkZWNsaW5lIHRoZSByZXF1ZXN0LidcbiAgICAgICAgICAgIHJlcXVlc3QucmVwbHkoNjAzLCAnRGVjbGluZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNJUC5DLk5PVElGWTpcbiAgICAgICAgcmVxdWVzdC5yZXBseSgyMDAsICdPSycpO1xuICAgICAgICB0aGlzLmVtaXQoJ25vdGlmeScsIHJlcXVlc3QpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlY2VwdGlvbiBvZiBSZXNwb25zZSBmb3IgaW4tZGlhbG9nIElOVklURVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcmVjZWl2ZVJlaW52aXRlUmVzcG9uc2U6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3dpdGNoKHRydWUpIHtcbiAgICAgIGNhc2UgL14xWzAtOV17Mn0kLy50ZXN0KHJlc3BvbnNlLnN0YXR1c19jb2RlKTpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIC9eMlswLTldezJ9JC8udGVzdChyZXNwb25zZS5zdGF0dXNfY29kZSk6XG4gICAgICAgIHRoaXMuc3RhdHVzID0gQy5TVEFUVVNfQ09ORklSTUVEO1xuXG4gICAgICAgIHRoaXMuc2VuZFJlcXVlc3QoU0lQLkMuQUNLLHtjc2VxOnJlc3BvbnNlLmNzZXF9KTtcblxuICAgICAgICBpZiAoIXRoaXMubWVkaWFIYW5kbGVyLmhhc0Rlc2NyaXB0aW9uKHJlc3BvbnNlKSkge1xuICAgICAgICAgIHRoaXMucmVpbnZpdGVGYWlsZWQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vUkVWSVNJVFxuICAgICAgICB0aGlzLm1lZGlhSGFuZGxlci5zZXREZXNjcmlwdGlvbihyZXNwb25zZSlcbiAgICAgICAgLnRoZW4oXG4gICAgICAgICAgZnVuY3Rpb24gb25TdWNjZXNzICgpIHtcbiAgICAgICAgICAgIHNlbGYucmVpbnZpdGVTdWNjZWVkZWQoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZ1bmN0aW9uIG9uRmFpbHVyZSAoKSB7XG4gICAgICAgICAgICBzZWxmLnJlaW52aXRlRmFpbGVkKCk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMucmVpbnZpdGVGYWlsZWQoKTtcbiAgICB9XG4gIH0sXG5cbiAgYWNjZXB0QW5kVGVybWluYXRlOiBmdW5jdGlvbihyZXNwb25zZSwgc3RhdHVzX2NvZGUsIHJlYXNvbl9waHJhc2UpIHtcbiAgICB2YXIgZXh0cmFIZWFkZXJzID0gW107XG5cbiAgICBpZiAoc3RhdHVzX2NvZGUpIHtcbiAgICAgIGV4dHJhSGVhZGVycy5wdXNoKCdSZWFzb246ICcgKyBTSVAuVXRpbHMuZ2V0UmVhc29uSGVhZGVyVmFsdWUoc3RhdHVzX2NvZGUsIHJlYXNvbl9waHJhc2UpKTtcbiAgICB9XG5cbiAgICAvLyBBbiBlcnJvciBvbiBkaWFsb2cgY3JlYXRpb24gd2lsbCBmaXJlICdmYWlsZWQnIGV2ZW50XG4gICAgaWYgKHRoaXMuZGlhbG9nIHx8IHRoaXMuY3JlYXRlRGlhbG9nKHJlc3BvbnNlLCAnVUFDJykpIHtcbiAgICAgIHRoaXMuc2VuZFJlcXVlc3QoU0lQLkMuQUNLLHtjc2VxOiByZXNwb25zZS5jc2VxfSk7XG4gICAgICB0aGlzLnNlbmRSZXF1ZXN0KFNJUC5DLkJZRSwge1xuICAgICAgICBleHRyYUhlYWRlcnM6IGV4dHJhSGVhZGVyc1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJGQzMyNjEgMTMuMy4xLjRcbiAgICogUmVzcG9uc2UgcmV0cmFuc21pc3Npb25zIGNhbm5vdCBiZSBhY2NvbXBsaXNoZWQgYnkgdHJhbnNhY3Rpb24gbGF5ZXJcbiAgICogIHNpbmNlIGl0IGlzIGRlc3Ryb3llZCB3aGVuIHJlY2VpdmluZyB0aGUgZmlyc3QgMnh4IGFuc3dlclxuICAgKi9cbiAgc2V0SW52aXRlMnh4VGltZXI6IGZ1bmN0aW9uKHJlcXVlc3QsIGRlc2NyaXB0aW9uKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICB0aW1lb3V0ID0gU0lQLlRpbWVycy5UMTtcblxuICAgIHRoaXMudGltZXJzLmludml0ZTJ4eFRpbWVyID0gU0lQLlRpbWVycy5zZXRUaW1lb3V0KGZ1bmN0aW9uIGludml0ZTJ4eFJldHJhbnNtaXNzaW9uKCkge1xuICAgICAgaWYgKHNlbGYuc3RhdHVzICE9PSBDLlNUQVRVU19XQUlUSU5HX0ZPUl9BQ0spIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZWxmLmxvZ2dlci5sb2coJ25vIEFDSyByZWNlaXZlZCwgYXR0ZW1wdGluZyB0byByZXRyYW5zbWl0IE9LJyk7XG5cbiAgICAgIHZhciBleHRyYUhlYWRlcnMgPSBbJ0NvbnRhY3Q6ICcgKyBzZWxmLmNvbnRhY3RdO1xuXG4gICAgICByZXF1ZXN0LnJlcGx5KDIwMCwgbnVsbCwgZXh0cmFIZWFkZXJzLCBkZXNjcmlwdGlvbik7XG5cbiAgICAgIHRpbWVvdXQgPSBNYXRoLm1pbih0aW1lb3V0ICogMiwgU0lQLlRpbWVycy5UMik7XG5cbiAgICAgIHNlbGYudGltZXJzLmludml0ZTJ4eFRpbWVyID0gU0lQLlRpbWVycy5zZXRUaW1lb3V0KGludml0ZTJ4eFJldHJhbnNtaXNzaW9uLCB0aW1lb3V0KTtcbiAgICB9LCB0aW1lb3V0KTtcbiAgfSxcblxuICAvKipcbiAgICogUkZDMzI2MSAxNC4yXG4gICAqIElmIGEgVUFTIGdlbmVyYXRlcyBhIDJ4eCByZXNwb25zZSBhbmQgbmV2ZXIgcmVjZWl2ZXMgYW4gQUNLLFxuICAgKiAgaXQgU0hPVUxEIGdlbmVyYXRlIGEgQllFIHRvIHRlcm1pbmF0ZSB0aGUgZGlhbG9nLlxuICAgKi9cbiAgc2V0QUNLVGltZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHRoaXMudGltZXJzLmFja1RpbWVyID0gU0lQLlRpbWVycy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaWYoc2VsZi5zdGF0dXMgPT09IEMuU1RBVFVTX1dBSVRJTkdfRk9SX0FDSykge1xuICAgICAgICBzZWxmLmxvZ2dlci5sb2coJ25vIEFDSyByZWNlaXZlZCBmb3IgYW4gZXh0ZW5kZWQgcGVyaW9kIG9mIHRpbWUsIHRlcm1pbmF0aW5nIHRoZSBjYWxsJyk7XG4gICAgICAgIFNJUC5UaW1lcnMuY2xlYXJUaW1lb3V0KHNlbGYudGltZXJzLmludml0ZTJ4eFRpbWVyKTtcbiAgICAgICAgc2VsZi5zZW5kUmVxdWVzdChTSVAuQy5CWUUpO1xuICAgICAgICBzZWxmLnRlcm1pbmF0ZWQobnVsbCwgU0lQLkMuY2F1c2VzLk5PX0FDSyk7XG4gICAgICB9XG4gICAgfSwgU0lQLlRpbWVycy5USU1FUl9IKTtcbiAgfSxcblxuICAvKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25SZWFkeVRvUmVpbnZpdGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhY3Rpb24gPSB0aGlzLnBlbmRpbmdfYWN0aW9ucy5zaGlmdCgpO1xuXG4gICAgaWYgKCFhY3Rpb24gfHwgIXRoaXNbYWN0aW9uLm5hbWVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpc1thY3Rpb24ubmFtZV0oKTtcbiAgfSxcblxuICBvblRyYW5zcG9ydEVycm9yOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5zdGF0dXMgIT09IEMuU1RBVFVTX0NPTkZJUk1FRCAmJiB0aGlzLnN0YXR1cyAhPT0gQy5TVEFUVVNfVEVSTUlOQVRFRCkge1xuICAgICAgdGhpcy5mYWlsZWQobnVsbCwgU0lQLkMuY2F1c2VzLkNPTk5FQ1RJT05fRVJST1IpO1xuICAgIH1cbiAgfSxcblxuICBvblJlcXVlc3RUaW1lb3V0OiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX0NPTkZJUk1FRCkge1xuICAgICAgdGhpcy50ZXJtaW5hdGVkKG51bGwsIFNJUC5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0dXMgIT09IEMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgIHRoaXMuZmFpbGVkKG51bGwsIFNJUC5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpO1xuICAgICAgdGhpcy50ZXJtaW5hdGVkKG51bGwsIFNJUC5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpO1xuICAgIH1cbiAgfSxcblxuICBvbkRpYWxvZ0Vycm9yOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gQy5TVEFUVVNfQ09ORklSTUVEKSB7XG4gICAgICB0aGlzLnRlcm1pbmF0ZWQocmVzcG9uc2UsIFNJUC5DLmNhdXNlcy5ESUFMT0dfRVJST1IpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0dXMgIT09IEMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgIHRoaXMuZmFpbGVkKHJlc3BvbnNlLCBTSVAuQy5jYXVzZXMuRElBTE9HX0VSUk9SKTtcbiAgICAgIHRoaXMudGVybWluYXRlZChyZXNwb25zZSwgU0lQLkMuY2F1c2VzLkRJQUxPR19FUlJPUik7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25ob2xkOiBmdW5jdGlvbihvcmlnaW5hdG9yKSB7XG4gICAgdGhpc1tvcmlnaW5hdG9yID09PSAnbG9jYWwnID8gJ2xvY2FsX2hvbGQnIDogJ3JlbW90ZV9ob2xkJ10gPSB0cnVlO1xuICAgIHRoaXMuZW1pdCgnaG9sZCcsIHsgb3JpZ2luYXRvcjogb3JpZ2luYXRvciB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9udW5ob2xkOiBmdW5jdGlvbihvcmlnaW5hdG9yKSB7XG4gICAgdGhpc1tvcmlnaW5hdG9yID09PSAnbG9jYWwnID8gJ2xvY2FsX2hvbGQnIDogJ3JlbW90ZV9ob2xkJ10gPSBmYWxzZTtcbiAgICB0aGlzLmVtaXQoJ3VuaG9sZCcsIHsgb3JpZ2luYXRvcjogb3JpZ2luYXRvciB9KTtcbiAgfSxcblxuICAvKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25tdXRlOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdGhpcy5lbWl0KCdtdXRlZCcsIHtcbiAgICAgIGF1ZGlvOiBvcHRpb25zLmF1ZGlvLFxuICAgICAgdmlkZW86IG9wdGlvbnMudmlkZW9cbiAgICB9KTtcbiAgfSxcblxuICAvKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb251bm11dGU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB0aGlzLmVtaXQoJ3VubXV0ZWQnLCB7XG4gICAgICBhdWRpbzogb3B0aW9ucy5hdWRpbyxcbiAgICAgIHZpZGVvOiBvcHRpb25zLnZpZGVvXG4gICAgfSk7XG4gIH0sXG5cbiAgZmFpbGVkOiBmdW5jdGlvbihyZXNwb25zZSwgY2F1c2UpIHtcbiAgICBpZiAodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0aGlzLmVtaXQoJ2ZhaWxlZCcsIHJlc3BvbnNlIHx8IG51bGwsIGNhdXNlIHx8IG51bGwpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIHJlamVjdGVkOiBmdW5jdGlvbihyZXNwb25zZSwgY2F1c2UpIHtcbiAgICB0aGlzLmVtaXQoJ3JlamVjdGVkJyxcbiAgICAgIHJlc3BvbnNlIHx8IG51bGwsXG4gICAgICBjYXVzZSB8fCBudWxsXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBjYW5jZWxlZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5lbWl0KCdjYW5jZWwnKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICBhY2NlcHRlZDogZnVuY3Rpb24ocmVzcG9uc2UsIGNhdXNlKSB7XG4gICAgY2F1c2UgPSBTSVAuVXRpbHMuZ2V0UmVhc29uUGhyYXNlKHJlc3BvbnNlICYmIHJlc3BvbnNlLnN0YXR1c19jb2RlLCBjYXVzZSk7XG5cbiAgICB0aGlzLnN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG5cbiAgICBpZiAodGhpcy5yZXBsYWNlZSkge1xuICAgICAgdGhpcy5yZXBsYWNlZS5lbWl0KCdyZXBsYWNlZCcsIHRoaXMpO1xuICAgICAgdGhpcy5yZXBsYWNlZS50ZXJtaW5hdGUoKTtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICBSRkM0MDI4LnVwZGF0ZVN0YXRlKHRoaXMuZGlhbG9nLCByZXNwb25zZSwgU0lQLlBhcnNlci5wYXJzZU1lc3NhZ2UsIHRoaXMudWEpO1xuICAgIH1cbiAgICB0aGlzLmVtaXQoJ2FjY2VwdGVkJywgcmVzcG9uc2UsIGNhdXNlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICB0ZXJtaW5hdGVkOiBmdW5jdGlvbihtZXNzYWdlLCBjYXVzZSkge1xuICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gQy5TVEFUVVNfVEVSTUlOQVRFRCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdGhpcy5lbmRUaW1lID0gbmV3IERhdGUoKTtcblxuICAgIHRoaXMuY2xvc2UoKTtcbiAgICB0aGlzLmVtaXQoJ3Rlcm1pbmF0ZWQnLFxuICAgICAgbWVzc2FnZSB8fCBudWxsLFxuICAgICAgY2F1c2UgfHwgbnVsbFxuICAgICk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgY29ubmVjdGluZzogZnVuY3Rpb24ocmVxdWVzdCkge1xuICAgIHRoaXMuZW1pdCgnY29ubmVjdGluZycsIHsgcmVxdWVzdDogcmVxdWVzdCB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufTtcblxuU2Vzc2lvbi5kZXN1Z2FyID0gZnVuY3Rpb24gZGVzdWdhcihvcHRpb25zKSB7XG4gIGlmIChlbnZpcm9ubWVudC5IVE1MTWVkaWFFbGVtZW50ICYmIG9wdGlvbnMgaW5zdGFuY2VvZiBlbnZpcm9ubWVudC5IVE1MTWVkaWFFbGVtZW50KSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIG1lZGlhOiB7XG4gICAgICAgIGNvbnN0cmFpbnRzOiB7XG4gICAgICAgICAgYXVkaW86IHRydWUsXG4gICAgICAgICAgdmlkZW86IG9wdGlvbnMudGFnTmFtZSA9PT0gJ1ZJREVPJ1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXI6IHtcbiAgICAgICAgICByZW1vdGU6IG9wdGlvbnNcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnMgfHwge307XG59O1xuXG5cblNlc3Npb24uQyA9IEM7XG5TSVAuU2Vzc2lvbiA9IFNlc3Npb247XG5cblxuSW52aXRlU2VydmVyQ29udGV4dCA9IGZ1bmN0aW9uKHVhLCByZXF1ZXN0KSB7XG4gIHZhciBleHBpcmVzLFxuICAgIHNlbGYgPSB0aGlzLFxuICAgIGNvbnRlbnRUeXBlID0gcmVxdWVzdC5nZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScpLFxuICAgIGNvbnRlbnREaXNwID0gcmVxdWVzdC5wYXJzZUhlYWRlcignQ29udGVudC1EaXNwb3NpdGlvbicpO1xuXG4gIFNJUC5VdGlscy5hdWdtZW50KHRoaXMsIFNJUC5TZXJ2ZXJDb250ZXh0LCBbdWEsIHJlcXVlc3RdKTtcbiAgU0lQLlV0aWxzLmF1Z21lbnQodGhpcywgU0lQLlNlc3Npb24sIFt1YS5jb25maWd1cmF0aW9uLm1lZGlhSGFuZGxlckZhY3RvcnldKTtcblxuICAvL0luaXRpYWxpemUgTWVkaWEgU2Vzc2lvblxuICB0aGlzLm1lZGlhSGFuZGxlciA9IHRoaXMubWVkaWFIYW5kbGVyRmFjdG9yeSh0aGlzLCB7XG4gICAgUlRDQ29uc3RyYWludHM6IHtcIm9wdGlvbmFsXCI6IFt7J0R0bHNTcnRwS2V5QWdyZWVtZW50JzogJ3RydWUnfV19XG4gIH0pO1xuXG4gIC8vIENoZWNrIGJvZHkgYW5kIGNvbnRlbnQgdHlwZVxuICBpZiAoKCFjb250ZW50RGlzcCAmJiAhdGhpcy5tZWRpYUhhbmRsZXIuaGFzRGVzY3JpcHRpb24ocmVxdWVzdCkpIHx8IChjb250ZW50RGlzcCAmJiBjb250ZW50RGlzcC50eXBlID09PSAncmVuZGVyJykpIHtcbiAgICB0aGlzLnJlbmRlcmJvZHkgPSByZXF1ZXN0LmJvZHk7XG4gICAgdGhpcy5yZW5kZXJ0eXBlID0gY29udGVudFR5cGU7XG4gIH0gZWxzZSBpZiAoIXRoaXMubWVkaWFIYW5kbGVyLmhhc0Rlc2NyaXB0aW9uKHJlcXVlc3QpICYmIChjb250ZW50RGlzcCAmJiBjb250ZW50RGlzcC50eXBlID09PSAnc2Vzc2lvbicpKSB7XG4gICAgcmVxdWVzdC5yZXBseSg0MTUpO1xuICAgIC8vVE9ETzogaW5zdGVhZCBvZiA0MTUsIHBhc3Mgb2ZmIHRvIHRoZSBtZWRpYSBoYW5kbGVyLCB3aG8gY2FuIHRoZW4gZGVjaWRlIGlmIHdlIGNhbiB1c2UgaXRcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBUT0RPIHRlc3RcbiAgLy8gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNDAyOCNzZWN0aW9uLTlcbiAgaWYgKFJGQzQwMjguaGFzU21hbGxNaW5TRShyZXF1ZXN0KSkge1xuICAgIHJlcXVlc3QucmVwbHkoNDIyLCBudWxsLCBbJ01pbi1TRTogJyArIFJGQzQwMjgubG9jYWxNaW5TRV0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuc3RhdHVzID0gQy5TVEFUVVNfSU5WSVRFX1JFQ0VJVkVEO1xuICB0aGlzLmZyb21fdGFnID0gcmVxdWVzdC5mcm9tX3RhZztcbiAgdGhpcy5pZCA9IHJlcXVlc3QuY2FsbF9pZCArIHRoaXMuZnJvbV90YWc7XG4gIHRoaXMucmVxdWVzdCA9IHJlcXVlc3Q7XG4gIHRoaXMuY29udGFjdCA9IHRoaXMudWEuY29udGFjdC50b1N0cmluZygpO1xuXG4gIHRoaXMucmVjZWl2ZU5vbkludml0ZVJlc3BvbnNlID0gZnVuY3Rpb24gKCkge307IC8vIGludGVudGlvbmFsIG5vLW9wXG5cbiAgdGhpcy5sb2dnZXIgPSB1YS5nZXRMb2dnZXIoJ3NpcC5pbnZpdGVzZXJ2ZXJjb250ZXh0JywgdGhpcy5pZCk7XG5cbiAgLy9TYXZlIHRoZSBzZXNzaW9uIGludG8gdGhlIHVhIHNlc3Npb25zIGNvbGxlY3Rpb24uXG4gIHRoaXMudWEuc2Vzc2lvbnNbdGhpcy5pZF0gPSB0aGlzO1xuXG4gIC8vR2V0IHRoZSBFeHBpcmVzIGhlYWRlciB2YWx1ZSBpZiBleGlzdHNcbiAgaWYocmVxdWVzdC5oYXNIZWFkZXIoJ2V4cGlyZXMnKSkge1xuICAgIGV4cGlyZXMgPSByZXF1ZXN0LmdldEhlYWRlcignZXhwaXJlcycpICogMTAwMDtcbiAgfVxuXG4gIC8vU2V0IDEwMHJlbCBpZiBuZWNlc3NhcnlcbiAgZnVuY3Rpb24gc2V0MTAwcmVsKGgsYykge1xuICAgIGlmIChyZXF1ZXN0Lmhhc0hlYWRlcihoKSAmJiByZXF1ZXN0LmdldEhlYWRlcihoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJzEwMHJlbCcpID49IDApIHtcbiAgICAgIHNlbGYucmVsMTAwID0gYztcbiAgICB9XG4gIH1cbiAgc2V0MTAwcmVsKCdyZXF1aXJlJywgU0lQLkMuc3VwcG9ydGVkLlJFUVVJUkVEKTtcbiAgc2V0MTAwcmVsKCdzdXBwb3J0ZWQnLCBTSVAuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEKTtcblxuICAvKiBTZXQgdGhlIHRvX3RhZyBiZWZvcmVcbiAgICogcmVwbHlpbmcgYSByZXNwb25zZSBjb2RlIHRoYXQgd2lsbCBjcmVhdGUgYSBkaWFsb2cuXG4gICAqL1xuICByZXF1ZXN0LnRvX3RhZyA9IFNJUC5VdGlscy5uZXdUYWcoKTtcblxuICAvLyBBbiBlcnJvciBvbiBkaWFsb2cgY3JlYXRpb24gd2lsbCBmaXJlICdmYWlsZWQnIGV2ZW50XG4gIGlmKCF0aGlzLmNyZWF0ZURpYWxvZyhyZXF1ZXN0LCAnVUFTJywgdHJ1ZSkpIHtcbiAgICByZXF1ZXN0LnJlcGx5KDUwMCwgJ01pc3NpbmcgQ29udGFjdCBoZWFkZXIgZmllbGQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodGhpcy5tZWRpYUhhbmRsZXIgJiYgdGhpcy5tZWRpYUhhbmRsZXIuZ2V0UmVtb3RlU3RyZWFtcykge1xuICAgIHRoaXMuZ2V0UmVtb3RlU3RyZWFtcyA9IHRoaXMubWVkaWFIYW5kbGVyLmdldFJlbW90ZVN0cmVhbXMuYmluZCh0aGlzLm1lZGlhSGFuZGxlcik7XG4gICAgdGhpcy5nZXRMb2NhbFN0cmVhbXMgPSB0aGlzLm1lZGlhSGFuZGxlci5nZXRMb2NhbFN0cmVhbXMuYmluZCh0aGlzLm1lZGlhSGFuZGxlcik7XG4gIH1cblxuICBmdW5jdGlvbiBmaXJlTmV3U2Vzc2lvbigpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHtleHRyYUhlYWRlcnM6IFsnQ29udGFjdDogJyArIHNlbGYuY29udGFjdF19O1xuXG4gICAgaWYgKHNlbGYucmVsMTAwICE9PSBTSVAuQy5zdXBwb3J0ZWQuUkVRVUlSRUQpIHtcbiAgICAgIHNlbGYucHJvZ3Jlc3Mob3B0aW9ucyk7XG4gICAgfVxuICAgIHNlbGYuc3RhdHVzID0gQy5TVEFUVVNfV0FJVElOR19GT1JfQU5TV0VSO1xuXG4gICAgLy8gU2V0IHVzZXJOb0Fuc3dlclRpbWVyXG4gICAgc2VsZi50aW1lcnMudXNlck5vQW5zd2VyVGltZXIgPSBTSVAuVGltZXJzLnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICByZXF1ZXN0LnJlcGx5KDQwOCk7XG4gICAgICBzZWxmLmZhaWxlZChyZXF1ZXN0LCBTSVAuQy5jYXVzZXMuTk9fQU5TV0VSKTtcbiAgICAgIHNlbGYudGVybWluYXRlZChyZXF1ZXN0LCBTSVAuQy5jYXVzZXMuTk9fQU5TV0VSKTtcbiAgICB9LCBzZWxmLnVhLmNvbmZpZ3VyYXRpb24ubm9BbnN3ZXJUaW1lb3V0KTtcblxuICAgIC8qIFNldCBleHBpcmVzVGltZXJcbiAgICAgKiBSRkMzMjYxIDEzLjMuMVxuICAgICAqL1xuICAgIGlmIChleHBpcmVzKSB7XG4gICAgICBzZWxmLnRpbWVycy5leHBpcmVzVGltZXIgPSBTSVAuVGltZXJzLnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKHNlbGYuc3RhdHVzID09PSBDLlNUQVRVU19XQUlUSU5HX0ZPUl9BTlNXRVIpIHtcbiAgICAgICAgICByZXF1ZXN0LnJlcGx5KDQ4Nyk7XG4gICAgICAgICAgc2VsZi5mYWlsZWQocmVxdWVzdCwgU0lQLkMuY2F1c2VzLkVYUElSRVMpO1xuICAgICAgICAgIHNlbGYudGVybWluYXRlZChyZXF1ZXN0LCBTSVAuQy5jYXVzZXMuRVhQSVJFUyk7XG4gICAgICAgIH1cbiAgICAgIH0sIGV4cGlyZXMpO1xuICAgIH1cblxuICAgIHNlbGYuZW1pdCgnaW52aXRlJyxyZXF1ZXN0KTtcbiAgfVxuXG4gIGlmICghdGhpcy5tZWRpYUhhbmRsZXIuaGFzRGVzY3JpcHRpb24ocmVxdWVzdCkgfHwgdGhpcy5yZW5kZXJib2R5KSB7XG4gICAgU0lQLlRpbWVycy5zZXRUaW1lb3V0KGZpcmVOZXdTZXNzaW9uLCAwKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmhhc09mZmVyID0gdHJ1ZTtcbiAgICB0aGlzLm1lZGlhSGFuZGxlci5zZXREZXNjcmlwdGlvbihyZXF1ZXN0KVxuICAgIC50aGVuKFxuICAgICAgZmlyZU5ld1Nlc3Npb24sXG4gICAgICBmdW5jdGlvbiBvbkZhaWx1cmUgKGUpIHtcbiAgICAgICAgc2VsZi5sb2dnZXIud2FybignaW52YWxpZCBkZXNjcmlwdGlvbicpO1xuICAgICAgICBzZWxmLmxvZ2dlci53YXJuKGUpO1xuICAgICAgICByZXF1ZXN0LnJlcGx5KDQ4OCk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxufTtcblxuSW52aXRlU2VydmVyQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gIHJlamVjdDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIC8vIENoZWNrIFNlc3Npb24gU3RhdHVzXG4gICAgaWYgKHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICB0aHJvdyBuZXcgU0lQLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IodGhpcy5zdGF0dXMpO1xuICAgIH1cblxuICAgIHRoaXMubG9nZ2VyLmxvZygncmVqZWN0aW5nIFJUQ1Nlc3Npb24nKTtcblxuICAgIFNJUC5TZXJ2ZXJDb250ZXh0LnByb3RvdHlwZS5yZWplY3QuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICByZXR1cm4gdGhpcy50ZXJtaW5hdGVkKCk7XG4gIH0sXG5cbiAgdGVybWluYXRlOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICB2YXJcbiAgICBleHRyYUhlYWRlcnMgPSAob3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCksXG4gICAgYm9keSA9IG9wdGlvbnMuYm9keSxcbiAgICBkaWFsb2csXG4gICAgc2VsZiA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX1dBSVRJTkdfRk9SX0FDSyAmJlxuICAgICAgIHRoaXMucmVxdWVzdC5zZXJ2ZXJfdHJhbnNhY3Rpb24uc3RhdGUgIT09IFNJUC5UcmFuc2FjdGlvbnMuQy5TVEFUVVNfVEVSTUlOQVRFRCkge1xuICAgICAgZGlhbG9nID0gdGhpcy5kaWFsb2c7XG5cbiAgICAgIHRoaXMucmVjZWl2ZVJlcXVlc3QgPSBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gICAgICAgIGlmIChyZXF1ZXN0Lm1ldGhvZCA9PT0gU0lQLkMuQUNLKSB7XG4gICAgICAgICAgdGhpcy5zZW5kUmVxdWVzdChTSVAuQy5CWUUsIHtcbiAgICAgICAgICAgIGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRpYWxvZy50ZXJtaW5hdGUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5yZXF1ZXN0LnNlcnZlcl90cmFuc2FjdGlvbi5vbignc3RhdGVDaGFuZ2VkJywgZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IFNJUC5UcmFuc2FjdGlvbnMuQy5TVEFUVVNfVEVSTUlOQVRFRCAmJiB0aGlzLmRpYWxvZykge1xuICAgICAgICAgIHRoaXMucmVxdWVzdCA9IG5ldyBTSVAuT3V0Z29pbmdSZXF1ZXN0KFxuICAgICAgICAgICAgU0lQLkMuQllFLFxuICAgICAgICAgICAgdGhpcy5kaWFsb2cucmVtb3RlX3RhcmdldCxcbiAgICAgICAgICAgIHRoaXMudWEsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICdjc2VxJzogdGhpcy5kaWFsb2cubG9jYWxfc2VxbnVtKz0xLFxuICAgICAgICAgICAgICAnY2FsbF9pZCc6IHRoaXMuZGlhbG9nLmlkLmNhbGxfaWQsXG4gICAgICAgICAgICAgICdmcm9tX3VyaSc6IHRoaXMuZGlhbG9nLmxvY2FsX3VyaSxcbiAgICAgICAgICAgICAgJ2Zyb21fdGFnJzogdGhpcy5kaWFsb2cuaWQubG9jYWxfdGFnLFxuICAgICAgICAgICAgICAndG9fdXJpJzogdGhpcy5kaWFsb2cucmVtb3RlX3VyaSxcbiAgICAgICAgICAgICAgJ3RvX3RhZyc6IHRoaXMuZGlhbG9nLmlkLnJlbW90ZV90YWcsXG4gICAgICAgICAgICAgICdyb3V0ZV9zZXQnOiB0aGlzLmRpYWxvZy5yb3V0ZV9zZXRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHRyYUhlYWRlcnMsXG4gICAgICAgICAgICBib2R5XG4gICAgICAgICAgKTtcblxuICAgICAgICAgIG5ldyBTSVAuUmVxdWVzdFNlbmRlcihcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcmVxdWVzdDogdGhpcy5yZXF1ZXN0LFxuICAgICAgICAgICAgICBvblJlcXVlc3RUaW1lb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzZWxmLm9uUmVxdWVzdFRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgb25UcmFuc3BvcnRFcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5vblRyYW5zcG9ydEVycm9yKCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHJlY2VpdmVSZXNwb25zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGhpcy51YVxuICAgICAgICAgICkuc2VuZCgpO1xuICAgICAgICAgIGRpYWxvZy50ZXJtaW5hdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuZW1pdCgnYnllJywgdGhpcy5yZXF1ZXN0KTtcbiAgICAgIHRoaXMudGVybWluYXRlZCgpO1xuXG4gICAgICAvLyBSZXN0b3JlIHRoZSBkaWFsb2cgaW50byAndGhpcycgaW4gb3JkZXIgdG8gYmUgYWJsZSB0byBzZW5kIHRoZSBpbi1kaWFsb2cgQllFIDotKVxuICAgICAgdGhpcy5kaWFsb2cgPSBkaWFsb2c7XG5cbiAgICAgIC8vIFJlc3RvcmUgdGhlIGRpYWxvZyBpbnRvICd1YScgc28gdGhlIEFDSyBjYW4gcmVhY2ggJ3RoaXMnIHNlc3Npb25cbiAgICAgIHRoaXMudWEuZGlhbG9nc1tkaWFsb2cuaWQudG9TdHJpbmcoKV0gPSBkaWFsb2c7XG5cbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgIHRoaXMuYnllKG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlamVjdChvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMubWVkaWFdIGdldHMgcGFzc2VkIHRvIFNJUC5NZWRpYUhhbmRsZXIuZ2V0RGVzY3JpcHRpb24gYXMgbWVkaWFIaW50XG4gICAqL1xuICBwcm9ncmVzczogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB2YXJcbiAgICAgIHN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGUgfHwgMTgwLFxuICAgICAgcmVhc29uUGhyYXNlID0gb3B0aW9ucy5yZWFzb25QaHJhc2UsXG4gICAgICBleHRyYUhlYWRlcnMgPSAob3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCksXG4gICAgICBpY2VTZXJ2ZXJzLFxuICAgICAgc3R1blNlcnZlcnMgPSBvcHRpb25zLnN0dW5TZXJ2ZXJzIHx8IG51bGwsXG4gICAgICB0dXJuU2VydmVycyA9IG9wdGlvbnMudHVyblNlcnZlcnMgfHwgbnVsbCxcbiAgICAgIGJvZHkgPSBvcHRpb25zLmJvZHksXG4gICAgICByZXNwb25zZTtcblxuICAgIGlmIChzdGF0dXNDb2RlIDwgMTAwIHx8IHN0YXR1c0NvZGUgPiAxOTkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgc3RhdHVzQ29kZTogJyArIHN0YXR1c0NvZGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzQ2FuY2VsZWQgfHwgdGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGlmIChzdHVuU2VydmVycyB8fCB0dXJuU2VydmVycykge1xuICAgICAgaWYgKHN0dW5TZXJ2ZXJzKSB7XG4gICAgICAgIGljZVNlcnZlcnMgPSBTSVAuVUEuY29uZmlndXJhdGlvbl9jaGVjay5vcHRpb25hbFsnc3R1blNlcnZlcnMnXShzdHVuU2VydmVycyk7XG4gICAgICAgIGlmICghaWNlU2VydmVycykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgc3R1blNlcnZlcnM6ICcrIHN0dW5TZXJ2ZXJzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN0dW5TZXJ2ZXJzID0gaWNlU2VydmVycztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodHVyblNlcnZlcnMpIHtcbiAgICAgICAgaWNlU2VydmVycyA9IFNJUC5VQS5jb25maWd1cmF0aW9uX2NoZWNrLm9wdGlvbmFsWyd0dXJuU2VydmVycyddKHR1cm5TZXJ2ZXJzKTtcbiAgICAgICAgaWYgKCFpY2VTZXJ2ZXJzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCB0dXJuU2VydmVyczogJysgdHVyblNlcnZlcnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudHVyblNlcnZlcnMgPSBpY2VTZXJ2ZXJzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMubWVkaWFIYW5kbGVyLnVwZGF0ZUljZVNlcnZlcnMoe1xuICAgICAgICBzdHVuU2VydmVyczogdGhpcy5zdHVuU2VydmVycyxcbiAgICAgICAgdHVyblNlcnZlcnM6IHRoaXMudHVyblNlcnZlcnNcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRvMTAwcmVsKCkge1xuICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgc3RhdHVzQ29kZSA9IG9wdGlvbnMuc3RhdHVzQ29kZSB8fCAxODM7XG5cbiAgICAgIC8vIFNldCBzdGF0dXMgYW5kIGFkZCBleHRyYSBoZWFkZXJzXG4gICAgICB0aGlzLnN0YXR1cyA9IEMuU1RBVFVTX1dBSVRJTkdfRk9SX1BSQUNLO1xuICAgICAgZXh0cmFIZWFkZXJzLnB1c2goJ0NvbnRhY3Q6ICcrIHRoaXMuY29udGFjdCk7XG4gICAgICBleHRyYUhlYWRlcnMucHVzaCgnUmVxdWlyZTogMTAwcmVsJyk7XG4gICAgICBleHRyYUhlYWRlcnMucHVzaCgnUlNlcTogJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKSk7XG5cbiAgICAgIC8vIFNhdmUgbWVkaWEgaGludCBmb3IgbGF0ZXIgKHJlZmVycmVkIHNlc3Npb25zKVxuICAgICAgdGhpcy5tZWRpYUhpbnQgPSBvcHRpb25zLm1lZGlhO1xuXG4gICAgICAvLyBHZXQgdGhlIHNlc3Npb24gZGVzY3JpcHRpb24gdG8gYWRkIHRvIHByZWFjY2VwdCB3aXRoXG4gICAgICB0aGlzLm1lZGlhSGFuZGxlci5nZXREZXNjcmlwdGlvbihvcHRpb25zLm1lZGlhKVxuICAgICAgLnRoZW4oXG4gICAgICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyAoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICBpZiAodGhpcy5pc0NhbmNlbGVkIHx8IHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5lYXJseV9zZHAgPSBkZXNjcmlwdGlvbi5ib2R5O1xuICAgICAgICAgIHRoaXNbdGhpcy5oYXNPZmZlciA/ICdoYXNBbnN3ZXInIDogJ2hhc09mZmVyJ10gPSB0cnVlO1xuXG4gICAgICAgICAgLy8gUmV0cmFuc21pdCB1bnRpbCB3ZSBnZXQgYSByZXNwb25zZSBvciB3ZSB0aW1lIG91dCAoc2VlIHByYWNrVGltZXIgYmVsb3cpXG4gICAgICAgICAgdmFyIHRpbWVvdXQgPSBTSVAuVGltZXJzLlQxO1xuICAgICAgICAgIHRoaXMudGltZXJzLnJlbDF4eFRpbWVyID0gU0lQLlRpbWVycy5zZXRUaW1lb3V0KGZ1bmN0aW9uIHJlbDF4eFJldHJhbnNtaXNzaW9uKCkge1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LnJlcGx5KHN0YXR1c0NvZGUsIG51bGwsIGV4dHJhSGVhZGVycywgZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgdGltZW91dCAqPSAyO1xuICAgICAgICAgICAgdGhpcy50aW1lcnMucmVsMXh4VGltZXIgPSBTSVAuVGltZXJzLnNldFRpbWVvdXQocmVsMXh4UmV0cmFuc21pc3Npb24uYmluZCh0aGlzKSwgdGltZW91dCk7XG4gICAgICAgICAgfS5iaW5kKHRoaXMpLCB0aW1lb3V0KTtcblxuICAgICAgICAgIC8vIFRpbWVvdXQgYW5kIHJlamVjdCBJTlZJVEUgaWYgbm8gcmVzcG9uc2VcbiAgICAgICAgICB0aGlzLnRpbWVycy5wcmFja1RpbWVyID0gU0lQLlRpbWVycy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gQy5TVEFUVVNfV0FJVElOR19GT1JfUFJBQ0spIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ25vIFBSQUNLIHJlY2VpdmVkLCByZWplY3RpbmcgdGhlIGNhbGwnKTtcbiAgICAgICAgICAgIFNJUC5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLnJlbDF4eFRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdC5yZXBseSg1MDQpO1xuICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGVkKG51bGwsIFNJUC5DLmNhdXNlcy5OT19QUkFDSyk7XG4gICAgICAgICAgfS5iaW5kKHRoaXMpLCBTSVAuVGltZXJzLlQxICogNjQpO1xuXG4gICAgICAgICAgLy8gU2VuZCB0aGUgaW5pdGlhbCByZXNwb25zZVxuICAgICAgICAgIHJlc3BvbnNlID0gdGhpcy5yZXF1ZXN0LnJlcGx5KHN0YXR1c0NvZGUsIHJlYXNvblBocmFzZSwgZXh0cmFIZWFkZXJzLCBkZXNjcmlwdGlvbik7XG4gICAgICAgICAgdGhpcy5lbWl0KCdwcm9ncmVzcycsIHJlc3BvbnNlLCByZWFzb25QaHJhc2UpO1xuICAgICAgICB9LmJpbmQodGhpcyksXG5cbiAgICAgICAgZnVuY3Rpb24gb25GYWlsdXJlICgpIHtcbiAgICAgICAgICB0aGlzLnJlcXVlc3QucmVwbHkoNDgwKTtcbiAgICAgICAgICB0aGlzLmZhaWxlZChudWxsLCBTSVAuQy5jYXVzZXMuV0VCUlRDX0VSUk9SKTtcbiAgICAgICAgICB0aGlzLnRlcm1pbmF0ZWQobnVsbCwgU0lQLkMuY2F1c2VzLldFQlJUQ19FUlJPUik7XG4gICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgKTtcbiAgICB9IC8vIGVuZCBkbzEwMHJlbFxuXG4gICAgZnVuY3Rpb24gbm9ybWFsUmVwbHkoKSB7XG4gICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHJlc3BvbnNlID0gdGhpcy5yZXF1ZXN0LnJlcGx5KHN0YXR1c0NvZGUsIHJlYXNvblBocmFzZSwgZXh0cmFIZWFkZXJzLCBib2R5KTtcbiAgICAgIHRoaXMuZW1pdCgncHJvZ3Jlc3MnLCByZXNwb25zZSwgcmVhc29uUGhyYXNlKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5zdGF0dXNDb2RlICE9PSAxMDAgJiZcbiAgICAgICAgKHRoaXMucmVsMTAwID09PSBTSVAuQy5zdXBwb3J0ZWQuUkVRVUlSRUQgfHxcbiAgICAgICAgICh0aGlzLnJlbDEwMCA9PT0gU0lQLkMuc3VwcG9ydGVkLlNVUFBPUlRFRCAmJiBvcHRpb25zLnJlbDEwMCkgfHxcbiAgICAgICAgICh0aGlzLnJlbDEwMCA9PT0gU0lQLkMuc3VwcG9ydGVkLlNVUFBPUlRFRCAmJiAodGhpcy51YS5jb25maWd1cmF0aW9uLnJlbDEwMCA9PT0gU0lQLkMuc3VwcG9ydGVkLlJFUVVJUkVEKSkpKSB7XG4gICAgICBkbzEwMHJlbC5hcHBseSh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9ybWFsUmVwbHkuYXBwbHkodGhpcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5tZWRpYV0gZ2V0cyBwYXNzZWQgdG8gU0lQLk1lZGlhSGFuZGxlci5nZXREZXNjcmlwdGlvbiBhcyBtZWRpYUhpbnRcbiAgICovXG4gIGFjY2VwdDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKFNlc3Npb24uZGVzdWdhcihvcHRpb25zKSk7XG4gICAgU0lQLlV0aWxzLm9wdGlvbnNPdmVycmlkZShvcHRpb25zLCAnbWVkaWEnLCAnbWVkaWFDb25zdHJhaW50cycsIHRydWUsIHRoaXMubG9nZ2VyLCB0aGlzLnVhLmNvbmZpZ3VyYXRpb24ubWVkaWEpO1xuICAgIHRoaXMubWVkaWFIaW50ID0gb3B0aW9ucy5tZWRpYTtcblxuICAgIHRoaXMub25JbmZvID0gb3B0aW9ucy5vbkluZm87XG5cbiAgICAvLyBjb21tZW50ZWQgb3V0IG5vdy11bnVzZWQgaG9sZC1yZWxhdGVkIHZhcmlhYmxlcyBmb3IganNoaW50LiBTZWUgYmVsb3cuIEpNRiAyMDE0LTEtMjFcbiAgICB2YXJcbiAgICAgIC8vaWR4LCBsZW5ndGgsIGhhc0F1ZGlvLCBoYXNWaWRlbyxcbiAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgcmVxdWVzdCA9IHRoaXMucmVxdWVzdCxcbiAgICAgIGV4dHJhSGVhZGVycyA9IChvcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXSkuc2xpY2UoKSxcbiAgICAvL21lZGlhU3RyZWFtID0gb3B0aW9ucy5tZWRpYVN0cmVhbSB8fCBudWxsLFxuICAgICAgaWNlU2VydmVycyxcbiAgICAgIHN0dW5TZXJ2ZXJzID0gb3B0aW9ucy5zdHVuU2VydmVycyB8fCBudWxsLFxuICAgICAgdHVyblNlcnZlcnMgPSBvcHRpb25zLnR1cm5TZXJ2ZXJzIHx8IG51bGwsXG4gICAgICBkZXNjcmlwdGlvbkNyZWF0aW9uU3VjY2VlZGVkID0gZnVuY3Rpb24oZGVzY3JpcHRpb24pIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgLy8gcnVuIGZvciByZXBseSBzdWNjZXNzIGNhbGxiYWNrXG4gICAgICAgICAgcmVwbHlTdWNjZWVkZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuc3RhdHVzID0gQy5TVEFUVVNfV0FJVElOR19GT1JfQUNLO1xuXG4gICAgICAgICAgICBzZWxmLnNldEludml0ZTJ4eFRpbWVyKHJlcXVlc3QsIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgIHNlbGYuc2V0QUNLVGltZXIoKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgLy8gcnVuIGZvciByZXBseSBmYWlsdXJlIGNhbGxiYWNrXG4gICAgICAgICAgcmVwbHlGYWlsZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuZmFpbGVkKG51bGwsIFNJUC5DLmNhdXNlcy5DT05ORUNUSU9OX0VSUk9SKTtcbiAgICAgICAgICAgIHNlbGYudGVybWluYXRlZChudWxsLCBTSVAuQy5jYXVzZXMuQ09OTkVDVElPTl9FUlJPUik7XG4gICAgICAgICAgfTtcblxuICAgICAgICAvLyBDaHJvbWUgbWlnaHQgY2FsbCBvbmFkZHN0cmVhbSBiZWZvcmUgYWNjZXB0KCkgaXMgY2FsbGVkLCB3aGljaCBtZWFuc1xuICAgICAgICAvLyBtZWRpYUhhbmRsZXIucmVuZGVyKCkgd2FzIGNhbGxlZCB3aXRob3V0IGEgcmVuZGVySGludCwgc28gd2UgbmVlZCB0b1xuICAgICAgICAvLyByZS1yZW5kZXIgbm93IHRoYXQgbWVkaWFIaW50LnJlbmRlciBoYXMgYmVlbiBzZXQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIENocm9tZSBzZWVtcyB0byBiZSBpbiB0aGUgcmlnaHQgcmVnYXJkaW5nIHRoaXMsIHNlZVxuICAgICAgICAvLyBodHRwOi8vZGV2LnczLm9yZy8yMDExL3dlYnJ0Yy9lZGl0b3Ivd2VicnRjLmh0bWwjd2lkbC1SVENQZWVyQ29ubmVjdGlvbi1vbmFkZHN0cmVhbVxuICAgICAgICBzZWxmLm1lZGlhSGFuZGxlci5yZW5kZXIoKTtcblxuICAgICAgICBleHRyYUhlYWRlcnMucHVzaCgnQ29udGFjdDogJyArIHNlbGYuY29udGFjdCk7XG4gICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKCdBbGxvdzogJyArIFNJUC5VQS5DLkFMTE9XRURfTUVUSE9EUy50b1N0cmluZygpKTtcblxuICAgICAgICAvLyBUT0RPIHRlc3RcbiAgICAgICAgLy8gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNDAyOCNzZWN0aW9uLTlcbiAgICAgICAgdmFyIHN1cHBvcnRlZE9wdGlvbnMgPSByZXF1ZXN0LnBhcnNlSGVhZGVyKCdTdXBwb3J0ZWQnKSB8fCBbXTtcbiAgICAgICAgdmFyIHNlc3Npb25FeHBpcmVzID0gcmVxdWVzdC5wYXJzZUhlYWRlcignU2Vzc2lvbi1FeHBpcmVzJykgfHwge307XG4gICAgICAgIHZhciBpbnRlcnZhbCA9IHNlc3Npb25FeHBpcmVzLmRlbHRhU2Vjb25kcztcbiAgICAgICAgaWYgKGludGVydmFsKSB7XG4gICAgICAgICAgdmFyIHJlZnJlc2hlciA9IHNlc3Npb25FeHBpcmVzLnJlZnJlc2hlciB8fCAndWFzJztcbiAgICAgICAgICBleHRyYUhlYWRlcnMucHVzaCgnU2Vzc2lvbi1FeHBpcmVzOiAnICsgaW50ZXJ2YWwgKyAnOycgKyByZWZyZXNoZXIpO1xuICAgICAgICAgIGlmIChyZWZyZXNoZXIgPT09ICd1YWMnIHx8IHN1cHBvcnRlZE9wdGlvbnMuaW5kZXhPZigndGltZXInKSA+PSAwKSB7XG4gICAgICAgICAgICBleHRyYUhlYWRlcnMucHVzaCgnUmVxdWlyZTogdGltZXInKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZighc2VsZi5oYXNPZmZlcikge1xuICAgICAgICAgIHNlbGYuaGFzT2ZmZXIgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuaGFzQW5zd2VyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXNwb25zZSA9IHJlcXVlc3QucmVwbHkoMjAwLCBudWxsLCBleHRyYUhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgcmVwbHlTdWNjZWVkZWQsXG4gICAgICAgICAgICAgICAgICAgICAgcmVwbHlGYWlsZWRcbiAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgIGlmIChzZWxmLnN0YXR1cyAhPT0gQy5TVEFUVVNfVEVSTUlOQVRFRCkgeyAvLyBEaWRuJ3QgZmFpbFxuICAgICAgICAgIHNlbGYuYWNjZXB0ZWQocmVzcG9uc2UsIFNJUC5VdGlscy5nZXRSZWFzb25QaHJhc2UoMjAwKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGRlc2NyaXB0aW9uQ3JlYXRpb25GYWlsZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHNlbGYuc3RhdHVzID09PSBDLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE8gLSBmYWlsIG91dCBvbiBlcnJvclxuICAgICAgICBzZWxmLnJlcXVlc3QucmVwbHkoNDgwKTtcbiAgICAgICAgLy9zZWxmLmZhaWxlZChyZXNwb25zZSwgU0lQLkMuY2F1c2VzLlVTRVJfREVOSUVEX01FRElBX0FDQ0VTUyk7XG4gICAgICAgIHNlbGYuZmFpbGVkKG51bGwsIFNJUC5DLmNhdXNlcy5XRUJSVENfRVJST1IpO1xuICAgICAgICBzZWxmLnRlcm1pbmF0ZWQobnVsbCwgU0lQLkMuY2F1c2VzLldFQlJUQ19FUlJPUik7XG4gICAgICB9O1xuXG4gICAgLy8gQ2hlY2sgU2Vzc2lvbiBTdGF0dXNcbiAgICBpZiAodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX1dBSVRJTkdfRk9SX1BSQUNLKSB7XG4gICAgICB0aGlzLnN0YXR1cyA9IEMuU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXR1cyA9PT0gQy5TVEFUVVNfV0FJVElOR19GT1JfQU5TV0VSKSB7XG4gICAgICB0aGlzLnN0YXR1cyA9IEMuU1RBVFVTX0FOU1dFUkVEO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0dXMgIT09IEMuU1RBVFVTX0VBUkxZX01FRElBKSB7XG4gICAgICB0aHJvdyBuZXcgU0lQLkV4Y2VwdGlvbnMuSW52YWxpZFN0YXRlRXJyb3IodGhpcy5zdGF0dXMpO1xuICAgIH1cblxuICAgIGlmICgoc3R1blNlcnZlcnMgfHwgdHVyblNlcnZlcnMpICYmXG4gICAgICAgICh0aGlzLnN0YXR1cyAhPT0gQy5TVEFUVVNfRUFSTFlfTUVESUEgJiYgdGhpcy5zdGF0dXMgIT09IEMuU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLKSkge1xuICAgICAgaWYgKHN0dW5TZXJ2ZXJzKSB7XG4gICAgICAgIGljZVNlcnZlcnMgPSBTSVAuVUEuY29uZmlndXJhdGlvbl9jaGVjay5vcHRpb25hbFsnc3R1blNlcnZlcnMnXShzdHVuU2VydmVycyk7XG4gICAgICAgIGlmICghaWNlU2VydmVycykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgc3R1blNlcnZlcnM6ICcrIHN0dW5TZXJ2ZXJzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnN0dW5TZXJ2ZXJzID0gaWNlU2VydmVycztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodHVyblNlcnZlcnMpIHtcbiAgICAgICAgaWNlU2VydmVycyA9IFNJUC5VQS5jb25maWd1cmF0aW9uX2NoZWNrLm9wdGlvbmFsWyd0dXJuU2VydmVycyddKHR1cm5TZXJ2ZXJzKTtcbiAgICAgICAgaWYgKCFpY2VTZXJ2ZXJzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCB0dXJuU2VydmVyczogJysgdHVyblNlcnZlcnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudHVyblNlcnZlcnMgPSBpY2VTZXJ2ZXJzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMubWVkaWFIYW5kbGVyLnVwZGF0ZUljZVNlcnZlcnMoe1xuICAgICAgICBzdHVuU2VydmVyczogdGhpcy5zdHVuU2VydmVycyxcbiAgICAgICAgdHVyblNlcnZlcnM6IHRoaXMudHVyblNlcnZlcnNcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFuIGVycm9yIG9uIGRpYWxvZyBjcmVhdGlvbiB3aWxsIGZpcmUgJ2ZhaWxlZCcgZXZlbnRcbiAgICBpZighdGhpcy5jcmVhdGVEaWFsb2cocmVxdWVzdCwgJ1VBUycpKSB7XG4gICAgICByZXF1ZXN0LnJlcGx5KDUwMCwgJ01pc3NpbmcgQ29udGFjdCBoZWFkZXIgZmllbGQnKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIFNJUC5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLnVzZXJOb0Fuc3dlclRpbWVyKTtcblxuICAgIC8vIHRoaXMgaG9sZC1yZWxhdGVkIGNvZGUgYnJlYWtzIEZGIGFjY2VwdGluZyBuZXcgY2FsbHMgLSBKTUYgMjAxNC0xLTIxXG4gICAgLypcbiAgICBsZW5ndGggPSB0aGlzLmdldFJlbW90ZVN0cmVhbXMoKS5sZW5ndGg7XG5cbiAgICBmb3IgKGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgIGlmICh0aGlzLm1lZGlhSGFuZGxlci5nZXRSZW1vdGVTdHJlYW1zKClbaWR4XS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaGFzVmlkZW8gPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMubWVkaWFIYW5kbGVyLmdldFJlbW90ZVN0cmVhbXMoKVtpZHhdLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoID4gMCkge1xuICAgICAgICBoYXNBdWRpbyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFoYXNBdWRpbyAmJiB0aGlzLm1lZGlhQ29uc3RyYWludHMuYXVkaW8gPT09IHRydWUpIHtcbiAgICAgIHRoaXMubWVkaWFDb25zdHJhaW50cy5hdWRpbyA9IGZhbHNlO1xuICAgICAgaWYgKG1lZGlhU3RyZWFtKSB7XG4gICAgICAgIGxlbmd0aCA9IG1lZGlhU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoO1xuICAgICAgICBmb3IgKGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICBtZWRpYVN0cmVhbS5yZW1vdmVUcmFjayhtZWRpYVN0cmVhbS5nZXRBdWRpb1RyYWNrcygpW2lkeF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFoYXNWaWRlbyAmJiB0aGlzLm1lZGlhQ29uc3RyYWludHMudmlkZW8gPT09IHRydWUpIHtcbiAgICAgIHRoaXMubWVkaWFDb25zdHJhaW50cy52aWRlbyA9IGZhbHNlO1xuICAgICAgaWYgKG1lZGlhU3RyZWFtKSB7XG4gICAgICAgIGxlbmd0aCA9IG1lZGlhU3RyZWFtLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoO1xuICAgICAgICBmb3IgKGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICBtZWRpYVN0cmVhbS5yZW1vdmVUcmFjayhtZWRpYVN0cmVhbS5nZXRWaWRlb1RyYWNrcygpW2lkeF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgICovXG5cbiAgICBpZiAodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX0VBUkxZX01FRElBKSB7XG4gICAgICBkZXNjcmlwdGlvbkNyZWF0aW9uU3VjY2VlZGVkKHt9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tZWRpYUhhbmRsZXIuZ2V0RGVzY3JpcHRpb24oc2VsZi5tZWRpYUhpbnQpXG4gICAgICAudGhlbihcbiAgICAgICAgZGVzY3JpcHRpb25DcmVhdGlvblN1Y2NlZWRlZCxcbiAgICAgICAgZGVzY3JpcHRpb25DcmVhdGlvbkZhaWxlZFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICByZWNlaXZlUmVxdWVzdDogZnVuY3Rpb24ocmVxdWVzdCkge1xuXG4gICAgLy8gSVNDIFJFQ0VJVkUgUkVRVUVTVFxuXG4gICAgZnVuY3Rpb24gY29uZmlybVNlc3Npb24oKSB7XG4gICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBjb250ZW50VHlwZTtcblxuICAgICAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy50aW1lcnMuYWNrVGltZXIpO1xuICAgICAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy50aW1lcnMuaW52aXRlMnh4VGltZXIpO1xuICAgICAgdGhpcy5zdGF0dXMgPSBDLlNUQVRVU19DT05GSVJNRUQ7XG4gICAgICB0aGlzLnVubXV0ZSgpO1xuXG4gICAgICAvLyBUT0RPIC0gdGhpcyBsb2dpYyBhc3N1bWVzIENvbnRlbnQtRGlzcG9zaXRpb24gZGVmYXVsdHNcbiAgICAgIGNvbnRlbnRUeXBlID0gcmVxdWVzdC5nZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScpO1xuICAgICAgaWYgKCF0aGlzLm1lZGlhSGFuZGxlci5oYXNEZXNjcmlwdGlvbihyZXF1ZXN0KSkge1xuICAgICAgICB0aGlzLnJlbmRlcmJvZHkgPSByZXF1ZXN0LmJvZHk7XG4gICAgICAgIHRoaXMucmVuZGVydHlwZSA9IGNvbnRlbnRUeXBlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmVtaXQoJ2NvbmZpcm1lZCcsIHJlcXVlc3QpO1xuICAgIH1cblxuICAgIHN3aXRjaChyZXF1ZXN0Lm1ldGhvZCkge1xuICAgIGNhc2UgU0lQLkMuQ0FOQ0VMOlxuICAgICAgLyogUkZDMzI2MSAxNSBTdGF0ZXMgdGhhdCBhIFVBUyBtYXkgaGF2ZSBhY2NlcHRlZCBhbiBpbnZpdGF0aW9uIHdoaWxlIGEgQ0FOQ0VMXG4gICAgICAgKiB3YXMgaW4gcHJvZ3Jlc3MgYW5kIHRoYXQgdGhlIFVBQyBNQVkgY29udGludWUgd2l0aCB0aGUgc2Vzc2lvbiBlc3RhYmxpc2hlZCBieVxuICAgICAgICogYW55IDJ4eCByZXNwb25zZSwgb3IgTUFZIHRlcm1pbmF0ZSB3aXRoIEJZRS4gU0lQIGRvZXMgY29udGludWUgd2l0aCB0aGVcbiAgICAgICAqIGVzdGFibGlzaGVkIHNlc3Npb24uIFNvIHRoZSBDQU5DRUwgaXMgcHJvY2Vzc2VkIG9ubHkgaWYgdGhlIHNlc3Npb24gaXMgbm90IHlldFxuICAgICAgICogZXN0YWJsaXNoZWQuXG4gICAgICAgKi9cblxuICAgICAgLypcbiAgICAgICAqIFRlcm1pbmF0ZSB0aGUgd2hvbGUgc2Vzc2lvbiBpbiBjYXNlIHRoZSB1c2VyIGRpZG4ndCBhY2NlcHQgKG9yIHlldCB0byBzZW5kIHRoZSBhbnN3ZXIpIG5vciByZWplY3QgdGhlXG4gICAgICAgKnJlcXVlc3Qgb3BlbmluZyB0aGUgc2Vzc2lvbi5cbiAgICAgICAqL1xuICAgICAgaWYodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX1dBSVRJTkdfRk9SX0FOU1dFUiB8fFxuICAgICAgICAgdGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX1dBSVRJTkdfRk9SX1BSQUNLIHx8XG4gICAgICAgICB0aGlzLnN0YXR1cyA9PT0gQy5TVEFUVVNfQU5TV0VSRURfV0FJVElOR19GT1JfUFJBQ0sgfHxcbiAgICAgICAgIHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU19FQVJMWV9NRURJQSB8fFxuICAgICAgICAgdGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX0FOU1dFUkVEKSB7XG5cbiAgICAgICAgdGhpcy5zdGF0dXMgPSBDLlNUQVRVU19DQU5DRUxFRDtcbiAgICAgICAgdGhpcy5yZXF1ZXN0LnJlcGx5KDQ4Nyk7XG4gICAgICAgIHRoaXMuY2FuY2VsZWQocmVxdWVzdCk7XG4gICAgICAgIHRoaXMucmVqZWN0ZWQocmVxdWVzdCwgU0lQLkMuY2F1c2VzLkNBTkNFTEVEKTtcbiAgICAgICAgdGhpcy5mYWlsZWQocmVxdWVzdCwgU0lQLkMuY2F1c2VzLkNBTkNFTEVEKTtcbiAgICAgICAgdGhpcy50ZXJtaW5hdGVkKHJlcXVlc3QsIFNJUC5DLmNhdXNlcy5DQU5DRUxFRCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFNJUC5DLkFDSzpcbiAgICAgIGlmKHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU19XQUlUSU5HX0ZPUl9BQ0spIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc0Fuc3dlcikge1xuICAgICAgICAgIGlmKHRoaXMubWVkaWFIYW5kbGVyLmhhc0Rlc2NyaXB0aW9uKHJlcXVlc3QpKSB7XG4gICAgICAgICAgICAvLyBBQ0sgY29udGFpbnMgYW5zd2VyIHRvIGFuIElOVklURSB3L28gU0RQIG5lZ290aWF0aW9uXG4gICAgICAgICAgICB0aGlzLmhhc0Fuc3dlciA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm1lZGlhSGFuZGxlci5zZXREZXNjcmlwdGlvbihyZXF1ZXN0KVxuICAgICAgICAgICAgLnRoZW4oXG4gICAgICAgICAgICAgIGNvbmZpcm1TZXNzaW9uLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIG9uRmFpbHVyZSAoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oZSk7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGUoe1xuICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogJzQ4OCcsXG4gICAgICAgICAgICAgICAgICByZWFzb25QaHJhc2U6ICdCYWQgTWVkaWEgRGVzY3JpcHRpb24nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWlsZWQocmVxdWVzdCwgU0lQLkMuY2F1c2VzLkJBRF9NRURJQV9ERVNDUklQVElPTik7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGVkKHJlcXVlc3QsIFNJUC5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVhcmx5X3NkcCkge1xuICAgICAgICAgICAgY29uZmlybVNlc3Npb24uYXBwbHkodGhpcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vVE9ETzogUGFzcyB0byBtZWRpYWhhbmRsZXJcbiAgICAgICAgICAgIHRoaXMuZmFpbGVkKHJlcXVlc3QsIFNJUC5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGVkKHJlcXVlc3QsIFNJUC5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25maXJtU2Vzc2lvbi5hcHBseSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBTSVAuQy5QUkFDSzpcbiAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gQy5TVEFUVVNfV0FJVElOR19GT1JfUFJBQ0sgfHwgdGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLKSB7XG4gICAgICAgIC8vbG9jYWxNZWRpYSA9IHNlc3Npb24ubWVkaWFIYW5kbGVyLmxvY2FsTWVkaWE7XG4gICAgICAgIGlmKCF0aGlzLmhhc0Fuc3dlcikge1xuICAgICAgICAgIGlmKHRoaXMubWVkaWFIYW5kbGVyLmhhc0Rlc2NyaXB0aW9uKHJlcXVlc3QpKSB7XG4gICAgICAgICAgICB0aGlzLmhhc0Fuc3dlciA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm1lZGlhSGFuZGxlci5zZXREZXNjcmlwdGlvbihyZXF1ZXN0KVxuICAgICAgICAgICAgLnRoZW4oXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyAoKSB7XG4gICAgICAgICAgICAgICAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy50aW1lcnMucmVsMXh4VGltZXIpO1xuICAgICAgICAgICAgICAgIFNJUC5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLnByYWNrVGltZXIpO1xuICAgICAgICAgICAgICAgIHJlcXVlc3QucmVwbHkoMjAwKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9IEMuU1RBVFVTX0VBUkxZX01FRElBO1xuICAgICAgICAgICAgICAgICAgdGhpcy5hY2NlcHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBDLlNUQVRVU19FQVJMWV9NRURJQTtcbiAgICAgICAgICAgICAgICAvL1JFVklTSVRcbiAgICAgICAgICAgICAgICB0aGlzLm11dGUoKTtcbiAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICBmdW5jdGlvbiBvbkZhaWx1cmUgKGUpIHtcbiAgICAgICAgICAgICAgICAvL1RPRE86IFNlbmQgdG8gbWVkaWEgaGFuZGxlclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oZSk7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGUoe1xuICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogJzQ4OCcsXG4gICAgICAgICAgICAgICAgICByZWFzb25QaHJhc2U6ICdCYWQgTWVkaWEgRGVzY3JpcHRpb24nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mYWlsZWQocmVxdWVzdCwgU0lQLkMuY2F1c2VzLkJBRF9NRURJQV9ERVNDUklQVElPTik7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXJtaW5hdGVkKHJlcXVlc3QsIFNJUC5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGVybWluYXRlKHtcbiAgICAgICAgICAgICAgc3RhdHVzQ29kZTogJzQ4OCcsXG4gICAgICAgICAgICAgIHJlYXNvblBocmFzZTogJ0JhZCBNZWRpYSBEZXNjcmlwdGlvbidcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5mYWlsZWQocmVxdWVzdCwgU0lQLkMuY2F1c2VzLkJBRF9NRURJQV9ERVNDUklQVElPTik7XG4gICAgICAgICAgICB0aGlzLnRlcm1pbmF0ZWQocmVxdWVzdCwgU0lQLkMuY2F1c2VzLkJBRF9NRURJQV9ERVNDUklQVElPTik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFNJUC5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLnJlbDF4eFRpbWVyKTtcbiAgICAgICAgICBTSVAuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5wcmFja1RpbWVyKTtcbiAgICAgICAgICByZXF1ZXN0LnJlcGx5KDIwMCk7XG5cbiAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX0FOU1dFUkVEX1dBSVRJTkdfRk9SX1BSQUNLKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IEMuU1RBVFVTX0VBUkxZX01FRElBO1xuICAgICAgICAgICAgdGhpcy5hY2NlcHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5zdGF0dXMgPSBDLlNUQVRVU19FQVJMWV9NRURJQTtcbiAgICAgICAgICAvL1JFVklTSVRcbiAgICAgICAgICB0aGlzLm11dGUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmKHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU19FQVJMWV9NRURJQSkge1xuICAgICAgICByZXF1ZXN0LnJlcGx5KDIwMCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgU2Vzc2lvbi5wcm90b3R5cGUucmVjZWl2ZVJlcXVlc3QuYXBwbHkodGhpcywgW3JlcXVlc3RdKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSxcblxuICBvblRyYW5zcG9ydEVycm9yOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5zdGF0dXMgIT09IEMuU1RBVFVTX0NPTkZJUk1FRCAmJiB0aGlzLnN0YXR1cyAhPT0gQy5TVEFUVVNfVEVSTUlOQVRFRCkge1xuICAgICAgdGhpcy5mYWlsZWQobnVsbCwgU0lQLkMuY2F1c2VzLkNPTk5FQ1RJT05fRVJST1IpO1xuICAgIH1cbiAgfSxcblxuICBvblJlcXVlc3RUaW1lb3V0OiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX0NPTkZJUk1FRCkge1xuICAgICAgdGhpcy50ZXJtaW5hdGVkKG51bGwsIFNJUC5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0dXMgIT09IEMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgIHRoaXMuZmFpbGVkKG51bGwsIFNJUC5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpO1xuICAgICAgdGhpcy50ZXJtaW5hdGVkKG51bGwsIFNJUC5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpO1xuICAgIH1cbiAgfVxuXG59O1xuXG5TSVAuSW52aXRlU2VydmVyQ29udGV4dCA9IEludml0ZVNlcnZlckNvbnRleHQ7XG5cbkludml0ZUNsaWVudENvbnRleHQgPSBmdW5jdGlvbih1YSwgdGFyZ2V0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKFNlc3Npb24uZGVzdWdhcihvcHRpb25zKSk7XG4gIG9wdGlvbnMucGFyYW1zID0gT2JqZWN0LmNyZWF0ZShvcHRpb25zLnBhcmFtcyB8fCBPYmplY3QucHJvdG90eXBlKTtcblxuICB2YXIgaWNlU2VydmVycyxcbiAgICBleHRyYUhlYWRlcnMgPSAob3B0aW9ucy5leHRyYUhlYWRlcnMgfHwgW10pLnNsaWNlKCksXG4gICAgc3R1blNlcnZlcnMgPSBvcHRpb25zLnN0dW5TZXJ2ZXJzIHx8IG51bGwsXG4gICAgdHVyblNlcnZlcnMgPSBvcHRpb25zLnR1cm5TZXJ2ZXJzIHx8IG51bGwsXG4gICAgbWVkaWFIYW5kbGVyRmFjdG9yeSA9IG9wdGlvbnMubWVkaWFIYW5kbGVyRmFjdG9yeSB8fCB1YS5jb25maWd1cmF0aW9uLm1lZGlhSGFuZGxlckZhY3RvcnksXG4gICAgaXNNZWRpYVN1cHBvcnRlZCA9IG1lZGlhSGFuZGxlckZhY3RvcnkuaXNTdXBwb3J0ZWQ7XG5cbiAgLy8gQ2hlY2sgV2ViUlRDIHN1cHBvcnRcbiAgaWYgKGlzTWVkaWFTdXBwb3J0ZWQgJiYgIWlzTWVkaWFTdXBwb3J0ZWQoKSkge1xuICAgIHRocm93IG5ldyBTSVAuRXhjZXB0aW9ucy5Ob3RTdXBwb3J0ZWRFcnJvcignTWVkaWEgbm90IHN1cHBvcnRlZCcpO1xuICB9XG5cbiAgdGhpcy5SVENDb25zdHJhaW50cyA9IG9wdGlvbnMuUlRDQ29uc3RyYWludHMgfHwge307XG4gIHRoaXMuaW52aXRlV2l0aG91dFNkcCA9IG9wdGlvbnMuaW52aXRlV2l0aG91dFNkcCB8fCBmYWxzZTtcblxuICAvLyBTZXQgYW5vbnltb3VzIHByb3BlcnR5XG4gIHRoaXMuYW5vbnltb3VzID0gb3B0aW9ucy5hbm9ueW1vdXMgfHwgZmFsc2U7XG5cbiAgLy8gQ3VzdG9tIGRhdGEgdG8gYmUgc2VudCBlaXRoZXIgaW4gSU5WSVRFIG9yIGluIEFDS1xuICB0aGlzLnJlbmRlcmJvZHkgPSBvcHRpb25zLnJlbmRlcmJvZHkgfHwgbnVsbDtcbiAgdGhpcy5yZW5kZXJ0eXBlID0gb3B0aW9ucy5yZW5kZXJ0eXBlIHx8ICd0ZXh0L3BsYWluJztcblxuICBvcHRpb25zLnBhcmFtcy5mcm9tX3RhZyA9IHRoaXMuZnJvbV90YWc7XG5cbiAgLyogRG8gbm90IGFkZCA7b2IgaW4gaW5pdGlhbCBmb3JtaW5nIGRpYWxvZyByZXF1ZXN0cyBpZiB0aGUgcmVnaXN0cmF0aW9uIG92ZXJcbiAgICogIHRoZSBjdXJyZW50IGNvbm5lY3Rpb24gZ290IGEgR1JVVSBVUkkuXG4gICAqL1xuICB0aGlzLmNvbnRhY3QgPSB1YS5jb250YWN0LnRvU3RyaW5nKHtcbiAgICBhbm9ueW1vdXM6IHRoaXMuYW5vbnltb3VzLFxuICAgIG91dGJvdW5kOiB0aGlzLmFub255bW91cyA/ICF1YS5jb250YWN0LnRlbXBfZ3J1dSA6ICF1YS5jb250YWN0LnB1Yl9ncnV1XG4gIH0pO1xuXG4gIGlmICh0aGlzLmFub255bW91cykge1xuICAgIG9wdGlvbnMucGFyYW1zLmZyb21fZGlzcGxheU5hbWUgPSAnQW5vbnltb3VzJztcbiAgICBvcHRpb25zLnBhcmFtcy5mcm9tX3VyaSA9ICdzaXA6YW5vbnltb3VzQGFub255bW91cy5pbnZhbGlkJztcblxuICAgIGV4dHJhSGVhZGVycy5wdXNoKCdQLVByZWZlcnJlZC1JZGVudGl0eTogJysgdWEuY29uZmlndXJhdGlvbi51cmkudG9TdHJpbmcoKSk7XG4gICAgZXh0cmFIZWFkZXJzLnB1c2goJ1ByaXZhY3k6IGlkJyk7XG4gIH1cbiAgZXh0cmFIZWFkZXJzLnB1c2goJ0NvbnRhY3Q6ICcrIHRoaXMuY29udGFjdCk7XG4gIGV4dHJhSGVhZGVycy5wdXNoKCdBbGxvdzogJysgU0lQLlVBLkMuQUxMT1dFRF9NRVRIT0RTLnRvU3RyaW5nKCkpO1xuICBpZiAodGhpcy5pbnZpdGVXaXRob3V0U2RwICYmIHRoaXMucmVuZGVyYm9keSkge1xuICAgIGV4dHJhSGVhZGVycy5wdXNoKCdDb250ZW50LVR5cGU6ICcgKyB0aGlzLnJlbmRlcnR5cGUpO1xuICAgIGV4dHJhSGVhZGVycy5wdXNoKCdDb250ZW50LURpc3Bvc2l0aW9uOiByZW5kZXI7aGFuZGxpbmc9b3B0aW9uYWwnKTtcbiAgfVxuXG4gIGlmICh1YS5jb25maWd1cmF0aW9uLnJlbDEwMCA9PT0gU0lQLkMuc3VwcG9ydGVkLlJFUVVJUkVEKSB7XG4gICAgZXh0cmFIZWFkZXJzLnB1c2goJ1JlcXVpcmU6IDEwMHJlbCcpO1xuICB9XG4gIGlmICh1YS5jb25maWd1cmF0aW9uLnJlcGxhY2VzID09PSBTSVAuQy5zdXBwb3J0ZWQuUkVRVUlSRUQpIHtcbiAgICBleHRyYUhlYWRlcnMucHVzaCgnUmVxdWlyZTogcmVwbGFjZXMnKTtcbiAgfVxuXG4gIG9wdGlvbnMuZXh0cmFIZWFkZXJzID0gZXh0cmFIZWFkZXJzO1xuXG4gIFNJUC5VdGlscy5hdWdtZW50KHRoaXMsIFNJUC5DbGllbnRDb250ZXh0LCBbdWEsIFNJUC5DLklOVklURSwgdGFyZ2V0LCBvcHRpb25zXSk7XG4gIFNJUC5VdGlscy5hdWdtZW50KHRoaXMsIFNJUC5TZXNzaW9uLCBbbWVkaWFIYW5kbGVyRmFjdG9yeV0pO1xuXG4gIC8vIENoZWNrIFNlc3Npb24gU3RhdHVzXG4gIGlmICh0aGlzLnN0YXR1cyAhPT0gQy5TVEFUVVNfTlVMTCkge1xuICAgIHRocm93IG5ldyBTSVAuRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvcih0aGlzLnN0YXR1cyk7XG4gIH1cblxuICAvLyBTZXNzaW9uIHBhcmFtZXRlciBpbml0aWFsaXphdGlvblxuICB0aGlzLmZyb21fdGFnID0gU0lQLlV0aWxzLm5ld1RhZygpO1xuXG4gIC8vIE91dGdvaW5nU2Vzc2lvbiBzcGVjaWZpYyBwYXJhbWV0ZXJzXG4gIHRoaXMuaXNDYW5jZWxlZCA9IGZhbHNlO1xuICB0aGlzLnJlY2VpdmVkXzEwMCA9IGZhbHNlO1xuXG4gIHRoaXMubWV0aG9kID0gU0lQLkMuSU5WSVRFO1xuXG4gIHRoaXMucmVjZWl2ZU5vbkludml0ZVJlc3BvbnNlID0gdGhpcy5yZWNlaXZlUmVzcG9uc2U7XG4gIHRoaXMucmVjZWl2ZVJlc3BvbnNlID0gdGhpcy5yZWNlaXZlSW52aXRlUmVzcG9uc2U7XG5cbiAgdGhpcy5sb2dnZXIgPSB1YS5nZXRMb2dnZXIoJ3NpcC5pbnZpdGVjbGllbnRjb250ZXh0Jyk7XG5cbiAgaWYgKHN0dW5TZXJ2ZXJzKSB7XG4gICAgaWNlU2VydmVycyA9IFNJUC5VQS5jb25maWd1cmF0aW9uX2NoZWNrLm9wdGlvbmFsWydzdHVuU2VydmVycyddKHN0dW5TZXJ2ZXJzKTtcbiAgICBpZiAoIWljZVNlcnZlcnMpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgc3R1blNlcnZlcnM6ICcrIHN0dW5TZXJ2ZXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdHVuU2VydmVycyA9IGljZVNlcnZlcnM7XG4gICAgfVxuICB9XG5cbiAgaWYgKHR1cm5TZXJ2ZXJzKSB7XG4gICAgaWNlU2VydmVycyA9IFNJUC5VQS5jb25maWd1cmF0aW9uX2NoZWNrLm9wdGlvbmFsWyd0dXJuU2VydmVycyddKHR1cm5TZXJ2ZXJzKTtcbiAgICBpZiAoIWljZVNlcnZlcnMpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgdHVyblNlcnZlcnM6ICcrIHR1cm5TZXJ2ZXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50dXJuU2VydmVycyA9IGljZVNlcnZlcnM7XG4gICAgfVxuICB9XG5cbiAgdWEuYXBwbGljYW50c1t0aGlzXSA9IHRoaXM7XG5cbiAgdGhpcy5pZCA9IHRoaXMucmVxdWVzdC5jYWxsX2lkICsgdGhpcy5mcm9tX3RhZztcblxuICAvL0luaXRpYWxpemUgTWVkaWEgU2Vzc2lvblxuICB0aGlzLm1lZGlhSGFuZGxlciA9IHRoaXMubWVkaWFIYW5kbGVyRmFjdG9yeSh0aGlzLCB7XG4gICAgUlRDQ29uc3RyYWludHM6IHRoaXMuUlRDQ29uc3RyYWludHMsXG4gICAgc3R1blNlcnZlcnM6IHRoaXMuc3R1blNlcnZlcnMsXG4gICAgdHVyblNlcnZlcnM6IHRoaXMudHVyblNlcnZlcnNcbiAgfSk7XG5cbiAgaWYgKHRoaXMubWVkaWFIYW5kbGVyICYmIHRoaXMubWVkaWFIYW5kbGVyLmdldFJlbW90ZVN0cmVhbXMpIHtcbiAgICB0aGlzLmdldFJlbW90ZVN0cmVhbXMgPSB0aGlzLm1lZGlhSGFuZGxlci5nZXRSZW1vdGVTdHJlYW1zLmJpbmQodGhpcy5tZWRpYUhhbmRsZXIpO1xuICAgIHRoaXMuZ2V0TG9jYWxTdHJlYW1zID0gdGhpcy5tZWRpYUhhbmRsZXIuZ2V0TG9jYWxTdHJlYW1zLmJpbmQodGhpcy5tZWRpYUhhbmRsZXIpO1xuICB9XG5cbiAgU0lQLlV0aWxzLm9wdGlvbnNPdmVycmlkZShvcHRpb25zLCAnbWVkaWEnLCAnbWVkaWFDb25zdHJhaW50cycsIHRydWUsIHRoaXMubG9nZ2VyLCB0aGlzLnVhLmNvbmZpZ3VyYXRpb24ubWVkaWEpO1xuICB0aGlzLm1lZGlhSGludCA9IG9wdGlvbnMubWVkaWE7XG5cbiAgdGhpcy5vbkluZm8gPSBvcHRpb25zLm9uSW5mbztcbn07XG5cbkludml0ZUNsaWVudENvbnRleHQucHJvdG90eXBlID0ge1xuICBpbnZpdGU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvL1NhdmUgdGhlIHNlc3Npb24gaW50byB0aGUgdWEgc2Vzc2lvbnMgY29sbGVjdGlvbi5cbiAgICAvL05vdGU6IHBsYWNpbmcgaW4gY29uc3RydWN0b3IgYnJlYWtzIGNhbGwgdG8gcmVxdWVzdC5jYW5jZWwgb24gY2xvc2UuLi4gVXNlciBkb2VzIG5vdCBuZWVkIHRoaXMgYW55d2F5XG4gICAgdGhpcy51YS5zZXNzaW9uc1t0aGlzLmlkXSA9IHRoaXM7XG5cbiAgICAvL05vdGU6IGR1ZSB0byB0aGUgd2F5IEZpcmVmb3ggaGFuZGxlcyBnVU0gY2FsbHMsIGl0IGlzIHJlY29tbWVuZGVkIHRvIG1ha2UgdGhlIGdVTSBjYWxsIGF0IHRoZSBhcHAgbGV2ZWxcbiAgICAvLyBhbmQgaGFuZCBzaXAuanMgYSBzdHJlYW0gYXMgdGhlIG1lZGlhSGludFxuICAgIGlmICh0aGlzLmludml0ZVdpdGhvdXRTZHApIHtcbiAgICAgIC8vanVzdCBzZW5kIGFuIGludml0ZSB3aXRoIG5vIHNkcC4uLlxuICAgICAgdGhpcy5yZXF1ZXN0LmJvZHkgPSBzZWxmLnJlbmRlcmJvZHk7XG4gICAgICB0aGlzLnN0YXR1cyA9IEMuU1RBVFVTX0lOVklURV9TRU5UO1xuICAgICAgdGhpcy5zZW5kKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWVkaWFIYW5kbGVyLmdldERlc2NyaXB0aW9uKHNlbGYubWVkaWFIaW50KVxuICAgICAgLnRoZW4oXG4gICAgICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyhkZXNjcmlwdGlvbikge1xuICAgICAgICAgIGlmIChzZWxmLmlzQ2FuY2VsZWQgfHwgc2VsZi5zdGF0dXMgPT09IEMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi5oYXNPZmZlciA9IHRydWU7XG4gICAgICAgICAgc2VsZi5yZXF1ZXN0LmJvZHkgPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgICBzZWxmLnN0YXR1cyA9IEMuU1RBVFVTX0lOVklURV9TRU5UO1xuICAgICAgICAgIHNlbGYuc2VuZCgpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiBvbkZhaWx1cmUoKSB7XG4gICAgICAgICAgaWYgKHNlbGYuc3RhdHVzID09PSBDLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFRPRE8uLi5mYWlsIG91dFxuICAgICAgICAgIC8vc2VsZi5mYWlsZWQobnVsbCwgU0lQLkMuY2F1c2VzLlVTRVJfREVOSUVEX01FRElBX0FDQ0VTUyk7XG4gICAgICAgICAgLy9zZWxmLmZhaWxlZChudWxsLCBTSVAuQy5jYXVzZXMuV0VCUlRDX0VSUk9SKTtcbiAgICAgICAgICBzZWxmLmZhaWxlZChudWxsLCBTSVAuQy5jYXVzZXMuV0VCUlRDX0VSUk9SKTtcbiAgICAgICAgICBzZWxmLnRlcm1pbmF0ZWQobnVsbCwgU0lQLkMuY2F1c2VzLldFQlJUQ19FUlJPUik7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgcmVjZWl2ZUludml0ZVJlc3BvbnNlOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgIHZhciBjYXVzZSwgLy9sb2NhbE1lZGlhLFxuICAgICAgc2Vzc2lvbiA9IHRoaXMsXG4gICAgICBpZCA9IHJlc3BvbnNlLmNhbGxfaWQgKyByZXNwb25zZS5mcm9tX3RhZyArIHJlc3BvbnNlLnRvX3RhZyxcbiAgICAgIGV4dHJhSGVhZGVycyA9IFtdLFxuICAgICAgb3B0aW9ucyA9IHt9O1xuXG4gICAgaWYgKHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU19URVJNSU5BVEVEIHx8IHJlc3BvbnNlLm1ldGhvZCAhPT0gU0lQLkMuSU5WSVRFKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGlhbG9nICYmIChyZXNwb25zZS5zdGF0dXNfY29kZSA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPD0gMjk5KSkge1xuICAgICAgaWYgKGlkICE9PSB0aGlzLmRpYWxvZy5pZC50b1N0cmluZygpICkge1xuICAgICAgICBpZiAoIXRoaXMuY3JlYXRlRGlhbG9nKHJlc3BvbnNlLCAnVUFDJywgdHJ1ZSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lYXJseURpYWxvZ3NbaWRdLnNlbmRSZXF1ZXN0KHRoaXMsIFNJUC5DLkFDSyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogU0lQLlV0aWxzLmdlbmVyYXRlRmFrZVNEUChyZXNwb25zZS5ib2R5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWFybHlEaWFsb2dzW2lkXS5zZW5kUmVxdWVzdCh0aGlzLCBTSVAuQy5CWUUpO1xuXG4gICAgICAgIC8qIE5PVEU6IFRoaXMgZmFpbHMgYmVjYXVzZSB0aGUgZm9ya2luZyBwcm94eSBkb2VzIG5vdCByZWNvZ25pemUgdGhhdCBhbiB1bmFuc3dlcmFibGVcbiAgICAgICAgICogbGVnIChkdWUgdG8gcGVlckNvbm5lY3Rpb24gbGltaXRhdGlvbnMpIGhhcyBiZWVuIGFuc3dlcmVkIGZpcnN0LiBJZiB5b3VyIGZvcmtpbmdcbiAgICAgICAgICogcHJveHkgZG9lcyBub3QgaGFuZyB1cCBhbGwgdW5hbnN3ZXJlZCBicmFuY2hlcyBvbiB0aGUgZmlyc3QgYnJhbmNoIGFuc3dlcmVkLCByZW1vdmUgdGhpcy5cbiAgICAgICAgICovXG4gICAgICAgIGlmKHRoaXMuc3RhdHVzICE9PSBDLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgICAgICB0aGlzLmZhaWxlZChyZXNwb25zZSwgU0lQLkMuY2F1c2VzLldFQlJUQ19FUlJPUik7XG4gICAgICAgICAgdGhpcy50ZXJtaW5hdGVkKHJlc3BvbnNlLCBTSVAuQy5jYXVzZXMuV0VCUlRDX0VSUk9SKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgICAgdGhpcy5zZW5kUmVxdWVzdChTSVAuQy5BQ0sse2NzZXE6IHJlc3BvbnNlLmNzZXF9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5oYXNBbnN3ZXIpIHtcbiAgICAgICAgLy8gaW52aXRlIHcvbyBzZHAgaXMgd2FpdGluZyBmb3IgY2FsbGJhY2tcbiAgICAgICAgLy9hbiBpbnZpdGUgd2l0aCBzZHAgbXVzdCBnbyBvbiwgYW5kIGhhc0Fuc3dlciBpcyB0cnVlXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5kaWFsb2cgJiYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPCAyMDApIHtcbiAgICAgIC8qXG4gICAgICAgIEVhcmx5IG1lZGlhIGhhcyBiZWVuIHNldCB1cCB3aXRoIGF0IGxlYXN0IG9uZSBvdGhlciBkaWZmZXJlbnQgYnJhbmNoLFxuICAgICAgICBidXQgYSBmaW5hbCAyeHggcmVzcG9uc2UgaGFzbid0IGJlZW4gcmVjZWl2ZWRcbiAgICAgICovXG4gICAgICBpZiAodGhpcy5kaWFsb2cucHJhY2tlZC5pbmRleE9mKHJlc3BvbnNlLmdldEhlYWRlcigncnNlcScpKSAhPT0gLTEgfHxcbiAgICAgICAgICAodGhpcy5kaWFsb2cucHJhY2tlZFt0aGlzLmRpYWxvZy5wcmFja2VkLmxlbmd0aC0xXSA+PSByZXNwb25zZS5nZXRIZWFkZXIoJ3JzZXEnKSAmJiB0aGlzLmRpYWxvZy5wcmFja2VkLmxlbmd0aCA+IDApKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmVhcmx5RGlhbG9nc1tpZF0gJiYgIXRoaXMuY3JlYXRlRGlhbG9nKHJlc3BvbnNlLCAnVUFDJywgdHJ1ZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5lYXJseURpYWxvZ3NbaWRdLnByYWNrZWQuaW5kZXhPZihyZXNwb25zZS5nZXRIZWFkZXIoJ3JzZXEnKSkgIT09IC0xIHx8XG4gICAgICAgICAgKHRoaXMuZWFybHlEaWFsb2dzW2lkXS5wcmFja2VkW3RoaXMuZWFybHlEaWFsb2dzW2lkXS5wcmFja2VkLmxlbmd0aC0xXSA+PSByZXNwb25zZS5nZXRIZWFkZXIoJ3JzZXEnKSAmJiB0aGlzLmVhcmx5RGlhbG9nc1tpZF0ucHJhY2tlZC5sZW5ndGggPiAwKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGV4dHJhSGVhZGVycy5wdXNoKCdSQWNrOiAnICsgcmVzcG9uc2UuZ2V0SGVhZGVyKCdyc2VxJykgKyAnICcgKyByZXNwb25zZS5nZXRIZWFkZXIoJ2NzZXEnKSk7XG4gICAgICB0aGlzLmVhcmx5RGlhbG9nc1tpZF0ucHJhY2tlZC5wdXNoKHJlc3BvbnNlLmdldEhlYWRlcigncnNlcScpKTtcblxuICAgICAgdGhpcy5lYXJseURpYWxvZ3NbaWRdLnNlbmRSZXF1ZXN0KHRoaXMsIFNJUC5DLlBSQUNLLCB7XG4gICAgICAgIGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzLFxuICAgICAgICBib2R5OiBTSVAuVXRpbHMuZ2VuZXJhdGVGYWtlU0RQKHJlc3BvbnNlLmJvZHkpXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQcm9jZWVkIHRvIGNhbmNlbGxhdGlvbiBpZiB0aGUgdXNlciByZXF1ZXN0ZWQuXG4gICAgaWYodGhpcy5pc0NhbmNlbGVkKSB7XG4gICAgICBpZihyZXNwb25zZS5zdGF0dXNfY29kZSA+PSAxMDAgJiYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPCAyMDApIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0LmNhbmNlbCh0aGlzLmNhbmNlbFJlYXNvbiwgZXh0cmFIZWFkZXJzKTtcbiAgICAgICAgdGhpcy5jYW5jZWxlZChudWxsKTtcbiAgICAgIH0gZWxzZSBpZihyZXNwb25zZS5zdGF0dXNfY29kZSA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPCAyOTkpIHtcbiAgICAgICAgdGhpcy5hY2NlcHRBbmRUZXJtaW5hdGUocmVzcG9uc2UpO1xuICAgICAgICB0aGlzLmVtaXQoJ2J5ZScsIHRoaXMucmVxdWVzdCk7XG4gICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1c19jb2RlID49IDMwMCkge1xuICAgICAgICBjYXVzZSA9IFNJUC5DLlJFQVNPTl9QSFJBU0VbcmVzcG9uc2Uuc3RhdHVzX2NvZGVdIHx8IFNJUC5DLmNhdXNlcy5DQU5DRUxFRDtcbiAgICAgICAgdGhpcy5yZWplY3RlZChyZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICB0aGlzLmZhaWxlZChyZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICB0aGlzLnRlcm1pbmF0ZWQocmVzcG9uc2UsIGNhdXNlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzd2l0Y2godHJ1ZSkge1xuICAgICAgY2FzZSAvXjEwMCQvLnRlc3QocmVzcG9uc2Uuc3RhdHVzX2NvZGUpOlxuICAgICAgICB0aGlzLnJlY2VpdmVkXzEwMCA9IHRydWU7XG4gICAgICAgIHRoaXMuZW1pdCgncHJvZ3Jlc3MnLCByZXNwb25zZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAoL14xWzAtOV17Mn0kLy50ZXN0KHJlc3BvbnNlLnN0YXR1c19jb2RlKSk6XG4gICAgICAgIC8vIERvIG5vdGhpbmcgd2l0aCAxeHggcmVzcG9uc2VzIHdpdGhvdXQgVG8gdGFnLlxuICAgICAgICBpZighcmVzcG9uc2UudG9fdGFnKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIud2FybignMXh4IHJlc3BvbnNlIHJlY2VpdmVkIHdpdGhvdXQgdG8gdGFnJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgRWFybHkgRGlhbG9nIGlmIDFYWCBjb21lcyB3aXRoIGNvbnRhY3RcbiAgICAgICAgaWYocmVzcG9uc2UuaGFzSGVhZGVyKCdjb250YWN0JykpIHtcbiAgICAgICAgICAvLyBBbiBlcnJvciBvbiBkaWFsb2cgY3JlYXRpb24gd2lsbCBmaXJlICdmYWlsZWQnIGV2ZW50XG4gICAgICAgICAgaWYgKCF0aGlzLmNyZWF0ZURpYWxvZyhyZXNwb25zZSwgJ1VBQycsIHRydWUpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXR1cyA9IEMuU1RBVFVTXzFYWF9SRUNFSVZFRDtcblxuICAgICAgICBpZihyZXNwb25zZS5oYXNIZWFkZXIoJ3JlcXVpcmUnKSAmJlxuICAgICAgICAgICByZXNwb25zZS5nZXRIZWFkZXIoJ3JlcXVpcmUnKS5pbmRleE9mKCcxMDByZWwnKSAhPT0gLTEpIHtcblxuICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhpcy5kaWFsb2cgaXMgYWxyZWFkeSBjb25maXJtZWRcbiAgICAgICAgICBpZiAodGhpcy5kaWFsb2cgfHwgIXRoaXMuZWFybHlEaWFsb2dzW2lkXSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRoaXMuZWFybHlEaWFsb2dzW2lkXS5wcmFja2VkLmluZGV4T2YocmVzcG9uc2UuZ2V0SGVhZGVyKCdyc2VxJykpICE9PSAtMSB8fFxuICAgICAgICAgICAgICAodGhpcy5lYXJseURpYWxvZ3NbaWRdLnByYWNrZWRbdGhpcy5lYXJseURpYWxvZ3NbaWRdLnByYWNrZWQubGVuZ3RoLTFdID49IHJlc3BvbnNlLmdldEhlYWRlcigncnNlcScpICYmIHRoaXMuZWFybHlEaWFsb2dzW2lkXS5wcmFja2VkLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCF0aGlzLm1lZGlhSGFuZGxlci5oYXNEZXNjcmlwdGlvbihyZXNwb25zZSkpIHtcbiAgICAgICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKCdSQWNrOiAnICsgcmVzcG9uc2UuZ2V0SGVhZGVyKCdyc2VxJykgKyAnICcgKyByZXNwb25zZS5nZXRIZWFkZXIoJ2NzZXEnKSk7XG4gICAgICAgICAgICB0aGlzLmVhcmx5RGlhbG9nc1tpZF0ucHJhY2tlZC5wdXNoKHJlc3BvbnNlLmdldEhlYWRlcigncnNlcScpKTtcbiAgICAgICAgICAgIHRoaXMuZWFybHlEaWFsb2dzW2lkXS5zZW5kUmVxdWVzdCh0aGlzLCBTSVAuQy5QUkFDSywge1xuICAgICAgICAgICAgICBleHRyYUhlYWRlcnM6IGV4dHJhSGVhZGVyc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3Byb2dyZXNzJywgcmVzcG9uc2UpO1xuXG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhhc09mZmVyKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY3JlYXRlRGlhbG9nKHJlc3BvbnNlLCAnVUFDJykpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhhc0Fuc3dlciA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRpYWxvZy5wcmFja2VkLnB1c2gocmVzcG9uc2UuZ2V0SGVhZGVyKCdyc2VxJykpO1xuXG4gICAgICAgICAgICB0aGlzLm1lZGlhSGFuZGxlci5zZXREZXNjcmlwdGlvbihyZXNwb25zZSlcbiAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MgKCkge1xuICAgICAgICAgICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKCdSQWNrOiAnICsgcmVzcG9uc2UuZ2V0SGVhZGVyKCdyc2VxJykgKyAnICcgKyByZXNwb25zZS5nZXRIZWFkZXIoJ2NzZXEnKSk7XG5cbiAgICAgICAgICAgICAgICBzZXNzaW9uLnNlbmRSZXF1ZXN0KFNJUC5DLlBSQUNLLCB7XG4gICAgICAgICAgICAgICAgICBleHRyYUhlYWRlcnM6IGV4dHJhSGVhZGVycyxcbiAgICAgICAgICAgICAgICAgIHJlY2VpdmVSZXNwb25zZTogZnVuY3Rpb24oKSB7fVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNlc3Npb24uc3RhdHVzID0gQy5TVEFUVVNfRUFSTFlfTUVESUE7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5tdXRlKCk7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5lbWl0KCdwcm9ncmVzcycsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uLnN0YXR1cyA9PT0gQy5TVEFUVVNfRUFSTFlfTUVESUEpIHtcbiAgICAgICAgICAgICAgICAgIGxvY2FsTWVkaWEgPSBzZXNzaW9uLm1lZGlhSGFuZGxlci5sb2NhbE1lZGlhO1xuICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsTWVkaWEuZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsTWVkaWEuZ2V0QXVkaW9UcmFja3MoKVswXS5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAobG9jYWxNZWRpYS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxNZWRpYS5nZXRWaWRlb1RyYWNrcygpWzBdLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9Ki9cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24gb25GYWlsdXJlIChlKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5sb2dnZXIud2FybihlKTtcbiAgICAgICAgICAgICAgICBzZXNzaW9uLmFjY2VwdEFuZFRlcm1pbmF0ZShyZXNwb25zZSwgNDg4LCAnTm90IEFjY2VwdGFibGUgSGVyZScpO1xuICAgICAgICAgICAgICAgIHNlc3Npb24uZmFpbGVkKHJlc3BvbnNlLCBTSVAuQy5jYXVzZXMuQkFEX01FRElBX0RFU0NSSVBUSU9OKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGVhcmx5RGlhbG9nID0gdGhpcy5lYXJseURpYWxvZ3NbaWRdO1xuICAgICAgICAgICAgdmFyIGVhcmx5TWVkaWEgPSBlYXJseURpYWxvZy5tZWRpYUhhbmRsZXI7XG5cbiAgICAgICAgICAgIGVhcmx5RGlhbG9nLnByYWNrZWQucHVzaChyZXNwb25zZS5nZXRIZWFkZXIoJ3JzZXEnKSk7XG5cbiAgICAgICAgICAgIGVhcmx5TWVkaWEuc2V0RGVzY3JpcHRpb24ocmVzcG9uc2UpXG4gICAgICAgICAgICAudGhlbihlYXJseU1lZGlhLmdldERlc2NyaXB0aW9uLmJpbmQoZWFybHlNZWRpYSwgc2Vzc2lvbi5tZWRpYUhpbnQpKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gb25TdWNjZXNzKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKCdSQWNrOiAnICsgcmVzcG9uc2UuZ2V0SGVhZGVyKCdyc2VxJykgKyAnICcgKyByZXNwb25zZS5nZXRIZWFkZXIoJ2NzZXEnKSk7XG4gICAgICAgICAgICAgIGVhcmx5RGlhbG9nLnNlbmRSZXF1ZXN0KHNlc3Npb24sIFNJUC5DLlBSQUNLLCB7XG4gICAgICAgICAgICAgICAgZXh0cmFIZWFkZXJzOiBleHRyYUhlYWRlcnMsXG4gICAgICAgICAgICAgICAgYm9keTogZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHNlc3Npb24uc3RhdHVzID0gQy5TVEFUVVNfRUFSTFlfTUVESUE7XG4gICAgICAgICAgICAgIHNlc3Npb24uZW1pdCgncHJvZ3Jlc3MnLCByZXNwb25zZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIG9uRmFpbHVyZShlKSB7XG4gICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgU0lQLkV4Y2VwdGlvbnMuR2V0RGVzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgIGVhcmx5RGlhbG9nLnByYWNrZWQucHVzaChyZXNwb25zZS5nZXRIZWFkZXIoJ3JzZXEnKSk7XG4gICAgICAgICAgICAgICAgaWYgKHNlc3Npb24uc3RhdHVzID09PSBDLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRPRE8gLSBmYWlsIG91dCBvbiBlcnJvclxuICAgICAgICAgICAgICAgIC8vIHNlc3Npb24uZmFpbGVkKGd1bSBlcnJvcik7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5mYWlsZWQobnVsbCwgU0lQLkMuY2F1c2VzLldFQlJUQ19FUlJPUik7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi50ZXJtaW5hdGVkKG51bGwsIFNJUC5DLmNhdXNlcy5XRUJSVENfRVJST1IpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVhcmx5RGlhbG9nLnByYWNrZWQuc3BsaWNlKGVhcmx5RGlhbG9nLnByYWNrZWQuaW5kZXhPZihyZXNwb25zZS5nZXRIZWFkZXIoJ3JzZXEnKSksIDEpO1xuICAgICAgICAgICAgICAgIC8vIENvdWxkIG5vdCBzZXQgcmVtb3RlIGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5sb2dnZXIud2FybignaW52YWxpZCBkZXNjcmlwdGlvbicpO1xuICAgICAgICAgICAgICAgIHNlc3Npb24ubG9nZ2VyLndhcm4oZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmVtaXQoJ3Byb2dyZXNzJywgcmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAvXjJbMC05XXsyfSQvLnRlc3QocmVzcG9uc2Uuc3RhdHVzX2NvZGUpOlxuICAgICAgICB2YXIgY3NlcSA9IHRoaXMucmVxdWVzdC5jc2VxICsgJyAnICsgdGhpcy5yZXF1ZXN0Lm1ldGhvZDtcbiAgICAgICAgaWYgKGNzZXEgIT09IHJlc3BvbnNlLmdldEhlYWRlcignY3NlcScpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX0VBUkxZX01FRElBICYmIHRoaXMuZGlhbG9nKSB7XG4gICAgICAgICAgdGhpcy5zdGF0dXMgPSBDLlNUQVRVU19DT05GSVJNRUQ7XG4gICAgICAgICAgdGhpcy51bm11dGUoKTtcbiAgICAgICAgICAvKmxvY2FsTWVkaWEgPSB0aGlzLm1lZGlhSGFuZGxlci5sb2NhbE1lZGlhO1xuICAgICAgICAgIGlmIChsb2NhbE1lZGlhLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbG9jYWxNZWRpYS5nZXRBdWRpb1RyYWNrcygpWzBdLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobG9jYWxNZWRpYS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxvY2FsTWVkaWEuZ2V0VmlkZW9UcmFja3MoKVswXS5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICB9Ki9cbiAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgaWYgKHRoaXMucmVuZGVyYm9keSkge1xuICAgICAgICAgICAgZXh0cmFIZWFkZXJzLnB1c2goJ0NvbnRlbnQtVHlwZTogJyArIHRoaXMucmVuZGVydHlwZSk7XG4gICAgICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycyA9IGV4dHJhSGVhZGVycztcbiAgICAgICAgICAgIG9wdGlvbnMuYm9keSA9IHRoaXMucmVuZGVyYm9keTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3B0aW9ucy5jc2VxID0gcmVzcG9uc2UuY3NlcTtcbiAgICAgICAgICB0aGlzLnNlbmRSZXF1ZXN0KFNJUC5DLkFDSywgb3B0aW9ucyk7XG4gICAgICAgICAgdGhpcy5hY2NlcHRlZChyZXNwb25zZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG8gbm90aGluZyBpZiB0aGlzLmRpYWxvZyBpcyBhbHJlYWR5IGNvbmZpcm1lZFxuICAgICAgICBpZiAodGhpcy5kaWFsb2cpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoaXMgaXMgYW4gaW52aXRlIHdpdGhvdXQgc2RwXG4gICAgICAgIGlmICghdGhpcy5oYXNPZmZlcikge1xuICAgICAgICAgIGlmICh0aGlzLmVhcmx5RGlhbG9nc1tpZF0gJiYgdGhpcy5lYXJseURpYWxvZ3NbaWRdLm1lZGlhSGFuZGxlci5sb2NhbE1lZGlhKSB7XG4gICAgICAgICAgICAvL1JFVklTSVRcbiAgICAgICAgICAgIHRoaXMuaGFzT2ZmZXIgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5oYXNBbnN3ZXIgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tZWRpYUhhbmRsZXIgPSB0aGlzLmVhcmx5RGlhbG9nc1tpZF0ubWVkaWFIYW5kbGVyO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNyZWF0ZURpYWxvZyhyZXNwb25zZSwgJ1VBQycpKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBDLlNUQVRVU19DT05GSVJNRUQ7XG4gICAgICAgICAgICB0aGlzLnNlbmRSZXF1ZXN0KFNJUC5DLkFDSywge2NzZXE6cmVzcG9uc2UuY3NlcX0pO1xuXG4gICAgICAgICAgICB0aGlzLnVubXV0ZSgpO1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgIGxvY2FsTWVkaWEgPSBzZXNzaW9uLm1lZGlhSGFuZGxlci5sb2NhbE1lZGlhO1xuICAgICAgICAgICAgaWYgKGxvY2FsTWVkaWEuZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGxvY2FsTWVkaWEuZ2V0QXVkaW9UcmFja3MoKVswXS5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsb2NhbE1lZGlhLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBsb2NhbE1lZGlhLmdldFZpZGVvVHJhY2tzKClbMF0uZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICB9Ki9cbiAgICAgICAgICAgIHRoaXMuYWNjZXB0ZWQocmVzcG9uc2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZighdGhpcy5tZWRpYUhhbmRsZXIuaGFzRGVzY3JpcHRpb24ocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICAgIHRoaXMuYWNjZXB0QW5kVGVybWluYXRlKHJlc3BvbnNlLCA0MDAsICdNaXNzaW5nIHNlc3Npb24gZGVzY3JpcHRpb24nKTtcbiAgICAgICAgICAgICAgdGhpcy5mYWlsZWQocmVzcG9uc2UsIFNJUC5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5jcmVhdGVEaWFsb2cocmVzcG9uc2UsICdVQUMnKSkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaGFzT2ZmZXIgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tZWRpYUhhbmRsZXIuc2V0RGVzY3JpcHRpb24ocmVzcG9uc2UpXG4gICAgICAgICAgICAudGhlbih0aGlzLm1lZGlhSGFuZGxlci5nZXREZXNjcmlwdGlvbi5iaW5kKHRoaXMubWVkaWFIYW5kbGVyLCB0aGlzLm1lZGlhSGludCkpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiBvblN1Y2Nlc3MoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgLy92YXIgbG9jYWxNZWRpYTtcbiAgICAgICAgICAgICAgaWYoc2Vzc2lvbi5pc0NhbmNlbGVkIHx8IHNlc3Npb24uc3RhdHVzID09PSBDLlNUQVRVU19URVJNSU5BVEVEKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2Vzc2lvbi5zdGF0dXMgPSBDLlNUQVRVU19DT05GSVJNRUQ7XG4gICAgICAgICAgICAgIHNlc3Npb24uaGFzQW5zd2VyID0gdHJ1ZTtcblxuICAgICAgICAgICAgICBzZXNzaW9uLnVubXV0ZSgpO1xuICAgICAgICAgICAgICAvKmxvY2FsTWVkaWEgPSBzZXNzaW9uLm1lZGlhSGFuZGxlci5sb2NhbE1lZGlhO1xuICAgICAgICAgICAgICBpZiAobG9jYWxNZWRpYS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBsb2NhbE1lZGlhLmdldEF1ZGlvVHJhY2tzKClbMF0uZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGxvY2FsTWVkaWEuZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxNZWRpYS5nZXRWaWRlb1RyYWNrcygpWzBdLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9Ki9cbiAgICAgICAgICAgICAgc2Vzc2lvbi5zZW5kUmVxdWVzdChTSVAuQy5BQ0sse1xuICAgICAgICAgICAgICAgIGJvZHk6IGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIGNzZXE6cmVzcG9uc2UuY3NlcVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgc2Vzc2lvbi5hY2NlcHRlZChyZXNwb25zZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIG9uRmFpbHVyZShlKSB7XG4gICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgU0lQLkV4Y2VwdGlvbnMuR2V0RGVzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gZG8gc29tZXRoaW5nIGhlcmVcbiAgICAgICAgICAgICAgICBzZXNzaW9uLmxvZ2dlci53YXJuKFwidGhlcmUgd2FzIGEgcHJvYmxlbVwiKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uLmxvZ2dlci53YXJuKCdpbnZhbGlkIGRlc2NyaXB0aW9uJyk7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5sb2dnZXIud2FybihlKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5yZXBseSg0ODgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5oYXNBbnN3ZXIpe1xuICAgICAgICAgIGlmICh0aGlzLnJlbmRlcmJvZHkpIHtcbiAgICAgICAgICAgIGV4dHJhSGVhZGVycy5wdXNoKCdDb250ZW50LVR5cGU6ICcgKyBzZXNzaW9uLnJlbmRlcnR5cGUpO1xuICAgICAgICAgICAgb3B0aW9ucy5leHRyYUhlYWRlcnMgPSBleHRyYUhlYWRlcnM7XG4gICAgICAgICAgICBvcHRpb25zLmJvZHkgPSB0aGlzLnJlbmRlcmJvZHk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuc2VuZFJlcXVlc3QoU0lQLkMuQUNLLCBvcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZighdGhpcy5tZWRpYUhhbmRsZXIuaGFzRGVzY3JpcHRpb24ocmVzcG9uc2UpKSB7XG4gICAgICAgICAgICB0aGlzLmFjY2VwdEFuZFRlcm1pbmF0ZShyZXNwb25zZSwgNDAwLCAnTWlzc2luZyBzZXNzaW9uIGRlc2NyaXB0aW9uJyk7XG4gICAgICAgICAgICB0aGlzLmZhaWxlZChyZXNwb25zZSwgU0lQLkMuY2F1c2VzLkJBRF9NRURJQV9ERVNDUklQVElPTik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCF0aGlzLmNyZWF0ZURpYWxvZyhyZXNwb25zZSwgJ1VBQycpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5oYXNBbnN3ZXIgPSB0cnVlO1xuICAgICAgICAgIHRoaXMubWVkaWFIYW5kbGVyLnNldERlc2NyaXB0aW9uKHJlc3BvbnNlKVxuICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgZnVuY3Rpb24gb25TdWNjZXNzICgpIHtcbiAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7fTsvLyxsb2NhbE1lZGlhO1xuICAgICAgICAgICAgICBzZXNzaW9uLnN0YXR1cyA9IEMuU1RBVFVTX0NPTkZJUk1FRDtcbiAgICAgICAgICAgICAgc2Vzc2lvbi51bm11dGUoKTtcbiAgICAgICAgICAgICAgLypsb2NhbE1lZGlhID0gc2Vzc2lvbi5tZWRpYUhhbmRsZXIubG9jYWxNZWRpYTtcbiAgICAgICAgICAgICAgaWYgKGxvY2FsTWVkaWEuZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxNZWRpYS5nZXRBdWRpb1RyYWNrcygpWzBdLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChsb2NhbE1lZGlhLmdldFZpZGVvVHJhY2tzKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxvY2FsTWVkaWEuZ2V0VmlkZW9UcmFja3MoKVswXS5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSovXG4gICAgICAgICAgICAgIGlmIChzZXNzaW9uLnJlbmRlcmJvZHkpIHtcbiAgICAgICAgICAgICAgICBleHRyYUhlYWRlcnMucHVzaCgnQ29udGVudC1UeXBlOiAnICsgc2Vzc2lvbi5yZW5kZXJ0eXBlKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmV4dHJhSGVhZGVycyA9IGV4dHJhSGVhZGVycztcbiAgICAgICAgICAgICAgICBvcHRpb25zLmJvZHkgPSBzZXNzaW9uLnJlbmRlcmJvZHk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb3B0aW9ucy5jc2VxID0gcmVzcG9uc2UuY3NlcTtcbiAgICAgICAgICAgICAgc2Vzc2lvbi5zZW5kUmVxdWVzdChTSVAuQy5BQ0ssIG9wdGlvbnMpO1xuICAgICAgICAgICAgICBzZXNzaW9uLmFjY2VwdGVkKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbiBvbkZhaWx1cmUgKGUpIHtcbiAgICAgICAgICAgICAgc2Vzc2lvbi5sb2dnZXIud2FybihlKTtcbiAgICAgICAgICAgICAgc2Vzc2lvbi5hY2NlcHRBbmRUZXJtaW5hdGUocmVzcG9uc2UsIDQ4OCwgJ05vdCBBY2NlcHRhYmxlIEhlcmUnKTtcbiAgICAgICAgICAgICAgc2Vzc2lvbi5mYWlsZWQocmVzcG9uc2UsIFNJUC5DLmNhdXNlcy5CQURfTUVESUFfREVTQ1JJUFRJT04pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjYXVzZSA9IFNJUC5VdGlscy5zaXBFcnJvckNhdXNlKHJlc3BvbnNlLnN0YXR1c19jb2RlKTtcbiAgICAgICAgdGhpcy5yZWplY3RlZChyZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICB0aGlzLmZhaWxlZChyZXNwb25zZSwgY2F1c2UpO1xuICAgICAgICB0aGlzLnRlcm1pbmF0ZWQocmVzcG9uc2UsIGNhdXNlKTtcbiAgICB9XG4gIH0sXG5cbiAgY2FuY2VsOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICBvcHRpb25zLmV4dHJhSGVhZGVycyA9IChvcHRpb25zLmV4dHJhSGVhZGVycyB8fCBbXSkuc2xpY2UoKTtcblxuICAgIC8vIENoZWNrIFNlc3Npb24gU3RhdHVzXG4gICAgaWYgKHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU19URVJNSU5BVEVEIHx8IHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgIHRocm93IG5ldyBTSVAuRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvcih0aGlzLnN0YXR1cyk7XG4gICAgfVxuXG4gICAgdGhpcy5sb2dnZXIubG9nKCdjYW5jZWxpbmcgUlRDU2Vzc2lvbicpO1xuXG4gICAgdmFyIGNhbmNlbF9yZWFzb24gPSBTSVAuVXRpbHMuZ2V0Q2FuY2VsUmVhc29uKG9wdGlvbnMuc3RhdHVzX2NvZGUsIG9wdGlvbnMucmVhc29uX3BocmFzZSk7XG5cbiAgICAvLyBDaGVjayBTZXNzaW9uIFN0YXR1c1xuICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gQy5TVEFUVVNfTlVMTCB8fFxuICAgICAgICAodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX0lOVklURV9TRU5UICYmICF0aGlzLnJlY2VpdmVkXzEwMCkpIHtcbiAgICAgIHRoaXMuaXNDYW5jZWxlZCA9IHRydWU7XG4gICAgICB0aGlzLmNhbmNlbFJlYXNvbiA9IGNhbmNlbF9yZWFzb247XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXR1cyA9PT0gQy5TVEFUVVNfSU5WSVRFX1NFTlQgfHxcbiAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU18xWFhfUkVDRUlWRUQgfHxcbiAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU19FQVJMWV9NRURJQSkge1xuICAgICAgdGhpcy5yZXF1ZXN0LmNhbmNlbChjYW5jZWxfcmVhc29uLCBvcHRpb25zLmV4dHJhSGVhZGVycyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY2FuY2VsZWQoKTtcbiAgfSxcblxuICB0ZXJtaW5hdGU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gQy5TVEFUVVNfV0FJVElOR19GT1JfQUNLIHx8IHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU19DT05GSVJNRUQpIHtcbiAgICAgIHRoaXMuYnllKG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNhbmNlbChvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICByZWNlaXZlUmVxdWVzdDogZnVuY3Rpb24ocmVxdWVzdCkge1xuICAgIC8vIElDQyBSRUNFSVZFIFJFUVVFU1RcblxuICAgIC8vIFJlamVjdCBDQU5DRUxzXG4gICAgaWYgKHJlcXVlc3QubWV0aG9kID09PSBTSVAuQy5DQU5DRUwpIHtcbiAgICAgIC8vIFRPRE87IG1ha2UgdGhpcyBhIHN3aXRjaCB3aGVuIGl0IGdldHMgYWRkZWRcbiAgICB9XG5cbiAgICBpZiAocmVxdWVzdC5tZXRob2QgPT09IFNJUC5DLkFDSyAmJiB0aGlzLnN0YXR1cyA9PT0gQy5TVEFUVVNfV0FJVElOR19GT1JfQUNLKSB7XG4gICAgICBTSVAuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5hY2tUaW1lcik7XG4gICAgICBTSVAuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5pbnZpdGUyeHhUaW1lcik7XG4gICAgICB0aGlzLnN0YXR1cyA9IEMuU1RBVFVTX0NPTkZJUk1FRDtcbiAgICAgIHRoaXMudW5tdXRlKCk7XG5cbiAgICAgIHRoaXMuYWNjZXB0ZWQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gU2Vzc2lvbi5wcm90b3R5cGUucmVjZWl2ZVJlcXVlc3QuYXBwbHkodGhpcywgW3JlcXVlc3RdKTtcbiAgfSxcblxuICBvblRyYW5zcG9ydEVycm9yOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5zdGF0dXMgIT09IEMuU1RBVFVTX0NPTkZJUk1FRCAmJiB0aGlzLnN0YXR1cyAhPT0gQy5TVEFUVVNfVEVSTUlOQVRFRCkge1xuICAgICAgdGhpcy5mYWlsZWQobnVsbCwgU0lQLkMuY2F1c2VzLkNPTk5FQ1RJT05fRVJST1IpO1xuICAgIH1cbiAgfSxcblxuICBvblJlcXVlc3RUaW1lb3V0OiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX0NPTkZJUk1FRCkge1xuICAgICAgdGhpcy50ZXJtaW5hdGVkKG51bGwsIFNJUC5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0dXMgIT09IEMuU1RBVFVTX1RFUk1JTkFURUQpIHtcbiAgICAgIHRoaXMuZmFpbGVkKG51bGwsIFNJUC5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpO1xuICAgICAgdGhpcy50ZXJtaW5hdGVkKG51bGwsIFNJUC5DLmNhdXNlcy5SRVFVRVNUX1RJTUVPVVQpO1xuICAgIH1cbiAgfVxuXG59O1xuXG5TSVAuSW52aXRlQ2xpZW50Q29udGV4dCA9IEludml0ZUNsaWVudENvbnRleHQ7XG5cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AdHdpbGlvL3NpcC5qcy9zcmMvU2Vzc2lvbi5qc1xuLy8gbW9kdWxlIGlkID0gMzYyXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///362\n");

/***/ }),
/* 363 */
/*!*********************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/Session/DTMF.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview DTMF\n */\n\n/**\n * @class DTMF\n * @param {SIP.Session} session\n */\nmodule.exports = function (SIP) {\n\nvar DTMF,\n  C = {\n    MIN_DURATION:            70,\n    MAX_DURATION:            6000,\n    DEFAULT_DURATION:        100,\n    MIN_INTER_TONE_GAP:      50,\n    DEFAULT_INTER_TONE_GAP:  500\n  };\n\nDTMF = function(session, tone, options) {\n  var duration, interToneGap;\n\n  if (tone === undefined) {\n    throw new TypeError('Not enough arguments');\n  }\n\n  this.logger = session.ua.getLogger('sip.invitecontext.dtmf', session.id);\n  this.owner = session;\n  this.direction = null;\n\n  options = options || {};\n  duration = options.duration || null;\n  interToneGap = options.interToneGap || null;\n\n  // Check tone type\n  if (typeof tone === 'string' ) {\n    tone = tone.toUpperCase();\n  } else if (typeof tone === 'number') {\n    tone = tone.toString();\n  } else {\n    throw new TypeError('Invalid tone: '+ tone);\n  }\n\n  // Check tone value\n  if (!tone.match(/^[0-9A-D#*]$/)) {\n    throw new TypeError('Invalid tone: '+ tone);\n  } else {\n    this.tone = tone;\n  }\n\n  // Check duration\n  if (duration && !SIP.Utils.isDecimal(duration)) {\n    throw new TypeError('Invalid tone duration: '+ duration);\n  } else if (!duration) {\n    duration = DTMF.C.DEFAULT_DURATION;\n  } else if (duration < DTMF.C.MIN_DURATION) {\n    this.logger.warn('\"duration\" value is lower than the minimum allowed, setting it to '+ DTMF.C.MIN_DURATION+ ' milliseconds');\n    duration = DTMF.C.MIN_DURATION;\n  } else if (duration > DTMF.C.MAX_DURATION) {\n    this.logger.warn('\"duration\" value is greater than the maximum allowed, setting it to '+ DTMF.C.MAX_DURATION +' milliseconds');\n    duration = DTMF.C.MAX_DURATION;\n  } else {\n    duration = Math.abs(duration);\n  }\n  this.duration = duration;\n\n  // Check interToneGap\n  if (interToneGap && !SIP.Utils.isDecimal(interToneGap)) {\n    throw new TypeError('Invalid interToneGap: '+ interToneGap);\n  } else if (!interToneGap) {\n    interToneGap = DTMF.C.DEFAULT_INTER_TONE_GAP;\n  } else if (interToneGap < DTMF.C.MIN_INTER_TONE_GAP) {\n    this.logger.warn('\"interToneGap\" value is lower than the minimum allowed, setting it to '+ DTMF.C.MIN_INTER_TONE_GAP +' milliseconds');\n    interToneGap = DTMF.C.MIN_INTER_TONE_GAP;\n  } else {\n    interToneGap = Math.abs(interToneGap);\n  }\n  this.interToneGap = interToneGap;\n};\nDTMF.prototype = Object.create(SIP.EventEmitter.prototype);\n\n\nDTMF.prototype.send = function(options) {\n  var extraHeaders,\n    body = {};\n\n  this.direction = 'outgoing';\n\n  // Check RTCSession Status\n  if (this.owner.status !== SIP.Session.C.STATUS_CONFIRMED &&\n    this.owner.status !== SIP.Session.C.STATUS_WAITING_FOR_ACK) {\n    throw new SIP.Exceptions.InvalidStateError(this.owner.status);\n  }\n\n  // Get DTMF options\n  options = options || {};\n  extraHeaders = options.extraHeaders ? options.extraHeaders.slice() : [];\n\n  body.contentType = 'application/dtmf-relay';\n\n  body.body = \"Signal= \" + this.tone + \"\\r\\n\";\n  body.body += \"Duration= \" + this.duration;\n\n  this.request = this.owner.dialog.sendRequest(this, SIP.C.INFO, {\n    extraHeaders: extraHeaders,\n    body: body\n  });\n\n  this.owner.emit('dtmf', this.request, this);\n};\n\n/**\n * @private\n */\nDTMF.prototype.receiveResponse = function(response) {\n  var cause;\n\n  switch(true) {\n    case /^1[0-9]{2}$/.test(response.status_code):\n      // Ignore provisional responses.\n      break;\n\n    case /^2[0-9]{2}$/.test(response.status_code):\n      this.emit('succeeded', {\n        originator: 'remote',\n        response: response\n      });\n      break;\n\n    default:\n      cause = SIP.Utils.sipErrorCause(response.status_code);\n      this.emit('failed', response, cause);\n      break;\n  }\n};\n\n/**\n * @private\n */\nDTMF.prototype.onRequestTimeout = function() {\n  this.emit('failed', null, SIP.C.causes.REQUEST_TIMEOUT);\n  this.owner.onRequestTimeout();\n};\n\n/**\n * @private\n */\nDTMF.prototype.onTransportError = function() {\n  this.emit('failed', null, SIP.C.causes.CONNECTION_ERROR);\n  this.owner.onTransportError();\n};\n\n/**\n * @private\n */\nDTMF.prototype.onDialogError = function(response) {\n  this.emit('failed', response, SIP.C.causes.DIALOG_ERROR);\n  this.owner.onDialogError(response);\n};\n\n/**\n * @private\n */\nDTMF.prototype.init_incoming = function(request) {\n  this.direction = 'incoming';\n  this.request = request;\n\n  request.reply(200);\n\n  if (!this.tone || !this.duration) {\n    this.logger.warn('invalid INFO DTMF received, discarded');\n  } else {\n    this.owner.emit('dtmf', request, this);\n  }\n};\n\nDTMF.C = C;\nreturn DTMF;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1Nlc3Npb24vRFRNRi5qcz9iN2RlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsRUFBRTtBQUNwQjtBQUNBOztBQUVBLGtCQUFrQixFQUFFO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiIzNjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogQGZpbGVvdmVydmlldyBEVE1GXG4gKi9cblxuLyoqXG4gKiBAY2xhc3MgRFRNRlxuICogQHBhcmFtIHtTSVAuU2Vzc2lvbn0gc2Vzc2lvblxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChTSVApIHtcblxudmFyIERUTUYsXG4gIEMgPSB7XG4gICAgTUlOX0RVUkFUSU9OOiAgICAgICAgICAgIDcwLFxuICAgIE1BWF9EVVJBVElPTjogICAgICAgICAgICA2MDAwLFxuICAgIERFRkFVTFRfRFVSQVRJT046ICAgICAgICAxMDAsXG4gICAgTUlOX0lOVEVSX1RPTkVfR0FQOiAgICAgIDUwLFxuICAgIERFRkFVTFRfSU5URVJfVE9ORV9HQVA6ICA1MDBcbiAgfTtcblxuRFRNRiA9IGZ1bmN0aW9uKHNlc3Npb24sIHRvbmUsIG9wdGlvbnMpIHtcbiAgdmFyIGR1cmF0aW9uLCBpbnRlclRvbmVHYXA7XG5cbiAgaWYgKHRvbmUgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vdCBlbm91Z2ggYXJndW1lbnRzJyk7XG4gIH1cblxuICB0aGlzLmxvZ2dlciA9IHNlc3Npb24udWEuZ2V0TG9nZ2VyKCdzaXAuaW52aXRlY29udGV4dC5kdG1mJywgc2Vzc2lvbi5pZCk7XG4gIHRoaXMub3duZXIgPSBzZXNzaW9uO1xuICB0aGlzLmRpcmVjdGlvbiA9IG51bGw7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiB8fCBudWxsO1xuICBpbnRlclRvbmVHYXAgPSBvcHRpb25zLmludGVyVG9uZUdhcCB8fCBudWxsO1xuXG4gIC8vIENoZWNrIHRvbmUgdHlwZVxuICBpZiAodHlwZW9mIHRvbmUgPT09ICdzdHJpbmcnICkge1xuICAgIHRvbmUgPSB0b25lLnRvVXBwZXJDYXNlKCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHRvbmUgPT09ICdudW1iZXInKSB7XG4gICAgdG9uZSA9IHRvbmUudG9TdHJpbmcoKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHRvbmU6ICcrIHRvbmUpO1xuICB9XG5cbiAgLy8gQ2hlY2sgdG9uZSB2YWx1ZVxuICBpZiAoIXRvbmUubWF0Y2goL15bMC05QS1EIypdJC8pKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCB0b25lOiAnKyB0b25lKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnRvbmUgPSB0b25lO1xuICB9XG5cbiAgLy8gQ2hlY2sgZHVyYXRpb25cbiAgaWYgKGR1cmF0aW9uICYmICFTSVAuVXRpbHMuaXNEZWNpbWFsKGR1cmF0aW9uKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgdG9uZSBkdXJhdGlvbjogJysgZHVyYXRpb24pO1xuICB9IGVsc2UgaWYgKCFkdXJhdGlvbikge1xuICAgIGR1cmF0aW9uID0gRFRNRi5DLkRFRkFVTFRfRFVSQVRJT047XG4gIH0gZWxzZSBpZiAoZHVyYXRpb24gPCBEVE1GLkMuTUlOX0RVUkFUSU9OKSB7XG4gICAgdGhpcy5sb2dnZXIud2FybignXCJkdXJhdGlvblwiIHZhbHVlIGlzIGxvd2VyIHRoYW4gdGhlIG1pbmltdW0gYWxsb3dlZCwgc2V0dGluZyBpdCB0byAnKyBEVE1GLkMuTUlOX0RVUkFUSU9OKyAnIG1pbGxpc2Vjb25kcycpO1xuICAgIGR1cmF0aW9uID0gRFRNRi5DLk1JTl9EVVJBVElPTjtcbiAgfSBlbHNlIGlmIChkdXJhdGlvbiA+IERUTUYuQy5NQVhfRFVSQVRJT04pIHtcbiAgICB0aGlzLmxvZ2dlci53YXJuKCdcImR1cmF0aW9uXCIgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHRoZSBtYXhpbXVtIGFsbG93ZWQsIHNldHRpbmcgaXQgdG8gJysgRFRNRi5DLk1BWF9EVVJBVElPTiArJyBtaWxsaXNlY29uZHMnKTtcbiAgICBkdXJhdGlvbiA9IERUTUYuQy5NQVhfRFVSQVRJT047XG4gIH0gZWxzZSB7XG4gICAgZHVyYXRpb24gPSBNYXRoLmFicyhkdXJhdGlvbik7XG4gIH1cbiAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuXG4gIC8vIENoZWNrIGludGVyVG9uZUdhcFxuICBpZiAoaW50ZXJUb25lR2FwICYmICFTSVAuVXRpbHMuaXNEZWNpbWFsKGludGVyVG9uZUdhcCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGludGVyVG9uZUdhcDogJysgaW50ZXJUb25lR2FwKTtcbiAgfSBlbHNlIGlmICghaW50ZXJUb25lR2FwKSB7XG4gICAgaW50ZXJUb25lR2FwID0gRFRNRi5DLkRFRkFVTFRfSU5URVJfVE9ORV9HQVA7XG4gIH0gZWxzZSBpZiAoaW50ZXJUb25lR2FwIDwgRFRNRi5DLk1JTl9JTlRFUl9UT05FX0dBUCkge1xuICAgIHRoaXMubG9nZ2VyLndhcm4oJ1wiaW50ZXJUb25lR2FwXCIgdmFsdWUgaXMgbG93ZXIgdGhhbiB0aGUgbWluaW11bSBhbGxvd2VkLCBzZXR0aW5nIGl0IHRvICcrIERUTUYuQy5NSU5fSU5URVJfVE9ORV9HQVAgKycgbWlsbGlzZWNvbmRzJyk7XG4gICAgaW50ZXJUb25lR2FwID0gRFRNRi5DLk1JTl9JTlRFUl9UT05FX0dBUDtcbiAgfSBlbHNlIHtcbiAgICBpbnRlclRvbmVHYXAgPSBNYXRoLmFicyhpbnRlclRvbmVHYXApO1xuICB9XG4gIHRoaXMuaW50ZXJUb25lR2FwID0gaW50ZXJUb25lR2FwO1xufTtcbkRUTUYucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTSVAuRXZlbnRFbWl0dGVyLnByb3RvdHlwZSk7XG5cblxuRFRNRi5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgdmFyIGV4dHJhSGVhZGVycyxcbiAgICBib2R5ID0ge307XG5cbiAgdGhpcy5kaXJlY3Rpb24gPSAnb3V0Z29pbmcnO1xuXG4gIC8vIENoZWNrIFJUQ1Nlc3Npb24gU3RhdHVzXG4gIGlmICh0aGlzLm93bmVyLnN0YXR1cyAhPT0gU0lQLlNlc3Npb24uQy5TVEFUVVNfQ09ORklSTUVEICYmXG4gICAgdGhpcy5vd25lci5zdGF0dXMgIT09IFNJUC5TZXNzaW9uLkMuU1RBVFVTX1dBSVRJTkdfRk9SX0FDSykge1xuICAgIHRocm93IG5ldyBTSVAuRXhjZXB0aW9ucy5JbnZhbGlkU3RhdGVFcnJvcih0aGlzLm93bmVyLnN0YXR1cyk7XG4gIH1cblxuICAvLyBHZXQgRFRNRiBvcHRpb25zXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBleHRyYUhlYWRlcnMgPSBvcHRpb25zLmV4dHJhSGVhZGVycyA/IG9wdGlvbnMuZXh0cmFIZWFkZXJzLnNsaWNlKCkgOiBbXTtcblxuICBib2R5LmNvbnRlbnRUeXBlID0gJ2FwcGxpY2F0aW9uL2R0bWYtcmVsYXknO1xuXG4gIGJvZHkuYm9keSA9IFwiU2lnbmFsPSBcIiArIHRoaXMudG9uZSArIFwiXFxyXFxuXCI7XG4gIGJvZHkuYm9keSArPSBcIkR1cmF0aW9uPSBcIiArIHRoaXMuZHVyYXRpb247XG5cbiAgdGhpcy5yZXF1ZXN0ID0gdGhpcy5vd25lci5kaWFsb2cuc2VuZFJlcXVlc3QodGhpcywgU0lQLkMuSU5GTywge1xuICAgIGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzLFxuICAgIGJvZHk6IGJvZHlcbiAgfSk7XG5cbiAgdGhpcy5vd25lci5lbWl0KCdkdG1mJywgdGhpcy5yZXF1ZXN0LCB0aGlzKTtcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuRFRNRi5wcm90b3R5cGUucmVjZWl2ZVJlc3BvbnNlID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgdmFyIGNhdXNlO1xuXG4gIHN3aXRjaCh0cnVlKSB7XG4gICAgY2FzZSAvXjFbMC05XXsyfSQvLnRlc3QocmVzcG9uc2Uuc3RhdHVzX2NvZGUpOlxuICAgICAgLy8gSWdub3JlIHByb3Zpc2lvbmFsIHJlc3BvbnNlcy5cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAvXjJbMC05XXsyfSQvLnRlc3QocmVzcG9uc2Uuc3RhdHVzX2NvZGUpOlxuICAgICAgdGhpcy5lbWl0KCdzdWNjZWVkZWQnLCB7XG4gICAgICAgIG9yaWdpbmF0b3I6ICdyZW1vdGUnLFxuICAgICAgICByZXNwb25zZTogcmVzcG9uc2VcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgY2F1c2UgPSBTSVAuVXRpbHMuc2lwRXJyb3JDYXVzZShyZXNwb25zZS5zdGF0dXNfY29kZSk7XG4gICAgICB0aGlzLmVtaXQoJ2ZhaWxlZCcsIHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgICBicmVhaztcbiAgfVxufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5EVE1GLnByb3RvdHlwZS5vblJlcXVlc3RUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZW1pdCgnZmFpbGVkJywgbnVsbCwgU0lQLkMuY2F1c2VzLlJFUVVFU1RfVElNRU9VVCk7XG4gIHRoaXMub3duZXIub25SZXF1ZXN0VGltZW91dCgpO1xufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5EVE1GLnByb3RvdHlwZS5vblRyYW5zcG9ydEVycm9yID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZW1pdCgnZmFpbGVkJywgbnVsbCwgU0lQLkMuY2F1c2VzLkNPTk5FQ1RJT05fRVJST1IpO1xuICB0aGlzLm93bmVyLm9uVHJhbnNwb3J0RXJyb3IoKTtcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuRFRNRi5wcm90b3R5cGUub25EaWFsb2dFcnJvciA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gIHRoaXMuZW1pdCgnZmFpbGVkJywgcmVzcG9uc2UsIFNJUC5DLmNhdXNlcy5ESUFMT0dfRVJST1IpO1xuICB0aGlzLm93bmVyLm9uRGlhbG9nRXJyb3IocmVzcG9uc2UpO1xufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG5EVE1GLnByb3RvdHlwZS5pbml0X2luY29taW5nID0gZnVuY3Rpb24ocmVxdWVzdCkge1xuICB0aGlzLmRpcmVjdGlvbiA9ICdpbmNvbWluZyc7XG4gIHRoaXMucmVxdWVzdCA9IHJlcXVlc3Q7XG5cbiAgcmVxdWVzdC5yZXBseSgyMDApO1xuXG4gIGlmICghdGhpcy50b25lIHx8ICF0aGlzLmR1cmF0aW9uKSB7XG4gICAgdGhpcy5sb2dnZXIud2FybignaW52YWxpZCBJTkZPIERUTUYgcmVjZWl2ZWQsIGRpc2NhcmRlZCcpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMub3duZXIuZW1pdCgnZHRtZicsIHJlcXVlc3QsIHRoaXMpO1xuICB9XG59O1xuXG5EVE1GLkMgPSBDO1xucmV0dXJuIERUTUY7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1Nlc3Npb24vRFRNRi5qc1xuLy8gbW9kdWxlIGlkID0gMzYzXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///363\n");

/***/ }),
/* 364 */
/*!****************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/RFC4028.js ***!
  \****************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("var localMinSE = 90;\n\nmodule.exports = function (Timers) {\n\n// http://tools.ietf.org/html/rfc4028#section-9\nfunction hasSmallMinSE (message) {\n  var supportedOptions = message.parseHeader('Supported') || [];\n  var sessionExpires = message.parseHeader('Session-Expires') || {};\n  return supportedOptions.indexOf('timer') >= 0 && sessionExpires.deltaSeconds < localMinSE;\n}\n\n// `response` is an IncomingResponse or a String (outgoing response)\nfunction updateState (dialog, response, parseMessage, ua) {\n  dialog.sessionTimerState = dialog.sessionTimerState || {};\n  Timers.clearTimeout(dialog.sessionTimerState.timeout);\n\n  var isUAS = typeof response === 'string';\n  if (isUAS) {\n    response = parseMessage(response, ua);\n  }\n\n  var sessionExpires = response.parseHeader('Session-Expires');\n  // If the most recent 2xx response had no Session-Expires header field, there\n  // is no session expiration, and no refreshes have to be performed\n  if (!sessionExpires) {\n    dialog.sessionTimerState = null;\n    return;\n  }\n\n  var interval = sessionExpires.deltaSeconds;\n  var isRefresher = isUAS === (sessionExpires.refresher === 'uas');\n\n  dialog.sessionTimerState = {\n    interval: interval,\n    isRefresher: isRefresher\n  };\n\n  var intervalMilliseconds = interval * 1000;\n  var self = this;\n  if (isRefresher) {\n    dialog.sessionTimerState.timeout = Timers.setInterval(function sendRefresh () {\n      var exists = dialog.owner.ua.dialogs[dialog.id.toString()] || false;\n      if (exists) {\n        dialog.sendRequest(self, \"UPDATE\", { extraHeaders: [\"Session-Expires: \" + interval]});\n      } else {\n        Timers.clearInterval(dialog.sessionTimerState.timeout);\n      }\n    }, intervalMilliseconds / 2);\n  } else {\n    var before = Math.min(32 * 1000, intervalMilliseconds / 3);\n    dialog.sessionTimerState.timeout = Timers.setTimeout(function sendBye () {\n      // TODO\n    }, intervalMilliseconds - before);\n  }\n}\n\nfunction receiveResponse(response) {\n  /* jshint unused: false */\n}\n\nfunction onDialogError(response) {\n  /* jshint unused: false */\n}\n\nfunction onRequestTimeout() {\n  /* jshint unused: false */\n}\n\nfunction onTransportError() {\n  /* jshint unused: false */\n}\n\nreturn {\n  localMinSE: localMinSE,\n  hasSmallMinSE: hasSmallMinSE,\n  updateState: updateState,\n  receiveResponse: receiveResponse,\n  onDialogError: onDialogError,\n  onRequestTimeout: onRequestTimeout,\n  onTransportError: onTransportError\n};\n\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1JGQzQwMjguanM/MzliZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsZ0RBQWdEO0FBQzVGLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjM2NC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBsb2NhbE1pblNFID0gOTA7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFRpbWVycykge1xuXG4vLyBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM0MDI4I3NlY3Rpb24tOVxuZnVuY3Rpb24gaGFzU21hbGxNaW5TRSAobWVzc2FnZSkge1xuICB2YXIgc3VwcG9ydGVkT3B0aW9ucyA9IG1lc3NhZ2UucGFyc2VIZWFkZXIoJ1N1cHBvcnRlZCcpIHx8IFtdO1xuICB2YXIgc2Vzc2lvbkV4cGlyZXMgPSBtZXNzYWdlLnBhcnNlSGVhZGVyKCdTZXNzaW9uLUV4cGlyZXMnKSB8fCB7fTtcbiAgcmV0dXJuIHN1cHBvcnRlZE9wdGlvbnMuaW5kZXhPZigndGltZXInKSA+PSAwICYmIHNlc3Npb25FeHBpcmVzLmRlbHRhU2Vjb25kcyA8IGxvY2FsTWluU0U7XG59XG5cbi8vIGByZXNwb25zZWAgaXMgYW4gSW5jb21pbmdSZXNwb25zZSBvciBhIFN0cmluZyAob3V0Z29pbmcgcmVzcG9uc2UpXG5mdW5jdGlvbiB1cGRhdGVTdGF0ZSAoZGlhbG9nLCByZXNwb25zZSwgcGFyc2VNZXNzYWdlLCB1YSkge1xuICBkaWFsb2cuc2Vzc2lvblRpbWVyU3RhdGUgPSBkaWFsb2cuc2Vzc2lvblRpbWVyU3RhdGUgfHwge307XG4gIFRpbWVycy5jbGVhclRpbWVvdXQoZGlhbG9nLnNlc3Npb25UaW1lclN0YXRlLnRpbWVvdXQpO1xuXG4gIHZhciBpc1VBUyA9IHR5cGVvZiByZXNwb25zZSA9PT0gJ3N0cmluZyc7XG4gIGlmIChpc1VBUykge1xuICAgIHJlc3BvbnNlID0gcGFyc2VNZXNzYWdlKHJlc3BvbnNlLCB1YSk7XG4gIH1cblxuICB2YXIgc2Vzc2lvbkV4cGlyZXMgPSByZXNwb25zZS5wYXJzZUhlYWRlcignU2Vzc2lvbi1FeHBpcmVzJyk7XG4gIC8vIElmIHRoZSBtb3N0IHJlY2VudCAyeHggcmVzcG9uc2UgaGFkIG5vIFNlc3Npb24tRXhwaXJlcyBoZWFkZXIgZmllbGQsIHRoZXJlXG4gIC8vIGlzIG5vIHNlc3Npb24gZXhwaXJhdGlvbiwgYW5kIG5vIHJlZnJlc2hlcyBoYXZlIHRvIGJlIHBlcmZvcm1lZFxuICBpZiAoIXNlc3Npb25FeHBpcmVzKSB7XG4gICAgZGlhbG9nLnNlc3Npb25UaW1lclN0YXRlID0gbnVsbDtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaW50ZXJ2YWwgPSBzZXNzaW9uRXhwaXJlcy5kZWx0YVNlY29uZHM7XG4gIHZhciBpc1JlZnJlc2hlciA9IGlzVUFTID09PSAoc2Vzc2lvbkV4cGlyZXMucmVmcmVzaGVyID09PSAndWFzJyk7XG5cbiAgZGlhbG9nLnNlc3Npb25UaW1lclN0YXRlID0ge1xuICAgIGludGVydmFsOiBpbnRlcnZhbCxcbiAgICBpc1JlZnJlc2hlcjogaXNSZWZyZXNoZXJcbiAgfTtcblxuICB2YXIgaW50ZXJ2YWxNaWxsaXNlY29uZHMgPSBpbnRlcnZhbCAqIDEwMDA7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKGlzUmVmcmVzaGVyKSB7XG4gICAgZGlhbG9nLnNlc3Npb25UaW1lclN0YXRlLnRpbWVvdXQgPSBUaW1lcnMuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gc2VuZFJlZnJlc2ggKCkge1xuICAgICAgdmFyIGV4aXN0cyA9IGRpYWxvZy5vd25lci51YS5kaWFsb2dzW2RpYWxvZy5pZC50b1N0cmluZygpXSB8fCBmYWxzZTtcbiAgICAgIGlmIChleGlzdHMpIHtcbiAgICAgICAgZGlhbG9nLnNlbmRSZXF1ZXN0KHNlbGYsIFwiVVBEQVRFXCIsIHsgZXh0cmFIZWFkZXJzOiBbXCJTZXNzaW9uLUV4cGlyZXM6IFwiICsgaW50ZXJ2YWxdfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBUaW1lcnMuY2xlYXJJbnRlcnZhbChkaWFsb2cuc2Vzc2lvblRpbWVyU3RhdGUudGltZW91dCk7XG4gICAgICB9XG4gICAgfSwgaW50ZXJ2YWxNaWxsaXNlY29uZHMgLyAyKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgYmVmb3JlID0gTWF0aC5taW4oMzIgKiAxMDAwLCBpbnRlcnZhbE1pbGxpc2Vjb25kcyAvIDMpO1xuICAgIGRpYWxvZy5zZXNzaW9uVGltZXJTdGF0ZS50aW1lb3V0ID0gVGltZXJzLnNldFRpbWVvdXQoZnVuY3Rpb24gc2VuZEJ5ZSAoKSB7XG4gICAgICAvLyBUT0RPXG4gICAgfSwgaW50ZXJ2YWxNaWxsaXNlY29uZHMgLSBiZWZvcmUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlY2VpdmVSZXNwb25zZShyZXNwb25zZSkge1xuICAvKiBqc2hpbnQgdW51c2VkOiBmYWxzZSAqL1xufVxuXG5mdW5jdGlvbiBvbkRpYWxvZ0Vycm9yKHJlc3BvbnNlKSB7XG4gIC8qIGpzaGludCB1bnVzZWQ6IGZhbHNlICovXG59XG5cbmZ1bmN0aW9uIG9uUmVxdWVzdFRpbWVvdXQoKSB7XG4gIC8qIGpzaGludCB1bnVzZWQ6IGZhbHNlICovXG59XG5cbmZ1bmN0aW9uIG9uVHJhbnNwb3J0RXJyb3IoKSB7XG4gIC8qIGpzaGludCB1bnVzZWQ6IGZhbHNlICovXG59XG5cbnJldHVybiB7XG4gIGxvY2FsTWluU0U6IGxvY2FsTWluU0UsXG4gIGhhc1NtYWxsTWluU0U6IGhhc1NtYWxsTWluU0UsXG4gIHVwZGF0ZVN0YXRlOiB1cGRhdGVTdGF0ZSxcbiAgcmVjZWl2ZVJlc3BvbnNlOiByZWNlaXZlUmVzcG9uc2UsXG4gIG9uRGlhbG9nRXJyb3I6IG9uRGlhbG9nRXJyb3IsXG4gIG9uUmVxdWVzdFRpbWVvdXQ6IG9uUmVxdWVzdFRpbWVvdXQsXG4gIG9uVHJhbnNwb3J0RXJyb3I6IG9uVHJhbnNwb3J0RXJyb3Jcbn07XG5cbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AdHdpbGlvL3NpcC5qcy9zcmMvUkZDNDAyOC5qc1xuLy8gbW9kdWxlIGlkID0gMzY0XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///364\n");

/***/ }),
/* 365 */
/*!*********************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/Subscription.js ***!
  \*********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * @fileoverview SIP Subscriber (SIP-Specific Event Notifications RFC6665)\n */\n\n/**\n * @augments SIP\n * @class Class creating a SIP Subscription.\n */\nmodule.exports = function (SIP) {\nSIP.Subscription = function (ua, target, event, options) {\n  options = Object.create(options || Object.prototype);\n  this.extraHeaders = options.extraHeaders = (options.extraHeaders || []).slice();\n\n  this.id = null;\n  this.state = 'init';\n\n  if (!event) {\n    throw new TypeError('Event necessary to create a subscription.');\n  } else {\n    //TODO: check for valid events here probably make a list in SIP.C; or leave it up to app to check?\n    //The check may need to/should probably occur on the other side,\n    this.event = event;\n  }\n\n  if(typeof options.expires !== 'number'){\n    ua.logger.warn('expires must be a number. Using default of 3600.');\n    this.expires = 3600;\n  } else {\n    this.expires = options.expires;\n  }\n\n  options.extraHeaders.push('Event: ' + this.event);\n  options.extraHeaders.push('Expires: ' + this.expires);\n\n  if (options.body) {\n    this.body = options.body;\n  }\n\n  this.contact = ua.contact.toString();\n\n  options.extraHeaders.push('Contact: '+ this.contact);\n  options.extraHeaders.push('Allow: '+ SIP.UA.C.ALLOWED_METHODS.toString());\n\n  SIP.Utils.augment(this, SIP.ClientContext, [ua, SIP.C.SUBSCRIBE, target, options]);\n\n  this.logger = ua.getLogger('sip.subscription');\n\n  this.dialog = null;\n  this.timers = {N: null, sub_duration: null};\n  this.errorCodes  = [404,405,410,416,480,481,482,483,484,485,489,501,604];\n};\n\nSIP.Subscription.prototype = {\n  subscribe: function() {\n    var sub = this;\n\n     //these states point to an existing subscription, no subscribe is necessary\n    if (this.state === 'active') {\n      this.refresh();\n      return this;\n    } else if (this.state === 'notify_wait') {\n      return this;\n    }\n\n    SIP.Timers.clearTimeout(this.timers.sub_duration);\n    SIP.Timers.clearTimeout(this.timers.N);\n    this.timers.N = SIP.Timers.setTimeout(sub.timer_fire.bind(sub), SIP.Timers.TIMER_N);\n\n    this.send();\n\n    this.state = 'notify_wait';\n\n    return this;\n  },\n\n  refresh: function () {\n    if (this.state === 'terminated' || this.state === 'pending' || this.state === 'notify_wait') {\n      return;\n    }\n\n    this.dialog.sendRequest(this, SIP.C.SUBSCRIBE, {\n      extraHeaders: this.extraHeaders,\n      body: this.body\n    });\n  },\n\n  receiveResponse: function(response) {\n    var expires, sub = this,\n        cause = SIP.Utils.getReasonPhrase(response.status_code);\n\n    if ((this.state === 'notify_wait' && response.status_code >= 300) ||\n        (this.state !== 'notify_wait' && this.errorCodes.indexOf(response.status_code) !== -1)) {\n      this.failed(response, null);\n    } else if (/^2[0-9]{2}$/.test(response.status_code)){\n      expires = response.getHeader('Expires');\n      SIP.Timers.clearTimeout(this.timers.N);\n\n      if (this.createConfirmedDialog(response,'UAC')) {\n        this.id = this.dialog.id.toString();\n        this.ua.subscriptions[this.id] = this;\n        this.emit('accepted', response, cause);\n        // UPDATE ROUTE SET TO BE BACKWARDS COMPATIBLE?\n      }\n\n      if (expires && expires <= this.expires) {\n        // Preserve new expires value for subsequent requests\n        this.expires = expires;\n        this.timers.sub_duration = SIP.Timers.setTimeout(sub.refresh.bind(sub), expires * 900);\n      } else {\n        if (!expires) {\n          this.logger.warn('Expires header missing in a 200-class response to SUBSCRIBE');\n          this.failed(response, SIP.C.EXPIRES_HEADER_MISSING);\n        } else {\n          this.logger.warn('Expires header in a 200-class response to SUBSCRIBE with a higher value than the one in the request');\n          this.failed(response, SIP.C.INVALID_EXPIRES_HEADER);\n        }\n      }\n    } //Used to just ignore provisional responses; now ignores everything except errorCodes and 2xx\n  },\n\n  unsubscribe: function() {\n    var extraHeaders = [], sub = this;\n\n    this.state = 'terminated';\n\n    extraHeaders.push('Event: ' + this.event);\n    extraHeaders.push('Expires: 0');\n\n    extraHeaders.push('Contact: '+ this.contact);\n    extraHeaders.push('Allow: '+ SIP.UA.C.ALLOWED_METHODS.toString());\n\n    //makes sure expires isn't set, and other typical resubscribe behavior\n    this.receiveResponse = function(){};\n\n    this.dialog.sendRequest(this, this.method, {\n      extraHeaders: extraHeaders,\n      body: this.body\n    });\n\n    SIP.Timers.clearTimeout(this.timers.sub_duration);\n    SIP.Timers.clearTimeout(this.timers.N);\n    this.timers.N = SIP.Timers.setTimeout(sub.timer_fire.bind(sub), SIP.Timers.TIMER_N);\n  },\n\n  /**\n  * @private\n  */\n  timer_fire: function(){\n    if (this.state === 'terminated') {\n      this.terminateDialog();\n      SIP.Timers.clearTimeout(this.timers.N);\n      SIP.Timers.clearTimeout(this.timers.sub_duration);\n\n      delete this.ua.subscriptions[this.id];\n    } else if (this.state === 'pending' || this.state === 'notify_wait') {\n      this.close();\n    } else {\n      this.refresh();\n    }\n  },\n\n  /**\n  * @private\n  */\n  close: function() {\n    if(this.state !== 'notify_wait' && this.state !== 'terminated') {\n      this.unsubscribe();\n    }\n  },\n\n  /**\n  * @private\n  */\n  createConfirmedDialog: function(message, type) {\n    var dialog;\n\n    this.terminateDialog();\n    dialog = new SIP.Dialog(this, message, type);\n\n    if(!dialog.error) {\n      this.dialog = dialog;\n      return true;\n    }\n    // Dialog not created due to an error\n    else {\n      return false;\n    }\n  },\n\n  /**\n  * @private\n  */\n  terminateDialog: function() {\n    if(this.dialog) {\n      delete this.ua.subscriptions[this.id];\n      this.dialog.terminate();\n      delete this.dialog;\n    }\n  },\n\n  /**\n  * @private\n  */\n  receiveRequest: function(request) {\n    var sub_state, sub = this;\n\n    function setExpiresTimeout() {\n      if (sub_state.expires) {\n        SIP.Timers.clearTimeout(sub.timers.sub_duration);\n        sub_state.expires = Math.min(sub.expires,\n                                     Math.max(sub_state.expires, 0));\n        sub.timers.sub_duration = SIP.Timers.setTimeout(sub.refresh.bind(sub),\n                                                    sub_state.expires * 900);\n      }\n    }\n\n    if (!this.matchEvent(request)) { //checks event and subscription_state headers\n      request.reply(489);\n      return;\n    }\n\n    sub_state = request.parseHeader('Subscription-State');\n\n    request.reply(200, SIP.C.REASON_200);\n\n    SIP.Timers.clearTimeout(this.timers.N);\n\n    this.emit('notify', {request: request});\n\n    // if we've set state to terminated, no further processing should take place\n    // and we are only interested in cleaning up after the appropriate NOTIFY\n    if (this.state === 'terminated') {\n      if (sub_state.state === 'terminated') {\n        this.terminateDialog();\n        SIP.Timers.clearTimeout(this.timers.N);\n        SIP.Timers.clearTimeout(this.timers.sub_duration);\n\n        delete this.ua.subscriptions[this.id];\n      }\n      return;\n    }\n\n    switch (sub_state.state) {\n      case 'active':\n        this.state = 'active';\n        setExpiresTimeout();\n        break;\n      case 'pending':\n        if (this.state === 'notify_wait') {\n          setExpiresTimeout();\n        }\n        this.state = 'pending';\n        break;\n      case 'terminated':\n        SIP.Timers.clearTimeout(this.timers.sub_duration);\n        if (sub_state.reason) {\n          this.logger.log('terminating subscription with reason '+ sub_state.reason);\n          switch (sub_state.reason) {\n            case 'deactivated':\n            case 'timeout':\n              this.subscribe();\n              return;\n            case 'probation':\n            case 'giveup':\n              if(sub_state.params && sub_state.params['retry-after']) {\n                this.timers.sub_duration = SIP.Timers.setTimeout(sub.subscribe.bind(sub), sub_state.params['retry-after']);\n              } else {\n                this.subscribe();\n              }\n              return;\n            case 'rejected':\n            case 'noresource':\n            case 'invariant':\n              break;\n          }\n        }\n        this.close();\n        break;\n    }\n  },\n\n  failed: function(response, cause) {\n    this.close();\n    this.emit('failed', response, cause);\n    return this;\n  },\n\n  onDialogError: function(response) {\n    this.failed(response, SIP.C.causes.DIALOG_ERROR);\n  },\n\n  /**\n  * @private\n  */\n  matchEvent: function(request) {\n    var event;\n\n    // Check mandatory header Event\n    if (!request.hasHeader('Event')) {\n      this.logger.warn('missing Event header');\n      return false;\n    }\n    // Check mandatory header Subscription-State\n    if (!request.hasHeader('Subscription-State')) {\n      this.logger.warn('missing Subscription-State header');\n      return false;\n    }\n\n    // Check whether the event in NOTIFY matches the event in SUBSCRIBE\n    event = request.parseHeader('event').event;\n\n    if (this.event !== event) {\n      this.logger.warn('event match failed');\n      request.reply(481, 'Event Match Failed');\n      return false;\n    } else {\n      return true;\n    }\n  }\n};\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1N1YnNjcmlwdGlvbi5qcz9jYjEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSCxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLG1CQUFtQixFQUFFO0FBQzFCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssNkNBQTZDO0FBQ2xELEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSx5QkFBeUIsaUJBQWlCOztBQUUxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMzY1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBTSVAgU3Vic2NyaWJlciAoU0lQLVNwZWNpZmljIEV2ZW50IE5vdGlmaWNhdGlvbnMgUkZDNjY2NSlcbiAqL1xuXG4vKipcbiAqIEBhdWdtZW50cyBTSVBcbiAqIEBjbGFzcyBDbGFzcyBjcmVhdGluZyBhIFNJUCBTdWJzY3JpcHRpb24uXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFNJUCkge1xuU0lQLlN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uICh1YSwgdGFyZ2V0LCBldmVudCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gT2JqZWN0LmNyZWF0ZShvcHRpb25zIHx8IE9iamVjdC5wcm90b3R5cGUpO1xuICB0aGlzLmV4dHJhSGVhZGVycyA9IG9wdGlvbnMuZXh0cmFIZWFkZXJzID0gKG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IFtdKS5zbGljZSgpO1xuXG4gIHRoaXMuaWQgPSBudWxsO1xuICB0aGlzLnN0YXRlID0gJ2luaXQnO1xuXG4gIGlmICghZXZlbnQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFdmVudCBuZWNlc3NhcnkgdG8gY3JlYXRlIGEgc3Vic2NyaXB0aW9uLicpO1xuICB9IGVsc2Uge1xuICAgIC8vVE9ETzogY2hlY2sgZm9yIHZhbGlkIGV2ZW50cyBoZXJlIHByb2JhYmx5IG1ha2UgYSBsaXN0IGluIFNJUC5DOyBvciBsZWF2ZSBpdCB1cCB0byBhcHAgdG8gY2hlY2s/XG4gICAgLy9UaGUgY2hlY2sgbWF5IG5lZWQgdG8vc2hvdWxkIHByb2JhYmx5IG9jY3VyIG9uIHRoZSBvdGhlciBzaWRlLFxuICAgIHRoaXMuZXZlbnQgPSBldmVudDtcbiAgfVxuXG4gIGlmKHR5cGVvZiBvcHRpb25zLmV4cGlyZXMgIT09ICdudW1iZXInKXtcbiAgICB1YS5sb2dnZXIud2FybignZXhwaXJlcyBtdXN0IGJlIGEgbnVtYmVyLiBVc2luZyBkZWZhdWx0IG9mIDM2MDAuJyk7XG4gICAgdGhpcy5leHBpcmVzID0gMzYwMDtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmV4cGlyZXMgPSBvcHRpb25zLmV4cGlyZXM7XG4gIH1cblxuICBvcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKCdFdmVudDogJyArIHRoaXMuZXZlbnQpO1xuICBvcHRpb25zLmV4dHJhSGVhZGVycy5wdXNoKCdFeHBpcmVzOiAnICsgdGhpcy5leHBpcmVzKTtcblxuICBpZiAob3B0aW9ucy5ib2R5KSB7XG4gICAgdGhpcy5ib2R5ID0gb3B0aW9ucy5ib2R5O1xuICB9XG5cbiAgdGhpcy5jb250YWN0ID0gdWEuY29udGFjdC50b1N0cmluZygpO1xuXG4gIG9wdGlvbnMuZXh0cmFIZWFkZXJzLnB1c2goJ0NvbnRhY3Q6ICcrIHRoaXMuY29udGFjdCk7XG4gIG9wdGlvbnMuZXh0cmFIZWFkZXJzLnB1c2goJ0FsbG93OiAnKyBTSVAuVUEuQy5BTExPV0VEX01FVEhPRFMudG9TdHJpbmcoKSk7XG5cbiAgU0lQLlV0aWxzLmF1Z21lbnQodGhpcywgU0lQLkNsaWVudENvbnRleHQsIFt1YSwgU0lQLkMuU1VCU0NSSUJFLCB0YXJnZXQsIG9wdGlvbnNdKTtcblxuICB0aGlzLmxvZ2dlciA9IHVhLmdldExvZ2dlcignc2lwLnN1YnNjcmlwdGlvbicpO1xuXG4gIHRoaXMuZGlhbG9nID0gbnVsbDtcbiAgdGhpcy50aW1lcnMgPSB7TjogbnVsbCwgc3ViX2R1cmF0aW9uOiBudWxsfTtcbiAgdGhpcy5lcnJvckNvZGVzICA9IFs0MDQsNDA1LDQxMCw0MTYsNDgwLDQ4MSw0ODIsNDgzLDQ4NCw0ODUsNDg5LDUwMSw2MDRdO1xufTtcblxuU0lQLlN1YnNjcmlwdGlvbi5wcm90b3R5cGUgPSB7XG4gIHN1YnNjcmliZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN1YiA9IHRoaXM7XG5cbiAgICAgLy90aGVzZSBzdGF0ZXMgcG9pbnQgdG8gYW4gZXhpc3Rpbmcgc3Vic2NyaXB0aW9uLCBubyBzdWJzY3JpYmUgaXMgbmVjZXNzYXJ5XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09ICdhY3RpdmUnKSB7XG4gICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gJ25vdGlmeV93YWl0Jykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy50aW1lcnMuc3ViX2R1cmF0aW9uKTtcbiAgICBTSVAuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5OKTtcbiAgICB0aGlzLnRpbWVycy5OID0gU0lQLlRpbWVycy5zZXRUaW1lb3V0KHN1Yi50aW1lcl9maXJlLmJpbmQoc3ViKSwgU0lQLlRpbWVycy5USU1FUl9OKTtcblxuICAgIHRoaXMuc2VuZCgpO1xuXG4gICAgdGhpcy5zdGF0ZSA9ICdub3RpZnlfd2FpdCc7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICByZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09ICd0ZXJtaW5hdGVkJyB8fCB0aGlzLnN0YXRlID09PSAncGVuZGluZycgfHwgdGhpcy5zdGF0ZSA9PT0gJ25vdGlmeV93YWl0Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZGlhbG9nLnNlbmRSZXF1ZXN0KHRoaXMsIFNJUC5DLlNVQlNDUklCRSwge1xuICAgICAgZXh0cmFIZWFkZXJzOiB0aGlzLmV4dHJhSGVhZGVycyxcbiAgICAgIGJvZHk6IHRoaXMuYm9keVxuICAgIH0pO1xuICB9LFxuXG4gIHJlY2VpdmVSZXNwb25zZTogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICB2YXIgZXhwaXJlcywgc3ViID0gdGhpcyxcbiAgICAgICAgY2F1c2UgPSBTSVAuVXRpbHMuZ2V0UmVhc29uUGhyYXNlKHJlc3BvbnNlLnN0YXR1c19jb2RlKTtcblxuICAgIGlmICgodGhpcy5zdGF0ZSA9PT0gJ25vdGlmeV93YWl0JyAmJiByZXNwb25zZS5zdGF0dXNfY29kZSA+PSAzMDApIHx8XG4gICAgICAgICh0aGlzLnN0YXRlICE9PSAnbm90aWZ5X3dhaXQnICYmIHRoaXMuZXJyb3JDb2Rlcy5pbmRleE9mKHJlc3BvbnNlLnN0YXR1c19jb2RlKSAhPT0gLTEpKSB7XG4gICAgICB0aGlzLmZhaWxlZChyZXNwb25zZSwgbnVsbCk7XG4gICAgfSBlbHNlIGlmICgvXjJbMC05XXsyfSQvLnRlc3QocmVzcG9uc2Uuc3RhdHVzX2NvZGUpKXtcbiAgICAgIGV4cGlyZXMgPSByZXNwb25zZS5nZXRIZWFkZXIoJ0V4cGlyZXMnKTtcbiAgICAgIFNJUC5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLk4pO1xuXG4gICAgICBpZiAodGhpcy5jcmVhdGVDb25maXJtZWREaWFsb2cocmVzcG9uc2UsJ1VBQycpKSB7XG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLmRpYWxvZy5pZC50b1N0cmluZygpO1xuICAgICAgICB0aGlzLnVhLnN1YnNjcmlwdGlvbnNbdGhpcy5pZF0gPSB0aGlzO1xuICAgICAgICB0aGlzLmVtaXQoJ2FjY2VwdGVkJywgcmVzcG9uc2UsIGNhdXNlKTtcbiAgICAgICAgLy8gVVBEQVRFIFJPVVRFIFNFVCBUTyBCRSBCQUNLV0FSRFMgQ09NUEFUSUJMRT9cbiAgICAgIH1cblxuICAgICAgaWYgKGV4cGlyZXMgJiYgZXhwaXJlcyA8PSB0aGlzLmV4cGlyZXMpIHtcbiAgICAgICAgLy8gUHJlc2VydmUgbmV3IGV4cGlyZXMgdmFsdWUgZm9yIHN1YnNlcXVlbnQgcmVxdWVzdHNcbiAgICAgICAgdGhpcy5leHBpcmVzID0gZXhwaXJlcztcbiAgICAgICAgdGhpcy50aW1lcnMuc3ViX2R1cmF0aW9uID0gU0lQLlRpbWVycy5zZXRUaW1lb3V0KHN1Yi5yZWZyZXNoLmJpbmQoc3ViKSwgZXhwaXJlcyAqIDkwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWV4cGlyZXMpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdFeHBpcmVzIGhlYWRlciBtaXNzaW5nIGluIGEgMjAwLWNsYXNzIHJlc3BvbnNlIHRvIFNVQlNDUklCRScpO1xuICAgICAgICAgIHRoaXMuZmFpbGVkKHJlc3BvbnNlLCBTSVAuQy5FWFBJUkVTX0hFQURFUl9NSVNTSU5HKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdFeHBpcmVzIGhlYWRlciBpbiBhIDIwMC1jbGFzcyByZXNwb25zZSB0byBTVUJTQ1JJQkUgd2l0aCBhIGhpZ2hlciB2YWx1ZSB0aGFuIHRoZSBvbmUgaW4gdGhlIHJlcXVlc3QnKTtcbiAgICAgICAgICB0aGlzLmZhaWxlZChyZXNwb25zZSwgU0lQLkMuSU5WQUxJRF9FWFBJUkVTX0hFQURFUik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vVXNlZCB0byBqdXN0IGlnbm9yZSBwcm92aXNpb25hbCByZXNwb25zZXM7IG5vdyBpZ25vcmVzIGV2ZXJ5dGhpbmcgZXhjZXB0IGVycm9yQ29kZXMgYW5kIDJ4eFxuICB9LFxuXG4gIHVuc3Vic2NyaWJlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZXh0cmFIZWFkZXJzID0gW10sIHN1YiA9IHRoaXM7XG5cbiAgICB0aGlzLnN0YXRlID0gJ3Rlcm1pbmF0ZWQnO1xuXG4gICAgZXh0cmFIZWFkZXJzLnB1c2goJ0V2ZW50OiAnICsgdGhpcy5ldmVudCk7XG4gICAgZXh0cmFIZWFkZXJzLnB1c2goJ0V4cGlyZXM6IDAnKTtcblxuICAgIGV4dHJhSGVhZGVycy5wdXNoKCdDb250YWN0OiAnKyB0aGlzLmNvbnRhY3QpO1xuICAgIGV4dHJhSGVhZGVycy5wdXNoKCdBbGxvdzogJysgU0lQLlVBLkMuQUxMT1dFRF9NRVRIT0RTLnRvU3RyaW5nKCkpO1xuXG4gICAgLy9tYWtlcyBzdXJlIGV4cGlyZXMgaXNuJ3Qgc2V0LCBhbmQgb3RoZXIgdHlwaWNhbCByZXN1YnNjcmliZSBiZWhhdmlvclxuICAgIHRoaXMucmVjZWl2ZVJlc3BvbnNlID0gZnVuY3Rpb24oKXt9O1xuXG4gICAgdGhpcy5kaWFsb2cuc2VuZFJlcXVlc3QodGhpcywgdGhpcy5tZXRob2QsIHtcbiAgICAgIGV4dHJhSGVhZGVyczogZXh0cmFIZWFkZXJzLFxuICAgICAgYm9keTogdGhpcy5ib2R5XG4gICAgfSk7XG5cbiAgICBTSVAuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5zdWJfZHVyYXRpb24pO1xuICAgIFNJUC5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLk4pO1xuICAgIHRoaXMudGltZXJzLk4gPSBTSVAuVGltZXJzLnNldFRpbWVvdXQoc3ViLnRpbWVyX2ZpcmUuYmluZChzdWIpLCBTSVAuVGltZXJzLlRJTUVSX04pO1xuICB9LFxuXG4gIC8qKlxuICAqIEBwcml2YXRlXG4gICovXG4gIHRpbWVyX2ZpcmU6IGZ1bmN0aW9uKCl7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgdGhpcy50ZXJtaW5hdGVEaWFsb2coKTtcbiAgICAgIFNJUC5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLk4pO1xuICAgICAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQodGhpcy50aW1lcnMuc3ViX2R1cmF0aW9uKTtcblxuICAgICAgZGVsZXRlIHRoaXMudWEuc3Vic2NyaXB0aW9uc1t0aGlzLmlkXTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUgPT09ICdwZW5kaW5nJyB8fCB0aGlzLnN0YXRlID09PSAnbm90aWZ5X3dhaXQnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgKiBAcHJpdmF0ZVxuICAqL1xuICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgaWYodGhpcy5zdGF0ZSAhPT0gJ25vdGlmeV93YWl0JyAmJiB0aGlzLnN0YXRlICE9PSAndGVybWluYXRlZCcpIHtcbiAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICogQHByaXZhdGVcbiAgKi9cbiAgY3JlYXRlQ29uZmlybWVkRGlhbG9nOiBmdW5jdGlvbihtZXNzYWdlLCB0eXBlKSB7XG4gICAgdmFyIGRpYWxvZztcblxuICAgIHRoaXMudGVybWluYXRlRGlhbG9nKCk7XG4gICAgZGlhbG9nID0gbmV3IFNJUC5EaWFsb2codGhpcywgbWVzc2FnZSwgdHlwZSk7XG5cbiAgICBpZighZGlhbG9nLmVycm9yKSB7XG4gICAgICB0aGlzLmRpYWxvZyA9IGRpYWxvZztcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBEaWFsb2cgbm90IGNyZWF0ZWQgZHVlIHRvIGFuIGVycm9yXG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAqIEBwcml2YXRlXG4gICovXG4gIHRlcm1pbmF0ZURpYWxvZzogZnVuY3Rpb24oKSB7XG4gICAgaWYodGhpcy5kaWFsb2cpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnVhLnN1YnNjcmlwdGlvbnNbdGhpcy5pZF07XG4gICAgICB0aGlzLmRpYWxvZy50ZXJtaW5hdGUoKTtcbiAgICAgIGRlbGV0ZSB0aGlzLmRpYWxvZztcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICogQHByaXZhdGVcbiAgKi9cbiAgcmVjZWl2ZVJlcXVlc3Q6IGZ1bmN0aW9uKHJlcXVlc3QpIHtcbiAgICB2YXIgc3ViX3N0YXRlLCBzdWIgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gc2V0RXhwaXJlc1RpbWVvdXQoKSB7XG4gICAgICBpZiAoc3ViX3N0YXRlLmV4cGlyZXMpIHtcbiAgICAgICAgU0lQLlRpbWVycy5jbGVhclRpbWVvdXQoc3ViLnRpbWVycy5zdWJfZHVyYXRpb24pO1xuICAgICAgICBzdWJfc3RhdGUuZXhwaXJlcyA9IE1hdGgubWluKHN1Yi5leHBpcmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHN1Yl9zdGF0ZS5leHBpcmVzLCAwKSk7XG4gICAgICAgIHN1Yi50aW1lcnMuc3ViX2R1cmF0aW9uID0gU0lQLlRpbWVycy5zZXRUaW1lb3V0KHN1Yi5yZWZyZXNoLmJpbmQoc3ViKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJfc3RhdGUuZXhwaXJlcyAqIDkwMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1hdGNoRXZlbnQocmVxdWVzdCkpIHsgLy9jaGVja3MgZXZlbnQgYW5kIHN1YnNjcmlwdGlvbl9zdGF0ZSBoZWFkZXJzXG4gICAgICByZXF1ZXN0LnJlcGx5KDQ4OSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3ViX3N0YXRlID0gcmVxdWVzdC5wYXJzZUhlYWRlcignU3Vic2NyaXB0aW9uLVN0YXRlJyk7XG5cbiAgICByZXF1ZXN0LnJlcGx5KDIwMCwgU0lQLkMuUkVBU09OXzIwMCk7XG5cbiAgICBTSVAuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5OKTtcblxuICAgIHRoaXMuZW1pdCgnbm90aWZ5Jywge3JlcXVlc3Q6IHJlcXVlc3R9KTtcblxuICAgIC8vIGlmIHdlJ3ZlIHNldCBzdGF0ZSB0byB0ZXJtaW5hdGVkLCBubyBmdXJ0aGVyIHByb2Nlc3Npbmcgc2hvdWxkIHRha2UgcGxhY2VcbiAgICAvLyBhbmQgd2UgYXJlIG9ubHkgaW50ZXJlc3RlZCBpbiBjbGVhbmluZyB1cCBhZnRlciB0aGUgYXBwcm9wcmlhdGUgTk9USUZZXG4gICAgaWYgKHRoaXMuc3RhdGUgPT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgaWYgKHN1Yl9zdGF0ZS5zdGF0ZSA9PT0gJ3Rlcm1pbmF0ZWQnKSB7XG4gICAgICAgIHRoaXMudGVybWluYXRlRGlhbG9nKCk7XG4gICAgICAgIFNJUC5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLk4pO1xuICAgICAgICBTSVAuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5zdWJfZHVyYXRpb24pO1xuXG4gICAgICAgIGRlbGV0ZSB0aGlzLnVhLnN1YnNjcmlwdGlvbnNbdGhpcy5pZF07XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3dpdGNoIChzdWJfc3RhdGUuc3RhdGUpIHtcbiAgICAgIGNhc2UgJ2FjdGl2ZSc6XG4gICAgICAgIHRoaXMuc3RhdGUgPSAnYWN0aXZlJztcbiAgICAgICAgc2V0RXhwaXJlc1RpbWVvdXQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwZW5kaW5nJzpcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09ICdub3RpZnlfd2FpdCcpIHtcbiAgICAgICAgICBzZXRFeHBpcmVzVGltZW91dCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUgPSAncGVuZGluZyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGVybWluYXRlZCc6XG4gICAgICAgIFNJUC5UaW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMudGltZXJzLnN1Yl9kdXJhdGlvbik7XG4gICAgICAgIGlmIChzdWJfc3RhdGUucmVhc29uKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIubG9nKCd0ZXJtaW5hdGluZyBzdWJzY3JpcHRpb24gd2l0aCByZWFzb24gJysgc3ViX3N0YXRlLnJlYXNvbik7XG4gICAgICAgICAgc3dpdGNoIChzdWJfc3RhdGUucmVhc29uKSB7XG4gICAgICAgICAgICBjYXNlICdkZWFjdGl2YXRlZCc6XG4gICAgICAgICAgICBjYXNlICd0aW1lb3V0JzpcbiAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSAncHJvYmF0aW9uJzpcbiAgICAgICAgICAgIGNhc2UgJ2dpdmV1cCc6XG4gICAgICAgICAgICAgIGlmKHN1Yl9zdGF0ZS5wYXJhbXMgJiYgc3ViX3N0YXRlLnBhcmFtc1sncmV0cnktYWZ0ZXInXSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGltZXJzLnN1Yl9kdXJhdGlvbiA9IFNJUC5UaW1lcnMuc2V0VGltZW91dChzdWIuc3Vic2NyaWJlLmJpbmQoc3ViKSwgc3ViX3N0YXRlLnBhcmFtc1sncmV0cnktYWZ0ZXInXSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlICdyZWplY3RlZCc6XG4gICAgICAgICAgICBjYXNlICdub3Jlc291cmNlJzpcbiAgICAgICAgICAgIGNhc2UgJ2ludmFyaWFudCc6XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSxcblxuICBmYWlsZWQ6IGZ1bmN0aW9uKHJlc3BvbnNlLCBjYXVzZSkge1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgICB0aGlzLmVtaXQoJ2ZhaWxlZCcsIHJlc3BvbnNlLCBjYXVzZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgb25EaWFsb2dFcnJvcjogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICB0aGlzLmZhaWxlZChyZXNwb25zZSwgU0lQLkMuY2F1c2VzLkRJQUxPR19FUlJPUik7XG4gIH0sXG5cbiAgLyoqXG4gICogQHByaXZhdGVcbiAgKi9cbiAgbWF0Y2hFdmVudDogZnVuY3Rpb24ocmVxdWVzdCkge1xuICAgIHZhciBldmVudDtcblxuICAgIC8vIENoZWNrIG1hbmRhdG9yeSBoZWFkZXIgRXZlbnRcbiAgICBpZiAoIXJlcXVlc3QuaGFzSGVhZGVyKCdFdmVudCcpKSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdtaXNzaW5nIEV2ZW50IGhlYWRlcicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBDaGVjayBtYW5kYXRvcnkgaGVhZGVyIFN1YnNjcmlwdGlvbi1TdGF0ZVxuICAgIGlmICghcmVxdWVzdC5oYXNIZWFkZXIoJ1N1YnNjcmlwdGlvbi1TdGF0ZScpKSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdtaXNzaW5nIFN1YnNjcmlwdGlvbi1TdGF0ZSBoZWFkZXInKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayB3aGV0aGVyIHRoZSBldmVudCBpbiBOT1RJRlkgbWF0Y2hlcyB0aGUgZXZlbnQgaW4gU1VCU0NSSUJFXG4gICAgZXZlbnQgPSByZXF1ZXN0LnBhcnNlSGVhZGVyKCdldmVudCcpLmV2ZW50O1xuXG4gICAgaWYgKHRoaXMuZXZlbnQgIT09IGV2ZW50KSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdldmVudCBtYXRjaCBmYWlsZWQnKTtcbiAgICAgIHJlcXVlc3QucmVwbHkoNDgxLCAnRXZlbnQgTWF0Y2ggRmFpbGVkJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufTtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AdHdpbGlvL3NpcC5qcy9zcmMvU3Vic2NyaXB0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAzNjVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///365\n");

/***/ }),
/* 366 */
/*!***************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/WebRTC.js ***!
  \***************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview WebRTC\n */\n\nmodule.exports = function (SIP, environment) {\nvar WebRTC;\n\nWebRTC = {};\n\nWebRTC.MediaHandler = __webpack_require__(/*! ./WebRTC/MediaHandler */ 367)(SIP);\nWebRTC.MediaStreamManager = __webpack_require__(/*! ./WebRTC/MediaStreamManager */ 368)(SIP, environment);\n\nvar _isSupported;\n\nWebRTC.isSupported = function () {\n  if (_isSupported !== undefined) {\n    return _isSupported;\n  }\n\n  WebRTC.MediaStream = environment.MediaStream;\n  WebRTC.getUserMedia = environment.getUserMedia;\n  WebRTC.RTCPeerConnection = environment.RTCPeerConnection;\n  WebRTC.RTCSessionDescription = environment.RTCSessionDescription;\n\n  if (WebRTC.RTCPeerConnection && WebRTC.RTCSessionDescription) {\n    if (WebRTC.getUserMedia) {\n      WebRTC.getUserMedia = SIP.Utils.promisify(environment, 'getUserMedia');\n    }\n    _isSupported = true;\n  }\n  else {\n    _isSupported = false;\n  }\n  return _isSupported;\n};\n\nreturn WebRTC;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1dlYlJUQy5qcz8xOGUwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsc0JBQXNCLG1CQUFPLENBQUMsZ0NBQXVCO0FBQ3JELDRCQUE0QixtQkFBTyxDQUFDLHNDQUE2Qjs7QUFFakU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwiZmlsZSI6IjM2Ni5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFdlYlJUQ1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFNJUCwgZW52aXJvbm1lbnQpIHtcbnZhciBXZWJSVEM7XG5cbldlYlJUQyA9IHt9O1xuXG5XZWJSVEMuTWVkaWFIYW5kbGVyID0gcmVxdWlyZSgnLi9XZWJSVEMvTWVkaWFIYW5kbGVyJykoU0lQKTtcbldlYlJUQy5NZWRpYVN0cmVhbU1hbmFnZXIgPSByZXF1aXJlKCcuL1dlYlJUQy9NZWRpYVN0cmVhbU1hbmFnZXInKShTSVAsIGVudmlyb25tZW50KTtcblxudmFyIF9pc1N1cHBvcnRlZDtcblxuV2ViUlRDLmlzU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICBpZiAoX2lzU3VwcG9ydGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gX2lzU3VwcG9ydGVkO1xuICB9XG5cbiAgV2ViUlRDLk1lZGlhU3RyZWFtID0gZW52aXJvbm1lbnQuTWVkaWFTdHJlYW07XG4gIFdlYlJUQy5nZXRVc2VyTWVkaWEgPSBlbnZpcm9ubWVudC5nZXRVc2VyTWVkaWE7XG4gIFdlYlJUQy5SVENQZWVyQ29ubmVjdGlvbiA9IGVudmlyb25tZW50LlJUQ1BlZXJDb25uZWN0aW9uO1xuICBXZWJSVEMuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uID0gZW52aXJvbm1lbnQuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uO1xuXG4gIGlmIChXZWJSVEMuUlRDUGVlckNvbm5lY3Rpb24gJiYgV2ViUlRDLlJUQ1Nlc3Npb25EZXNjcmlwdGlvbikge1xuICAgIGlmIChXZWJSVEMuZ2V0VXNlck1lZGlhKSB7XG4gICAgICBXZWJSVEMuZ2V0VXNlck1lZGlhID0gU0lQLlV0aWxzLnByb21pc2lmeShlbnZpcm9ubWVudCwgJ2dldFVzZXJNZWRpYScpO1xuICAgIH1cbiAgICBfaXNTdXBwb3J0ZWQgPSB0cnVlO1xuICB9XG4gIGVsc2Uge1xuICAgIF9pc1N1cHBvcnRlZCA9IGZhbHNlO1xuICB9XG4gIHJldHVybiBfaXNTdXBwb3J0ZWQ7XG59O1xuXG5yZXR1cm4gV2ViUlRDO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0B0d2lsaW8vc2lwLmpzL3NyYy9XZWJSVEMuanNcbi8vIG1vZHVsZSBpZCA9IDM2NlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///366\n");

/***/ }),
/* 367 */
/*!****************************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/WebRTC/MediaHandler.js ***!
  \****************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview MediaHandler\n */\n\n/* MediaHandler\n * @class PeerConnection helper Class.\n * @param {SIP.Session} session\n * @param {Object} [options]\n * @param {SIP.WebRTC.MediaStreamManager} [options.mediaStreamManager]\n *        The MediaStreamManager to acquire/release streams from/to.\n *        If not provided, a default MediaStreamManager will be used.\n */\nmodule.exports = function (SIP) {\n\nvar MediaHandler = function(session, options) {\n  options = options || {};\n\n  this.logger = session.ua.getLogger('sip.invitecontext.mediahandler', session.id);\n  this.session = session;\n  this.localMedia = null;\n  this.ready = true;\n  this.mediaStreamManager = options.mediaStreamManager || new SIP.WebRTC.MediaStreamManager(this.logger);\n  this.audioMuted = false;\n  this.videoMuted = false;\n  this.local_hold = false;\n  this.remote_hold = false;\n\n  // old init() from here on\n  var servers = this.prepareIceServers(options.stunServers, options.turnServers);\n  this.RTCConstraints = options.RTCConstraints || {};\n\n  this.initPeerConnection(servers);\n\n  function selfEmit(mh, event) {\n    if (mh.mediaStreamManager.on) {\n      mh.mediaStreamManager.on(event, function () {\n        mh.emit.apply(mh, [event].concat(Array.prototype.slice.call(arguments)));\n      });\n    }\n  }\n\n  selfEmit(this, 'userMediaRequest');\n  selfEmit(this, 'userMedia');\n  selfEmit(this, 'userMediaFailed');\n};\n\nMediaHandler.defaultFactory = function defaultFactory (session, options) {\n  return new MediaHandler(session, options);\n};\nMediaHandler.defaultFactory.isSupported = function () {\n  return SIP.WebRTC.isSupported();\n};\n\nMediaHandler.prototype = Object.create(SIP.MediaHandler.prototype, {\n// Functions the session can use\n  isReady: {writable: true, value: function isReady () {\n    return this.ready;\n  }},\n\n  close: {writable: true, value: function close () {\n    this.logger.log('closing PeerConnection');\n    this._remoteStreams = [];\n    // have to check signalingState since this.close() gets called multiple times\n    // TODO figure out why that happens\n    if(this.peerConnection && this.peerConnection.signalingState !== 'closed') {\n      this.peerConnection.close();\n\n      if(this.localMedia) {\n        this.mediaStreamManager.release(this.localMedia);\n      }\n    }\n  }},\n\n  /**\n   * @param {SIP.WebRTC.MediaStream | (getUserMedia constraints)} [mediaHint]\n   *        the MediaStream (or the constraints describing it) to be used for the session\n   */\n  getDescription: {writable: true, value: function getDescription (mediaHint) {\n    var self = this;\n    var acquire = self.mediaStreamManager.acquire;\n    if (acquire.length > 1) {\n      acquire = SIP.Utils.promisify(this.mediaStreamManager, 'acquire', true);\n    }\n    mediaHint = mediaHint || {};\n    if (mediaHint.dataChannel === true) {\n      mediaHint.dataChannel = {};\n    }\n    this.mediaHint = mediaHint;\n\n    /*\n     * 1. acquire streams (skip if MediaStreams passed in)\n     * 2. addStreams\n     * 3. createOffer/createAnswer\n     */\n\n    var streamPromise;\n    if (self.localMedia) {\n      self.logger.log('already have local media');\n      streamPromise = SIP.Utils.Promise.resolve(self.localMedia);\n    }\n    else {\n      self.logger.log('acquiring local media');\n      streamPromise = acquire.call(self.mediaStreamManager, mediaHint)\n        .then(function acquireSucceeded(streams) {\n          self.logger.log('acquired local media streams');\n          self.localMedia = streams;\n          self.session.connecting();\n          return streams;\n        }, function acquireFailed(err) {\n          self.logger.error('unable to acquire streams');\n          self.logger.error(err);\n          self.session.connecting();\n          throw err;\n        })\n        .then(this.addStreams.bind(this))\n      ;\n    }\n\n    return streamPromise\n      .then(function streamAdditionSucceeded() {\n        if (self.hasOffer('remote')) {\n          self.peerConnection.ondatachannel = function (evt) {\n            self.dataChannel = evt.channel;\n            self.emit('dataChannel', self.dataChannel);\n          };\n        } else if (mediaHint.dataChannel &&\n                   self.peerConnection.createDataChannel) {\n          self.dataChannel = self.peerConnection.createDataChannel(\n            'sipjs',\n            mediaHint.dataChannel\n          );\n          self.emit('dataChannel', self.dataChannel);\n        }\n\n        self.render();\n        return self.createOfferOrAnswer(self.RTCConstraints);\n      })\n      .then(function(sdp) {\n        sdp = SIP.Hacks.Firefox.hasMissingCLineInSDP(sdp);\n\n        if (self.local_hold) {\n          // Don't receive media\n          // TODO - This will break for media streams with different directions.\n          if (!(/a=(sendrecv|sendonly|recvonly|inactive)/).test(sdp)) {\n            sdp = sdp.replace(/(m=[^\\r]*\\r\\n)/g, '$1a=sendonly\\r\\n');\n          } else {\n            sdp = sdp.replace(/a=sendrecv\\r\\n/g, 'a=sendonly\\r\\n');\n            sdp = sdp.replace(/a=recvonly\\r\\n/g, 'a=inactive\\r\\n');\n          }\n        }\n\n        return {\n          body: sdp,\n          contentType: 'application/sdp'\n        };\n      })\n    ;\n  }},\n\n  /**\n   * Check if a SIP message contains a session description.\n   * @param {SIP.SIPMessage} message\n   * @returns {boolean}\n   */\n  hasDescription: {writeable: true, value: function hasDescription (message) {\n    return message.getHeader('Content-Type') === 'application/sdp' && !!message.body;\n  }},\n\n  /**\n   * Set the session description contained in a SIP message.\n   * @param {SIP.SIPMessage} message\n   * @returns {Promise}\n   */\n  setDescription: {writable: true, value: function setDescription (message) {\n    var sdp = message.body;\n\n    this.remote_hold = /a=(sendonly|inactive)/.test(sdp);\n\n    sdp = SIP.Hacks.Firefox.cannotHandleExtraWhitespace(sdp);\n    sdp = SIP.Hacks.AllBrowsers.maskDtls(sdp);\n\n    var rawDescription = {\n      type: this.hasOffer('local') ? 'answer' : 'offer',\n      sdp: sdp\n    };\n\n    this.emit('setDescription', rawDescription);\n\n    var description = new SIP.WebRTC.RTCSessionDescription(rawDescription);\n    return SIP.Utils.promisify(this.peerConnection, 'setRemoteDescription')(description);\n  }},\n\n  /**\n   * If the Session associated with this MediaHandler were to be referred,\n   * what mediaHint should be provided to the UA's invite method?\n   */\n  getReferMedia: {writable: true, value: function getReferMedia () {\n    function hasTracks (trackGetter, stream) {\n      return stream[trackGetter]().length > 0;\n    }\n\n    function bothHaveTracks (trackGetter) {\n      /* jshint validthis:true */\n      return this.getLocalStreams().some(hasTracks.bind(null, trackGetter)) &&\n             this.getRemoteStreams().some(hasTracks.bind(null, trackGetter));\n    }\n\n    return {\n      constraints: {\n        audio: bothHaveTracks.call(this, 'getAudioTracks'),\n        video: bothHaveTracks.call(this, 'getVideoTracks')\n      }\n    };\n  }},\n\n  updateIceServers: {writeable:true, value: function (options) {\n    var servers = this.prepareIceServers(options.stunServers, options.turnServers);\n    this.RTCConstraints = options.RTCConstraints || this.RTCConstraints;\n\n    this.initPeerConnection(servers);\n\n    /* once updateIce is implemented correctly, this is better than above\n    //no op if browser does not support this\n    if (!this.peerConnection.updateIce) {\n      return;\n    }\n\n    this.peerConnection.updateIce({'iceServers': servers}, this.RTCConstraints);\n    */\n  }},\n\n// Functions the session can use, but only because it's convenient for the application\n  isMuted: {writable: true, value: function isMuted () {\n    return {\n      audio: this.audioMuted,\n      video: this.videoMuted\n    };\n  }},\n\n  mute: {writable: true, value: function mute (options) {\n    if (this.getLocalStreams().length === 0) {\n      return;\n    }\n\n    options = options || {\n      audio: this.getLocalStreams()[0].getAudioTracks().length > 0,\n      video: this.getLocalStreams()[0].getVideoTracks().length > 0\n    };\n\n    var audioMuted = false,\n        videoMuted = false;\n\n    if (options.audio && !this.audioMuted) {\n      audioMuted = true;\n      this.audioMuted = true;\n      this.toggleMuteAudio(true);\n    }\n\n    if (options.video && !this.videoMuted) {\n      videoMuted = true;\n      this.videoMuted = true;\n      this.toggleMuteVideo(true);\n    }\n\n    //REVISIT\n    if (audioMuted || videoMuted) {\n      return {\n        audio: audioMuted,\n        video: videoMuted\n      };\n      /*this.session.onmute({\n        audio: audioMuted,\n        video: videoMuted\n      });*/\n    }\n  }},\n\n  unmute: {writable: true, value: function unmute (options) {\n    if (this.getLocalStreams().length === 0) {\n      return;\n    }\n\n    options = options || {\n      audio: this.getLocalStreams()[0].getAudioTracks().length > 0,\n      video: this.getLocalStreams()[0].getVideoTracks().length > 0\n    };\n\n    var audioUnMuted = false,\n        videoUnMuted = false;\n\n    if (options.audio && this.audioMuted) {\n      audioUnMuted = true;\n      this.audioMuted = false;\n      this.toggleMuteAudio(false);\n    }\n\n    if (options.video && this.videoMuted) {\n      videoUnMuted = true;\n      this.videoMuted = false;\n      this.toggleMuteVideo(false);\n    }\n\n    //REVISIT\n    if (audioUnMuted || videoUnMuted) {\n      return {\n        audio: audioUnMuted,\n        video: videoUnMuted\n      };\n      /*this.session.onunmute({\n        audio: audioUnMuted,\n        video: videoUnMuted\n      });*/\n    }\n  }},\n\n  hold: {writable: true, value: function hold () {\n    this.local_hold = true;\n    this.toggleMuteAudio(true);\n    this.toggleMuteVideo(true);\n  }},\n\n  unhold: {writable: true, value: function unhold () {\n    this.local_hold = false;\n\n    if (!this.audioMuted) {\n      this.toggleMuteAudio(false);\n    }\n\n    if (!this.videoMuted) {\n      this.toggleMuteVideo(false);\n    }\n  }},\n\n// Functions the application can use, but not the session\n  getLocalStreams: {writable: true, value: function getLocalStreams () {\n    var pc = this.peerConnection;\n    if (pc && pc.signalingState === 'closed') {\n      this.logger.warn('peerConnection is closed, getLocalStreams returning []');\n      return [];\n    }\n    return (pc.getLocalStreams && pc.getLocalStreams()) ||\n      pc.localStreams || [];\n  }},\n\n  getRemoteStreams: {writable: true, value: function getRemoteStreams () {\n    var pc = this.peerConnection;\n    if (pc && pc.signalingState === 'closed') {\n      this.logger.warn('peerConnection is closed, getRemoteStreams returning this._remoteStreams');\n      return this._remoteStreams;\n    }\n    return(pc.getRemoteStreams && pc.getRemoteStreams()) ||\n      pc.remoteStreams || [];\n  }},\n\n  render: {writable: true, value: function render (renderHint) {\n    renderHint = renderHint || (this.mediaHint && this.mediaHint.render);\n    if (!renderHint) {\n      return false;\n    }\n    var streamGetters = {\n      local: 'getLocalStreams',\n      remote: 'getRemoteStreams'\n    };\n    Object.keys(streamGetters).forEach(function (loc) {\n      var streamGetter = streamGetters[loc];\n      var streams = this[streamGetter]();\n      SIP.WebRTC.MediaStreamManager.render(streams, renderHint[loc]);\n    }.bind(this));\n  }},\n\n// Internal functions\n  hasOffer: {writable: true, value: function hasOffer (where) {\n    var offerState = 'have-' + where + '-offer';\n    return this.peerConnection.signalingState === offerState;\n    // TODO consider signalingStates with 'pranswer'?\n  }},\n\n  prepareIceServers: {writable: true, value: function prepareIceServers (stunServers, turnServers) {\n    var servers = [],\n      config = this.session.ua.configuration;\n\n    stunServers = stunServers || config.stunServers;\n    turnServers = turnServers || config.turnServers;\n\n    [].concat(stunServers).forEach(function (server) {\n      servers.push({'urls': server});\n    });\n\n    [].concat(turnServers).forEach(function (server) {\n      servers.push({\n        'urls': server.urls,\n        'username': server.username,\n        'credential': server.password\n      });\n    });\n\n    return servers;\n  }},\n\n  initPeerConnection: {writable: true, value: function initPeerConnection(servers) {\n    var self = this,\n      config = this.session.ua.configuration;\n\n    this.onIceCompleted = SIP.Utils.defer();\n    this.onIceCompleted.promise.then(function(pc) {\n      self.emit('iceGatheringComplete', pc);\n      if (self.iceCheckingTimer) {\n        SIP.Timers.clearTimeout(self.iceCheckingTimer);\n        self.iceCheckingTimer = null;\n      }\n    });\n\n    if (this.peerConnection) {\n      this.peerConnection.close();\n    }\n\n    this.peerConnection = new SIP.WebRTC.RTCPeerConnection({'iceServers': servers});\n\n    // Firefox (35.0.1) sometimes throws on calls to peerConnection.getRemoteStreams\n    // even if peerConnection.onaddstream was just called. In order to make\n    // MediaHandler.prototype.getRemoteStreams work, keep track of them manually\n    this._remoteStreams = [];\n\n    this.peerConnection.onaddstream = function(e) {\n      self.logger.log('stream added: '+ e.stream.id);\n      self._remoteStreams.push(e.stream);\n      self.render();\n      self.emit('addStream', e);\n    };\n\n    this.peerConnection.onremovestream = function(e) {\n      self.logger.log('stream removed: '+ e.stream.id);\n    };\n\n    this.startIceCheckingTimer = function () {\n      if (!self.iceCheckingTimer) {\n        self.iceCheckingTimer = SIP.Timers.setTimeout(function() {\n          self.logger.log('RTCIceChecking Timeout Triggered after '+config.iceCheckingTimeout+' milliseconds');\n          self.onIceCompleted.resolve(this);\n        }.bind(this.peerConnection), config.iceCheckingTimeout);\n      }\n    };\n\n    this.peerConnection.onicecandidate = function(e) {\n      self.emit('iceCandidate', e);\n      if (e.candidate) {\n        self.logger.log('ICE candidate received: '+ (e.candidate.candidate === null ? null : e.candidate.candidate.trim()));\n        self.startIceCheckingTimer();\n      } else {\n        self.onIceCompleted.resolve(this);\n      }\n    };\n\n    this.peerConnection.onicegatheringstatechange = function () {\n      self.logger.log('RTCIceGatheringState changed: ' + this.iceGatheringState);\n      if (this.iceGatheringState === 'gathering') {\n        self.emit('iceGathering', this);\n      }\n      if (this.iceGatheringState === 'complete') {\n        self.onIceCompleted.resolve(this);\n      }\n    };\n\n    this.peerConnection.oniceconnectionstatechange = function() {  //need e for commented out case\n      var stateEvent;\n\n      if (this.iceConnectionState === 'checking') {\n        self.startIceCheckingTimer();\n      }\n\n      switch (this.iceConnectionState) {\n      case 'new':\n        stateEvent = 'iceConnection';\n        break;\n      case 'checking':\n        stateEvent = 'iceConnectionChecking';\n        break;\n      case 'connected':\n        stateEvent = 'iceConnectionConnected';\n        break;\n      case 'completed':\n        stateEvent = 'iceConnectionCompleted';\n        break;\n      case 'failed':\n        stateEvent = 'iceConnectionFailed';\n        break;\n      case 'disconnected':\n        stateEvent = 'iceConnectionDisconnected';\n        break;\n      case 'closed':\n        stateEvent = 'iceConnectionClosed';\n        break;\n      default:\n        self.logger.warn('Unknown iceConnection state:', this.iceConnectionState);\n        return;\n      }\n      self.emit(stateEvent, this);\n\n      //Bria state changes are always connected -> disconnected -> connected on accept, so session gets terminated\n      //normal calls switch from failed to connected in some cases, so checking for failed and terminated\n      /*if (this.iceConnectionState === 'failed') {\n        self.session.terminate({\n        cause: SIP.C.causes.RTP_TIMEOUT,\n        status_code: 200,\n        reason_phrase: SIP.C.causes.RTP_TIMEOUT\n      });\n      } else if (e.currentTarget.iceGatheringState === 'complete' && this.iceConnectionState !== 'closed') {\n      self.onIceCompleted(this);\n      }*/\n    };\n\n    this.peerConnection.onstatechange = function() {\n      self.logger.log('PeerConnection state changed to \"'+ this.readyState +'\"');\n    };\n  }},\n\n  createOfferOrAnswer: {writable: true, value: function createOfferOrAnswer (constraints) {\n    var self = this;\n    var methodName;\n    var pc = self.peerConnection;\n\n    self.ready = false;\n    methodName = self.hasOffer('remote') ? 'createAnswer' : 'createOffer';\n\n    return SIP.Utils.promisify(pc, methodName, true)(constraints)\n      .then(SIP.Utils.promisify(pc, 'setLocalDescription'))\n      .then(function onSetLocalDescriptionSuccess() {\n        var deferred = SIP.Utils.defer();\n        if (pc.iceConnectionState === 'complete' || pc.iceConnectionState === 'completed') {\n          deferred.resolve();\n        } else {\n          self.onIceCompleted.promise.then(deferred.resolve);\n        }\n        return deferred.promise;\n      })\n      .then(function readySuccess () {\n        var sdp = pc.localDescription.sdp;\n\n        sdp = SIP.Hacks.Chrome.needsExplicitlyInactiveSDP(sdp);\n        sdp = SIP.Hacks.AllBrowsers.unmaskDtls(sdp);\n\n        var sdpWrapper = {\n          type: methodName === 'createOffer' ? 'offer' : 'answer',\n          sdp: sdp\n        };\n\n        self.emit('getDescription', sdpWrapper);\n\n        if (self.session.ua.configuration.hackStripTcp) {\n          sdpWrapper.sdp = sdpWrapper.sdp.replace(/^a=candidate:\\d+ \\d+ tcp .*?\\r\\n/img, \"\");\n        }\n\n        self.ready = true;\n        return sdpWrapper.sdp;\n      })\n      .catch(function methodFailed (e) {\n        self.logger.error(e);\n        self.ready = true;\n        throw new SIP.Exceptions.GetDescriptionError(e);\n      })\n    ;\n  }},\n\n  addStreams: {writable: true, value: function addStreams (streams) {\n    try {\n      streams = [].concat(streams);\n      streams.forEach(function (stream) {\n        this.peerConnection.addStream(stream);\n      }, this);\n    } catch(e) {\n      this.logger.error('error adding stream');\n      this.logger.error(e);\n      return SIP.Utils.Promise.reject(e);\n    }\n\n    return SIP.Utils.Promise.resolve();\n  }},\n\n  toggleMuteHelper: {writable: true, value: function toggleMuteHelper (trackGetter, mute) {\n    this.getLocalStreams().forEach(function (stream) {\n      stream[trackGetter]().forEach(function (track) {\n        track.enabled = !mute;\n      });\n    });\n  }},\n\n  toggleMuteAudio: {writable: true, value: function toggleMuteAudio (mute) {\n    this.toggleMuteHelper('getAudioTracks', mute);\n  }},\n\n  toggleMuteVideo: {writable: true, value: function toggleMuteVideo (mute) {\n    this.toggleMuteHelper('getVideoTracks', mute);\n  }}\n});\n\n// Return since it will be assigned to a variable.\nreturn MediaHandler;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1dlYlJUQy9NZWRpYUhhbmRsZXIuanM/YTgxMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsT0FBTztBQUNsQixXQUFXLDhCQUE4QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBLElBQUk7O0FBRUosVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQSxhQUFhLG9EQUFvRDtBQUNqRTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0EsYUFBYSxlQUFlO0FBQzVCLGVBQWU7QUFDZjtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBLGFBQWEsZUFBZTtBQUM1QixlQUFlO0FBQ2Y7QUFDQSxtQkFBbUI7QUFDbkI7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKLHFCQUFxQjtBQUNyQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUNBQW1DLHNCQUFzQjtBQUN6RDtBQUNBLElBQUk7O0FBRUo7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxFQUFFO0FBQ1Q7QUFDQSxJQUFJOztBQUVKLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxFQUFFO0FBQ1Q7QUFDQSxJQUFJOztBQUVKLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUoscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSixXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7O0FBRUo7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSixzQkFBc0I7QUFDdEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLGVBQWU7QUFDbkMsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7O0FBRUw7QUFDQSxJQUFJOztBQUVKLHVCQUF1QjtBQUN2QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUEsNERBQTRELHNCQUFzQjs7QUFFbEY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlFQUFpRTtBQUNqRTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLElBQUk7O0FBRUosZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7O0FBRUoscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsSUFBSTs7QUFFSixvQkFBb0I7QUFDcEI7QUFDQSxJQUFJOztBQUVKLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EiLCJmaWxlIjoiMzY3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgTWVkaWFIYW5kbGVyXG4gKi9cblxuLyogTWVkaWFIYW5kbGVyXG4gKiBAY2xhc3MgUGVlckNvbm5lY3Rpb24gaGVscGVyIENsYXNzLlxuICogQHBhcmFtIHtTSVAuU2Vzc2lvbn0gc2Vzc2lvblxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtTSVAuV2ViUlRDLk1lZGlhU3RyZWFtTWFuYWdlcn0gW29wdGlvbnMubWVkaWFTdHJlYW1NYW5hZ2VyXVxuICogICAgICAgIFRoZSBNZWRpYVN0cmVhbU1hbmFnZXIgdG8gYWNxdWlyZS9yZWxlYXNlIHN0cmVhbXMgZnJvbS90by5cbiAqICAgICAgICBJZiBub3QgcHJvdmlkZWQsIGEgZGVmYXVsdCBNZWRpYVN0cmVhbU1hbmFnZXIgd2lsbCBiZSB1c2VkLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChTSVApIHtcblxudmFyIE1lZGlhSGFuZGxlciA9IGZ1bmN0aW9uKHNlc3Npb24sIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdGhpcy5sb2dnZXIgPSBzZXNzaW9uLnVhLmdldExvZ2dlcignc2lwLmludml0ZWNvbnRleHQubWVkaWFoYW5kbGVyJywgc2Vzc2lvbi5pZCk7XG4gIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gIHRoaXMubG9jYWxNZWRpYSA9IG51bGw7XG4gIHRoaXMucmVhZHkgPSB0cnVlO1xuICB0aGlzLm1lZGlhU3RyZWFtTWFuYWdlciA9IG9wdGlvbnMubWVkaWFTdHJlYW1NYW5hZ2VyIHx8IG5ldyBTSVAuV2ViUlRDLk1lZGlhU3RyZWFtTWFuYWdlcih0aGlzLmxvZ2dlcik7XG4gIHRoaXMuYXVkaW9NdXRlZCA9IGZhbHNlO1xuICB0aGlzLnZpZGVvTXV0ZWQgPSBmYWxzZTtcbiAgdGhpcy5sb2NhbF9ob2xkID0gZmFsc2U7XG4gIHRoaXMucmVtb3RlX2hvbGQgPSBmYWxzZTtcblxuICAvLyBvbGQgaW5pdCgpIGZyb20gaGVyZSBvblxuICB2YXIgc2VydmVycyA9IHRoaXMucHJlcGFyZUljZVNlcnZlcnMob3B0aW9ucy5zdHVuU2VydmVycywgb3B0aW9ucy50dXJuU2VydmVycyk7XG4gIHRoaXMuUlRDQ29uc3RyYWludHMgPSBvcHRpb25zLlJUQ0NvbnN0cmFpbnRzIHx8IHt9O1xuXG4gIHRoaXMuaW5pdFBlZXJDb25uZWN0aW9uKHNlcnZlcnMpO1xuXG4gIGZ1bmN0aW9uIHNlbGZFbWl0KG1oLCBldmVudCkge1xuICAgIGlmIChtaC5tZWRpYVN0cmVhbU1hbmFnZXIub24pIHtcbiAgICAgIG1oLm1lZGlhU3RyZWFtTWFuYWdlci5vbihldmVudCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBtaC5lbWl0LmFwcGx5KG1oLCBbZXZlbnRdLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBzZWxmRW1pdCh0aGlzLCAndXNlck1lZGlhUmVxdWVzdCcpO1xuICBzZWxmRW1pdCh0aGlzLCAndXNlck1lZGlhJyk7XG4gIHNlbGZFbWl0KHRoaXMsICd1c2VyTWVkaWFGYWlsZWQnKTtcbn07XG5cbk1lZGlhSGFuZGxlci5kZWZhdWx0RmFjdG9yeSA9IGZ1bmN0aW9uIGRlZmF1bHRGYWN0b3J5IChzZXNzaW9uLCBvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgTWVkaWFIYW5kbGVyKHNlc3Npb24sIG9wdGlvbnMpO1xufTtcbk1lZGlhSGFuZGxlci5kZWZhdWx0RmFjdG9yeS5pc1N1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIFNJUC5XZWJSVEMuaXNTdXBwb3J0ZWQoKTtcbn07XG5cbk1lZGlhSGFuZGxlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNJUC5NZWRpYUhhbmRsZXIucHJvdG90eXBlLCB7XG4vLyBGdW5jdGlvbnMgdGhlIHNlc3Npb24gY2FuIHVzZVxuICBpc1JlYWR5OiB7d3JpdGFibGU6IHRydWUsIHZhbHVlOiBmdW5jdGlvbiBpc1JlYWR5ICgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeTtcbiAgfX0sXG5cbiAgY2xvc2U6IHt3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlICgpIHtcbiAgICB0aGlzLmxvZ2dlci5sb2coJ2Nsb3NpbmcgUGVlckNvbm5lY3Rpb24nKTtcbiAgICB0aGlzLl9yZW1vdGVTdHJlYW1zID0gW107XG4gICAgLy8gaGF2ZSB0byBjaGVjayBzaWduYWxpbmdTdGF0ZSBzaW5jZSB0aGlzLmNsb3NlKCkgZ2V0cyBjYWxsZWQgbXVsdGlwbGUgdGltZXNcbiAgICAvLyBUT0RPIGZpZ3VyZSBvdXQgd2h5IHRoYXQgaGFwcGVuc1xuICAgIGlmKHRoaXMucGVlckNvbm5lY3Rpb24gJiYgdGhpcy5wZWVyQ29ubmVjdGlvbi5zaWduYWxpbmdTdGF0ZSAhPT0gJ2Nsb3NlZCcpIHtcbiAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcblxuICAgICAgaWYodGhpcy5sb2NhbE1lZGlhKSB7XG4gICAgICAgIHRoaXMubWVkaWFTdHJlYW1NYW5hZ2VyLnJlbGVhc2UodGhpcy5sb2NhbE1lZGlhKTtcbiAgICAgIH1cbiAgICB9XG4gIH19LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1NJUC5XZWJSVEMuTWVkaWFTdHJlYW0gfCAoZ2V0VXNlck1lZGlhIGNvbnN0cmFpbnRzKX0gW21lZGlhSGludF1cbiAgICogICAgICAgIHRoZSBNZWRpYVN0cmVhbSAob3IgdGhlIGNvbnN0cmFpbnRzIGRlc2NyaWJpbmcgaXQpIHRvIGJlIHVzZWQgZm9yIHRoZSBzZXNzaW9uXG4gICAqL1xuICBnZXREZXNjcmlwdGlvbjoge3dyaXRhYmxlOiB0cnVlLCB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVzY3JpcHRpb24gKG1lZGlhSGludCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYWNxdWlyZSA9IHNlbGYubWVkaWFTdHJlYW1NYW5hZ2VyLmFjcXVpcmU7XG4gICAgaWYgKGFjcXVpcmUubGVuZ3RoID4gMSkge1xuICAgICAgYWNxdWlyZSA9IFNJUC5VdGlscy5wcm9taXNpZnkodGhpcy5tZWRpYVN0cmVhbU1hbmFnZXIsICdhY3F1aXJlJywgdHJ1ZSk7XG4gICAgfVxuICAgIG1lZGlhSGludCA9IG1lZGlhSGludCB8fCB7fTtcbiAgICBpZiAobWVkaWFIaW50LmRhdGFDaGFubmVsID09PSB0cnVlKSB7XG4gICAgICBtZWRpYUhpbnQuZGF0YUNoYW5uZWwgPSB7fTtcbiAgICB9XG4gICAgdGhpcy5tZWRpYUhpbnQgPSBtZWRpYUhpbnQ7XG5cbiAgICAvKlxuICAgICAqIDEuIGFjcXVpcmUgc3RyZWFtcyAoc2tpcCBpZiBNZWRpYVN0cmVhbXMgcGFzc2VkIGluKVxuICAgICAqIDIuIGFkZFN0cmVhbXNcbiAgICAgKiAzLiBjcmVhdGVPZmZlci9jcmVhdGVBbnN3ZXJcbiAgICAgKi9cblxuICAgIHZhciBzdHJlYW1Qcm9taXNlO1xuICAgIGlmIChzZWxmLmxvY2FsTWVkaWEpIHtcbiAgICAgIHNlbGYubG9nZ2VyLmxvZygnYWxyZWFkeSBoYXZlIGxvY2FsIG1lZGlhJyk7XG4gICAgICBzdHJlYW1Qcm9taXNlID0gU0lQLlV0aWxzLlByb21pc2UucmVzb2x2ZShzZWxmLmxvY2FsTWVkaWEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHNlbGYubG9nZ2VyLmxvZygnYWNxdWlyaW5nIGxvY2FsIG1lZGlhJyk7XG4gICAgICBzdHJlYW1Qcm9taXNlID0gYWNxdWlyZS5jYWxsKHNlbGYubWVkaWFTdHJlYW1NYW5hZ2VyLCBtZWRpYUhpbnQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIGFjcXVpcmVTdWNjZWVkZWQoc3RyZWFtcykge1xuICAgICAgICAgIHNlbGYubG9nZ2VyLmxvZygnYWNxdWlyZWQgbG9jYWwgbWVkaWEgc3RyZWFtcycpO1xuICAgICAgICAgIHNlbGYubG9jYWxNZWRpYSA9IHN0cmVhbXM7XG4gICAgICAgICAgc2VsZi5zZXNzaW9uLmNvbm5lY3RpbmcoKTtcbiAgICAgICAgICByZXR1cm4gc3RyZWFtcztcbiAgICAgICAgfSwgZnVuY3Rpb24gYWNxdWlyZUZhaWxlZChlcnIpIHtcbiAgICAgICAgICBzZWxmLmxvZ2dlci5lcnJvcigndW5hYmxlIHRvIGFjcXVpcmUgc3RyZWFtcycpO1xuICAgICAgICAgIHNlbGYubG9nZ2VyLmVycm9yKGVycik7XG4gICAgICAgICAgc2VsZi5zZXNzaW9uLmNvbm5lY3RpbmcoKTtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKHRoaXMuYWRkU3RyZWFtcy5iaW5kKHRoaXMpKVxuICAgICAgO1xuICAgIH1cblxuICAgIHJldHVybiBzdHJlYW1Qcm9taXNlXG4gICAgICAudGhlbihmdW5jdGlvbiBzdHJlYW1BZGRpdGlvblN1Y2NlZWRlZCgpIHtcbiAgICAgICAgaWYgKHNlbGYuaGFzT2ZmZXIoJ3JlbW90ZScpKSB7XG4gICAgICAgICAgc2VsZi5wZWVyQ29ubmVjdGlvbi5vbmRhdGFjaGFubmVsID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgc2VsZi5kYXRhQ2hhbm5lbCA9IGV2dC5jaGFubmVsO1xuICAgICAgICAgICAgc2VsZi5lbWl0KCdkYXRhQ2hhbm5lbCcsIHNlbGYuZGF0YUNoYW5uZWwpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAobWVkaWFIaW50LmRhdGFDaGFubmVsICYmXG4gICAgICAgICAgICAgICAgICAgc2VsZi5wZWVyQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbCkge1xuICAgICAgICAgIHNlbGYuZGF0YUNoYW5uZWwgPSBzZWxmLnBlZXJDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVsKFxuICAgICAgICAgICAgJ3NpcGpzJyxcbiAgICAgICAgICAgIG1lZGlhSGludC5kYXRhQ2hhbm5lbFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2VsZi5lbWl0KCdkYXRhQ2hhbm5lbCcsIHNlbGYuZGF0YUNoYW5uZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5yZW5kZXIoKTtcbiAgICAgICAgcmV0dXJuIHNlbGYuY3JlYXRlT2ZmZXJPckFuc3dlcihzZWxmLlJUQ0NvbnN0cmFpbnRzKTtcbiAgICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbihzZHApIHtcbiAgICAgICAgc2RwID0gU0lQLkhhY2tzLkZpcmVmb3guaGFzTWlzc2luZ0NMaW5lSW5TRFAoc2RwKTtcblxuICAgICAgICBpZiAoc2VsZi5sb2NhbF9ob2xkKSB7XG4gICAgICAgICAgLy8gRG9uJ3QgcmVjZWl2ZSBtZWRpYVxuICAgICAgICAgIC8vIFRPRE8gLSBUaGlzIHdpbGwgYnJlYWsgZm9yIG1lZGlhIHN0cmVhbXMgd2l0aCBkaWZmZXJlbnQgZGlyZWN0aW9ucy5cbiAgICAgICAgICBpZiAoISgvYT0oc2VuZHJlY3Z8c2VuZG9ubHl8cmVjdm9ubHl8aW5hY3RpdmUpLykudGVzdChzZHApKSB7XG4gICAgICAgICAgICBzZHAgPSBzZHAucmVwbGFjZSgvKG09W15cXHJdKlxcclxcbikvZywgJyQxYT1zZW5kb25seVxcclxcbicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZHAgPSBzZHAucmVwbGFjZSgvYT1zZW5kcmVjdlxcclxcbi9nLCAnYT1zZW5kb25seVxcclxcbicpO1xuICAgICAgICAgICAgc2RwID0gc2RwLnJlcGxhY2UoL2E9cmVjdm9ubHlcXHJcXG4vZywgJ2E9aW5hY3RpdmVcXHJcXG4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGJvZHk6IHNkcCxcbiAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL3NkcCdcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgO1xuICB9fSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBTSVAgbWVzc2FnZSBjb250YWlucyBhIHNlc3Npb24gZGVzY3JpcHRpb24uXG4gICAqIEBwYXJhbSB7U0lQLlNJUE1lc3NhZ2V9IG1lc3NhZ2VcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBoYXNEZXNjcmlwdGlvbjoge3dyaXRlYWJsZTogdHJ1ZSwgdmFsdWU6IGZ1bmN0aW9uIGhhc0Rlc2NyaXB0aW9uIChtZXNzYWdlKSB7XG4gICAgcmV0dXJuIG1lc3NhZ2UuZ2V0SGVhZGVyKCdDb250ZW50LVR5cGUnKSA9PT0gJ2FwcGxpY2F0aW9uL3NkcCcgJiYgISFtZXNzYWdlLmJvZHk7XG4gIH19LFxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHNlc3Npb24gZGVzY3JpcHRpb24gY29udGFpbmVkIGluIGEgU0lQIG1lc3NhZ2UuXG4gICAqIEBwYXJhbSB7U0lQLlNJUE1lc3NhZ2V9IG1lc3NhZ2VcbiAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAqL1xuICBzZXREZXNjcmlwdGlvbjoge3dyaXRhYmxlOiB0cnVlLCB2YWx1ZTogZnVuY3Rpb24gc2V0RGVzY3JpcHRpb24gKG1lc3NhZ2UpIHtcbiAgICB2YXIgc2RwID0gbWVzc2FnZS5ib2R5O1xuXG4gICAgdGhpcy5yZW1vdGVfaG9sZCA9IC9hPShzZW5kb25seXxpbmFjdGl2ZSkvLnRlc3Qoc2RwKTtcblxuICAgIHNkcCA9IFNJUC5IYWNrcy5GaXJlZm94LmNhbm5vdEhhbmRsZUV4dHJhV2hpdGVzcGFjZShzZHApO1xuICAgIHNkcCA9IFNJUC5IYWNrcy5BbGxCcm93c2Vycy5tYXNrRHRscyhzZHApO1xuXG4gICAgdmFyIHJhd0Rlc2NyaXB0aW9uID0ge1xuICAgICAgdHlwZTogdGhpcy5oYXNPZmZlcignbG9jYWwnKSA/ICdhbnN3ZXInIDogJ29mZmVyJyxcbiAgICAgIHNkcDogc2RwXG4gICAgfTtcblxuICAgIHRoaXMuZW1pdCgnc2V0RGVzY3JpcHRpb24nLCByYXdEZXNjcmlwdGlvbik7XG5cbiAgICB2YXIgZGVzY3JpcHRpb24gPSBuZXcgU0lQLldlYlJUQy5SVENTZXNzaW9uRGVzY3JpcHRpb24ocmF3RGVzY3JpcHRpb24pO1xuICAgIHJldHVybiBTSVAuVXRpbHMucHJvbWlzaWZ5KHRoaXMucGVlckNvbm5lY3Rpb24sICdzZXRSZW1vdGVEZXNjcmlwdGlvbicpKGRlc2NyaXB0aW9uKTtcbiAgfX0sXG5cbiAgLyoqXG4gICAqIElmIHRoZSBTZXNzaW9uIGFzc29jaWF0ZWQgd2l0aCB0aGlzIE1lZGlhSGFuZGxlciB3ZXJlIHRvIGJlIHJlZmVycmVkLFxuICAgKiB3aGF0IG1lZGlhSGludCBzaG91bGQgYmUgcHJvdmlkZWQgdG8gdGhlIFVBJ3MgaW52aXRlIG1ldGhvZD9cbiAgICovXG4gIGdldFJlZmVyTWVkaWE6IHt3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IGZ1bmN0aW9uIGdldFJlZmVyTWVkaWEgKCkge1xuICAgIGZ1bmN0aW9uIGhhc1RyYWNrcyAodHJhY2tHZXR0ZXIsIHN0cmVhbSkge1xuICAgICAgcmV0dXJuIHN0cmVhbVt0cmFja0dldHRlcl0oKS5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJvdGhIYXZlVHJhY2tzICh0cmFja0dldHRlcikge1xuICAgICAgLyoganNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICByZXR1cm4gdGhpcy5nZXRMb2NhbFN0cmVhbXMoKS5zb21lKGhhc1RyYWNrcy5iaW5kKG51bGwsIHRyYWNrR2V0dGVyKSkgJiZcbiAgICAgICAgICAgICB0aGlzLmdldFJlbW90ZVN0cmVhbXMoKS5zb21lKGhhc1RyYWNrcy5iaW5kKG51bGwsIHRyYWNrR2V0dGVyKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnN0cmFpbnRzOiB7XG4gICAgICAgIGF1ZGlvOiBib3RoSGF2ZVRyYWNrcy5jYWxsKHRoaXMsICdnZXRBdWRpb1RyYWNrcycpLFxuICAgICAgICB2aWRlbzogYm90aEhhdmVUcmFja3MuY2FsbCh0aGlzLCAnZ2V0VmlkZW9UcmFja3MnKVxuICAgICAgfVxuICAgIH07XG4gIH19LFxuXG4gIHVwZGF0ZUljZVNlcnZlcnM6IHt3cml0ZWFibGU6dHJ1ZSwgdmFsdWU6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIHNlcnZlcnMgPSB0aGlzLnByZXBhcmVJY2VTZXJ2ZXJzKG9wdGlvbnMuc3R1blNlcnZlcnMsIG9wdGlvbnMudHVyblNlcnZlcnMpO1xuICAgIHRoaXMuUlRDQ29uc3RyYWludHMgPSBvcHRpb25zLlJUQ0NvbnN0cmFpbnRzIHx8IHRoaXMuUlRDQ29uc3RyYWludHM7XG5cbiAgICB0aGlzLmluaXRQZWVyQ29ubmVjdGlvbihzZXJ2ZXJzKTtcblxuICAgIC8qIG9uY2UgdXBkYXRlSWNlIGlzIGltcGxlbWVudGVkIGNvcnJlY3RseSwgdGhpcyBpcyBiZXR0ZXIgdGhhbiBhYm92ZVxuICAgIC8vbm8gb3AgaWYgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoaXNcbiAgICBpZiAoIXRoaXMucGVlckNvbm5lY3Rpb24udXBkYXRlSWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5wZWVyQ29ubmVjdGlvbi51cGRhdGVJY2UoeydpY2VTZXJ2ZXJzJzogc2VydmVyc30sIHRoaXMuUlRDQ29uc3RyYWludHMpO1xuICAgICovXG4gIH19LFxuXG4vLyBGdW5jdGlvbnMgdGhlIHNlc3Npb24gY2FuIHVzZSwgYnV0IG9ubHkgYmVjYXVzZSBpdCdzIGNvbnZlbmllbnQgZm9yIHRoZSBhcHBsaWNhdGlvblxuICBpc011dGVkOiB7d3JpdGFibGU6IHRydWUsIHZhbHVlOiBmdW5jdGlvbiBpc011dGVkICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXVkaW86IHRoaXMuYXVkaW9NdXRlZCxcbiAgICAgIHZpZGVvOiB0aGlzLnZpZGVvTXV0ZWRcbiAgICB9O1xuICB9fSxcblxuICBtdXRlOiB7d3JpdGFibGU6IHRydWUsIHZhbHVlOiBmdW5jdGlvbiBtdXRlIChvcHRpb25zKSB7XG4gICAgaWYgKHRoaXMuZ2V0TG9jYWxTdHJlYW1zKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge1xuICAgICAgYXVkaW86IHRoaXMuZ2V0TG9jYWxTdHJlYW1zKClbMF0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGggPiAwLFxuICAgICAgdmlkZW86IHRoaXMuZ2V0TG9jYWxTdHJlYW1zKClbMF0uZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGggPiAwXG4gICAgfTtcblxuICAgIHZhciBhdWRpb011dGVkID0gZmFsc2UsXG4gICAgICAgIHZpZGVvTXV0ZWQgPSBmYWxzZTtcblxuICAgIGlmIChvcHRpb25zLmF1ZGlvICYmICF0aGlzLmF1ZGlvTXV0ZWQpIHtcbiAgICAgIGF1ZGlvTXV0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5hdWRpb011dGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMudG9nZ2xlTXV0ZUF1ZGlvKHRydWUpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnZpZGVvICYmICF0aGlzLnZpZGVvTXV0ZWQpIHtcbiAgICAgIHZpZGVvTXV0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy52aWRlb011dGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMudG9nZ2xlTXV0ZVZpZGVvKHRydWUpO1xuICAgIH1cblxuICAgIC8vUkVWSVNJVFxuICAgIGlmIChhdWRpb011dGVkIHx8IHZpZGVvTXV0ZWQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGF1ZGlvOiBhdWRpb011dGVkLFxuICAgICAgICB2aWRlbzogdmlkZW9NdXRlZFxuICAgICAgfTtcbiAgICAgIC8qdGhpcy5zZXNzaW9uLm9ubXV0ZSh7XG4gICAgICAgIGF1ZGlvOiBhdWRpb011dGVkLFxuICAgICAgICB2aWRlbzogdmlkZW9NdXRlZFxuICAgICAgfSk7Ki9cbiAgICB9XG4gIH19LFxuXG4gIHVubXV0ZToge3dyaXRhYmxlOiB0cnVlLCB2YWx1ZTogZnVuY3Rpb24gdW5tdXRlIChvcHRpb25zKSB7XG4gICAgaWYgKHRoaXMuZ2V0TG9jYWxTdHJlYW1zKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge1xuICAgICAgYXVkaW86IHRoaXMuZ2V0TG9jYWxTdHJlYW1zKClbMF0uZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGggPiAwLFxuICAgICAgdmlkZW86IHRoaXMuZ2V0TG9jYWxTdHJlYW1zKClbMF0uZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGggPiAwXG4gICAgfTtcblxuICAgIHZhciBhdWRpb1VuTXV0ZWQgPSBmYWxzZSxcbiAgICAgICAgdmlkZW9Vbk11dGVkID0gZmFsc2U7XG5cbiAgICBpZiAob3B0aW9ucy5hdWRpbyAmJiB0aGlzLmF1ZGlvTXV0ZWQpIHtcbiAgICAgIGF1ZGlvVW5NdXRlZCA9IHRydWU7XG4gICAgICB0aGlzLmF1ZGlvTXV0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMudG9nZ2xlTXV0ZUF1ZGlvKGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy52aWRlbyAmJiB0aGlzLnZpZGVvTXV0ZWQpIHtcbiAgICAgIHZpZGVvVW5NdXRlZCA9IHRydWU7XG4gICAgICB0aGlzLnZpZGVvTXV0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMudG9nZ2xlTXV0ZVZpZGVvKGZhbHNlKTtcbiAgICB9XG5cbiAgICAvL1JFVklTSVRcbiAgICBpZiAoYXVkaW9Vbk11dGVkIHx8IHZpZGVvVW5NdXRlZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYXVkaW86IGF1ZGlvVW5NdXRlZCxcbiAgICAgICAgdmlkZW86IHZpZGVvVW5NdXRlZFxuICAgICAgfTtcbiAgICAgIC8qdGhpcy5zZXNzaW9uLm9udW5tdXRlKHtcbiAgICAgICAgYXVkaW86IGF1ZGlvVW5NdXRlZCxcbiAgICAgICAgdmlkZW86IHZpZGVvVW5NdXRlZFxuICAgICAgfSk7Ki9cbiAgICB9XG4gIH19LFxuXG4gIGhvbGQ6IHt3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IGZ1bmN0aW9uIGhvbGQgKCkge1xuICAgIHRoaXMubG9jYWxfaG9sZCA9IHRydWU7XG4gICAgdGhpcy50b2dnbGVNdXRlQXVkaW8odHJ1ZSk7XG4gICAgdGhpcy50b2dnbGVNdXRlVmlkZW8odHJ1ZSk7XG4gIH19LFxuXG4gIHVuaG9sZDoge3dyaXRhYmxlOiB0cnVlLCB2YWx1ZTogZnVuY3Rpb24gdW5ob2xkICgpIHtcbiAgICB0aGlzLmxvY2FsX2hvbGQgPSBmYWxzZTtcblxuICAgIGlmICghdGhpcy5hdWRpb011dGVkKSB7XG4gICAgICB0aGlzLnRvZ2dsZU11dGVBdWRpbyhmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnZpZGVvTXV0ZWQpIHtcbiAgICAgIHRoaXMudG9nZ2xlTXV0ZVZpZGVvKGZhbHNlKTtcbiAgICB9XG4gIH19LFxuXG4vLyBGdW5jdGlvbnMgdGhlIGFwcGxpY2F0aW9uIGNhbiB1c2UsIGJ1dCBub3QgdGhlIHNlc3Npb25cbiAgZ2V0TG9jYWxTdHJlYW1zOiB7d3JpdGFibGU6IHRydWUsIHZhbHVlOiBmdW5jdGlvbiBnZXRMb2NhbFN0cmVhbXMgKCkge1xuICAgIHZhciBwYyA9IHRoaXMucGVlckNvbm5lY3Rpb247XG4gICAgaWYgKHBjICYmIHBjLnNpZ25hbGluZ1N0YXRlID09PSAnY2xvc2VkJykge1xuICAgICAgdGhpcy5sb2dnZXIud2FybigncGVlckNvbm5lY3Rpb24gaXMgY2xvc2VkLCBnZXRMb2NhbFN0cmVhbXMgcmV0dXJuaW5nIFtdJyk7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiAocGMuZ2V0TG9jYWxTdHJlYW1zICYmIHBjLmdldExvY2FsU3RyZWFtcygpKSB8fFxuICAgICAgcGMubG9jYWxTdHJlYW1zIHx8IFtdO1xuICB9fSxcblxuICBnZXRSZW1vdGVTdHJlYW1zOiB7d3JpdGFibGU6IHRydWUsIHZhbHVlOiBmdW5jdGlvbiBnZXRSZW1vdGVTdHJlYW1zICgpIHtcbiAgICB2YXIgcGMgPSB0aGlzLnBlZXJDb25uZWN0aW9uO1xuICAgIGlmIChwYyAmJiBwYy5zaWduYWxpbmdTdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ3BlZXJDb25uZWN0aW9uIGlzIGNsb3NlZCwgZ2V0UmVtb3RlU3RyZWFtcyByZXR1cm5pbmcgdGhpcy5fcmVtb3RlU3RyZWFtcycpO1xuICAgICAgcmV0dXJuIHRoaXMuX3JlbW90ZVN0cmVhbXM7XG4gICAgfVxuICAgIHJldHVybihwYy5nZXRSZW1vdGVTdHJlYW1zICYmIHBjLmdldFJlbW90ZVN0cmVhbXMoKSkgfHxcbiAgICAgIHBjLnJlbW90ZVN0cmVhbXMgfHwgW107XG4gIH19LFxuXG4gIHJlbmRlcjoge3dyaXRhYmxlOiB0cnVlLCB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyIChyZW5kZXJIaW50KSB7XG4gICAgcmVuZGVySGludCA9IHJlbmRlckhpbnQgfHwgKHRoaXMubWVkaWFIaW50ICYmIHRoaXMubWVkaWFIaW50LnJlbmRlcik7XG4gICAgaWYgKCFyZW5kZXJIaW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBzdHJlYW1HZXR0ZXJzID0ge1xuICAgICAgbG9jYWw6ICdnZXRMb2NhbFN0cmVhbXMnLFxuICAgICAgcmVtb3RlOiAnZ2V0UmVtb3RlU3RyZWFtcydcbiAgICB9O1xuICAgIE9iamVjdC5rZXlzKHN0cmVhbUdldHRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGxvYykge1xuICAgICAgdmFyIHN0cmVhbUdldHRlciA9IHN0cmVhbUdldHRlcnNbbG9jXTtcbiAgICAgIHZhciBzdHJlYW1zID0gdGhpc1tzdHJlYW1HZXR0ZXJdKCk7XG4gICAgICBTSVAuV2ViUlRDLk1lZGlhU3RyZWFtTWFuYWdlci5yZW5kZXIoc3RyZWFtcywgcmVuZGVySGludFtsb2NdKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9fSxcblxuLy8gSW50ZXJuYWwgZnVuY3Rpb25zXG4gIGhhc09mZmVyOiB7d3JpdGFibGU6IHRydWUsIHZhbHVlOiBmdW5jdGlvbiBoYXNPZmZlciAod2hlcmUpIHtcbiAgICB2YXIgb2ZmZXJTdGF0ZSA9ICdoYXZlLScgKyB3aGVyZSArICctb2ZmZXInO1xuICAgIHJldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLnNpZ25hbGluZ1N0YXRlID09PSBvZmZlclN0YXRlO1xuICAgIC8vIFRPRE8gY29uc2lkZXIgc2lnbmFsaW5nU3RhdGVzIHdpdGggJ3ByYW5zd2VyJz9cbiAgfX0sXG5cbiAgcHJlcGFyZUljZVNlcnZlcnM6IHt3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IGZ1bmN0aW9uIHByZXBhcmVJY2VTZXJ2ZXJzIChzdHVuU2VydmVycywgdHVyblNlcnZlcnMpIHtcbiAgICB2YXIgc2VydmVycyA9IFtdLFxuICAgICAgY29uZmlnID0gdGhpcy5zZXNzaW9uLnVhLmNvbmZpZ3VyYXRpb247XG5cbiAgICBzdHVuU2VydmVycyA9IHN0dW5TZXJ2ZXJzIHx8IGNvbmZpZy5zdHVuU2VydmVycztcbiAgICB0dXJuU2VydmVycyA9IHR1cm5TZXJ2ZXJzIHx8IGNvbmZpZy50dXJuU2VydmVycztcblxuICAgIFtdLmNvbmNhdChzdHVuU2VydmVycykuZm9yRWFjaChmdW5jdGlvbiAoc2VydmVyKSB7XG4gICAgICBzZXJ2ZXJzLnB1c2goeyd1cmxzJzogc2VydmVyfSk7XG4gICAgfSk7XG5cbiAgICBbXS5jb25jYXQodHVyblNlcnZlcnMpLmZvckVhY2goZnVuY3Rpb24gKHNlcnZlcikge1xuICAgICAgc2VydmVycy5wdXNoKHtcbiAgICAgICAgJ3VybHMnOiBzZXJ2ZXIudXJscyxcbiAgICAgICAgJ3VzZXJuYW1lJzogc2VydmVyLnVzZXJuYW1lLFxuICAgICAgICAnY3JlZGVudGlhbCc6IHNlcnZlci5wYXNzd29yZFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2VydmVycztcbiAgfX0sXG5cbiAgaW5pdFBlZXJDb25uZWN0aW9uOiB7d3JpdGFibGU6IHRydWUsIHZhbHVlOiBmdW5jdGlvbiBpbml0UGVlckNvbm5lY3Rpb24oc2VydmVycykge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIGNvbmZpZyA9IHRoaXMuc2Vzc2lvbi51YS5jb25maWd1cmF0aW9uO1xuXG4gICAgdGhpcy5vbkljZUNvbXBsZXRlZCA9IFNJUC5VdGlscy5kZWZlcigpO1xuICAgIHRoaXMub25JY2VDb21wbGV0ZWQucHJvbWlzZS50aGVuKGZ1bmN0aW9uKHBjKSB7XG4gICAgICBzZWxmLmVtaXQoJ2ljZUdhdGhlcmluZ0NvbXBsZXRlJywgcGMpO1xuICAgICAgaWYgKHNlbGYuaWNlQ2hlY2tpbmdUaW1lcikge1xuICAgICAgICBTSVAuVGltZXJzLmNsZWFyVGltZW91dChzZWxmLmljZUNoZWNraW5nVGltZXIpO1xuICAgICAgICBzZWxmLmljZUNoZWNraW5nVGltZXIgPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMucGVlckNvbm5lY3Rpb24pIHtcbiAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICB9XG5cbiAgICB0aGlzLnBlZXJDb25uZWN0aW9uID0gbmV3IFNJUC5XZWJSVEMuUlRDUGVlckNvbm5lY3Rpb24oeydpY2VTZXJ2ZXJzJzogc2VydmVyc30pO1xuXG4gICAgLy8gRmlyZWZveCAoMzUuMC4xKSBzb21ldGltZXMgdGhyb3dzIG9uIGNhbGxzIHRvIHBlZXJDb25uZWN0aW9uLmdldFJlbW90ZVN0cmVhbXNcbiAgICAvLyBldmVuIGlmIHBlZXJDb25uZWN0aW9uLm9uYWRkc3RyZWFtIHdhcyBqdXN0IGNhbGxlZC4gSW4gb3JkZXIgdG8gbWFrZVxuICAgIC8vIE1lZGlhSGFuZGxlci5wcm90b3R5cGUuZ2V0UmVtb3RlU3RyZWFtcyB3b3JrLCBrZWVwIHRyYWNrIG9mIHRoZW0gbWFudWFsbHlcbiAgICB0aGlzLl9yZW1vdGVTdHJlYW1zID0gW107XG5cbiAgICB0aGlzLnBlZXJDb25uZWN0aW9uLm9uYWRkc3RyZWFtID0gZnVuY3Rpb24oZSkge1xuICAgICAgc2VsZi5sb2dnZXIubG9nKCdzdHJlYW0gYWRkZWQ6ICcrIGUuc3RyZWFtLmlkKTtcbiAgICAgIHNlbGYuX3JlbW90ZVN0cmVhbXMucHVzaChlLnN0cmVhbSk7XG4gICAgICBzZWxmLnJlbmRlcigpO1xuICAgICAgc2VsZi5lbWl0KCdhZGRTdHJlYW0nLCBlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5wZWVyQ29ubmVjdGlvbi5vbnJlbW92ZXN0cmVhbSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHNlbGYubG9nZ2VyLmxvZygnc3RyZWFtIHJlbW92ZWQ6ICcrIGUuc3RyZWFtLmlkKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zdGFydEljZUNoZWNraW5nVGltZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXNlbGYuaWNlQ2hlY2tpbmdUaW1lcikge1xuICAgICAgICBzZWxmLmljZUNoZWNraW5nVGltZXIgPSBTSVAuVGltZXJzLnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5sb2dnZXIubG9nKCdSVENJY2VDaGVja2luZyBUaW1lb3V0IFRyaWdnZXJlZCBhZnRlciAnK2NvbmZpZy5pY2VDaGVja2luZ1RpbWVvdXQrJyBtaWxsaXNlY29uZHMnKTtcbiAgICAgICAgICBzZWxmLm9uSWNlQ29tcGxldGVkLnJlc29sdmUodGhpcyk7XG4gICAgICAgIH0uYmluZCh0aGlzLnBlZXJDb25uZWN0aW9uKSwgY29uZmlnLmljZUNoZWNraW5nVGltZW91dCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGUgPSBmdW5jdGlvbihlKSB7XG4gICAgICBzZWxmLmVtaXQoJ2ljZUNhbmRpZGF0ZScsIGUpO1xuICAgICAgaWYgKGUuY2FuZGlkYXRlKSB7XG4gICAgICAgIHNlbGYubG9nZ2VyLmxvZygnSUNFIGNhbmRpZGF0ZSByZWNlaXZlZDogJysgKGUuY2FuZGlkYXRlLmNhbmRpZGF0ZSA9PT0gbnVsbCA/IG51bGwgOiBlLmNhbmRpZGF0ZS5jYW5kaWRhdGUudHJpbSgpKSk7XG4gICAgICAgIHNlbGYuc3RhcnRJY2VDaGVja2luZ1RpbWVyKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLm9uSWNlQ29tcGxldGVkLnJlc29sdmUodGhpcyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGYubG9nZ2VyLmxvZygnUlRDSWNlR2F0aGVyaW5nU3RhdGUgY2hhbmdlZDogJyArIHRoaXMuaWNlR2F0aGVyaW5nU3RhdGUpO1xuICAgICAgaWYgKHRoaXMuaWNlR2F0aGVyaW5nU3RhdGUgPT09ICdnYXRoZXJpbmcnKSB7XG4gICAgICAgIHNlbGYuZW1pdCgnaWNlR2F0aGVyaW5nJywgdGhpcyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pY2VHYXRoZXJpbmdTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICBzZWxmLm9uSWNlQ29tcGxldGVkLnJlc29sdmUodGhpcyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsgIC8vbmVlZCBlIGZvciBjb21tZW50ZWQgb3V0IGNhc2VcbiAgICAgIHZhciBzdGF0ZUV2ZW50O1xuXG4gICAgICBpZiAodGhpcy5pY2VDb25uZWN0aW9uU3RhdGUgPT09ICdjaGVja2luZycpIHtcbiAgICAgICAgc2VsZi5zdGFydEljZUNoZWNraW5nVGltZXIoKTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoICh0aGlzLmljZUNvbm5lY3Rpb25TdGF0ZSkge1xuICAgICAgY2FzZSAnbmV3JzpcbiAgICAgICAgc3RhdGVFdmVudCA9ICdpY2VDb25uZWN0aW9uJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjaGVja2luZyc6XG4gICAgICAgIHN0YXRlRXZlbnQgPSAnaWNlQ29ubmVjdGlvbkNoZWNraW5nJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICBzdGF0ZUV2ZW50ID0gJ2ljZUNvbm5lY3Rpb25Db25uZWN0ZWQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NvbXBsZXRlZCc6XG4gICAgICAgIHN0YXRlRXZlbnQgPSAnaWNlQ29ubmVjdGlvbkNvbXBsZXRlZCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZmFpbGVkJzpcbiAgICAgICAgc3RhdGVFdmVudCA9ICdpY2VDb25uZWN0aW9uRmFpbGVkJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkaXNjb25uZWN0ZWQnOlxuICAgICAgICBzdGF0ZUV2ZW50ID0gJ2ljZUNvbm5lY3Rpb25EaXNjb25uZWN0ZWQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Nsb3NlZCc6XG4gICAgICAgIHN0YXRlRXZlbnQgPSAnaWNlQ29ubmVjdGlvbkNsb3NlZCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgc2VsZi5sb2dnZXIud2FybignVW5rbm93biBpY2VDb25uZWN0aW9uIHN0YXRlOicsIHRoaXMuaWNlQ29ubmVjdGlvblN0YXRlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VsZi5lbWl0KHN0YXRlRXZlbnQsIHRoaXMpO1xuXG4gICAgICAvL0JyaWEgc3RhdGUgY2hhbmdlcyBhcmUgYWx3YXlzIGNvbm5lY3RlZCAtPiBkaXNjb25uZWN0ZWQgLT4gY29ubmVjdGVkIG9uIGFjY2VwdCwgc28gc2Vzc2lvbiBnZXRzIHRlcm1pbmF0ZWRcbiAgICAgIC8vbm9ybWFsIGNhbGxzIHN3aXRjaCBmcm9tIGZhaWxlZCB0byBjb25uZWN0ZWQgaW4gc29tZSBjYXNlcywgc28gY2hlY2tpbmcgZm9yIGZhaWxlZCBhbmQgdGVybWluYXRlZFxuICAgICAgLyppZiAodGhpcy5pY2VDb25uZWN0aW9uU3RhdGUgPT09ICdmYWlsZWQnKSB7XG4gICAgICAgIHNlbGYuc2Vzc2lvbi50ZXJtaW5hdGUoe1xuICAgICAgICBjYXVzZTogU0lQLkMuY2F1c2VzLlJUUF9USU1FT1VULFxuICAgICAgICBzdGF0dXNfY29kZTogMjAwLFxuICAgICAgICByZWFzb25fcGhyYXNlOiBTSVAuQy5jYXVzZXMuUlRQX1RJTUVPVVRcbiAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChlLmN1cnJlbnRUYXJnZXQuaWNlR2F0aGVyaW5nU3RhdGUgPT09ICdjb21wbGV0ZScgJiYgdGhpcy5pY2VDb25uZWN0aW9uU3RhdGUgIT09ICdjbG9zZWQnKSB7XG4gICAgICBzZWxmLm9uSWNlQ29tcGxldGVkKHRoaXMpO1xuICAgICAgfSovXG4gICAgfTtcblxuICAgIHRoaXMucGVlckNvbm5lY3Rpb24ub25zdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5sb2dnZXIubG9nKCdQZWVyQ29ubmVjdGlvbiBzdGF0ZSBjaGFuZ2VkIHRvIFwiJysgdGhpcy5yZWFkeVN0YXRlICsnXCInKTtcbiAgICB9O1xuICB9fSxcblxuICBjcmVhdGVPZmZlck9yQW5zd2VyOiB7d3JpdGFibGU6IHRydWUsIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVPZmZlck9yQW5zd2VyIChjb25zdHJhaW50cykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgbWV0aG9kTmFtZTtcbiAgICB2YXIgcGMgPSBzZWxmLnBlZXJDb25uZWN0aW9uO1xuXG4gICAgc2VsZi5yZWFkeSA9IGZhbHNlO1xuICAgIG1ldGhvZE5hbWUgPSBzZWxmLmhhc09mZmVyKCdyZW1vdGUnKSA/ICdjcmVhdGVBbnN3ZXInIDogJ2NyZWF0ZU9mZmVyJztcblxuICAgIHJldHVybiBTSVAuVXRpbHMucHJvbWlzaWZ5KHBjLCBtZXRob2ROYW1lLCB0cnVlKShjb25zdHJhaW50cylcbiAgICAgIC50aGVuKFNJUC5VdGlscy5wcm9taXNpZnkocGMsICdzZXRMb2NhbERlc2NyaXB0aW9uJykpXG4gICAgICAudGhlbihmdW5jdGlvbiBvblNldExvY2FsRGVzY3JpcHRpb25TdWNjZXNzKCkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSBTSVAuVXRpbHMuZGVmZXIoKTtcbiAgICAgICAgaWYgKHBjLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gJ2NvbXBsZXRlJyB8fCBwYy5pY2VDb25uZWN0aW9uU3RhdGUgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYub25JY2VDb21wbGV0ZWQucHJvbWlzZS50aGVuKGRlZmVycmVkLnJlc29sdmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIHJlYWR5U3VjY2VzcyAoKSB7XG4gICAgICAgIHZhciBzZHAgPSBwYy5sb2NhbERlc2NyaXB0aW9uLnNkcDtcblxuICAgICAgICBzZHAgPSBTSVAuSGFja3MuQ2hyb21lLm5lZWRzRXhwbGljaXRseUluYWN0aXZlU0RQKHNkcCk7XG4gICAgICAgIHNkcCA9IFNJUC5IYWNrcy5BbGxCcm93c2Vycy51bm1hc2tEdGxzKHNkcCk7XG5cbiAgICAgICAgdmFyIHNkcFdyYXBwZXIgPSB7XG4gICAgICAgICAgdHlwZTogbWV0aG9kTmFtZSA9PT0gJ2NyZWF0ZU9mZmVyJyA/ICdvZmZlcicgOiAnYW5zd2VyJyxcbiAgICAgICAgICBzZHA6IHNkcFxuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYuZW1pdCgnZ2V0RGVzY3JpcHRpb24nLCBzZHBXcmFwcGVyKTtcblxuICAgICAgICBpZiAoc2VsZi5zZXNzaW9uLnVhLmNvbmZpZ3VyYXRpb24uaGFja1N0cmlwVGNwKSB7XG4gICAgICAgICAgc2RwV3JhcHBlci5zZHAgPSBzZHBXcmFwcGVyLnNkcC5yZXBsYWNlKC9eYT1jYW5kaWRhdGU6XFxkKyBcXGQrIHRjcCAuKj9cXHJcXG4vaW1nLCBcIlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYucmVhZHkgPSB0cnVlO1xuICAgICAgICByZXR1cm4gc2RwV3JhcHBlci5zZHA7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIG1ldGhvZEZhaWxlZCAoZSkge1xuICAgICAgICBzZWxmLmxvZ2dlci5lcnJvcihlKTtcbiAgICAgICAgc2VsZi5yZWFkeSA9IHRydWU7XG4gICAgICAgIHRocm93IG5ldyBTSVAuRXhjZXB0aW9ucy5HZXREZXNjcmlwdGlvbkVycm9yKGUpO1xuICAgICAgfSlcbiAgICA7XG4gIH19LFxuXG4gIGFkZFN0cmVhbXM6IHt3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IGZ1bmN0aW9uIGFkZFN0cmVhbXMgKHN0cmVhbXMpIHtcbiAgICB0cnkge1xuICAgICAgc3RyZWFtcyA9IFtdLmNvbmNhdChzdHJlYW1zKTtcbiAgICAgIHN0cmVhbXMuZm9yRWFjaChmdW5jdGlvbiAoc3RyZWFtKSB7XG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24uYWRkU3RyZWFtKHN0cmVhbSk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdlcnJvciBhZGRpbmcgc3RyZWFtJyk7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcihlKTtcbiAgICAgIHJldHVybiBTSVAuVXRpbHMuUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFNJUC5VdGlscy5Qcm9taXNlLnJlc29sdmUoKTtcbiAgfX0sXG5cbiAgdG9nZ2xlTXV0ZUhlbHBlcjoge3dyaXRhYmxlOiB0cnVlLCB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlTXV0ZUhlbHBlciAodHJhY2tHZXR0ZXIsIG11dGUpIHtcbiAgICB0aGlzLmdldExvY2FsU3RyZWFtcygpLmZvckVhY2goZnVuY3Rpb24gKHN0cmVhbSkge1xuICAgICAgc3RyZWFtW3RyYWNrR2V0dGVyXSgpLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHRyYWNrLmVuYWJsZWQgPSAhbXV0ZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9fSxcblxuICB0b2dnbGVNdXRlQXVkaW86IHt3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZU11dGVBdWRpbyAobXV0ZSkge1xuICAgIHRoaXMudG9nZ2xlTXV0ZUhlbHBlcignZ2V0QXVkaW9UcmFja3MnLCBtdXRlKTtcbiAgfX0sXG5cbiAgdG9nZ2xlTXV0ZVZpZGVvOiB7d3JpdGFibGU6IHRydWUsIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVNdXRlVmlkZW8gKG11dGUpIHtcbiAgICB0aGlzLnRvZ2dsZU11dGVIZWxwZXIoJ2dldFZpZGVvVHJhY2tzJywgbXV0ZSk7XG4gIH19XG59KTtcblxuLy8gUmV0dXJuIHNpbmNlIGl0IHdpbGwgYmUgYXNzaWduZWQgdG8gYSB2YXJpYWJsZS5cbnJldHVybiBNZWRpYUhhbmRsZXI7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1dlYlJUQy9NZWRpYUhhbmRsZXIuanNcbi8vIG1vZHVsZSBpZCA9IDM2N1xuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///367\n");

/***/ }),
/* 368 */
/*!**********************************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/WebRTC/MediaStreamManager.js ***!
  \**********************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview MediaStreamManager\n */\n\n/* MediaStreamManager\n * @class Manages the acquisition and release of MediaStreams.\n * @param {mediaHint} [defaultMediaHint] The mediaHint to use if none is provided to acquire()\n */\nmodule.exports = function (SIP, environment) {\n\n// Default MediaStreamManager provides single-use streams created with getUserMedia\nvar MediaStreamManager = function MediaStreamManager (logger, defaultMediaHint) {\n  if (!SIP.WebRTC.isSupported()) {\n    throw new SIP.Exceptions.NotSupportedError('Media not supported');\n  }\n\n  this.mediaHint = defaultMediaHint || {\n    constraints: {audio: true, video: true}\n  };\n\n  // map of streams to acquisition manner:\n  // true -> passed in as mediaHint.stream\n  // false -> getUserMedia\n  this.acquisitions = {};\n};\nMediaStreamManager.streamId = function (stream) {\n  return stream.getAudioTracks().concat(stream.getVideoTracks())\n    .map(function trackId (track) {\n      return track.id;\n    })\n    .join('');\n};\n\n/**\n * @param {(Array of) MediaStream} streams - The streams to render\n *\n * @param {(Array of) HTMLMediaElement} elements\n *        - The <audio>/<video> element(s) that should render the streams\n *\n * Each stream in streams renders to the corresponding element in elements,\n * wrapping around elements if needed.\n */\nMediaStreamManager.render = function render (streams, elements) {\n  if (!elements) {\n    return false;\n  }\n  if (Array.isArray(elements) && !elements.length) {\n    throw new TypeError('elements must not be empty');\n  }\n\n  function attachMediaStream(element, stream) {\n    element.srcObject = stream;\n  }\n\n  function ensureMediaPlaying (mediaElement) {\n    var interval = 100;\n    mediaElement.ensurePlayingIntervalId = SIP.Timers.setInterval(function () {\n      if (mediaElement.paused && mediaElement.srcObject) {\n        mediaElement.play();\n      }\n      else {\n        SIP.Timers.clearInterval(mediaElement.ensurePlayingIntervalId);\n      }\n    }, interval);\n  }\n\n  function attachAndPlay (elements, stream, index) {\n    var element = elements[index % elements.length];\n    if (typeof element === 'function') {\n      element = element();\n    }\n    (environment.attachMediaStream || attachMediaStream)(element, stream);\n    ensureMediaPlaying(element);\n  }\n\n  // [].concat \"casts\" `elements` into an array\n  // so forEach works even if `elements` was a single element\n  elements = [].concat(elements);\n  [].concat(streams).forEach(attachAndPlay.bind(null, elements));\n};\n\nMediaStreamManager.prototype = Object.create(SIP.EventEmitter.prototype, {\n  'acquire': {writable: true, value: function acquire (mediaHint) {\n    mediaHint = Object.keys(mediaHint || {}).length ? mediaHint : this.mediaHint;\n\n    var saveSuccess = function (isHintStream, streams) {\n      streams = [].concat(streams);\n      streams.forEach(function (stream) {\n        var streamId = MediaStreamManager.streamId(stream);\n        this.acquisitions[streamId] = !!isHintStream;\n      }, this);\n      return SIP.Utils.Promise.resolve(streams);\n    }.bind(this);\n\n    if (mediaHint.stream) {\n      return saveSuccess(true, mediaHint.stream);\n    } else {\n      // Fallback to audio/video enabled if no mediaHint can be found.\n      var constraints = mediaHint.constraints ||\n        (this.mediaHint && this.mediaHint.constraints) ||\n        {audio: true, video: true};\n\n      var deferred = SIP.Utils.defer();\n\n      /*\n       * Make the call asynchronous, so that ICCs have a chance\n       * to define callbacks to `userMediaRequest`\n       */\n      SIP.Timers.setTimeout(function () {\n        this.emit('userMediaRequest', constraints);\n\n        var emitThenCall = function (eventName, callback) {\n          var callbackArgs = Array.prototype.slice.call(arguments, 2);\n          // Emit with all of the arguments from the real callback.\n          var newArgs = [eventName].concat(callbackArgs);\n\n          this.emit.apply(this, newArgs);\n\n          return callback.apply(null, callbackArgs);\n        }.bind(this);\n\n        if (constraints.audio || constraints.video) {\n          deferred.resolve(\n            SIP.WebRTC.getUserMedia(constraints)\n            .then(\n              emitThenCall.bind(this, 'userMedia', saveSuccess.bind(null, false)),\n              emitThenCall.bind(this, 'userMediaFailed', function(e){throw e;})\n            )\n          );\n        } else {\n          // Local streams were explicitly excluded.\n          deferred.resolve([]);\n        }\n      }.bind(this), 0);\n\n      return deferred.promise;\n    }\n  }},\n\n  'release': {writable: true, value: function release (streams) {\n    streams = [].concat(streams);\n    streams.forEach(function (stream) {\n      var streamId = MediaStreamManager.streamId(stream);\n      if (this.acquisitions[streamId] === false) {\n        stream.getTracks().forEach(function (track) {\n          track.stop();\n        });\n      }\n      delete this.acquisitions[streamId];\n    }, this);\n  }},\n});\n\n// Return since it will be assigned to a variable.\nreturn MediaStreamManager;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1dlYlJUQy9NZWRpYVN0cmVhbU1hbmFnZXIuanM/YTZlMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQjtBQUNsQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLFdBQVcsdUJBQXVCO0FBQ2xDO0FBQ0EsV0FBVyw0QkFBNEI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYztBQUNkLDJDQUEyQzs7QUFFM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxTQUFTO0FBQzlFO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0EsSUFBSTs7QUFFSixjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKLENBQUM7O0FBRUQ7QUFDQTtBQUNBIiwiZmlsZSI6IjM2OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IE1lZGlhU3RyZWFtTWFuYWdlclxuICovXG5cbi8qIE1lZGlhU3RyZWFtTWFuYWdlclxuICogQGNsYXNzIE1hbmFnZXMgdGhlIGFjcXVpc2l0aW9uIGFuZCByZWxlYXNlIG9mIE1lZGlhU3RyZWFtcy5cbiAqIEBwYXJhbSB7bWVkaWFIaW50fSBbZGVmYXVsdE1lZGlhSGludF0gVGhlIG1lZGlhSGludCB0byB1c2UgaWYgbm9uZSBpcyBwcm92aWRlZCB0byBhY3F1aXJlKClcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoU0lQLCBlbnZpcm9ubWVudCkge1xuXG4vLyBEZWZhdWx0IE1lZGlhU3RyZWFtTWFuYWdlciBwcm92aWRlcyBzaW5nbGUtdXNlIHN0cmVhbXMgY3JlYXRlZCB3aXRoIGdldFVzZXJNZWRpYVxudmFyIE1lZGlhU3RyZWFtTWFuYWdlciA9IGZ1bmN0aW9uIE1lZGlhU3RyZWFtTWFuYWdlciAobG9nZ2VyLCBkZWZhdWx0TWVkaWFIaW50KSB7XG4gIGlmICghU0lQLldlYlJUQy5pc1N1cHBvcnRlZCgpKSB7XG4gICAgdGhyb3cgbmV3IFNJUC5FeGNlcHRpb25zLk5vdFN1cHBvcnRlZEVycm9yKCdNZWRpYSBub3Qgc3VwcG9ydGVkJyk7XG4gIH1cblxuICB0aGlzLm1lZGlhSGludCA9IGRlZmF1bHRNZWRpYUhpbnQgfHwge1xuICAgIGNvbnN0cmFpbnRzOiB7YXVkaW86IHRydWUsIHZpZGVvOiB0cnVlfVxuICB9O1xuXG4gIC8vIG1hcCBvZiBzdHJlYW1zIHRvIGFjcXVpc2l0aW9uIG1hbm5lcjpcbiAgLy8gdHJ1ZSAtPiBwYXNzZWQgaW4gYXMgbWVkaWFIaW50LnN0cmVhbVxuICAvLyBmYWxzZSAtPiBnZXRVc2VyTWVkaWFcbiAgdGhpcy5hY3F1aXNpdGlvbnMgPSB7fTtcbn07XG5NZWRpYVN0cmVhbU1hbmFnZXIuc3RyZWFtSWQgPSBmdW5jdGlvbiAoc3RyZWFtKSB7XG4gIHJldHVybiBzdHJlYW0uZ2V0QXVkaW9UcmFja3MoKS5jb25jYXQoc3RyZWFtLmdldFZpZGVvVHJhY2tzKCkpXG4gICAgLm1hcChmdW5jdGlvbiB0cmFja0lkICh0cmFjaykge1xuICAgICAgcmV0dXJuIHRyYWNrLmlkO1xuICAgIH0pXG4gICAgLmpvaW4oJycpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0geyhBcnJheSBvZikgTWVkaWFTdHJlYW19IHN0cmVhbXMgLSBUaGUgc3RyZWFtcyB0byByZW5kZXJcbiAqXG4gKiBAcGFyYW0geyhBcnJheSBvZikgSFRNTE1lZGlhRWxlbWVudH0gZWxlbWVudHNcbiAqICAgICAgICAtIFRoZSA8YXVkaW8+Lzx2aWRlbz4gZWxlbWVudChzKSB0aGF0IHNob3VsZCByZW5kZXIgdGhlIHN0cmVhbXNcbiAqXG4gKiBFYWNoIHN0cmVhbSBpbiBzdHJlYW1zIHJlbmRlcnMgdG8gdGhlIGNvcnJlc3BvbmRpbmcgZWxlbWVudCBpbiBlbGVtZW50cyxcbiAqIHdyYXBwaW5nIGFyb3VuZCBlbGVtZW50cyBpZiBuZWVkZWQuXG4gKi9cbk1lZGlhU3RyZWFtTWFuYWdlci5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHN0cmVhbXMsIGVsZW1lbnRzKSB7XG4gIGlmICghZWxlbWVudHMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudHMpICYmICFlbGVtZW50cy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdlbGVtZW50cyBtdXN0IG5vdCBiZSBlbXB0eScpO1xuICB9XG5cbiAgZnVuY3Rpb24gYXR0YWNoTWVkaWFTdHJlYW0oZWxlbWVudCwgc3RyZWFtKSB7XG4gICAgZWxlbWVudC5zcmNPYmplY3QgPSBzdHJlYW07XG4gIH1cblxuICBmdW5jdGlvbiBlbnN1cmVNZWRpYVBsYXlpbmcgKG1lZGlhRWxlbWVudCkge1xuICAgIHZhciBpbnRlcnZhbCA9IDEwMDtcbiAgICBtZWRpYUVsZW1lbnQuZW5zdXJlUGxheWluZ0ludGVydmFsSWQgPSBTSVAuVGltZXJzLnNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChtZWRpYUVsZW1lbnQucGF1c2VkICYmIG1lZGlhRWxlbWVudC5zcmNPYmplY3QpIHtcbiAgICAgICAgbWVkaWFFbGVtZW50LnBsYXkoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBTSVAuVGltZXJzLmNsZWFySW50ZXJ2YWwobWVkaWFFbGVtZW50LmVuc3VyZVBsYXlpbmdJbnRlcnZhbElkKTtcbiAgICAgIH1cbiAgICB9LCBpbnRlcnZhbCk7XG4gIH1cblxuICBmdW5jdGlvbiBhdHRhY2hBbmRQbGF5IChlbGVtZW50cywgc3RyZWFtLCBpbmRleCkge1xuICAgIHZhciBlbGVtZW50ID0gZWxlbWVudHNbaW5kZXggJSBlbGVtZW50cy5sZW5ndGhdO1xuICAgIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZWxlbWVudCA9IGVsZW1lbnQoKTtcbiAgICB9XG4gICAgKGVudmlyb25tZW50LmF0dGFjaE1lZGlhU3RyZWFtIHx8IGF0dGFjaE1lZGlhU3RyZWFtKShlbGVtZW50LCBzdHJlYW0pO1xuICAgIGVuc3VyZU1lZGlhUGxheWluZyhlbGVtZW50KTtcbiAgfVxuXG4gIC8vIFtdLmNvbmNhdCBcImNhc3RzXCIgYGVsZW1lbnRzYCBpbnRvIGFuIGFycmF5XG4gIC8vIHNvIGZvckVhY2ggd29ya3MgZXZlbiBpZiBgZWxlbWVudHNgIHdhcyBhIHNpbmdsZSBlbGVtZW50XG4gIGVsZW1lbnRzID0gW10uY29uY2F0KGVsZW1lbnRzKTtcbiAgW10uY29uY2F0KHN0cmVhbXMpLmZvckVhY2goYXR0YWNoQW5kUGxheS5iaW5kKG51bGwsIGVsZW1lbnRzKSk7XG59O1xuXG5NZWRpYVN0cmVhbU1hbmFnZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTSVAuRXZlbnRFbWl0dGVyLnByb3RvdHlwZSwge1xuICAnYWNxdWlyZSc6IHt3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IGZ1bmN0aW9uIGFjcXVpcmUgKG1lZGlhSGludCkge1xuICAgIG1lZGlhSGludCA9IE9iamVjdC5rZXlzKG1lZGlhSGludCB8fCB7fSkubGVuZ3RoID8gbWVkaWFIaW50IDogdGhpcy5tZWRpYUhpbnQ7XG5cbiAgICB2YXIgc2F2ZVN1Y2Nlc3MgPSBmdW5jdGlvbiAoaXNIaW50U3RyZWFtLCBzdHJlYW1zKSB7XG4gICAgICBzdHJlYW1zID0gW10uY29uY2F0KHN0cmVhbXMpO1xuICAgICAgc3RyZWFtcy5mb3JFYWNoKGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgICAgICAgdmFyIHN0cmVhbUlkID0gTWVkaWFTdHJlYW1NYW5hZ2VyLnN0cmVhbUlkKHN0cmVhbSk7XG4gICAgICAgIHRoaXMuYWNxdWlzaXRpb25zW3N0cmVhbUlkXSA9ICEhaXNIaW50U3RyZWFtO1xuICAgICAgfSwgdGhpcyk7XG4gICAgICByZXR1cm4gU0lQLlV0aWxzLlByb21pc2UucmVzb2x2ZShzdHJlYW1zKTtcbiAgICB9LmJpbmQodGhpcyk7XG5cbiAgICBpZiAobWVkaWFIaW50LnN0cmVhbSkge1xuICAgICAgcmV0dXJuIHNhdmVTdWNjZXNzKHRydWUsIG1lZGlhSGludC5zdHJlYW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGYWxsYmFjayB0byBhdWRpby92aWRlbyBlbmFibGVkIGlmIG5vIG1lZGlhSGludCBjYW4gYmUgZm91bmQuXG4gICAgICB2YXIgY29uc3RyYWludHMgPSBtZWRpYUhpbnQuY29uc3RyYWludHMgfHxcbiAgICAgICAgKHRoaXMubWVkaWFIaW50ICYmIHRoaXMubWVkaWFIaW50LmNvbnN0cmFpbnRzKSB8fFxuICAgICAgICB7YXVkaW86IHRydWUsIHZpZGVvOiB0cnVlfTtcblxuICAgICAgdmFyIGRlZmVycmVkID0gU0lQLlV0aWxzLmRlZmVyKCk7XG5cbiAgICAgIC8qXG4gICAgICAgKiBNYWtlIHRoZSBjYWxsIGFzeW5jaHJvbm91cywgc28gdGhhdCBJQ0NzIGhhdmUgYSBjaGFuY2VcbiAgICAgICAqIHRvIGRlZmluZSBjYWxsYmFja3MgdG8gYHVzZXJNZWRpYVJlcXVlc3RgXG4gICAgICAgKi9cbiAgICAgIFNJUC5UaW1lcnMuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdCgndXNlck1lZGlhUmVxdWVzdCcsIGNvbnN0cmFpbnRzKTtcblxuICAgICAgICB2YXIgZW1pdFRoZW5DYWxsID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICB2YXIgY2FsbGJhY2tBcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICAgICAgICAvLyBFbWl0IHdpdGggYWxsIG9mIHRoZSBhcmd1bWVudHMgZnJvbSB0aGUgcmVhbCBjYWxsYmFjay5cbiAgICAgICAgICB2YXIgbmV3QXJncyA9IFtldmVudE5hbWVdLmNvbmNhdChjYWxsYmFja0FyZ3MpO1xuXG4gICAgICAgICAgdGhpcy5lbWl0LmFwcGx5KHRoaXMsIG5ld0FyZ3MpO1xuXG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGNhbGxiYWNrQXJncyk7XG4gICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICBpZiAoY29uc3RyYWludHMuYXVkaW8gfHwgY29uc3RyYWludHMudmlkZW8pIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKFxuICAgICAgICAgICAgU0lQLldlYlJUQy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpXG4gICAgICAgICAgICAudGhlbihcbiAgICAgICAgICAgICAgZW1pdFRoZW5DYWxsLmJpbmQodGhpcywgJ3VzZXJNZWRpYScsIHNhdmVTdWNjZXNzLmJpbmQobnVsbCwgZmFsc2UpKSxcbiAgICAgICAgICAgICAgZW1pdFRoZW5DYWxsLmJpbmQodGhpcywgJ3VzZXJNZWRpYUZhaWxlZCcsIGZ1bmN0aW9uKGUpe3Rocm93IGU7fSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIExvY2FsIHN0cmVhbXMgd2VyZSBleHBsaWNpdGx5IGV4Y2x1ZGVkLlxuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoW10pO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcyksIDApO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG4gIH19LFxuXG4gICdyZWxlYXNlJzoge3dyaXRhYmxlOiB0cnVlLCB2YWx1ZTogZnVuY3Rpb24gcmVsZWFzZSAoc3RyZWFtcykge1xuICAgIHN0cmVhbXMgPSBbXS5jb25jYXQoc3RyZWFtcyk7XG4gICAgc3RyZWFtcy5mb3JFYWNoKGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgICAgIHZhciBzdHJlYW1JZCA9IE1lZGlhU3RyZWFtTWFuYWdlci5zdHJlYW1JZChzdHJlYW0pO1xuICAgICAgaWYgKHRoaXMuYWNxdWlzaXRpb25zW3N0cmVhbUlkXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgICAgdHJhY2suc3RvcCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSB0aGlzLmFjcXVpc2l0aW9uc1tzdHJlYW1JZF07XG4gICAgfSwgdGhpcyk7XG4gIH19LFxufSk7XG5cbi8vIFJldHVybiBzaW5jZSBpdCB3aWxsIGJlIGFzc2lnbmVkIHRvIGEgdmFyaWFibGUuXG5yZXR1cm4gTWVkaWFTdHJlYW1NYW5hZ2VyO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0B0d2lsaW8vc2lwLmpzL3NyYy9XZWJSVEMvTWVkaWFTdHJlYW1NYW5hZ2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAzNjhcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///368\n");

/***/ }),
/* 369 */
/*!***********************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/UA.js ***!
  \***********************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(global) {\n/**\n * @augments SIP\n * @class Class creating a SIP User Agent.\n * @param {function returning SIP.MediaHandler} [configuration.mediaHandlerFactory]\n *        A function will be invoked by each of the UA's Sessions to build the MediaHandler for that Session.\n *        If no (or a falsy) value is provided, each Session will use a default (WebRTC) MediaHandler.\n *\n * @param {Object} [configuration.media] gets passed to SIP.MediaHandler.getDescription as mediaHint\n */\nmodule.exports = function (SIP, environment) {\nvar UA,\n  C = {\n    // UA status codes\n    STATUS_INIT:                0,\n    STATUS_STARTING:            1,\n    STATUS_READY:               2,\n    STATUS_USER_CLOSED:         3,\n    STATUS_NOT_READY:           4,\n\n    // UA error codes\n    CONFIGURATION_ERROR:  1,\n    NETWORK_ERROR:        2,\n\n    ALLOWED_METHODS: [\n      'ACK',\n      'CANCEL',\n      'INVITE',\n      'MESSAGE',\n      'BYE',\n      'OPTIONS',\n      'INFO',\n      'NOTIFY',\n      'REFER'\n    ],\n\n    ACCEPTED_BODY_TYPES: [\n      'application/sdp',\n      'application/dtmf-relay'\n    ],\n\n    MAX_FORWARDS: 70,\n    TAG_LENGTH: 10\n  };\n\nUA = function(configuration) {\n  var self = this;\n\n  // Helper function for forwarding events\n  function selfEmit(type) {\n    //registrationFailed handler is invoked with two arguments. Allow event handlers to be invoked with a variable no. of arguments\n    return self.emit.bind(self, type);\n  }\n\n  // Set Accepted Body Types\n  C.ACCEPTED_BODY_TYPES = C.ACCEPTED_BODY_TYPES.toString();\n\n  this.log = new SIP.LoggerFactory();\n  this.logger = this.getLogger('sip.ua');\n\n  this.cache = {\n    credentials: {}\n  };\n\n  this.configuration = {};\n  this.dialogs = {};\n\n  //User actions outside any session/dialog (MESSAGE)\n  this.applicants = {};\n\n  this.data = {};\n  this.sessions = {};\n  this.subscriptions = {};\n  this.transport = null;\n  this.contact = null;\n  this.status = C.STATUS_INIT;\n  this.error = null;\n  this.transactions = {\n    nist: {},\n    nict: {},\n    ist: {},\n    ict: {}\n  };\n\n  this.transportRecoverAttempts = 0;\n  this.transportRecoveryTimer = null;\n\n  Object.defineProperties(this, {\n    transactionsCount: {\n      get: function() {\n        var type,\n          transactions = ['nist','nict','ist','ict'],\n          count = 0;\n\n        for (type in transactions) {\n          count += Object.keys(this.transactions[transactions[type]]).length;\n        }\n\n        return count;\n      }\n    },\n\n    nictTransactionsCount: {\n      get: function() {\n        return Object.keys(this.transactions['nict']).length;\n      }\n    },\n\n    nistTransactionsCount: {\n      get: function() {\n        return Object.keys(this.transactions['nist']).length;\n      }\n    },\n\n    ictTransactionsCount: {\n      get: function() {\n        return Object.keys(this.transactions['ict']).length;\n      }\n    },\n\n    istTransactionsCount: {\n      get: function() {\n        return Object.keys(this.transactions['ist']).length;\n      }\n    }\n  });\n\n  /**\n   * Load configuration\n   *\n   * @throws {SIP.Exceptions.ConfigurationError}\n   * @throws {TypeError}\n   */\n\n  if(configuration === undefined) {\n    configuration = {};\n  } else if (typeof configuration === 'string' || configuration instanceof String) {\n    configuration = {\n      uri: configuration\n    };\n  }\n\n  // Apply log configuration if present\n  if (configuration.log) {\n    if (configuration.log.hasOwnProperty('builtinEnabled')) {\n      this.log.builtinEnabled = configuration.log.builtinEnabled;\n    }\n\n    if (configuration.log.hasOwnProperty('level')) {\n      this.log.level = configuration.log.level;\n    }\n\n    if (configuration.log.hasOwnProperty('connector')) {\n      this.log.connector = configuration.log.connector;\n    }\n  }\n\n  try {\n    this.loadConfig(configuration);\n  } catch(e) {\n    this.status = C.STATUS_NOT_READY;\n    this.error = C.CONFIGURATION_ERROR;\n    throw e;\n  }\n\n  // Initialize registerContext\n  this.registerContext = new SIP.RegisterContext(this);\n  this.registerContext.on('failed', selfEmit('registrationFailed'));\n  this.registerContext.on('registered', selfEmit('registered'));\n  this.registerContext.on('unregistered', selfEmit('unregistered'));\n\n  if(this.configuration.autostart) {\n    this.start();\n  }\n\n  if (typeof environment.addEventListener === 'function') {\n    // Google Chrome Packaged Apps don't allow 'unload' listeners:\n    // unload is not available in packaged apps\n    if (!(global.chrome && global.chrome.app && global.chrome.app.runtime)) {\n      environment.addEventListener('unload', this.stop.bind(this));\n    }\n  }\n};\nUA.prototype = Object.create(SIP.EventEmitter.prototype);\n\n//=================\n//  High Level API\n//=================\n\nUA.prototype.register = function(options) {\n  this.configuration.register = true;\n  this.registerContext.register(options);\n\n  return this;\n};\n\n/**\n * Unregister.\n *\n * @param {Boolean} [all] unregister all user bindings.\n *\n */\nUA.prototype.unregister = function(options) {\n  this.configuration.register = false;\n\n  var context = this.registerContext;\n  this.afterConnected(context.unregister.bind(context, options));\n\n  return this;\n};\n\nUA.prototype.isRegistered = function() {\n  return this.registerContext.registered;\n};\n\n/**\n * Connection state.\n * @param {Boolean}\n */\nUA.prototype.isConnected = function() {\n  return this.transport ? this.transport.connected : false;\n};\n\nUA.prototype.afterConnected = function afterConnected (callback) {\n  if (this.isConnected()) {\n    callback();\n  } else {\n    this.once('connected', callback);\n  }\n};\n\n/**\n * Make an outgoing call.\n *\n * @param {String} target\n * @param {Object} views\n * @param {Object} [options.media] gets passed to SIP.MediaHandler.getDescription as mediaHint\n *\n * @throws {TypeError}\n *\n */\nUA.prototype.invite = function(target, options) {\n  var context = new SIP.InviteClientContext(this, target, options);\n\n  this.afterConnected(context.invite.bind(context));\n  return context;\n};\n\nUA.prototype.subscribe = function(target, event, options) {\n  var sub = new SIP.Subscription(this, target, event, options);\n\n  this.afterConnected(sub.subscribe.bind(sub));\n  return sub;\n};\n\n/**\n * Send a message.\n *\n * @param {String} target\n * @param {String} body\n * @param {Object} [options]\n *\n * @throws {TypeError}\n *\n */\nUA.prototype.message = function(target, body, options) {\n  if (body === undefined) {\n    throw new TypeError('Not enough arguments');\n  }\n\n  // There is no Message module, so it is okay that the UA handles defaults here.\n  options = Object.create(options || Object.prototype);\n  options.contentType || (options.contentType = 'text/plain');\n  options.body = body;\n\n  return this.request(SIP.C.MESSAGE, target, options);\n};\n\nUA.prototype.request = function (method, target, options) {\n  var req = new SIP.ClientContext(this, method, target, options);\n\n  this.afterConnected(req.send.bind(req));\n  return req;\n};\n\n/**\n * Gracefully close.\n *\n */\nUA.prototype.stop = function() {\n  var session, subscription, applicant,\n    ua = this;\n\n  function transactionsListener() {\n    if (ua.nistTransactionsCount === 0 && ua.nictTransactionsCount === 0) {\n        ua.removeListener('transactionDestroyed', transactionsListener);\n        ua.transport.disconnect();\n    }\n  }\n\n  this.logger.log('user requested closure...');\n\n  if(this.status === C.STATUS_USER_CLOSED) {\n    this.logger.warn('UA already closed');\n    return this;\n  }\n\n  // Clear transportRecoveryTimer\n  SIP.Timers.clearTimeout(this.transportRecoveryTimer);\n\n  // Close registerContext\n  this.logger.log('closing registerContext');\n  this.registerContext.close();\n\n  // Run  _terminate_ on every Session\n  for(session in this.sessions) {\n    this.logger.log('closing session ' + session);\n    this.sessions[session].terminate();\n  }\n\n  //Run _close_ on every Subscription\n  for(subscription in this.subscriptions) {\n    this.logger.log('unsubscribing from subscription ' + subscription);\n    this.subscriptions[subscription].close();\n  }\n\n  // Run  _close_ on every applicant\n  for(applicant in this.applicants) {\n    this.applicants[applicant].close();\n  }\n\n  this.status = C.STATUS_USER_CLOSED;\n\n  /*\n   * If the remaining transactions are all INVITE transactions, there is no need to\n   * wait anymore because every session has already been closed by this method.\n   * - locally originated sessions where terminated (CANCEL or BYE)\n   * - remotely originated sessions where rejected (4XX) or terminated (BYE)\n   * Remaining INVITE transactions belong tho sessions that where answered. This are in\n   * 'accepted' state due to timers 'L' and 'M' defined in [RFC 6026]\n   */\n  if (this.nistTransactionsCount === 0 && this.nictTransactionsCount === 0) {\n    if (this.transport) {\n      this.transport.disconnect();\n    }\n  } else {\n    this.on('transactionDestroyed', transactionsListener);\n  }\n\n  return this;\n};\n\n/**\n * Connect to the WS server if status = STATUS_INIT.\n * Resume UA after being closed.\n *\n */\nUA.prototype.start = function() {\n  var server;\n\n  this.logger.log('user requested startup...');\n  if (this.status === C.STATUS_INIT) {\n    server = this.getNextWsServer();\n    this.status = C.STATUS_STARTING;\n    new SIP.Transport(this, server);\n  } else if(this.status === C.STATUS_USER_CLOSED) {\n    this.logger.log('resuming');\n    this.status = C.STATUS_READY;\n    this.transport.connect();\n  } else if (this.status === C.STATUS_STARTING) {\n    this.logger.log('UA is in STARTING status, not opening new connection');\n  } else if (this.status === C.STATUS_READY) {\n    this.logger.log('UA is in READY status, not resuming');\n  } else {\n    this.logger.error('Connection is down. Auto-Recovery system is trying to connect');\n  }\n\n  return this;\n};\n\n/**\n * Normalize a string into a valid SIP request URI\n *\n * @param {String} target\n *\n * @returns {SIP.URI|undefined}\n */\nUA.prototype.normalizeTarget = function(target) {\n  return SIP.Utils.normalizeTarget(target, this.configuration.hostportParams);\n};\n\n\n//===============================\n//  Private (For internal use)\n//===============================\n\nUA.prototype.saveCredentials = function(credentials) {\n  this.cache.credentials[credentials.realm] = this.cache.credentials[credentials.realm] || {};\n  this.cache.credentials[credentials.realm][credentials.uri] = credentials;\n\n  return this;\n};\n\nUA.prototype.getCredentials = function(request) {\n  var realm, credentials;\n\n  realm = request.ruri.host;\n\n  if (this.cache.credentials[realm] && this.cache.credentials[realm][request.ruri]) {\n    credentials = this.cache.credentials[realm][request.ruri];\n    credentials.method = request.method;\n  }\n\n  return credentials;\n};\n\nUA.prototype.getLogger = function(category, label) {\n  return this.log.getLogger(category, label);\n};\n\n\n//==============================\n// Event Handlers\n//==============================\n\n/**\n * Transport Close event\n * @private\n * @event\n * @param {SIP.Transport} transport.\n */\nUA.prototype.onTransportClosed = function(transport) {\n  // Run _onTransportError_ callback on every client transaction using _transport_\n  var type, idx, length,\n    client_transactions = ['nict', 'ict', 'nist', 'ist'];\n\n  transport.server.status = SIP.Transport.C.STATUS_DISCONNECTED;\n  this.logger.log('connection state set to '+ SIP.Transport.C.STATUS_DISCONNECTED);\n\n  length = client_transactions.length;\n  for (type = 0; type < length; type++) {\n    for(idx in this.transactions[client_transactions[type]]) {\n      this.transactions[client_transactions[type]][idx].onTransportError();\n    }\n  }\n\n  // Close sessions if GRUU is not being used\n  if (!this.contact.pub_gruu) {\n    this.closeSessionsOnTransportError();\n  }\n\n};\n\n/**\n * Unrecoverable transport event.\n * Connection reattempt logic has been done and didn't success.\n * @private\n * @event\n * @param {SIP.Transport} transport.\n */\nUA.prototype.onTransportError = function(transport) {\n  var server;\n\n  this.logger.log('transport ' + transport.server.ws_uri + ' failed | connection state set to '+ SIP.Transport.C.STATUS_ERROR);\n\n  // Close sessions.\n  //Mark this transport as 'down'\n  transport.server.status = SIP.Transport.C.STATUS_ERROR;\n\n  this.emit('disconnected', {\n    transport: transport\n  });\n\n  // try the next transport if the UA isn't closed\n  if(this.status === C.STATUS_USER_CLOSED) {\n    return;\n  }\n\n  server = this.getNextWsServer();\n\n  if(server) {\n    new SIP.Transport(this, server);\n  }else {\n    this.closeSessionsOnTransportError();\n    if (!this.error || this.error !== C.NETWORK_ERROR) {\n      this.status = C.STATUS_NOT_READY;\n      this.error = C.NETWORK_ERROR;\n    }\n    // Transport Recovery process\n    this.recoverTransport();\n  }\n};\n\n/**\n * Transport connection event.\n * @private\n * @event\n * @param {SIP.Transport} transport.\n */\nUA.prototype.onTransportConnected = function(transport) {\n  this.transport = transport;\n\n  // Reset transport recovery counter\n  this.transportRecoverAttempts = 0;\n\n  transport.server.status = SIP.Transport.C.STATUS_READY;\n  this.logger.log('connection state set to '+ SIP.Transport.C.STATUS_READY);\n\n  if(this.status === C.STATUS_USER_CLOSED) {\n    return;\n  }\n\n  this.status = C.STATUS_READY;\n  this.error = null;\n\n  if(this.configuration.register) {\n    this.configuration.authenticationFactory.initialize().then(function () {\n      this.registerContext.onTransportConnected();\n    }.bind(this));\n  }\n\n  this.emit('connected', {\n    transport: transport\n  });\n};\n\n\n/**\n * Transport connecting event\n * @private\n * @param {SIP.Transport} transport.\n * #param {Integer} attempts.\n */\n  UA.prototype.onTransportConnecting = function(transport, attempts) {\n    this.emit('connecting', {\n      transport: transport,\n      attempts: attempts\n    });\n  };\n\n\n/**\n * new Transaction\n * @private\n * @param {SIP.Transaction} transaction.\n */\nUA.prototype.newTransaction = function(transaction) {\n  this.transactions[transaction.type][transaction.id] = transaction;\n  this.emit('newTransaction', {transaction: transaction});\n};\n\n\n/**\n * destroy Transaction\n * @private\n * @param {SIP.Transaction} transaction.\n */\nUA.prototype.destroyTransaction = function(transaction) {\n  delete this.transactions[transaction.type][transaction.id];\n  this.emit('transactionDestroyed', {\n    transaction: transaction\n  });\n};\n\n\n//=========================\n// receiveRequest\n//=========================\n\n/**\n * Request reception\n * @private\n * @param {SIP.IncomingRequest} request.\n */\nUA.prototype.receiveRequest = function(request) {\n  var dialog, session, message,\n    method = request.method,\n    transaction,\n    replaces,\n    replacedDialog,\n    self = this;\n\n  function ruriMatches (uri) {\n    return uri && uri.user === request.ruri.user;\n  }\n\n  // Check that request URI points to us\n  if(!(ruriMatches(this.configuration.uri) ||\n       ruriMatches(this.contact.uri) ||\n       ruriMatches(this.contact.pub_gruu) ||\n       ruriMatches(this.contact.temp_gruu))) {\n    this.logger.warn('Request-URI does not point to us');\n    if (request.method !== SIP.C.ACK) {\n      request.reply_sl(404);\n    }\n    return;\n  }\n\n  // Check request URI scheme\n  if(request.ruri.scheme === SIP.C.SIPS) {\n    request.reply_sl(416);\n    return;\n  }\n\n  // Check transaction\n  if(SIP.Transactions.checkTransaction(this, request)) {\n    return;\n  }\n\n  /* RFC3261 12.2.2\n   * Requests that do not change in any way the state of a dialog may be\n   * received within a dialog (for example, an OPTIONS request).\n   * They are processed as if they had been received outside the dialog.\n   */\n  if(method === SIP.C.OPTIONS) {\n    new SIP.Transactions.NonInviteServerTransaction(request, this);\n    request.reply(200, null, [\n      'Allow: '+ SIP.UA.C.ALLOWED_METHODS.toString(),\n      'Accept: '+ C.ACCEPTED_BODY_TYPES\n    ]);\n  } else if (method === SIP.C.MESSAGE) {\n    message = new SIP.ServerContext(this, request);\n    message.body = request.body;\n    message.content_type = request.getHeader('Content-Type') || 'text/plain';\n\n    request.reply(200, null);\n    this.emit('message', message);\n  } else if (method !== SIP.C.INVITE &&\n             method !== SIP.C.ACK) {\n    // Let those methods pass through to normal processing for now.\n    transaction = new SIP.ServerContext(this, request);\n  }\n\n  // Initial Request\n  if(!request.to_tag) {\n    switch(method) {\n      case SIP.C.INVITE:\n        replaces =\n          this.configuration.replaces !== SIP.C.supported.UNSUPPORTED &&\n          request.parseHeader('replaces');\n\n        if (replaces) {\n          replacedDialog = this.dialogs[replaces.call_id + replaces.replaces_to_tag + replaces.replaces_from_tag];\n\n          if (!replacedDialog) {\n            //Replaced header without a matching dialog, reject\n            request.reply_sl(481, null);\n            return;\n          } else if (replacedDialog.owner.status === SIP.Session.C.STATUS_TERMINATED) {\n            request.reply_sl(603, null);\n            return;\n          } else if (replacedDialog.state === SIP.Dialog.C.STATUS_CONFIRMED && replaces.early_only) {\n            request.reply_sl(486, null);\n            return;\n          }\n        }\n\n        var isMediaSupported = this.configuration.mediaHandlerFactory.isSupported;\n        if(!isMediaSupported || isMediaSupported()) {\n          session = new SIP.InviteServerContext(this, request);\n          session.replacee = replacedDialog && replacedDialog.owner;\n          session.on('invite', function() {\n            self.emit('invite', this);\n          });\n        } else {\n          this.logger.warn('INVITE received but WebRTC is not supported');\n          request.reply(488);\n        }\n        break;\n      case SIP.C.BYE:\n        // Out of dialog BYE received\n        request.reply(481);\n        break;\n      case SIP.C.CANCEL:\n        session = this.findSession(request);\n        if(session) {\n          session.receiveRequest(request);\n        } else {\n          this.logger.warn('received CANCEL request for a non existent session');\n        }\n        break;\n      case SIP.C.ACK:\n        /* Absorb it.\n         * ACK request without a corresponding Invite Transaction\n         * and without To tag.\n         */\n        break;\n      case SIP.C.NOTIFY:\n        if (this.configuration.allowLegacyNotifications && this.listeners('notify').length > 0) {\n          request.reply(200, null);\n          self.emit('notify', {request: request});\n        } else {\n          request.reply(481, 'Subscription does not exist');\n        }\n        break;\n      default:\n        request.reply(405);\n        break;\n    }\n  }\n  // In-dialog request\n  else {\n    dialog = this.findDialog(request);\n\n    if(dialog) {\n      if (method === SIP.C.INVITE) {\n        new SIP.Transactions.InviteServerTransaction(request, this);\n      }\n      dialog.receiveRequest(request);\n    } else if (method === SIP.C.NOTIFY) {\n      session = this.findSession(request);\n      if(session) {\n        session.receiveRequest(request);\n      } else {\n        this.logger.warn('received NOTIFY request for a non existent session');\n        request.reply(481, 'Subscription does not exist');\n      }\n    }\n    /* RFC3261 12.2.2\n     * Request with to tag, but no matching dialog found.\n     * Exception: ACK for an Invite request for which a dialog has not\n     * been created.\n     */\n    else {\n      if(method !== SIP.C.ACK) {\n        request.reply(481);\n      }\n    }\n  }\n};\n\n//=================\n// Utils\n//=================\n\n/**\n * Get the session to which the request belongs to, if any.\n * @private\n * @param {SIP.IncomingRequest} request.\n * @returns {SIP.OutgoingSession|SIP.IncomingSession|null}\n */\nUA.prototype.findSession = function(request) {\n  return this.sessions[request.call_id + request.from_tag] ||\n          this.sessions[request.call_id + request.to_tag] ||\n          null;\n};\n\n/**\n * Get the dialog to which the request belongs to, if any.\n * @private\n * @param {SIP.IncomingRequest}\n * @returns {SIP.Dialog|null}\n */\nUA.prototype.findDialog = function(request) {\n  return this.dialogs[request.call_id + request.from_tag + request.to_tag] ||\n          this.dialogs[request.call_id + request.to_tag + request.from_tag] ||\n          null;\n};\n\n/**\n * Retrieve the next server to which connect.\n * @private\n * @returns {Object} ws_server\n */\nUA.prototype.getNextWsServer = function() {\n  // Order servers by weight\n  var idx, length, ws_server,\n    candidates = [];\n\n  length = this.configuration.wsServers.length;\n  for (idx = 0; idx < length; idx++) {\n    ws_server = this.configuration.wsServers[idx];\n\n    if (ws_server.status === SIP.Transport.C.STATUS_ERROR) {\n      continue;\n    } else if (candidates.length === 0) {\n      candidates.push(ws_server);\n    } else if (ws_server.weight > candidates[0].weight) {\n      candidates = [ws_server];\n    } else if (ws_server.weight === candidates[0].weight) {\n      candidates.push(ws_server);\n    }\n  }\n\n  idx = Math.floor(Math.random() * candidates.length);\n\n  return candidates[idx];\n};\n\n/**\n * Close all sessions on transport error.\n * @private\n */\nUA.prototype.closeSessionsOnTransportError = function() {\n  var idx;\n\n  // Run _transportError_ for every Session\n  for(idx in this.sessions) {\n    this.sessions[idx].onTransportError();\n  }\n  // Call registerContext _onTransportClosed_\n  this.registerContext.onTransportClosed();\n};\n\nUA.prototype.recoverTransport = function(ua) {\n  var idx, length, k, nextRetry, count, server;\n\n  ua = ua || this;\n  count = ua.transportRecoverAttempts;\n\n  length = ua.configuration.wsServers.length;\n  for (idx = 0; idx < length; idx++) {\n    ua.configuration.wsServers[idx].status = 0;\n  }\n\n  server = ua.getNextWsServer();\n\n  k = Math.floor((Math.random() * Math.pow(2,count)) +1);\n  nextRetry = k * ua.configuration.connectionRecoveryMinInterval;\n\n  if (nextRetry > ua.configuration.connectionRecoveryMaxInterval) {\n    this.logger.log('time for next connection attempt exceeds connectionRecoveryMaxInterval, resetting counter');\n    nextRetry = ua.configuration.connectionRecoveryMinInterval;\n    count = 0;\n  }\n\n  this.logger.log('next connection attempt in '+ nextRetry +' seconds');\n\n  this.transportRecoveryTimer = SIP.Timers.setTimeout(\n    function(){\n      ua.transportRecoverAttempts = count + 1;\n      new SIP.Transport(ua, server);\n    }, nextRetry * 1000);\n};\n\nfunction checkAuthenticationFactory (authenticationFactory) {\n  if (!(authenticationFactory instanceof Function)) {\n    return;\n  }\n  if (!authenticationFactory.initialize) {\n    authenticationFactory.initialize = function initialize () {\n      return SIP.Utils.Promise.resolve();\n    };\n  }\n  return authenticationFactory;\n}\n\n/**\n * Configuration load.\n * @private\n * returns {Boolean}\n */\nUA.prototype.loadConfig = function(configuration) {\n  // Settings and default values\n  var parameter, value, checked_value, hostportParams, registrarServer,\n    settings = {\n      /* Host address\n      * Value to be set in Via sent_by and host part of Contact FQDN\n      */\n      viaHost: SIP.Utils.createRandomToken(12) + '.invalid',\n\n      uri: new SIP.URI('sip', 'anonymous.' + SIP.Utils.createRandomToken(6), 'anonymous.invalid', null, null),\n      wsServers: [{\n        scheme: 'WSS',\n        sip_uri: '<sip:edge.sip.onsip.com;transport=ws;lr>',\n        status: 0,\n        weight: 0,\n        ws_uri: 'wss://edge.sip.onsip.com'\n      }],\n\n      // Password\n      password: null,\n\n      // Registration parameters\n      registerExpires: 600,\n      register: true,\n      registrarServer: null,\n\n      // Transport related parameters\n      wsServerMaxReconnection: 3,\n      wsServerReconnectionTimeout: 4,\n\n      connectionRecoveryMinInterval: 2,\n      connectionRecoveryMaxInterval: 30,\n\n      keepAliveInterval: 0,\n\n      extraSupported: [],\n\n      usePreloadedRoute: false,\n\n      //string to be inserted into User-Agent request header\n      userAgentString: SIP.C.USER_AGENT,\n\n      // Session parameters\n      iceCheckingTimeout: 5000,\n      noAnswerTimeout: 60,\n      stunServers: ['stun:stun.l.google.com:19302'],\n      turnServers: [],\n\n      // Logging parameters\n      traceSip: false,\n\n      // Hacks\n      hackViaTcp: false,\n      hackIpInContact: false,\n      hackWssInTransport: false,\n      hackAllowUnregisteredOptionTags: false,\n      hackCleanJitsiSdpImageattr: false,\n      hackStripTcp: false,\n\n      contactTransport: 'ws',\n      forceRport: false,\n\n      //autostarting\n      autostart: true,\n\n      //Reliable Provisional Responses\n      rel100: SIP.C.supported.UNSUPPORTED,\n\n      // Replaces header (RFC 3891)\n      // http://tools.ietf.org/html/rfc3891\n      replaces: SIP.C.supported.UNSUPPORTED,\n\n      mediaHandlerFactory: SIP.WebRTC.MediaHandler.defaultFactory,\n\n      authenticationFactory: checkAuthenticationFactory(function authenticationFactory (ua) {\n        return new SIP.DigestAuthentication(ua);\n      }),\n\n      allowLegacyNotifications: false\n    };\n\n  // Pre-Configuration\n  function aliasUnderscored (parameter, logger) {\n    var underscored = parameter.replace(/([a-z][A-Z])/g, function (m) {\n      return m[0] + '_' + m[1].toLowerCase();\n    });\n\n    if (parameter === underscored) {\n      return;\n    }\n\n    var hasParameter = configuration.hasOwnProperty(parameter);\n    if (configuration.hasOwnProperty(underscored)) {\n      logger.warn(underscored + ' is deprecated, please use ' + parameter);\n      if (hasParameter) {\n        logger.warn(parameter + ' overriding ' + underscored);\n      }\n    }\n\n    configuration[parameter] = hasParameter ? configuration[parameter] : configuration[underscored];\n  }\n\n  // Check Mandatory parameters\n  for(parameter in UA.configuration_check.mandatory) {\n    aliasUnderscored(parameter, this.logger);\n    if(!configuration.hasOwnProperty(parameter)) {\n      throw new SIP.Exceptions.ConfigurationError(parameter);\n    } else {\n      value = configuration[parameter];\n      checked_value = UA.configuration_check.mandatory[parameter](value);\n      if (checked_value !== undefined) {\n        settings[parameter] = checked_value;\n      } else {\n        throw new SIP.Exceptions.ConfigurationError(parameter, value);\n      }\n    }\n  }\n\n  SIP.Utils.optionsOverride(configuration, 'rel100', 'reliable', true, this.logger, SIP.C.supported.UNSUPPORTED);\n\n  var emptyArraysAllowed = ['stunServers', 'turnServers'];\n\n  // Check Optional parameters\n  for(parameter in UA.configuration_check.optional) {\n    aliasUnderscored(parameter, this.logger);\n    if(configuration.hasOwnProperty(parameter)) {\n      value = configuration[parameter];\n\n      // If the parameter value is an empty array, but shouldn't be, apply its default value.\n      if (value instanceof Array && value.length === 0 && emptyArraysAllowed.indexOf(parameter) < 0) { continue; }\n\n      // If the parameter value is null, empty string, or undefined then apply its default value.\n      if(value === null || value === \"\" || value === undefined) { continue; }\n      // If it's a number with NaN value then also apply its default value.\n      // NOTE: JS does not allow \"value === NaN\", the following does the work:\n      else if(typeof(value) === 'number' && isNaN(value)) { continue; }\n\n      checked_value = UA.configuration_check.optional[parameter](value);\n      if (checked_value !== undefined) {\n        settings[parameter] = checked_value;\n      } else {\n        throw new SIP.Exceptions.ConfigurationError(parameter, value);\n      }\n    }\n  }\n\n  // Sanity Checks\n\n  // Connection recovery intervals\n  if(settings.connectionRecoveryMaxInterval < settings.connectionRecoveryMinInterval) {\n    throw new SIP.Exceptions.ConfigurationError('connectionRecoveryMaxInterval', settings.connectionRecoveryMaxInterval);\n  }\n\n  // Post Configuration Process\n\n  // Allow passing 0 number as displayName.\n  if (settings.displayName === 0) {\n    settings.displayName = '0';\n  }\n\n  // Instance-id for GRUU\n  if (!settings.instanceId) {\n    settings.instanceId = SIP.Utils.newUUID();\n  }\n\n  // sipjsId instance parameter. Static random tag of length 5\n  settings.sipjsId = SIP.Utils.createRandomToken(5);\n\n  // String containing settings.uri without scheme and user.\n  hostportParams = settings.uri.clone();\n  hostportParams.user = null;\n  settings.hostportParams = hostportParams.toRaw().replace(/^sip:/i, '');\n\n  /* Check whether authorizationUser is explicitly defined.\n   * Take 'settings.uri.user' value if not.\n   */\n  if (!settings.authorizationUser) {\n    settings.authorizationUser = settings.uri.user;\n  }\n\n  /* If no 'registrarServer' is set use the 'uri' value without user portion. */\n  if (!settings.registrarServer) {\n    registrarServer = settings.uri.clone();\n    registrarServer.user = null;\n    settings.registrarServer = registrarServer;\n  }\n\n  // User noAnswerTimeout\n  settings.noAnswerTimeout = settings.noAnswerTimeout * 1000;\n\n  // Via Host\n  if (settings.hackIpInContact) {\n    if (typeof settings.hackIpInContact === 'boolean') {\n      settings.viaHost = SIP.Utils.getRandomTestNetIP();\n    }\n    else if (typeof settings.hackIpInContact === 'string') {\n      settings.viaHost = settings.hackIpInContact;\n    }\n  }\n\n  // Contact transport parameter\n  if (settings.hackWssInTransport) {\n    settings.contactTransport = 'wss';\n  }\n\n  this.contact = {\n    pub_gruu: null,\n    temp_gruu: null,\n    uri: new SIP.URI('sip', SIP.Utils.createRandomToken(8), settings.viaHost, null, {transport: settings.contactTransport}),\n    toString: function(options){\n      options = options || {};\n\n      var\n        anonymous = options.anonymous || null,\n        outbound = options.outbound || null,\n        contact = '<';\n\n      if (anonymous) {\n        contact += (this.temp_gruu || ('sip:anonymous@anonymous.invalid;transport='+settings.contactTransport)).toString();\n      } else {\n        contact += (this.pub_gruu || this.uri).toString();\n      }\n\n      if (outbound) {\n        contact += ';ob';\n      }\n\n      contact += '>';\n\n      return contact;\n    }\n  };\n\n  // media overrides mediaConstraints\n  SIP.Utils.optionsOverride(settings, 'media', 'mediaConstraints', true, this.logger);\n\n  // Fill the value of the configuration_skeleton\n  for(parameter in settings) {\n    UA.configuration_skeleton[parameter].value = settings[parameter];\n  }\n\n  Object.defineProperties(this.configuration, UA.configuration_skeleton);\n\n  // Clean UA.configuration_skeleton\n  for(parameter in settings) {\n    UA.configuration_skeleton[parameter].value = '';\n  }\n\n  this.logger.log('configuration parameters after validation:');\n  for(parameter in settings) {\n    switch(parameter) {\n      case 'uri':\n      case 'registrarServer':\n      case 'mediaHandlerFactory':\n        this.logger.log('· ' + parameter + ': ' + settings[parameter]);\n        break;\n      case 'password':\n        this.logger.log('· ' + parameter + ': ' + 'NOT SHOWN');\n        break;\n      default:\n        this.logger.log('· ' + parameter + ': ' + JSON.stringify(settings[parameter]));\n    }\n  }\n\n  return;\n};\n\n/**\n * Configuration Object skeleton.\n * @private\n */\nUA.configuration_skeleton = (function() {\n  var idx,  parameter,\n    skeleton = {},\n    parameters = [\n      // Internal parameters\n      \"sipjsId\",\n      \"hostportParams\",\n\n      // Optional user configurable parameters\n      \"uri\",\n      \"wsServers\",\n      \"authorizationUser\",\n      \"connectionRecoveryMaxInterval\",\n      \"connectionRecoveryMinInterval\",\n      \"keepAliveInterval\",\n      \"extraSupported\",\n      \"displayName\",\n      \"hackViaTcp\", // false.\n      \"hackIpInContact\", //false\n      \"hackWssInTransport\", //false\n      \"hackAllowUnregisteredOptionTags\", //false\n      \"hackCleanJitsiSdpImageattr\", //false\n      \"hackStripTcp\", //false\n      \"contactTransport\", // 'ws'\n      \"forceRport\", // false\n      \"iceCheckingTimeout\",\n      \"instanceId\",\n      \"noAnswerTimeout\", // 30 seconds.\n      \"password\",\n      \"registerExpires\", // 600 seconds.\n      \"registrarServer\",\n      \"reliable\",\n      \"rel100\",\n      \"replaces\",\n      \"userAgentString\", //SIP.C.USER_AGENT\n      \"autostart\",\n      \"stunServers\",\n      \"traceSip\",\n      \"turnServers\",\n      \"usePreloadedRoute\",\n      \"wsServerMaxReconnection\",\n      \"wsServerReconnectionTimeout\",\n      \"mediaHandlerFactory\",\n      \"media\",\n      \"mediaConstraints\",\n      \"authenticationFactory\",\n      \"allowLegacyNotifications\",\n\n      // Post-configuration generated parameters\n      \"via_core_value\",\n      \"viaHost\"\n    ];\n\n  for(idx in parameters) {\n    parameter = parameters[idx];\n    skeleton[parameter] = {\n      value: '',\n      writable: false,\n      configurable: false\n    };\n  }\n\n  skeleton['register'] = {\n    value: '',\n    writable: true,\n    configurable: false\n  };\n\n  return skeleton;\n}());\n\n/**\n * Configuration checker.\n * @private\n * @return {Boolean}\n */\nUA.configuration_check = {\n  mandatory: {\n  },\n\n  optional: {\n\n    uri: function(uri) {\n      var parsed;\n\n      if (!(/^sip:/i).test(uri)) {\n        uri = SIP.C.SIP + ':' + uri;\n      }\n      parsed = SIP.URI.parse(uri);\n\n      if(!parsed) {\n        return;\n      } else if(!parsed.user) {\n        return;\n      } else {\n        return parsed;\n      }\n    },\n\n    //Note: this function used to call 'this.logger.error' but calling 'this' with anything here is invalid\n    wsServers: function(wsServers) {\n      var idx, length, url;\n\n      /* Allow defining wsServers parameter as:\n       *  String: \"host\"\n       *  Array of Strings: [\"host1\", \"host2\"]\n       *  Array of Objects: [{ws_uri:\"host1\", weight:1}, {ws_uri:\"host2\", weight:0}]\n       *  Array of Objects and Strings: [{ws_uri:\"host1\"}, \"host2\"]\n       */\n      if (typeof wsServers === 'string') {\n        wsServers = [{ws_uri: wsServers}];\n      } else if (wsServers instanceof Array) {\n        length = wsServers.length;\n        for (idx = 0; idx < length; idx++) {\n          if (typeof wsServers[idx] === 'string'){\n            wsServers[idx] = {ws_uri: wsServers[idx]};\n          }\n        }\n      } else {\n        return;\n      }\n\n      if (wsServers.length === 0) {\n        return false;\n      }\n\n      length = wsServers.length;\n      for (idx = 0; idx < length; idx++) {\n        if (!wsServers[idx].ws_uri) {\n          return;\n        }\n        if (wsServers[idx].weight && !Number(wsServers[idx].weight)) {\n          return;\n        }\n\n        url = SIP.Grammar.parse(wsServers[idx].ws_uri, 'absoluteURI');\n\n        if(url === -1) {\n          return;\n        } else if(['wss', 'ws', 'udp'].indexOf(url.scheme) < 0) {\n          return;\n        } else {\n          wsServers[idx].sip_uri = '<sip:' + url.host + (url.port ? ':' + url.port : '') + ';transport=' + url.scheme.replace(/^wss$/i, 'ws') + ';lr>';\n\n          if (!wsServers[idx].weight) {\n            wsServers[idx].weight = 0;\n          }\n\n          wsServers[idx].status = 0;\n          wsServers[idx].scheme = url.scheme.toUpperCase();\n        }\n      }\n      return wsServers;\n    },\n\n    authorizationUser: function(authorizationUser) {\n      if(SIP.Grammar.parse('\"'+ authorizationUser +'\"', 'quoted_string') === -1) {\n        return;\n      } else {\n        return authorizationUser;\n      }\n    },\n\n    connectionRecoveryMaxInterval: function(connectionRecoveryMaxInterval) {\n      var value;\n      if(SIP.Utils.isDecimal(connectionRecoveryMaxInterval)) {\n        value = Number(connectionRecoveryMaxInterval);\n        if(value > 0) {\n          return value;\n        }\n      }\n    },\n\n    connectionRecoveryMinInterval: function(connectionRecoveryMinInterval) {\n      var value;\n      if(SIP.Utils.isDecimal(connectionRecoveryMinInterval)) {\n        value = Number(connectionRecoveryMinInterval);\n        if(value > 0) {\n          return value;\n        }\n      }\n    },\n\n    displayName: function(displayName) {\n      if(SIP.Grammar.parse('\"' + displayName + '\"', 'displayName') === -1) {\n        return;\n      } else {\n        return displayName;\n      }\n    },\n\n    hackViaTcp: function(hackViaTcp) {\n      if (typeof hackViaTcp === 'boolean') {\n        return hackViaTcp;\n      }\n    },\n\n    hackIpInContact: function(hackIpInContact) {\n      if (typeof hackIpInContact === 'boolean') {\n        return hackIpInContact;\n      }\n      else if (typeof hackIpInContact === 'string' && SIP.Grammar.parse(hackIpInContact, 'host') !== -1) {\n        return hackIpInContact;\n      }\n    },\n\n    iceCheckingTimeout: function(iceCheckingTimeout) {\n      if(SIP.Utils.isDecimal(iceCheckingTimeout)) {\n        return Math.max(500, iceCheckingTimeout);\n      }\n    },\n\n    hackWssInTransport: function(hackWssInTransport) {\n      if (typeof hackWssInTransport === 'boolean') {\n        return hackWssInTransport;\n      }\n    },\n\n    hackAllowUnregisteredOptionTags: function(hackAllowUnregisteredOptionTags) {\n      if (typeof hackAllowUnregisteredOptionTags === 'boolean') {\n        return hackAllowUnregisteredOptionTags;\n      }\n    },\n\n    hackCleanJitsiSdpImageattr: function(hackCleanJitsiSdpImageattr) {\n      if (typeof hackCleanJitsiSdpImageattr === 'boolean') {\n        return hackCleanJitsiSdpImageattr;\n      }\n    },\n\n    hackStripTcp: function(hackStripTcp) {\n      if (typeof hackStripTcp === 'boolean') {\n        return hackStripTcp;\n      }\n    },\n\n    contactTransport: function(contactTransport) {\n      if (typeof contactTransport === 'string') {\n        return contactTransport;\n      }\n    },\n\n    forceRport: function(forceRport) {\n      if (typeof forceRport === 'boolean') {\n        return forceRport;\n      }\n    },\n\n    instanceId: function(instanceId) {\n      if(typeof instanceId !== 'string') {\n        return;\n      }\n\n      if ((/^uuid:/i.test(instanceId))) {\n        instanceId = instanceId.substr(5);\n      }\n\n      if(SIP.Grammar.parse(instanceId, 'uuid') === -1) {\n        return;\n      } else {\n        return instanceId;\n      }\n    },\n\n    keepAliveInterval: function(keepAliveInterval) {\n      var value;\n      if (SIP.Utils.isDecimal(keepAliveInterval)) {\n        value = Number(keepAliveInterval);\n        if (value > 0) {\n          return value;\n        }\n      }\n    },\n\n    extraSupported: function(optionTags) {\n      var idx, length;\n\n      if (!(optionTags instanceof Array)) {\n        return;\n      }\n\n      length = optionTags.length;\n      for (idx = 0; idx < length; idx++) {\n        if (typeof optionTags[idx] !== 'string') {\n          return;\n        }\n      }\n\n      return optionTags;\n    },\n\n    noAnswerTimeout: function(noAnswerTimeout) {\n      var value;\n      if (SIP.Utils.isDecimal(noAnswerTimeout)) {\n        value = Number(noAnswerTimeout);\n        if (value > 0) {\n          return value;\n        }\n      }\n    },\n\n    password: function(password) {\n      return String(password);\n    },\n\n    rel100: function(rel100) {\n      if(rel100 === SIP.C.supported.REQUIRED) {\n        return SIP.C.supported.REQUIRED;\n      } else if (rel100 === SIP.C.supported.SUPPORTED) {\n        return SIP.C.supported.SUPPORTED;\n      } else  {\n        return SIP.C.supported.UNSUPPORTED;\n      }\n    },\n\n    replaces: function(replaces) {\n      if(replaces === SIP.C.supported.REQUIRED) {\n        return SIP.C.supported.REQUIRED;\n      } else if (replaces === SIP.C.supported.SUPPORTED) {\n        return SIP.C.supported.SUPPORTED;\n      } else  {\n        return SIP.C.supported.UNSUPPORTED;\n      }\n    },\n\n    register: function(register) {\n      if (typeof register === 'boolean') {\n        return register;\n      }\n    },\n\n    registerExpires: function(registerExpires) {\n      var value;\n      if (SIP.Utils.isDecimal(registerExpires)) {\n        value = Number(registerExpires);\n        if (value > 0) {\n          return value;\n        }\n      }\n    },\n\n    registrarServer: function(registrarServer) {\n      var parsed;\n\n      if(typeof registrarServer !== 'string') {\n        return;\n      }\n\n      if (!/^sip:/i.test(registrarServer)) {\n        registrarServer = SIP.C.SIP + ':' + registrarServer;\n      }\n      parsed = SIP.URI.parse(registrarServer);\n\n      if(!parsed) {\n        return;\n      } else if(parsed.user) {\n        return;\n      } else {\n        return parsed;\n      }\n    },\n\n    stunServers: function(stunServers) {\n      var idx, length, stun_server;\n\n      if (typeof stunServers === 'string') {\n        stunServers = [stunServers];\n      } else if (!(stunServers instanceof Array)) {\n        return;\n      }\n\n      length = stunServers.length;\n      for (idx = 0; idx < length; idx++) {\n        stun_server = stunServers[idx];\n        if (!(/^stuns?:/.test(stun_server))) {\n          stun_server = 'stun:' + stun_server;\n        }\n\n        if(SIP.Grammar.parse(stun_server, 'stun_URI') === -1) {\n          return;\n        } else {\n          stunServers[idx] = stun_server;\n        }\n      }\n      return stunServers;\n    },\n\n    traceSip: function(traceSip) {\n      if (typeof traceSip === 'boolean') {\n        return traceSip;\n      }\n    },\n\n    turnServers: function(turnServers) {\n      var idx, jdx, length, turn_server, num_turn_server_urls, url;\n\n      if (turnServers instanceof Array) {\n        // Do nothing\n      } else {\n        turnServers = [turnServers];\n      }\n\n      length = turnServers.length;\n      for (idx = 0; idx < length; idx++) {\n        turn_server = turnServers[idx];\n        //Backwards compatibility: Allow defining the turn_server url with the 'server' property.\n        if (turn_server.server) {\n          turn_server.urls = [turn_server.server];\n        }\n\n        if (!turn_server.urls || !turn_server.username || !turn_server.password) {\n          return;\n        }\n\n        if (turn_server.urls instanceof Array) {\n          num_turn_server_urls = turn_server.urls.length;\n        } else {\n          turn_server.urls = [turn_server.urls];\n          num_turn_server_urls = 1;\n        }\n\n        for (jdx = 0; jdx < num_turn_server_urls; jdx++) {\n          url = turn_server.urls[jdx];\n\n          if (!(/^turns?:/.test(url))) {\n            url = 'turn:' + url;\n          }\n\n          if(SIP.Grammar.parse(url, 'turn_URI') === -1) {\n            return;\n          }\n        }\n      }\n      return turnServers;\n    },\n\n    userAgentString: function(userAgentString) {\n      if (typeof userAgentString === 'string') {\n        return userAgentString;\n      }\n    },\n\n    usePreloadedRoute: function(usePreloadedRoute) {\n      if (typeof usePreloadedRoute === 'boolean') {\n        return usePreloadedRoute;\n      }\n    },\n\n    wsServerMaxReconnection: function(wsServerMaxReconnection) {\n      var value;\n      if (SIP.Utils.isDecimal(wsServerMaxReconnection)) {\n        value = Number(wsServerMaxReconnection);\n        if (value > 0) {\n          return value;\n        }\n      }\n    },\n\n    wsServerReconnectionTimeout: function(wsServerReconnectionTimeout) {\n      var value;\n      if (SIP.Utils.isDecimal(wsServerReconnectionTimeout)) {\n        value = Number(wsServerReconnectionTimeout);\n        if (value > 0) {\n          return value;\n        }\n      }\n    },\n\n    autostart: function(autostart) {\n      if (typeof autostart === 'boolean') {\n        return autostart;\n      }\n    },\n\n    mediaHandlerFactory: function(mediaHandlerFactory) {\n      if (mediaHandlerFactory instanceof Function) {\n        var promisifiedFactory = function promisifiedFactory () {\n          var mediaHandler = mediaHandlerFactory.apply(this, arguments);\n\n          function patchMethod (methodName) {\n            var method = mediaHandler[methodName];\n            if (method.length > 1) {\n              var callbacksFirst = methodName === 'getDescription';\n              mediaHandler[methodName] = SIP.Utils.promisify(mediaHandler, methodName, callbacksFirst);\n            }\n          }\n\n          patchMethod('getDescription');\n          patchMethod('setDescription');\n\n          return mediaHandler;\n        };\n\n        promisifiedFactory.isSupported = mediaHandlerFactory.isSupported;\n        return promisifiedFactory;\n      }\n    },\n\n    authenticationFactory: checkAuthenticationFactory,\n\n    allowLegacyNotifications: function(allowLegacyNotifications) {\n      if (typeof allowLegacyNotifications === 'boolean') {\n        return allowLegacyNotifications;\n      }\n    }\n  }\n};\n\nUA.C = C;\nSIP.UA = UA;\n};\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../../../webpack/buildin/global.js */ 141)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1VBLmpzPzhjZTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsOENBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9DQUFvQztBQUMvQztBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaLFlBQVk7QUFDWixXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEI7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQixlQUFlO0FBQy9CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix5QkFBeUI7QUFDeEQ7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGlCQUFpQjtBQUNoRCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0IsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWUsY0FBYztBQUM3Qjs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLGNBQWM7QUFDN0I7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxhQUFhO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0dBQXNHLFVBQVU7O0FBRWhIO0FBQ0EsaUVBQWlFLFVBQVU7QUFDM0U7QUFDQTtBQUNBLDJEQUEyRCxVQUFVOztBQUVyRTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRixxQ0FBcUM7QUFDMUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdFQUF3RTtBQUN4RSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIseUJBQXlCLEdBQUcseUJBQXlCO0FBQ25GLDBDQUEwQyxlQUFlO0FBQ3pEO0FBQ0E7QUFDQSxzQkFBc0Isa0JBQWtCO0FBQ3hDLE9BQU87QUFDUDtBQUNBLHFCQUFxQixjQUFjO0FBQ25DO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsY0FBYztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVCw2RkFBNkYscURBQXFEOztBQUVsSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQixjQUFjO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLGNBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLGNBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLDRCQUE0QjtBQUNqRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMzY5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBhdWdtZW50cyBTSVBcbiAqIEBjbGFzcyBDbGFzcyBjcmVhdGluZyBhIFNJUCBVc2VyIEFnZW50LlxuICogQHBhcmFtIHtmdW5jdGlvbiByZXR1cm5pbmcgU0lQLk1lZGlhSGFuZGxlcn0gW2NvbmZpZ3VyYXRpb24ubWVkaWFIYW5kbGVyRmFjdG9yeV1cbiAqICAgICAgICBBIGZ1bmN0aW9uIHdpbGwgYmUgaW52b2tlZCBieSBlYWNoIG9mIHRoZSBVQSdzIFNlc3Npb25zIHRvIGJ1aWxkIHRoZSBNZWRpYUhhbmRsZXIgZm9yIHRoYXQgU2Vzc2lvbi5cbiAqICAgICAgICBJZiBubyAob3IgYSBmYWxzeSkgdmFsdWUgaXMgcHJvdmlkZWQsIGVhY2ggU2Vzc2lvbiB3aWxsIHVzZSBhIGRlZmF1bHQgKFdlYlJUQykgTWVkaWFIYW5kbGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlndXJhdGlvbi5tZWRpYV0gZ2V0cyBwYXNzZWQgdG8gU0lQLk1lZGlhSGFuZGxlci5nZXREZXNjcmlwdGlvbiBhcyBtZWRpYUhpbnRcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoU0lQLCBlbnZpcm9ubWVudCkge1xudmFyIFVBLFxuICBDID0ge1xuICAgIC8vIFVBIHN0YXR1cyBjb2Rlc1xuICAgIFNUQVRVU19JTklUOiAgICAgICAgICAgICAgICAwLFxuICAgIFNUQVRVU19TVEFSVElORzogICAgICAgICAgICAxLFxuICAgIFNUQVRVU19SRUFEWTogICAgICAgICAgICAgICAyLFxuICAgIFNUQVRVU19VU0VSX0NMT1NFRDogICAgICAgICAzLFxuICAgIFNUQVRVU19OT1RfUkVBRFk6ICAgICAgICAgICA0LFxuXG4gICAgLy8gVUEgZXJyb3IgY29kZXNcbiAgICBDT05GSUdVUkFUSU9OX0VSUk9SOiAgMSxcbiAgICBORVRXT1JLX0VSUk9SOiAgICAgICAgMixcblxuICAgIEFMTE9XRURfTUVUSE9EUzogW1xuICAgICAgJ0FDSycsXG4gICAgICAnQ0FOQ0VMJyxcbiAgICAgICdJTlZJVEUnLFxuICAgICAgJ01FU1NBR0UnLFxuICAgICAgJ0JZRScsXG4gICAgICAnT1BUSU9OUycsXG4gICAgICAnSU5GTycsXG4gICAgICAnTk9USUZZJyxcbiAgICAgICdSRUZFUidcbiAgICBdLFxuXG4gICAgQUNDRVBURURfQk9EWV9UWVBFUzogW1xuICAgICAgJ2FwcGxpY2F0aW9uL3NkcCcsXG4gICAgICAnYXBwbGljYXRpb24vZHRtZi1yZWxheSdcbiAgICBdLFxuXG4gICAgTUFYX0ZPUldBUkRTOiA3MCxcbiAgICBUQUdfTEVOR1RIOiAxMFxuICB9O1xuXG5VQSA9IGZ1bmN0aW9uKGNvbmZpZ3VyYXRpb24pIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiBmb3IgZm9yd2FyZGluZyBldmVudHNcbiAgZnVuY3Rpb24gc2VsZkVtaXQodHlwZSkge1xuICAgIC8vcmVnaXN0cmF0aW9uRmFpbGVkIGhhbmRsZXIgaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHMuIEFsbG93IGV2ZW50IGhhbmRsZXJzIHRvIGJlIGludm9rZWQgd2l0aCBhIHZhcmlhYmxlIG5vLiBvZiBhcmd1bWVudHNcbiAgICByZXR1cm4gc2VsZi5lbWl0LmJpbmQoc2VsZiwgdHlwZSk7XG4gIH1cblxuICAvLyBTZXQgQWNjZXB0ZWQgQm9keSBUeXBlc1xuICBDLkFDQ0VQVEVEX0JPRFlfVFlQRVMgPSBDLkFDQ0VQVEVEX0JPRFlfVFlQRVMudG9TdHJpbmcoKTtcblxuICB0aGlzLmxvZyA9IG5ldyBTSVAuTG9nZ2VyRmFjdG9yeSgpO1xuICB0aGlzLmxvZ2dlciA9IHRoaXMuZ2V0TG9nZ2VyKCdzaXAudWEnKTtcblxuICB0aGlzLmNhY2hlID0ge1xuICAgIGNyZWRlbnRpYWxzOiB7fVxuICB9O1xuXG4gIHRoaXMuY29uZmlndXJhdGlvbiA9IHt9O1xuICB0aGlzLmRpYWxvZ3MgPSB7fTtcblxuICAvL1VzZXIgYWN0aW9ucyBvdXRzaWRlIGFueSBzZXNzaW9uL2RpYWxvZyAoTUVTU0FHRSlcbiAgdGhpcy5hcHBsaWNhbnRzID0ge307XG5cbiAgdGhpcy5kYXRhID0ge307XG4gIHRoaXMuc2Vzc2lvbnMgPSB7fTtcbiAgdGhpcy5zdWJzY3JpcHRpb25zID0ge307XG4gIHRoaXMudHJhbnNwb3J0ID0gbnVsbDtcbiAgdGhpcy5jb250YWN0ID0gbnVsbDtcbiAgdGhpcy5zdGF0dXMgPSBDLlNUQVRVU19JTklUO1xuICB0aGlzLmVycm9yID0gbnVsbDtcbiAgdGhpcy50cmFuc2FjdGlvbnMgPSB7XG4gICAgbmlzdDoge30sXG4gICAgbmljdDoge30sXG4gICAgaXN0OiB7fSxcbiAgICBpY3Q6IHt9XG4gIH07XG5cbiAgdGhpcy50cmFuc3BvcnRSZWNvdmVyQXR0ZW1wdHMgPSAwO1xuICB0aGlzLnRyYW5zcG9ydFJlY292ZXJ5VGltZXIgPSBudWxsO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIHtcbiAgICB0cmFuc2FjdGlvbnNDb3VudDoge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHR5cGUsXG4gICAgICAgICAgdHJhbnNhY3Rpb25zID0gWyduaXN0JywnbmljdCcsJ2lzdCcsJ2ljdCddLFxuICAgICAgICAgIGNvdW50ID0gMDtcblxuICAgICAgICBmb3IgKHR5cGUgaW4gdHJhbnNhY3Rpb25zKSB7XG4gICAgICAgICAgY291bnQgKz0gT2JqZWN0LmtleXModGhpcy50cmFuc2FjdGlvbnNbdHJhbnNhY3Rpb25zW3R5cGVdXSkubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBuaWN0VHJhbnNhY3Rpb25zQ291bnQ6IHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLnRyYW5zYWN0aW9uc1snbmljdCddKS5sZW5ndGg7XG4gICAgICB9XG4gICAgfSxcblxuICAgIG5pc3RUcmFuc2FjdGlvbnNDb3VudDoge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMudHJhbnNhY3Rpb25zWyduaXN0J10pLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaWN0VHJhbnNhY3Rpb25zQ291bnQ6IHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLnRyYW5zYWN0aW9uc1snaWN0J10pLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaXN0VHJhbnNhY3Rpb25zQ291bnQ6IHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLnRyYW5zYWN0aW9uc1snaXN0J10pLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBMb2FkIGNvbmZpZ3VyYXRpb25cbiAgICpcbiAgICogQHRocm93cyB7U0lQLkV4Y2VwdGlvbnMuQ29uZmlndXJhdGlvbkVycm9yfVxuICAgKiBAdGhyb3dzIHtUeXBlRXJyb3J9XG4gICAqL1xuXG4gIGlmKGNvbmZpZ3VyYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbmZpZ3VyYXRpb24gPSB7fTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgY29uZmlndXJhdGlvbiA9PT0gJ3N0cmluZycgfHwgY29uZmlndXJhdGlvbiBpbnN0YW5jZW9mIFN0cmluZykge1xuICAgIGNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICB1cmk6IGNvbmZpZ3VyYXRpb25cbiAgICB9O1xuICB9XG5cbiAgLy8gQXBwbHkgbG9nIGNvbmZpZ3VyYXRpb24gaWYgcHJlc2VudFxuICBpZiAoY29uZmlndXJhdGlvbi5sb2cpIHtcbiAgICBpZiAoY29uZmlndXJhdGlvbi5sb2cuaGFzT3duUHJvcGVydHkoJ2J1aWx0aW5FbmFibGVkJykpIHtcbiAgICAgIHRoaXMubG9nLmJ1aWx0aW5FbmFibGVkID0gY29uZmlndXJhdGlvbi5sb2cuYnVpbHRpbkVuYWJsZWQ7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZ3VyYXRpb24ubG9nLmhhc093blByb3BlcnR5KCdsZXZlbCcpKSB7XG4gICAgICB0aGlzLmxvZy5sZXZlbCA9IGNvbmZpZ3VyYXRpb24ubG9nLmxldmVsO1xuICAgIH1cblxuICAgIGlmIChjb25maWd1cmF0aW9uLmxvZy5oYXNPd25Qcm9wZXJ0eSgnY29ubmVjdG9yJykpIHtcbiAgICAgIHRoaXMubG9nLmNvbm5lY3RvciA9IGNvbmZpZ3VyYXRpb24ubG9nLmNvbm5lY3RvcjtcbiAgICB9XG4gIH1cblxuICB0cnkge1xuICAgIHRoaXMubG9hZENvbmZpZyhjb25maWd1cmF0aW9uKTtcbiAgfSBjYXRjaChlKSB7XG4gICAgdGhpcy5zdGF0dXMgPSBDLlNUQVRVU19OT1RfUkVBRFk7XG4gICAgdGhpcy5lcnJvciA9IEMuQ09ORklHVVJBVElPTl9FUlJPUjtcbiAgICB0aHJvdyBlO1xuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSByZWdpc3RlckNvbnRleHRcbiAgdGhpcy5yZWdpc3RlckNvbnRleHQgPSBuZXcgU0lQLlJlZ2lzdGVyQ29udGV4dCh0aGlzKTtcbiAgdGhpcy5yZWdpc3RlckNvbnRleHQub24oJ2ZhaWxlZCcsIHNlbGZFbWl0KCdyZWdpc3RyYXRpb25GYWlsZWQnKSk7XG4gIHRoaXMucmVnaXN0ZXJDb250ZXh0Lm9uKCdyZWdpc3RlcmVkJywgc2VsZkVtaXQoJ3JlZ2lzdGVyZWQnKSk7XG4gIHRoaXMucmVnaXN0ZXJDb250ZXh0Lm9uKCd1bnJlZ2lzdGVyZWQnLCBzZWxmRW1pdCgndW5yZWdpc3RlcmVkJykpO1xuXG4gIGlmKHRoaXMuY29uZmlndXJhdGlvbi5hdXRvc3RhcnQpIHtcbiAgICB0aGlzLnN0YXJ0KCk7XG4gIH1cblxuICBpZiAodHlwZW9mIGVudmlyb25tZW50LmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBHb29nbGUgQ2hyb21lIFBhY2thZ2VkIEFwcHMgZG9uJ3QgYWxsb3cgJ3VubG9hZCcgbGlzdGVuZXJzOlxuICAgIC8vIHVubG9hZCBpcyBub3QgYXZhaWxhYmxlIGluIHBhY2thZ2VkIGFwcHNcbiAgICBpZiAoIShnbG9iYWwuY2hyb21lICYmIGdsb2JhbC5jaHJvbWUuYXBwICYmIGdsb2JhbC5jaHJvbWUuYXBwLnJ1bnRpbWUpKSB7XG4gICAgICBlbnZpcm9ubWVudC5hZGRFdmVudExpc3RlbmVyKCd1bmxvYWQnLCB0aGlzLnN0b3AuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG59O1xuVUEucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTSVAuRXZlbnRFbWl0dGVyLnByb3RvdHlwZSk7XG5cbi8vPT09PT09PT09PT09PT09PT1cbi8vICBIaWdoIExldmVsIEFQSVxuLy89PT09PT09PT09PT09PT09PVxuXG5VQS5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHRoaXMuY29uZmlndXJhdGlvbi5yZWdpc3RlciA9IHRydWU7XG4gIHRoaXMucmVnaXN0ZXJDb250ZXh0LnJlZ2lzdGVyKG9wdGlvbnMpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBVbnJlZ2lzdGVyLlxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FsbF0gdW5yZWdpc3RlciBhbGwgdXNlciBiaW5kaW5ncy5cbiAqXG4gKi9cblVBLnByb3RvdHlwZS51bnJlZ2lzdGVyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB0aGlzLmNvbmZpZ3VyYXRpb24ucmVnaXN0ZXIgPSBmYWxzZTtcblxuICB2YXIgY29udGV4dCA9IHRoaXMucmVnaXN0ZXJDb250ZXh0O1xuICB0aGlzLmFmdGVyQ29ubmVjdGVkKGNvbnRleHQudW5yZWdpc3Rlci5iaW5kKGNvbnRleHQsIG9wdGlvbnMpKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cblVBLnByb3RvdHlwZS5pc1JlZ2lzdGVyZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucmVnaXN0ZXJDb250ZXh0LnJlZ2lzdGVyZWQ7XG59O1xuXG4vKipcbiAqIENvbm5lY3Rpb24gc3RhdGUuXG4gKiBAcGFyYW0ge0Jvb2xlYW59XG4gKi9cblVBLnByb3RvdHlwZS5pc0Nvbm5lY3RlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50cmFuc3BvcnQgPyB0aGlzLnRyYW5zcG9ydC5jb25uZWN0ZWQgOiBmYWxzZTtcbn07XG5cblVBLnByb3RvdHlwZS5hZnRlckNvbm5lY3RlZCA9IGZ1bmN0aW9uIGFmdGVyQ29ubmVjdGVkIChjYWxsYmFjaykge1xuICBpZiAodGhpcy5pc0Nvbm5lY3RlZCgpKSB7XG4gICAgY2FsbGJhY2soKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm9uY2UoJ2Nvbm5lY3RlZCcsIGNhbGxiYWNrKTtcbiAgfVxufTtcblxuLyoqXG4gKiBNYWtlIGFuIG91dGdvaW5nIGNhbGwuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHRhcmdldFxuICogQHBhcmFtIHtPYmplY3R9IHZpZXdzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMubWVkaWFdIGdldHMgcGFzc2VkIHRvIFNJUC5NZWRpYUhhbmRsZXIuZ2V0RGVzY3JpcHRpb24gYXMgbWVkaWFIaW50XG4gKlxuICogQHRocm93cyB7VHlwZUVycm9yfVxuICpcbiAqL1xuVUEucHJvdG90eXBlLmludml0ZSA9IGZ1bmN0aW9uKHRhcmdldCwgb3B0aW9ucykge1xuICB2YXIgY29udGV4dCA9IG5ldyBTSVAuSW52aXRlQ2xpZW50Q29udGV4dCh0aGlzLCB0YXJnZXQsIG9wdGlvbnMpO1xuXG4gIHRoaXMuYWZ0ZXJDb25uZWN0ZWQoY29udGV4dC5pbnZpdGUuYmluZChjb250ZXh0KSk7XG4gIHJldHVybiBjb250ZXh0O1xufTtcblxuVUEucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uKHRhcmdldCwgZXZlbnQsIG9wdGlvbnMpIHtcbiAgdmFyIHN1YiA9IG5ldyBTSVAuU3Vic2NyaXB0aW9uKHRoaXMsIHRhcmdldCwgZXZlbnQsIG9wdGlvbnMpO1xuXG4gIHRoaXMuYWZ0ZXJDb25uZWN0ZWQoc3ViLnN1YnNjcmliZS5iaW5kKHN1YikpO1xuICByZXR1cm4gc3ViO1xufTtcblxuLyoqXG4gKiBTZW5kIGEgbWVzc2FnZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gYm9keVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICpcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn1cbiAqXG4gKi9cblVBLnByb3RvdHlwZS5tZXNzYWdlID0gZnVuY3Rpb24odGFyZ2V0LCBib2R5LCBvcHRpb25zKSB7XG4gIGlmIChib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdOb3QgZW5vdWdoIGFyZ3VtZW50cycpO1xuICB9XG5cbiAgLy8gVGhlcmUgaXMgbm8gTWVzc2FnZSBtb2R1bGUsIHNvIGl0IGlzIG9rYXkgdGhhdCB0aGUgVUEgaGFuZGxlcyBkZWZhdWx0cyBoZXJlLlxuICBvcHRpb25zID0gT2JqZWN0LmNyZWF0ZShvcHRpb25zIHx8IE9iamVjdC5wcm90b3R5cGUpO1xuICBvcHRpb25zLmNvbnRlbnRUeXBlIHx8IChvcHRpb25zLmNvbnRlbnRUeXBlID0gJ3RleHQvcGxhaW4nKTtcbiAgb3B0aW9ucy5ib2R5ID0gYm9keTtcblxuICByZXR1cm4gdGhpcy5yZXF1ZXN0KFNJUC5DLk1FU1NBR0UsIHRhcmdldCwgb3B0aW9ucyk7XG59O1xuXG5VQS5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIChtZXRob2QsIHRhcmdldCwgb3B0aW9ucykge1xuICB2YXIgcmVxID0gbmV3IFNJUC5DbGllbnRDb250ZXh0KHRoaXMsIG1ldGhvZCwgdGFyZ2V0LCBvcHRpb25zKTtcblxuICB0aGlzLmFmdGVyQ29ubmVjdGVkKHJlcS5zZW5kLmJpbmQocmVxKSk7XG4gIHJldHVybiByZXE7XG59O1xuXG4vKipcbiAqIEdyYWNlZnVsbHkgY2xvc2UuXG4gKlxuICovXG5VQS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc2Vzc2lvbiwgc3Vic2NyaXB0aW9uLCBhcHBsaWNhbnQsXG4gICAgdWEgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIHRyYW5zYWN0aW9uc0xpc3RlbmVyKCkge1xuICAgIGlmICh1YS5uaXN0VHJhbnNhY3Rpb25zQ291bnQgPT09IDAgJiYgdWEubmljdFRyYW5zYWN0aW9uc0NvdW50ID09PSAwKSB7XG4gICAgICAgIHVhLnJlbW92ZUxpc3RlbmVyKCd0cmFuc2FjdGlvbkRlc3Ryb3llZCcsIHRyYW5zYWN0aW9uc0xpc3RlbmVyKTtcbiAgICAgICAgdWEudHJhbnNwb3J0LmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gIH1cblxuICB0aGlzLmxvZ2dlci5sb2coJ3VzZXIgcmVxdWVzdGVkIGNsb3N1cmUuLi4nKTtcblxuICBpZih0aGlzLnN0YXR1cyA9PT0gQy5TVEFUVVNfVVNFUl9DTE9TRUQpIHtcbiAgICB0aGlzLmxvZ2dlci53YXJuKCdVQSBhbHJlYWR5IGNsb3NlZCcpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gQ2xlYXIgdHJhbnNwb3J0UmVjb3ZlcnlUaW1lclxuICBTSVAuVGltZXJzLmNsZWFyVGltZW91dCh0aGlzLnRyYW5zcG9ydFJlY292ZXJ5VGltZXIpO1xuXG4gIC8vIENsb3NlIHJlZ2lzdGVyQ29udGV4dFxuICB0aGlzLmxvZ2dlci5sb2coJ2Nsb3NpbmcgcmVnaXN0ZXJDb250ZXh0Jyk7XG4gIHRoaXMucmVnaXN0ZXJDb250ZXh0LmNsb3NlKCk7XG5cbiAgLy8gUnVuICBfdGVybWluYXRlXyBvbiBldmVyeSBTZXNzaW9uXG4gIGZvcihzZXNzaW9uIGluIHRoaXMuc2Vzc2lvbnMpIHtcbiAgICB0aGlzLmxvZ2dlci5sb2coJ2Nsb3Npbmcgc2Vzc2lvbiAnICsgc2Vzc2lvbik7XG4gICAgdGhpcy5zZXNzaW9uc1tzZXNzaW9uXS50ZXJtaW5hdGUoKTtcbiAgfVxuXG4gIC8vUnVuIF9jbG9zZV8gb24gZXZlcnkgU3Vic2NyaXB0aW9uXG4gIGZvcihzdWJzY3JpcHRpb24gaW4gdGhpcy5zdWJzY3JpcHRpb25zKSB7XG4gICAgdGhpcy5sb2dnZXIubG9nKCd1bnN1YnNjcmliaW5nIGZyb20gc3Vic2NyaXB0aW9uICcgKyBzdWJzY3JpcHRpb24pO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uc1tzdWJzY3JpcHRpb25dLmNsb3NlKCk7XG4gIH1cblxuICAvLyBSdW4gIF9jbG9zZV8gb24gZXZlcnkgYXBwbGljYW50XG4gIGZvcihhcHBsaWNhbnQgaW4gdGhpcy5hcHBsaWNhbnRzKSB7XG4gICAgdGhpcy5hcHBsaWNhbnRzW2FwcGxpY2FudF0uY2xvc2UoKTtcbiAgfVxuXG4gIHRoaXMuc3RhdHVzID0gQy5TVEFUVVNfVVNFUl9DTE9TRUQ7XG5cbiAgLypcbiAgICogSWYgdGhlIHJlbWFpbmluZyB0cmFuc2FjdGlvbnMgYXJlIGFsbCBJTlZJVEUgdHJhbnNhY3Rpb25zLCB0aGVyZSBpcyBubyBuZWVkIHRvXG4gICAqIHdhaXQgYW55bW9yZSBiZWNhdXNlIGV2ZXJ5IHNlc3Npb24gaGFzIGFscmVhZHkgYmVlbiBjbG9zZWQgYnkgdGhpcyBtZXRob2QuXG4gICAqIC0gbG9jYWxseSBvcmlnaW5hdGVkIHNlc3Npb25zIHdoZXJlIHRlcm1pbmF0ZWQgKENBTkNFTCBvciBCWUUpXG4gICAqIC0gcmVtb3RlbHkgb3JpZ2luYXRlZCBzZXNzaW9ucyB3aGVyZSByZWplY3RlZCAoNFhYKSBvciB0ZXJtaW5hdGVkIChCWUUpXG4gICAqIFJlbWFpbmluZyBJTlZJVEUgdHJhbnNhY3Rpb25zIGJlbG9uZyB0aG8gc2Vzc2lvbnMgdGhhdCB3aGVyZSBhbnN3ZXJlZC4gVGhpcyBhcmUgaW5cbiAgICogJ2FjY2VwdGVkJyBzdGF0ZSBkdWUgdG8gdGltZXJzICdMJyBhbmQgJ00nIGRlZmluZWQgaW4gW1JGQyA2MDI2XVxuICAgKi9cbiAgaWYgKHRoaXMubmlzdFRyYW5zYWN0aW9uc0NvdW50ID09PSAwICYmIHRoaXMubmljdFRyYW5zYWN0aW9uc0NvdW50ID09PSAwKSB7XG4gICAgaWYgKHRoaXMudHJhbnNwb3J0KSB7XG4gICAgICB0aGlzLnRyYW5zcG9ydC5kaXNjb25uZWN0KCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMub24oJ3RyYW5zYWN0aW9uRGVzdHJveWVkJywgdHJhbnNhY3Rpb25zTGlzdGVuZXIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIENvbm5lY3QgdG8gdGhlIFdTIHNlcnZlciBpZiBzdGF0dXMgPSBTVEFUVVNfSU5JVC5cbiAqIFJlc3VtZSBVQSBhZnRlciBiZWluZyBjbG9zZWQuXG4gKlxuICovXG5VQS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHNlcnZlcjtcblxuICB0aGlzLmxvZ2dlci5sb2coJ3VzZXIgcmVxdWVzdGVkIHN0YXJ0dXAuLi4nKTtcbiAgaWYgKHRoaXMuc3RhdHVzID09PSBDLlNUQVRVU19JTklUKSB7XG4gICAgc2VydmVyID0gdGhpcy5nZXROZXh0V3NTZXJ2ZXIoKTtcbiAgICB0aGlzLnN0YXR1cyA9IEMuU1RBVFVTX1NUQVJUSU5HO1xuICAgIG5ldyBTSVAuVHJhbnNwb3J0KHRoaXMsIHNlcnZlcik7XG4gIH0gZWxzZSBpZih0aGlzLnN0YXR1cyA9PT0gQy5TVEFUVVNfVVNFUl9DTE9TRUQpIHtcbiAgICB0aGlzLmxvZ2dlci5sb2coJ3Jlc3VtaW5nJyk7XG4gICAgdGhpcy5zdGF0dXMgPSBDLlNUQVRVU19SRUFEWTtcbiAgICB0aGlzLnRyYW5zcG9ydC5jb25uZWN0KCk7XG4gIH0gZWxzZSBpZiAodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX1NUQVJUSU5HKSB7XG4gICAgdGhpcy5sb2dnZXIubG9nKCdVQSBpcyBpbiBTVEFSVElORyBzdGF0dXMsIG5vdCBvcGVuaW5nIG5ldyBjb25uZWN0aW9uJyk7XG4gIH0gZWxzZSBpZiAodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX1JFQURZKSB7XG4gICAgdGhpcy5sb2dnZXIubG9nKCdVQSBpcyBpbiBSRUFEWSBzdGF0dXMsIG5vdCByZXN1bWluZycpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMubG9nZ2VyLmVycm9yKCdDb25uZWN0aW9uIGlzIGRvd24uIEF1dG8tUmVjb3Zlcnkgc3lzdGVtIGlzIHRyeWluZyB0byBjb25uZWN0Jyk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogTm9ybWFsaXplIGEgc3RyaW5nIGludG8gYSB2YWxpZCBTSVAgcmVxdWVzdCBVUklcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdGFyZ2V0XG4gKlxuICogQHJldHVybnMge1NJUC5VUkl8dW5kZWZpbmVkfVxuICovXG5VQS5wcm90b3R5cGUubm9ybWFsaXplVGFyZ2V0ID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIHJldHVybiBTSVAuVXRpbHMubm9ybWFsaXplVGFyZ2V0KHRhcmdldCwgdGhpcy5jb25maWd1cmF0aW9uLmhvc3Rwb3J0UGFyYW1zKTtcbn07XG5cblxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAgUHJpdmF0ZSAoRm9yIGludGVybmFsIHVzZSlcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5VQS5wcm90b3R5cGUuc2F2ZUNyZWRlbnRpYWxzID0gZnVuY3Rpb24oY3JlZGVudGlhbHMpIHtcbiAgdGhpcy5jYWNoZS5jcmVkZW50aWFsc1tjcmVkZW50aWFscy5yZWFsbV0gPSB0aGlzLmNhY2hlLmNyZWRlbnRpYWxzW2NyZWRlbnRpYWxzLnJlYWxtXSB8fCB7fTtcbiAgdGhpcy5jYWNoZS5jcmVkZW50aWFsc1tjcmVkZW50aWFscy5yZWFsbV1bY3JlZGVudGlhbHMudXJpXSA9IGNyZWRlbnRpYWxzO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuVUEucHJvdG90eXBlLmdldENyZWRlbnRpYWxzID0gZnVuY3Rpb24ocmVxdWVzdCkge1xuICB2YXIgcmVhbG0sIGNyZWRlbnRpYWxzO1xuXG4gIHJlYWxtID0gcmVxdWVzdC5ydXJpLmhvc3Q7XG5cbiAgaWYgKHRoaXMuY2FjaGUuY3JlZGVudGlhbHNbcmVhbG1dICYmIHRoaXMuY2FjaGUuY3JlZGVudGlhbHNbcmVhbG1dW3JlcXVlc3QucnVyaV0pIHtcbiAgICBjcmVkZW50aWFscyA9IHRoaXMuY2FjaGUuY3JlZGVudGlhbHNbcmVhbG1dW3JlcXVlc3QucnVyaV07XG4gICAgY3JlZGVudGlhbHMubWV0aG9kID0gcmVxdWVzdC5tZXRob2Q7XG4gIH1cblxuICByZXR1cm4gY3JlZGVudGlhbHM7XG59O1xuXG5VQS5wcm90b3R5cGUuZ2V0TG9nZ2VyID0gZnVuY3Rpb24oY2F0ZWdvcnksIGxhYmVsKSB7XG4gIHJldHVybiB0aGlzLmxvZy5nZXRMb2dnZXIoY2F0ZWdvcnksIGxhYmVsKTtcbn07XG5cblxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEV2ZW50IEhhbmRsZXJzXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFRyYW5zcG9ydCBDbG9zZSBldmVudFxuICogQHByaXZhdGVcbiAqIEBldmVudFxuICogQHBhcmFtIHtTSVAuVHJhbnNwb3J0fSB0cmFuc3BvcnQuXG4gKi9cblVBLnByb3RvdHlwZS5vblRyYW5zcG9ydENsb3NlZCA9IGZ1bmN0aW9uKHRyYW5zcG9ydCkge1xuICAvLyBSdW4gX29uVHJhbnNwb3J0RXJyb3JfIGNhbGxiYWNrIG9uIGV2ZXJ5IGNsaWVudCB0cmFuc2FjdGlvbiB1c2luZyBfdHJhbnNwb3J0X1xuICB2YXIgdHlwZSwgaWR4LCBsZW5ndGgsXG4gICAgY2xpZW50X3RyYW5zYWN0aW9ucyA9IFsnbmljdCcsICdpY3QnLCAnbmlzdCcsICdpc3QnXTtcblxuICB0cmFuc3BvcnQuc2VydmVyLnN0YXR1cyA9IFNJUC5UcmFuc3BvcnQuQy5TVEFUVVNfRElTQ09OTkVDVEVEO1xuICB0aGlzLmxvZ2dlci5sb2coJ2Nvbm5lY3Rpb24gc3RhdGUgc2V0IHRvICcrIFNJUC5UcmFuc3BvcnQuQy5TVEFUVVNfRElTQ09OTkVDVEVEKTtcblxuICBsZW5ndGggPSBjbGllbnRfdHJhbnNhY3Rpb25zLmxlbmd0aDtcbiAgZm9yICh0eXBlID0gMDsgdHlwZSA8IGxlbmd0aDsgdHlwZSsrKSB7XG4gICAgZm9yKGlkeCBpbiB0aGlzLnRyYW5zYWN0aW9uc1tjbGllbnRfdHJhbnNhY3Rpb25zW3R5cGVdXSkge1xuICAgICAgdGhpcy50cmFuc2FjdGlvbnNbY2xpZW50X3RyYW5zYWN0aW9uc1t0eXBlXV1baWR4XS5vblRyYW5zcG9ydEVycm9yKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gQ2xvc2Ugc2Vzc2lvbnMgaWYgR1JVVSBpcyBub3QgYmVpbmcgdXNlZFxuICBpZiAoIXRoaXMuY29udGFjdC5wdWJfZ3J1dSkge1xuICAgIHRoaXMuY2xvc2VTZXNzaW9uc09uVHJhbnNwb3J0RXJyb3IoKTtcbiAgfVxuXG59O1xuXG4vKipcbiAqIFVucmVjb3ZlcmFibGUgdHJhbnNwb3J0IGV2ZW50LlxuICogQ29ubmVjdGlvbiByZWF0dGVtcHQgbG9naWMgaGFzIGJlZW4gZG9uZSBhbmQgZGlkbid0IHN1Y2Nlc3MuXG4gKiBAcHJpdmF0ZVxuICogQGV2ZW50XG4gKiBAcGFyYW0ge1NJUC5UcmFuc3BvcnR9IHRyYW5zcG9ydC5cbiAqL1xuVUEucHJvdG90eXBlLm9uVHJhbnNwb3J0RXJyb3IgPSBmdW5jdGlvbih0cmFuc3BvcnQpIHtcbiAgdmFyIHNlcnZlcjtcblxuICB0aGlzLmxvZ2dlci5sb2coJ3RyYW5zcG9ydCAnICsgdHJhbnNwb3J0LnNlcnZlci53c191cmkgKyAnIGZhaWxlZCB8IGNvbm5lY3Rpb24gc3RhdGUgc2V0IHRvICcrIFNJUC5UcmFuc3BvcnQuQy5TVEFUVVNfRVJST1IpO1xuXG4gIC8vIENsb3NlIHNlc3Npb25zLlxuICAvL01hcmsgdGhpcyB0cmFuc3BvcnQgYXMgJ2Rvd24nXG4gIHRyYW5zcG9ydC5zZXJ2ZXIuc3RhdHVzID0gU0lQLlRyYW5zcG9ydC5DLlNUQVRVU19FUlJPUjtcblxuICB0aGlzLmVtaXQoJ2Rpc2Nvbm5lY3RlZCcsIHtcbiAgICB0cmFuc3BvcnQ6IHRyYW5zcG9ydFxuICB9KTtcblxuICAvLyB0cnkgdGhlIG5leHQgdHJhbnNwb3J0IGlmIHRoZSBVQSBpc24ndCBjbG9zZWRcbiAgaWYodGhpcy5zdGF0dXMgPT09IEMuU1RBVFVTX1VTRVJfQ0xPU0VEKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc2VydmVyID0gdGhpcy5nZXROZXh0V3NTZXJ2ZXIoKTtcblxuICBpZihzZXJ2ZXIpIHtcbiAgICBuZXcgU0lQLlRyYW5zcG9ydCh0aGlzLCBzZXJ2ZXIpO1xuICB9ZWxzZSB7XG4gICAgdGhpcy5jbG9zZVNlc3Npb25zT25UcmFuc3BvcnRFcnJvcigpO1xuICAgIGlmICghdGhpcy5lcnJvciB8fCB0aGlzLmVycm9yICE9PSBDLk5FVFdPUktfRVJST1IpIHtcbiAgICAgIHRoaXMuc3RhdHVzID0gQy5TVEFUVVNfTk9UX1JFQURZO1xuICAgICAgdGhpcy5lcnJvciA9IEMuTkVUV09SS19FUlJPUjtcbiAgICB9XG4gICAgLy8gVHJhbnNwb3J0IFJlY292ZXJ5IHByb2Nlc3NcbiAgICB0aGlzLnJlY292ZXJUcmFuc3BvcnQoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBUcmFuc3BvcnQgY29ubmVjdGlvbiBldmVudC5cbiAqIEBwcml2YXRlXG4gKiBAZXZlbnRcbiAqIEBwYXJhbSB7U0lQLlRyYW5zcG9ydH0gdHJhbnNwb3J0LlxuICovXG5VQS5wcm90b3R5cGUub25UcmFuc3BvcnRDb25uZWN0ZWQgPSBmdW5jdGlvbih0cmFuc3BvcnQpIHtcbiAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG5cbiAgLy8gUmVzZXQgdHJhbnNwb3J0IHJlY292ZXJ5IGNvdW50ZXJcbiAgdGhpcy50cmFuc3BvcnRSZWNvdmVyQXR0ZW1wdHMgPSAwO1xuXG4gIHRyYW5zcG9ydC5zZXJ2ZXIuc3RhdHVzID0gU0lQLlRyYW5zcG9ydC5DLlNUQVRVU19SRUFEWTtcbiAgdGhpcy5sb2dnZXIubG9nKCdjb25uZWN0aW9uIHN0YXRlIHNldCB0byAnKyBTSVAuVHJhbnNwb3J0LkMuU1RBVFVTX1JFQURZKTtcblxuICBpZih0aGlzLnN0YXR1cyA9PT0gQy5TVEFUVVNfVVNFUl9DTE9TRUQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLnN0YXR1cyA9IEMuU1RBVFVTX1JFQURZO1xuICB0aGlzLmVycm9yID0gbnVsbDtcblxuICBpZih0aGlzLmNvbmZpZ3VyYXRpb24ucmVnaXN0ZXIpIHtcbiAgICB0aGlzLmNvbmZpZ3VyYXRpb24uYXV0aGVudGljYXRpb25GYWN0b3J5LmluaXRpYWxpemUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucmVnaXN0ZXJDb250ZXh0Lm9uVHJhbnNwb3J0Q29ubmVjdGVkKCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHRoaXMuZW1pdCgnY29ubmVjdGVkJywge1xuICAgIHRyYW5zcG9ydDogdHJhbnNwb3J0XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIFRyYW5zcG9ydCBjb25uZWN0aW5nIGV2ZW50XG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtTSVAuVHJhbnNwb3J0fSB0cmFuc3BvcnQuXG4gKiAjcGFyYW0ge0ludGVnZXJ9IGF0dGVtcHRzLlxuICovXG4gIFVBLnByb3RvdHlwZS5vblRyYW5zcG9ydENvbm5lY3RpbmcgPSBmdW5jdGlvbih0cmFuc3BvcnQsIGF0dGVtcHRzKSB7XG4gICAgdGhpcy5lbWl0KCdjb25uZWN0aW5nJywge1xuICAgICAgdHJhbnNwb3J0OiB0cmFuc3BvcnQsXG4gICAgICBhdHRlbXB0czogYXR0ZW1wdHNcbiAgICB9KTtcbiAgfTtcblxuXG4vKipcbiAqIG5ldyBUcmFuc2FjdGlvblxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7U0lQLlRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvbi5cbiAqL1xuVUEucHJvdG90eXBlLm5ld1RyYW5zYWN0aW9uID0gZnVuY3Rpb24odHJhbnNhY3Rpb24pIHtcbiAgdGhpcy50cmFuc2FjdGlvbnNbdHJhbnNhY3Rpb24udHlwZV1bdHJhbnNhY3Rpb24uaWRdID0gdHJhbnNhY3Rpb247XG4gIHRoaXMuZW1pdCgnbmV3VHJhbnNhY3Rpb24nLCB7dHJhbnNhY3Rpb246IHRyYW5zYWN0aW9ufSk7XG59O1xuXG5cbi8qKlxuICogZGVzdHJveSBUcmFuc2FjdGlvblxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7U0lQLlRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvbi5cbiAqL1xuVUEucHJvdG90eXBlLmRlc3Ryb3lUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uKHRyYW5zYWN0aW9uKSB7XG4gIGRlbGV0ZSB0aGlzLnRyYW5zYWN0aW9uc1t0cmFuc2FjdGlvbi50eXBlXVt0cmFuc2FjdGlvbi5pZF07XG4gIHRoaXMuZW1pdCgndHJhbnNhY3Rpb25EZXN0cm95ZWQnLCB7XG4gICAgdHJhbnNhY3Rpb246IHRyYW5zYWN0aW9uXG4gIH0pO1xufTtcblxuXG4vLz09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIHJlY2VpdmVSZXF1ZXN0XG4vLz09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBSZXF1ZXN0IHJlY2VwdGlvblxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7U0lQLkluY29taW5nUmVxdWVzdH0gcmVxdWVzdC5cbiAqL1xuVUEucHJvdG90eXBlLnJlY2VpdmVSZXF1ZXN0ID0gZnVuY3Rpb24ocmVxdWVzdCkge1xuICB2YXIgZGlhbG9nLCBzZXNzaW9uLCBtZXNzYWdlLFxuICAgIG1ldGhvZCA9IHJlcXVlc3QubWV0aG9kLFxuICAgIHRyYW5zYWN0aW9uLFxuICAgIHJlcGxhY2VzLFxuICAgIHJlcGxhY2VkRGlhbG9nLFxuICAgIHNlbGYgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIHJ1cmlNYXRjaGVzICh1cmkpIHtcbiAgICByZXR1cm4gdXJpICYmIHVyaS51c2VyID09PSByZXF1ZXN0LnJ1cmkudXNlcjtcbiAgfVxuXG4gIC8vIENoZWNrIHRoYXQgcmVxdWVzdCBVUkkgcG9pbnRzIHRvIHVzXG4gIGlmKCEocnVyaU1hdGNoZXModGhpcy5jb25maWd1cmF0aW9uLnVyaSkgfHxcbiAgICAgICBydXJpTWF0Y2hlcyh0aGlzLmNvbnRhY3QudXJpKSB8fFxuICAgICAgIHJ1cmlNYXRjaGVzKHRoaXMuY29udGFjdC5wdWJfZ3J1dSkgfHxcbiAgICAgICBydXJpTWF0Y2hlcyh0aGlzLmNvbnRhY3QudGVtcF9ncnV1KSkpIHtcbiAgICB0aGlzLmxvZ2dlci53YXJuKCdSZXF1ZXN0LVVSSSBkb2VzIG5vdCBwb2ludCB0byB1cycpO1xuICAgIGlmIChyZXF1ZXN0Lm1ldGhvZCAhPT0gU0lQLkMuQUNLKSB7XG4gICAgICByZXF1ZXN0LnJlcGx5X3NsKDQwNCk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENoZWNrIHJlcXVlc3QgVVJJIHNjaGVtZVxuICBpZihyZXF1ZXN0LnJ1cmkuc2NoZW1lID09PSBTSVAuQy5TSVBTKSB7XG4gICAgcmVxdWVzdC5yZXBseV9zbCg0MTYpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENoZWNrIHRyYW5zYWN0aW9uXG4gIGlmKFNJUC5UcmFuc2FjdGlvbnMuY2hlY2tUcmFuc2FjdGlvbih0aGlzLCByZXF1ZXN0KSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qIFJGQzMyNjEgMTIuMi4yXG4gICAqIFJlcXVlc3RzIHRoYXQgZG8gbm90IGNoYW5nZSBpbiBhbnkgd2F5IHRoZSBzdGF0ZSBvZiBhIGRpYWxvZyBtYXkgYmVcbiAgICogcmVjZWl2ZWQgd2l0aGluIGEgZGlhbG9nIChmb3IgZXhhbXBsZSwgYW4gT1BUSU9OUyByZXF1ZXN0KS5cbiAgICogVGhleSBhcmUgcHJvY2Vzc2VkIGFzIGlmIHRoZXkgaGFkIGJlZW4gcmVjZWl2ZWQgb3V0c2lkZSB0aGUgZGlhbG9nLlxuICAgKi9cbiAgaWYobWV0aG9kID09PSBTSVAuQy5PUFRJT05TKSB7XG4gICAgbmV3IFNJUC5UcmFuc2FjdGlvbnMuTm9uSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ocmVxdWVzdCwgdGhpcyk7XG4gICAgcmVxdWVzdC5yZXBseSgyMDAsIG51bGwsIFtcbiAgICAgICdBbGxvdzogJysgU0lQLlVBLkMuQUxMT1dFRF9NRVRIT0RTLnRvU3RyaW5nKCksXG4gICAgICAnQWNjZXB0OiAnKyBDLkFDQ0VQVEVEX0JPRFlfVFlQRVNcbiAgICBdKTtcbiAgfSBlbHNlIGlmIChtZXRob2QgPT09IFNJUC5DLk1FU1NBR0UpIHtcbiAgICBtZXNzYWdlID0gbmV3IFNJUC5TZXJ2ZXJDb250ZXh0KHRoaXMsIHJlcXVlc3QpO1xuICAgIG1lc3NhZ2UuYm9keSA9IHJlcXVlc3QuYm9keTtcbiAgICBtZXNzYWdlLmNvbnRlbnRfdHlwZSA9IHJlcXVlc3QuZ2V0SGVhZGVyKCdDb250ZW50LVR5cGUnKSB8fCAndGV4dC9wbGFpbic7XG5cbiAgICByZXF1ZXN0LnJlcGx5KDIwMCwgbnVsbCk7XG4gICAgdGhpcy5lbWl0KCdtZXNzYWdlJywgbWVzc2FnZSk7XG4gIH0gZWxzZSBpZiAobWV0aG9kICE9PSBTSVAuQy5JTlZJVEUgJiZcbiAgICAgICAgICAgICBtZXRob2QgIT09IFNJUC5DLkFDSykge1xuICAgIC8vIExldCB0aG9zZSBtZXRob2RzIHBhc3MgdGhyb3VnaCB0byBub3JtYWwgcHJvY2Vzc2luZyBmb3Igbm93LlxuICAgIHRyYW5zYWN0aW9uID0gbmV3IFNJUC5TZXJ2ZXJDb250ZXh0KHRoaXMsIHJlcXVlc3QpO1xuICB9XG5cbiAgLy8gSW5pdGlhbCBSZXF1ZXN0XG4gIGlmKCFyZXF1ZXN0LnRvX3RhZykge1xuICAgIHN3aXRjaChtZXRob2QpIHtcbiAgICAgIGNhc2UgU0lQLkMuSU5WSVRFOlxuICAgICAgICByZXBsYWNlcyA9XG4gICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uLnJlcGxhY2VzICE9PSBTSVAuQy5zdXBwb3J0ZWQuVU5TVVBQT1JURUQgJiZcbiAgICAgICAgICByZXF1ZXN0LnBhcnNlSGVhZGVyKCdyZXBsYWNlcycpO1xuXG4gICAgICAgIGlmIChyZXBsYWNlcykge1xuICAgICAgICAgIHJlcGxhY2VkRGlhbG9nID0gdGhpcy5kaWFsb2dzW3JlcGxhY2VzLmNhbGxfaWQgKyByZXBsYWNlcy5yZXBsYWNlc190b190YWcgKyByZXBsYWNlcy5yZXBsYWNlc19mcm9tX3RhZ107XG5cbiAgICAgICAgICBpZiAoIXJlcGxhY2VkRGlhbG9nKSB7XG4gICAgICAgICAgICAvL1JlcGxhY2VkIGhlYWRlciB3aXRob3V0IGEgbWF0Y2hpbmcgZGlhbG9nLCByZWplY3RcbiAgICAgICAgICAgIHJlcXVlc3QucmVwbHlfc2woNDgxLCBudWxsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlcGxhY2VkRGlhbG9nLm93bmVyLnN0YXR1cyA9PT0gU0lQLlNlc3Npb24uQy5TVEFUVVNfVEVSTUlOQVRFRCkge1xuICAgICAgICAgICAgcmVxdWVzdC5yZXBseV9zbCg2MDMsIG51bGwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmVwbGFjZWREaWFsb2cuc3RhdGUgPT09IFNJUC5EaWFsb2cuQy5TVEFUVVNfQ09ORklSTUVEICYmIHJlcGxhY2VzLmVhcmx5X29ubHkpIHtcbiAgICAgICAgICAgIHJlcXVlc3QucmVwbHlfc2woNDg2LCBudWxsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXNNZWRpYVN1cHBvcnRlZCA9IHRoaXMuY29uZmlndXJhdGlvbi5tZWRpYUhhbmRsZXJGYWN0b3J5LmlzU3VwcG9ydGVkO1xuICAgICAgICBpZighaXNNZWRpYVN1cHBvcnRlZCB8fCBpc01lZGlhU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICBzZXNzaW9uID0gbmV3IFNJUC5JbnZpdGVTZXJ2ZXJDb250ZXh0KHRoaXMsIHJlcXVlc3QpO1xuICAgICAgICAgIHNlc3Npb24ucmVwbGFjZWUgPSByZXBsYWNlZERpYWxvZyAmJiByZXBsYWNlZERpYWxvZy5vd25lcjtcbiAgICAgICAgICBzZXNzaW9uLm9uKCdpbnZpdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuZW1pdCgnaW52aXRlJywgdGhpcyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIud2FybignSU5WSVRFIHJlY2VpdmVkIGJ1dCBXZWJSVEMgaXMgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICAgIHJlcXVlc3QucmVwbHkoNDg4KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU0lQLkMuQllFOlxuICAgICAgICAvLyBPdXQgb2YgZGlhbG9nIEJZRSByZWNlaXZlZFxuICAgICAgICByZXF1ZXN0LnJlcGx5KDQ4MSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTSVAuQy5DQU5DRUw6XG4gICAgICAgIHNlc3Npb24gPSB0aGlzLmZpbmRTZXNzaW9uKHJlcXVlc3QpO1xuICAgICAgICBpZihzZXNzaW9uKSB7XG4gICAgICAgICAgc2Vzc2lvbi5yZWNlaXZlUmVxdWVzdChyZXF1ZXN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdyZWNlaXZlZCBDQU5DRUwgcmVxdWVzdCBmb3IgYSBub24gZXhpc3RlbnQgc2Vzc2lvbicpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTSVAuQy5BQ0s6XG4gICAgICAgIC8qIEFic29yYiBpdC5cbiAgICAgICAgICogQUNLIHJlcXVlc3Qgd2l0aG91dCBhIGNvcnJlc3BvbmRpbmcgSW52aXRlIFRyYW5zYWN0aW9uXG4gICAgICAgICAqIGFuZCB3aXRob3V0IFRvIHRhZy5cbiAgICAgICAgICovXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTSVAuQy5OT1RJRlk6XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYWxsb3dMZWdhY3lOb3RpZmljYXRpb25zICYmIHRoaXMubGlzdGVuZXJzKCdub3RpZnknKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmVxdWVzdC5yZXBseSgyMDAsIG51bGwpO1xuICAgICAgICAgIHNlbGYuZW1pdCgnbm90aWZ5Jywge3JlcXVlc3Q6IHJlcXVlc3R9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXF1ZXN0LnJlcGx5KDQ4MSwgJ1N1YnNjcmlwdGlvbiBkb2VzIG5vdCBleGlzdCcpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmVxdWVzdC5yZXBseSg0MDUpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgLy8gSW4tZGlhbG9nIHJlcXVlc3RcbiAgZWxzZSB7XG4gICAgZGlhbG9nID0gdGhpcy5maW5kRGlhbG9nKHJlcXVlc3QpO1xuXG4gICAgaWYoZGlhbG9nKSB7XG4gICAgICBpZiAobWV0aG9kID09PSBTSVAuQy5JTlZJVEUpIHtcbiAgICAgICAgbmV3IFNJUC5UcmFuc2FjdGlvbnMuSW52aXRlU2VydmVyVHJhbnNhY3Rpb24ocmVxdWVzdCwgdGhpcyk7XG4gICAgICB9XG4gICAgICBkaWFsb2cucmVjZWl2ZVJlcXVlc3QocmVxdWVzdCk7XG4gICAgfSBlbHNlIGlmIChtZXRob2QgPT09IFNJUC5DLk5PVElGWSkge1xuICAgICAgc2Vzc2lvbiA9IHRoaXMuZmluZFNlc3Npb24ocmVxdWVzdCk7XG4gICAgICBpZihzZXNzaW9uKSB7XG4gICAgICAgIHNlc3Npb24ucmVjZWl2ZVJlcXVlc3QocmVxdWVzdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdyZWNlaXZlZCBOT1RJRlkgcmVxdWVzdCBmb3IgYSBub24gZXhpc3RlbnQgc2Vzc2lvbicpO1xuICAgICAgICByZXF1ZXN0LnJlcGx5KDQ4MSwgJ1N1YnNjcmlwdGlvbiBkb2VzIG5vdCBleGlzdCcpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKiBSRkMzMjYxIDEyLjIuMlxuICAgICAqIFJlcXVlc3Qgd2l0aCB0byB0YWcsIGJ1dCBubyBtYXRjaGluZyBkaWFsb2cgZm91bmQuXG4gICAgICogRXhjZXB0aW9uOiBBQ0sgZm9yIGFuIEludml0ZSByZXF1ZXN0IGZvciB3aGljaCBhIGRpYWxvZyBoYXMgbm90XG4gICAgICogYmVlbiBjcmVhdGVkLlxuICAgICAqL1xuICAgIGVsc2Uge1xuICAgICAgaWYobWV0aG9kICE9PSBTSVAuQy5BQ0spIHtcbiAgICAgICAgcmVxdWVzdC5yZXBseSg0ODEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLy89PT09PT09PT09PT09PT09PVxuLy8gVXRpbHNcbi8vPT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBHZXQgdGhlIHNlc3Npb24gdG8gd2hpY2ggdGhlIHJlcXVlc3QgYmVsb25ncyB0bywgaWYgYW55LlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7U0lQLkluY29taW5nUmVxdWVzdH0gcmVxdWVzdC5cbiAqIEByZXR1cm5zIHtTSVAuT3V0Z29pbmdTZXNzaW9ufFNJUC5JbmNvbWluZ1Nlc3Npb258bnVsbH1cbiAqL1xuVUEucHJvdG90eXBlLmZpbmRTZXNzaW9uID0gZnVuY3Rpb24ocmVxdWVzdCkge1xuICByZXR1cm4gdGhpcy5zZXNzaW9uc1tyZXF1ZXN0LmNhbGxfaWQgKyByZXF1ZXN0LmZyb21fdGFnXSB8fFxuICAgICAgICAgIHRoaXMuc2Vzc2lvbnNbcmVxdWVzdC5jYWxsX2lkICsgcmVxdWVzdC50b190YWddIHx8XG4gICAgICAgICAgbnVsbDtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBkaWFsb2cgdG8gd2hpY2ggdGhlIHJlcXVlc3QgYmVsb25ncyB0bywgaWYgYW55LlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7U0lQLkluY29taW5nUmVxdWVzdH1cbiAqIEByZXR1cm5zIHtTSVAuRGlhbG9nfG51bGx9XG4gKi9cblVBLnByb3RvdHlwZS5maW5kRGlhbG9nID0gZnVuY3Rpb24ocmVxdWVzdCkge1xuICByZXR1cm4gdGhpcy5kaWFsb2dzW3JlcXVlc3QuY2FsbF9pZCArIHJlcXVlc3QuZnJvbV90YWcgKyByZXF1ZXN0LnRvX3RhZ10gfHxcbiAgICAgICAgICB0aGlzLmRpYWxvZ3NbcmVxdWVzdC5jYWxsX2lkICsgcmVxdWVzdC50b190YWcgKyByZXF1ZXN0LmZyb21fdGFnXSB8fFxuICAgICAgICAgIG51bGw7XG59O1xuXG4vKipcbiAqIFJldHJpZXZlIHRoZSBuZXh0IHNlcnZlciB0byB3aGljaCBjb25uZWN0LlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtPYmplY3R9IHdzX3NlcnZlclxuICovXG5VQS5wcm90b3R5cGUuZ2V0TmV4dFdzU2VydmVyID0gZnVuY3Rpb24oKSB7XG4gIC8vIE9yZGVyIHNlcnZlcnMgYnkgd2VpZ2h0XG4gIHZhciBpZHgsIGxlbmd0aCwgd3Nfc2VydmVyLFxuICAgIGNhbmRpZGF0ZXMgPSBbXTtcblxuICBsZW5ndGggPSB0aGlzLmNvbmZpZ3VyYXRpb24ud3NTZXJ2ZXJzLmxlbmd0aDtcbiAgZm9yIChpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgd3Nfc2VydmVyID0gdGhpcy5jb25maWd1cmF0aW9uLndzU2VydmVyc1tpZHhdO1xuXG4gICAgaWYgKHdzX3NlcnZlci5zdGF0dXMgPT09IFNJUC5UcmFuc3BvcnQuQy5TVEFUVVNfRVJST1IpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH0gZWxzZSBpZiAoY2FuZGlkYXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNhbmRpZGF0ZXMucHVzaCh3c19zZXJ2ZXIpO1xuICAgIH0gZWxzZSBpZiAod3Nfc2VydmVyLndlaWdodCA+IGNhbmRpZGF0ZXNbMF0ud2VpZ2h0KSB7XG4gICAgICBjYW5kaWRhdGVzID0gW3dzX3NlcnZlcl07XG4gICAgfSBlbHNlIGlmICh3c19zZXJ2ZXIud2VpZ2h0ID09PSBjYW5kaWRhdGVzWzBdLndlaWdodCkge1xuICAgICAgY2FuZGlkYXRlcy5wdXNoKHdzX3NlcnZlcik7XG4gICAgfVxuICB9XG5cbiAgaWR4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2FuZGlkYXRlcy5sZW5ndGgpO1xuXG4gIHJldHVybiBjYW5kaWRhdGVzW2lkeF07XG59O1xuXG4vKipcbiAqIENsb3NlIGFsbCBzZXNzaW9ucyBvbiB0cmFuc3BvcnQgZXJyb3IuXG4gKiBAcHJpdmF0ZVxuICovXG5VQS5wcm90b3R5cGUuY2xvc2VTZXNzaW9uc09uVHJhbnNwb3J0RXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGlkeDtcblxuICAvLyBSdW4gX3RyYW5zcG9ydEVycm9yXyBmb3IgZXZlcnkgU2Vzc2lvblxuICBmb3IoaWR4IGluIHRoaXMuc2Vzc2lvbnMpIHtcbiAgICB0aGlzLnNlc3Npb25zW2lkeF0ub25UcmFuc3BvcnRFcnJvcigpO1xuICB9XG4gIC8vIENhbGwgcmVnaXN0ZXJDb250ZXh0IF9vblRyYW5zcG9ydENsb3NlZF9cbiAgdGhpcy5yZWdpc3RlckNvbnRleHQub25UcmFuc3BvcnRDbG9zZWQoKTtcbn07XG5cblVBLnByb3RvdHlwZS5yZWNvdmVyVHJhbnNwb3J0ID0gZnVuY3Rpb24odWEpIHtcbiAgdmFyIGlkeCwgbGVuZ3RoLCBrLCBuZXh0UmV0cnksIGNvdW50LCBzZXJ2ZXI7XG5cbiAgdWEgPSB1YSB8fCB0aGlzO1xuICBjb3VudCA9IHVhLnRyYW5zcG9ydFJlY292ZXJBdHRlbXB0cztcblxuICBsZW5ndGggPSB1YS5jb25maWd1cmF0aW9uLndzU2VydmVycy5sZW5ndGg7XG4gIGZvciAoaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgIHVhLmNvbmZpZ3VyYXRpb24ud3NTZXJ2ZXJzW2lkeF0uc3RhdHVzID0gMDtcbiAgfVxuXG4gIHNlcnZlciA9IHVhLmdldE5leHRXc1NlcnZlcigpO1xuXG4gIGsgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogTWF0aC5wb3coMixjb3VudCkpICsxKTtcbiAgbmV4dFJldHJ5ID0gayAqIHVhLmNvbmZpZ3VyYXRpb24uY29ubmVjdGlvblJlY292ZXJ5TWluSW50ZXJ2YWw7XG5cbiAgaWYgKG5leHRSZXRyeSA+IHVhLmNvbmZpZ3VyYXRpb24uY29ubmVjdGlvblJlY292ZXJ5TWF4SW50ZXJ2YWwpIHtcbiAgICB0aGlzLmxvZ2dlci5sb2coJ3RpbWUgZm9yIG5leHQgY29ubmVjdGlvbiBhdHRlbXB0IGV4Y2VlZHMgY29ubmVjdGlvblJlY292ZXJ5TWF4SW50ZXJ2YWwsIHJlc2V0dGluZyBjb3VudGVyJyk7XG4gICAgbmV4dFJldHJ5ID0gdWEuY29uZmlndXJhdGlvbi5jb25uZWN0aW9uUmVjb3ZlcnlNaW5JbnRlcnZhbDtcbiAgICBjb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLmxvZ2dlci5sb2coJ25leHQgY29ubmVjdGlvbiBhdHRlbXB0IGluICcrIG5leHRSZXRyeSArJyBzZWNvbmRzJyk7XG5cbiAgdGhpcy50cmFuc3BvcnRSZWNvdmVyeVRpbWVyID0gU0lQLlRpbWVycy5zZXRUaW1lb3V0KFxuICAgIGZ1bmN0aW9uKCl7XG4gICAgICB1YS50cmFuc3BvcnRSZWNvdmVyQXR0ZW1wdHMgPSBjb3VudCArIDE7XG4gICAgICBuZXcgU0lQLlRyYW5zcG9ydCh1YSwgc2VydmVyKTtcbiAgICB9LCBuZXh0UmV0cnkgKiAxMDAwKTtcbn07XG5cbmZ1bmN0aW9uIGNoZWNrQXV0aGVudGljYXRpb25GYWN0b3J5IChhdXRoZW50aWNhdGlvbkZhY3RvcnkpIHtcbiAgaWYgKCEoYXV0aGVudGljYXRpb25GYWN0b3J5IGluc3RhbmNlb2YgRnVuY3Rpb24pKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghYXV0aGVudGljYXRpb25GYWN0b3J5LmluaXRpYWxpemUpIHtcbiAgICBhdXRoZW50aWNhdGlvbkZhY3RvcnkuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIGluaXRpYWxpemUgKCkge1xuICAgICAgcmV0dXJuIFNJUC5VdGlscy5Qcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBhdXRoZW50aWNhdGlvbkZhY3Rvcnk7XG59XG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBsb2FkLlxuICogQHByaXZhdGVcbiAqIHJldHVybnMge0Jvb2xlYW59XG4gKi9cblVBLnByb3RvdHlwZS5sb2FkQ29uZmlnID0gZnVuY3Rpb24oY29uZmlndXJhdGlvbikge1xuICAvLyBTZXR0aW5ncyBhbmQgZGVmYXVsdCB2YWx1ZXNcbiAgdmFyIHBhcmFtZXRlciwgdmFsdWUsIGNoZWNrZWRfdmFsdWUsIGhvc3Rwb3J0UGFyYW1zLCByZWdpc3RyYXJTZXJ2ZXIsXG4gICAgc2V0dGluZ3MgPSB7XG4gICAgICAvKiBIb3N0IGFkZHJlc3NcbiAgICAgICogVmFsdWUgdG8gYmUgc2V0IGluIFZpYSBzZW50X2J5IGFuZCBob3N0IHBhcnQgb2YgQ29udGFjdCBGUUROXG4gICAgICAqL1xuICAgICAgdmlhSG9zdDogU0lQLlV0aWxzLmNyZWF0ZVJhbmRvbVRva2VuKDEyKSArICcuaW52YWxpZCcsXG5cbiAgICAgIHVyaTogbmV3IFNJUC5VUkkoJ3NpcCcsICdhbm9ueW1vdXMuJyArIFNJUC5VdGlscy5jcmVhdGVSYW5kb21Ub2tlbig2KSwgJ2Fub255bW91cy5pbnZhbGlkJywgbnVsbCwgbnVsbCksXG4gICAgICB3c1NlcnZlcnM6IFt7XG4gICAgICAgIHNjaGVtZTogJ1dTUycsXG4gICAgICAgIHNpcF91cmk6ICc8c2lwOmVkZ2Uuc2lwLm9uc2lwLmNvbTt0cmFuc3BvcnQ9d3M7bHI+JyxcbiAgICAgICAgc3RhdHVzOiAwLFxuICAgICAgICB3ZWlnaHQ6IDAsXG4gICAgICAgIHdzX3VyaTogJ3dzczovL2VkZ2Uuc2lwLm9uc2lwLmNvbSdcbiAgICAgIH1dLFxuXG4gICAgICAvLyBQYXNzd29yZFxuICAgICAgcGFzc3dvcmQ6IG51bGwsXG5cbiAgICAgIC8vIFJlZ2lzdHJhdGlvbiBwYXJhbWV0ZXJzXG4gICAgICByZWdpc3RlckV4cGlyZXM6IDYwMCxcbiAgICAgIHJlZ2lzdGVyOiB0cnVlLFxuICAgICAgcmVnaXN0cmFyU2VydmVyOiBudWxsLFxuXG4gICAgICAvLyBUcmFuc3BvcnQgcmVsYXRlZCBwYXJhbWV0ZXJzXG4gICAgICB3c1NlcnZlck1heFJlY29ubmVjdGlvbjogMyxcbiAgICAgIHdzU2VydmVyUmVjb25uZWN0aW9uVGltZW91dDogNCxcblxuICAgICAgY29ubmVjdGlvblJlY292ZXJ5TWluSW50ZXJ2YWw6IDIsXG4gICAgICBjb25uZWN0aW9uUmVjb3ZlcnlNYXhJbnRlcnZhbDogMzAsXG5cbiAgICAgIGtlZXBBbGl2ZUludGVydmFsOiAwLFxuXG4gICAgICBleHRyYVN1cHBvcnRlZDogW10sXG5cbiAgICAgIHVzZVByZWxvYWRlZFJvdXRlOiBmYWxzZSxcblxuICAgICAgLy9zdHJpbmcgdG8gYmUgaW5zZXJ0ZWQgaW50byBVc2VyLUFnZW50IHJlcXVlc3QgaGVhZGVyXG4gICAgICB1c2VyQWdlbnRTdHJpbmc6IFNJUC5DLlVTRVJfQUdFTlQsXG5cbiAgICAgIC8vIFNlc3Npb24gcGFyYW1ldGVyc1xuICAgICAgaWNlQ2hlY2tpbmdUaW1lb3V0OiA1MDAwLFxuICAgICAgbm9BbnN3ZXJUaW1lb3V0OiA2MCxcbiAgICAgIHN0dW5TZXJ2ZXJzOiBbJ3N0dW46c3R1bi5sLmdvb2dsZS5jb206MTkzMDInXSxcbiAgICAgIHR1cm5TZXJ2ZXJzOiBbXSxcblxuICAgICAgLy8gTG9nZ2luZyBwYXJhbWV0ZXJzXG4gICAgICB0cmFjZVNpcDogZmFsc2UsXG5cbiAgICAgIC8vIEhhY2tzXG4gICAgICBoYWNrVmlhVGNwOiBmYWxzZSxcbiAgICAgIGhhY2tJcEluQ29udGFjdDogZmFsc2UsXG4gICAgICBoYWNrV3NzSW5UcmFuc3BvcnQ6IGZhbHNlLFxuICAgICAgaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFnczogZmFsc2UsXG4gICAgICBoYWNrQ2xlYW5KaXRzaVNkcEltYWdlYXR0cjogZmFsc2UsXG4gICAgICBoYWNrU3RyaXBUY3A6IGZhbHNlLFxuXG4gICAgICBjb250YWN0VHJhbnNwb3J0OiAnd3MnLFxuICAgICAgZm9yY2VScG9ydDogZmFsc2UsXG5cbiAgICAgIC8vYXV0b3N0YXJ0aW5nXG4gICAgICBhdXRvc3RhcnQ6IHRydWUsXG5cbiAgICAgIC8vUmVsaWFibGUgUHJvdmlzaW9uYWwgUmVzcG9uc2VzXG4gICAgICByZWwxMDA6IFNJUC5DLnN1cHBvcnRlZC5VTlNVUFBPUlRFRCxcblxuICAgICAgLy8gUmVwbGFjZXMgaGVhZGVyIChSRkMgMzg5MSlcbiAgICAgIC8vIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM4OTFcbiAgICAgIHJlcGxhY2VzOiBTSVAuQy5zdXBwb3J0ZWQuVU5TVVBQT1JURUQsXG5cbiAgICAgIG1lZGlhSGFuZGxlckZhY3Rvcnk6IFNJUC5XZWJSVEMuTWVkaWFIYW5kbGVyLmRlZmF1bHRGYWN0b3J5LFxuXG4gICAgICBhdXRoZW50aWNhdGlvbkZhY3Rvcnk6IGNoZWNrQXV0aGVudGljYXRpb25GYWN0b3J5KGZ1bmN0aW9uIGF1dGhlbnRpY2F0aW9uRmFjdG9yeSAodWEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTSVAuRGlnZXN0QXV0aGVudGljYXRpb24odWEpO1xuICAgICAgfSksXG5cbiAgICAgIGFsbG93TGVnYWN5Tm90aWZpY2F0aW9uczogZmFsc2VcbiAgICB9O1xuXG4gIC8vIFByZS1Db25maWd1cmF0aW9uXG4gIGZ1bmN0aW9uIGFsaWFzVW5kZXJzY29yZWQgKHBhcmFtZXRlciwgbG9nZ2VyKSB7XG4gICAgdmFyIHVuZGVyc2NvcmVkID0gcGFyYW1ldGVyLnJlcGxhY2UoLyhbYS16XVtBLVpdKS9nLCBmdW5jdGlvbiAobSkge1xuICAgICAgcmV0dXJuIG1bMF0gKyAnXycgKyBtWzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICBpZiAocGFyYW1ldGVyID09PSB1bmRlcnNjb3JlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBoYXNQYXJhbWV0ZXIgPSBjb25maWd1cmF0aW9uLmhhc093blByb3BlcnR5KHBhcmFtZXRlcik7XG4gICAgaWYgKGNvbmZpZ3VyYXRpb24uaGFzT3duUHJvcGVydHkodW5kZXJzY29yZWQpKSB7XG4gICAgICBsb2dnZXIud2Fybih1bmRlcnNjb3JlZCArICcgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSAnICsgcGFyYW1ldGVyKTtcbiAgICAgIGlmIChoYXNQYXJhbWV0ZXIpIHtcbiAgICAgICAgbG9nZ2VyLndhcm4ocGFyYW1ldGVyICsgJyBvdmVycmlkaW5nICcgKyB1bmRlcnNjb3JlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uZmlndXJhdGlvbltwYXJhbWV0ZXJdID0gaGFzUGFyYW1ldGVyID8gY29uZmlndXJhdGlvbltwYXJhbWV0ZXJdIDogY29uZmlndXJhdGlvblt1bmRlcnNjb3JlZF07XG4gIH1cblxuICAvLyBDaGVjayBNYW5kYXRvcnkgcGFyYW1ldGVyc1xuICBmb3IocGFyYW1ldGVyIGluIFVBLmNvbmZpZ3VyYXRpb25fY2hlY2subWFuZGF0b3J5KSB7XG4gICAgYWxpYXNVbmRlcnNjb3JlZChwYXJhbWV0ZXIsIHRoaXMubG9nZ2VyKTtcbiAgICBpZighY29uZmlndXJhdGlvbi5oYXNPd25Qcm9wZXJ0eShwYXJhbWV0ZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgU0lQLkV4Y2VwdGlvbnMuQ29uZmlndXJhdGlvbkVycm9yKHBhcmFtZXRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gY29uZmlndXJhdGlvbltwYXJhbWV0ZXJdO1xuICAgICAgY2hlY2tlZF92YWx1ZSA9IFVBLmNvbmZpZ3VyYXRpb25fY2hlY2subWFuZGF0b3J5W3BhcmFtZXRlcl0odmFsdWUpO1xuICAgICAgaWYgKGNoZWNrZWRfdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzZXR0aW5nc1twYXJhbWV0ZXJdID0gY2hlY2tlZF92YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBTSVAuRXhjZXB0aW9ucy5Db25maWd1cmF0aW9uRXJyb3IocGFyYW1ldGVyLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgU0lQLlV0aWxzLm9wdGlvbnNPdmVycmlkZShjb25maWd1cmF0aW9uLCAncmVsMTAwJywgJ3JlbGlhYmxlJywgdHJ1ZSwgdGhpcy5sb2dnZXIsIFNJUC5DLnN1cHBvcnRlZC5VTlNVUFBPUlRFRCk7XG5cbiAgdmFyIGVtcHR5QXJyYXlzQWxsb3dlZCA9IFsnc3R1blNlcnZlcnMnLCAndHVyblNlcnZlcnMnXTtcblxuICAvLyBDaGVjayBPcHRpb25hbCBwYXJhbWV0ZXJzXG4gIGZvcihwYXJhbWV0ZXIgaW4gVUEuY29uZmlndXJhdGlvbl9jaGVjay5vcHRpb25hbCkge1xuICAgIGFsaWFzVW5kZXJzY29yZWQocGFyYW1ldGVyLCB0aGlzLmxvZ2dlcik7XG4gICAgaWYoY29uZmlndXJhdGlvbi5oYXNPd25Qcm9wZXJ0eShwYXJhbWV0ZXIpKSB7XG4gICAgICB2YWx1ZSA9IGNvbmZpZ3VyYXRpb25bcGFyYW1ldGVyXTtcblxuICAgICAgLy8gSWYgdGhlIHBhcmFtZXRlciB2YWx1ZSBpcyBhbiBlbXB0eSBhcnJheSwgYnV0IHNob3VsZG4ndCBiZSwgYXBwbHkgaXRzIGRlZmF1bHQgdmFsdWUuXG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSAmJiB2YWx1ZS5sZW5ndGggPT09IDAgJiYgZW1wdHlBcnJheXNBbGxvd2VkLmluZGV4T2YocGFyYW1ldGVyKSA8IDApIHsgY29udGludWU7IH1cblxuICAgICAgLy8gSWYgdGhlIHBhcmFtZXRlciB2YWx1ZSBpcyBudWxsLCBlbXB0eSBzdHJpbmcsIG9yIHVuZGVmaW5lZCB0aGVuIGFwcGx5IGl0cyBkZWZhdWx0IHZhbHVlLlxuICAgICAgaWYodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IFwiXCIgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkgeyBjb250aW51ZTsgfVxuICAgICAgLy8gSWYgaXQncyBhIG51bWJlciB3aXRoIE5hTiB2YWx1ZSB0aGVuIGFsc28gYXBwbHkgaXRzIGRlZmF1bHQgdmFsdWUuXG4gICAgICAvLyBOT1RFOiBKUyBkb2VzIG5vdCBhbGxvdyBcInZhbHVlID09PSBOYU5cIiwgdGhlIGZvbGxvd2luZyBkb2VzIHRoZSB3b3JrOlxuICAgICAgZWxzZSBpZih0eXBlb2YodmFsdWUpID09PSAnbnVtYmVyJyAmJiBpc05hTih2YWx1ZSkpIHsgY29udGludWU7IH1cblxuICAgICAgY2hlY2tlZF92YWx1ZSA9IFVBLmNvbmZpZ3VyYXRpb25fY2hlY2sub3B0aW9uYWxbcGFyYW1ldGVyXSh2YWx1ZSk7XG4gICAgICBpZiAoY2hlY2tlZF92YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNldHRpbmdzW3BhcmFtZXRlcl0gPSBjaGVja2VkX3ZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFNJUC5FeGNlcHRpb25zLkNvbmZpZ3VyYXRpb25FcnJvcihwYXJhbWV0ZXIsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBTYW5pdHkgQ2hlY2tzXG5cbiAgLy8gQ29ubmVjdGlvbiByZWNvdmVyeSBpbnRlcnZhbHNcbiAgaWYoc2V0dGluZ3MuY29ubmVjdGlvblJlY292ZXJ5TWF4SW50ZXJ2YWwgPCBzZXR0aW5ncy5jb25uZWN0aW9uUmVjb3ZlcnlNaW5JbnRlcnZhbCkge1xuICAgIHRocm93IG5ldyBTSVAuRXhjZXB0aW9ucy5Db25maWd1cmF0aW9uRXJyb3IoJ2Nvbm5lY3Rpb25SZWNvdmVyeU1heEludGVydmFsJywgc2V0dGluZ3MuY29ubmVjdGlvblJlY292ZXJ5TWF4SW50ZXJ2YWwpO1xuICB9XG5cbiAgLy8gUG9zdCBDb25maWd1cmF0aW9uIFByb2Nlc3NcblxuICAvLyBBbGxvdyBwYXNzaW5nIDAgbnVtYmVyIGFzIGRpc3BsYXlOYW1lLlxuICBpZiAoc2V0dGluZ3MuZGlzcGxheU5hbWUgPT09IDApIHtcbiAgICBzZXR0aW5ncy5kaXNwbGF5TmFtZSA9ICcwJztcbiAgfVxuXG4gIC8vIEluc3RhbmNlLWlkIGZvciBHUlVVXG4gIGlmICghc2V0dGluZ3MuaW5zdGFuY2VJZCkge1xuICAgIHNldHRpbmdzLmluc3RhbmNlSWQgPSBTSVAuVXRpbHMubmV3VVVJRCgpO1xuICB9XG5cbiAgLy8gc2lwanNJZCBpbnN0YW5jZSBwYXJhbWV0ZXIuIFN0YXRpYyByYW5kb20gdGFnIG9mIGxlbmd0aCA1XG4gIHNldHRpbmdzLnNpcGpzSWQgPSBTSVAuVXRpbHMuY3JlYXRlUmFuZG9tVG9rZW4oNSk7XG5cbiAgLy8gU3RyaW5nIGNvbnRhaW5pbmcgc2V0dGluZ3MudXJpIHdpdGhvdXQgc2NoZW1lIGFuZCB1c2VyLlxuICBob3N0cG9ydFBhcmFtcyA9IHNldHRpbmdzLnVyaS5jbG9uZSgpO1xuICBob3N0cG9ydFBhcmFtcy51c2VyID0gbnVsbDtcbiAgc2V0dGluZ3MuaG9zdHBvcnRQYXJhbXMgPSBob3N0cG9ydFBhcmFtcy50b1JhdygpLnJlcGxhY2UoL15zaXA6L2ksICcnKTtcblxuICAvKiBDaGVjayB3aGV0aGVyIGF1dGhvcml6YXRpb25Vc2VyIGlzIGV4cGxpY2l0bHkgZGVmaW5lZC5cbiAgICogVGFrZSAnc2V0dGluZ3MudXJpLnVzZXInIHZhbHVlIGlmIG5vdC5cbiAgICovXG4gIGlmICghc2V0dGluZ3MuYXV0aG9yaXphdGlvblVzZXIpIHtcbiAgICBzZXR0aW5ncy5hdXRob3JpemF0aW9uVXNlciA9IHNldHRpbmdzLnVyaS51c2VyO1xuICB9XG5cbiAgLyogSWYgbm8gJ3JlZ2lzdHJhclNlcnZlcicgaXMgc2V0IHVzZSB0aGUgJ3VyaScgdmFsdWUgd2l0aG91dCB1c2VyIHBvcnRpb24uICovXG4gIGlmICghc2V0dGluZ3MucmVnaXN0cmFyU2VydmVyKSB7XG4gICAgcmVnaXN0cmFyU2VydmVyID0gc2V0dGluZ3MudXJpLmNsb25lKCk7XG4gICAgcmVnaXN0cmFyU2VydmVyLnVzZXIgPSBudWxsO1xuICAgIHNldHRpbmdzLnJlZ2lzdHJhclNlcnZlciA9IHJlZ2lzdHJhclNlcnZlcjtcbiAgfVxuXG4gIC8vIFVzZXIgbm9BbnN3ZXJUaW1lb3V0XG4gIHNldHRpbmdzLm5vQW5zd2VyVGltZW91dCA9IHNldHRpbmdzLm5vQW5zd2VyVGltZW91dCAqIDEwMDA7XG5cbiAgLy8gVmlhIEhvc3RcbiAgaWYgKHNldHRpbmdzLmhhY2tJcEluQ29udGFjdCkge1xuICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MuaGFja0lwSW5Db250YWN0ID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHNldHRpbmdzLnZpYUhvc3QgPSBTSVAuVXRpbHMuZ2V0UmFuZG9tVGVzdE5ldElQKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBzZXR0aW5ncy5oYWNrSXBJbkNvbnRhY3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICBzZXR0aW5ncy52aWFIb3N0ID0gc2V0dGluZ3MuaGFja0lwSW5Db250YWN0O1xuICAgIH1cbiAgfVxuXG4gIC8vIENvbnRhY3QgdHJhbnNwb3J0IHBhcmFtZXRlclxuICBpZiAoc2V0dGluZ3MuaGFja1dzc0luVHJhbnNwb3J0KSB7XG4gICAgc2V0dGluZ3MuY29udGFjdFRyYW5zcG9ydCA9ICd3c3MnO1xuICB9XG5cbiAgdGhpcy5jb250YWN0ID0ge1xuICAgIHB1Yl9ncnV1OiBudWxsLFxuICAgIHRlbXBfZ3J1dTogbnVsbCxcbiAgICB1cmk6IG5ldyBTSVAuVVJJKCdzaXAnLCBTSVAuVXRpbHMuY3JlYXRlUmFuZG9tVG9rZW4oOCksIHNldHRpbmdzLnZpYUhvc3QsIG51bGwsIHt0cmFuc3BvcnQ6IHNldHRpbmdzLmNvbnRhY3RUcmFuc3BvcnR9KSxcbiAgICB0b1N0cmluZzogZnVuY3Rpb24ob3B0aW9ucyl7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgdmFyXG4gICAgICAgIGFub255bW91cyA9IG9wdGlvbnMuYW5vbnltb3VzIHx8IG51bGwsXG4gICAgICAgIG91dGJvdW5kID0gb3B0aW9ucy5vdXRib3VuZCB8fCBudWxsLFxuICAgICAgICBjb250YWN0ID0gJzwnO1xuXG4gICAgICBpZiAoYW5vbnltb3VzKSB7XG4gICAgICAgIGNvbnRhY3QgKz0gKHRoaXMudGVtcF9ncnV1IHx8ICgnc2lwOmFub255bW91c0Bhbm9ueW1vdXMuaW52YWxpZDt0cmFuc3BvcnQ9JytzZXR0aW5ncy5jb250YWN0VHJhbnNwb3J0KSkudG9TdHJpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRhY3QgKz0gKHRoaXMucHViX2dydXUgfHwgdGhpcy51cmkpLnRvU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvdXRib3VuZCkge1xuICAgICAgICBjb250YWN0ICs9ICc7b2InO1xuICAgICAgfVxuXG4gICAgICBjb250YWN0ICs9ICc+JztcblxuICAgICAgcmV0dXJuIGNvbnRhY3Q7XG4gICAgfVxuICB9O1xuXG4gIC8vIG1lZGlhIG92ZXJyaWRlcyBtZWRpYUNvbnN0cmFpbnRzXG4gIFNJUC5VdGlscy5vcHRpb25zT3ZlcnJpZGUoc2V0dGluZ3MsICdtZWRpYScsICdtZWRpYUNvbnN0cmFpbnRzJywgdHJ1ZSwgdGhpcy5sb2dnZXIpO1xuXG4gIC8vIEZpbGwgdGhlIHZhbHVlIG9mIHRoZSBjb25maWd1cmF0aW9uX3NrZWxldG9uXG4gIGZvcihwYXJhbWV0ZXIgaW4gc2V0dGluZ3MpIHtcbiAgICBVQS5jb25maWd1cmF0aW9uX3NrZWxldG9uW3BhcmFtZXRlcl0udmFsdWUgPSBzZXR0aW5nc1twYXJhbWV0ZXJdO1xuICB9XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcy5jb25maWd1cmF0aW9uLCBVQS5jb25maWd1cmF0aW9uX3NrZWxldG9uKTtcblxuICAvLyBDbGVhbiBVQS5jb25maWd1cmF0aW9uX3NrZWxldG9uXG4gIGZvcihwYXJhbWV0ZXIgaW4gc2V0dGluZ3MpIHtcbiAgICBVQS5jb25maWd1cmF0aW9uX3NrZWxldG9uW3BhcmFtZXRlcl0udmFsdWUgPSAnJztcbiAgfVxuXG4gIHRoaXMubG9nZ2VyLmxvZygnY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIGFmdGVyIHZhbGlkYXRpb246Jyk7XG4gIGZvcihwYXJhbWV0ZXIgaW4gc2V0dGluZ3MpIHtcbiAgICBzd2l0Y2gocGFyYW1ldGVyKSB7XG4gICAgICBjYXNlICd1cmknOlxuICAgICAgY2FzZSAncmVnaXN0cmFyU2VydmVyJzpcbiAgICAgIGNhc2UgJ21lZGlhSGFuZGxlckZhY3RvcnknOlxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ8K3ICcgKyBwYXJhbWV0ZXIgKyAnOiAnICsgc2V0dGluZ3NbcGFyYW1ldGVyXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncGFzc3dvcmQnOlxuICAgICAgICB0aGlzLmxvZ2dlci5sb2coJ8K3ICcgKyBwYXJhbWV0ZXIgKyAnOiAnICsgJ05PVCBTSE9XTicpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZygnwrcgJyArIHBhcmFtZXRlciArICc6ICcgKyBKU09OLnN0cmluZ2lmeShzZXR0aW5nc1twYXJhbWV0ZXJdKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuO1xufTtcblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIE9iamVjdCBza2VsZXRvbi5cbiAqIEBwcml2YXRlXG4gKi9cblVBLmNvbmZpZ3VyYXRpb25fc2tlbGV0b24gPSAoZnVuY3Rpb24oKSB7XG4gIHZhciBpZHgsICBwYXJhbWV0ZXIsXG4gICAgc2tlbGV0b24gPSB7fSxcbiAgICBwYXJhbWV0ZXJzID0gW1xuICAgICAgLy8gSW50ZXJuYWwgcGFyYW1ldGVyc1xuICAgICAgXCJzaXBqc0lkXCIsXG4gICAgICBcImhvc3Rwb3J0UGFyYW1zXCIsXG5cbiAgICAgIC8vIE9wdGlvbmFsIHVzZXIgY29uZmlndXJhYmxlIHBhcmFtZXRlcnNcbiAgICAgIFwidXJpXCIsXG4gICAgICBcIndzU2VydmVyc1wiLFxuICAgICAgXCJhdXRob3JpemF0aW9uVXNlclwiLFxuICAgICAgXCJjb25uZWN0aW9uUmVjb3ZlcnlNYXhJbnRlcnZhbFwiLFxuICAgICAgXCJjb25uZWN0aW9uUmVjb3ZlcnlNaW5JbnRlcnZhbFwiLFxuICAgICAgXCJrZWVwQWxpdmVJbnRlcnZhbFwiLFxuICAgICAgXCJleHRyYVN1cHBvcnRlZFwiLFxuICAgICAgXCJkaXNwbGF5TmFtZVwiLFxuICAgICAgXCJoYWNrVmlhVGNwXCIsIC8vIGZhbHNlLlxuICAgICAgXCJoYWNrSXBJbkNvbnRhY3RcIiwgLy9mYWxzZVxuICAgICAgXCJoYWNrV3NzSW5UcmFuc3BvcnRcIiwgLy9mYWxzZVxuICAgICAgXCJoYWNrQWxsb3dVbnJlZ2lzdGVyZWRPcHRpb25UYWdzXCIsIC8vZmFsc2VcbiAgICAgIFwiaGFja0NsZWFuSml0c2lTZHBJbWFnZWF0dHJcIiwgLy9mYWxzZVxuICAgICAgXCJoYWNrU3RyaXBUY3BcIiwgLy9mYWxzZVxuICAgICAgXCJjb250YWN0VHJhbnNwb3J0XCIsIC8vICd3cydcbiAgICAgIFwiZm9yY2VScG9ydFwiLCAvLyBmYWxzZVxuICAgICAgXCJpY2VDaGVja2luZ1RpbWVvdXRcIixcbiAgICAgIFwiaW5zdGFuY2VJZFwiLFxuICAgICAgXCJub0Fuc3dlclRpbWVvdXRcIiwgLy8gMzAgc2Vjb25kcy5cbiAgICAgIFwicGFzc3dvcmRcIixcbiAgICAgIFwicmVnaXN0ZXJFeHBpcmVzXCIsIC8vIDYwMCBzZWNvbmRzLlxuICAgICAgXCJyZWdpc3RyYXJTZXJ2ZXJcIixcbiAgICAgIFwicmVsaWFibGVcIixcbiAgICAgIFwicmVsMTAwXCIsXG4gICAgICBcInJlcGxhY2VzXCIsXG4gICAgICBcInVzZXJBZ2VudFN0cmluZ1wiLCAvL1NJUC5DLlVTRVJfQUdFTlRcbiAgICAgIFwiYXV0b3N0YXJ0XCIsXG4gICAgICBcInN0dW5TZXJ2ZXJzXCIsXG4gICAgICBcInRyYWNlU2lwXCIsXG4gICAgICBcInR1cm5TZXJ2ZXJzXCIsXG4gICAgICBcInVzZVByZWxvYWRlZFJvdXRlXCIsXG4gICAgICBcIndzU2VydmVyTWF4UmVjb25uZWN0aW9uXCIsXG4gICAgICBcIndzU2VydmVyUmVjb25uZWN0aW9uVGltZW91dFwiLFxuICAgICAgXCJtZWRpYUhhbmRsZXJGYWN0b3J5XCIsXG4gICAgICBcIm1lZGlhXCIsXG4gICAgICBcIm1lZGlhQ29uc3RyYWludHNcIixcbiAgICAgIFwiYXV0aGVudGljYXRpb25GYWN0b3J5XCIsXG4gICAgICBcImFsbG93TGVnYWN5Tm90aWZpY2F0aW9uc1wiLFxuXG4gICAgICAvLyBQb3N0LWNvbmZpZ3VyYXRpb24gZ2VuZXJhdGVkIHBhcmFtZXRlcnNcbiAgICAgIFwidmlhX2NvcmVfdmFsdWVcIixcbiAgICAgIFwidmlhSG9zdFwiXG4gICAgXTtcblxuICBmb3IoaWR4IGluIHBhcmFtZXRlcnMpIHtcbiAgICBwYXJhbWV0ZXIgPSBwYXJhbWV0ZXJzW2lkeF07XG4gICAgc2tlbGV0b25bcGFyYW1ldGVyXSA9IHtcbiAgICAgIHZhbHVlOiAnJyxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgc2tlbGV0b25bJ3JlZ2lzdGVyJ10gPSB7XG4gICAgdmFsdWU6ICcnLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgfTtcblxuICByZXR1cm4gc2tlbGV0b247XG59KCkpO1xuXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gY2hlY2tlci5cbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5VQS5jb25maWd1cmF0aW9uX2NoZWNrID0ge1xuICBtYW5kYXRvcnk6IHtcbiAgfSxcblxuICBvcHRpb25hbDoge1xuXG4gICAgdXJpOiBmdW5jdGlvbih1cmkpIHtcbiAgICAgIHZhciBwYXJzZWQ7XG5cbiAgICAgIGlmICghKC9ec2lwOi9pKS50ZXN0KHVyaSkpIHtcbiAgICAgICAgdXJpID0gU0lQLkMuU0lQICsgJzonICsgdXJpO1xuICAgICAgfVxuICAgICAgcGFyc2VkID0gU0lQLlVSSS5wYXJzZSh1cmkpO1xuXG4gICAgICBpZighcGFyc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZighcGFyc2VkLnVzZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLy9Ob3RlOiB0aGlzIGZ1bmN0aW9uIHVzZWQgdG8gY2FsbCAndGhpcy5sb2dnZXIuZXJyb3InIGJ1dCBjYWxsaW5nICd0aGlzJyB3aXRoIGFueXRoaW5nIGhlcmUgaXMgaW52YWxpZFxuICAgIHdzU2VydmVyczogZnVuY3Rpb24od3NTZXJ2ZXJzKSB7XG4gICAgICB2YXIgaWR4LCBsZW5ndGgsIHVybDtcblxuICAgICAgLyogQWxsb3cgZGVmaW5pbmcgd3NTZXJ2ZXJzIHBhcmFtZXRlciBhczpcbiAgICAgICAqICBTdHJpbmc6IFwiaG9zdFwiXG4gICAgICAgKiAgQXJyYXkgb2YgU3RyaW5nczogW1wiaG9zdDFcIiwgXCJob3N0MlwiXVxuICAgICAgICogIEFycmF5IG9mIE9iamVjdHM6IFt7d3NfdXJpOlwiaG9zdDFcIiwgd2VpZ2h0OjF9LCB7d3NfdXJpOlwiaG9zdDJcIiwgd2VpZ2h0OjB9XVxuICAgICAgICogIEFycmF5IG9mIE9iamVjdHMgYW5kIFN0cmluZ3M6IFt7d3NfdXJpOlwiaG9zdDFcIn0sIFwiaG9zdDJcIl1cbiAgICAgICAqL1xuICAgICAgaWYgKHR5cGVvZiB3c1NlcnZlcnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHdzU2VydmVycyA9IFt7d3NfdXJpOiB3c1NlcnZlcnN9XTtcbiAgICAgIH0gZWxzZSBpZiAod3NTZXJ2ZXJzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgbGVuZ3RoID0gd3NTZXJ2ZXJzLmxlbmd0aDtcbiAgICAgICAgZm9yIChpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB3c1NlcnZlcnNbaWR4XSA9PT0gJ3N0cmluZycpe1xuICAgICAgICAgICAgd3NTZXJ2ZXJzW2lkeF0gPSB7d3NfdXJpOiB3c1NlcnZlcnNbaWR4XX07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh3c1NlcnZlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgbGVuZ3RoID0gd3NTZXJ2ZXJzLmxlbmd0aDtcbiAgICAgIGZvciAoaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBpZiAoIXdzU2VydmVyc1tpZHhdLndzX3VyaSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAod3NTZXJ2ZXJzW2lkeF0ud2VpZ2h0ICYmICFOdW1iZXIod3NTZXJ2ZXJzW2lkeF0ud2VpZ2h0KSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHVybCA9IFNJUC5HcmFtbWFyLnBhcnNlKHdzU2VydmVyc1tpZHhdLndzX3VyaSwgJ2Fic29sdXRlVVJJJyk7XG5cbiAgICAgICAgaWYodXJsID09PSAtMSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmKFsnd3NzJywgJ3dzJywgJ3VkcCddLmluZGV4T2YodXJsLnNjaGVtZSkgPCAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdzU2VydmVyc1tpZHhdLnNpcF91cmkgPSAnPHNpcDonICsgdXJsLmhvc3QgKyAodXJsLnBvcnQgPyAnOicgKyB1cmwucG9ydCA6ICcnKSArICc7dHJhbnNwb3J0PScgKyB1cmwuc2NoZW1lLnJlcGxhY2UoL153c3MkL2ksICd3cycpICsgJztscj4nO1xuXG4gICAgICAgICAgaWYgKCF3c1NlcnZlcnNbaWR4XS53ZWlnaHQpIHtcbiAgICAgICAgICAgIHdzU2VydmVyc1tpZHhdLndlaWdodCA9IDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgd3NTZXJ2ZXJzW2lkeF0uc3RhdHVzID0gMDtcbiAgICAgICAgICB3c1NlcnZlcnNbaWR4XS5zY2hlbWUgPSB1cmwuc2NoZW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB3c1NlcnZlcnM7XG4gICAgfSxcblxuICAgIGF1dGhvcml6YXRpb25Vc2VyOiBmdW5jdGlvbihhdXRob3JpemF0aW9uVXNlcikge1xuICAgICAgaWYoU0lQLkdyYW1tYXIucGFyc2UoJ1wiJysgYXV0aG9yaXphdGlvblVzZXIgKydcIicsICdxdW90ZWRfc3RyaW5nJykgPT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhdXRob3JpemF0aW9uVXNlcjtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY29ubmVjdGlvblJlY292ZXJ5TWF4SW50ZXJ2YWw6IGZ1bmN0aW9uKGNvbm5lY3Rpb25SZWNvdmVyeU1heEludGVydmFsKSB7XG4gICAgICB2YXIgdmFsdWU7XG4gICAgICBpZihTSVAuVXRpbHMuaXNEZWNpbWFsKGNvbm5lY3Rpb25SZWNvdmVyeU1heEludGVydmFsKSkge1xuICAgICAgICB2YWx1ZSA9IE51bWJlcihjb25uZWN0aW9uUmVjb3ZlcnlNYXhJbnRlcnZhbCk7XG4gICAgICAgIGlmKHZhbHVlID4gMCkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBjb25uZWN0aW9uUmVjb3ZlcnlNaW5JbnRlcnZhbDogZnVuY3Rpb24oY29ubmVjdGlvblJlY292ZXJ5TWluSW50ZXJ2YWwpIHtcbiAgICAgIHZhciB2YWx1ZTtcbiAgICAgIGlmKFNJUC5VdGlscy5pc0RlY2ltYWwoY29ubmVjdGlvblJlY292ZXJ5TWluSW50ZXJ2YWwpKSB7XG4gICAgICAgIHZhbHVlID0gTnVtYmVyKGNvbm5lY3Rpb25SZWNvdmVyeU1pbkludGVydmFsKTtcbiAgICAgICAgaWYodmFsdWUgPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGRpc3BsYXlOYW1lOiBmdW5jdGlvbihkaXNwbGF5TmFtZSkge1xuICAgICAgaWYoU0lQLkdyYW1tYXIucGFyc2UoJ1wiJyArIGRpc3BsYXlOYW1lICsgJ1wiJywgJ2Rpc3BsYXlOYW1lJykgPT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkaXNwbGF5TmFtZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaGFja1ZpYVRjcDogZnVuY3Rpb24oaGFja1ZpYVRjcCkge1xuICAgICAgaWYgKHR5cGVvZiBoYWNrVmlhVGNwID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIGhhY2tWaWFUY3A7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGhhY2tJcEluQ29udGFjdDogZnVuY3Rpb24oaGFja0lwSW5Db250YWN0KSB7XG4gICAgICBpZiAodHlwZW9mIGhhY2tJcEluQ29udGFjdCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHJldHVybiBoYWNrSXBJbkNvbnRhY3Q7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0eXBlb2YgaGFja0lwSW5Db250YWN0ID09PSAnc3RyaW5nJyAmJiBTSVAuR3JhbW1hci5wYXJzZShoYWNrSXBJbkNvbnRhY3QsICdob3N0JykgIT09IC0xKSB7XG4gICAgICAgIHJldHVybiBoYWNrSXBJbkNvbnRhY3Q7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGljZUNoZWNraW5nVGltZW91dDogZnVuY3Rpb24oaWNlQ2hlY2tpbmdUaW1lb3V0KSB7XG4gICAgICBpZihTSVAuVXRpbHMuaXNEZWNpbWFsKGljZUNoZWNraW5nVGltZW91dCkpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDUwMCwgaWNlQ2hlY2tpbmdUaW1lb3V0KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaGFja1dzc0luVHJhbnNwb3J0OiBmdW5jdGlvbihoYWNrV3NzSW5UcmFuc3BvcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgaGFja1dzc0luVHJhbnNwb3J0ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIGhhY2tXc3NJblRyYW5zcG9ydDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFnczogZnVuY3Rpb24oaGFja0FsbG93VW5yZWdpc3RlcmVkT3B0aW9uVGFncykge1xuICAgICAgaWYgKHR5cGVvZiBoYWNrQWxsb3dVbnJlZ2lzdGVyZWRPcHRpb25UYWdzID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIGhhY2tBbGxvd1VucmVnaXN0ZXJlZE9wdGlvblRhZ3M7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGhhY2tDbGVhbkppdHNpU2RwSW1hZ2VhdHRyOiBmdW5jdGlvbihoYWNrQ2xlYW5KaXRzaVNkcEltYWdlYXR0cikge1xuICAgICAgaWYgKHR5cGVvZiBoYWNrQ2xlYW5KaXRzaVNkcEltYWdlYXR0ciA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHJldHVybiBoYWNrQ2xlYW5KaXRzaVNkcEltYWdlYXR0cjtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaGFja1N0cmlwVGNwOiBmdW5jdGlvbihoYWNrU3RyaXBUY3ApIHtcbiAgICAgIGlmICh0eXBlb2YgaGFja1N0cmlwVGNwID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIGhhY2tTdHJpcFRjcDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY29udGFjdFRyYW5zcG9ydDogZnVuY3Rpb24oY29udGFjdFRyYW5zcG9ydCkge1xuICAgICAgaWYgKHR5cGVvZiBjb250YWN0VHJhbnNwb3J0ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gY29udGFjdFRyYW5zcG9ydDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZm9yY2VScG9ydDogZnVuY3Rpb24oZm9yY2VScG9ydCkge1xuICAgICAgaWYgKHR5cGVvZiBmb3JjZVJwb3J0ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIGZvcmNlUnBvcnQ7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGluc3RhbmNlSWQ6IGZ1bmN0aW9uKGluc3RhbmNlSWQpIHtcbiAgICAgIGlmKHR5cGVvZiBpbnN0YW5jZUlkICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICgoL151dWlkOi9pLnRlc3QoaW5zdGFuY2VJZCkpKSB7XG4gICAgICAgIGluc3RhbmNlSWQgPSBpbnN0YW5jZUlkLnN1YnN0cig1KTtcbiAgICAgIH1cblxuICAgICAgaWYoU0lQLkdyYW1tYXIucGFyc2UoaW5zdGFuY2VJZCwgJ3V1aWQnKSA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlSWQ7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGtlZXBBbGl2ZUludGVydmFsOiBmdW5jdGlvbihrZWVwQWxpdmVJbnRlcnZhbCkge1xuICAgICAgdmFyIHZhbHVlO1xuICAgICAgaWYgKFNJUC5VdGlscy5pc0RlY2ltYWwoa2VlcEFsaXZlSW50ZXJ2YWwpKSB7XG4gICAgICAgIHZhbHVlID0gTnVtYmVyKGtlZXBBbGl2ZUludGVydmFsKTtcbiAgICAgICAgaWYgKHZhbHVlID4gMCkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBleHRyYVN1cHBvcnRlZDogZnVuY3Rpb24ob3B0aW9uVGFncykge1xuICAgICAgdmFyIGlkeCwgbGVuZ3RoO1xuXG4gICAgICBpZiAoIShvcHRpb25UYWdzIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGVuZ3RoID0gb3B0aW9uVGFncy5sZW5ndGg7XG4gICAgICBmb3IgKGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25UYWdzW2lkeF0gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvcHRpb25UYWdzO1xuICAgIH0sXG5cbiAgICBub0Fuc3dlclRpbWVvdXQ6IGZ1bmN0aW9uKG5vQW5zd2VyVGltZW91dCkge1xuICAgICAgdmFyIHZhbHVlO1xuICAgICAgaWYgKFNJUC5VdGlscy5pc0RlY2ltYWwobm9BbnN3ZXJUaW1lb3V0KSkge1xuICAgICAgICB2YWx1ZSA9IE51bWJlcihub0Fuc3dlclRpbWVvdXQpO1xuICAgICAgICBpZiAodmFsdWUgPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHBhc3N3b3JkOiBmdW5jdGlvbihwYXNzd29yZCkge1xuICAgICAgcmV0dXJuIFN0cmluZyhwYXNzd29yZCk7XG4gICAgfSxcblxuICAgIHJlbDEwMDogZnVuY3Rpb24ocmVsMTAwKSB7XG4gICAgICBpZihyZWwxMDAgPT09IFNJUC5DLnN1cHBvcnRlZC5SRVFVSVJFRCkge1xuICAgICAgICByZXR1cm4gU0lQLkMuc3VwcG9ydGVkLlJFUVVJUkVEO1xuICAgICAgfSBlbHNlIGlmIChyZWwxMDAgPT09IFNJUC5DLnN1cHBvcnRlZC5TVVBQT1JURUQpIHtcbiAgICAgICAgcmV0dXJuIFNJUC5DLnN1cHBvcnRlZC5TVVBQT1JURUQ7XG4gICAgICB9IGVsc2UgIHtcbiAgICAgICAgcmV0dXJuIFNJUC5DLnN1cHBvcnRlZC5VTlNVUFBPUlRFRDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVwbGFjZXM6IGZ1bmN0aW9uKHJlcGxhY2VzKSB7XG4gICAgICBpZihyZXBsYWNlcyA9PT0gU0lQLkMuc3VwcG9ydGVkLlJFUVVJUkVEKSB7XG4gICAgICAgIHJldHVybiBTSVAuQy5zdXBwb3J0ZWQuUkVRVUlSRUQ7XG4gICAgICB9IGVsc2UgaWYgKHJlcGxhY2VzID09PSBTSVAuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEKSB7XG4gICAgICAgIHJldHVybiBTSVAuQy5zdXBwb3J0ZWQuU1VQUE9SVEVEO1xuICAgICAgfSBlbHNlICB7XG4gICAgICAgIHJldHVybiBTSVAuQy5zdXBwb3J0ZWQuVU5TVVBQT1JURUQ7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlZ2lzdGVyOiBmdW5jdGlvbihyZWdpc3Rlcikge1xuICAgICAgaWYgKHR5cGVvZiByZWdpc3RlciA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHJldHVybiByZWdpc3RlcjtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVnaXN0ZXJFeHBpcmVzOiBmdW5jdGlvbihyZWdpc3RlckV4cGlyZXMpIHtcbiAgICAgIHZhciB2YWx1ZTtcbiAgICAgIGlmIChTSVAuVXRpbHMuaXNEZWNpbWFsKHJlZ2lzdGVyRXhwaXJlcykpIHtcbiAgICAgICAgdmFsdWUgPSBOdW1iZXIocmVnaXN0ZXJFeHBpcmVzKTtcbiAgICAgICAgaWYgKHZhbHVlID4gMCkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICByZWdpc3RyYXJTZXJ2ZXI6IGZ1bmN0aW9uKHJlZ2lzdHJhclNlcnZlcikge1xuICAgICAgdmFyIHBhcnNlZDtcblxuICAgICAgaWYodHlwZW9mIHJlZ2lzdHJhclNlcnZlciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIS9ec2lwOi9pLnRlc3QocmVnaXN0cmFyU2VydmVyKSkge1xuICAgICAgICByZWdpc3RyYXJTZXJ2ZXIgPSBTSVAuQy5TSVAgKyAnOicgKyByZWdpc3RyYXJTZXJ2ZXI7XG4gICAgICB9XG4gICAgICBwYXJzZWQgPSBTSVAuVVJJLnBhcnNlKHJlZ2lzdHJhclNlcnZlcik7XG5cbiAgICAgIGlmKCFwYXJzZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmKHBhcnNlZC51c2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0dW5TZXJ2ZXJzOiBmdW5jdGlvbihzdHVuU2VydmVycykge1xuICAgICAgdmFyIGlkeCwgbGVuZ3RoLCBzdHVuX3NlcnZlcjtcblxuICAgICAgaWYgKHR5cGVvZiBzdHVuU2VydmVycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgc3R1blNlcnZlcnMgPSBbc3R1blNlcnZlcnNdO1xuICAgICAgfSBlbHNlIGlmICghKHN0dW5TZXJ2ZXJzIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbGVuZ3RoID0gc3R1blNlcnZlcnMubGVuZ3RoO1xuICAgICAgZm9yIChpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIHN0dW5fc2VydmVyID0gc3R1blNlcnZlcnNbaWR4XTtcbiAgICAgICAgaWYgKCEoL15zdHVucz86Ly50ZXN0KHN0dW5fc2VydmVyKSkpIHtcbiAgICAgICAgICBzdHVuX3NlcnZlciA9ICdzdHVuOicgKyBzdHVuX3NlcnZlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKFNJUC5HcmFtbWFyLnBhcnNlKHN0dW5fc2VydmVyLCAnc3R1bl9VUkknKSA9PT0gLTEpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3R1blNlcnZlcnNbaWR4XSA9IHN0dW5fc2VydmVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc3R1blNlcnZlcnM7XG4gICAgfSxcblxuICAgIHRyYWNlU2lwOiBmdW5jdGlvbih0cmFjZVNpcCkge1xuICAgICAgaWYgKHR5cGVvZiB0cmFjZVNpcCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHJldHVybiB0cmFjZVNpcDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgdHVyblNlcnZlcnM6IGZ1bmN0aW9uKHR1cm5TZXJ2ZXJzKSB7XG4gICAgICB2YXIgaWR4LCBqZHgsIGxlbmd0aCwgdHVybl9zZXJ2ZXIsIG51bV90dXJuX3NlcnZlcl91cmxzLCB1cmw7XG5cbiAgICAgIGlmICh0dXJuU2VydmVycyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIC8vIERvIG5vdGhpbmdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHR1cm5TZXJ2ZXJzID0gW3R1cm5TZXJ2ZXJzXTtcbiAgICAgIH1cblxuICAgICAgbGVuZ3RoID0gdHVyblNlcnZlcnMubGVuZ3RoO1xuICAgICAgZm9yIChpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIHR1cm5fc2VydmVyID0gdHVyblNlcnZlcnNbaWR4XTtcbiAgICAgICAgLy9CYWNrd2FyZHMgY29tcGF0aWJpbGl0eTogQWxsb3cgZGVmaW5pbmcgdGhlIHR1cm5fc2VydmVyIHVybCB3aXRoIHRoZSAnc2VydmVyJyBwcm9wZXJ0eS5cbiAgICAgICAgaWYgKHR1cm5fc2VydmVyLnNlcnZlcikge1xuICAgICAgICAgIHR1cm5fc2VydmVyLnVybHMgPSBbdHVybl9zZXJ2ZXIuc2VydmVyXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdHVybl9zZXJ2ZXIudXJscyB8fCAhdHVybl9zZXJ2ZXIudXNlcm5hbWUgfHwgIXR1cm5fc2VydmVyLnBhc3N3b3JkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR1cm5fc2VydmVyLnVybHMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgIG51bV90dXJuX3NlcnZlcl91cmxzID0gdHVybl9zZXJ2ZXIudXJscy5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHVybl9zZXJ2ZXIudXJscyA9IFt0dXJuX3NlcnZlci51cmxzXTtcbiAgICAgICAgICBudW1fdHVybl9zZXJ2ZXJfdXJscyA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGpkeCA9IDA7IGpkeCA8IG51bV90dXJuX3NlcnZlcl91cmxzOyBqZHgrKykge1xuICAgICAgICAgIHVybCA9IHR1cm5fc2VydmVyLnVybHNbamR4XTtcblxuICAgICAgICAgIGlmICghKC9edHVybnM/Oi8udGVzdCh1cmwpKSkge1xuICAgICAgICAgICAgdXJsID0gJ3R1cm46JyArIHVybDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZihTSVAuR3JhbW1hci5wYXJzZSh1cmwsICd0dXJuX1VSSScpID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHR1cm5TZXJ2ZXJzO1xuICAgIH0sXG5cbiAgICB1c2VyQWdlbnRTdHJpbmc6IGZ1bmN0aW9uKHVzZXJBZ2VudFN0cmluZykge1xuICAgICAgaWYgKHR5cGVvZiB1c2VyQWdlbnRTdHJpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB1c2VyQWdlbnRTdHJpbmc7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHVzZVByZWxvYWRlZFJvdXRlOiBmdW5jdGlvbih1c2VQcmVsb2FkZWRSb3V0ZSkge1xuICAgICAgaWYgKHR5cGVvZiB1c2VQcmVsb2FkZWRSb3V0ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHJldHVybiB1c2VQcmVsb2FkZWRSb3V0ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgd3NTZXJ2ZXJNYXhSZWNvbm5lY3Rpb246IGZ1bmN0aW9uKHdzU2VydmVyTWF4UmVjb25uZWN0aW9uKSB7XG4gICAgICB2YXIgdmFsdWU7XG4gICAgICBpZiAoU0lQLlV0aWxzLmlzRGVjaW1hbCh3c1NlcnZlck1heFJlY29ubmVjdGlvbikpIHtcbiAgICAgICAgdmFsdWUgPSBOdW1iZXIod3NTZXJ2ZXJNYXhSZWNvbm5lY3Rpb24pO1xuICAgICAgICBpZiAodmFsdWUgPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHdzU2VydmVyUmVjb25uZWN0aW9uVGltZW91dDogZnVuY3Rpb24od3NTZXJ2ZXJSZWNvbm5lY3Rpb25UaW1lb3V0KSB7XG4gICAgICB2YXIgdmFsdWU7XG4gICAgICBpZiAoU0lQLlV0aWxzLmlzRGVjaW1hbCh3c1NlcnZlclJlY29ubmVjdGlvblRpbWVvdXQpKSB7XG4gICAgICAgIHZhbHVlID0gTnVtYmVyKHdzU2VydmVyUmVjb25uZWN0aW9uVGltZW91dCk7XG4gICAgICAgIGlmICh2YWx1ZSA+IDApIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYXV0b3N0YXJ0OiBmdW5jdGlvbihhdXRvc3RhcnQpIHtcbiAgICAgIGlmICh0eXBlb2YgYXV0b3N0YXJ0ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIGF1dG9zdGFydDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgbWVkaWFIYW5kbGVyRmFjdG9yeTogZnVuY3Rpb24obWVkaWFIYW5kbGVyRmFjdG9yeSkge1xuICAgICAgaWYgKG1lZGlhSGFuZGxlckZhY3RvcnkgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICB2YXIgcHJvbWlzaWZpZWRGYWN0b3J5ID0gZnVuY3Rpb24gcHJvbWlzaWZpZWRGYWN0b3J5ICgpIHtcbiAgICAgICAgICB2YXIgbWVkaWFIYW5kbGVyID0gbWVkaWFIYW5kbGVyRmFjdG9yeS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgICAgICAgZnVuY3Rpb24gcGF0Y2hNZXRob2QgKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgICAgIHZhciBtZXRob2QgPSBtZWRpYUhhbmRsZXJbbWV0aG9kTmFtZV07XG4gICAgICAgICAgICBpZiAobWV0aG9kLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrc0ZpcnN0ID0gbWV0aG9kTmFtZSA9PT0gJ2dldERlc2NyaXB0aW9uJztcbiAgICAgICAgICAgICAgbWVkaWFIYW5kbGVyW21ldGhvZE5hbWVdID0gU0lQLlV0aWxzLnByb21pc2lmeShtZWRpYUhhbmRsZXIsIG1ldGhvZE5hbWUsIGNhbGxiYWNrc0ZpcnN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYXRjaE1ldGhvZCgnZ2V0RGVzY3JpcHRpb24nKTtcbiAgICAgICAgICBwYXRjaE1ldGhvZCgnc2V0RGVzY3JpcHRpb24nKTtcblxuICAgICAgICAgIHJldHVybiBtZWRpYUhhbmRsZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcHJvbWlzaWZpZWRGYWN0b3J5LmlzU3VwcG9ydGVkID0gbWVkaWFIYW5kbGVyRmFjdG9yeS5pc1N1cHBvcnRlZDtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmaWVkRmFjdG9yeTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYXV0aGVudGljYXRpb25GYWN0b3J5OiBjaGVja0F1dGhlbnRpY2F0aW9uRmFjdG9yeSxcblxuICAgIGFsbG93TGVnYWN5Tm90aWZpY2F0aW9uczogZnVuY3Rpb24oYWxsb3dMZWdhY3lOb3RpZmljYXRpb25zKSB7XG4gICAgICBpZiAodHlwZW9mIGFsbG93TGVnYWN5Tm90aWZpY2F0aW9ucyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHJldHVybiBhbGxvd0xlZ2FjeU5vdGlmaWNhdGlvbnM7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5VQS5DID0gQztcblNJUC5VQSA9IFVBO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0B0d2lsaW8vc2lwLmpzL3NyYy9VQS5qc1xuLy8gbW9kdWxlIGlkID0gMzY5XG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///369\n");

/***/ }),
/* 370 */
/*!**************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/Hacks.js ***!
  \**************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview Hacks - This file contains all of the things we\n * wish we didn't have to do, just for interop.  It is similar to\n * Utils, which provides actually useful and relevant functions for\n * a SIP library. Methods in this file are grouped by vendor, so\n * as to most easily track when particular hacks may not be necessary anymore.\n */\n\nmodule.exports = function (SIP) {\n\n//keep to quiet jshint, and remain consistent with other files\nSIP = SIP;\n\nvar Hacks = {\n  AllBrowsers: {\n    maskDtls: function (sdp) {\n      if (sdp) {\n        sdp = sdp.replace(/ UDP\\/TLS\\/RTP\\/SAVP/gmi, \" RTP/SAVP\");\n      }\n      return sdp;\n    },\n    unmaskDtls: function (sdp) {\n      /**\n       * Chrome does not handle DTLS correctly (Canaray does, but not production)\n       * keeping Chrome as SDES until DTLS is fixed (comment out 'is_opera' condition)\n       *\n       * UPDATE: May 21, 2014\n       * Chrome 35 now properly defaults to DTLS.  Only Opera remains using SDES\n       *\n       * UPDATE: 2014-09-24\n       * Opera now supports DTLS by default as well.\n       *\n       **/\n      return sdp.replace(/ RTP\\/SAVP/gmi, \" UDP/TLS/RTP/SAVP\");\n    }\n  },\n  Firefox: {\n    /* Condition to detect if hacks are applicable */\n    isFirefox: function () {\n      return typeof mozRTCPeerConnection !== 'undefined';\n    },\n\n    cannotHandleExtraWhitespace: function (sdp) {\n      if (this.isFirefox() && sdp) {\n        sdp = sdp.replace(/ \\r\\n/g, \"\\r\\n\");\n      }\n      return sdp;\n    },\n\n    hasMissingCLineInSDP: function (sdp) {\n      /*\n       * This is a Firefox hack to insert valid sdp when getDescription is\n       * called with the constraint offerToReceiveVideo = false.\n       * We search for either a c-line at the top of the sdp above all\n       * m-lines. If that does not exist then we search for a c-line\n       * beneath each m-line. If it is missing a c-line, we insert\n       * a fake c-line with the ip address 0.0.0.0. This is then valid\n       * sdp and no media will be sent for that m-line.\n       *\n       * Valid SDP is:\n       * m=\n       * i=\n       * c=\n       */\n      var insertAt, mlines;\n      if (sdp.indexOf('c=') > sdp.indexOf('m=')) {\n\n        // Find all m= lines\n        mlines = sdp.match(/m=.*\\r\\n.*/g);\n        for (var i=0; i<mlines.length; i++) {\n\n          // If it has an i= line, check if the next line is the c= line\n          if (mlines[i].toString().search(/i=.*/) >= 0) {\n            insertAt = sdp.indexOf(mlines[i].toString())+mlines[i].toString().length;\n            if (sdp.substr(insertAt,2)!=='c=') {\n              sdp = sdp.substr(0,insertAt) + '\\r\\nc=IN IP4 0.0.0.0' + sdp.substr(insertAt);\n            }\n\n          // else add the C line if it's missing\n          } else if (mlines[i].toString().search(/c=.*/) < 0) {\n            insertAt = sdp.indexOf(mlines[i].toString().match(/.*/))+mlines[i].toString().match(/.*/).toString().length;\n            sdp = sdp.substr(0,insertAt) + '\\r\\nc=IN IP4 0.0.0.0' + sdp.substr(insertAt);\n          }\n        }\n      }\n      return sdp;\n    },\n  },\n\n  Chrome: {\n    needsExplicitlyInactiveSDP: function (sdp) {\n      var sub, index;\n\n      if (Hacks.Firefox.isFirefox()) { // Fix this in Firefox before sending\n        index = sdp.indexOf('m=video 0');\n        if (index !== -1) {\n          sub = sdp.substr(index);\n          sub = sub.replace(/\\r\\nc=IN IP4.*\\r\\n$/,\n                            '\\r\\nc=IN IP4 0.0.0.0\\r\\na=inactive\\r\\n');\n          return sdp.substr(0, index) + sub;\n        }\n      }\n      return sdp;\n    },\n\n    getsConfusedAboutGUM: function (session) {\n      if (session.mediaHandler) {\n        session.mediaHandler.close();\n      }\n    }\n  }\n};\nreturn Hacks;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL0hhY2tzLmpzPzJiMGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQixpQkFBaUI7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUEsc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjM3MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IEhhY2tzIC0gVGhpcyBmaWxlIGNvbnRhaW5zIGFsbCBvZiB0aGUgdGhpbmdzIHdlXG4gKiB3aXNoIHdlIGRpZG4ndCBoYXZlIHRvIGRvLCBqdXN0IGZvciBpbnRlcm9wLiAgSXQgaXMgc2ltaWxhciB0b1xuICogVXRpbHMsIHdoaWNoIHByb3ZpZGVzIGFjdHVhbGx5IHVzZWZ1bCBhbmQgcmVsZXZhbnQgZnVuY3Rpb25zIGZvclxuICogYSBTSVAgbGlicmFyeS4gTWV0aG9kcyBpbiB0aGlzIGZpbGUgYXJlIGdyb3VwZWQgYnkgdmVuZG9yLCBzb1xuICogYXMgdG8gbW9zdCBlYXNpbHkgdHJhY2sgd2hlbiBwYXJ0aWN1bGFyIGhhY2tzIG1heSBub3QgYmUgbmVjZXNzYXJ5IGFueW1vcmUuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoU0lQKSB7XG5cbi8va2VlcCB0byBxdWlldCBqc2hpbnQsIGFuZCByZW1haW4gY29uc2lzdGVudCB3aXRoIG90aGVyIGZpbGVzXG5TSVAgPSBTSVA7XG5cbnZhciBIYWNrcyA9IHtcbiAgQWxsQnJvd3NlcnM6IHtcbiAgICBtYXNrRHRsczogZnVuY3Rpb24gKHNkcCkge1xuICAgICAgaWYgKHNkcCkge1xuICAgICAgICBzZHAgPSBzZHAucmVwbGFjZSgvIFVEUFxcL1RMU1xcL1JUUFxcL1NBVlAvZ21pLCBcIiBSVFAvU0FWUFwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZHA7XG4gICAgfSxcbiAgICB1bm1hc2tEdGxzOiBmdW5jdGlvbiAoc2RwKSB7XG4gICAgICAvKipcbiAgICAgICAqIENocm9tZSBkb2VzIG5vdCBoYW5kbGUgRFRMUyBjb3JyZWN0bHkgKENhbmFyYXkgZG9lcywgYnV0IG5vdCBwcm9kdWN0aW9uKVxuICAgICAgICoga2VlcGluZyBDaHJvbWUgYXMgU0RFUyB1bnRpbCBEVExTIGlzIGZpeGVkIChjb21tZW50IG91dCAnaXNfb3BlcmEnIGNvbmRpdGlvbilcbiAgICAgICAqXG4gICAgICAgKiBVUERBVEU6IE1heSAyMSwgMjAxNFxuICAgICAgICogQ2hyb21lIDM1IG5vdyBwcm9wZXJseSBkZWZhdWx0cyB0byBEVExTLiAgT25seSBPcGVyYSByZW1haW5zIHVzaW5nIFNERVNcbiAgICAgICAqXG4gICAgICAgKiBVUERBVEU6IDIwMTQtMDktMjRcbiAgICAgICAqIE9wZXJhIG5vdyBzdXBwb3J0cyBEVExTIGJ5IGRlZmF1bHQgYXMgd2VsbC5cbiAgICAgICAqXG4gICAgICAgKiovXG4gICAgICByZXR1cm4gc2RwLnJlcGxhY2UoLyBSVFBcXC9TQVZQL2dtaSwgXCIgVURQL1RMUy9SVFAvU0FWUFwiKTtcbiAgICB9XG4gIH0sXG4gIEZpcmVmb3g6IHtcbiAgICAvKiBDb25kaXRpb24gdG8gZGV0ZWN0IGlmIGhhY2tzIGFyZSBhcHBsaWNhYmxlICovXG4gICAgaXNGaXJlZm94OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG1velJUQ1BlZXJDb25uZWN0aW9uICE9PSAndW5kZWZpbmVkJztcbiAgICB9LFxuXG4gICAgY2Fubm90SGFuZGxlRXh0cmFXaGl0ZXNwYWNlOiBmdW5jdGlvbiAoc2RwKSB7XG4gICAgICBpZiAodGhpcy5pc0ZpcmVmb3goKSAmJiBzZHApIHtcbiAgICAgICAgc2RwID0gc2RwLnJlcGxhY2UoLyBcXHJcXG4vZywgXCJcXHJcXG5cIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2RwO1xuICAgIH0sXG5cbiAgICBoYXNNaXNzaW5nQ0xpbmVJblNEUDogZnVuY3Rpb24gKHNkcCkge1xuICAgICAgLypcbiAgICAgICAqIFRoaXMgaXMgYSBGaXJlZm94IGhhY2sgdG8gaW5zZXJ0IHZhbGlkIHNkcCB3aGVuIGdldERlc2NyaXB0aW9uIGlzXG4gICAgICAgKiBjYWxsZWQgd2l0aCB0aGUgY29uc3RyYWludCBvZmZlclRvUmVjZWl2ZVZpZGVvID0gZmFsc2UuXG4gICAgICAgKiBXZSBzZWFyY2ggZm9yIGVpdGhlciBhIGMtbGluZSBhdCB0aGUgdG9wIG9mIHRoZSBzZHAgYWJvdmUgYWxsXG4gICAgICAgKiBtLWxpbmVzLiBJZiB0aGF0IGRvZXMgbm90IGV4aXN0IHRoZW4gd2Ugc2VhcmNoIGZvciBhIGMtbGluZVxuICAgICAgICogYmVuZWF0aCBlYWNoIG0tbGluZS4gSWYgaXQgaXMgbWlzc2luZyBhIGMtbGluZSwgd2UgaW5zZXJ0XG4gICAgICAgKiBhIGZha2UgYy1saW5lIHdpdGggdGhlIGlwIGFkZHJlc3MgMC4wLjAuMC4gVGhpcyBpcyB0aGVuIHZhbGlkXG4gICAgICAgKiBzZHAgYW5kIG5vIG1lZGlhIHdpbGwgYmUgc2VudCBmb3IgdGhhdCBtLWxpbmUuXG4gICAgICAgKlxuICAgICAgICogVmFsaWQgU0RQIGlzOlxuICAgICAgICogbT1cbiAgICAgICAqIGk9XG4gICAgICAgKiBjPVxuICAgICAgICovXG4gICAgICB2YXIgaW5zZXJ0QXQsIG1saW5lcztcbiAgICAgIGlmIChzZHAuaW5kZXhPZignYz0nKSA+IHNkcC5pbmRleE9mKCdtPScpKSB7XG5cbiAgICAgICAgLy8gRmluZCBhbGwgbT0gbGluZXNcbiAgICAgICAgbWxpbmVzID0gc2RwLm1hdGNoKC9tPS4qXFxyXFxuLiovZyk7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxtbGluZXMubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgIC8vIElmIGl0IGhhcyBhbiBpPSBsaW5lLCBjaGVjayBpZiB0aGUgbmV4dCBsaW5lIGlzIHRoZSBjPSBsaW5lXG4gICAgICAgICAgaWYgKG1saW5lc1tpXS50b1N0cmluZygpLnNlYXJjaCgvaT0uKi8pID49IDApIHtcbiAgICAgICAgICAgIGluc2VydEF0ID0gc2RwLmluZGV4T2YobWxpbmVzW2ldLnRvU3RyaW5nKCkpK21saW5lc1tpXS50b1N0cmluZygpLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChzZHAuc3Vic3RyKGluc2VydEF0LDIpIT09J2M9Jykge1xuICAgICAgICAgICAgICBzZHAgPSBzZHAuc3Vic3RyKDAsaW5zZXJ0QXQpICsgJ1xcclxcbmM9SU4gSVA0IDAuMC4wLjAnICsgc2RwLnN1YnN0cihpbnNlcnRBdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBlbHNlIGFkZCB0aGUgQyBsaW5lIGlmIGl0J3MgbWlzc2luZ1xuICAgICAgICAgIH0gZWxzZSBpZiAobWxpbmVzW2ldLnRvU3RyaW5nKCkuc2VhcmNoKC9jPS4qLykgPCAwKSB7XG4gICAgICAgICAgICBpbnNlcnRBdCA9IHNkcC5pbmRleE9mKG1saW5lc1tpXS50b1N0cmluZygpLm1hdGNoKC8uKi8pKSttbGluZXNbaV0udG9TdHJpbmcoKS5tYXRjaCgvLiovKS50b1N0cmluZygpLmxlbmd0aDtcbiAgICAgICAgICAgIHNkcCA9IHNkcC5zdWJzdHIoMCxpbnNlcnRBdCkgKyAnXFxyXFxuYz1JTiBJUDQgMC4wLjAuMCcgKyBzZHAuc3Vic3RyKGluc2VydEF0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzZHA7XG4gICAgfSxcbiAgfSxcblxuICBDaHJvbWU6IHtcbiAgICBuZWVkc0V4cGxpY2l0bHlJbmFjdGl2ZVNEUDogZnVuY3Rpb24gKHNkcCkge1xuICAgICAgdmFyIHN1YiwgaW5kZXg7XG5cbiAgICAgIGlmIChIYWNrcy5GaXJlZm94LmlzRmlyZWZveCgpKSB7IC8vIEZpeCB0aGlzIGluIEZpcmVmb3ggYmVmb3JlIHNlbmRpbmdcbiAgICAgICAgaW5kZXggPSBzZHAuaW5kZXhPZignbT12aWRlbyAwJyk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICBzdWIgPSBzZHAuc3Vic3RyKGluZGV4KTtcbiAgICAgICAgICBzdWIgPSBzdWIucmVwbGFjZSgvXFxyXFxuYz1JTiBJUDQuKlxcclxcbiQvLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcXHJcXG5jPUlOIElQNCAwLjAuMC4wXFxyXFxuYT1pbmFjdGl2ZVxcclxcbicpO1xuICAgICAgICAgIHJldHVybiBzZHAuc3Vic3RyKDAsIGluZGV4KSArIHN1YjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNkcDtcbiAgICB9LFxuXG4gICAgZ2V0c0NvbmZ1c2VkQWJvdXRHVU06IGZ1bmN0aW9uIChzZXNzaW9uKSB7XG4gICAgICBpZiAoc2Vzc2lvbi5tZWRpYUhhbmRsZXIpIHtcbiAgICAgICAgc2Vzc2lvbi5tZWRpYUhhbmRsZXIuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5yZXR1cm4gSGFja3M7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL0hhY2tzLmpzXG4vLyBtb2R1bGUgaWQgPSAzNzBcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///370\n");

/***/ }),
/* 371 */
/*!********************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/SanityCheck.js ***!
  \********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n/**\n * @fileoverview Incoming SIP Message Sanity Check\n */\n\n/**\n * SIP message sanity check.\n * @augments SIP\n * @function\n * @param {SIP.IncomingMessage} message\n * @param {SIP.UA} ua\n * @param {SIP.Transport} transport\n * @returns {Boolean}\n */\nmodule.exports = function (SIP) {\nvar sanityCheck,\n requests = [],\n responses = [],\n all = [];\n\n// Reply\nfunction reply(status_code, message, transport) {\n  var to,\n    response = SIP.Utils.buildStatusLine(status_code),\n    vias = message.getHeaders('via'),\n    length = vias.length,\n    idx = 0;\n\n  for(idx; idx < length; idx++) {\n    response += \"Via: \" + vias[idx] + \"\\r\\n\";\n  }\n\n  to = message.getHeader('To');\n\n  if(!message.to_tag) {\n    to += ';tag=' + SIP.Utils.newTag();\n  }\n\n  response += \"To: \" + to + \"\\r\\n\";\n  response += \"From: \" + message.getHeader('From') + \"\\r\\n\";\n  response += \"Call-ID: \" + message.call_id + \"\\r\\n\";\n  response += \"CSeq: \" + message.cseq + \" \" + message.method + \"\\r\\n\";\n  response += \"\\r\\n\";\n\n  transport.send(response);\n}\n\n/*\n * Sanity Check for incoming Messages\n *\n * Requests:\n *  - _rfc3261_8_2_2_1_ Receive a Request with a non supported URI scheme\n *  - _rfc3261_16_3_4_ Receive a Request already sent by us\n *   Does not look at via sent-by but at sipjsId, which is inserted as\n *   a prefix in all initial requests generated by the ua\n *  - _rfc3261_18_3_request_ Body Content-Length\n *  - _rfc3261_8_2_2_2_ Merged Requests\n *\n * Responses:\n *  - _rfc3261_8_1_3_3_ Multiple Via headers\n *  - _rfc3261_18_1_2_ sent-by mismatch\n *  - _rfc3261_18_3_response_ Body Content-Length\n *\n * All:\n *  - Minimum headers in a SIP message\n */\n\n// Sanity Check functions for requests\nfunction rfc3261_8_2_2_1(message, ua, transport) {\n  if(!message.ruri || message.ruri.scheme !== 'sip') {\n    reply(416, message, transport);\n    return false;\n  }\n}\n\nfunction rfc3261_16_3_4(message, ua, transport) {\n  if(!message.to_tag) {\n    if(message.call_id.substr(0, 5) === ua.configuration.sipjsId) {\n      reply(482, message, transport);\n      return false;\n    }\n  }\n}\n\nfunction rfc3261_18_3_request(message, ua, transport) {\n  var len = SIP.Utils.str_utf8_length(message.body),\n  contentLength = message.getHeader('content-length');\n\n  if(len < contentLength) {\n    reply(400, message, transport);\n    return false;\n  }\n}\n\nfunction rfc3261_8_2_2_2(message, ua, transport) {\n  var tr, idx,\n    fromTag = message.from_tag,\n    call_id = message.call_id,\n    cseq = message.cseq;\n\n  if(!message.to_tag) {\n    if(message.method === SIP.C.INVITE) {\n      tr = ua.transactions.ist[message.via_branch];\n      if(tr) {\n        return;\n      } else {\n        for(idx in ua.transactions.ist) {\n          tr = ua.transactions.ist[idx];\n          if(tr.request.from_tag === fromTag && tr.request.call_id === call_id && tr.request.cseq === cseq) {\n            reply(482, message, transport);\n            return false;\n          }\n        }\n      }\n    } else {\n      tr = ua.transactions.nist[message.via_branch];\n      if(tr) {\n        return;\n      } else {\n        for(idx in ua.transactions.nist) {\n          tr = ua.transactions.nist[idx];\n          if(tr.request.from_tag === fromTag && tr.request.call_id === call_id && tr.request.cseq === cseq) {\n            reply(482, message, transport);\n            return false;\n          }\n        }\n      }\n    }\n  }\n}\n\n// Sanity Check functions for responses\nfunction rfc3261_8_1_3_3(message, ua) {\n  if(message.getHeaders('via').length > 1) {\n    ua.getLogger('sip.sanitycheck').warn('More than one Via header field present in the response. Dropping the response');\n    return false;\n  }\n}\n\nfunction rfc3261_18_3_response(message, ua) {\n  var\n    len = SIP.Utils.str_utf8_length(message.body),\n    contentLength = message.getHeader('content-length');\n\n    if(len < contentLength) {\n      ua.getLogger('sip.sanitycheck').warn('Message body length is lower than the value in Content-Length header field. Dropping the response');\n      return false;\n    }\n}\n\n// Sanity Check functions for requests and responses\nfunction minimumHeaders(message, ua) {\n  var\n    mandatoryHeaders = ['from', 'to', 'call_id', 'cseq', 'via'],\n    idx = mandatoryHeaders.length;\n\n  while(idx--) {\n    if(!message.hasHeader(mandatoryHeaders[idx])) {\n      ua.getLogger('sip.sanitycheck').warn('Missing mandatory header field : '+ mandatoryHeaders[idx] +'. Dropping the response');\n      return false;\n    }\n  }\n}\n\nrequests.push(rfc3261_8_2_2_1);\nrequests.push(rfc3261_16_3_4);\nrequests.push(rfc3261_18_3_request);\nrequests.push(rfc3261_8_2_2_2);\n\nresponses.push(rfc3261_8_1_3_3);\n// responses.push(rfc3261_18_1_2);\nresponses.push(rfc3261_18_3_response);\n\nall.push(minimumHeaders);\n\nsanityCheck = function(message, ua, transport) {\n  var len, pass;\n\n  len = all.length;\n  while(len--) {\n    pass = all[len](message, ua, transport);\n    if(pass === false) {\n      return false;\n    }\n  }\n\n  if(message instanceof SIP.IncomingRequest) {\n    len = requests.length;\n    while(len--) {\n      pass = requests[len](message, ua, transport);\n      if(pass === false) {\n        return false;\n      }\n    }\n  }\n\n  else if(message instanceof SIP.IncomingResponse) {\n    len = responses.length;\n    while(len--) {\n      pass = responses[len](message, ua, transport);\n      if(pass === false) {\n        return false;\n      }\n    }\n  }\n\n  //Everything is OK\n  return true;\n};\n\nSIP.sanityCheck = sanityCheck;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL1Nhbml0eUNoZWNrLmpzPzYyMWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixXQUFXLE9BQU87QUFDbEIsV0FBVyxjQUFjO0FBQ3pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVSxjQUFjO0FBQ3hCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJmaWxlIjoiMzcxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgSW5jb21pbmcgU0lQIE1lc3NhZ2UgU2FuaXR5IENoZWNrXG4gKi9cblxuLyoqXG4gKiBTSVAgbWVzc2FnZSBzYW5pdHkgY2hlY2suXG4gKiBAYXVnbWVudHMgU0lQXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7U0lQLkluY29taW5nTWVzc2FnZX0gbWVzc2FnZVxuICogQHBhcmFtIHtTSVAuVUF9IHVhXG4gKiBAcGFyYW0ge1NJUC5UcmFuc3BvcnR9IHRyYW5zcG9ydFxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFNJUCkge1xudmFyIHNhbml0eUNoZWNrLFxuIHJlcXVlc3RzID0gW10sXG4gcmVzcG9uc2VzID0gW10sXG4gYWxsID0gW107XG5cbi8vIFJlcGx5XG5mdW5jdGlvbiByZXBseShzdGF0dXNfY29kZSwgbWVzc2FnZSwgdHJhbnNwb3J0KSB7XG4gIHZhciB0byxcbiAgICByZXNwb25zZSA9IFNJUC5VdGlscy5idWlsZFN0YXR1c0xpbmUoc3RhdHVzX2NvZGUpLFxuICAgIHZpYXMgPSBtZXNzYWdlLmdldEhlYWRlcnMoJ3ZpYScpLFxuICAgIGxlbmd0aCA9IHZpYXMubGVuZ3RoLFxuICAgIGlkeCA9IDA7XG5cbiAgZm9yKGlkeDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgIHJlc3BvbnNlICs9IFwiVmlhOiBcIiArIHZpYXNbaWR4XSArIFwiXFxyXFxuXCI7XG4gIH1cblxuICB0byA9IG1lc3NhZ2UuZ2V0SGVhZGVyKCdUbycpO1xuXG4gIGlmKCFtZXNzYWdlLnRvX3RhZykge1xuICAgIHRvICs9ICc7dGFnPScgKyBTSVAuVXRpbHMubmV3VGFnKCk7XG4gIH1cblxuICByZXNwb25zZSArPSBcIlRvOiBcIiArIHRvICsgXCJcXHJcXG5cIjtcbiAgcmVzcG9uc2UgKz0gXCJGcm9tOiBcIiArIG1lc3NhZ2UuZ2V0SGVhZGVyKCdGcm9tJykgKyBcIlxcclxcblwiO1xuICByZXNwb25zZSArPSBcIkNhbGwtSUQ6IFwiICsgbWVzc2FnZS5jYWxsX2lkICsgXCJcXHJcXG5cIjtcbiAgcmVzcG9uc2UgKz0gXCJDU2VxOiBcIiArIG1lc3NhZ2UuY3NlcSArIFwiIFwiICsgbWVzc2FnZS5tZXRob2QgKyBcIlxcclxcblwiO1xuICByZXNwb25zZSArPSBcIlxcclxcblwiO1xuXG4gIHRyYW5zcG9ydC5zZW5kKHJlc3BvbnNlKTtcbn1cblxuLypcbiAqIFNhbml0eSBDaGVjayBmb3IgaW5jb21pbmcgTWVzc2FnZXNcbiAqXG4gKiBSZXF1ZXN0czpcbiAqICAtIF9yZmMzMjYxXzhfMl8yXzFfIFJlY2VpdmUgYSBSZXF1ZXN0IHdpdGggYSBub24gc3VwcG9ydGVkIFVSSSBzY2hlbWVcbiAqICAtIF9yZmMzMjYxXzE2XzNfNF8gUmVjZWl2ZSBhIFJlcXVlc3QgYWxyZWFkeSBzZW50IGJ5IHVzXG4gKiAgIERvZXMgbm90IGxvb2sgYXQgdmlhIHNlbnQtYnkgYnV0IGF0IHNpcGpzSWQsIHdoaWNoIGlzIGluc2VydGVkIGFzXG4gKiAgIGEgcHJlZml4IGluIGFsbCBpbml0aWFsIHJlcXVlc3RzIGdlbmVyYXRlZCBieSB0aGUgdWFcbiAqICAtIF9yZmMzMjYxXzE4XzNfcmVxdWVzdF8gQm9keSBDb250ZW50LUxlbmd0aFxuICogIC0gX3JmYzMyNjFfOF8yXzJfMl8gTWVyZ2VkIFJlcXVlc3RzXG4gKlxuICogUmVzcG9uc2VzOlxuICogIC0gX3JmYzMyNjFfOF8xXzNfM18gTXVsdGlwbGUgVmlhIGhlYWRlcnNcbiAqICAtIF9yZmMzMjYxXzE4XzFfMl8gc2VudC1ieSBtaXNtYXRjaFxuICogIC0gX3JmYzMyNjFfMThfM19yZXNwb25zZV8gQm9keSBDb250ZW50LUxlbmd0aFxuICpcbiAqIEFsbDpcbiAqICAtIE1pbmltdW0gaGVhZGVycyBpbiBhIFNJUCBtZXNzYWdlXG4gKi9cblxuLy8gU2FuaXR5IENoZWNrIGZ1bmN0aW9ucyBmb3IgcmVxdWVzdHNcbmZ1bmN0aW9uIHJmYzMyNjFfOF8yXzJfMShtZXNzYWdlLCB1YSwgdHJhbnNwb3J0KSB7XG4gIGlmKCFtZXNzYWdlLnJ1cmkgfHwgbWVzc2FnZS5ydXJpLnNjaGVtZSAhPT0gJ3NpcCcpIHtcbiAgICByZXBseSg0MTYsIG1lc3NhZ2UsIHRyYW5zcG9ydCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJmYzMyNjFfMTZfM180KG1lc3NhZ2UsIHVhLCB0cmFuc3BvcnQpIHtcbiAgaWYoIW1lc3NhZ2UudG9fdGFnKSB7XG4gICAgaWYobWVzc2FnZS5jYWxsX2lkLnN1YnN0cigwLCA1KSA9PT0gdWEuY29uZmlndXJhdGlvbi5zaXBqc0lkKSB7XG4gICAgICByZXBseSg0ODIsIG1lc3NhZ2UsIHRyYW5zcG9ydCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJmYzMyNjFfMThfM19yZXF1ZXN0KG1lc3NhZ2UsIHVhLCB0cmFuc3BvcnQpIHtcbiAgdmFyIGxlbiA9IFNJUC5VdGlscy5zdHJfdXRmOF9sZW5ndGgobWVzc2FnZS5ib2R5KSxcbiAgY29udGVudExlbmd0aCA9IG1lc3NhZ2UuZ2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcpO1xuXG4gIGlmKGxlbiA8IGNvbnRlbnRMZW5ndGgpIHtcbiAgICByZXBseSg0MDAsIG1lc3NhZ2UsIHRyYW5zcG9ydCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJmYzMyNjFfOF8yXzJfMihtZXNzYWdlLCB1YSwgdHJhbnNwb3J0KSB7XG4gIHZhciB0ciwgaWR4LFxuICAgIGZyb21UYWcgPSBtZXNzYWdlLmZyb21fdGFnLFxuICAgIGNhbGxfaWQgPSBtZXNzYWdlLmNhbGxfaWQsXG4gICAgY3NlcSA9IG1lc3NhZ2UuY3NlcTtcblxuICBpZighbWVzc2FnZS50b190YWcpIHtcbiAgICBpZihtZXNzYWdlLm1ldGhvZCA9PT0gU0lQLkMuSU5WSVRFKSB7XG4gICAgICB0ciA9IHVhLnRyYW5zYWN0aW9ucy5pc3RbbWVzc2FnZS52aWFfYnJhbmNoXTtcbiAgICAgIGlmKHRyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcihpZHggaW4gdWEudHJhbnNhY3Rpb25zLmlzdCkge1xuICAgICAgICAgIHRyID0gdWEudHJhbnNhY3Rpb25zLmlzdFtpZHhdO1xuICAgICAgICAgIGlmKHRyLnJlcXVlc3QuZnJvbV90YWcgPT09IGZyb21UYWcgJiYgdHIucmVxdWVzdC5jYWxsX2lkID09PSBjYWxsX2lkICYmIHRyLnJlcXVlc3QuY3NlcSA9PT0gY3NlcSkge1xuICAgICAgICAgICAgcmVwbHkoNDgyLCBtZXNzYWdlLCB0cmFuc3BvcnQpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0ciA9IHVhLnRyYW5zYWN0aW9ucy5uaXN0W21lc3NhZ2UudmlhX2JyYW5jaF07XG4gICAgICBpZih0cikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IoaWR4IGluIHVhLnRyYW5zYWN0aW9ucy5uaXN0KSB7XG4gICAgICAgICAgdHIgPSB1YS50cmFuc2FjdGlvbnMubmlzdFtpZHhdO1xuICAgICAgICAgIGlmKHRyLnJlcXVlc3QuZnJvbV90YWcgPT09IGZyb21UYWcgJiYgdHIucmVxdWVzdC5jYWxsX2lkID09PSBjYWxsX2lkICYmIHRyLnJlcXVlc3QuY3NlcSA9PT0gY3NlcSkge1xuICAgICAgICAgICAgcmVwbHkoNDgyLCBtZXNzYWdlLCB0cmFuc3BvcnQpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBTYW5pdHkgQ2hlY2sgZnVuY3Rpb25zIGZvciByZXNwb25zZXNcbmZ1bmN0aW9uIHJmYzMyNjFfOF8xXzNfMyhtZXNzYWdlLCB1YSkge1xuICBpZihtZXNzYWdlLmdldEhlYWRlcnMoJ3ZpYScpLmxlbmd0aCA+IDEpIHtcbiAgICB1YS5nZXRMb2dnZXIoJ3NpcC5zYW5pdHljaGVjaycpLndhcm4oJ01vcmUgdGhhbiBvbmUgVmlhIGhlYWRlciBmaWVsZCBwcmVzZW50IGluIHRoZSByZXNwb25zZS4gRHJvcHBpbmcgdGhlIHJlc3BvbnNlJyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJmYzMyNjFfMThfM19yZXNwb25zZShtZXNzYWdlLCB1YSkge1xuICB2YXJcbiAgICBsZW4gPSBTSVAuVXRpbHMuc3RyX3V0ZjhfbGVuZ3RoKG1lc3NhZ2UuYm9keSksXG4gICAgY29udGVudExlbmd0aCA9IG1lc3NhZ2UuZ2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcpO1xuXG4gICAgaWYobGVuIDwgY29udGVudExlbmd0aCkge1xuICAgICAgdWEuZ2V0TG9nZ2VyKCdzaXAuc2FuaXR5Y2hlY2snKS53YXJuKCdNZXNzYWdlIGJvZHkgbGVuZ3RoIGlzIGxvd2VyIHRoYW4gdGhlIHZhbHVlIGluIENvbnRlbnQtTGVuZ3RoIGhlYWRlciBmaWVsZC4gRHJvcHBpbmcgdGhlIHJlc3BvbnNlJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG4vLyBTYW5pdHkgQ2hlY2sgZnVuY3Rpb25zIGZvciByZXF1ZXN0cyBhbmQgcmVzcG9uc2VzXG5mdW5jdGlvbiBtaW5pbXVtSGVhZGVycyhtZXNzYWdlLCB1YSkge1xuICB2YXJcbiAgICBtYW5kYXRvcnlIZWFkZXJzID0gWydmcm9tJywgJ3RvJywgJ2NhbGxfaWQnLCAnY3NlcScsICd2aWEnXSxcbiAgICBpZHggPSBtYW5kYXRvcnlIZWFkZXJzLmxlbmd0aDtcblxuICB3aGlsZShpZHgtLSkge1xuICAgIGlmKCFtZXNzYWdlLmhhc0hlYWRlcihtYW5kYXRvcnlIZWFkZXJzW2lkeF0pKSB7XG4gICAgICB1YS5nZXRMb2dnZXIoJ3NpcC5zYW5pdHljaGVjaycpLndhcm4oJ01pc3NpbmcgbWFuZGF0b3J5IGhlYWRlciBmaWVsZCA6ICcrIG1hbmRhdG9yeUhlYWRlcnNbaWR4XSArJy4gRHJvcHBpbmcgdGhlIHJlc3BvbnNlJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG59XG5cbnJlcXVlc3RzLnB1c2gocmZjMzI2MV84XzJfMl8xKTtcbnJlcXVlc3RzLnB1c2gocmZjMzI2MV8xNl8zXzQpO1xucmVxdWVzdHMucHVzaChyZmMzMjYxXzE4XzNfcmVxdWVzdCk7XG5yZXF1ZXN0cy5wdXNoKHJmYzMyNjFfOF8yXzJfMik7XG5cbnJlc3BvbnNlcy5wdXNoKHJmYzMyNjFfOF8xXzNfMyk7XG4vLyByZXNwb25zZXMucHVzaChyZmMzMjYxXzE4XzFfMik7XG5yZXNwb25zZXMucHVzaChyZmMzMjYxXzE4XzNfcmVzcG9uc2UpO1xuXG5hbGwucHVzaChtaW5pbXVtSGVhZGVycyk7XG5cbnNhbml0eUNoZWNrID0gZnVuY3Rpb24obWVzc2FnZSwgdWEsIHRyYW5zcG9ydCkge1xuICB2YXIgbGVuLCBwYXNzO1xuXG4gIGxlbiA9IGFsbC5sZW5ndGg7XG4gIHdoaWxlKGxlbi0tKSB7XG4gICAgcGFzcyA9IGFsbFtsZW5dKG1lc3NhZ2UsIHVhLCB0cmFuc3BvcnQpO1xuICAgIGlmKHBhc3MgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaWYobWVzc2FnZSBpbnN0YW5jZW9mIFNJUC5JbmNvbWluZ1JlcXVlc3QpIHtcbiAgICBsZW4gPSByZXF1ZXN0cy5sZW5ndGg7XG4gICAgd2hpbGUobGVuLS0pIHtcbiAgICAgIHBhc3MgPSByZXF1ZXN0c1tsZW5dKG1lc3NhZ2UsIHVhLCB0cmFuc3BvcnQpO1xuICAgICAgaWYocGFzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGVsc2UgaWYobWVzc2FnZSBpbnN0YW5jZW9mIFNJUC5JbmNvbWluZ1Jlc3BvbnNlKSB7XG4gICAgbGVuID0gcmVzcG9uc2VzLmxlbmd0aDtcbiAgICB3aGlsZShsZW4tLSkge1xuICAgICAgcGFzcyA9IHJlc3BvbnNlc1tsZW5dKG1lc3NhZ2UsIHVhLCB0cmFuc3BvcnQpO1xuICAgICAgaWYocGFzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vRXZlcnl0aGluZyBpcyBPS1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cblNJUC5zYW5pdHlDaGVjayA9IHNhbml0eUNoZWNrO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0B0d2lsaW8vc2lwLmpzL3NyYy9TYW5pdHlDaGVjay5qc1xuLy8gbW9kdWxlIGlkID0gMzcxXG4vLyBtb2R1bGUgY2h1bmtzID0gMSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///371\n");

/***/ }),
/* 372 */
/*!*****************************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/DigestAuthentication.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * @fileoverview SIP Digest Authentication\n */\n\n/**\n * SIP Digest Authentication.\n * @augments SIP.\n * @function Digest Authentication\n * @param {SIP.UA} ua\n */\nmodule.exports = function (Utils) {\nvar DigestAuthentication;\n\nDigestAuthentication = function(ua) {\n  this.logger = ua.getLogger('sipjs.digestauthentication');\n  this.username = ua.configuration.authorizationUser;\n  this.password = ua.configuration.password;\n  this.cnonce = null;\n  this.nc = 0;\n  this.ncHex = '00000000';\n  this.response = null;\n};\n\n\n/**\n* Performs Digest authentication given a SIP request and the challenge\n* received in a response to that request.\n* Returns true if credentials were successfully generated, false otherwise.\n*\n* @param {SIP.OutgoingRequest} request\n* @param {Object} challenge\n*/\nDigestAuthentication.prototype.authenticate = function(request, challenge) {\n  // Inspect and validate the challenge.\n\n  this.algorithm = challenge.algorithm;\n  this.realm = challenge.realm;\n  this.nonce = challenge.nonce;\n  this.opaque = challenge.opaque;\n  this.stale = challenge.stale;\n\n  if (this.algorithm) {\n    if (this.algorithm !== 'MD5') {\n      this.logger.warn('challenge with Digest algorithm different than \"MD5\", authentication aborted');\n      return false;\n    }\n  } else {\n    this.algorithm = 'MD5';\n  }\n\n  if (! this.realm) {\n    this.logger.warn('challenge without Digest realm, authentication aborted');\n    return false;\n  }\n\n  if (! this.nonce) {\n    this.logger.warn('challenge without Digest nonce, authentication aborted');\n    return false;\n  }\n\n  // 'qop' can contain a list of values (Array). Let's choose just one.\n  if (challenge.qop) {\n    if (challenge.qop.indexOf('auth') > -1) {\n      this.qop = 'auth';\n    } else if (challenge.qop.indexOf('auth-int') > -1) {\n      this.qop = 'auth-int';\n    } else {\n      // Otherwise 'qop' is present but does not contain 'auth' or 'auth-int', so abort here.\n      this.logger.warn('challenge without Digest qop different than \"auth\" or \"auth-int\", authentication aborted');\n      return false;\n    }\n  } else {\n    this.qop = null;\n  }\n\n  // Fill other attributes.\n\n  this.method = request.method;\n  this.uri = request.ruri;\n  this.cnonce = Utils.createRandomToken(12);\n  this.nc += 1;\n  this.updateNcHex();\n\n  // nc-value = 8LHEX. Max value = 'FFFFFFFF'.\n  if (this.nc === 4294967296) {\n    this.nc = 1;\n    this.ncHex = '00000001';\n  }\n\n  // Calculate the Digest \"response\" value.\n  this.calculateResponse();\n\n  return true;\n};\n\n\n/**\n* Generate Digest 'response' value.\n* @private\n*/\nDigestAuthentication.prototype.calculateResponse = function() {\n  var ha1, ha2;\n\n  // HA1 = MD5(A1) = MD5(username:realm:password)\n  ha1 = Utils.calculateMD5(this.username + \":\" + this.realm + \":\" + this.password);\n\n  if (this.qop === 'auth') {\n    // HA2 = MD5(A2) = MD5(method:digestURI)\n    ha2 = Utils.calculateMD5(this.method + \":\" + this.uri);\n    // response = MD5(HA1:nonce:nonceCount:credentialsNonce:qop:HA2)\n    this.response = Utils.calculateMD5(ha1 + \":\" + this.nonce + \":\" + this.ncHex + \":\" + this.cnonce + \":auth:\" + ha2);\n\n  } else if (this.qop === 'auth-int') {\n    // HA2 = MD5(A2) = MD5(method:digestURI:MD5(entityBody))\n    ha2 = Utils.calculateMD5(this.method + \":\" + this.uri + \":\" + Utils.calculateMD5(this.body ? this.body : \"\"));\n    // response = MD5(HA1:nonce:nonceCount:credentialsNonce:qop:HA2)\n    this.response = Utils.calculateMD5(ha1 + \":\" + this.nonce + \":\" + this.ncHex + \":\" + this.cnonce + \":auth-int:\" + ha2);\n\n  } else if (this.qop === null) {\n    // HA2 = MD5(A2) = MD5(method:digestURI)\n    ha2 = Utils.calculateMD5(this.method + \":\" + this.uri);\n    // response = MD5(HA1:nonce:HA2)\n    this.response = Utils.calculateMD5(ha1 + \":\" + this.nonce + \":\" + ha2);\n  }\n};\n\n\n/**\n* Return the Proxy-Authorization or WWW-Authorization header value.\n*/\nDigestAuthentication.prototype.toString = function() {\n  var auth_params = [];\n\n  if (! this.response) {\n    throw new Error('response field does not exist, cannot generate Authorization header');\n  }\n\n  auth_params.push('algorithm=' + this.algorithm);\n  auth_params.push('username=\"' + this.username + '\"');\n  auth_params.push('realm=\"' + this.realm + '\"');\n  auth_params.push('nonce=\"' + this.nonce + '\"');\n  auth_params.push('uri=\"' + this.uri + '\"');\n  auth_params.push('response=\"' + this.response + '\"');\n  if (this.opaque) {\n    auth_params.push('opaque=\"' + this.opaque + '\"');\n  }\n  if (this.qop) {\n    auth_params.push('qop=' + this.qop);\n    auth_params.push('cnonce=\"' + this.cnonce + '\"');\n    auth_params.push('nc=' + this.ncHex);\n  }\n\n  return 'Digest ' + auth_params.join(', ');\n};\n\n\n/**\n* Generate the 'nc' value as required by Digest in this.ncHex by reading this.nc.\n* @private\n*/\nDigestAuthentication.prototype.updateNcHex = function() {\n  var hex = Number(this.nc).toString(16);\n  this.ncHex = '00000000'.substr(0, 8-hex.length) + hex;\n};\n\nreturn DigestAuthentication;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL0RpZ2VzdEF1dGhlbnRpY2F0aW9uLmpzPzUxOTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLG9CQUFvQjtBQUM5QixVQUFVLE9BQU87QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJmaWxlIjoiMzcyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBTSVAgRGlnZXN0IEF1dGhlbnRpY2F0aW9uXG4gKi9cblxuLyoqXG4gKiBTSVAgRGlnZXN0IEF1dGhlbnRpY2F0aW9uLlxuICogQGF1Z21lbnRzIFNJUC5cbiAqIEBmdW5jdGlvbiBEaWdlc3QgQXV0aGVudGljYXRpb25cbiAqIEBwYXJhbSB7U0lQLlVBfSB1YVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChVdGlscykge1xudmFyIERpZ2VzdEF1dGhlbnRpY2F0aW9uO1xuXG5EaWdlc3RBdXRoZW50aWNhdGlvbiA9IGZ1bmN0aW9uKHVhKSB7XG4gIHRoaXMubG9nZ2VyID0gdWEuZ2V0TG9nZ2VyKCdzaXBqcy5kaWdlc3RhdXRoZW50aWNhdGlvbicpO1xuICB0aGlzLnVzZXJuYW1lID0gdWEuY29uZmlndXJhdGlvbi5hdXRob3JpemF0aW9uVXNlcjtcbiAgdGhpcy5wYXNzd29yZCA9IHVhLmNvbmZpZ3VyYXRpb24ucGFzc3dvcmQ7XG4gIHRoaXMuY25vbmNlID0gbnVsbDtcbiAgdGhpcy5uYyA9IDA7XG4gIHRoaXMubmNIZXggPSAnMDAwMDAwMDAnO1xuICB0aGlzLnJlc3BvbnNlID0gbnVsbDtcbn07XG5cblxuLyoqXG4qIFBlcmZvcm1zIERpZ2VzdCBhdXRoZW50aWNhdGlvbiBnaXZlbiBhIFNJUCByZXF1ZXN0IGFuZCB0aGUgY2hhbGxlbmdlXG4qIHJlY2VpdmVkIGluIGEgcmVzcG9uc2UgdG8gdGhhdCByZXF1ZXN0LlxuKiBSZXR1cm5zIHRydWUgaWYgY3JlZGVudGlhbHMgd2VyZSBzdWNjZXNzZnVsbHkgZ2VuZXJhdGVkLCBmYWxzZSBvdGhlcndpc2UuXG4qXG4qIEBwYXJhbSB7U0lQLk91dGdvaW5nUmVxdWVzdH0gcmVxdWVzdFxuKiBAcGFyYW0ge09iamVjdH0gY2hhbGxlbmdlXG4qL1xuRGlnZXN0QXV0aGVudGljYXRpb24ucHJvdG90eXBlLmF1dGhlbnRpY2F0ZSA9IGZ1bmN0aW9uKHJlcXVlc3QsIGNoYWxsZW5nZSkge1xuICAvLyBJbnNwZWN0IGFuZCB2YWxpZGF0ZSB0aGUgY2hhbGxlbmdlLlxuXG4gIHRoaXMuYWxnb3JpdGhtID0gY2hhbGxlbmdlLmFsZ29yaXRobTtcbiAgdGhpcy5yZWFsbSA9IGNoYWxsZW5nZS5yZWFsbTtcbiAgdGhpcy5ub25jZSA9IGNoYWxsZW5nZS5ub25jZTtcbiAgdGhpcy5vcGFxdWUgPSBjaGFsbGVuZ2Uub3BhcXVlO1xuICB0aGlzLnN0YWxlID0gY2hhbGxlbmdlLnN0YWxlO1xuXG4gIGlmICh0aGlzLmFsZ29yaXRobSkge1xuICAgIGlmICh0aGlzLmFsZ29yaXRobSAhPT0gJ01ENScpIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2NoYWxsZW5nZSB3aXRoIERpZ2VzdCBhbGdvcml0aG0gZGlmZmVyZW50IHRoYW4gXCJNRDVcIiwgYXV0aGVudGljYXRpb24gYWJvcnRlZCcpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLmFsZ29yaXRobSA9ICdNRDUnO1xuICB9XG5cbiAgaWYgKCEgdGhpcy5yZWFsbSkge1xuICAgIHRoaXMubG9nZ2VyLndhcm4oJ2NoYWxsZW5nZSB3aXRob3V0IERpZ2VzdCByZWFsbSwgYXV0aGVudGljYXRpb24gYWJvcnRlZCcpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghIHRoaXMubm9uY2UpIHtcbiAgICB0aGlzLmxvZ2dlci53YXJuKCdjaGFsbGVuZ2Ugd2l0aG91dCBEaWdlc3Qgbm9uY2UsIGF1dGhlbnRpY2F0aW9uIGFib3J0ZWQnKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyAncW9wJyBjYW4gY29udGFpbiBhIGxpc3Qgb2YgdmFsdWVzIChBcnJheSkuIExldCdzIGNob29zZSBqdXN0IG9uZS5cbiAgaWYgKGNoYWxsZW5nZS5xb3ApIHtcbiAgICBpZiAoY2hhbGxlbmdlLnFvcC5pbmRleE9mKCdhdXRoJykgPiAtMSkge1xuICAgICAgdGhpcy5xb3AgPSAnYXV0aCc7XG4gICAgfSBlbHNlIGlmIChjaGFsbGVuZ2UucW9wLmluZGV4T2YoJ2F1dGgtaW50JykgPiAtMSkge1xuICAgICAgdGhpcy5xb3AgPSAnYXV0aC1pbnQnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPdGhlcndpc2UgJ3FvcCcgaXMgcHJlc2VudCBidXQgZG9lcyBub3QgY29udGFpbiAnYXV0aCcgb3IgJ2F1dGgtaW50Jywgc28gYWJvcnQgaGVyZS5cbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2NoYWxsZW5nZSB3aXRob3V0IERpZ2VzdCBxb3AgZGlmZmVyZW50IHRoYW4gXCJhdXRoXCIgb3IgXCJhdXRoLWludFwiLCBhdXRoZW50aWNhdGlvbiBhYm9ydGVkJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMucW9wID0gbnVsbDtcbiAgfVxuXG4gIC8vIEZpbGwgb3RoZXIgYXR0cmlidXRlcy5cblxuICB0aGlzLm1ldGhvZCA9IHJlcXVlc3QubWV0aG9kO1xuICB0aGlzLnVyaSA9IHJlcXVlc3QucnVyaTtcbiAgdGhpcy5jbm9uY2UgPSBVdGlscy5jcmVhdGVSYW5kb21Ub2tlbigxMik7XG4gIHRoaXMubmMgKz0gMTtcbiAgdGhpcy51cGRhdGVOY0hleCgpO1xuXG4gIC8vIG5jLXZhbHVlID0gOExIRVguIE1heCB2YWx1ZSA9ICdGRkZGRkZGRicuXG4gIGlmICh0aGlzLm5jID09PSA0Mjk0OTY3Mjk2KSB7XG4gICAgdGhpcy5uYyA9IDE7XG4gICAgdGhpcy5uY0hleCA9ICcwMDAwMDAwMSc7XG4gIH1cblxuICAvLyBDYWxjdWxhdGUgdGhlIERpZ2VzdCBcInJlc3BvbnNlXCIgdmFsdWUuXG4gIHRoaXMuY2FsY3VsYXRlUmVzcG9uc2UoKTtcblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cblxuLyoqXG4qIEdlbmVyYXRlIERpZ2VzdCAncmVzcG9uc2UnIHZhbHVlLlxuKiBAcHJpdmF0ZVxuKi9cbkRpZ2VzdEF1dGhlbnRpY2F0aW9uLnByb3RvdHlwZS5jYWxjdWxhdGVSZXNwb25zZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaGExLCBoYTI7XG5cbiAgLy8gSEExID0gTUQ1KEExKSA9IE1ENSh1c2VybmFtZTpyZWFsbTpwYXNzd29yZClcbiAgaGExID0gVXRpbHMuY2FsY3VsYXRlTUQ1KHRoaXMudXNlcm5hbWUgKyBcIjpcIiArIHRoaXMucmVhbG0gKyBcIjpcIiArIHRoaXMucGFzc3dvcmQpO1xuXG4gIGlmICh0aGlzLnFvcCA9PT0gJ2F1dGgnKSB7XG4gICAgLy8gSEEyID0gTUQ1KEEyKSA9IE1ENShtZXRob2Q6ZGlnZXN0VVJJKVxuICAgIGhhMiA9IFV0aWxzLmNhbGN1bGF0ZU1ENSh0aGlzLm1ldGhvZCArIFwiOlwiICsgdGhpcy51cmkpO1xuICAgIC8vIHJlc3BvbnNlID0gTUQ1KEhBMTpub25jZTpub25jZUNvdW50OmNyZWRlbnRpYWxzTm9uY2U6cW9wOkhBMilcbiAgICB0aGlzLnJlc3BvbnNlID0gVXRpbHMuY2FsY3VsYXRlTUQ1KGhhMSArIFwiOlwiICsgdGhpcy5ub25jZSArIFwiOlwiICsgdGhpcy5uY0hleCArIFwiOlwiICsgdGhpcy5jbm9uY2UgKyBcIjphdXRoOlwiICsgaGEyKTtcblxuICB9IGVsc2UgaWYgKHRoaXMucW9wID09PSAnYXV0aC1pbnQnKSB7XG4gICAgLy8gSEEyID0gTUQ1KEEyKSA9IE1ENShtZXRob2Q6ZGlnZXN0VVJJOk1ENShlbnRpdHlCb2R5KSlcbiAgICBoYTIgPSBVdGlscy5jYWxjdWxhdGVNRDUodGhpcy5tZXRob2QgKyBcIjpcIiArIHRoaXMudXJpICsgXCI6XCIgKyBVdGlscy5jYWxjdWxhdGVNRDUodGhpcy5ib2R5ID8gdGhpcy5ib2R5IDogXCJcIikpO1xuICAgIC8vIHJlc3BvbnNlID0gTUQ1KEhBMTpub25jZTpub25jZUNvdW50OmNyZWRlbnRpYWxzTm9uY2U6cW9wOkhBMilcbiAgICB0aGlzLnJlc3BvbnNlID0gVXRpbHMuY2FsY3VsYXRlTUQ1KGhhMSArIFwiOlwiICsgdGhpcy5ub25jZSArIFwiOlwiICsgdGhpcy5uY0hleCArIFwiOlwiICsgdGhpcy5jbm9uY2UgKyBcIjphdXRoLWludDpcIiArIGhhMik7XG5cbiAgfSBlbHNlIGlmICh0aGlzLnFvcCA9PT0gbnVsbCkge1xuICAgIC8vIEhBMiA9IE1ENShBMikgPSBNRDUobWV0aG9kOmRpZ2VzdFVSSSlcbiAgICBoYTIgPSBVdGlscy5jYWxjdWxhdGVNRDUodGhpcy5tZXRob2QgKyBcIjpcIiArIHRoaXMudXJpKTtcbiAgICAvLyByZXNwb25zZSA9IE1ENShIQTE6bm9uY2U6SEEyKVxuICAgIHRoaXMucmVzcG9uc2UgPSBVdGlscy5jYWxjdWxhdGVNRDUoaGExICsgXCI6XCIgKyB0aGlzLm5vbmNlICsgXCI6XCIgKyBoYTIpO1xuICB9XG59O1xuXG5cbi8qKlxuKiBSZXR1cm4gdGhlIFByb3h5LUF1dGhvcml6YXRpb24gb3IgV1dXLUF1dGhvcml6YXRpb24gaGVhZGVyIHZhbHVlLlxuKi9cbkRpZ2VzdEF1dGhlbnRpY2F0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgYXV0aF9wYXJhbXMgPSBbXTtcblxuICBpZiAoISB0aGlzLnJlc3BvbnNlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdyZXNwb25zZSBmaWVsZCBkb2VzIG5vdCBleGlzdCwgY2Fubm90IGdlbmVyYXRlIEF1dGhvcml6YXRpb24gaGVhZGVyJyk7XG4gIH1cblxuICBhdXRoX3BhcmFtcy5wdXNoKCdhbGdvcml0aG09JyArIHRoaXMuYWxnb3JpdGhtKTtcbiAgYXV0aF9wYXJhbXMucHVzaCgndXNlcm5hbWU9XCInICsgdGhpcy51c2VybmFtZSArICdcIicpO1xuICBhdXRoX3BhcmFtcy5wdXNoKCdyZWFsbT1cIicgKyB0aGlzLnJlYWxtICsgJ1wiJyk7XG4gIGF1dGhfcGFyYW1zLnB1c2goJ25vbmNlPVwiJyArIHRoaXMubm9uY2UgKyAnXCInKTtcbiAgYXV0aF9wYXJhbXMucHVzaCgndXJpPVwiJyArIHRoaXMudXJpICsgJ1wiJyk7XG4gIGF1dGhfcGFyYW1zLnB1c2goJ3Jlc3BvbnNlPVwiJyArIHRoaXMucmVzcG9uc2UgKyAnXCInKTtcbiAgaWYgKHRoaXMub3BhcXVlKSB7XG4gICAgYXV0aF9wYXJhbXMucHVzaCgnb3BhcXVlPVwiJyArIHRoaXMub3BhcXVlICsgJ1wiJyk7XG4gIH1cbiAgaWYgKHRoaXMucW9wKSB7XG4gICAgYXV0aF9wYXJhbXMucHVzaCgncW9wPScgKyB0aGlzLnFvcCk7XG4gICAgYXV0aF9wYXJhbXMucHVzaCgnY25vbmNlPVwiJyArIHRoaXMuY25vbmNlICsgJ1wiJyk7XG4gICAgYXV0aF9wYXJhbXMucHVzaCgnbmM9JyArIHRoaXMubmNIZXgpO1xuICB9XG5cbiAgcmV0dXJuICdEaWdlc3QgJyArIGF1dGhfcGFyYW1zLmpvaW4oJywgJyk7XG59O1xuXG5cbi8qKlxuKiBHZW5lcmF0ZSB0aGUgJ25jJyB2YWx1ZSBhcyByZXF1aXJlZCBieSBEaWdlc3QgaW4gdGhpcy5uY0hleCBieSByZWFkaW5nIHRoaXMubmMuXG4qIEBwcml2YXRlXG4qL1xuRGlnZXN0QXV0aGVudGljYXRpb24ucHJvdG90eXBlLnVwZGF0ZU5jSGV4ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBoZXggPSBOdW1iZXIodGhpcy5uYykudG9TdHJpbmcoMTYpO1xuICB0aGlzLm5jSGV4ID0gJzAwMDAwMDAwJy5zdWJzdHIoMCwgOC1oZXgubGVuZ3RoKSArIGhleDtcbn07XG5cbnJldHVybiBEaWdlc3RBdXRoZW50aWNhdGlvbjtcbn07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9AdHdpbGlvL3NpcC5qcy9zcmMvRGlnZXN0QXV0aGVudGljYXRpb24uanNcbi8vIG1vZHVsZSBpZCA9IDM3MlxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///372\n");

/***/ }),
/* 373 */
/*!****************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/Grammar.js ***!
  \****************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar Grammar = __webpack_require__(/*! ./Grammar/dist/Grammar */ 374);\n\nmodule.exports = function (SIP) {\n\nreturn {\n  parse: function parseCustom (input, startRule) {\n    var options = {startRule: startRule, SIP: SIP};\n    try {\n      Grammar.parse(input, options);\n    } catch (e) {\n      options.data = -1;\n    }\n    return options.data;\n  }\n};\n\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL0dyYW1tYXIuanM/YjQ4ZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLGNBQWMsbUJBQU8sQ0FBQyxpQ0FBd0I7O0FBRTlDOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjM3My5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIEdyYW1tYXIgPSByZXF1aXJlKCcuL0dyYW1tYXIvZGlzdC9HcmFtbWFyJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFNJUCkge1xuXG5yZXR1cm4ge1xuICBwYXJzZTogZnVuY3Rpb24gcGFyc2VDdXN0b20gKGlucHV0LCBzdGFydFJ1bGUpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHtzdGFydFJ1bGU6IHN0YXJ0UnVsZSwgU0lQOiBTSVB9O1xuICAgIHRyeSB7XG4gICAgICBHcmFtbWFyLnBhcnNlKGlucHV0LCBvcHRpb25zKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBvcHRpb25zLmRhdGEgPSAtMTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnMuZGF0YTtcbiAgfVxufTtcblxufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL0B0d2lsaW8vc2lwLmpzL3NyYy9HcmFtbWFyLmpzXG4vLyBtb2R1bGUgaWQgPSAzNzNcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///373\n");

/***/ }),
/* 374 */
/*!*****************************************************************!*\
  !*** ./node_modules/@twilio/sip.js/src/Grammar/dist/Grammar.js ***!
  \*****************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports) {

eval("module.exports = (function() {\n  /*\n   * Generated by PEG.js 0.8.0.\n   *\n   * http://pegjs.majda.cz/\n   */\n\n  function peg$subclass(child, parent) {\n    function ctor() { this.constructor = child; }\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n  }\n\n  function SyntaxError(message, expected, found, offset, line, column) {\n    this.message  = message;\n    this.expected = expected;\n    this.found    = found;\n    this.offset   = offset;\n    this.line     = line;\n    this.column   = column;\n\n    this.name     = \"SyntaxError\";\n  }\n\n  peg$subclass(SyntaxError, Error);\n\n  function parse(input) {\n    var options = arguments.length > 1 ? arguments[1] : {},\n\n        peg$FAILED = {},\n\n        peg$startRuleIndices = { Contact: 118, Name_Addr_Header: 155, Record_Route: 175, Request_Response: 81, SIP_URI: 45, Subscription_State: 185, Supported: 190, Require: 181, Via: 193, absoluteURI: 84, Call_ID: 117, Content_Disposition: 129, Content_Length: 134, Content_Type: 135, CSeq: 145, displayName: 121, Event: 148, From: 150, host: 52, Max_Forwards: 153, Min_SE: 212, Proxy_Authenticate: 156, quoted_string: 40, Refer_To: 177, Replaces: 178, Session_Expires: 209, stun_URI: 216, To: 191, turn_URI: 223, uuid: 226, WWW_Authenticate: 208, challenge: 157 },\n        peg$startRuleIndex   = 118,\n\n        peg$consts = [\n          \"\\r\\n\",\n          { type: \"literal\", value: \"\\r\\n\", description: \"\\\"\\\\r\\\\n\\\"\" },\n          /^[0-9]/,\n          { type: \"class\", value: \"[0-9]\", description: \"[0-9]\" },\n          /^[a-zA-Z]/,\n          { type: \"class\", value: \"[a-zA-Z]\", description: \"[a-zA-Z]\" },\n          /^[0-9a-fA-F]/,\n          { type: \"class\", value: \"[0-9a-fA-F]\", description: \"[0-9a-fA-F]\" },\n          /^[\\0-\\xFF]/,\n          { type: \"class\", value: \"[\\\\0-\\\\xFF]\", description: \"[\\\\0-\\\\xFF]\" },\n          /^[\"]/,\n          { type: \"class\", value: \"[\\\"]\", description: \"[\\\"]\" },\n          \" \",\n          { type: \"literal\", value: \" \", description: \"\\\" \\\"\" },\n          \"\\t\",\n          { type: \"literal\", value: \"\\t\", description: \"\\\"\\\\t\\\"\" },\n          /^[a-zA-Z0-9]/,\n          { type: \"class\", value: \"[a-zA-Z0-9]\", description: \"[a-zA-Z0-9]\" },\n          \";\",\n          { type: \"literal\", value: \";\", description: \"\\\";\\\"\" },\n          \"/\",\n          { type: \"literal\", value: \"/\", description: \"\\\"/\\\"\" },\n          \"?\",\n          { type: \"literal\", value: \"?\", description: \"\\\"?\\\"\" },\n          \":\",\n          { type: \"literal\", value: \":\", description: \"\\\":\\\"\" },\n          \"@\",\n          { type: \"literal\", value: \"@\", description: \"\\\"@\\\"\" },\n          \"&\",\n          { type: \"literal\", value: \"&\", description: \"\\\"&\\\"\" },\n          \"=\",\n          { type: \"literal\", value: \"=\", description: \"\\\"=\\\"\" },\n          \"+\",\n          { type: \"literal\", value: \"+\", description: \"\\\"+\\\"\" },\n          \"$\",\n          { type: \"literal\", value: \"$\", description: \"\\\"$\\\"\" },\n          \",\",\n          { type: \"literal\", value: \",\", description: \"\\\",\\\"\" },\n          \"-\",\n          { type: \"literal\", value: \"-\", description: \"\\\"-\\\"\" },\n          \"_\",\n          { type: \"literal\", value: \"_\", description: \"\\\"_\\\"\" },\n          \".\",\n          { type: \"literal\", value: \".\", description: \"\\\".\\\"\" },\n          \"!\",\n          { type: \"literal\", value: \"!\", description: \"\\\"!\\\"\" },\n          \"~\",\n          { type: \"literal\", value: \"~\", description: \"\\\"~\\\"\" },\n          \"*\",\n          { type: \"literal\", value: \"*\", description: \"\\\"*\\\"\" },\n          \"'\",\n          { type: \"literal\", value: \"'\", description: \"\\\"'\\\"\" },\n          \"(\",\n          { type: \"literal\", value: \"(\", description: \"\\\"(\\\"\" },\n          \")\",\n          { type: \"literal\", value: \")\", description: \"\\\")\\\"\" },\n          peg$FAILED,\n          \"%\",\n          { type: \"literal\", value: \"%\", description: \"\\\"%\\\"\" },\n          null,\n          [],\n          function() {return \" \"; },\n          function() {return ':'; },\n          /^[!-~]/,\n          { type: \"class\", value: \"[!-~]\", description: \"[!-~]\" },\n          /^[\\x80-\\uFFFF]/,\n          { type: \"class\", value: \"[\\\\x80-\\\\uFFFF]\", description: \"[\\\\x80-\\\\uFFFF]\" },\n          /^[\\x80-\\xBF]/,\n          { type: \"class\", value: \"[\\\\x80-\\\\xBF]\", description: \"[\\\\x80-\\\\xBF]\" },\n          /^[a-f]/,\n          { type: \"class\", value: \"[a-f]\", description: \"[a-f]\" },\n          \"`\",\n          { type: \"literal\", value: \"`\", description: \"\\\"`\\\"\" },\n          \"<\",\n          { type: \"literal\", value: \"<\", description: \"\\\"<\\\"\" },\n          \">\",\n          { type: \"literal\", value: \">\", description: \"\\\">\\\"\" },\n          \"\\\\\",\n          { type: \"literal\", value: \"\\\\\", description: \"\\\"\\\\\\\\\\\"\" },\n          \"[\",\n          { type: \"literal\", value: \"[\", description: \"\\\"[\\\"\" },\n          \"]\",\n          { type: \"literal\", value: \"]\", description: \"\\\"]\\\"\" },\n          \"{\",\n          { type: \"literal\", value: \"{\", description: \"\\\"{\\\"\" },\n          \"}\",\n          { type: \"literal\", value: \"}\", description: \"\\\"}\\\"\" },\n          function() {return \"*\"; },\n          function() {return \"/\"; },\n          function() {return \"=\"; },\n          function() {return \"(\"; },\n          function() {return \")\"; },\n          function() {return \">\"; },\n          function() {return \"<\"; },\n          function() {return \",\"; },\n          function() {return \";\"; },\n          function() {return \":\"; },\n          function() {return \"\\\"\"; },\n          /^[!-']/,\n          { type: \"class\", value: \"[!-']\", description: \"[!-']\" },\n          /^[*-[]/,\n          { type: \"class\", value: \"[*-[]\", description: \"[*-[]\" },\n          /^[\\]-~]/,\n          { type: \"class\", value: \"[\\\\]-~]\", description: \"[\\\\]-~]\" },\n          function(contents) {\n                                  return contents; },\n          /^[#-[]/,\n          { type: \"class\", value: \"[#-[]\", description: \"[#-[]\" },\n          /^[\\0-\\t]/,\n          { type: \"class\", value: \"[\\\\0-\\\\t]\", description: \"[\\\\0-\\\\t]\" },\n          /^[\\x0B-\\f]/,\n          { type: \"class\", value: \"[\\\\x0B-\\\\f]\", description: \"[\\\\x0B-\\\\f]\" },\n          /^[\\x0E-]/,\n          { type: \"class\", value: \"[\\\\x0E-]\", description: \"[\\\\x0E-]\" },\n          function() {\n                                  options.data.uri = new options.SIP.URI(options.data.scheme, options.data.user, options.data.host, options.data.port);\n                                  delete options.data.scheme;\n                                  delete options.data.user;\n                                  delete options.data.host;\n                                  delete options.data.host_type;\n                                  delete options.data.port;\n                                },\n          function() {\n                                  options.data.uri = new options.SIP.URI(options.data.scheme, options.data.user, options.data.host, options.data.port, options.data.uri_params, options.data.uri_headers);\n                                  delete options.data.scheme;\n                                  delete options.data.user;\n                                  delete options.data.host;\n                                  delete options.data.host_type;\n                                  delete options.data.port;\n                                  delete options.data.uri_params;\n\n                                  if (options.startRule === 'SIP_URI') { options.data = options.data.uri;}\n                                },\n          \"sips\",\n          { type: \"literal\", value: \"sips\", description: \"\\\"sips\\\"\" },\n          \"sip\",\n          { type: \"literal\", value: \"sip\", description: \"\\\"sip\\\"\" },\n          function(uri_scheme) {\n                              options.data.scheme = uri_scheme; },\n          function() {\n                              options.data.user = decodeURIComponent(text().slice(0, -1));},\n          function() {\n                              options.data.password = text(); },\n          function() {\n                              options.data.host = text();\n                              return options.data.host; },\n          function() {\n                            options.data.host_type = 'domain';\n                            return text(); },\n          /^[a-zA-Z0-9_\\-]/,\n          { type: \"class\", value: \"[a-zA-Z0-9_\\\\-]\", description: \"[a-zA-Z0-9_\\\\-]\" },\n          /^[a-zA-Z0-9\\-]/,\n          { type: \"class\", value: \"[a-zA-Z0-9\\\\-]\", description: \"[a-zA-Z0-9\\\\-]\" },\n          function() {\n                              options.data.host_type = 'IPv6';\n                              return text(); },\n          \"::\",\n          { type: \"literal\", value: \"::\", description: \"\\\"::\\\"\" },\n          function() {\n                            options.data.host_type = 'IPv6';\n                            return text(); },\n          function() {\n                              options.data.host_type = 'IPv4';\n                              return text(); },\n          \"25\",\n          { type: \"literal\", value: \"25\", description: \"\\\"25\\\"\" },\n          /^[0-5]/,\n          { type: \"class\", value: \"[0-5]\", description: \"[0-5]\" },\n          \"2\",\n          { type: \"literal\", value: \"2\", description: \"\\\"2\\\"\" },\n          /^[0-4]/,\n          { type: \"class\", value: \"[0-4]\", description: \"[0-4]\" },\n          \"1\",\n          { type: \"literal\", value: \"1\", description: \"\\\"1\\\"\" },\n          /^[1-9]/,\n          { type: \"class\", value: \"[1-9]\", description: \"[1-9]\" },\n          function(port) {\n                              port = parseInt(port.join(''));\n                              options.data.port = port;\n                              return port; },\n          \"transport=\",\n          { type: \"literal\", value: \"transport=\", description: \"\\\"transport=\\\"\" },\n          \"udp\",\n          { type: \"literal\", value: \"udp\", description: \"\\\"udp\\\"\" },\n          \"tcp\",\n          { type: \"literal\", value: \"tcp\", description: \"\\\"tcp\\\"\" },\n          \"sctp\",\n          { type: \"literal\", value: \"sctp\", description: \"\\\"sctp\\\"\" },\n          \"tls\",\n          { type: \"literal\", value: \"tls\", description: \"\\\"tls\\\"\" },\n          function(transport) {\n                                if(!options.data.uri_params) options.data.uri_params={};\n                                options.data.uri_params['transport'] = transport.toLowerCase(); },\n          \"user=\",\n          { type: \"literal\", value: \"user=\", description: \"\\\"user=\\\"\" },\n          \"phone\",\n          { type: \"literal\", value: \"phone\", description: \"\\\"phone\\\"\" },\n          \"ip\",\n          { type: \"literal\", value: \"ip\", description: \"\\\"ip\\\"\" },\n          function(user) {\n                                if(!options.data.uri_params) options.data.uri_params={};\n                                options.data.uri_params['user'] = user.toLowerCase(); },\n          \"method=\",\n          { type: \"literal\", value: \"method=\", description: \"\\\"method=\\\"\" },\n          function(method) {\n                                if(!options.data.uri_params) options.data.uri_params={};\n                                options.data.uri_params['method'] = method; },\n          \"ttl=\",\n          { type: \"literal\", value: \"ttl=\", description: \"\\\"ttl=\\\"\" },\n          function(ttl) {\n                                if(!options.data.params) options.data.params={};\n                                options.data.params['ttl'] = ttl; },\n          \"maddr=\",\n          { type: \"literal\", value: \"maddr=\", description: \"\\\"maddr=\\\"\" },\n          function(maddr) {\n                                if(!options.data.uri_params) options.data.uri_params={};\n                                options.data.uri_params['maddr'] = maddr; },\n          \"lr\",\n          { type: \"literal\", value: \"lr\", description: \"\\\"lr\\\"\" },\n          function() {\n                                if(!options.data.uri_params) options.data.uri_params={};\n                                options.data.uri_params['lr'] = undefined; },\n          function(param, value) {\n                                if(!options.data.uri_params) options.data.uri_params = {};\n                                if (value === null){\n                                  value = undefined;\n                                }\n                                else {\n                                  value = value[1];\n                                }\n                                options.data.uri_params[param.toLowerCase()] = value && value.toLowerCase();},\n          function(hname, hvalue) {\n                                hname = hname.join('').toLowerCase();\n                                hvalue = hvalue.join('');\n                                if(!options.data.uri_headers) options.data.uri_headers = {};\n                                if (!options.data.uri_headers[hname]) {\n                                  options.data.uri_headers[hname] = [hvalue];\n                                } else {\n                                  options.data.uri_headers[hname].push(hvalue);\n                                }},\n          function() {\n                                // lots of tests fail if this isn't guarded...\n                                if (options.startRule === 'Refer_To') {\n                                  options.data.uri = new options.SIP.URI(options.data.scheme, options.data.user, options.data.host, options.data.port, options.data.uri_params, options.data.uri_headers);\n                                  delete options.data.scheme;\n                                  delete options.data.user;\n                                  delete options.data.host;\n                                  delete options.data.host_type;\n                                  delete options.data.port;\n                                  delete options.data.uri_params;\n                                }\n                              },\n          \"//\",\n          { type: \"literal\", value: \"//\", description: \"\\\"//\\\"\" },\n          function() {\n                              options.data.scheme= text(); },\n          { type: \"literal\", value: \"SIP\", description: \"\\\"SIP\\\"\" },\n          function() {\n                              options.data.sip_version = text(); },\n          \"INVITE\",\n          { type: \"literal\", value: \"INVITE\", description: \"\\\"INVITE\\\"\" },\n          \"ACK\",\n          { type: \"literal\", value: \"ACK\", description: \"\\\"ACK\\\"\" },\n          \"VXACH\",\n          { type: \"literal\", value: \"VXACH\", description: \"\\\"VXACH\\\"\" },\n          \"OPTIONS\",\n          { type: \"literal\", value: \"OPTIONS\", description: \"\\\"OPTIONS\\\"\" },\n          \"BYE\",\n          { type: \"literal\", value: \"BYE\", description: \"\\\"BYE\\\"\" },\n          \"CANCEL\",\n          { type: \"literal\", value: \"CANCEL\", description: \"\\\"CANCEL\\\"\" },\n          \"REGISTER\",\n          { type: \"literal\", value: \"REGISTER\", description: \"\\\"REGISTER\\\"\" },\n          \"SUBSCRIBE\",\n          { type: \"literal\", value: \"SUBSCRIBE\", description: \"\\\"SUBSCRIBE\\\"\" },\n          \"NOTIFY\",\n          { type: \"literal\", value: \"NOTIFY\", description: \"\\\"NOTIFY\\\"\" },\n          \"REFER\",\n          { type: \"literal\", value: \"REFER\", description: \"\\\"REFER\\\"\" },\n          function() {\n\n                              options.data.method = text();\n                              return options.data.method; },\n          function(status_code) {\n                            options.data.status_code = parseInt(status_code.join('')); },\n          function() {\n                            options.data.reason_phrase = text(); },\n          function() {\n                        options.data = text(); },\n          function() {\n                                  var idx, length;\n                                  length = options.data.multi_header.length;\n                                  for (idx = 0; idx < length; idx++) {\n                                    if (options.data.multi_header[idx].parsed === null) {\n                                      options.data = null;\n                                      break;\n                                    }\n                                  }\n                                  if (options.data !== null) {\n                                    options.data = options.data.multi_header;\n                                  } else {\n                                    options.data = -1;\n                                  }},\n          function() {\n                                  var header;\n                                  if(!options.data.multi_header) options.data.multi_header = [];\n                                  try {\n                                    header = new options.SIP.NameAddrHeader(options.data.uri, options.data.displayName, options.data.params);\n                                    delete options.data.uri;\n                                    delete options.data.displayName;\n                                    delete options.data.params;\n                                  } catch(e) {\n                                    header = null;\n                                  }\n                                  options.data.multi_header.push( { 'position': peg$currPos,\n                                                            'offset': offset(),\n                                                            'parsed': header\n                                                          });},\n          function(displayName) {\n                                  displayName = text().trim();\n                                  if (displayName[0] === '\\\"') {\n                                    displayName = displayName.substring(1, displayName.length-1);\n                                  }\n                                  options.data.displayName = displayName; },\n          \"q\",\n          { type: \"literal\", value: \"q\", description: \"\\\"q\\\"\" },\n          function(q) {\n                                  if(!options.data.params) options.data.params = {};\n                                  options.data.params['q'] = q; },\n          \"expires\",\n          { type: \"literal\", value: \"expires\", description: \"\\\"expires\\\"\" },\n          function(expires) {\n                                  if(!options.data.params) options.data.params = {};\n                                  options.data.params['expires'] = expires; },\n          function(delta_seconds) {\n                                  return parseInt(delta_seconds.join('')); },\n          \"0\",\n          { type: \"literal\", value: \"0\", description: \"\\\"0\\\"\" },\n          function() {\n                                  return parseFloat(text()); },\n          function(param, value) {\n                                  if(!options.data.params) options.data.params = {};\n                                  if (value === null){\n                                    value = undefined;\n                                  }\n                                  else {\n                                    value = value[1];\n                                  }\n                                  options.data.params[param.toLowerCase()] = value;},\n          \"render\",\n          { type: \"literal\", value: \"render\", description: \"\\\"render\\\"\" },\n          \"session\",\n          { type: \"literal\", value: \"session\", description: \"\\\"session\\\"\" },\n          \"icon\",\n          { type: \"literal\", value: \"icon\", description: \"\\\"icon\\\"\" },\n          \"alert\",\n          { type: \"literal\", value: \"alert\", description: \"\\\"alert\\\"\" },\n          function() {\n                                      if (options.startRule === 'Content_Disposition') {\n                                        options.data.type = text().toLowerCase();\n                                      }\n                                    },\n          \"handling\",\n          { type: \"literal\", value: \"handling\", description: \"\\\"handling\\\"\" },\n          \"optional\",\n          { type: \"literal\", value: \"optional\", description: \"\\\"optional\\\"\" },\n          \"required\",\n          { type: \"literal\", value: \"required\", description: \"\\\"required\\\"\" },\n          function(length) {\n                                  options.data = parseInt(length.join('')); },\n          function() {\n                                  options.data = text(); },\n          \"text\",\n          { type: \"literal\", value: \"text\", description: \"\\\"text\\\"\" },\n          \"image\",\n          { type: \"literal\", value: \"image\", description: \"\\\"image\\\"\" },\n          \"audio\",\n          { type: \"literal\", value: \"audio\", description: \"\\\"audio\\\"\" },\n          \"video\",\n          { type: \"literal\", value: \"video\", description: \"\\\"video\\\"\" },\n          \"application\",\n          { type: \"literal\", value: \"application\", description: \"\\\"application\\\"\" },\n          \"message\",\n          { type: \"literal\", value: \"message\", description: \"\\\"message\\\"\" },\n          \"multipart\",\n          { type: \"literal\", value: \"multipart\", description: \"\\\"multipart\\\"\" },\n          \"x-\",\n          { type: \"literal\", value: \"x-\", description: \"\\\"x-\\\"\" },\n          function(cseq_value) {\n                            options.data.value=parseInt(cseq_value.join('')); },\n          function(expires) {options.data = expires; },\n          function(event_type) {\n                                 options.data.event = event_type.toLowerCase(); },\n          function() {\n                          var tag = options.data.tag;\n                            options.data = new options.SIP.NameAddrHeader(options.data.uri, options.data.displayName, options.data.params);\n                            if (tag) {options.data.setParam('tag',tag)}\n                          },\n          \"tag\",\n          { type: \"literal\", value: \"tag\", description: \"\\\"tag\\\"\" },\n          function(tag) {options.data.tag = tag; },\n          function(forwards) {\n                            options.data = parseInt(forwards.join('')); },\n          function(min_expires) {options.data = min_expires; },\n          function() {\n                                  options.data = new options.SIP.NameAddrHeader(options.data.uri, options.data.displayName, options.data.params);\n                                },\n          \"digest\",\n          { type: \"literal\", value: \"Digest\", description: \"\\\"Digest\\\"\" },\n          \"realm\",\n          { type: \"literal\", value: \"realm\", description: \"\\\"realm\\\"\" },\n          function(realm) { options.data.realm = realm; },\n          \"domain\",\n          { type: \"literal\", value: \"domain\", description: \"\\\"domain\\\"\" },\n          \"nonce\",\n          { type: \"literal\", value: \"nonce\", description: \"\\\"nonce\\\"\" },\n          function(nonce) { options.data.nonce=nonce; },\n          \"opaque\",\n          { type: \"literal\", value: \"opaque\", description: \"\\\"opaque\\\"\" },\n          function(opaque) { options.data.opaque=opaque; },\n          \"stale\",\n          { type: \"literal\", value: \"stale\", description: \"\\\"stale\\\"\" },\n          \"true\",\n          { type: \"literal\", value: \"true\", description: \"\\\"true\\\"\" },\n          function() { options.data.stale=true; },\n          \"false\",\n          { type: \"literal\", value: \"false\", description: \"\\\"false\\\"\" },\n          function() { options.data.stale=false; },\n          \"algorithm\",\n          { type: \"literal\", value: \"algorithm\", description: \"\\\"algorithm\\\"\" },\n          \"md5\",\n          { type: \"literal\", value: \"MD5\", description: \"\\\"MD5\\\"\" },\n          \"md5-sess\",\n          { type: \"literal\", value: \"MD5-sess\", description: \"\\\"MD5-sess\\\"\" },\n          function(algorithm) {\n                                options.data.algorithm=algorithm.toUpperCase(); },\n          \"qop\",\n          { type: \"literal\", value: \"qop\", description: \"\\\"qop\\\"\" },\n          \"auth-int\",\n          { type: \"literal\", value: \"auth-int\", description: \"\\\"auth-int\\\"\" },\n          \"auth\",\n          { type: \"literal\", value: \"auth\", description: \"\\\"auth\\\"\" },\n          function(qop_value) {\n                                  options.data.qop || (options.data.qop=[]);\n                                  options.data.qop.push(qop_value.toLowerCase()); },\n          function(rack_value) {\n                            options.data.value=parseInt(rack_value.join('')); },\n          function() {\n                            var idx, length;\n                            length = options.data.multi_header.length;\n                            for (idx = 0; idx < length; idx++) {\n                              if (options.data.multi_header[idx].parsed === null) {\n                                options.data = null;\n                                break;\n                              }\n                            }\n                            if (options.data !== null) {\n                              options.data = options.data.multi_header;\n                            } else {\n                              options.data = -1;\n                            }},\n          function() {\n                            var header;\n                            if(!options.data.multi_header) options.data.multi_header = [];\n                            try {\n                              header = new options.SIP.NameAddrHeader(options.data.uri, options.data.displayName, options.data.params);\n                              delete options.data.uri;\n                              delete options.data.displayName;\n                              delete options.data.params;\n                            } catch(e) {\n                              header = null;\n                            }\n                            options.data.multi_header.push( { 'position': peg$currPos,\n                                                      'offset': offset(),\n                                                      'parsed': header\n                                                    });},\n          function() {\n                        options.data = new options.SIP.NameAddrHeader(options.data.uri, options.data.displayName, options.data.params);\n                      },\n          function() {\n                                if (!(options.data.replaces_from_tag && options.data.replaces_to_tag)) {\n                                  options.data = -1;\n                                }\n                              },\n          function() {\n                                options.data = {\n                                  call_id: options.data\n                                };\n                              },\n          \"from-tag\",\n          { type: \"literal\", value: \"from-tag\", description: \"\\\"from-tag\\\"\" },\n          function(from_tag) {\n                                options.data.replaces_from_tag = from_tag;\n                              },\n          \"to-tag\",\n          { type: \"literal\", value: \"to-tag\", description: \"\\\"to-tag\\\"\" },\n          function(to_tag) {\n                                options.data.replaces_to_tag = to_tag;\n                              },\n          \"early-only\",\n          { type: \"literal\", value: \"early-only\", description: \"\\\"early-only\\\"\" },\n          function() {\n                                options.data.early_only = true;\n                              },\n          function(r) {return r;},\n          function(first, rest) { return list(first, rest); },\n          function(value) {\n                          if (options.startRule === 'Require') {\n                            options.data = value || [];\n                          }\n                        },\n          function(rseq_value) {\n                            options.data.value=parseInt(rseq_value.join('')); },\n          \"active\",\n          { type: \"literal\", value: \"active\", description: \"\\\"active\\\"\" },\n          \"pending\",\n          { type: \"literal\", value: \"pending\", description: \"\\\"pending\\\"\" },\n          \"terminated\",\n          { type: \"literal\", value: \"terminated\", description: \"\\\"terminated\\\"\" },\n          function() {\n                                  options.data.state = text(); },\n          \"reason\",\n          { type: \"literal\", value: \"reason\", description: \"\\\"reason\\\"\" },\n          function(reason) {\n                                  if (typeof reason !== 'undefined') options.data.reason = reason; },\n          function(expires) {\n                                  if (typeof expires !== 'undefined') options.data.expires = expires; },\n          \"retry_after\",\n          { type: \"literal\", value: \"retry_after\", description: \"\\\"retry_after\\\"\" },\n          function(retry_after) {\n                                  if (typeof retry_after !== 'undefined') options.data.retry_after = retry_after; },\n          \"deactivated\",\n          { type: \"literal\", value: \"deactivated\", description: \"\\\"deactivated\\\"\" },\n          \"probation\",\n          { type: \"literal\", value: \"probation\", description: \"\\\"probation\\\"\" },\n          \"rejected\",\n          { type: \"literal\", value: \"rejected\", description: \"\\\"rejected\\\"\" },\n          \"timeout\",\n          { type: \"literal\", value: \"timeout\", description: \"\\\"timeout\\\"\" },\n          \"giveup\",\n          { type: \"literal\", value: \"giveup\", description: \"\\\"giveup\\\"\" },\n          \"noresource\",\n          { type: \"literal\", value: \"noresource\", description: \"\\\"noresource\\\"\" },\n          \"invariant\",\n          { type: \"literal\", value: \"invariant\", description: \"\\\"invariant\\\"\" },\n          function(value) {\n                          if (options.startRule === 'Supported') {\n                            options.data = value || [];\n                          }\n                        },\n          function() {\n                        var tag = options.data.tag;\n                          options.data = new options.SIP.NameAddrHeader(options.data.uri, options.data.displayName, options.data.params);\n                          if (tag) {options.data.setParam('tag',tag)}\n                        },\n          \"ttl\",\n          { type: \"literal\", value: \"ttl\", description: \"\\\"ttl\\\"\" },\n          function(via_ttl_value) {\n                                options.data.ttl = via_ttl_value; },\n          \"maddr\",\n          { type: \"literal\", value: \"maddr\", description: \"\\\"maddr\\\"\" },\n          function(via_maddr) {\n                                options.data.maddr = via_maddr; },\n          \"received\",\n          { type: \"literal\", value: \"received\", description: \"\\\"received\\\"\" },\n          function(via_received) {\n                                options.data.received = via_received; },\n          \"branch\",\n          { type: \"literal\", value: \"branch\", description: \"\\\"branch\\\"\" },\n          function(via_branch) {\n                                options.data.branch = via_branch; },\n          \"rport\",\n          { type: \"literal\", value: \"rport\", description: \"\\\"rport\\\"\" },\n          function() {\n                                if(typeof response_port !== 'undefined')\n                                  options.data.rport = response_port.join(''); },\n          function(via_protocol) {\n                                options.data.protocol = via_protocol; },\n          { type: \"literal\", value: \"UDP\", description: \"\\\"UDP\\\"\" },\n          { type: \"literal\", value: \"TCP\", description: \"\\\"TCP\\\"\" },\n          { type: \"literal\", value: \"TLS\", description: \"\\\"TLS\\\"\" },\n          { type: \"literal\", value: \"SCTP\", description: \"\\\"SCTP\\\"\" },\n          function(via_transport) {\n                                options.data.transport = via_transport; },\n          function() {\n                                options.data.host = text(); },\n          function(via_sent_by_port) {\n                                options.data.port = parseInt(via_sent_by_port.join('')); },\n          function(ttl) {\n                                return parseInt(ttl.join('')); },\n          function(deltaSeconds) {\n                                if (options.startRule === 'Session_Expires') {\n                                  options.data.deltaSeconds = deltaSeconds;\n                                }\n                              },\n          \"refresher\",\n          { type: \"literal\", value: \"refresher\", description: \"\\\"refresher\\\"\" },\n          \"uas\",\n          { type: \"literal\", value: \"uas\", description: \"\\\"uas\\\"\" },\n          \"uac\",\n          { type: \"literal\", value: \"uac\", description: \"\\\"uac\\\"\" },\n          function(endpoint) {\n                                if (options.startRule === 'Session_Expires') {\n                                  options.data.refresher = endpoint;\n                                }\n                              },\n          function(deltaSeconds) {\n                                if (options.startRule === 'Min_SE') {\n                                  options.data = deltaSeconds;\n                                }\n                              },\n          \"stuns\",\n          { type: \"literal\", value: \"stuns\", description: \"\\\"stuns\\\"\" },\n          \"stun\",\n          { type: \"literal\", value: \"stun\", description: \"\\\"stun\\\"\" },\n          function(scheme) {\n                                options.data.scheme = scheme; },\n          function(host) {\n                                options.data.host = host; },\n          \"?transport=\",\n          { type: \"literal\", value: \"?transport=\", description: \"\\\"?transport=\\\"\" },\n          \"turns\",\n          { type: \"literal\", value: \"turns\", description: \"\\\"turns\\\"\" },\n          \"turn\",\n          { type: \"literal\", value: \"turn\", description: \"\\\"turn\\\"\" },\n          function() {\n                                options.data.transport = transport; },\n          function() {\n                            options.data = text(); }\n        ],\n\n        peg$bytecode = [\n          peg$decode(\". \\\"\\\"2 3!\"),\n          peg$decode(\"0\\\"\\\"\\\"1!3#\"),\n          peg$decode(\"0$\\\"\\\"1!3%\"),\n          peg$decode(\"0&\\\"\\\"1!3'\"),\n          peg$decode(\"7'*# \\\"7(\"),\n          peg$decode(\"0(\\\"\\\"1!3)\"),\n          peg$decode(\"0*\\\"\\\"1!3+\"),\n          peg$decode(\".,\\\"\\\"2,3-\"),\n          peg$decode(\"..\\\"\\\"2.3/\"),\n          peg$decode(\"00\\\"\\\"1!31\"),\n          peg$decode(\".2\\\"\\\"2233*\\x89 \\\".4\\\"\\\"2435*} \\\".6\\\"\\\"2637*q \\\".8\\\"\\\"2839*e \\\".:\\\"\\\"2:3;*Y \\\".<\\\"\\\"2<3=*M \\\".>\\\"\\\"2>3?*A \\\".@\\\"\\\"2@3A*5 \\\".B\\\"\\\"2B3C*) \\\".D\\\"\\\"2D3E\"),\n          peg$decode(\"7)*# \\\"7,\"),\n          peg$decode(\".F\\\"\\\"2F3G*} \\\".H\\\"\\\"2H3I*q \\\".J\\\"\\\"2J3K*e \\\".L\\\"\\\"2L3M*Y \\\".N\\\"\\\"2N3O*M \\\".P\\\"\\\"2P3Q*A \\\".R\\\"\\\"2R3S*5 \\\".T\\\"\\\"2T3U*) \\\".V\\\"\\\"2V3W\"),\n          peg$decode(\"!!.Y\\\"\\\"2Y3Z+7$7#+-%7#+#%'#%$## X$\\\"# X\\\"# X+! (%\"),\n          peg$decode(\"!! \\\\7$,#&7$\\\"+-$7 +#%'\\\"%$\\\"# X\\\"# X*# \\\" [+@$ \\\\7$+&$,#&7$\\\"\\\"\\\" X+'%4\\\"6]\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"7.*# \\\" [\"),\n          peg$decode(\"! \\\\7'*# \\\"7(,)&7'*# \\\"7(\\\"+A$.8\\\"\\\"2839+1%7/+'%4#6^# %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!! \\\\72+&$,#&72\\\"\\\"\\\" X+o$ \\\\! \\\\7.,#&7.\\\"+-$72+#%'\\\"%$\\\"# X\\\"# X,@&! \\\\7.,#&7.\\\"+-$72+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'\\\"%$\\\"# X\\\"# X+! (%\"),\n          peg$decode(\"0_\\\"\\\"1!3`*# \\\"73\"),\n          peg$decode(\"0a\\\"\\\"1!3b\"),\n          peg$decode(\"0c\\\"\\\"1!3d\"),\n          peg$decode(\"7!*) \\\"0e\\\"\\\"1!3f\"),\n          peg$decode(\"! \\\\7)*\\x95 \\\".F\\\"\\\"2F3G*\\x89 \\\".J\\\"\\\"2J3K*} \\\".L\\\"\\\"2L3M*q \\\".Y\\\"\\\"2Y3Z*e \\\".P\\\"\\\"2P3Q*Y \\\".H\\\"\\\"2H3I*M \\\".@\\\"\\\"2@3A*A \\\".g\\\"\\\"2g3h*5 \\\".R\\\"\\\"2R3S*) \\\".N\\\"\\\"2N3O+\\x9E$,\\x9B&7)*\\x95 \\\".F\\\"\\\"2F3G*\\x89 \\\".J\\\"\\\"2J3K*} \\\".L\\\"\\\"2L3M*q \\\".Y\\\"\\\"2Y3Z*e \\\".P\\\"\\\"2P3Q*Y \\\".H\\\"\\\"2H3I*M \\\".@\\\"\\\"2@3A*A \\\".g\\\"\\\"2g3h*5 \\\".R\\\"\\\"2R3S*) \\\".N\\\"\\\"2N3O\\\"\\\"\\\" X+! (%\"),\n          peg$decode(\"! \\\\7)*\\x89 \\\".F\\\"\\\"2F3G*} \\\".L\\\"\\\"2L3M*q \\\".Y\\\"\\\"2Y3Z*e \\\".P\\\"\\\"2P3Q*Y \\\".H\\\"\\\"2H3I*M \\\".@\\\"\\\"2@3A*A \\\".g\\\"\\\"2g3h*5 \\\".R\\\"\\\"2R3S*) \\\".N\\\"\\\"2N3O+\\x92$,\\x8F&7)*\\x89 \\\".F\\\"\\\"2F3G*} \\\".L\\\"\\\"2L3M*q \\\".Y\\\"\\\"2Y3Z*e \\\".P\\\"\\\"2P3Q*Y \\\".H\\\"\\\"2H3I*M \\\".@\\\"\\\"2@3A*A \\\".g\\\"\\\"2g3h*5 \\\".R\\\"\\\"2R3S*) \\\".N\\\"\\\"2N3O\\\"\\\"\\\" X+! (%\"),\n          peg$decode(\".T\\\"\\\"2T3U*\\xE3 \\\".V\\\"\\\"2V3W*\\xD7 \\\".i\\\"\\\"2i3j*\\xCB \\\".k\\\"\\\"2k3l*\\xBF \\\".:\\\"\\\"2:3;*\\xB3 \\\".D\\\"\\\"2D3E*\\xA7 \\\".2\\\"\\\"2233*\\x9B \\\".8\\\"\\\"2839*\\x8F \\\".m\\\"\\\"2m3n*\\x83 \\\"7&*} \\\".4\\\"\\\"2435*q \\\".o\\\"\\\"2o3p*e \\\".q\\\"\\\"2q3r*Y \\\".6\\\"\\\"2637*M \\\".>\\\"\\\"2>3?*A \\\".s\\\"\\\"2s3t*5 \\\".u\\\"\\\"2u3v*) \\\"7'*# \\\"7(\"),\n          peg$decode(\"! \\\\7)*\\u012B \\\".F\\\"\\\"2F3G*\\u011F \\\".J\\\"\\\"2J3K*\\u0113 \\\".L\\\"\\\"2L3M*\\u0107 \\\".Y\\\"\\\"2Y3Z*\\xFB \\\".P\\\"\\\"2P3Q*\\xEF \\\".H\\\"\\\"2H3I*\\xE3 \\\".@\\\"\\\"2@3A*\\xD7 \\\".g\\\"\\\"2g3h*\\xCB \\\".R\\\"\\\"2R3S*\\xBF \\\".N\\\"\\\"2N3O*\\xB3 \\\".T\\\"\\\"2T3U*\\xA7 \\\".V\\\"\\\"2V3W*\\x9B \\\".i\\\"\\\"2i3j*\\x8F \\\".k\\\"\\\"2k3l*\\x83 \\\".8\\\"\\\"2839*w \\\".m\\\"\\\"2m3n*k \\\"7&*e \\\".4\\\"\\\"2435*Y \\\".o\\\"\\\"2o3p*M \\\".q\\\"\\\"2q3r*A \\\".6\\\"\\\"2637*5 \\\".s\\\"\\\"2s3t*) \\\".u\\\"\\\"2u3v+\\u0134$,\\u0131&7)*\\u012B \\\".F\\\"\\\"2F3G*\\u011F \\\".J\\\"\\\"2J3K*\\u0113 \\\".L\\\"\\\"2L3M*\\u0107 \\\".Y\\\"\\\"2Y3Z*\\xFB \\\".P\\\"\\\"2P3Q*\\xEF \\\".H\\\"\\\"2H3I*\\xE3 \\\".@\\\"\\\"2@3A*\\xD7 \\\".g\\\"\\\"2g3h*\\xCB \\\".R\\\"\\\"2R3S*\\xBF \\\".N\\\"\\\"2N3O*\\xB3 \\\".T\\\"\\\"2T3U*\\xA7 \\\".V\\\"\\\"2V3W*\\x9B \\\".i\\\"\\\"2i3j*\\x8F \\\".k\\\"\\\"2k3l*\\x83 \\\".8\\\"\\\"2839*w \\\".m\\\"\\\"2m3n*k \\\"7&*e \\\".4\\\"\\\"2435*Y \\\".o\\\"\\\"2o3p*M \\\".q\\\"\\\"2q3r*A \\\".6\\\"\\\"2637*5 \\\".s\\\"\\\"2s3t*) \\\".u\\\"\\\"2u3v\\\"\\\"\\\" X+! (%\"),\n          peg$decode(\"!7/+A$.P\\\"\\\"2P3Q+1%7/+'%4#6w# %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!7/+A$.4\\\"\\\"2435+1%7/+'%4#6x# %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!7/+A$.>\\\"\\\"2>3?+1%7/+'%4#6y# %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!7/+A$.T\\\"\\\"2T3U+1%7/+'%4#6z# %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!7/+A$.V\\\"\\\"2V3W+1%7/+'%4#6{# %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!.k\\\"\\\"2k3l+1$7/+'%4\\\"6|\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"!7/+7$.i\\\"\\\"2i3j+'%4\\\"6}\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"!7/+A$.D\\\"\\\"2D3E+1%7/+'%4#6~# %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!7/+A$.2\\\"\\\"2233+1%7/+'%4#6# %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!7/+A$.8\\\"\\\"2839+1%7/+'%4#6\\x80# %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!7/+1$7&+'%4\\\"6\\x81\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"!7&+1$7/+'%4\\\"6\\x81\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"!7=+W$ \\\\7G*) \\\"7K*# \\\"7F,/&7G*) \\\"7K*# \\\"7F\\\"+-%7>+#%'#%$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"0\\x82\\\"\\\"1!3\\x83*A \\\"0\\x84\\\"\\\"1!3\\x85*5 \\\"0\\x86\\\"\\\"1!3\\x87*) \\\"73*# \\\"7.\"),\n          peg$decode(\"!!7/+U$7&+K% \\\\7J*# \\\"7K,)&7J*# \\\"7K\\\"+-%7&+#%'$%$$# X$## X$\\\"# X\\\"# X+! (%\"),\n          peg$decode(\"!7/+`$7&+V%! \\\\7J*# \\\"7K,)&7J*# \\\"7K\\\"+! (%+2%7&+(%4$6\\x88$!!%$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"7.*G \\\".L\\\"\\\"2L3M*; \\\"0\\x89\\\"\\\"1!3\\x8A*/ \\\"0\\x86\\\"\\\"1!3\\x87*# \\\"73\"),\n          peg$decode(\"!.m\\\"\\\"2m3n+K$0\\x8B\\\"\\\"1!3\\x8C*5 \\\"0\\x8D\\\"\\\"1!3\\x8E*) \\\"0\\x8F\\\"\\\"1!3\\x90+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"!7N+Q$.8\\\"\\\"2839+A%7O*# \\\" [+1%7S+'%4$6\\x91$ %$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!7N+k$.8\\\"\\\"2839+[%7O*# \\\" [+K%7S+A%7_+7%7l*# \\\" [+'%4&6\\x92& %$&# X$%# X$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\x93\\\"\\\"1$3\\x94*) \\\"/\\x95\\\"\\\"1#3\\x96+' 4!6\\x97!! %\"),\n          peg$decode(\"!7P+b$!.8\\\"\\\"2839+-$7R+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+7%.:\\\"\\\"2:3;+'%4#6\\x98# %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\" \\\\7+*) \\\"7-*# \\\"7Q+2$,/&7+*) \\\"7-*# \\\"7Q\\\"\\\"\\\" X\"),\n          peg$decode(\".<\\\"\\\"2<3=*q \\\".>\\\"\\\"2>3?*e \\\".@\\\"\\\"2@3A*Y \\\".B\\\"\\\"2B3C*M \\\".D\\\"\\\"2D3E*A \\\".2\\\"\\\"2233*5 \\\".6\\\"\\\"2637*) \\\".4\\\"\\\"2435\"),\n          peg$decode(\"! \\\\7+*_ \\\"7-*Y \\\".<\\\"\\\"2<3=*M \\\".>\\\"\\\"2>3?*A \\\".@\\\"\\\"2@3A*5 \\\".B\\\"\\\"2B3C*) \\\".D\\\"\\\"2D3E,e&7+*_ \\\"7-*Y \\\".<\\\"\\\"2<3=*M \\\".>\\\"\\\"2>3?*A \\\".@\\\"\\\"2@3A*5 \\\".B\\\"\\\"2B3C*) \\\".D\\\"\\\"2D3E\\\"+& 4!6\\x99! %\"),\n          peg$decode(\"!7T+N$!.8\\\"\\\"2839+-$7^+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"!7U*) \\\"7\\\\*# \\\"7X+& 4!6\\x9A! %\"),\n          peg$decode(\"! \\\\!7V+3$.J\\\"\\\"2J3K+#%'\\\"%$\\\"# X\\\"# X,>&!7V+3$.J\\\"\\\"2J3K+#%'\\\"%$\\\"# X\\\"# X\\\"+G$7W+=%.J\\\"\\\"2J3K*# \\\" [+'%4#6\\x9B# %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\" \\\\0\\x9C\\\"\\\"1!3\\x9D+,$,)&0\\x9C\\\"\\\"1!3\\x9D\\\"\\\"\\\" X\"),\n          peg$decode(\"!0$\\\"\\\"1!3%+A$ \\\\0\\x9E\\\"\\\"1!3\\x9F,)&0\\x9E\\\"\\\"1!3\\x9F\\\"+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"!.o\\\"\\\"2o3p+A$7Y+7%.q\\\"\\\"2q3r+'%4#6\\xA0# %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!!7Z+\\xBF$.8\\\"\\\"2839+\\xAF%7Z+\\xA5%.8\\\"\\\"2839+\\x95%7Z+\\x8B%.8\\\"\\\"2839+{%7Z+q%.8\\\"\\\"2839+a%7Z+W%.8\\\"\\\"2839+G%7Z+=%.8\\\"\\\"2839+-%7[+#%'-%$-# X$,# X$+# X$*# X$)# X$(# X$'# X$&# X$%# X$$# X$## X$\\\"# X\\\"# X*\\u0838 \\\"!.\\xA1\\\"\\\"2\\xA13\\xA2+\\xAF$7Z+\\xA5%.8\\\"\\\"2839+\\x95%7Z+\\x8B%.8\\\"\\\"2839+{%7Z+q%.8\\\"\\\"2839+a%7Z+W%.8\\\"\\\"2839+G%7Z+=%.8\\\"\\\"2839+-%7[+#%',%$,# X$+# X$*# X$)# X$(# X$'# X$&# X$%# X$$# X$## X$\\\"# X\\\"# X*\\u0795 \\\"!.\\xA1\\\"\\\"2\\xA13\\xA2+\\x95$7Z+\\x8B%.8\\\"\\\"2839+{%7Z+q%.8\\\"\\\"2839+a%7Z+W%.8\\\"\\\"2839+G%7Z+=%.8\\\"\\\"2839+-%7[+#%'*%$*# X$)# X$(# X$'# X$&# X$%# X$$# X$## X$\\\"# X\\\"# X*\\u070C \\\"!.\\xA1\\\"\\\"2\\xA13\\xA2+{$7Z+q%.8\\\"\\\"2839+a%7Z+W%.8\\\"\\\"2839+G%7Z+=%.8\\\"\\\"2839+-%7[+#%'(%$(# X$'# X$&# X$%# X$$# X$## X$\\\"# X\\\"# X*\\u069D \\\"!.\\xA1\\\"\\\"2\\xA13\\xA2+a$7Z+W%.8\\\"\\\"2839+G%7Z+=%.8\\\"\\\"2839+-%7[+#%'&%$&# X$%# X$$# X$## X$\\\"# X\\\"# X*\\u0648 \\\"!.\\xA1\\\"\\\"2\\xA13\\xA2+G$7Z+=%.8\\\"\\\"2839+-%7[+#%'$%$$# X$## X$\\\"# X\\\"# X*\\u060D \\\"!.\\xA1\\\"\\\"2\\xA13\\xA2+-$7[+#%'\\\"%$\\\"# X\\\"# X*\\u05EC \\\"!.\\xA1\\\"\\\"2\\xA13\\xA2+-$7Z+#%'\\\"%$\\\"# X\\\"# X*\\u05CB \\\"!7Z+\\xA5$.\\xA1\\\"\\\"2\\xA13\\xA2+\\x95%7Z+\\x8B%.8\\\"\\\"2839+{%7Z+q%.8\\\"\\\"2839+a%7Z+W%.8\\\"\\\"2839+G%7Z+=%.8\\\"\\\"2839+-%7[+#%'+%$+# X$*# X$)# X$(# X$'# X$&# X$%# X$$# X$## X$\\\"# X\\\"# X*\\u0538 \\\"!7Z+\\xB6$!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+\\x8B%.\\xA1\\\"\\\"2\\xA13\\xA2+{%7Z+q%.8\\\"\\\"2839+a%7Z+W%.8\\\"\\\"2839+G%7Z+=%.8\\\"\\\"2839+-%7[+#%'*%$*# X$)# X$(# X$'# X$&# X$%# X$$# X$## X$\\\"# X\\\"# X*\\u0494 \\\"!7Z+\\xC7$!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+\\x9C%!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+q%.\\xA1\\\"\\\"2\\xA13\\xA2+a%7Z+W%.8\\\"\\\"2839+G%7Z+=%.8\\\"\\\"2839+-%7[+#%')%$)# X$(# X$'# X$&# X$%# X$$# X$## X$\\\"# X\\\"# X*\\u03DF \\\"!7Z+\\xD8$!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+\\xAD%!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+\\x82%!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+W%.\\xA1\\\"\\\"2\\xA13\\xA2+G%7Z+=%.8\\\"\\\"2839+-%7[+#%'(%$(# X$'# X$&# X$%# X$$# X$## X$\\\"# X\\\"# X*\\u0319 \\\"!7Z+\\xE9$!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+\\xBE%!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+\\x93%!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+h%!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+=%.\\xA1\\\"\\\"2\\xA13\\xA2+-%7[+#%''%$'# X$&# X$%# X$$# X$## X$\\\"# X\\\"# X*\\u0242 \\\"!7Z+\\u0114$!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+\\xE9%!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+\\xBE%!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+\\x93%!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+h%!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+=%.\\xA1\\\"\\\"2\\xA13\\xA2+-%7Z+#%'(%$(# X$'# X$&# X$%# X$$# X$## X$\\\"# X\\\"# X*\\u0140 \\\"!7Z+\\u0135$!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+\\u010A%!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+\\xDF%!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+\\xB4%!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+\\x89%!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+^%!.8\\\"\\\"2839+-$7Z+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+3%.\\xA1\\\"\\\"2\\xA13\\xA2+#%'(%$(# X$'# X$&# X$%# X$$# X$## X$\\\"# X\\\"# X+& 4!6\\xA3! %\"),\n          peg$decode(\"!7#+S$7#*# \\\" [+C%7#*# \\\" [+3%7#*# \\\" [+#%'$%$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!7Z+=$.8\\\"\\\"2839+-%7Z+#%'#%$## X$\\\"# X\\\"# X*# \\\"7\\\\\"),\n          peg$decode(\"!7]+u$.J\\\"\\\"2J3K+e%7]+[%.J\\\"\\\"2J3K+K%7]+A%.J\\\"\\\"2J3K+1%7]+'%4'6\\xA4' %$'# X$&# X$%# X$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!.\\xA5\\\"\\\"2\\xA53\\xA6+3$0\\xA7\\\"\\\"1!3\\xA8+#%'\\\"%$\\\"# X\\\"# X*\\xA0 \\\"!.\\xA9\\\"\\\"2\\xA93\\xAA+=$0\\xAB\\\"\\\"1!3\\xAC+-%7!+#%'#%$## X$\\\"# X\\\"# X*o \\\"!.\\xAD\\\"\\\"2\\xAD3\\xAE+7$7!+-%7!+#%'#%$## X$\\\"# X\\\"# X*D \\\"!0\\xAF\\\"\\\"1!3\\xB0+-$7!+#%'\\\"%$\\\"# X\\\"# X*# \\\"7!\"),\n          peg$decode(\"!!7!*# \\\" [+c$7!*# \\\" [+S%7!*# \\\" [+C%7!*# \\\" [+3%7!*# \\\" [+#%'%%$%# X$$# X$## X$\\\"# X\\\"# X+' 4!6\\xB1!! %\"),\n          peg$decode(\" \\\\!.2\\\"\\\"2233+-$7`+#%'\\\"%$\\\"# X\\\"# X,>&!.2\\\"\\\"2233+-$7`+#%'\\\"%$\\\"# X\\\"# X\\\"\"),\n          peg$decode(\"7a*A \\\"7b*; \\\"7c*5 \\\"7d*/ \\\"7e*) \\\"7f*# \\\"7g\"),\n          peg$decode(\"!/\\xB2\\\"\\\"1*3\\xB3+b$/\\xB4\\\"\\\"1#3\\xB5*G \\\"/\\xB6\\\"\\\"1#3\\xB7*; \\\"/\\xB8\\\"\\\"1$3\\xB9*/ \\\"/\\xBA\\\"\\\"1#3\\xBB*# \\\"76+(%4\\\"6\\xBC\\\"! %$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\xBD\\\"\\\"1%3\\xBE+J$/\\xBF\\\"\\\"1%3\\xC0*/ \\\"/\\xC1\\\"\\\"1\\\"3\\xC2*# \\\"76+(%4\\\"6\\xC3\\\"! %$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\xC4\\\"\\\"1'3\\xC5+2$7\\x8F+(%4\\\"6\\xC6\\\"! %$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\xC7\\\"\\\"1$3\\xC8+2$7\\xEF+(%4\\\"6\\xC9\\\"! %$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\xCA\\\"\\\"1&3\\xCB+2$7T+(%4\\\"6\\xCC\\\"! %$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\xCD\\\"\\\"1\\\"3\\xCE+R$!.>\\\"\\\"2>3?+-$76+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+'%4\\\"6\\xCF\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"!7h+T$!.>\\\"\\\"2>3?+-$7i+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+)%4\\\"6\\xD0\\\"\\\"! %$\\\"# X\\\"# X\"),\n          peg$decode(\"! \\\\7j+&$,#&7j\\\"\\\"\\\" X+! (%\"),\n          peg$decode(\"! \\\\7j+&$,#&7j\\\"\\\"\\\" X+! (%\"),\n          peg$decode(\"7k*) \\\"7+*# \\\"7-\"),\n          peg$decode(\".o\\\"\\\"2o3p*e \\\".q\\\"\\\"2q3r*Y \\\".4\\\"\\\"2435*M \\\".8\\\"\\\"2839*A \\\".<\\\"\\\"2<3=*5 \\\".@\\\"\\\"2@3A*) \\\".B\\\"\\\"2B3C\"),\n          peg$decode(\"!.6\\\"\\\"2637+u$7m+k% \\\\!.<\\\"\\\"2<3=+-$7m+#%'\\\"%$\\\"# X\\\"# X,>&!.<\\\"\\\"2<3=+-$7m+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'#%$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!7n+C$.>\\\"\\\"2>3?+3%7o+)%4#6\\xD1#\\\"\\\" %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\" \\\\7p*) \\\"7+*# \\\"7-+2$,/&7p*) \\\"7+*# \\\"7-\\\"\\\"\\\" X\"),\n          peg$decode(\" \\\\7p*) \\\"7+*# \\\"7-,/&7p*) \\\"7+*# \\\"7-\\\"\"),\n          peg$decode(\".o\\\"\\\"2o3p*e \\\".q\\\"\\\"2q3r*Y \\\".4\\\"\\\"2435*M \\\".6\\\"\\\"2637*A \\\".8\\\"\\\"2839*5 \\\".@\\\"\\\"2@3A*) \\\".B\\\"\\\"2B3C\"),\n          peg$decode(\"7\\x90*# \\\"7r\"),\n          peg$decode(\"!7\\x8F+K$7'+A%7s+7%7'+-%7\\x84+#%'%%$%# X$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"7M*# \\\"7t\"),\n          peg$decode(\"!7+G$.8\\\"\\\"2839+7%7u*# \\\"7x+'%4#6\\xD2# %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!7v*# \\\"7w+N$!.6\\\"\\\"2637+-$7\\x83+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"!.\\xD3\\\"\\\"2\\xD33\\xD4+=$7\\x80+3%7w*# \\\" [+#%'#%$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!.4\\\"\\\"2435+-$7{+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"!7z+5$ \\\\7y,#&7y\\\"+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"7**) \\\"7+*# \\\"7-\"),\n          peg$decode(\"7+*\\x8F \\\"7-*\\x89 \\\".2\\\"\\\"2233*} \\\".6\\\"\\\"2637*q \\\".8\\\"\\\"2839*e \\\".:\\\"\\\"2:3;*Y \\\".<\\\"\\\"2<3=*M \\\".>\\\"\\\"2>3?*A \\\".@\\\"\\\"2@3A*5 \\\".B\\\"\\\"2B3C*) \\\".D\\\"\\\"2D3E\"),\n          peg$decode(\"!7|+k$ \\\\!.4\\\"\\\"2435+-$7|+#%'\\\"%$\\\"# X\\\"# X,>&!.4\\\"\\\"2435+-$7|+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"! \\\\7~,#&7~\\\"+k$ \\\\!.2\\\"\\\"2233+-$7}+#%'\\\"%$\\\"# X\\\"# X,>&!.2\\\"\\\"2233+-$7}+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\" \\\\7~,#&7~\\\"\"),\n          peg$decode(\"7+*w \\\"7-*q \\\".8\\\"\\\"2839*e \\\".:\\\"\\\"2:3;*Y \\\".<\\\"\\\"2<3=*M \\\".>\\\"\\\"2>3?*A \\\".@\\\"\\\"2@3A*5 \\\".B\\\"\\\"2B3C*) \\\".D\\\"\\\"2D3E\"),\n          peg$decode(\"!7\\\"+\\x8D$ \\\\7\\\"*G \\\"7!*A \\\".@\\\"\\\"2@3A*5 \\\".F\\\"\\\"2F3G*) \\\".J\\\"\\\"2J3K,M&7\\\"*G \\\"7!*A \\\".@\\\"\\\"2@3A*5 \\\".F\\\"\\\"2F3G*) \\\".J\\\"\\\"2J3K\\\"+'%4\\\"6\\xD5\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"7\\x81*# \\\"7\\x82\"),\n          peg$decode(\"!!7O+3$.:\\\"\\\"2:3;+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+-$7S+#%'\\\"%$\\\"# X\\\"# X*# \\\" [\"),\n          peg$decode(\" \\\\7+*\\x83 \\\"7-*} \\\".B\\\"\\\"2B3C*q \\\".D\\\"\\\"2D3E*e \\\".2\\\"\\\"2233*Y \\\".8\\\"\\\"2839*M \\\".:\\\"\\\"2:3;*A \\\".<\\\"\\\"2<3=*5 \\\".>\\\"\\\"2>3?*) \\\".@\\\"\\\"2@3A+\\x8C$,\\x89&7+*\\x83 \\\"7-*} \\\".B\\\"\\\"2B3C*q \\\".D\\\"\\\"2D3E*e \\\".2\\\"\\\"2233*Y \\\".8\\\"\\\"2839*M \\\".:\\\"\\\"2:3;*A \\\".<\\\"\\\"2<3=*5 \\\".>\\\"\\\"2>3?*) \\\".@\\\"\\\"2@3A\\\"\\\"\\\" X\"),\n          peg$decode(\" \\\\7y,#&7y\\\"\"),\n          peg$decode(\"!/\\x95\\\"\\\"1#3\\xD6+y$.4\\\"\\\"2435+i% \\\\7!+&$,#&7!\\\"\\\"\\\" X+P%.J\\\"\\\"2J3K+@% \\\\7!+&$,#&7!\\\"\\\"\\\" X+'%4%6\\xD7% %$%# X$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\".\\xD8\\\"\\\"2\\xD83\\xD9\"),\n          peg$decode(\".\\xDA\\\"\\\"2\\xDA3\\xDB\"),\n          peg$decode(\".\\xDC\\\"\\\"2\\xDC3\\xDD\"),\n          peg$decode(\".\\xDE\\\"\\\"2\\xDE3\\xDF\"),\n          peg$decode(\".\\xE0\\\"\\\"2\\xE03\\xE1\"),\n          peg$decode(\".\\xE2\\\"\\\"2\\xE23\\xE3\"),\n          peg$decode(\".\\xE4\\\"\\\"2\\xE43\\xE5\"),\n          peg$decode(\".\\xE6\\\"\\\"2\\xE63\\xE7\"),\n          peg$decode(\".\\xE8\\\"\\\"2\\xE83\\xE9\"),\n          peg$decode(\".\\xEA\\\"\\\"2\\xEA3\\xEB\"),\n          peg$decode(\"!7\\x85*S \\\"7\\x86*M \\\"7\\x88*G \\\"7\\x89*A \\\"7\\x8A*; \\\"7\\x8B*5 \\\"7\\x8C*/ \\\"7\\x8D*) \\\"7\\x8E*# \\\"76+& 4!6\\xEC! %\"),\n          peg$decode(\"!7\\x84+K$7'+A%7\\x91+7%7'+-%7\\x93+#%'%%$%# X$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!7\\x92+' 4!6\\xED!! %\"),\n          peg$decode(\"!7!+7$7!+-%7!+#%'#%$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"! \\\\7**A \\\"7+*; \\\"7-*5 \\\"73*/ \\\"74*) \\\"7'*# \\\"7(,G&7**A \\\"7+*; \\\"7-*5 \\\"73*/ \\\"74*) \\\"7'*# \\\"7(\\\"+& 4!6\\xEE! %\"),\n          peg$decode(\"!7\\xB5+_$ \\\\!7A+-$7\\xB5+#%'\\\"%$\\\"# X\\\"# X,8&!7A+-$7\\xB5+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"!79+R$!.:\\\"\\\"2:3;+-$79+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+'%4\\\"6\\xEF\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"!7:*j \\\"!7\\x97+_$ \\\\!7A+-$7\\x97+#%'\\\"%$\\\"# X\\\"# X,8&!7A+-$7\\x97+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'\\\"%$\\\"# X\\\"# X+& 4!6\\xF0! %\"),\n          peg$decode(\"!7L*# \\\"7\\x98+c$ \\\\!7B+-$7\\x9A+#%'\\\"%$\\\"# X\\\"# X,8&!7B+-$7\\x9A+#%'\\\"%$\\\"# X\\\"# X\\\"+'%4\\\"6\\xF1\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"!7\\x99*# \\\" [+A$7@+7%7M+-%7?+#%'$%$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!!76+_$ \\\\!7.+-$76+#%'\\\"%$\\\"# X\\\"# X,8&!7.+-$76+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'\\\"%$\\\"# X\\\"# X*# \\\"7H+' 4!6\\xF2!! %\"),\n          peg$decode(\"7\\x9B*) \\\"7\\x9C*# \\\"7\\x9F\"),\n          peg$decode(\"!/\\xF3\\\"\\\"1!3\\xF4+<$7<+2%7\\x9E+(%4#6\\xF5#! %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\xF6\\\"\\\"1'3\\xF7+<$7<+2%7\\x9D+(%4#6\\xF8#! %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"! \\\\7!+&$,#&7!\\\"\\\"\\\" X+' 4!6\\xF9!! %\"),\n          peg$decode(\"!.\\xFA\\\"\\\"2\\xFA3\\xFB+x$!.J\\\"\\\"2J3K+S$7!*# \\\" [+C%7!*# \\\" [+3%7!*# \\\" [+#%'$%$$# X$## X$\\\"# X\\\"# X*# \\\" [+'%4\\\"6\\xFC\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"!76+N$!7<+-$7\\xA0+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+)%4\\\"6\\xFD\\\"\\\"! %$\\\"# X\\\"# X\"),\n          peg$decode(\"76*) \\\"7T*# \\\"7H\"),\n          peg$decode(\"!7\\xA2+_$ \\\\!7B+-$7\\xA3+#%'\\\"%$\\\"# X\\\"# X,8&!7B+-$7\\xA3+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\xFE\\\"\\\"1&3\\xFF*G \\\"/\\u0100\\\"\\\"1'3\\u0101*; \\\"/\\u0102\\\"\\\"1$3\\u0103*/ \\\"/\\u0104\\\"\\\"1%3\\u0105*# \\\"76+& 4!6\\u0106! %\"),\n          peg$decode(\"7\\xA4*# \\\"7\\x9F\"),\n          peg$decode(\"!/\\u0107\\\"\\\"1(3\\u0108+O$7<+E%/\\u0109\\\"\\\"1(3\\u010A*/ \\\"/\\u010B\\\"\\\"1(3\\u010C*# \\\"76+#%'#%$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!76+_$ \\\\!7A+-$76+#%'\\\"%$\\\"# X\\\"# X,8&!7A+-$76+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"! \\\\7!+&$,#&7!\\\"\\\"\\\" X+' 4!6\\u010D!! %\"),\n          peg$decode(\"!7\\xA8+& 4!6\\u010E! %\"),\n          peg$decode(\"!7\\xA9+s$7;+i%7\\xAE+_% \\\\!7B+-$7\\xAF+#%'\\\"%$\\\"# X\\\"# X,8&!7B+-$7\\xAF+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'$%$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"7\\xAA*# \\\"7\\xAB\"),\n          peg$decode(\"/\\u010F\\\"\\\"1$3\\u0110*S \\\"/\\u0111\\\"\\\"1%3\\u0112*G \\\"/\\u0113\\\"\\\"1%3\\u0114*; \\\"/\\u0115\\\"\\\"1%3\\u0116*/ \\\"/\\u0117\\\"\\\"1+3\\u0118*# \\\"7\\xAC\"),\n          peg$decode(\"/\\u0119\\\"\\\"1'3\\u011A*/ \\\"/\\u011B\\\"\\\"1)3\\u011C*# \\\"7\\xAC\"),\n          peg$decode(\"76*# \\\"7\\xAD\"),\n          peg$decode(\"!/\\u011D\\\"\\\"1\\\"3\\u011E+-$76+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"7\\xAC*# \\\"76\"),\n          peg$decode(\"!76+7$7<+-%7\\xB0+#%'#%$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"76*# \\\"7H\"),\n          peg$decode(\"!7\\xB2+7$7.+-%7\\x8F+#%'#%$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"! \\\\7!+&$,#&7!\\\"\\\"\\\" X+' 4!6\\u011F!! %\"),\n          peg$decode(\"!7\\x9D+' 4!6\\u0120!! %\"),\n          peg$decode(\"!7\\xB5+d$ \\\\!7B+-$7\\x9F+#%'\\\"%$\\\"# X\\\"# X,8&!7B+-$7\\x9F+#%'\\\"%$\\\"# X\\\"# X\\\"+(%4\\\"6\\u0121\\\"!!%$\\\"# X\\\"# X\"),\n          peg$decode(\"!!77+k$ \\\\!.J\\\"\\\"2J3K+-$77+#%'\\\"%$\\\"# X\\\"# X,>&!.J\\\"\\\"2J3K+-$77+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'\\\"%$\\\"# X\\\"# X+! (%\"),\n          peg$decode(\"!7L*# \\\"7\\x98+c$ \\\\!7B+-$7\\xB7+#%'\\\"%$\\\"# X\\\"# X,8&!7B+-$7\\xB7+#%'\\\"%$\\\"# X\\\"# X\\\"+'%4\\\"6\\u0122\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"7\\xB8*# \\\"7\\x9F\"),\n          peg$decode(\"!/\\u0123\\\"\\\"1#3\\u0124+<$7<+2%76+(%4#6\\u0125#! %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"! \\\\7!+&$,#&7!\\\"\\\"\\\" X+' 4!6\\u0126!! %\"),\n          peg$decode(\"!7\\x9D+' 4!6\\u0127!! %\"),\n          peg$decode(\"! \\\\7\\x99,#&7\\x99\\\"+\\x81$7@+w%7M+m%7?+c% \\\\!7B+-$7\\x9F+#%'\\\"%$\\\"# X\\\"# X,8&!7B+-$7\\x9F+#%'\\\"%$\\\"# X\\\"# X\\\"+'%4%6\\u0128% %$%# X$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"7\\xBD\"),\n          peg$decode(\"!/\\u0129\\\"\\\"1&3\\u012A+s$7.+i%7\\xC0+_% \\\\!7A+-$7\\xC0+#%'\\\"%$\\\"# X\\\"# X,8&!7A+-$7\\xC0+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'$%$$# X$## X$\\\"# X\\\"# X*# \\\"7\\xBE\"),\n          peg$decode(\"!76+s$7.+i%7\\xBF+_% \\\\!7A+-$7\\xBF+#%'\\\"%$\\\"# X\\\"# X,8&!7A+-$7\\xBF+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'$%$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!76+=$7<+3%76*# \\\"7H+#%'#%$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"7\\xC1*G \\\"7\\xC3*A \\\"7\\xC5*; \\\"7\\xC7*5 \\\"7\\xC8*/ \\\"7\\xC9*) \\\"7\\xCA*# \\\"7\\xBF\"),\n          peg$decode(\"!/\\u012B\\\"\\\"1%3\\u012C+7$7<+-%7\\xC2+#%'#%$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!7I+' 4!6\\u012D!! %\"),\n          peg$decode(\"!/\\u012E\\\"\\\"1&3\\u012F+\\xA5$7<+\\x9B%7D+\\x91%7\\xC4+\\x87% \\\\! \\\\7'+&$,#&7'\\\"\\\"\\\" X+-$7\\xC4+#%'\\\"%$\\\"# X\\\"# X,G&! \\\\7'+&$,#&7'\\\"\\\"\\\" X+-$7\\xC4+#%'\\\"%$\\\"# X\\\"# X\\\"+-%7E+#%'&%$&# X$%# X$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"7t*# \\\"7w\"),\n          peg$decode(\"!/\\u0130\\\"\\\"1%3\\u0131+7$7<+-%7\\xC6+#%'#%$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!7I+' 4!6\\u0132!! %\"),\n          peg$decode(\"!/\\u0133\\\"\\\"1&3\\u0134+<$7<+2%7I+(%4#6\\u0135#! %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\u0136\\\"\\\"1%3\\u0137+_$7<+U%!/\\u0138\\\"\\\"1$3\\u0139+& 4!6\\u013A! %*4 \\\"!/\\u013B\\\"\\\"1%3\\u013C+& 4!6\\u013D! %+#%'#%$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\u013E\\\"\\\"1)3\\u013F+T$7<+J%/\\u0140\\\"\\\"1#3\\u0141*/ \\\"/\\u0142\\\"\\\"1(3\\u0143*# \\\"76+(%4#6\\u0144#! %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\u0145\\\"\\\"1#3\\u0146+\\x9E$7<+\\x94%7D+\\x8A%!7\\xCB+k$ \\\\!.D\\\"\\\"2D3E+-$7\\xCB+#%'\\\"%$\\\"# X\\\"# X,>&!.D\\\"\\\"2D3E+-$7\\xCB+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'\\\"%$\\\"# X\\\"# X+-%7E+#%'%%$%# X$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\u0147\\\"\\\"1(3\\u0148*/ \\\"/\\u0149\\\"\\\"1$3\\u014A*# \\\"76+' 4!6\\u014B!! %\"),\n          peg$decode(\"!76+_$ \\\\!7A+-$76+#%'\\\"%$\\\"# X\\\"# X,8&!7A+-$76+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"!7\\xCE+K$7.+A%7\\xCE+7%7.+-%7\\x8F+#%'%%$%# X$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"! \\\\7!+&$,#&7!\\\"\\\"\\\" X+' 4!6\\u014C!! %\"),\n          peg$decode(\"!7\\xD0+c$ \\\\!7A+-$7\\xD0+#%'\\\"%$\\\"# X\\\"# X,8&!7A+-$7\\xD0+#%'\\\"%$\\\"# X\\\"# X\\\"+'%4\\\"6\\u014D\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"!7\\x98+c$ \\\\!7B+-$7\\x9F+#%'\\\"%$\\\"# X\\\"# X,8&!7B+-$7\\x9F+#%'\\\"%$\\\"# X\\\"# X\\\"+'%4\\\"6\\u014E\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"!7L*T \\\"7\\x98*N \\\"!7@*# \\\" [+=$7t+3%7?*# \\\" [+#%'#%$## X$\\\"# X\\\"# X+c$ \\\\!7B+-$7\\x9F+#%'\\\"%$\\\"# X\\\"# X,8&!7B+-$7\\x9F+#%'\\\"%$\\\"# X\\\"# X\\\"+'%4\\\"6\\u014F\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"!7\\xD3+c$ \\\\!7B+-$7\\xD4+#%'\\\"%$\\\"# X\\\"# X,8&!7B+-$7\\xD4+#%'\\\"%$\\\"# X\\\"# X\\\"+'%4\\\"6\\u0150\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"!7\\x95+& 4!6\\u0151! %\"),\n          peg$decode(\"!/\\u0152\\\"\\\"1(3\\u0153+<$7<+2%76+(%4#6\\u0154#! %$## X$\\\"# X\\\"# X*j \\\"!/\\u0155\\\"\\\"1&3\\u0156+<$7<+2%76+(%4#6\\u0157#! %$## X$\\\"# X\\\"# X*: \\\"!/\\u0158\\\"\\\"1*3\\u0159+& 4!6\\u015A! %*# \\\"7\\x9F\"),\n          peg$decode(\"!!76+o$ \\\\!7A+2$76+(%4\\\"6\\u015B\\\"! %$\\\"# X\\\"# X,=&!7A+2$76+(%4\\\"6\\u015B\\\"! %$\\\"# X\\\"# X\\\"+)%4\\\"6\\u015C\\\"\\\"! %$\\\"# X\\\"# X*# \\\" [+' 4!6\\u015D!! %\"),\n          peg$decode(\"!7\\xD7+_$ \\\\!7A+-$7\\xD7+#%'\\\"%$\\\"# X\\\"# X,8&!7A+-$7\\xD7+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"!7\\x98+_$ \\\\!7B+-$7\\x9F+#%'\\\"%$\\\"# X\\\"# X,8&!7B+-$7\\x9F+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"! \\\\7!+&$,#&7!\\\"\\\"\\\" X+' 4!6\\u015E!! %\"),\n          peg$decode(\"!7\\xDA+_$ \\\\!7B+-$7\\xDB+#%'\\\"%$\\\"# X\\\"# X,8&!7B+-$7\\xDB+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\u015F\\\"\\\"1&3\\u0160*; \\\"/\\u0161\\\"\\\"1'3\\u0162*/ \\\"/\\u0163\\\"\\\"1*3\\u0164*# \\\"76+& 4!6\\u0165! %\"),\n          peg$decode(\"!/\\u0166\\\"\\\"1&3\\u0167+<$7<+2%7\\xDC+(%4#6\\u0168#! %$## X$\\\"# X\\\"# X*\\x83 \\\"!/\\xF6\\\"\\\"1'3\\xF7+<$7<+2%7\\x9D+(%4#6\\u0169#! %$## X$\\\"# X\\\"# X*S \\\"!/\\u016A\\\"\\\"1+3\\u016B+<$7<+2%7\\x9D+(%4#6\\u016C#! %$## X$\\\"# X\\\"# X*# \\\"7\\x9F\"),\n          peg$decode(\"/\\u016D\\\"\\\"1+3\\u016E*k \\\"/\\u016F\\\"\\\"1)3\\u0170*_ \\\"/\\u0171\\\"\\\"1(3\\u0172*S \\\"/\\u0173\\\"\\\"1'3\\u0174*G \\\"/\\u0175\\\"\\\"1&3\\u0176*; \\\"/\\u0177\\\"\\\"1*3\\u0178*/ \\\"/\\u0179\\\"\\\"1)3\\u017A*# \\\"76\"),\n          peg$decode(\"71*# \\\" [\"),\n          peg$decode(\"!!76+o$ \\\\!7A+2$76+(%4\\\"6\\u015B\\\"! %$\\\"# X\\\"# X,=&!7A+2$76+(%4\\\"6\\u015B\\\"! %$\\\"# X\\\"# X\\\"+)%4\\\"6\\u015C\\\"\\\"! %$\\\"# X\\\"# X*# \\\" [+' 4!6\\u017B!! %\"),\n          peg$decode(\"!7L*# \\\"7\\x98+c$ \\\\!7B+-$7\\xE0+#%'\\\"%$\\\"# X\\\"# X,8&!7B+-$7\\xE0+#%'\\\"%$\\\"# X\\\"# X\\\"+'%4\\\"6\\u017C\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"7\\xB8*# \\\"7\\x9F\"),\n          peg$decode(\"!7\\xE2+_$ \\\\!7A+-$7\\xE2+#%'\\\"%$\\\"# X\\\"# X,8&!7A+-$7\\xE2+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"!7\\xE9+s$7.+i%7\\xEC+_% \\\\!7B+-$7\\xE3+#%'\\\"%$\\\"# X\\\"# X,8&!7B+-$7\\xE3+#%'\\\"%$\\\"# X\\\"# X\\\"+#%'$%$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"7\\xE4*; \\\"7\\xE5*5 \\\"7\\xE6*/ \\\"7\\xE7*) \\\"7\\xE8*# \\\"7\\x9F\"),\n          peg$decode(\"!/\\u017D\\\"\\\"1#3\\u017E+<$7<+2%7\\xEF+(%4#6\\u017F#! %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\u0180\\\"\\\"1%3\\u0181+<$7<+2%7T+(%4#6\\u0182#! %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\u0183\\\"\\\"1(3\\u0184+B$7<+8%7\\\\*# \\\"7Y+(%4#6\\u0185#! %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\u0186\\\"\\\"1&3\\u0187+<$7<+2%76+(%4#6\\u0188#! %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\u0189\\\"\\\"1%3\\u018A+T$!7<+5$ \\\\7!,#&7!\\\"+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+'%4\\\"6\\u018B\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"!7\\xEA+K$7;+A%76+7%7;+-%7\\xEB+#%'%%$%# X$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\x95\\\"\\\"1#3\\xD6*# \\\"76+' 4!6\\u018C!! %\"),\n          peg$decode(\"!/\\xB4\\\"\\\"1#3\\u018D*G \\\"/\\xB6\\\"\\\"1#3\\u018E*; \\\"/\\xBA\\\"\\\"1#3\\u018F*/ \\\"/\\xB8\\\"\\\"1$3\\u0190*# \\\"76+' 4!6\\u0191!! %\"),\n          peg$decode(\"!7\\xED+H$!7C+-$7\\xEE+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"!7U*) \\\"7\\\\*# \\\"7X+& 4!6\\u0192! %\"),\n          peg$decode(\"!!7!*# \\\" [+c$7!*# \\\" [+S%7!*# \\\" [+C%7!*# \\\" [+3%7!*# \\\" [+#%'%%$%# X$$# X$## X$\\\"# X\\\"# X+' 4!6\\u0193!! %\"),\n          peg$decode(\"!!7!+C$7!*# \\\" [+3%7!*# \\\" [+#%'#%$## X$\\\"# X\\\"# X+' 4!6\\u0194!! %\"),\n          peg$decode(\"7\\xBD\"),\n          peg$decode(\"!7\\x9D+d$ \\\\!7B+-$7\\xF2+#%'\\\"%$\\\"# X\\\"# X,8&!7B+-$7\\xF2+#%'\\\"%$\\\"# X\\\"# X\\\"+(%4\\\"6\\u0195\\\"!!%$\\\"# X\\\"# X\"),\n          peg$decode(\"7\\xF3*# \\\"7\\x9F\"),\n          peg$decode(\"!.\\u0196\\\"\\\"2\\u01963\\u0197+N$7<+D%.\\u0198\\\"\\\"2\\u01983\\u0199*) \\\".\\u019A\\\"\\\"2\\u019A3\\u019B+(%4#6\\u019C#! %$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!7\\x9D+d$ \\\\!7B+-$7\\x9F+#%'\\\"%$\\\"# X\\\"# X,8&!7B+-$7\\x9F+#%'\\\"%$\\\"# X\\\"# X\\\"+(%4\\\"6\\u019D\\\"!!%$\\\"# X\\\"# X\"),\n          peg$decode(\"!76+7$70+-%7\\xF6+#%'#%$## X$\\\"# X\\\"# X\"),\n          peg$decode(\" \\\\72*) \\\"74*# \\\"7.,/&72*) \\\"74*# \\\"7.\\\"\"),\n          peg$decode(\" \\\\7%,#&7%\\\"\"),\n          peg$decode(\"!7\\xF9+=$.8\\\"\\\"2839+-%7\\xFA+#%'#%$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\u019E\\\"\\\"1%3\\u019F*) \\\"/\\u01A0\\\"\\\"1$3\\u01A1+' 4!6\\u01A2!! %\"),\n          peg$decode(\"!7\\xFB+N$!.8\\\"\\\"2839+-$7^+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"!7\\\\*) \\\"7X*# \\\"7\\x82+' 4!6\\u01A3!! %\"),\n          peg$decode(\"! \\\\7\\xFD*) \\\"7-*# \\\"7\\xFE,/&7\\xFD*) \\\"7-*# \\\"7\\xFE\\\"+! (%\"),\n          peg$decode(\"7\\\"*S \\\"7!*M \\\".F\\\"\\\"2F3G*A \\\".J\\\"\\\"2J3K*5 \\\".H\\\"\\\"2H3I*) \\\".N\\\"\\\"2N3O\"),\n          peg$decode(\".L\\\"\\\"2L3M*\\x95 \\\".B\\\"\\\"2B3C*\\x89 \\\".<\\\"\\\"2<3=*} \\\".R\\\"\\\"2R3S*q \\\".T\\\"\\\"2T3U*e \\\".V\\\"\\\"2V3W*Y \\\".P\\\"\\\"2P3Q*M \\\".@\\\"\\\"2@3A*A \\\".D\\\"\\\"2D3E*5 \\\".2\\\"\\\"2233*) \\\".>\\\"\\\"2>3?\"),\n          peg$decode(\"!7\\u0100+h$.8\\\"\\\"2839+X%7\\xFA+N%!.\\u01A4\\\"\\\"2\\u01A43\\u01A5+-$7\\xEB+#%'\\\"%$\\\"# X\\\"# X*# \\\" [+#%'$%$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!/\\u01A6\\\"\\\"1%3\\u01A7*) \\\"/\\u01A8\\\"\\\"1$3\\u01A9+' 4!6\\u01A2!! %\"),\n          peg$decode(\"!7\\xEB+Q$/\\xB4\\\"\\\"1#3\\xB5*7 \\\"/\\xB6\\\"\\\"1#3\\xB7*+ \\\" \\\\7+,#&7+\\\"+'%4\\\"6\\u01AA\\\" %$\\\"# X\\\"# X\"),\n          peg$decode(\"!7\\u0104+\\x8F$.F\\\"\\\"2F3G+%7\\u0103+u%.F\\\"\\\"2F3G+e%7\\u0103+[%.F\\\"\\\"2F3G+K%7\\u0103+A%.F\\\"\\\"2F3G+1%7\\u0105+'%4)6\\u01AB) %$)# X$(# X$'# X$&# X$%# X$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!7#+A$7#+7%7#+-%7#+#%'$%$$# X$## X$\\\"# X\\\"# X\"),\n          peg$decode(\"!7\\u0103+-$7\\u0103+#%'\\\"%$\\\"# X\\\"# X\"),\n          peg$decode(\"!7\\u0103+7$7\\u0103+-%7\\u0103+#%'#%$## X$\\\"# X\\\"# X\")\n        ],\n\n        peg$currPos          = 0,\n        peg$reportedPos      = 0,\n        peg$cachedPos        = 0,\n        peg$cachedPosDetails = { line: 1, column: 1, seenCR: false },\n        peg$maxFailPos       = 0,\n        peg$maxFailExpected  = [],\n        peg$silentFails      = 0,\n\n        peg$result;\n\n    if (\"startRule\" in options) {\n      if (!(options.startRule in peg$startRuleIndices)) {\n        throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n      }\n\n      peg$startRuleIndex = peg$startRuleIndices[options.startRule];\n    }\n\n    function text() {\n      return input.substring(peg$reportedPos, peg$currPos);\n    }\n\n    function offset() {\n      return peg$reportedPos;\n    }\n\n    function line() {\n      return peg$computePosDetails(peg$reportedPos).line;\n    }\n\n    function column() {\n      return peg$computePosDetails(peg$reportedPos).column;\n    }\n\n    function expected(description) {\n      throw peg$buildException(\n        null,\n        [{ type: \"other\", description: description }],\n        peg$reportedPos\n      );\n    }\n\n    function error(message) {\n      throw peg$buildException(message, null, peg$reportedPos);\n    }\n\n    function peg$computePosDetails(pos) {\n      function advance(details, startPos, endPos) {\n        var p, ch;\n\n        for (p = startPos; p < endPos; p++) {\n          ch = input.charAt(p);\n          if (ch === \"\\n\") {\n            if (!details.seenCR) { details.line++; }\n            details.column = 1;\n            details.seenCR = false;\n          } else if (ch === \"\\r\" || ch === \"\\u2028\" || ch === \"\\u2029\") {\n            details.line++;\n            details.column = 1;\n            details.seenCR = true;\n          } else {\n            details.column++;\n            details.seenCR = false;\n          }\n        }\n      }\n\n      if (peg$cachedPos !== pos) {\n        if (peg$cachedPos > pos) {\n          peg$cachedPos = 0;\n          peg$cachedPosDetails = { line: 1, column: 1, seenCR: false };\n        }\n        advance(peg$cachedPosDetails, peg$cachedPos, pos);\n        peg$cachedPos = pos;\n      }\n\n      return peg$cachedPosDetails;\n    }\n\n    function peg$fail(expected) {\n      if (peg$currPos < peg$maxFailPos) { return; }\n\n      if (peg$currPos > peg$maxFailPos) {\n        peg$maxFailPos = peg$currPos;\n        peg$maxFailExpected = [];\n      }\n\n      peg$maxFailExpected.push(expected);\n    }\n\n    function peg$buildException(message, expected, pos) {\n      function cleanupExpected(expected) {\n        var i = 1;\n\n        expected.sort(function(a, b) {\n          if (a.description < b.description) {\n            return -1;\n          } else if (a.description > b.description) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n\n        while (i < expected.length) {\n          if (expected[i - 1] === expected[i]) {\n            expected.splice(i, 1);\n          } else {\n            i++;\n          }\n        }\n      }\n\n      function buildMessage(expected, found) {\n        function stringEscape(s) {\n          function hex(ch) { return ch.charCodeAt(0).toString(16).toUpperCase(); }\n\n          return s\n            .replace(/\\\\/g,   '\\\\\\\\')\n            .replace(/\"/g,    '\\\\\"')\n            .replace(/\\x08/g, '\\\\b')\n            .replace(/\\t/g,   '\\\\t')\n            .replace(/\\n/g,   '\\\\n')\n            .replace(/\\f/g,   '\\\\f')\n            .replace(/\\r/g,   '\\\\r')\n            .replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function(ch) { return '\\\\x0' + hex(ch); })\n            .replace(/[\\x10-\\x1F\\x80-\\xFF]/g,    function(ch) { return '\\\\x'  + hex(ch); })\n            .replace(/[\\u0180-\\u0FFF]/g,         function(ch) { return '\\\\u0' + hex(ch); })\n            .replace(/[\\u1080-\\uFFFF]/g,         function(ch) { return '\\\\u'  + hex(ch); });\n        }\n\n        var expectedDescs = new Array(expected.length),\n            expectedDesc, foundDesc, i;\n\n        for (i = 0; i < expected.length; i++) {\n          expectedDescs[i] = expected[i].description;\n        }\n\n        expectedDesc = expected.length > 1\n          ? expectedDescs.slice(0, -1).join(\", \")\n              + \" or \"\n              + expectedDescs[expected.length - 1]\n          : expectedDescs[0];\n\n        foundDesc = found ? \"\\\"\" + stringEscape(found) + \"\\\"\" : \"end of input\";\n\n        return \"Expected \" + expectedDesc + \" but \" + foundDesc + \" found.\";\n      }\n\n      var posDetails = peg$computePosDetails(pos),\n          found      = pos < input.length ? input.charAt(pos) : null;\n\n      if (expected !== null) {\n        cleanupExpected(expected);\n      }\n\n      return new SyntaxError(\n        message !== null ? message : buildMessage(expected, found),\n        expected,\n        found,\n        pos,\n        posDetails.line,\n        posDetails.column\n      );\n    }\n\n    function peg$decode(s) {\n      var bc = new Array(s.length), i;\n\n      for (i = 0; i < s.length; i++) {\n        bc[i] = s.charCodeAt(i) - 32;\n      }\n\n      return bc;\n    }\n\n    function peg$parseRule(index) {\n      var bc    = peg$bytecode[index],\n          ip    = 0,\n          ips   = [],\n          end   = bc.length,\n          ends  = [],\n          stack = [],\n          params, i;\n\n      function protect(object) {\n        return Object.prototype.toString.apply(object) === \"[object Array]\" ? [] : object;\n      }\n\n      while (true) {\n        while (ip < end) {\n          switch (bc[ip]) {\n            case 0:\n              stack.push(protect(peg$consts[bc[ip + 1]]));\n              ip += 2;\n              break;\n\n            case 1:\n              stack.push(peg$currPos);\n              ip++;\n              break;\n\n            case 2:\n              stack.pop();\n              ip++;\n              break;\n\n            case 3:\n              peg$currPos = stack.pop();\n              ip++;\n              break;\n\n            case 4:\n              stack.length -= bc[ip + 1];\n              ip += 2;\n              break;\n\n            case 5:\n              stack.splice(-2, 1);\n              ip++;\n              break;\n\n            case 6:\n              stack[stack.length - 2].push(stack.pop());\n              ip++;\n              break;\n\n            case 7:\n              stack.push(stack.splice(stack.length - bc[ip + 1], bc[ip + 1]));\n              ip += 2;\n              break;\n\n            case 8:\n              stack.pop();\n              stack.push(input.substring(stack[stack.length - 1], peg$currPos));\n              ip++;\n              break;\n\n            case 9:\n              ends.push(end);\n              ips.push(ip + 3 + bc[ip + 1] + bc[ip + 2]);\n\n              if (stack[stack.length - 1]) {\n                end = ip + 3 + bc[ip + 1];\n                ip += 3;\n              } else {\n                end = ip + 3 + bc[ip + 1] + bc[ip + 2];\n                ip += 3 + bc[ip + 1];\n              }\n\n              break;\n\n            case 10:\n              ends.push(end);\n              ips.push(ip + 3 + bc[ip + 1] + bc[ip + 2]);\n\n              if (stack[stack.length - 1] === peg$FAILED) {\n                end = ip + 3 + bc[ip + 1];\n                ip += 3;\n              } else {\n                end = ip + 3 + bc[ip + 1] + bc[ip + 2];\n                ip += 3 + bc[ip + 1];\n              }\n\n              break;\n\n            case 11:\n              ends.push(end);\n              ips.push(ip + 3 + bc[ip + 1] + bc[ip + 2]);\n\n              if (stack[stack.length - 1] !== peg$FAILED) {\n                end = ip + 3 + bc[ip + 1];\n                ip += 3;\n              } else {\n                end = ip + 3 + bc[ip + 1] + bc[ip + 2];\n                ip += 3 + bc[ip + 1];\n              }\n\n              break;\n\n            case 12:\n              if (stack[stack.length - 1] !== peg$FAILED) {\n                ends.push(end);\n                ips.push(ip);\n\n                end = ip + 2 + bc[ip + 1];\n                ip += 2;\n              } else {\n                ip += 2 + bc[ip + 1];\n              }\n\n              break;\n\n            case 13:\n              ends.push(end);\n              ips.push(ip + 3 + bc[ip + 1] + bc[ip + 2]);\n\n              if (input.length > peg$currPos) {\n                end = ip + 3 + bc[ip + 1];\n                ip += 3;\n              } else {\n                end = ip + 3 + bc[ip + 1] + bc[ip + 2];\n                ip += 3 + bc[ip + 1];\n              }\n\n              break;\n\n            case 14:\n              ends.push(end);\n              ips.push(ip + 4 + bc[ip + 2] + bc[ip + 3]);\n\n              if (input.substr(peg$currPos, peg$consts[bc[ip + 1]].length) === peg$consts[bc[ip + 1]]) {\n                end = ip + 4 + bc[ip + 2];\n                ip += 4;\n              } else {\n                end = ip + 4 + bc[ip + 2] + bc[ip + 3];\n                ip += 4 + bc[ip + 2];\n              }\n\n              break;\n\n            case 15:\n              ends.push(end);\n              ips.push(ip + 4 + bc[ip + 2] + bc[ip + 3]);\n\n              if (input.substr(peg$currPos, peg$consts[bc[ip + 1]].length).toLowerCase() === peg$consts[bc[ip + 1]]) {\n                end = ip + 4 + bc[ip + 2];\n                ip += 4;\n              } else {\n                end = ip + 4 + bc[ip + 2] + bc[ip + 3];\n                ip += 4 + bc[ip + 2];\n              }\n\n              break;\n\n            case 16:\n              ends.push(end);\n              ips.push(ip + 4 + bc[ip + 2] + bc[ip + 3]);\n\n              if (peg$consts[bc[ip + 1]].test(input.charAt(peg$currPos))) {\n                end = ip + 4 + bc[ip + 2];\n                ip += 4;\n              } else {\n                end = ip + 4 + bc[ip + 2] + bc[ip + 3];\n                ip += 4 + bc[ip + 2];\n              }\n\n              break;\n\n            case 17:\n              stack.push(input.substr(peg$currPos, bc[ip + 1]));\n              peg$currPos += bc[ip + 1];\n              ip += 2;\n              break;\n\n            case 18:\n              stack.push(peg$consts[bc[ip + 1]]);\n              peg$currPos += peg$consts[bc[ip + 1]].length;\n              ip += 2;\n              break;\n\n            case 19:\n              stack.push(peg$FAILED);\n              if (peg$silentFails === 0) {\n                peg$fail(peg$consts[bc[ip + 1]]);\n              }\n              ip += 2;\n              break;\n\n            case 20:\n              peg$reportedPos = stack[stack.length - 1 - bc[ip + 1]];\n              ip += 2;\n              break;\n\n            case 21:\n              peg$reportedPos = peg$currPos;\n              ip++;\n              break;\n\n            case 22:\n              params = bc.slice(ip + 4, ip + 4 + bc[ip + 3]);\n              for (i = 0; i < bc[ip + 3]; i++) {\n                params[i] = stack[stack.length - 1 - params[i]];\n              }\n\n              stack.splice(\n                stack.length - bc[ip + 2],\n                bc[ip + 2],\n                peg$consts[bc[ip + 1]].apply(null, params)\n              );\n\n              ip += 4 + bc[ip + 3];\n              break;\n\n            case 23:\n              stack.push(peg$parseRule(bc[ip + 1]));\n              ip += 2;\n              break;\n\n            case 24:\n              peg$silentFails++;\n              ip++;\n              break;\n\n            case 25:\n              peg$silentFails--;\n              ip++;\n              break;\n\n            default:\n              throw new Error(\"Invalid opcode: \" + bc[ip] + \".\");\n          }\n        }\n\n        if (ends.length > 0) {\n          end = ends.pop();\n          ip = ips.pop();\n        } else {\n          break;\n        }\n      }\n\n      return stack[0];\n    }\n\n\n      options.data = {}; // Object to which header attributes will be assigned during parsing\n\n      function list (first, rest) {\n        return [first].concat(rest);\n      }\n\n\n    peg$result = peg$parseRule(peg$startRuleIndex);\n\n    if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n      return peg$result;\n    } else {\n      if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n        peg$fail({ type: \"end\", description: \"end of input\" });\n      }\n\n      throw peg$buildException(null, peg$maxFailExpected, peg$maxFailPos);\n    }\n  }\n\n  return {\n    SyntaxError: SyntaxError,\n    parse:       parse\n  };\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL0dyYW1tYXIvZGlzdC9HcmFtbWFyLmpzPzQxMDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLDBCQUEwQjtBQUMvQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLDBEQUEwRDs7QUFFMUQsdUJBQXVCOztBQUV2QixnQ0FBZ0MscWhCQUFxaEI7QUFDcmpCOztBQUVBO0FBQ0E7QUFDQSxXQUFXLDREQUE0RDtBQUN2RTtBQUNBLFdBQVcsc0RBQXNEO0FBQ2pFO0FBQ0EsV0FBVyw0REFBNEQ7QUFDdkU7QUFDQSxXQUFXLGtFQUFrRTtBQUM3RTtBQUNBLFdBQVcsa0VBQWtFO0FBQzdFO0FBQ0EsV0FBVyxvREFBb0Q7QUFDL0Q7QUFDQSxXQUFXLG9EQUFvRDtBQUMvRDtBQUNBLFdBQVcsdURBQXVEO0FBQ2xFO0FBQ0EsV0FBVyxrRUFBa0U7QUFDN0UsWUFBWTtBQUNaLFdBQVcsMkJBQTJCLG9CQUFvQixLQUFLO0FBQy9EO0FBQ0EsV0FBVyxvREFBb0Q7QUFDL0Q7QUFDQSxXQUFXLG9EQUFvRDtBQUMvRDtBQUNBLFdBQVcsb0RBQW9EO0FBQy9EO0FBQ0EsV0FBVyxvREFBb0Q7QUFDL0Q7QUFDQSxXQUFXLG9EQUFvRDtBQUMvRDtBQUNBLFdBQVcsb0RBQW9EO0FBQy9EO0FBQ0EsV0FBVyxvREFBb0Q7QUFDL0Q7QUFDQSxXQUFXLG9EQUFvRDtBQUMvRDtBQUNBLFdBQVcsb0RBQW9EO0FBQy9EO0FBQ0EsV0FBVyxvREFBb0Q7QUFDL0Q7QUFDQSxXQUFXLG9EQUFvRDtBQUMvRDtBQUNBLFdBQVcsb0RBQW9EO0FBQy9EO0FBQ0EsV0FBVyxvREFBb0Q7QUFDL0Q7QUFDQSxXQUFXLG9EQUFvRDtBQUMvRDtBQUNBLFdBQVcsb0RBQW9EO0FBQy9EO0FBQ0EsV0FBVyxvREFBb0Q7QUFDL0Q7QUFDQSxXQUFXLG9EQUFvRDtBQUMvRDtBQUNBLFdBQVcsb0RBQW9EO0FBQy9EO0FBQ0E7QUFDQSxXQUFXLG9EQUFvRDtBQUMvRDtBQUNBO0FBQ0Esc0JBQXNCLFdBQVcsRUFBRTtBQUNuQyxzQkFBc0IsV0FBVyxFQUFFO0FBQ25DO0FBQ0EsV0FBVyxzREFBc0Q7QUFDakU7QUFDQSxXQUFXLDBFQUEwRTtBQUNyRjtBQUNBLFdBQVcsc0VBQXNFO0FBQ2pGO0FBQ0EsV0FBVyxzREFBc0Q7QUFDakU7QUFDQSxXQUFXLG9EQUFvRDtBQUMvRDtBQUNBLFdBQVcsb0RBQW9EO0FBQy9EO0FBQ0EsV0FBVyxvREFBb0Q7QUFDL0Q7QUFDQSxXQUFXLHdEQUF3RDtBQUNuRTtBQUNBLFdBQVcsb0RBQW9EO0FBQy9EO0FBQ0EsV0FBVyxvREFBb0Q7QUFDL0QsWUFBWTtBQUNaLFdBQVcsMkJBQTJCLG9CQUFvQixLQUFLO0FBQy9ELFlBQVk7QUFDWixXQUFXLDJCQUEyQixvQkFBb0IsS0FBSztBQUMvRCxzQkFBc0IsV0FBVyxFQUFFO0FBQ25DLHNCQUFzQixXQUFXLEVBQUU7QUFDbkMsc0JBQXNCLFdBQVcsRUFBRTtBQUNuQyxzQkFBc0IsV0FBVyxFQUFFO0FBQ25DLHNCQUFzQixXQUFXLEVBQUU7QUFDbkMsc0JBQXNCLFdBQVcsRUFBRTtBQUNuQyxzQkFBc0IsV0FBVyxFQUFFO0FBQ25DLHNCQUFzQixXQUFXLEVBQUU7QUFDbkMsc0JBQXNCLFNBQVMsRUFBRSxFQUFFO0FBQ25DLHNCQUFzQixXQUFXLEVBQUU7QUFDbkMsc0JBQXNCLFlBQVksRUFBRTtBQUNwQztBQUNBLFdBQVcsc0RBQXNEO0FBQ2pFO0FBQ0EsV0FBVyxzREFBc0Q7QUFDakU7QUFDQSxXQUFXLDBEQUEwRDtBQUNyRTtBQUNBLGtEQUFrRCxFQUFFO0FBQ3BEO0FBQ0EsV0FBVyxzREFBc0Q7QUFDakU7QUFDQSxXQUFXLDhEQUE4RDtBQUN6RTtBQUNBLFdBQVcsa0VBQWtFO0FBQzdFO0FBQ0EsV0FBVyw4REFBOEQ7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3RUFBd0U7QUFDeEUsaUNBQWlDO0FBQ2pDO0FBQ0EsV0FBVywwREFBMEQ7QUFDckU7QUFDQSxXQUFXLHdEQUF3RDtBQUNuRTtBQUNBLCtEQUErRCxFQUFFO0FBQ2pFO0FBQ0EsMkZBQTJGO0FBQzNGO0FBQ0EsNkRBQTZELEVBQUU7QUFDL0Q7QUFDQTtBQUNBLHVEQUF1RCxFQUFFO0FBQ3pEO0FBQ0E7QUFDQSwwQ0FBMEMsRUFBRTtBQUM1QztBQUNBLFdBQVcsMEVBQTBFO0FBQ3JGO0FBQ0EsV0FBVyx3RUFBd0U7QUFDbkY7QUFDQTtBQUNBLDRDQUE0QyxFQUFFO0FBQzlDO0FBQ0EsV0FBVyxzREFBc0Q7QUFDakU7QUFDQTtBQUNBLDBDQUEwQyxFQUFFO0FBQzVDO0FBQ0E7QUFDQSw0Q0FBNEMsRUFBRTtBQUM5QztBQUNBLFdBQVcsc0RBQXNEO0FBQ2pFO0FBQ0EsV0FBVyxzREFBc0Q7QUFDakU7QUFDQSxXQUFXLG9EQUFvRDtBQUMvRDtBQUNBLFdBQVcsc0RBQXNEO0FBQ2pFO0FBQ0EsV0FBVyxvREFBb0Q7QUFDL0Q7QUFDQSxXQUFXLHNEQUFzRDtBQUNqRTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsRUFBRTtBQUM1QztBQUNBLFdBQVcsc0VBQXNFO0FBQ2pGO0FBQ0EsV0FBVyx3REFBd0Q7QUFDbkU7QUFDQSxXQUFXLHdEQUF3RDtBQUNuRTtBQUNBLFdBQVcsMERBQTBEO0FBQ3JFO0FBQ0EsV0FBVyx3REFBd0Q7QUFDbkU7QUFDQTtBQUNBLCtGQUErRixFQUFFO0FBQ2pHO0FBQ0EsV0FBVyw0REFBNEQ7QUFDdkU7QUFDQSxXQUFXLDREQUE0RDtBQUN2RTtBQUNBLFdBQVcsc0RBQXNEO0FBQ2pFO0FBQ0E7QUFDQSxxRkFBcUYsRUFBRTtBQUN2RjtBQUNBLFdBQVcsZ0VBQWdFO0FBQzNFO0FBQ0E7QUFDQSwyRUFBMkUsRUFBRTtBQUM3RTtBQUNBLFdBQVcsMERBQTBEO0FBQ3JFO0FBQ0E7QUFDQSxpRUFBaUUsRUFBRTtBQUNuRTtBQUNBLFdBQVcsOERBQThEO0FBQ3pFO0FBQ0E7QUFDQSx5RUFBeUUsRUFBRTtBQUMzRTtBQUNBLFdBQVcsc0RBQXNEO0FBQ2pFO0FBQ0E7QUFDQSwwRUFBMEUsRUFBRTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkdBQTZHO0FBQzdHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EsV0FBVyxzREFBc0Q7QUFDakU7QUFDQSwwREFBMEQsRUFBRTtBQUM1RCxXQUFXLHdEQUF3RDtBQUNuRTtBQUNBLGdFQUFnRSxFQUFFO0FBQ2xFO0FBQ0EsV0FBVyw4REFBOEQ7QUFDekU7QUFDQSxXQUFXLHdEQUF3RDtBQUNuRTtBQUNBLFdBQVcsNERBQTREO0FBQ3ZFO0FBQ0EsV0FBVyxnRUFBZ0U7QUFDM0U7QUFDQSxXQUFXLHdEQUF3RDtBQUNuRTtBQUNBLFdBQVcsOERBQThEO0FBQ3pFO0FBQ0EsV0FBVyxrRUFBa0U7QUFDN0U7QUFDQSxXQUFXLG9FQUFvRTtBQUMvRTtBQUNBLFdBQVcsOERBQThEO0FBQ3pFO0FBQ0EsV0FBVyw0REFBNEQ7QUFDdkU7O0FBRUE7QUFDQSx5REFBeUQsRUFBRTtBQUMzRDtBQUNBLHNGQUFzRixFQUFFO0FBQ3hGO0FBQ0EsZ0VBQWdFLEVBQUU7QUFDbEU7QUFDQSw4Q0FBOEMsRUFBRTtBQUNoRDtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsY0FBYztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQSxtRUFBbUU7QUFDbkU7QUFDQTtBQUNBLDJEQUEyRCxHQUFHO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsRUFBRTtBQUMzRTtBQUNBLFdBQVcsb0RBQW9EO0FBQy9EO0FBQ0E7QUFDQSwrREFBK0QsRUFBRTtBQUNqRTtBQUNBLFdBQVcsZ0VBQWdFO0FBQzNFO0FBQ0E7QUFDQSwyRUFBMkUsRUFBRTtBQUM3RTtBQUNBLDBFQUEwRSxFQUFFO0FBQzVFO0FBQ0EsV0FBVyxvREFBb0Q7QUFDL0Q7QUFDQSw0REFBNEQsRUFBRTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GO0FBQ3BGO0FBQ0EsV0FBVyw4REFBOEQ7QUFDekU7QUFDQSxXQUFXLGdFQUFnRTtBQUMzRTtBQUNBLFdBQVcsMERBQTBEO0FBQ3JFO0FBQ0EsV0FBVyw0REFBNEQ7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQSxXQUFXLGtFQUFrRTtBQUM3RTtBQUNBLFdBQVcsa0VBQWtFO0FBQzdFO0FBQ0EsV0FBVyxrRUFBa0U7QUFDN0U7QUFDQSwyRUFBMkUsRUFBRTtBQUM3RTtBQUNBLHdEQUF3RCxFQUFFO0FBQzFEO0FBQ0EsV0FBVywwREFBMEQ7QUFDckU7QUFDQSxXQUFXLDREQUE0RDtBQUN2RTtBQUNBLFdBQVcsNERBQTREO0FBQ3ZFO0FBQ0EsV0FBVyw0REFBNEQ7QUFDdkU7QUFDQSxXQUFXLHdFQUF3RTtBQUNuRjtBQUNBLFdBQVcsZ0VBQWdFO0FBQzNFO0FBQ0EsV0FBVyxvRUFBb0U7QUFDL0U7QUFDQSxXQUFXLHNEQUFzRDtBQUNqRTtBQUNBLDZFQUE2RSxFQUFFO0FBQy9FLDZCQUE2Qix1QkFBdUIsRUFBRTtBQUN0RDtBQUNBLCtFQUErRSxFQUFFO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QywyQkFBMkI7QUFDM0I7QUFDQSxXQUFXLHdEQUF3RDtBQUNuRSx5QkFBeUIsdUJBQXVCLEVBQUU7QUFDbEQ7QUFDQSx1RUFBdUUsRUFBRTtBQUN6RSxpQ0FBaUMsMkJBQTJCLEVBQUU7QUFDOUQ7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBLFdBQVcsOERBQThEO0FBQ3pFO0FBQ0EsV0FBVyw0REFBNEQ7QUFDdkUsMkJBQTJCLDRCQUE0QixFQUFFO0FBQ3pEO0FBQ0EsV0FBVyw4REFBOEQ7QUFDekU7QUFDQSxXQUFXLDREQUE0RDtBQUN2RSwyQkFBMkIsMEJBQTBCLEVBQUU7QUFDdkQ7QUFDQSxXQUFXLDhEQUE4RDtBQUN6RSw0QkFBNEIsNEJBQTRCLEVBQUU7QUFDMUQ7QUFDQSxXQUFXLDREQUE0RDtBQUN2RTtBQUNBLFdBQVcsMERBQTBEO0FBQ3JFLHNCQUFzQix5QkFBeUIsRUFBRTtBQUNqRDtBQUNBLFdBQVcsNERBQTREO0FBQ3ZFLHNCQUFzQiwwQkFBMEIsRUFBRTtBQUNsRDtBQUNBLFdBQVcsb0VBQW9FO0FBQy9FO0FBQ0EsV0FBVyx3REFBd0Q7QUFDbkU7QUFDQSxXQUFXLGtFQUFrRTtBQUM3RTtBQUNBLCtFQUErRSxFQUFFO0FBQ2pGO0FBQ0EsV0FBVyx3REFBd0Q7QUFDbkU7QUFDQSxXQUFXLGtFQUFrRTtBQUM3RTtBQUNBLFdBQVcsMERBQTBEO0FBQ3JFO0FBQ0E7QUFDQSxpRkFBaUYsRUFBRTtBQUNuRjtBQUNBLDZFQUE2RSxFQUFFO0FBQy9FO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxjQUFjO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0EscURBQXFELEdBQUc7QUFDeEQ7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBLFdBQVcsa0VBQWtFO0FBQzdFO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQSxXQUFXLDhEQUE4RDtBQUN6RTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EsV0FBVyxzRUFBc0U7QUFDakY7QUFDQTtBQUNBLCtCQUErQjtBQUMvQix1QkFBdUIsVUFBVTtBQUNqQyxpQ0FBaUMsMEJBQTBCLEVBQUU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSw2RUFBNkUsRUFBRTtBQUMvRTtBQUNBLFdBQVcsOERBQThEO0FBQ3pFO0FBQ0EsV0FBVyxnRUFBZ0U7QUFDM0U7QUFDQSxXQUFXLHNFQUFzRTtBQUNqRjtBQUNBLDhEQUE4RCxFQUFFO0FBQ2hFO0FBQ0EsV0FBVyw4REFBOEQ7QUFDekU7QUFDQSxrR0FBa0csRUFBRTtBQUNwRztBQUNBLHFHQUFxRyxFQUFFO0FBQ3ZHO0FBQ0EsV0FBVyx3RUFBd0U7QUFDbkY7QUFDQSxpSEFBaUgsRUFBRTtBQUNuSDtBQUNBLFdBQVcsd0VBQXdFO0FBQ25GO0FBQ0EsV0FBVyxvRUFBb0U7QUFDL0U7QUFDQSxXQUFXLGtFQUFrRTtBQUM3RTtBQUNBLFdBQVcsZ0VBQWdFO0FBQzNFO0FBQ0EsV0FBVyw4REFBOEQ7QUFDekU7QUFDQSxXQUFXLHNFQUFzRTtBQUNqRjtBQUNBLFdBQVcsb0VBQW9FO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyx5QkFBeUI7QUFDekI7QUFDQSxXQUFXLHdEQUF3RDtBQUNuRTtBQUNBLGlFQUFpRSxFQUFFO0FBQ25FO0FBQ0EsV0FBVyw0REFBNEQ7QUFDdkU7QUFDQSwrREFBK0QsRUFBRTtBQUNqRTtBQUNBLFdBQVcsa0VBQWtFO0FBQzdFO0FBQ0EscUVBQXFFLEVBQUU7QUFDdkU7QUFDQSxXQUFXLDhEQUE4RDtBQUN6RTtBQUNBLGlFQUFpRSxFQUFFO0FBQ25FO0FBQ0EsV0FBVyw0REFBNEQ7QUFDdkU7QUFDQTtBQUNBLDhFQUE4RSxFQUFFO0FBQ2hGO0FBQ0EscUVBQXFFLEVBQUU7QUFDdkUsV0FBVyx3REFBd0Q7QUFDbkUsV0FBVyx3REFBd0Q7QUFDbkUsV0FBVyx3REFBd0Q7QUFDbkUsV0FBVywwREFBMEQ7QUFDckU7QUFDQSx1RUFBdUUsRUFBRTtBQUN6RTtBQUNBLDJEQUEyRCxFQUFFO0FBQzdEO0FBQ0Esd0ZBQXdGLEVBQUU7QUFDMUY7QUFDQSw4REFBOEQsRUFBRTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBLFdBQVcsb0VBQW9FO0FBQy9FO0FBQ0EsV0FBVyx3REFBd0Q7QUFDbkU7QUFDQSxXQUFXLHdEQUF3RDtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBLFdBQVcsNERBQTREO0FBQ3ZFO0FBQ0EsV0FBVywwREFBMEQ7QUFDckU7QUFDQSw2REFBNkQsRUFBRTtBQUMvRDtBQUNBLHlEQUF5RCxFQUFFO0FBQzNEO0FBQ0EsV0FBVyx3RUFBd0U7QUFDbkY7QUFDQSxXQUFXLDREQUE0RDtBQUN2RTtBQUNBLFdBQVcsMERBQTBEO0FBQ3JFO0FBQ0EsbUVBQW1FLEVBQUU7QUFDckU7QUFDQSxrREFBa0Q7QUFDbEQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCwyQ0FBMkM7QUFDL0Y7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLDBLQUEwSztBQUM1TyxnREFBZ0Qsd0pBQXdKO0FBQ3hNLHdHQUF3RyxvRkFBb0Y7QUFDNUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0Y7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEZBQTRGLGlOQUFpTixvTEFBb0wsa0pBQWtKLDhjQUE4Yyw4TUFBOE07QUFDL3dDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxpRkFBaUY7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQSxzREFBc0QsMkNBQTJDO0FBQ2pHO0FBQ0EseURBQXlELHFDQUFxQztBQUM5RjtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLHVDQUF1Qyx5RUFBeUUsdUVBQXVFLHlFQUF5RTtBQUNoUTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLCtDQUErQztBQUNwRjtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBLDhGQUE4RjtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSxnSkFBZ0o7QUFDaEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsVUFBVTtBQUMzQztBQUNBLGtFQUFrRTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msb0NBQW9DO0FBQ3BFO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDBDQUEwQztBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEIsWUFBWTtBQUN0QztBQUNBO0FBQ0Esa0NBQWtDLGdCQUFnQjtBQUNsRDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EseUNBQXlDLFFBQVE7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRCQUE0QixvREFBb0Q7O0FBRWhGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QseUJBQXlCLEVBQUU7QUFDMUYsK0RBQStELHlCQUF5QixFQUFFO0FBQzFGLCtEQUErRCx5QkFBeUIsRUFBRTtBQUMxRiwrREFBK0QseUJBQXlCLEVBQUU7QUFDMUY7O0FBRUE7QUFDQTs7QUFFQSxtQkFBbUIscUJBQXFCO0FBQ3hDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQixjQUFjO0FBQy9CO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlCQUF5QixnQkFBZ0I7QUFDekM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQSx3QkFBd0I7O0FBRXhCO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGtCQUFrQiwyQ0FBMkM7QUFDN0Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiIzNzQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbigpIHtcbiAgLypcbiAgICogR2VuZXJhdGVkIGJ5IFBFRy5qcyAwLjguMC5cbiAgICpcbiAgICogaHR0cDovL3BlZ2pzLm1hamRhLmN6L1xuICAgKi9cblxuICBmdW5jdGlvbiBwZWckc3ViY2xhc3MoY2hpbGQsIHBhcmVudCkge1xuICAgIGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfVxuICAgIGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTtcbiAgICBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpO1xuICB9XG5cbiAgZnVuY3Rpb24gU3ludGF4RXJyb3IobWVzc2FnZSwgZXhwZWN0ZWQsIGZvdW5kLCBvZmZzZXQsIGxpbmUsIGNvbHVtbikge1xuICAgIHRoaXMubWVzc2FnZSAgPSBtZXNzYWdlO1xuICAgIHRoaXMuZXhwZWN0ZWQgPSBleHBlY3RlZDtcbiAgICB0aGlzLmZvdW5kICAgID0gZm91bmQ7XG4gICAgdGhpcy5vZmZzZXQgICA9IG9mZnNldDtcbiAgICB0aGlzLmxpbmUgICAgID0gbGluZTtcbiAgICB0aGlzLmNvbHVtbiAgID0gY29sdW1uO1xuXG4gICAgdGhpcy5uYW1lICAgICA9IFwiU3ludGF4RXJyb3JcIjtcbiAgfVxuXG4gIHBlZyRzdWJjbGFzcyhTeW50YXhFcnJvciwgRXJyb3IpO1xuXG4gIGZ1bmN0aW9uIHBhcnNlKGlucHV0KSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHt9LFxuXG4gICAgICAgIHBlZyRGQUlMRUQgPSB7fSxcblxuICAgICAgICBwZWckc3RhcnRSdWxlSW5kaWNlcyA9IHsgQ29udGFjdDogMTE4LCBOYW1lX0FkZHJfSGVhZGVyOiAxNTUsIFJlY29yZF9Sb3V0ZTogMTc1LCBSZXF1ZXN0X1Jlc3BvbnNlOiA4MSwgU0lQX1VSSTogNDUsIFN1YnNjcmlwdGlvbl9TdGF0ZTogMTg1LCBTdXBwb3J0ZWQ6IDE5MCwgUmVxdWlyZTogMTgxLCBWaWE6IDE5MywgYWJzb2x1dGVVUkk6IDg0LCBDYWxsX0lEOiAxMTcsIENvbnRlbnRfRGlzcG9zaXRpb246IDEyOSwgQ29udGVudF9MZW5ndGg6IDEzNCwgQ29udGVudF9UeXBlOiAxMzUsIENTZXE6IDE0NSwgZGlzcGxheU5hbWU6IDEyMSwgRXZlbnQ6IDE0OCwgRnJvbTogMTUwLCBob3N0OiA1MiwgTWF4X0ZvcndhcmRzOiAxNTMsIE1pbl9TRTogMjEyLCBQcm94eV9BdXRoZW50aWNhdGU6IDE1NiwgcXVvdGVkX3N0cmluZzogNDAsIFJlZmVyX1RvOiAxNzcsIFJlcGxhY2VzOiAxNzgsIFNlc3Npb25fRXhwaXJlczogMjA5LCBzdHVuX1VSSTogMjE2LCBUbzogMTkxLCB0dXJuX1VSSTogMjIzLCB1dWlkOiAyMjYsIFdXV19BdXRoZW50aWNhdGU6IDIwOCwgY2hhbGxlbmdlOiAxNTcgfSxcbiAgICAgICAgcGVnJHN0YXJ0UnVsZUluZGV4ICAgPSAxMTgsXG5cbiAgICAgICAgcGVnJGNvbnN0cyA9IFtcbiAgICAgICAgICBcIlxcclxcblwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIlxcclxcblwiLCBkZXNjcmlwdGlvbjogXCJcXFwiXFxcXHJcXFxcblxcXCJcIiB9LFxuICAgICAgICAgIC9eWzAtOV0vLFxuICAgICAgICAgIHsgdHlwZTogXCJjbGFzc1wiLCB2YWx1ZTogXCJbMC05XVwiLCBkZXNjcmlwdGlvbjogXCJbMC05XVwiIH0sXG4gICAgICAgICAgL15bYS16QS1aXS8sXG4gICAgICAgICAgeyB0eXBlOiBcImNsYXNzXCIsIHZhbHVlOiBcIlthLXpBLVpdXCIsIGRlc2NyaXB0aW9uOiBcIlthLXpBLVpdXCIgfSxcbiAgICAgICAgICAvXlswLTlhLWZBLUZdLyxcbiAgICAgICAgICB7IHR5cGU6IFwiY2xhc3NcIiwgdmFsdWU6IFwiWzAtOWEtZkEtRl1cIiwgZGVzY3JpcHRpb246IFwiWzAtOWEtZkEtRl1cIiB9LFxuICAgICAgICAgIC9eW1xcMC1cXHhGRl0vLFxuICAgICAgICAgIHsgdHlwZTogXCJjbGFzc1wiLCB2YWx1ZTogXCJbXFxcXDAtXFxcXHhGRl1cIiwgZGVzY3JpcHRpb246IFwiW1xcXFwwLVxcXFx4RkZdXCIgfSxcbiAgICAgICAgICAvXltcIl0vLFxuICAgICAgICAgIHsgdHlwZTogXCJjbGFzc1wiLCB2YWx1ZTogXCJbXFxcIl1cIiwgZGVzY3JpcHRpb246IFwiW1xcXCJdXCIgfSxcbiAgICAgICAgICBcIiBcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCIgXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCIgXFxcIlwiIH0sXG4gICAgICAgICAgXCJcXHRcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJcXHRcIiwgZGVzY3JpcHRpb246IFwiXFxcIlxcXFx0XFxcIlwiIH0sXG4gICAgICAgICAgL15bYS16QS1aMC05XS8sXG4gICAgICAgICAgeyB0eXBlOiBcImNsYXNzXCIsIHZhbHVlOiBcIlthLXpBLVowLTldXCIsIGRlc2NyaXB0aW9uOiBcIlthLXpBLVowLTldXCIgfSxcbiAgICAgICAgICBcIjtcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCI7XCIsIGRlc2NyaXB0aW9uOiBcIlxcXCI7XFxcIlwiIH0sXG4gICAgICAgICAgXCIvXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiL1wiLCBkZXNjcmlwdGlvbjogXCJcXFwiL1xcXCJcIiB9LFxuICAgICAgICAgIFwiP1wiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIj9cIiwgZGVzY3JpcHRpb246IFwiXFxcIj9cXFwiXCIgfSxcbiAgICAgICAgICBcIjpcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCI6XCIsIGRlc2NyaXB0aW9uOiBcIlxcXCI6XFxcIlwiIH0sXG4gICAgICAgICAgXCJAXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiQFwiLCBkZXNjcmlwdGlvbjogXCJcXFwiQFxcXCJcIiB9LFxuICAgICAgICAgIFwiJlwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIiZcIiwgZGVzY3JpcHRpb246IFwiXFxcIiZcXFwiXCIgfSxcbiAgICAgICAgICBcIj1cIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCI9XCIsIGRlc2NyaXB0aW9uOiBcIlxcXCI9XFxcIlwiIH0sXG4gICAgICAgICAgXCIrXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiK1wiLCBkZXNjcmlwdGlvbjogXCJcXFwiK1xcXCJcIiB9LFxuICAgICAgICAgIFwiJFwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIiRcIiwgZGVzY3JpcHRpb246IFwiXFxcIiRcXFwiXCIgfSxcbiAgICAgICAgICBcIixcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCIsXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCIsXFxcIlwiIH0sXG4gICAgICAgICAgXCItXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiLVwiLCBkZXNjcmlwdGlvbjogXCJcXFwiLVxcXCJcIiB9LFxuICAgICAgICAgIFwiX1wiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIl9cIiwgZGVzY3JpcHRpb246IFwiXFxcIl9cXFwiXCIgfSxcbiAgICAgICAgICBcIi5cIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCIuXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCIuXFxcIlwiIH0sXG4gICAgICAgICAgXCIhXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiIVwiLCBkZXNjcmlwdGlvbjogXCJcXFwiIVxcXCJcIiB9LFxuICAgICAgICAgIFwiflwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIn5cIiwgZGVzY3JpcHRpb246IFwiXFxcIn5cXFwiXCIgfSxcbiAgICAgICAgICBcIipcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCIqXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCIqXFxcIlwiIH0sXG4gICAgICAgICAgXCInXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiJ1wiLCBkZXNjcmlwdGlvbjogXCJcXFwiJ1xcXCJcIiB9LFxuICAgICAgICAgIFwiKFwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIihcIiwgZGVzY3JpcHRpb246IFwiXFxcIihcXFwiXCIgfSxcbiAgICAgICAgICBcIilcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCIpXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCIpXFxcIlwiIH0sXG4gICAgICAgICAgcGVnJEZBSUxFRCxcbiAgICAgICAgICBcIiVcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCIlXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCIlXFxcIlwiIH0sXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBbXSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtyZXR1cm4gXCIgXCI7IH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7cmV0dXJuICc6JzsgfSxcbiAgICAgICAgICAvXlshLX5dLyxcbiAgICAgICAgICB7IHR5cGU6IFwiY2xhc3NcIiwgdmFsdWU6IFwiWyEtfl1cIiwgZGVzY3JpcHRpb246IFwiWyEtfl1cIiB9LFxuICAgICAgICAgIC9eW1xceDgwLVxcdUZGRkZdLyxcbiAgICAgICAgICB7IHR5cGU6IFwiY2xhc3NcIiwgdmFsdWU6IFwiW1xcXFx4ODAtXFxcXHVGRkZGXVwiLCBkZXNjcmlwdGlvbjogXCJbXFxcXHg4MC1cXFxcdUZGRkZdXCIgfSxcbiAgICAgICAgICAvXltcXHg4MC1cXHhCRl0vLFxuICAgICAgICAgIHsgdHlwZTogXCJjbGFzc1wiLCB2YWx1ZTogXCJbXFxcXHg4MC1cXFxceEJGXVwiLCBkZXNjcmlwdGlvbjogXCJbXFxcXHg4MC1cXFxceEJGXVwiIH0sXG4gICAgICAgICAgL15bYS1mXS8sXG4gICAgICAgICAgeyB0eXBlOiBcImNsYXNzXCIsIHZhbHVlOiBcIlthLWZdXCIsIGRlc2NyaXB0aW9uOiBcIlthLWZdXCIgfSxcbiAgICAgICAgICBcImBcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJgXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJgXFxcIlwiIH0sXG4gICAgICAgICAgXCI8XCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiPFwiLCBkZXNjcmlwdGlvbjogXCJcXFwiPFxcXCJcIiB9LFxuICAgICAgICAgIFwiPlwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIj5cIiwgZGVzY3JpcHRpb246IFwiXFxcIj5cXFwiXCIgfSxcbiAgICAgICAgICBcIlxcXFxcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJcXFxcXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJcXFxcXFxcXFxcXCJcIiB9LFxuICAgICAgICAgIFwiW1wiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIltcIiwgZGVzY3JpcHRpb246IFwiXFxcIltcXFwiXCIgfSxcbiAgICAgICAgICBcIl1cIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJdXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJdXFxcIlwiIH0sXG4gICAgICAgICAgXCJ7XCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwie1wiLCBkZXNjcmlwdGlvbjogXCJcXFwie1xcXCJcIiB9LFxuICAgICAgICAgIFwifVwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIn1cIiwgZGVzY3JpcHRpb246IFwiXFxcIn1cXFwiXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtyZXR1cm4gXCIqXCI7IH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7cmV0dXJuIFwiL1wiOyB9LFxuICAgICAgICAgIGZ1bmN0aW9uKCkge3JldHVybiBcIj1cIjsgfSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtyZXR1cm4gXCIoXCI7IH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7cmV0dXJuIFwiKVwiOyB9LFxuICAgICAgICAgIGZ1bmN0aW9uKCkge3JldHVybiBcIj5cIjsgfSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtyZXR1cm4gXCI8XCI7IH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7cmV0dXJuIFwiLFwiOyB9LFxuICAgICAgICAgIGZ1bmN0aW9uKCkge3JldHVybiBcIjtcIjsgfSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtyZXR1cm4gXCI6XCI7IH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7cmV0dXJuIFwiXFxcIlwiOyB9LFxuICAgICAgICAgIC9eWyEtJ10vLFxuICAgICAgICAgIHsgdHlwZTogXCJjbGFzc1wiLCB2YWx1ZTogXCJbIS0nXVwiLCBkZXNjcmlwdGlvbjogXCJbIS0nXVwiIH0sXG4gICAgICAgICAgL15bKi1bXS8sXG4gICAgICAgICAgeyB0eXBlOiBcImNsYXNzXCIsIHZhbHVlOiBcIlsqLVtdXCIsIGRlc2NyaXB0aW9uOiBcIlsqLVtdXCIgfSxcbiAgICAgICAgICAvXltcXF0tfl0vLFxuICAgICAgICAgIHsgdHlwZTogXCJjbGFzc1wiLCB2YWx1ZTogXCJbXFxcXF0tfl1cIiwgZGVzY3JpcHRpb246IFwiW1xcXFxdLX5dXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbihjb250ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50czsgfSxcbiAgICAgICAgICAvXlsjLVtdLyxcbiAgICAgICAgICB7IHR5cGU6IFwiY2xhc3NcIiwgdmFsdWU6IFwiWyMtW11cIiwgZGVzY3JpcHRpb246IFwiWyMtW11cIiB9LFxuICAgICAgICAgIC9eW1xcMC1cXHRdLyxcbiAgICAgICAgICB7IHR5cGU6IFwiY2xhc3NcIiwgdmFsdWU6IFwiW1xcXFwwLVxcXFx0XVwiLCBkZXNjcmlwdGlvbjogXCJbXFxcXDAtXFxcXHRdXCIgfSxcbiAgICAgICAgICAvXltcXHgwQi1cXGZdLyxcbiAgICAgICAgICB7IHR5cGU6IFwiY2xhc3NcIiwgdmFsdWU6IFwiW1xcXFx4MEItXFxcXGZdXCIsIGRlc2NyaXB0aW9uOiBcIltcXFxceDBCLVxcXFxmXVwiIH0sXG4gICAgICAgICAgL15bXFx4MEUtf10vLFxuICAgICAgICAgIHsgdHlwZTogXCJjbGFzc1wiLCB2YWx1ZTogXCJbXFxcXHgwRS1/XVwiLCBkZXNjcmlwdGlvbjogXCJbXFxcXHgwRS1/XVwiIH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnVyaSA9IG5ldyBvcHRpb25zLlNJUC5VUkkob3B0aW9ucy5kYXRhLnNjaGVtZSwgb3B0aW9ucy5kYXRhLnVzZXIsIG9wdGlvbnMuZGF0YS5ob3N0LCBvcHRpb25zLmRhdGEucG9ydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS5zY2hlbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS51c2VyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEuaG9zdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLmhvc3RfdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLnBvcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnVyaSA9IG5ldyBvcHRpb25zLlNJUC5VUkkob3B0aW9ucy5kYXRhLnNjaGVtZSwgb3B0aW9ucy5kYXRhLnVzZXIsIG9wdGlvbnMuZGF0YS5ob3N0LCBvcHRpb25zLmRhdGEucG9ydCwgb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXMsIG9wdGlvbnMuZGF0YS51cmlfaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS5zY2hlbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS51c2VyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEuaG9zdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLmhvc3RfdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLnBvcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnRSdWxlID09PSAnU0lQX1VSSScpIHsgb3B0aW9ucy5kYXRhID0gb3B0aW9ucy5kYXRhLnVyaTt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzaXBzXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwic2lwc1wiLCBkZXNjcmlwdGlvbjogXCJcXFwic2lwc1xcXCJcIiB9LFxuICAgICAgICAgIFwic2lwXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwic2lwXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJzaXBcXFwiXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbih1cmlfc2NoZW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuc2NoZW1lID0gdXJpX3NjaGVtZTsgfSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51c2VyID0gZGVjb2RlVVJJQ29tcG9uZW50KHRleHQoKS5zbGljZSgwLCAtMSkpO30sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEucGFzc3dvcmQgPSB0ZXh0KCk7IH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuaG9zdCA9IHRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmRhdGEuaG9zdDsgfSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuaG9zdF90eXBlID0gJ2RvbWFpbic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRleHQoKTsgfSxcbiAgICAgICAgICAvXlthLXpBLVowLTlfXFwtXS8sXG4gICAgICAgICAgeyB0eXBlOiBcImNsYXNzXCIsIHZhbHVlOiBcIlthLXpBLVowLTlfXFxcXC1dXCIsIGRlc2NyaXB0aW9uOiBcIlthLXpBLVowLTlfXFxcXC1dXCIgfSxcbiAgICAgICAgICAvXlthLXpBLVowLTlcXC1dLyxcbiAgICAgICAgICB7IHR5cGU6IFwiY2xhc3NcIiwgdmFsdWU6IFwiW2EtekEtWjAtOVxcXFwtXVwiLCBkZXNjcmlwdGlvbjogXCJbYS16QS1aMC05XFxcXC1dXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5ob3N0X3R5cGUgPSAnSVB2Nic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGV4dCgpOyB9LFxuICAgICAgICAgIFwiOjpcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCI6OlwiLCBkZXNjcmlwdGlvbjogXCJcXFwiOjpcXFwiXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuaG9zdF90eXBlID0gJ0lQdjYnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0KCk7IH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuaG9zdF90eXBlID0gJ0lQdjQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRleHQoKTsgfSxcbiAgICAgICAgICBcIjI1XCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiMjVcIiwgZGVzY3JpcHRpb246IFwiXFxcIjI1XFxcIlwiIH0sXG4gICAgICAgICAgL15bMC01XS8sXG4gICAgICAgICAgeyB0eXBlOiBcImNsYXNzXCIsIHZhbHVlOiBcIlswLTVdXCIsIGRlc2NyaXB0aW9uOiBcIlswLTVdXCIgfSxcbiAgICAgICAgICBcIjJcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCIyXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCIyXFxcIlwiIH0sXG4gICAgICAgICAgL15bMC00XS8sXG4gICAgICAgICAgeyB0eXBlOiBcImNsYXNzXCIsIHZhbHVlOiBcIlswLTRdXCIsIGRlc2NyaXB0aW9uOiBcIlswLTRdXCIgfSxcbiAgICAgICAgICBcIjFcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCIxXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCIxXFxcIlwiIH0sXG4gICAgICAgICAgL15bMS05XS8sXG4gICAgICAgICAgeyB0eXBlOiBcImNsYXNzXCIsIHZhbHVlOiBcIlsxLTldXCIsIGRlc2NyaXB0aW9uOiBcIlsxLTldXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbihwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3J0ID0gcGFyc2VJbnQocG9ydC5qb2luKCcnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEucG9ydCA9IHBvcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9ydDsgfSxcbiAgICAgICAgICBcInRyYW5zcG9ydD1cIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJ0cmFuc3BvcnQ9XCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJ0cmFuc3BvcnQ9XFxcIlwiIH0sXG4gICAgICAgICAgXCJ1ZHBcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJ1ZHBcIiwgZGVzY3JpcHRpb246IFwiXFxcInVkcFxcXCJcIiB9LFxuICAgICAgICAgIFwidGNwXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwidGNwXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJ0Y3BcXFwiXCIgfSxcbiAgICAgICAgICBcInNjdHBcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJzY3RwXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJzY3RwXFxcIlwiIH0sXG4gICAgICAgICAgXCJ0bHNcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJ0bHNcIiwgZGVzY3JpcHRpb246IFwiXFxcInRsc1xcXCJcIiB9LFxuICAgICAgICAgIGZ1bmN0aW9uKHRyYW5zcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXMpIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zPXt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEudXJpX3BhcmFtc1sndHJhbnNwb3J0J10gPSB0cmFuc3BvcnQudG9Mb3dlckNhc2UoKTsgfSxcbiAgICAgICAgICBcInVzZXI9XCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwidXNlcj1cIiwgZGVzY3JpcHRpb246IFwiXFxcInVzZXI9XFxcIlwiIH0sXG4gICAgICAgICAgXCJwaG9uZVwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcInBob25lXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJwaG9uZVxcXCJcIiB9LFxuICAgICAgICAgIFwiaXBcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJpcFwiLCBkZXNjcmlwdGlvbjogXCJcXFwiaXBcXFwiXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFvcHRpb25zLmRhdGEudXJpX3BhcmFtcykgb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXM9e307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zWyd1c2VyJ10gPSB1c2VyLnRvTG93ZXJDYXNlKCk7IH0sXG4gICAgICAgICAgXCJtZXRob2Q9XCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwibWV0aG9kPVwiLCBkZXNjcmlwdGlvbjogXCJcXFwibWV0aG9kPVxcXCJcIiB9LFxuICAgICAgICAgIGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXMpIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zPXt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEudXJpX3BhcmFtc1snbWV0aG9kJ10gPSBtZXRob2Q7IH0sXG4gICAgICAgICAgXCJ0dGw9XCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwidHRsPVwiLCBkZXNjcmlwdGlvbjogXCJcXFwidHRsPVxcXCJcIiB9LFxuICAgICAgICAgIGZ1bmN0aW9uKHR0bCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighb3B0aW9ucy5kYXRhLnBhcmFtcykgb3B0aW9ucy5kYXRhLnBhcmFtcz17fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnBhcmFtc1sndHRsJ10gPSB0dGw7IH0sXG4gICAgICAgICAgXCJtYWRkcj1cIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJtYWRkcj1cIiwgZGVzY3JpcHRpb246IFwiXFxcIm1hZGRyPVxcXCJcIiB9LFxuICAgICAgICAgIGZ1bmN0aW9uKG1hZGRyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFvcHRpb25zLmRhdGEudXJpX3BhcmFtcykgb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXM9e307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zWydtYWRkciddID0gbWFkZHI7IH0sXG4gICAgICAgICAgXCJsclwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcImxyXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJsclxcXCJcIiB9LFxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXMpIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zPXt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEudXJpX3BhcmFtc1snbHInXSA9IHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICBmdW5jdGlvbihwYXJhbSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIW9wdGlvbnMuZGF0YS51cmlfcGFyYW1zKSBvcHRpb25zLmRhdGEudXJpX3BhcmFtcyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXNbcGFyYW0udG9Mb3dlckNhc2UoKV0gPSB2YWx1ZSAmJiB2YWx1ZS50b0xvd2VyQ2FzZSgpO30sXG4gICAgICAgICAgZnVuY3Rpb24oaG5hbWUsIGh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBobmFtZSA9IGhuYW1lLmpvaW4oJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2YWx1ZSA9IGh2YWx1ZS5qb2luKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIW9wdGlvbnMuZGF0YS51cmlfaGVhZGVycykgb3B0aW9ucy5kYXRhLnVyaV9oZWFkZXJzID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5kYXRhLnVyaV9oZWFkZXJzW2huYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS51cmlfaGVhZGVyc1tobmFtZV0gPSBbaHZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEudXJpX2hlYWRlcnNbaG5hbWVdLnB1c2goaHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvdHMgb2YgdGVzdHMgZmFpbCBpZiB0aGlzIGlzbid0IGd1YXJkZWQuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnRSdWxlID09PSAnUmVmZXJfVG8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnVyaSA9IG5ldyBvcHRpb25zLlNJUC5VUkkob3B0aW9ucy5kYXRhLnNjaGVtZSwgb3B0aW9ucy5kYXRhLnVzZXIsIG9wdGlvbnMuZGF0YS5ob3N0LCBvcHRpb25zLmRhdGEucG9ydCwgb3B0aW9ucy5kYXRhLnVyaV9wYXJhbXMsIG9wdGlvbnMuZGF0YS51cmlfaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS5zY2hlbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS51c2VyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEuaG9zdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLmhvc3RfdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLnBvcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS51cmlfcGFyYW1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgIFwiLy9cIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCIvL1wiLCBkZXNjcmlwdGlvbjogXCJcXFwiLy9cXFwiXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5zY2hlbWU9IHRleHQoKTsgfSxcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJTSVBcIiwgZGVzY3JpcHRpb246IFwiXFxcIlNJUFxcXCJcIiB9LFxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnNpcF92ZXJzaW9uID0gdGV4dCgpOyB9LFxuICAgICAgICAgIFwiSU5WSVRFXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiSU5WSVRFXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJJTlZJVEVcXFwiXCIgfSxcbiAgICAgICAgICBcIkFDS1wiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIkFDS1wiLCBkZXNjcmlwdGlvbjogXCJcXFwiQUNLXFxcIlwiIH0sXG4gICAgICAgICAgXCJWWEFDSFwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIlZYQUNIXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJWWEFDSFxcXCJcIiB9LFxuICAgICAgICAgIFwiT1BUSU9OU1wiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIk9QVElPTlNcIiwgZGVzY3JpcHRpb246IFwiXFxcIk9QVElPTlNcXFwiXCIgfSxcbiAgICAgICAgICBcIkJZRVwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIkJZRVwiLCBkZXNjcmlwdGlvbjogXCJcXFwiQllFXFxcIlwiIH0sXG4gICAgICAgICAgXCJDQU5DRUxcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJDQU5DRUxcIiwgZGVzY3JpcHRpb246IFwiXFxcIkNBTkNFTFxcXCJcIiB9LFxuICAgICAgICAgIFwiUkVHSVNURVJcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJSRUdJU1RFUlwiLCBkZXNjcmlwdGlvbjogXCJcXFwiUkVHSVNURVJcXFwiXCIgfSxcbiAgICAgICAgICBcIlNVQlNDUklCRVwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIlNVQlNDUklCRVwiLCBkZXNjcmlwdGlvbjogXCJcXFwiU1VCU0NSSUJFXFxcIlwiIH0sXG4gICAgICAgICAgXCJOT1RJRllcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJOT1RJRllcIiwgZGVzY3JpcHRpb246IFwiXFxcIk5PVElGWVxcXCJcIiB9LFxuICAgICAgICAgIFwiUkVGRVJcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJSRUZFUlwiLCBkZXNjcmlwdGlvbjogXCJcXFwiUkVGRVJcXFwiXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLm1ldGhvZCA9IHRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmRhdGEubWV0aG9kOyB9LFxuICAgICAgICAgIGZ1bmN0aW9uKHN0YXR1c19jb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnN0YXR1c19jb2RlID0gcGFyc2VJbnQoc3RhdHVzX2NvZGUuam9pbignJykpOyB9LFxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5yZWFzb25fcGhyYXNlID0gdGV4dCgpOyB9LFxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gdGV4dCgpOyB9LFxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHgsIGxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGggPSBvcHRpb25zLmRhdGEubXVsdGlfaGVhZGVyLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRhdGEubXVsdGlfaGVhZGVyW2lkeF0ucGFyc2VkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5kYXRhICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgPSBvcHRpb25zLmRhdGEubXVsdGlfaGVhZGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVhZGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFvcHRpb25zLmRhdGEubXVsdGlfaGVhZGVyKSBvcHRpb25zLmRhdGEubXVsdGlfaGVhZGVyID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlciA9IG5ldyBvcHRpb25zLlNJUC5OYW1lQWRkckhlYWRlcihvcHRpb25zLmRhdGEudXJpLCBvcHRpb25zLmRhdGEuZGlzcGxheU5hbWUsIG9wdGlvbnMuZGF0YS5wYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS51cmk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnMuZGF0YS5wYXJhbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEubXVsdGlfaGVhZGVyLnB1c2goIHsgJ3Bvc2l0aW9uJzogcGVnJGN1cnJQb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb2Zmc2V0Jzogb2Zmc2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGFyc2VkJzogaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7fSxcbiAgICAgICAgICBmdW5jdGlvbihkaXNwbGF5TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lID0gdGV4dCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcGxheU5hbWVbMF0gPT09ICdcXFwiJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZS5zdWJzdHJpbmcoMSwgZGlzcGxheU5hbWUubGVuZ3RoLTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZTsgfSxcbiAgICAgICAgICBcInFcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJxXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJxXFxcIlwiIH0sXG4gICAgICAgICAgZnVuY3Rpb24ocSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFvcHRpb25zLmRhdGEucGFyYW1zKSBvcHRpb25zLmRhdGEucGFyYW1zID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnBhcmFtc1sncSddID0gcTsgfSxcbiAgICAgICAgICBcImV4cGlyZXNcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJleHBpcmVzXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJleHBpcmVzXFxcIlwiIH0sXG4gICAgICAgICAgZnVuY3Rpb24oZXhwaXJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFvcHRpb25zLmRhdGEucGFyYW1zKSBvcHRpb25zLmRhdGEucGFyYW1zID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnBhcmFtc1snZXhwaXJlcyddID0gZXhwaXJlczsgfSxcbiAgICAgICAgICBmdW5jdGlvbihkZWx0YV9zZWNvbmRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGRlbHRhX3NlY29uZHMuam9pbignJykpOyB9LFxuICAgICAgICAgIFwiMFwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIjBcIiwgZGVzY3JpcHRpb246IFwiXFxcIjBcXFwiXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh0ZXh0KCkpOyB9LFxuICAgICAgICAgIGZ1bmN0aW9uKHBhcmFtLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFvcHRpb25zLmRhdGEucGFyYW1zKSBvcHRpb25zLmRhdGEucGFyYW1zID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5wYXJhbXNbcGFyYW0udG9Mb3dlckNhc2UoKV0gPSB2YWx1ZTt9LFxuICAgICAgICAgIFwicmVuZGVyXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwicmVuZGVyXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJyZW5kZXJcXFwiXCIgfSxcbiAgICAgICAgICBcInNlc3Npb25cIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJzZXNzaW9uXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJzZXNzaW9uXFxcIlwiIH0sXG4gICAgICAgICAgXCJpY29uXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiaWNvblwiLCBkZXNjcmlwdGlvbjogXCJcXFwiaWNvblxcXCJcIiB9LFxuICAgICAgICAgIFwiYWxlcnRcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJhbGVydFwiLCBkZXNjcmlwdGlvbjogXCJcXFwiYWxlcnRcXFwiXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnRSdWxlID09PSAnQ29udGVudF9EaXNwb3NpdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEudHlwZSA9IHRleHQoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgIFwiaGFuZGxpbmdcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJoYW5kbGluZ1wiLCBkZXNjcmlwdGlvbjogXCJcXFwiaGFuZGxpbmdcXFwiXCIgfSxcbiAgICAgICAgICBcIm9wdGlvbmFsXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwib3B0aW9uYWxcIiwgZGVzY3JpcHRpb246IFwiXFxcIm9wdGlvbmFsXFxcIlwiIH0sXG4gICAgICAgICAgXCJyZXF1aXJlZFwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcInJlcXVpcmVkXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJyZXF1aXJlZFxcXCJcIiB9LFxuICAgICAgICAgIGZ1bmN0aW9uKGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IHBhcnNlSW50KGxlbmd0aC5qb2luKCcnKSk7IH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gdGV4dCgpOyB9LFxuICAgICAgICAgIFwidGV4dFwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcInRleHRcIiwgZGVzY3JpcHRpb246IFwiXFxcInRleHRcXFwiXCIgfSxcbiAgICAgICAgICBcImltYWdlXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiaW1hZ2VcIiwgZGVzY3JpcHRpb246IFwiXFxcImltYWdlXFxcIlwiIH0sXG4gICAgICAgICAgXCJhdWRpb1wiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcImF1ZGlvXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJhdWRpb1xcXCJcIiB9LFxuICAgICAgICAgIFwidmlkZW9cIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJ2aWRlb1wiLCBkZXNjcmlwdGlvbjogXCJcXFwidmlkZW9cXFwiXCIgfSxcbiAgICAgICAgICBcImFwcGxpY2F0aW9uXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiYXBwbGljYXRpb25cIiwgZGVzY3JpcHRpb246IFwiXFxcImFwcGxpY2F0aW9uXFxcIlwiIH0sXG4gICAgICAgICAgXCJtZXNzYWdlXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwibWVzc2FnZVwiLCBkZXNjcmlwdGlvbjogXCJcXFwibWVzc2FnZVxcXCJcIiB9LFxuICAgICAgICAgIFwibXVsdGlwYXJ0XCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwibXVsdGlwYXJ0XCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJtdWx0aXBhcnRcXFwiXCIgfSxcbiAgICAgICAgICBcIngtXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwieC1cIiwgZGVzY3JpcHRpb246IFwiXFxcIngtXFxcIlwiIH0sXG4gICAgICAgICAgZnVuY3Rpb24oY3NlcV92YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS52YWx1ZT1wYXJzZUludChjc2VxX3ZhbHVlLmpvaW4oJycpKTsgfSxcbiAgICAgICAgICBmdW5jdGlvbihleHBpcmVzKSB7b3B0aW9ucy5kYXRhID0gZXhwaXJlczsgfSxcbiAgICAgICAgICBmdW5jdGlvbihldmVudF90eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuZXZlbnQgPSBldmVudF90eXBlLnRvTG93ZXJDYXNlKCk7IH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWcgPSBvcHRpb25zLmRhdGEudGFnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IG5ldyBvcHRpb25zLlNJUC5OYW1lQWRkckhlYWRlcihvcHRpb25zLmRhdGEudXJpLCBvcHRpb25zLmRhdGEuZGlzcGxheU5hbWUsIG9wdGlvbnMuZGF0YS5wYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWcpIHtvcHRpb25zLmRhdGEuc2V0UGFyYW0oJ3RhZycsdGFnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICBcInRhZ1wiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcInRhZ1wiLCBkZXNjcmlwdGlvbjogXCJcXFwidGFnXFxcIlwiIH0sXG4gICAgICAgICAgZnVuY3Rpb24odGFnKSB7b3B0aW9ucy5kYXRhLnRhZyA9IHRhZzsgfSxcbiAgICAgICAgICBmdW5jdGlvbihmb3J3YXJkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IHBhcnNlSW50KGZvcndhcmRzLmpvaW4oJycpKTsgfSxcbiAgICAgICAgICBmdW5jdGlvbihtaW5fZXhwaXJlcykge29wdGlvbnMuZGF0YSA9IG1pbl9leHBpcmVzOyB9LFxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IG5ldyBvcHRpb25zLlNJUC5OYW1lQWRkckhlYWRlcihvcHRpb25zLmRhdGEudXJpLCBvcHRpb25zLmRhdGEuZGlzcGxheU5hbWUsIG9wdGlvbnMuZGF0YS5wYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgIFwiZGlnZXN0XCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiRGlnZXN0XCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJEaWdlc3RcXFwiXCIgfSxcbiAgICAgICAgICBcInJlYWxtXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwicmVhbG1cIiwgZGVzY3JpcHRpb246IFwiXFxcInJlYWxtXFxcIlwiIH0sXG4gICAgICAgICAgZnVuY3Rpb24ocmVhbG0pIHsgb3B0aW9ucy5kYXRhLnJlYWxtID0gcmVhbG07IH0sXG4gICAgICAgICAgXCJkb21haW5cIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJkb21haW5cIiwgZGVzY3JpcHRpb246IFwiXFxcImRvbWFpblxcXCJcIiB9LFxuICAgICAgICAgIFwibm9uY2VcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJub25jZVwiLCBkZXNjcmlwdGlvbjogXCJcXFwibm9uY2VcXFwiXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbihub25jZSkgeyBvcHRpb25zLmRhdGEubm9uY2U9bm9uY2U7IH0sXG4gICAgICAgICAgXCJvcGFxdWVcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJvcGFxdWVcIiwgZGVzY3JpcHRpb246IFwiXFxcIm9wYXF1ZVxcXCJcIiB9LFxuICAgICAgICAgIGZ1bmN0aW9uKG9wYXF1ZSkgeyBvcHRpb25zLmRhdGEub3BhcXVlPW9wYXF1ZTsgfSxcbiAgICAgICAgICBcInN0YWxlXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwic3RhbGVcIiwgZGVzY3JpcHRpb246IFwiXFxcInN0YWxlXFxcIlwiIH0sXG4gICAgICAgICAgXCJ0cnVlXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwidHJ1ZVwiLCBkZXNjcmlwdGlvbjogXCJcXFwidHJ1ZVxcXCJcIiB9LFxuICAgICAgICAgIGZ1bmN0aW9uKCkgeyBvcHRpb25zLmRhdGEuc3RhbGU9dHJ1ZTsgfSxcbiAgICAgICAgICBcImZhbHNlXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiZmFsc2VcIiwgZGVzY3JpcHRpb246IFwiXFxcImZhbHNlXFxcIlwiIH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7IG9wdGlvbnMuZGF0YS5zdGFsZT1mYWxzZTsgfSxcbiAgICAgICAgICBcImFsZ29yaXRobVwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcImFsZ29yaXRobVwiLCBkZXNjcmlwdGlvbjogXCJcXFwiYWxnb3JpdGhtXFxcIlwiIH0sXG4gICAgICAgICAgXCJtZDVcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJNRDVcIiwgZGVzY3JpcHRpb246IFwiXFxcIk1ENVxcXCJcIiB9LFxuICAgICAgICAgIFwibWQ1LXNlc3NcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJNRDUtc2Vzc1wiLCBkZXNjcmlwdGlvbjogXCJcXFwiTUQ1LXNlc3NcXFwiXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbihhbGdvcml0aG0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmFsZ29yaXRobT1hbGdvcml0aG0udG9VcHBlckNhc2UoKTsgfSxcbiAgICAgICAgICBcInFvcFwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcInFvcFwiLCBkZXNjcmlwdGlvbjogXCJcXFwicW9wXFxcIlwiIH0sXG4gICAgICAgICAgXCJhdXRoLWludFwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcImF1dGgtaW50XCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJhdXRoLWludFxcXCJcIiB9LFxuICAgICAgICAgIFwiYXV0aFwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcImF1dGhcIiwgZGVzY3JpcHRpb246IFwiXFxcImF1dGhcXFwiXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbihxb3BfdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEucW9wIHx8IChvcHRpb25zLmRhdGEucW9wPVtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEucW9wLnB1c2gocW9wX3ZhbHVlLnRvTG93ZXJDYXNlKCkpOyB9LFxuICAgICAgICAgIGZ1bmN0aW9uKHJhY2tfdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEudmFsdWU9cGFyc2VJbnQocmFja192YWx1ZS5qb2luKCcnKSk7IH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCwgbGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlbmd0aCA9IG9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXIubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXJbaWR4XS5wYXJzZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IG9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19LFxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoZWFkZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIW9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXIpIG9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyID0gbmV3IG9wdGlvbnMuU0lQLk5hbWVBZGRySGVhZGVyKG9wdGlvbnMuZGF0YS51cmksIG9wdGlvbnMuZGF0YS5kaXNwbGF5TmFtZSwgb3B0aW9ucy5kYXRhLnBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLnVyaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmRhdGEuZGlzcGxheU5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5kYXRhLnBhcmFtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5tdWx0aV9oZWFkZXIucHVzaCggeyAncG9zaXRpb24nOiBwZWckY3VyclBvcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvZmZzZXQnOiBvZmZzZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwYXJzZWQnOiBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTt9LFxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gbmV3IG9wdGlvbnMuU0lQLk5hbWVBZGRySGVhZGVyKG9wdGlvbnMuZGF0YS51cmksIG9wdGlvbnMuZGF0YS5kaXNwbGF5TmFtZSwgb3B0aW9ucy5kYXRhLnBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEob3B0aW9ucy5kYXRhLnJlcGxhY2VzX2Zyb21fdGFnICYmIG9wdGlvbnMuZGF0YS5yZXBsYWNlc190b190YWcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsX2lkOiBvcHRpb25zLmRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgXCJmcm9tLXRhZ1wiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcImZyb20tdGFnXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJmcm9tLXRhZ1xcXCJcIiB9LFxuICAgICAgICAgIGZ1bmN0aW9uKGZyb21fdGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5yZXBsYWNlc19mcm9tX3RhZyA9IGZyb21fdGFnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICBcInRvLXRhZ1wiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcInRvLXRhZ1wiLCBkZXNjcmlwdGlvbjogXCJcXFwidG8tdGFnXFxcIlwiIH0sXG4gICAgICAgICAgZnVuY3Rpb24odG9fdGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5yZXBsYWNlc190b190YWcgPSB0b190YWc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgIFwiZWFybHktb25seVwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcImVhcmx5LW9ubHlcIiwgZGVzY3JpcHRpb246IFwiXFxcImVhcmx5LW9ubHlcXFwiXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmVhcmx5X29ubHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICBmdW5jdGlvbihyKSB7cmV0dXJuIHI7fSxcbiAgICAgICAgICBmdW5jdGlvbihmaXJzdCwgcmVzdCkgeyByZXR1cm4gbGlzdChmaXJzdCwgcmVzdCk7IH0sXG4gICAgICAgICAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnRSdWxlID09PSAnUmVxdWlyZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEgPSB2YWx1ZSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICBmdW5jdGlvbihyc2VxX3ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnZhbHVlPXBhcnNlSW50KHJzZXFfdmFsdWUuam9pbignJykpOyB9LFxuICAgICAgICAgIFwiYWN0aXZlXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiYWN0aXZlXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJhY3RpdmVcXFwiXCIgfSxcbiAgICAgICAgICBcInBlbmRpbmdcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJwZW5kaW5nXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJwZW5kaW5nXFxcIlwiIH0sXG4gICAgICAgICAgXCJ0ZXJtaW5hdGVkXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwidGVybWluYXRlZFwiLCBkZXNjcmlwdGlvbjogXCJcXFwidGVybWluYXRlZFxcXCJcIiB9LFxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5zdGF0ZSA9IHRleHQoKTsgfSxcbiAgICAgICAgICBcInJlYXNvblwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcInJlYXNvblwiLCBkZXNjcmlwdGlvbjogXCJcXFwicmVhc29uXFxcIlwiIH0sXG4gICAgICAgICAgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZWFzb24gIT09ICd1bmRlZmluZWQnKSBvcHRpb25zLmRhdGEucmVhc29uID0gcmVhc29uOyB9LFxuICAgICAgICAgIGZ1bmN0aW9uKGV4cGlyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV4cGlyZXMgIT09ICd1bmRlZmluZWQnKSBvcHRpb25zLmRhdGEuZXhwaXJlcyA9IGV4cGlyZXM7IH0sXG4gICAgICAgICAgXCJyZXRyeV9hZnRlclwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcInJldHJ5X2FmdGVyXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJyZXRyeV9hZnRlclxcXCJcIiB9LFxuICAgICAgICAgIGZ1bmN0aW9uKHJldHJ5X2FmdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXRyeV9hZnRlciAhPT0gJ3VuZGVmaW5lZCcpIG9wdGlvbnMuZGF0YS5yZXRyeV9hZnRlciA9IHJldHJ5X2FmdGVyOyB9LFxuICAgICAgICAgIFwiZGVhY3RpdmF0ZWRcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJkZWFjdGl2YXRlZFwiLCBkZXNjcmlwdGlvbjogXCJcXFwiZGVhY3RpdmF0ZWRcXFwiXCIgfSxcbiAgICAgICAgICBcInByb2JhdGlvblwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcInByb2JhdGlvblwiLCBkZXNjcmlwdGlvbjogXCJcXFwicHJvYmF0aW9uXFxcIlwiIH0sXG4gICAgICAgICAgXCJyZWplY3RlZFwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcInJlamVjdGVkXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJyZWplY3RlZFxcXCJcIiB9LFxuICAgICAgICAgIFwidGltZW91dFwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcInRpbWVvdXRcIiwgZGVzY3JpcHRpb246IFwiXFxcInRpbWVvdXRcXFwiXCIgfSxcbiAgICAgICAgICBcImdpdmV1cFwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcImdpdmV1cFwiLCBkZXNjcmlwdGlvbjogXCJcXFwiZ2l2ZXVwXFxcIlwiIH0sXG4gICAgICAgICAgXCJub3Jlc291cmNlXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwibm9yZXNvdXJjZVwiLCBkZXNjcmlwdGlvbjogXCJcXFwibm9yZXNvdXJjZVxcXCJcIiB9LFxuICAgICAgICAgIFwiaW52YXJpYW50XCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiaW52YXJpYW50XCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJpbnZhcmlhbnRcXFwiXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zdGFydFJ1bGUgPT09ICdTdXBwb3J0ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gdmFsdWUgfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFnID0gb3B0aW9ucy5kYXRhLnRhZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gbmV3IG9wdGlvbnMuU0lQLk5hbWVBZGRySGVhZGVyKG9wdGlvbnMuZGF0YS51cmksIG9wdGlvbnMuZGF0YS5kaXNwbGF5TmFtZSwgb3B0aW9ucy5kYXRhLnBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWcpIHtvcHRpb25zLmRhdGEuc2V0UGFyYW0oJ3RhZycsdGFnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ0dGxcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJ0dGxcIiwgZGVzY3JpcHRpb246IFwiXFxcInR0bFxcXCJcIiB9LFxuICAgICAgICAgIGZ1bmN0aW9uKHZpYV90dGxfdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnR0bCA9IHZpYV90dGxfdmFsdWU7IH0sXG4gICAgICAgICAgXCJtYWRkclwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIm1hZGRyXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJtYWRkclxcXCJcIiB9LFxuICAgICAgICAgIGZ1bmN0aW9uKHZpYV9tYWRkcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEubWFkZHIgPSB2aWFfbWFkZHI7IH0sXG4gICAgICAgICAgXCJyZWNlaXZlZFwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcInJlY2VpdmVkXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJyZWNlaXZlZFxcXCJcIiB9LFxuICAgICAgICAgIGZ1bmN0aW9uKHZpYV9yZWNlaXZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEucmVjZWl2ZWQgPSB2aWFfcmVjZWl2ZWQ7IH0sXG4gICAgICAgICAgXCJicmFuY2hcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJicmFuY2hcIiwgZGVzY3JpcHRpb246IFwiXFxcImJyYW5jaFxcXCJcIiB9LFxuICAgICAgICAgIGZ1bmN0aW9uKHZpYV9icmFuY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmJyYW5jaCA9IHZpYV9icmFuY2g7IH0sXG4gICAgICAgICAgXCJycG9ydFwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcInJwb3J0XCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJycG9ydFxcXCJcIiB9LFxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgcmVzcG9uc2VfcG9ydCAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnJwb3J0ID0gcmVzcG9uc2VfcG9ydC5qb2luKCcnKTsgfSxcbiAgICAgICAgICBmdW5jdGlvbih2aWFfcHJvdG9jb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnByb3RvY29sID0gdmlhX3Byb3RvY29sOyB9LFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIlVEUFwiLCBkZXNjcmlwdGlvbjogXCJcXFwiVURQXFxcIlwiIH0sXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwiVENQXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJUQ1BcXFwiXCIgfSxcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJUTFNcIiwgZGVzY3JpcHRpb246IFwiXFxcIlRMU1xcXCJcIiB9LFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIlNDVFBcIiwgZGVzY3JpcHRpb246IFwiXFxcIlNDVFBcXFwiXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbih2aWFfdHJhbnNwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS50cmFuc3BvcnQgPSB2aWFfdHJhbnNwb3J0OyB9LFxuICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuaG9zdCA9IHRleHQoKTsgfSxcbiAgICAgICAgICBmdW5jdGlvbih2aWFfc2VudF9ieV9wb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5wb3J0ID0gcGFyc2VJbnQodmlhX3NlbnRfYnlfcG9ydC5qb2luKCcnKSk7IH0sXG4gICAgICAgICAgZnVuY3Rpb24odHRsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0dGwuam9pbignJykpOyB9LFxuICAgICAgICAgIGZ1bmN0aW9uKGRlbHRhU2Vjb25kcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zdGFydFJ1bGUgPT09ICdTZXNzaW9uX0V4cGlyZXMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLmRlbHRhU2Vjb25kcyA9IGRlbHRhU2Vjb25kcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICBcInJlZnJlc2hlclwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcInJlZnJlc2hlclwiLCBkZXNjcmlwdGlvbjogXCJcXFwicmVmcmVzaGVyXFxcIlwiIH0sXG4gICAgICAgICAgXCJ1YXNcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJ1YXNcIiwgZGVzY3JpcHRpb246IFwiXFxcInVhc1xcXCJcIiB9LFxuICAgICAgICAgIFwidWFjXCIsXG4gICAgICAgICAgeyB0eXBlOiBcImxpdGVyYWxcIiwgdmFsdWU6IFwidWFjXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJ1YWNcXFwiXCIgfSxcbiAgICAgICAgICBmdW5jdGlvbihlbmRwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zdGFydFJ1bGUgPT09ICdTZXNzaW9uX0V4cGlyZXMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhLnJlZnJlc2hlciA9IGVuZHBvaW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgIGZ1bmN0aW9uKGRlbHRhU2Vjb25kcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zdGFydFJ1bGUgPT09ICdNaW5fU0UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gZGVsdGFTZWNvbmRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgIFwic3R1bnNcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJzdHVuc1wiLCBkZXNjcmlwdGlvbjogXCJcXFwic3R1bnNcXFwiXCIgfSxcbiAgICAgICAgICBcInN0dW5cIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJzdHVuXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJzdHVuXFxcIlwiIH0sXG4gICAgICAgICAgZnVuY3Rpb24oc2NoZW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS5zY2hlbWUgPSBzY2hlbWU7IH0sXG4gICAgICAgICAgZnVuY3Rpb24oaG9zdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRhdGEuaG9zdCA9IGhvc3Q7IH0sXG4gICAgICAgICAgXCI/dHJhbnNwb3J0PVwiLFxuICAgICAgICAgIHsgdHlwZTogXCJsaXRlcmFsXCIsIHZhbHVlOiBcIj90cmFuc3BvcnQ9XCIsIGRlc2NyaXB0aW9uOiBcIlxcXCI/dHJhbnNwb3J0PVxcXCJcIiB9LFxuICAgICAgICAgIFwidHVybnNcIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJ0dXJuc1wiLCBkZXNjcmlwdGlvbjogXCJcXFwidHVybnNcXFwiXCIgfSxcbiAgICAgICAgICBcInR1cm5cIixcbiAgICAgICAgICB7IHR5cGU6IFwibGl0ZXJhbFwiLCB2YWx1ZTogXCJ0dXJuXCIsIGRlc2NyaXB0aW9uOiBcIlxcXCJ0dXJuXFxcIlwiIH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZGF0YS50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7IH0sXG4gICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kYXRhID0gdGV4dCgpOyB9XG4gICAgICAgIF0sXG5cbiAgICAgICAgcGVnJGJ5dGVjb2RlID0gW1xuICAgICAgICAgIHBlZyRkZWNvZGUoXCIuIFxcXCJcXFwiMiAzIVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiMFxcXCJcXFwiXFxcIjEhMyNcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIjAkXFxcIlxcXCIxITMlXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIwJlxcXCJcXFwiMSEzJ1wiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiNycqIyBcXFwiNyhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIjAoXFxcIlxcXCIxITMpXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIwKlxcXCJcXFwiMSEzK1wiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiLixcXFwiXFxcIjIsMy1cIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIi4uXFxcIlxcXCIyLjMvXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIwMFxcXCJcXFwiMSEzMVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiLjJcXFwiXFxcIjIyMzMqXFx4ODkgXFxcIi40XFxcIlxcXCIyNDM1Kn0gXFxcIi42XFxcIlxcXCIyNjM3KnEgXFxcIi44XFxcIlxcXCIyODM5KmUgXFxcIi46XFxcIlxcXCIyOjM7KlkgXFxcIi48XFxcIlxcXCIyPDM9Kk0gXFxcIi4+XFxcIlxcXCIyPjM/KkEgXFxcIi5AXFxcIlxcXCIyQDNBKjUgXFxcIi5CXFxcIlxcXCIyQjNDKikgXFxcIi5EXFxcIlxcXCIyRDNFXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCI3KSojIFxcXCI3LFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiLkZcXFwiXFxcIjJGM0cqfSBcXFwiLkhcXFwiXFxcIjJIM0kqcSBcXFwiLkpcXFwiXFxcIjJKM0sqZSBcXFwiLkxcXFwiXFxcIjJMM00qWSBcXFwiLk5cXFwiXFxcIjJOM08qTSBcXFwiLlBcXFwiXFxcIjJQM1EqQSBcXFwiLlJcXFwiXFxcIjJSM1MqNSBcXFwiLlRcXFwiXFxcIjJUM1UqKSBcXFwiLlZcXFwiXFxcIjJWM1dcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEhLllcXFwiXFxcIjJZM1orNyQ3IystJTcjKyMlJyMlJCMjIFgkXFxcIiMgWFxcXCIjIFgrISAoJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiISEgXFxcXDckLCMmNyRcXFwiKy0kNyArIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFsrQCQgXFxcXDckKyYkLCMmNyRcXFwiXFxcIlxcXCIgWCsnJTRcXFwiNl1cXFwiICUkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIjcuKiMgXFxcIiBbXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhIFxcXFw3JyojIFxcXCI3KCwpJjcnKiMgXFxcIjcoXFxcIitBJC44XFxcIlxcXCIyODM5KzElNy8rJyU0IzZeIyAlJCMjIFgkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEhIFxcXFw3MismJCwjJjcyXFxcIlxcXCJcXFwiIFgrbyQgXFxcXCEgXFxcXDcuLCMmNy5cXFwiKy0kNzIrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgsQCYhIFxcXFw3LiwjJjcuXFxcIistJDcyKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYXFxcIisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCshICglXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIwX1xcXCJcXFwiMSEzYCojIFxcXCI3M1wiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiMGFcXFwiXFxcIjEhM2JcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIjBjXFxcIlxcXCIxITNkXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCI3ISopIFxcXCIwZVxcXCJcXFwiMSEzZlwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiISBcXFxcNykqXFx4OTUgXFxcIi5GXFxcIlxcXCIyRjNHKlxceDg5IFxcXCIuSlxcXCJcXFwiMkozSyp9IFxcXCIuTFxcXCJcXFwiMkwzTSpxIFxcXCIuWVxcXCJcXFwiMlkzWiplIFxcXCIuUFxcXCJcXFwiMlAzUSpZIFxcXCIuSFxcXCJcXFwiMkgzSSpNIFxcXCIuQFxcXCJcXFwiMkAzQSpBIFxcXCIuZ1xcXCJcXFwiMmczaCo1IFxcXCIuUlxcXCJcXFwiMlIzUyopIFxcXCIuTlxcXCJcXFwiMk4zTytcXHg5RSQsXFx4OUImNykqXFx4OTUgXFxcIi5GXFxcIlxcXCIyRjNHKlxceDg5IFxcXCIuSlxcXCJcXFwiMkozSyp9IFxcXCIuTFxcXCJcXFwiMkwzTSpxIFxcXCIuWVxcXCJcXFwiMlkzWiplIFxcXCIuUFxcXCJcXFwiMlAzUSpZIFxcXCIuSFxcXCJcXFwiMkgzSSpNIFxcXCIuQFxcXCJcXFwiMkAzQSpBIFxcXCIuZ1xcXCJcXFwiMmczaCo1IFxcXCIuUlxcXCJcXFwiMlIzUyopIFxcXCIuTlxcXCJcXFwiMk4zT1xcXCJcXFwiXFxcIiBYKyEgKCVcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEgXFxcXDcpKlxceDg5IFxcXCIuRlxcXCJcXFwiMkYzRyp9IFxcXCIuTFxcXCJcXFwiMkwzTSpxIFxcXCIuWVxcXCJcXFwiMlkzWiplIFxcXCIuUFxcXCJcXFwiMlAzUSpZIFxcXCIuSFxcXCJcXFwiMkgzSSpNIFxcXCIuQFxcXCJcXFwiMkAzQSpBIFxcXCIuZ1xcXCJcXFwiMmczaCo1IFxcXCIuUlxcXCJcXFwiMlIzUyopIFxcXCIuTlxcXCJcXFwiMk4zTytcXHg5MiQsXFx4OEYmNykqXFx4ODkgXFxcIi5GXFxcIlxcXCIyRjNHKn0gXFxcIi5MXFxcIlxcXCIyTDNNKnEgXFxcIi5ZXFxcIlxcXCIyWTNaKmUgXFxcIi5QXFxcIlxcXCIyUDNRKlkgXFxcIi5IXFxcIlxcXCIySDNJKk0gXFxcIi5AXFxcIlxcXCIyQDNBKkEgXFxcIi5nXFxcIlxcXCIyZzNoKjUgXFxcIi5SXFxcIlxcXCIyUjNTKikgXFxcIi5OXFxcIlxcXCIyTjNPXFxcIlxcXCJcXFwiIFgrISAoJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiLlRcXFwiXFxcIjJUM1UqXFx4RTMgXFxcIi5WXFxcIlxcXCIyVjNXKlxceEQ3IFxcXCIuaVxcXCJcXFwiMmkzaipcXHhDQiBcXFwiLmtcXFwiXFxcIjJrM2wqXFx4QkYgXFxcIi46XFxcIlxcXCIyOjM7KlxceEIzIFxcXCIuRFxcXCJcXFwiMkQzRSpcXHhBNyBcXFwiLjJcXFwiXFxcIjIyMzMqXFx4OUIgXFxcIi44XFxcIlxcXCIyODM5KlxceDhGIFxcXCIubVxcXCJcXFwiMm0zbipcXHg4MyBcXFwiNyYqfSBcXFwiLjRcXFwiXFxcIjI0MzUqcSBcXFwiLm9cXFwiXFxcIjJvM3AqZSBcXFwiLnFcXFwiXFxcIjJxM3IqWSBcXFwiLjZcXFwiXFxcIjI2MzcqTSBcXFwiLj5cXFwiXFxcIjI+Mz8qQSBcXFwiLnNcXFwiXFxcIjJzM3QqNSBcXFwiLnVcXFwiXFxcIjJ1M3YqKSBcXFwiNycqIyBcXFwiNyhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEgXFxcXDcpKlxcdTAxMkIgXFxcIi5GXFxcIlxcXCIyRjNHKlxcdTAxMUYgXFxcIi5KXFxcIlxcXCIySjNLKlxcdTAxMTMgXFxcIi5MXFxcIlxcXCIyTDNNKlxcdTAxMDcgXFxcIi5ZXFxcIlxcXCIyWTNaKlxceEZCIFxcXCIuUFxcXCJcXFwiMlAzUSpcXHhFRiBcXFwiLkhcXFwiXFxcIjJIM0kqXFx4RTMgXFxcIi5AXFxcIlxcXCIyQDNBKlxceEQ3IFxcXCIuZ1xcXCJcXFwiMmczaCpcXHhDQiBcXFwiLlJcXFwiXFxcIjJSM1MqXFx4QkYgXFxcIi5OXFxcIlxcXCIyTjNPKlxceEIzIFxcXCIuVFxcXCJcXFwiMlQzVSpcXHhBNyBcXFwiLlZcXFwiXFxcIjJWM1cqXFx4OUIgXFxcIi5pXFxcIlxcXCIyaTNqKlxceDhGIFxcXCIua1xcXCJcXFwiMmszbCpcXHg4MyBcXFwiLjhcXFwiXFxcIjI4MzkqdyBcXFwiLm1cXFwiXFxcIjJtM24qayBcXFwiNyYqZSBcXFwiLjRcXFwiXFxcIjI0MzUqWSBcXFwiLm9cXFwiXFxcIjJvM3AqTSBcXFwiLnFcXFwiXFxcIjJxM3IqQSBcXFwiLjZcXFwiXFxcIjI2MzcqNSBcXFwiLnNcXFwiXFxcIjJzM3QqKSBcXFwiLnVcXFwiXFxcIjJ1M3YrXFx1MDEzNCQsXFx1MDEzMSY3KSpcXHUwMTJCIFxcXCIuRlxcXCJcXFwiMkYzRypcXHUwMTFGIFxcXCIuSlxcXCJcXFwiMkozSypcXHUwMTEzIFxcXCIuTFxcXCJcXFwiMkwzTSpcXHUwMTA3IFxcXCIuWVxcXCJcXFwiMlkzWipcXHhGQiBcXFwiLlBcXFwiXFxcIjJQM1EqXFx4RUYgXFxcIi5IXFxcIlxcXCIySDNJKlxceEUzIFxcXCIuQFxcXCJcXFwiMkAzQSpcXHhENyBcXFwiLmdcXFwiXFxcIjJnM2gqXFx4Q0IgXFxcIi5SXFxcIlxcXCIyUjNTKlxceEJGIFxcXCIuTlxcXCJcXFwiMk4zTypcXHhCMyBcXFwiLlRcXFwiXFxcIjJUM1UqXFx4QTcgXFxcIi5WXFxcIlxcXCIyVjNXKlxceDlCIFxcXCIuaVxcXCJcXFwiMmkzaipcXHg4RiBcXFwiLmtcXFwiXFxcIjJrM2wqXFx4ODMgXFxcIi44XFxcIlxcXCIyODM5KncgXFxcIi5tXFxcIlxcXCIybTNuKmsgXFxcIjcmKmUgXFxcIi40XFxcIlxcXCIyNDM1KlkgXFxcIi5vXFxcIlxcXCIybzNwKk0gXFxcIi5xXFxcIlxcXCIycTNyKkEgXFxcIi42XFxcIlxcXCIyNjM3KjUgXFxcIi5zXFxcIlxcXCIyczN0KikgXFxcIi51XFxcIlxcXCIydTN2XFxcIlxcXCJcXFwiIFgrISAoJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITcvK0EkLlBcXFwiXFxcIjJQM1ErMSU3LysnJTQjNncjICUkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITcvK0EkLjRcXFwiXFxcIjI0MzUrMSU3LysnJTQjNngjICUkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITcvK0EkLj5cXFwiXFxcIjI+Mz8rMSU3LysnJTQjNnkjICUkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITcvK0EkLlRcXFwiXFxcIjJUM1UrMSU3LysnJTQjNnojICUkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITcvK0EkLlZcXFwiXFxcIjJWM1crMSU3LysnJTQjNnsjICUkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIS5rXFxcIlxcXCIyazNsKzEkNy8rJyU0XFxcIjZ8XFxcIiAlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhNy8rNyQuaVxcXCJcXFwiMmkzaisnJTRcXFwiNn1cXFwiICUkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3LytBJC5EXFxcIlxcXCIyRDNFKzElNy8rJyU0IzZ+IyAlJCMjIFgkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3LytBJC4yXFxcIlxcXCIyMjMzKzElNy8rJyU0IzZ/IyAlJCMjIFgkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3LytBJC44XFxcIlxcXCIyODM5KzElNy8rJyU0IzZcXHg4MCMgJSQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhNy8rMSQ3JisnJTRcXFwiNlxceDgxXFxcIiAlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhNyYrMSQ3LysnJTRcXFwiNlxceDgxXFxcIiAlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhNz0rVyQgXFxcXDdHKikgXFxcIjdLKiMgXFxcIjdGLC8mN0cqKSBcXFwiN0sqIyBcXFwiN0ZcXFwiKy0lNz4rIyUnIyUkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiMFxceDgyXFxcIlxcXCIxITNcXHg4MypBIFxcXCIwXFx4ODRcXFwiXFxcIjEhM1xceDg1KjUgXFxcIjBcXHg4NlxcXCJcXFwiMSEzXFx4ODcqKSBcXFwiNzMqIyBcXFwiNy5cIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEhNy8rVSQ3JitLJSBcXFxcN0oqIyBcXFwiN0ssKSY3SiojIFxcXCI3S1xcXCIrLSU3JisjJSckJSQkIyBYJCMjIFgkXFxcIiMgWFxcXCIjIFgrISAoJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITcvK2AkNyYrViUhIFxcXFw3SiojIFxcXCI3SywpJjdKKiMgXFxcIjdLXFxcIishICglKzIlNyYrKCU0JDZcXHg4OCQhISUkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCI3LipHIFxcXCIuTFxcXCJcXFwiMkwzTSo7IFxcXCIwXFx4ODlcXFwiXFxcIjEhM1xceDhBKi8gXFxcIjBcXHg4NlxcXCJcXFwiMSEzXFx4ODcqIyBcXFwiNzNcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEubVxcXCJcXFwiMm0zbitLJDBcXHg4QlxcXCJcXFwiMSEzXFx4OEMqNSBcXFwiMFxceDhEXFxcIlxcXCIxITNcXHg4RSopIFxcXCIwXFx4OEZcXFwiXFxcIjEhM1xceDkwKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN04rUSQuOFxcXCJcXFwiMjgzOStBJTdPKiMgXFxcIiBbKzElN1MrJyU0JDZcXHg5MSQgJSQkIyBYJCMjIFgkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3TitrJC44XFxcIlxcXCIyODM5K1slN08qIyBcXFwiIFsrSyU3UytBJTdfKzclN2wqIyBcXFwiIFsrJyU0JjZcXHg5MiYgJSQmIyBYJCUjIFgkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhL1xceDkzXFxcIlxcXCIxJDNcXHg5NCopIFxcXCIvXFx4OTVcXFwiXFxcIjEjM1xceDk2KycgNCE2XFx4OTchISAlXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN1ArYiQhLjhcXFwiXFxcIjI4MzkrLSQ3UisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCojIFxcXCIgWys3JS46XFxcIlxcXCIyOjM7KyclNCM2XFx4OTgjICUkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIFxcXFw3KyopIFxcXCI3LSojIFxcXCI3USsyJCwvJjcrKikgXFxcIjctKiMgXFxcIjdRXFxcIlxcXCJcXFwiIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIi48XFxcIlxcXCIyPDM9KnEgXFxcIi4+XFxcIlxcXCIyPjM/KmUgXFxcIi5AXFxcIlxcXCIyQDNBKlkgXFxcIi5CXFxcIlxcXCIyQjNDKk0gXFxcIi5EXFxcIlxcXCIyRDNFKkEgXFxcIi4yXFxcIlxcXCIyMjMzKjUgXFxcIi42XFxcIlxcXCIyNjM3KikgXFxcIi40XFxcIlxcXCIyNDM1XCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhIFxcXFw3KypfIFxcXCI3LSpZIFxcXCIuPFxcXCJcXFwiMjwzPSpNIFxcXCIuPlxcXCJcXFwiMj4zPypBIFxcXCIuQFxcXCJcXFwiMkAzQSo1IFxcXCIuQlxcXCJcXFwiMkIzQyopIFxcXCIuRFxcXCJcXFwiMkQzRSxlJjcrKl8gXFxcIjctKlkgXFxcIi48XFxcIlxcXCIyPDM9Kk0gXFxcIi4+XFxcIlxcXCIyPjM/KkEgXFxcIi5AXFxcIlxcXCIyQDNBKjUgXFxcIi5CXFxcIlxcXCIyQjNDKikgXFxcIi5EXFxcIlxcXCIyRDNFXFxcIismIDQhNlxceDk5ISAlXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN1QrTiQhLjhcXFwiXFxcIjI4MzkrLSQ3XisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCojIFxcXCIgWysjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdVKikgXFxcIjdcXFxcKiMgXFxcIjdYKyYgNCE2XFx4OUEhICVcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEgXFxcXCE3ViszJC5KXFxcIlxcXCIySjNLKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYLD4mITdWKzMkLkpcXFwiXFxcIjJKM0srIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcXFwiK0ckN1crPSUuSlxcXCJcXFwiMkozSyojIFxcXCIgWysnJTQjNlxceDlCIyAlJCMjIFgkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiBcXFxcMFxceDlDXFxcIlxcXCIxITNcXHg5RCssJCwpJjBcXHg5Q1xcXCJcXFwiMSEzXFx4OURcXFwiXFxcIlxcXCIgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITAkXFxcIlxcXCIxITMlK0EkIFxcXFwwXFx4OUVcXFwiXFxcIjEhM1xceDlGLCkmMFxceDlFXFxcIlxcXCIxITNcXHg5RlxcXCIrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEub1xcXCJcXFwiMm8zcCtBJDdZKzclLnFcXFwiXFxcIjJxM3IrJyU0IzZcXHhBMCMgJSQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhITdaK1xceEJGJC44XFxcIlxcXCIyODM5K1xceEFGJTdaK1xceEE1JS44XFxcIlxcXCIyODM5K1xceDk1JTdaK1xceDhCJS44XFxcIlxcXCIyODM5K3slN1orcSUuOFxcXCJcXFwiMjgzOSthJTdaK1clLjhcXFwiXFxcIjI4MzkrRyU3Wis9JS44XFxcIlxcXCIyODM5Ky0lN1srIyUnLSUkLSMgWCQsIyBYJCsjIFgkKiMgWCQpIyBYJCgjIFgkJyMgWCQmIyBYJCUjIFgkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYKlxcdTA4MzggXFxcIiEuXFx4QTFcXFwiXFxcIjJcXHhBMTNcXHhBMitcXHhBRiQ3WitcXHhBNSUuOFxcXCJcXFwiMjgzOStcXHg5NSU3WitcXHg4QiUuOFxcXCJcXFwiMjgzOSt7JTdaK3ElLjhcXFwiXFxcIjI4MzkrYSU3WitXJS44XFxcIlxcXCIyODM5K0clN1orPSUuOFxcXCJcXFwiMjgzOSstJTdbKyMlJywlJCwjIFgkKyMgWCQqIyBYJCkjIFgkKCMgWCQnIyBYJCYjIFgkJSMgWCQkIyBYJCMjIFgkXFxcIiMgWFxcXCIjIFgqXFx1MDc5NSBcXFwiIS5cXHhBMVxcXCJcXFwiMlxceEExM1xceEEyK1xceDk1JDdaK1xceDhCJS44XFxcIlxcXCIyODM5K3slN1orcSUuOFxcXCJcXFwiMjgzOSthJTdaK1clLjhcXFwiXFxcIjI4MzkrRyU3Wis9JS44XFxcIlxcXCIyODM5Ky0lN1srIyUnKiUkKiMgWCQpIyBYJCgjIFgkJyMgWCQmIyBYJCUjIFgkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYKlxcdTA3MEMgXFxcIiEuXFx4QTFcXFwiXFxcIjJcXHhBMTNcXHhBMit7JDdaK3ElLjhcXFwiXFxcIjI4MzkrYSU3WitXJS44XFxcIlxcXCIyODM5K0clN1orPSUuOFxcXCJcXFwiMjgzOSstJTdbKyMlJyglJCgjIFgkJyMgWCQmIyBYJCUjIFgkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYKlxcdTA2OUQgXFxcIiEuXFx4QTFcXFwiXFxcIjJcXHhBMTNcXHhBMithJDdaK1clLjhcXFwiXFxcIjI4MzkrRyU3Wis9JS44XFxcIlxcXCIyODM5Ky0lN1srIyUnJiUkJiMgWCQlIyBYJCQjIFgkIyMgWCRcXFwiIyBYXFxcIiMgWCpcXHUwNjQ4IFxcXCIhLlxceEExXFxcIlxcXCIyXFx4QTEzXFx4QTIrRyQ3Wis9JS44XFxcIlxcXCIyODM5Ky0lN1srIyUnJCUkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYKlxcdTA2MEQgXFxcIiEuXFx4QTFcXFwiXFxcIjJcXHhBMTNcXHhBMistJDdbKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYKlxcdTA1RUMgXFxcIiEuXFx4QTFcXFwiXFxcIjJcXHhBMTNcXHhBMistJDdaKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYKlxcdTA1Q0IgXFxcIiE3WitcXHhBNSQuXFx4QTFcXFwiXFxcIjJcXHhBMTNcXHhBMitcXHg5NSU3WitcXHg4QiUuOFxcXCJcXFwiMjgzOSt7JTdaK3ElLjhcXFwiXFxcIjI4MzkrYSU3WitXJS44XFxcIlxcXCIyODM5K0clN1orPSUuOFxcXCJcXFwiMjgzOSstJTdbKyMlJyslJCsjIFgkKiMgWCQpIyBYJCgjIFgkJyMgWCQmIyBYJCUjIFgkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYKlxcdTA1MzggXFxcIiE3WitcXHhCNiQhLjhcXFwiXFxcIjI4MzkrLSQ3WisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCojIFxcXCIgWytcXHg4QiUuXFx4QTFcXFwiXFxcIjJcXHhBMTNcXHhBMit7JTdaK3ElLjhcXFwiXFxcIjI4MzkrYSU3WitXJS44XFxcIlxcXCIyODM5K0clN1orPSUuOFxcXCJcXFwiMjgzOSstJTdbKyMlJyolJCojIFgkKSMgWCQoIyBYJCcjIFgkJiMgWCQlIyBYJCQjIFgkIyMgWCRcXFwiIyBYXFxcIiMgWCpcXHUwNDk0IFxcXCIhN1orXFx4QzckIS44XFxcIlxcXCIyODM5Ky0kN1orIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFsrXFx4OUMlIS44XFxcIlxcXCIyODM5Ky0kN1orIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFsrcSUuXFx4QTFcXFwiXFxcIjJcXHhBMTNcXHhBMithJTdaK1clLjhcXFwiXFxcIjI4MzkrRyU3Wis9JS44XFxcIlxcXCIyODM5Ky0lN1srIyUnKSUkKSMgWCQoIyBYJCcjIFgkJiMgWCQlIyBYJCQjIFgkIyMgWCRcXFwiIyBYXFxcIiMgWCpcXHUwM0RGIFxcXCIhN1orXFx4RDgkIS44XFxcIlxcXCIyODM5Ky0kN1orIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFsrXFx4QUQlIS44XFxcIlxcXCIyODM5Ky0kN1orIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFsrXFx4ODIlIS44XFxcIlxcXCIyODM5Ky0kN1orIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFsrVyUuXFx4QTFcXFwiXFxcIjJcXHhBMTNcXHhBMitHJTdaKz0lLjhcXFwiXFxcIjI4MzkrLSU3WysjJScoJSQoIyBYJCcjIFgkJiMgWCQlIyBYJCQjIFgkIyMgWCRcXFwiIyBYXFxcIiMgWCpcXHUwMzE5IFxcXCIhN1orXFx4RTkkIS44XFxcIlxcXCIyODM5Ky0kN1orIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFsrXFx4QkUlIS44XFxcIlxcXCIyODM5Ky0kN1orIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFsrXFx4OTMlIS44XFxcIlxcXCIyODM5Ky0kN1orIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFsraCUhLjhcXFwiXFxcIjI4MzkrLSQ3WisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCojIFxcXCIgWys9JS5cXHhBMVxcXCJcXFwiMlxceEExM1xceEEyKy0lN1srIyUnJyUkJyMgWCQmIyBYJCUjIFgkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYKlxcdTAyNDIgXFxcIiE3WitcXHUwMTE0JCEuOFxcXCJcXFwiMjgzOSstJDdaKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYKiMgXFxcIiBbK1xceEU5JSEuOFxcXCJcXFwiMjgzOSstJDdaKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYKiMgXFxcIiBbK1xceEJFJSEuOFxcXCJcXFwiMjgzOSstJDdaKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYKiMgXFxcIiBbK1xceDkzJSEuOFxcXCJcXFwiMjgzOSstJDdaKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYKiMgXFxcIiBbK2glIS44XFxcIlxcXCIyODM5Ky0kN1orIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFsrPSUuXFx4QTFcXFwiXFxcIjJcXHhBMTNcXHhBMistJTdaKyMlJyglJCgjIFgkJyMgWCQmIyBYJCUjIFgkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYKlxcdTAxNDAgXFxcIiE3WitcXHUwMTM1JCEuOFxcXCJcXFwiMjgzOSstJDdaKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYKiMgXFxcIiBbK1xcdTAxMEElIS44XFxcIlxcXCIyODM5Ky0kN1orIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFsrXFx4REYlIS44XFxcIlxcXCIyODM5Ky0kN1orIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFsrXFx4QjQlIS44XFxcIlxcXCIyODM5Ky0kN1orIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFsrXFx4ODklIS44XFxcIlxcXCIyODM5Ky0kN1orIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFsrXiUhLjhcXFwiXFxcIjI4MzkrLSQ3WisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCojIFxcXCIgWyszJS5cXHhBMVxcXCJcXFwiMlxceEExM1xceEEyKyMlJyglJCgjIFgkJyMgWCQmIyBYJCUjIFgkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYKyYgNCE2XFx4QTMhICVcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3IytTJDcjKiMgXFxcIiBbK0MlNyMqIyBcXFwiIFsrMyU3IyojIFxcXCIgWysjJSckJSQkIyBYJCMjIFgkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3Wis9JC44XFxcIlxcXCIyODM5Ky0lN1orIyUnIyUkIyMgWCRcXFwiIyBYXFxcIiMgWCojIFxcXCI3XFxcXFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITddK3UkLkpcXFwiXFxcIjJKM0srZSU3XStbJS5KXFxcIlxcXCIySjNLK0slN10rQSUuSlxcXCJcXFwiMkozSysxJTddKyclNCc2XFx4QTQnICUkJyMgWCQmIyBYJCUjIFgkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhLlxceEE1XFxcIlxcXCIyXFx4QTUzXFx4QTYrMyQwXFx4QTdcXFwiXFxcIjEhM1xceEE4KyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYKlxceEEwIFxcXCIhLlxceEE5XFxcIlxcXCIyXFx4QTkzXFx4QUErPSQwXFx4QUJcXFwiXFxcIjEhM1xceEFDKy0lNyErIyUnIyUkIyMgWCRcXFwiIyBYXFxcIiMgWCpvIFxcXCIhLlxceEFEXFxcIlxcXCIyXFx4QUQzXFx4QUUrNyQ3ISstJTchKyMlJyMlJCMjIFgkXFxcIiMgWFxcXCIjIFgqRCBcXFwiITBcXHhBRlxcXCJcXFwiMSEzXFx4QjArLSQ3ISsjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCojIFxcXCI3IVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiISE3ISojIFxcXCIgWytjJDchKiMgXFxcIiBbK1MlNyEqIyBcXFwiIFsrQyU3ISojIFxcXCIgWyszJTchKiMgXFxcIiBbKyMlJyUlJCUjIFgkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYKycgNCE2XFx4QjEhISAlXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIgXFxcXCEuMlxcXCJcXFwiMjIzMystJDdgKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYLD4mIS4yXFxcIlxcXCIyMjMzKy0kN2ArIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcXFwiXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCI3YSpBIFxcXCI3Yio7IFxcXCI3Yyo1IFxcXCI3ZCovIFxcXCI3ZSopIFxcXCI3ZiojIFxcXCI3Z1wiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIS9cXHhCMlxcXCJcXFwiMSozXFx4QjMrYiQvXFx4QjRcXFwiXFxcIjEjM1xceEI1KkcgXFxcIi9cXHhCNlxcXCJcXFwiMSMzXFx4QjcqOyBcXFwiL1xceEI4XFxcIlxcXCIxJDNcXHhCOSovIFxcXCIvXFx4QkFcXFwiXFxcIjEjM1xceEJCKiMgXFxcIjc2KyglNFxcXCI2XFx4QkNcXFwiISAlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhL1xceEJEXFxcIlxcXCIxJTNcXHhCRStKJC9cXHhCRlxcXCJcXFwiMSUzXFx4QzAqLyBcXFwiL1xceEMxXFxcIlxcXCIxXFxcIjNcXHhDMiojIFxcXCI3NisoJTRcXFwiNlxceEMzXFxcIiEgJSRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIS9cXHhDNFxcXCJcXFwiMSczXFx4QzUrMiQ3XFx4OEYrKCU0XFxcIjZcXHhDNlxcXCIhICUkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEvXFx4QzdcXFwiXFxcIjEkM1xceEM4KzIkN1xceEVGKyglNFxcXCI2XFx4QzlcXFwiISAlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhL1xceENBXFxcIlxcXCIxJjNcXHhDQisyJDdUKyglNFxcXCI2XFx4Q0NcXFwiISAlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhL1xceENEXFxcIlxcXCIxXFxcIjNcXHhDRStSJCEuPlxcXCJcXFwiMj4zPystJDc2KyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYKiMgXFxcIiBbKyclNFxcXCI2XFx4Q0ZcXFwiICUkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3aCtUJCEuPlxcXCJcXFwiMj4zPystJDdpKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYKiMgXFxcIiBbKyklNFxcXCI2XFx4RDBcXFwiXFxcIiEgJSRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiISBcXFxcN2orJiQsIyY3alxcXCJcXFwiXFxcIiBYKyEgKCVcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEgXFxcXDdqKyYkLCMmN2pcXFwiXFxcIlxcXCIgWCshICglXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCI3ayopIFxcXCI3KyojIFxcXCI3LVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiLm9cXFwiXFxcIjJvM3AqZSBcXFwiLnFcXFwiXFxcIjJxM3IqWSBcXFwiLjRcXFwiXFxcIjI0MzUqTSBcXFwiLjhcXFwiXFxcIjI4MzkqQSBcXFwiLjxcXFwiXFxcIjI8Mz0qNSBcXFwiLkBcXFwiXFxcIjJAM0EqKSBcXFwiLkJcXFwiXFxcIjJCM0NcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEuNlxcXCJcXFwiMjYzNyt1JDdtK2slIFxcXFwhLjxcXFwiXFxcIjI8Mz0rLSQ3bSsjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCw+JiEuPFxcXCJcXFwiMjwzPSstJDdtKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYXFxcIisjJScjJSQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN24rQyQuPlxcXCJcXFwiMj4zPyszJTdvKyklNCM2XFx4RDEjXFxcIlxcXCIgJSQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIgXFxcXDdwKikgXFxcIjcrKiMgXFxcIjctKzIkLC8mN3AqKSBcXFwiNysqIyBcXFwiNy1cXFwiXFxcIlxcXCIgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIFxcXFw3cCopIFxcXCI3KyojIFxcXCI3LSwvJjdwKikgXFxcIjcrKiMgXFxcIjctXFxcIlwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiLm9cXFwiXFxcIjJvM3AqZSBcXFwiLnFcXFwiXFxcIjJxM3IqWSBcXFwiLjRcXFwiXFxcIjI0MzUqTSBcXFwiLjZcXFwiXFxcIjI2MzcqQSBcXFwiLjhcXFwiXFxcIjI4MzkqNSBcXFwiLkBcXFwiXFxcIjJAM0EqKSBcXFwiLkJcXFwiXFxcIjJCM0NcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIjdcXHg5MCojIFxcXCI3clwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdcXHg4RitLJDcnK0ElN3MrNyU3JystJTdcXHg4NCsjJSclJSQlIyBYJCQjIFgkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiN00qIyBcXFwiN3RcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3fytHJC44XFxcIlxcXCIyODM5KzclN3UqIyBcXFwiN3grJyU0IzZcXHhEMiMgJSQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN3YqIyBcXFwiN3crTiQhLjZcXFwiXFxcIjI2MzcrLSQ3XFx4ODMrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFsrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEuXFx4RDNcXFwiXFxcIjJcXHhEMzNcXHhENCs9JDdcXHg4MCszJTd3KiMgXFxcIiBbKyMlJyMlJCMjIFgkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEuNFxcXCJcXFwiMjQzNSstJDd7KyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN3orNSQgXFxcXDd5LCMmN3lcXFwiKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCI3KiopIFxcXCI3KyojIFxcXCI3LVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiNysqXFx4OEYgXFxcIjctKlxceDg5IFxcXCIuMlxcXCJcXFwiMjIzMyp9IFxcXCIuNlxcXCJcXFwiMjYzNypxIFxcXCIuOFxcXCJcXFwiMjgzOSplIFxcXCIuOlxcXCJcXFwiMjozOypZIFxcXCIuPFxcXCJcXFwiMjwzPSpNIFxcXCIuPlxcXCJcXFwiMj4zPypBIFxcXCIuQFxcXCJcXFwiMkAzQSo1IFxcXCIuQlxcXCJcXFwiMkIzQyopIFxcXCIuRFxcXCJcXFwiMkQzRVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITd8K2skIFxcXFwhLjRcXFwiXFxcIjI0MzUrLSQ3fCsjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCw+JiEuNFxcXCJcXFwiMjQzNSstJDd8KyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYXFxcIisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiISBcXFxcN34sIyY3flxcXCIrayQgXFxcXCEuMlxcXCJcXFwiMjIzMystJDd9KyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYLD4mIS4yXFxcIlxcXCIyMjMzKy0kN30rIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcXFwiKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIgXFxcXDd+LCMmN35cXFwiXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCI3Kyp3IFxcXCI3LSpxIFxcXCIuOFxcXCJcXFwiMjgzOSplIFxcXCIuOlxcXCJcXFwiMjozOypZIFxcXCIuPFxcXCJcXFwiMjwzPSpNIFxcXCIuPlxcXCJcXFwiMj4zPypBIFxcXCIuQFxcXCJcXFwiMkAzQSo1IFxcXCIuQlxcXCJcXFwiMkIzQyopIFxcXCIuRFxcXCJcXFwiMkQzRVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdcXFwiK1xceDhEJCBcXFxcN1xcXCIqRyBcXFwiNyEqQSBcXFwiLkBcXFwiXFxcIjJAM0EqNSBcXFwiLkZcXFwiXFxcIjJGM0cqKSBcXFwiLkpcXFwiXFxcIjJKM0ssTSY3XFxcIipHIFxcXCI3ISpBIFxcXCIuQFxcXCJcXFwiMkAzQSo1IFxcXCIuRlxcXCJcXFwiMkYzRyopIFxcXCIuSlxcXCJcXFwiMkozS1xcXCIrJyU0XFxcIjZcXHhENVxcXCIgJSRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiN1xceDgxKiMgXFxcIjdcXHg4MlwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiISE3TyszJC46XFxcIlxcXCIyOjM7KyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYKiMgXFxcIiBbKy0kN1MrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFtcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiBcXFxcNysqXFx4ODMgXFxcIjctKn0gXFxcIi5CXFxcIlxcXCIyQjNDKnEgXFxcIi5EXFxcIlxcXCIyRDNFKmUgXFxcIi4yXFxcIlxcXCIyMjMzKlkgXFxcIi44XFxcIlxcXCIyODM5Kk0gXFxcIi46XFxcIlxcXCIyOjM7KkEgXFxcIi48XFxcIlxcXCIyPDM9KjUgXFxcIi4+XFxcIlxcXCIyPjM/KikgXFxcIi5AXFxcIlxcXCIyQDNBK1xceDhDJCxcXHg4OSY3KypcXHg4MyBcXFwiNy0qfSBcXFwiLkJcXFwiXFxcIjJCM0MqcSBcXFwiLkRcXFwiXFxcIjJEM0UqZSBcXFwiLjJcXFwiXFxcIjIyMzMqWSBcXFwiLjhcXFwiXFxcIjI4MzkqTSBcXFwiLjpcXFwiXFxcIjI6MzsqQSBcXFwiLjxcXFwiXFxcIjI8Mz0qNSBcXFwiLj5cXFwiXFxcIjI+Mz8qKSBcXFwiLkBcXFwiXFxcIjJAM0FcXFwiXFxcIlxcXCIgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIFxcXFw3eSwjJjd5XFxcIlwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIS9cXHg5NVxcXCJcXFwiMSMzXFx4RDYreSQuNFxcXCJcXFwiMjQzNStpJSBcXFxcNyErJiQsIyY3IVxcXCJcXFwiXFxcIiBYK1AlLkpcXFwiXFxcIjJKM0srQCUgXFxcXDchKyYkLCMmNyFcXFwiXFxcIlxcXCIgWCsnJTQlNlxceEQ3JSAlJCUjIFgkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIuXFx4RDhcXFwiXFxcIjJcXHhEODNcXHhEOVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiLlxceERBXFxcIlxcXCIyXFx4REEzXFx4REJcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIi5cXHhEQ1xcXCJcXFwiMlxceERDM1xceEREXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIuXFx4REVcXFwiXFxcIjJcXHhERTNcXHhERlwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiLlxceEUwXFxcIlxcXCIyXFx4RTAzXFx4RTFcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIi5cXHhFMlxcXCJcXFwiMlxceEUyM1xceEUzXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIuXFx4RTRcXFwiXFxcIjJcXHhFNDNcXHhFNVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiLlxceEU2XFxcIlxcXCIyXFx4RTYzXFx4RTdcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIi5cXHhFOFxcXCJcXFwiMlxceEU4M1xceEU5XCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIuXFx4RUFcXFwiXFxcIjJcXHhFQTNcXHhFQlwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdcXHg4NSpTIFxcXCI3XFx4ODYqTSBcXFwiN1xceDg4KkcgXFxcIjdcXHg4OSpBIFxcXCI3XFx4OEEqOyBcXFwiN1xceDhCKjUgXFxcIjdcXHg4QyovIFxcXCI3XFx4OEQqKSBcXFwiN1xceDhFKiMgXFxcIjc2KyYgNCE2XFx4RUMhICVcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3XFx4ODQrSyQ3JytBJTdcXHg5MSs3JTcnKy0lN1xceDkzKyMlJyUlJCUjIFgkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN1xceDkyKycgNCE2XFx4RUQhISAlXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhNyErNyQ3ISstJTchKyMlJyMlJCMjIFgkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEgXFxcXDcqKkEgXFxcIjcrKjsgXFxcIjctKjUgXFxcIjczKi8gXFxcIjc0KikgXFxcIjcnKiMgXFxcIjcoLEcmNyoqQSBcXFwiNysqOyBcXFwiNy0qNSBcXFwiNzMqLyBcXFwiNzQqKSBcXFwiNycqIyBcXFwiNyhcXFwiKyYgNCE2XFx4RUUhICVcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3XFx4QjUrXyQgXFxcXCE3QSstJDdcXHhCNSsjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCw4JiE3QSstJDdcXHhCNSsjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWFxcXCIrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3OStSJCEuOlxcXCJcXFwiMjozOystJDc5KyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYKiMgXFxcIiBbKyclNFxcXCI2XFx4RUZcXFwiICUkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3OipqIFxcXCIhN1xceDk3K18kIFxcXFwhN0ErLSQ3XFx4OTcrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgsOCYhN0ErLSQ3XFx4OTcrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcXFwiKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYKyYgNCE2XFx4RjAhICVcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3TCojIFxcXCI3XFx4OTgrYyQgXFxcXCE3QistJDdcXHg5QSsjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCw4JiE3QistJDdcXHg5QSsjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWFxcXCIrJyU0XFxcIjZcXHhGMVxcXCIgJSRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdcXHg5OSojIFxcXCIgWytBJDdAKzclN00rLSU3PysjJSckJSQkIyBYJCMjIFgkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEhNzYrXyQgXFxcXCE3ListJDc2KyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYLDgmITcuKy0kNzYrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcXFwiKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYKiMgXFxcIjdIKycgNCE2XFx4RjIhISAlXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCI3XFx4OUIqKSBcXFwiN1xceDlDKiMgXFxcIjdcXHg5RlwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIS9cXHhGM1xcXCJcXFwiMSEzXFx4RjQrPCQ3PCsyJTdcXHg5RSsoJTQjNlxceEY1IyEgJSQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhL1xceEY2XFxcIlxcXCIxJzNcXHhGNys8JDc8KzIlN1xceDlEKyglNCM2XFx4RjgjISAlJCMjIFgkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEgXFxcXDchKyYkLCMmNyFcXFwiXFxcIlxcXCIgWCsnIDQhNlxceEY5ISEgJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIS5cXHhGQVxcXCJcXFwiMlxceEZBM1xceEZCK3gkIS5KXFxcIlxcXCIySjNLK1MkNyEqIyBcXFwiIFsrQyU3ISojIFxcXCIgWyszJTchKiMgXFxcIiBbKyMlJyQlJCQjIFgkIyMgWCRcXFwiIyBYXFxcIiMgWCojIFxcXCIgWysnJTRcXFwiNlxceEZDXFxcIiAlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhNzYrTiQhNzwrLSQ3XFx4QTArIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFsrKSU0XFxcIjZcXHhGRFxcXCJcXFwiISAlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCI3NiopIFxcXCI3VCojIFxcXCI3SFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdcXHhBMitfJCBcXFxcITdCKy0kN1xceEEzKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYLDgmITdCKy0kN1xceEEzKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYXFxcIisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIS9cXHhGRVxcXCJcXFwiMSYzXFx4RkYqRyBcXFwiL1xcdTAxMDBcXFwiXFxcIjEnM1xcdTAxMDEqOyBcXFwiL1xcdTAxMDJcXFwiXFxcIjEkM1xcdTAxMDMqLyBcXFwiL1xcdTAxMDRcXFwiXFxcIjElM1xcdTAxMDUqIyBcXFwiNzYrJiA0ITZcXHUwMTA2ISAlXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCI3XFx4QTQqIyBcXFwiN1xceDlGXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhL1xcdTAxMDdcXFwiXFxcIjEoM1xcdTAxMDgrTyQ3PCtFJS9cXHUwMTA5XFxcIlxcXCIxKDNcXHUwMTBBKi8gXFxcIi9cXHUwMTBCXFxcIlxcXCIxKDNcXHUwMTBDKiMgXFxcIjc2KyMlJyMlJCMjIFgkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3NitfJCBcXFxcITdBKy0kNzYrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgsOCYhN0ErLSQ3NisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWFxcXCIrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEgXFxcXDchKyYkLCMmNyFcXFwiXFxcIlxcXCIgWCsnIDQhNlxcdTAxMEQhISAlXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN1xceEE4KyYgNCE2XFx1MDEwRSEgJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdcXHhBOStzJDc7K2klN1xceEFFK18lIFxcXFwhN0IrLSQ3XFx4QUYrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgsOCYhN0IrLSQ3XFx4QUYrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcXFwiKyMlJyQlJCQjIFgkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiN1xceEFBKiMgXFxcIjdcXHhBQlwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiL1xcdTAxMEZcXFwiXFxcIjEkM1xcdTAxMTAqUyBcXFwiL1xcdTAxMTFcXFwiXFxcIjElM1xcdTAxMTIqRyBcXFwiL1xcdTAxMTNcXFwiXFxcIjElM1xcdTAxMTQqOyBcXFwiL1xcdTAxMTVcXFwiXFxcIjElM1xcdTAxMTYqLyBcXFwiL1xcdTAxMTdcXFwiXFxcIjErM1xcdTAxMTgqIyBcXFwiN1xceEFDXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIvXFx1MDExOVxcXCJcXFwiMSczXFx1MDExQSovIFxcXCIvXFx1MDExQlxcXCJcXFwiMSkzXFx1MDExQyojIFxcXCI3XFx4QUNcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIjc2KiMgXFxcIjdcXHhBRFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIS9cXHUwMTFEXFxcIlxcXCIxXFxcIjNcXHUwMTFFKy0kNzYrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIjdcXHhBQyojIFxcXCI3NlwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITc2KzckNzwrLSU3XFx4QjArIyUnIyUkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiNzYqIyBcXFwiN0hcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3XFx4QjIrNyQ3ListJTdcXHg4RisjJScjJSQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhIFxcXFw3ISsmJCwjJjchXFxcIlxcXCJcXFwiIFgrJyA0ITZcXHUwMTFGISEgJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdcXHg5RCsnIDQhNlxcdTAxMjAhISAlXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN1xceEI1K2QkIFxcXFwhN0IrLSQ3XFx4OUYrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgsOCYhN0IrLSQ3XFx4OUYrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcXFwiKyglNFxcXCI2XFx1MDEyMVxcXCIhISUkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEhNzcrayQgXFxcXCEuSlxcXCJcXFwiMkozSystJDc3KyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYLD4mIS5KXFxcIlxcXCIySjNLKy0kNzcrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcXFwiKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYKyEgKCVcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3TCojIFxcXCI3XFx4OTgrYyQgXFxcXCE3QistJDdcXHhCNysjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCw4JiE3QistJDdcXHhCNysjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWFxcXCIrJyU0XFxcIjZcXHUwMTIyXFxcIiAlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCI3XFx4QjgqIyBcXFwiN1xceDlGXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhL1xcdTAxMjNcXFwiXFxcIjEjM1xcdTAxMjQrPCQ3PCsyJTc2KyglNCM2XFx1MDEyNSMhICUkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiISBcXFxcNyErJiQsIyY3IVxcXCJcXFwiXFxcIiBYKycgNCE2XFx1MDEyNiEhICVcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3XFx4OUQrJyA0ITZcXHUwMTI3ISEgJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiISBcXFxcN1xceDk5LCMmN1xceDk5XFxcIitcXHg4MSQ3QCt3JTdNK20lNz8rYyUgXFxcXCE3QistJDdcXHg5RisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCw4JiE3QistJDdcXHg5RisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWFxcXCIrJyU0JTZcXHUwMTI4JSAlJCUjIFgkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCI3XFx4QkRcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEvXFx1MDEyOVxcXCJcXFwiMSYzXFx1MDEyQStzJDcuK2klN1xceEMwK18lIFxcXFwhN0ErLSQ3XFx4QzArIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgsOCYhN0ErLSQ3XFx4QzArIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcXFwiKyMlJyQlJCQjIFgkIyMgWCRcXFwiIyBYXFxcIiMgWCojIFxcXCI3XFx4QkVcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3NitzJDcuK2klN1xceEJGK18lIFxcXFwhN0ErLSQ3XFx4QkYrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgsOCYhN0ErLSQ3XFx4QkYrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcXFwiKyMlJyQlJCQjIFgkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITc2Kz0kNzwrMyU3NiojIFxcXCI3SCsjJScjJSQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCI3XFx4QzEqRyBcXFwiN1xceEMzKkEgXFxcIjdcXHhDNSo7IFxcXCI3XFx4QzcqNSBcXFwiN1xceEM4Ki8gXFxcIjdcXHhDOSopIFxcXCI3XFx4Q0EqIyBcXFwiN1xceEJGXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhL1xcdTAxMkJcXFwiXFxcIjElM1xcdTAxMkMrNyQ3PCstJTdcXHhDMisjJScjJSQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN0krJyA0ITZcXHUwMTJEISEgJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIS9cXHUwMTJFXFxcIlxcXCIxJjNcXHUwMTJGK1xceEE1JDc8K1xceDlCJTdEK1xceDkxJTdcXHhDNCtcXHg4NyUgXFxcXCEgXFxcXDcnKyYkLCMmNydcXFwiXFxcIlxcXCIgWCstJDdcXHhDNCsjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCxHJiEgXFxcXDcnKyYkLCMmNydcXFwiXFxcIlxcXCIgWCstJDdcXHhDNCsjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWFxcXCIrLSU3RSsjJScmJSQmIyBYJCUjIFgkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCI3dCojIFxcXCI3d1wiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIS9cXHUwMTMwXFxcIlxcXCIxJTNcXHUwMTMxKzckNzwrLSU3XFx4QzYrIyUnIyUkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdJKycgNCE2XFx1MDEzMiEhICVcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEvXFx1MDEzM1xcXCJcXFwiMSYzXFx1MDEzNCs8JDc8KzIlN0krKCU0IzZcXHUwMTM1IyEgJSQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhL1xcdTAxMzZcXFwiXFxcIjElM1xcdTAxMzcrXyQ3PCtVJSEvXFx1MDEzOFxcXCJcXFwiMSQzXFx1MDEzOSsmIDQhNlxcdTAxM0EhICUqNCBcXFwiIS9cXHUwMTNCXFxcIlxcXCIxJTNcXHUwMTNDKyYgNCE2XFx1MDEzRCEgJSsjJScjJSQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhL1xcdTAxM0VcXFwiXFxcIjEpM1xcdTAxM0YrVCQ3PCtKJS9cXHUwMTQwXFxcIlxcXCIxIzNcXHUwMTQxKi8gXFxcIi9cXHUwMTQyXFxcIlxcXCIxKDNcXHUwMTQzKiMgXFxcIjc2KyglNCM2XFx1MDE0NCMhICUkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIS9cXHUwMTQ1XFxcIlxcXCIxIzNcXHUwMTQ2K1xceDlFJDc8K1xceDk0JTdEK1xceDhBJSE3XFx4Q0IrayQgXFxcXCEuRFxcXCJcXFwiMkQzRSstJDdcXHhDQisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCw+JiEuRFxcXCJcXFwiMkQzRSstJDdcXHhDQisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWFxcXCIrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgrLSU3RSsjJSclJSQlIyBYJCQjIFgkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIS9cXHUwMTQ3XFxcIlxcXCIxKDNcXHUwMTQ4Ki8gXFxcIi9cXHUwMTQ5XFxcIlxcXCIxJDNcXHUwMTRBKiMgXFxcIjc2KycgNCE2XFx1MDE0QiEhICVcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3NitfJCBcXFxcITdBKy0kNzYrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgsOCYhN0ErLSQ3NisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWFxcXCIrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3XFx4Q0UrSyQ3LitBJTdcXHhDRSs3JTcuKy0lN1xceDhGKyMlJyUlJCUjIFgkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhIFxcXFw3ISsmJCwjJjchXFxcIlxcXCJcXFwiIFgrJyA0ITZcXHUwMTRDISEgJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdcXHhEMCtjJCBcXFxcITdBKy0kN1xceEQwKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYLDgmITdBKy0kN1xceEQwKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYXFxcIisnJTRcXFwiNlxcdTAxNERcXFwiICUkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3XFx4OTgrYyQgXFxcXCE3QistJDdcXHg5RisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCw4JiE3QistJDdcXHg5RisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWFxcXCIrJyU0XFxcIjZcXHUwMTRFXFxcIiAlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN0wqVCBcXFwiN1xceDk4Kk4gXFxcIiE3QCojIFxcXCIgWys9JDd0KzMlNz8qIyBcXFwiIFsrIyUnIyUkIyMgWCRcXFwiIyBYXFxcIiMgWCtjJCBcXFxcITdCKy0kN1xceDlGKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYLDgmITdCKy0kN1xceDlGKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYXFxcIisnJTRcXFwiNlxcdTAxNEZcXFwiICUkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3XFx4RDMrYyQgXFxcXCE3QistJDdcXHhENCsjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCw4JiE3QistJDdcXHhENCsjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWFxcXCIrJyU0XFxcIjZcXHUwMTUwXFxcIiAlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN1xceDk1KyYgNCE2XFx1MDE1MSEgJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIS9cXHUwMTUyXFxcIlxcXCIxKDNcXHUwMTUzKzwkNzwrMiU3NisoJTQjNlxcdTAxNTQjISAlJCMjIFgkXFxcIiMgWFxcXCIjIFgqaiBcXFwiIS9cXHUwMTU1XFxcIlxcXCIxJjNcXHUwMTU2KzwkNzwrMiU3NisoJTQjNlxcdTAxNTcjISAlJCMjIFgkXFxcIiMgWFxcXCIjIFgqOiBcXFwiIS9cXHUwMTU4XFxcIlxcXCIxKjNcXHUwMTU5KyYgNCE2XFx1MDE1QSEgJSojIFxcXCI3XFx4OUZcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEhNzYrbyQgXFxcXCE3QSsyJDc2KyglNFxcXCI2XFx1MDE1QlxcXCIhICUkXFxcIiMgWFxcXCIjIFgsPSYhN0ErMiQ3NisoJTRcXFwiNlxcdTAxNUJcXFwiISAlJFxcXCIjIFhcXFwiIyBYXFxcIispJTRcXFwiNlxcdTAxNUNcXFwiXFxcIiEgJSRcXFwiIyBYXFxcIiMgWCojIFxcXCIgWysnIDQhNlxcdTAxNUQhISAlXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN1xceEQ3K18kIFxcXFwhN0ErLSQ3XFx4RDcrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgsOCYhN0ErLSQ3XFx4RDcrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcXFwiKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN1xceDk4K18kIFxcXFwhN0IrLSQ3XFx4OUYrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgsOCYhN0IrLSQ3XFx4OUYrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcXFwiKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhIFxcXFw3ISsmJCwjJjchXFxcIlxcXCJcXFwiIFgrJyA0ITZcXHUwMTVFISEgJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdcXHhEQStfJCBcXFxcITdCKy0kN1xceERCKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYLDgmITdCKy0kN1xceERCKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYXFxcIisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIS9cXHUwMTVGXFxcIlxcXCIxJjNcXHUwMTYwKjsgXFxcIi9cXHUwMTYxXFxcIlxcXCIxJzNcXHUwMTYyKi8gXFxcIi9cXHUwMTYzXFxcIlxcXCIxKjNcXHUwMTY0KiMgXFxcIjc2KyYgNCE2XFx1MDE2NSEgJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIS9cXHUwMTY2XFxcIlxcXCIxJjNcXHUwMTY3KzwkNzwrMiU3XFx4REMrKCU0IzZcXHUwMTY4IyEgJSQjIyBYJFxcXCIjIFhcXFwiIyBYKlxceDgzIFxcXCIhL1xceEY2XFxcIlxcXCIxJzNcXHhGNys8JDc8KzIlN1xceDlEKyglNCM2XFx1MDE2OSMhICUkIyMgWCRcXFwiIyBYXFxcIiMgWCpTIFxcXCIhL1xcdTAxNkFcXFwiXFxcIjErM1xcdTAxNkIrPCQ3PCsyJTdcXHg5RCsoJTQjNlxcdTAxNkMjISAlJCMjIFgkXFxcIiMgWFxcXCIjIFgqIyBcXFwiN1xceDlGXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIvXFx1MDE2RFxcXCJcXFwiMSszXFx1MDE2RSprIFxcXCIvXFx1MDE2RlxcXCJcXFwiMSkzXFx1MDE3MCpfIFxcXCIvXFx1MDE3MVxcXCJcXFwiMSgzXFx1MDE3MipTIFxcXCIvXFx1MDE3M1xcXCJcXFwiMSczXFx1MDE3NCpHIFxcXCIvXFx1MDE3NVxcXCJcXFwiMSYzXFx1MDE3Nio7IFxcXCIvXFx1MDE3N1xcXCJcXFwiMSozXFx1MDE3OCovIFxcXCIvXFx1MDE3OVxcXCJcXFwiMSkzXFx1MDE3QSojIFxcXCI3NlwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiNzEqIyBcXFwiIFtcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEhNzYrbyQgXFxcXCE3QSsyJDc2KyglNFxcXCI2XFx1MDE1QlxcXCIhICUkXFxcIiMgWFxcXCIjIFgsPSYhN0ErMiQ3NisoJTRcXFwiNlxcdTAxNUJcXFwiISAlJFxcXCIjIFhcXFwiIyBYXFxcIispJTRcXFwiNlxcdTAxNUNcXFwiXFxcIiEgJSRcXFwiIyBYXFxcIiMgWCojIFxcXCIgWysnIDQhNlxcdTAxN0IhISAlXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN0wqIyBcXFwiN1xceDk4K2MkIFxcXFwhN0IrLSQ3XFx4RTArIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgsOCYhN0IrLSQ3XFx4RTArIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcXFwiKyclNFxcXCI2XFx1MDE3Q1xcXCIgJSRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiN1xceEI4KiMgXFxcIjdcXHg5RlwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdcXHhFMitfJCBcXFxcITdBKy0kN1xceEUyKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYLDgmITdBKy0kN1xceEUyKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYXFxcIisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdcXHhFOStzJDcuK2klN1xceEVDK18lIFxcXFwhN0IrLSQ3XFx4RTMrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgsOCYhN0IrLSQ3XFx4RTMrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcXFwiKyMlJyQlJCQjIFgkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiN1xceEU0KjsgXFxcIjdcXHhFNSo1IFxcXCI3XFx4RTYqLyBcXFwiN1xceEU3KikgXFxcIjdcXHhFOCojIFxcXCI3XFx4OUZcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEvXFx1MDE3RFxcXCJcXFwiMSMzXFx1MDE3RSs8JDc8KzIlN1xceEVGKyglNCM2XFx1MDE3RiMhICUkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIS9cXHUwMTgwXFxcIlxcXCIxJTNcXHUwMTgxKzwkNzwrMiU3VCsoJTQjNlxcdTAxODIjISAlJCMjIFgkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEvXFx1MDE4M1xcXCJcXFwiMSgzXFx1MDE4NCtCJDc8KzglN1xcXFwqIyBcXFwiN1krKCU0IzZcXHUwMTg1IyEgJSQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhL1xcdTAxODZcXFwiXFxcIjEmM1xcdTAxODcrPCQ3PCsyJTc2KyglNCM2XFx1MDE4OCMhICUkIyMgWCRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiIS9cXHUwMTg5XFxcIlxcXCIxJTNcXHUwMThBK1QkITc8KzUkIFxcXFw3ISwjJjchXFxcIisjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCojIFxcXCIgWysnJTRcXFwiNlxcdTAxOEJcXFwiICUkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3XFx4RUErSyQ3OytBJTc2KzclNzsrLSU3XFx4RUIrIyUnJSUkJSMgWCQkIyBYJCMjIFgkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEvXFx4OTVcXFwiXFxcIjEjM1xceEQ2KiMgXFxcIjc2KycgNCE2XFx1MDE4QyEhICVcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEvXFx4QjRcXFwiXFxcIjEjM1xcdTAxOEQqRyBcXFwiL1xceEI2XFxcIlxcXCIxIzNcXHUwMThFKjsgXFxcIi9cXHhCQVxcXCJcXFwiMSMzXFx1MDE4RiovIFxcXCIvXFx4QjhcXFwiXFxcIjEkM1xcdTAxOTAqIyBcXFwiNzYrJyA0ITZcXHUwMTkxISEgJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdcXHhFRCtIJCE3QystJDdcXHhFRSsjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWCojIFxcXCIgWysjJSdcXFwiJSRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdVKikgXFxcIjdcXFxcKiMgXFxcIjdYKyYgNCE2XFx1MDE5MiEgJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiISE3ISojIFxcXCIgWytjJDchKiMgXFxcIiBbK1MlNyEqIyBcXFwiIFsrQyU3ISojIFxcXCIgWyszJTchKiMgXFxcIiBbKyMlJyUlJCUjIFgkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYKycgNCE2XFx1MDE5MyEhICVcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEhNyErQyQ3ISojIFxcXCIgWyszJTchKiMgXFxcIiBbKyMlJyMlJCMjIFgkXFxcIiMgWFxcXCIjIFgrJyA0ITZcXHUwMTk0ISEgJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiN1xceEJEXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN1xceDlEK2QkIFxcXFwhN0IrLSQ3XFx4RjIrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgsOCYhN0IrLSQ3XFx4RjIrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcXFwiKyglNFxcXCI2XFx1MDE5NVxcXCIhISUkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIjdcXHhGMyojIFxcXCI3XFx4OUZcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEuXFx1MDE5NlxcXCJcXFwiMlxcdTAxOTYzXFx1MDE5NytOJDc8K0QlLlxcdTAxOThcXFwiXFxcIjJcXHUwMTk4M1xcdTAxOTkqKSBcXFwiLlxcdTAxOUFcXFwiXFxcIjJcXHUwMTlBM1xcdTAxOUIrKCU0IzZcXHUwMTlDIyEgJSQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN1xceDlEK2QkIFxcXFwhN0IrLSQ3XFx4OUYrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgsOCYhN0IrLSQ3XFx4OUYrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFhcXFwiKyglNFxcXCI2XFx1MDE5RFxcXCIhISUkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3Nis3JDcwKy0lN1xceEY2KyMlJyMlJCMjIFgkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiBcXFxcNzIqKSBcXFwiNzQqIyBcXFwiNy4sLyY3MiopIFxcXCI3NCojIFxcXCI3LlxcXCJcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiBcXFxcNyUsIyY3JVxcXCJcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3XFx4RjkrPSQuOFxcXCJcXFwiMjgzOSstJTdcXHhGQSsjJScjJSQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhL1xcdTAxOUVcXFwiXFxcIjElM1xcdTAxOUYqKSBcXFwiL1xcdTAxQTBcXFwiXFxcIjEkM1xcdTAxQTErJyA0ITZcXHUwMUEyISEgJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdcXHhGQitOJCEuOFxcXCJcXFwiMjgzOSstJDdeKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYKiMgXFxcIiBbKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN1xcXFwqKSBcXFwiN1gqIyBcXFwiN1xceDgyKycgNCE2XFx1MDFBMyEhICVcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiEgXFxcXDdcXHhGRCopIFxcXCI3LSojIFxcXCI3XFx4RkUsLyY3XFx4RkQqKSBcXFwiNy0qIyBcXFwiN1xceEZFXFxcIishICglXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCI3XFxcIipTIFxcXCI3ISpNIFxcXCIuRlxcXCJcXFwiMkYzRypBIFxcXCIuSlxcXCJcXFwiMkozSyo1IFxcXCIuSFxcXCJcXFwiMkgzSSopIFxcXCIuTlxcXCJcXFwiMk4zT1wiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiLkxcXFwiXFxcIjJMM00qXFx4OTUgXFxcIi5CXFxcIlxcXCIyQjNDKlxceDg5IFxcXCIuPFxcXCJcXFwiMjwzPSp9IFxcXCIuUlxcXCJcXFwiMlIzUypxIFxcXCIuVFxcXCJcXFwiMlQzVSplIFxcXCIuVlxcXCJcXFwiMlYzVypZIFxcXCIuUFxcXCJcXFwiMlAzUSpNIFxcXCIuQFxcXCJcXFwiMkAzQSpBIFxcXCIuRFxcXCJcXFwiMkQzRSo1IFxcXCIuMlxcXCJcXFwiMjIzMyopIFxcXCIuPlxcXCJcXFwiMj4zP1wiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdcXHUwMTAwK2gkLjhcXFwiXFxcIjI4MzkrWCU3XFx4RkErTiUhLlxcdTAxQTRcXFwiXFxcIjJcXHUwMUE0M1xcdTAxQTUrLSQ3XFx4RUIrIyUnXFxcIiUkXFxcIiMgWFxcXCIjIFgqIyBcXFwiIFsrIyUnJCUkJCMgWCQjIyBYJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhL1xcdTAxQTZcXFwiXFxcIjElM1xcdTAxQTcqKSBcXFwiL1xcdTAxQThcXFwiXFxcIjEkM1xcdTAxQTkrJyA0ITZcXHUwMUEyISEgJVwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdcXHhFQitRJC9cXHhCNFxcXCJcXFwiMSMzXFx4QjUqNyBcXFwiL1xceEI2XFxcIlxcXCIxIzNcXHhCNyorIFxcXCIgXFxcXDcrLCMmNytcXFwiKyclNFxcXCI2XFx1MDFBQVxcXCIgJSRcXFwiIyBYXFxcIiMgWFwiKSxcbiAgICAgICAgICBwZWckZGVjb2RlKFwiITdcXHUwMTA0K1xceDhGJC5GXFxcIlxcXCIyRjNHK38lN1xcdTAxMDMrdSUuRlxcXCJcXFwiMkYzRytlJTdcXHUwMTAzK1slLkZcXFwiXFxcIjJGM0crSyU3XFx1MDEwMytBJS5GXFxcIlxcXCIyRjNHKzElN1xcdTAxMDUrJyU0KTZcXHUwMUFCKSAlJCkjIFgkKCMgWCQnIyBYJCYjIFgkJSMgWCQkIyBYJCMjIFgkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3IytBJDcjKzclNyMrLSU3IysjJSckJSQkIyBYJCMjIFgkXFxcIiMgWFxcXCIjIFhcIiksXG4gICAgICAgICAgcGVnJGRlY29kZShcIiE3XFx1MDEwMystJDdcXHUwMTAzKyMlJ1xcXCIlJFxcXCIjIFhcXFwiIyBYXCIpLFxuICAgICAgICAgIHBlZyRkZWNvZGUoXCIhN1xcdTAxMDMrNyQ3XFx1MDEwMystJTdcXHUwMTAzKyMlJyMlJCMjIFgkXFxcIiMgWFxcXCIjIFhcIilcbiAgICAgICAgXSxcblxuICAgICAgICBwZWckY3VyclBvcyAgICAgICAgICA9IDAsXG4gICAgICAgIHBlZyRyZXBvcnRlZFBvcyAgICAgID0gMCxcbiAgICAgICAgcGVnJGNhY2hlZFBvcyAgICAgICAgPSAwLFxuICAgICAgICBwZWckY2FjaGVkUG9zRGV0YWlscyA9IHsgbGluZTogMSwgY29sdW1uOiAxLCBzZWVuQ1I6IGZhbHNlIH0sXG4gICAgICAgIHBlZyRtYXhGYWlsUG9zICAgICAgID0gMCxcbiAgICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZCAgPSBbXSxcbiAgICAgICAgcGVnJHNpbGVudEZhaWxzICAgICAgPSAwLFxuXG4gICAgICAgIHBlZyRyZXN1bHQ7XG5cbiAgICBpZiAoXCJzdGFydFJ1bGVcIiBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAoIShvcHRpb25zLnN0YXJ0UnVsZSBpbiBwZWckc3RhcnRSdWxlSW5kaWNlcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3Qgc3RhcnQgcGFyc2luZyBmcm9tIHJ1bGUgXFxcIlwiICsgb3B0aW9ucy5zdGFydFJ1bGUgKyBcIlxcXCIuXCIpO1xuICAgICAgfVxuXG4gICAgICBwZWckc3RhcnRSdWxlSW5kZXggPSBwZWckc3RhcnRSdWxlSW5kaWNlc1tvcHRpb25zLnN0YXJ0UnVsZV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdGV4dCgpIHtcbiAgICAgIHJldHVybiBpbnB1dC5zdWJzdHJpbmcocGVnJHJlcG9ydGVkUG9zLCBwZWckY3VyclBvcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb2Zmc2V0KCkge1xuICAgICAgcmV0dXJuIHBlZyRyZXBvcnRlZFBvcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaW5lKCkge1xuICAgICAgcmV0dXJuIHBlZyRjb21wdXRlUG9zRGV0YWlscyhwZWckcmVwb3J0ZWRQb3MpLmxpbmU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29sdW1uKCkge1xuICAgICAgcmV0dXJuIHBlZyRjb21wdXRlUG9zRGV0YWlscyhwZWckcmVwb3J0ZWRQb3MpLmNvbHVtbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHBlY3RlZChkZXNjcmlwdGlvbikge1xuICAgICAgdGhyb3cgcGVnJGJ1aWxkRXhjZXB0aW9uKFxuICAgICAgICBudWxsLFxuICAgICAgICBbeyB0eXBlOiBcIm90aGVyXCIsIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiB9XSxcbiAgICAgICAgcGVnJHJlcG9ydGVkUG9zXG4gICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVycm9yKG1lc3NhZ2UpIHtcbiAgICAgIHRocm93IHBlZyRidWlsZEV4Y2VwdGlvbihtZXNzYWdlLCBudWxsLCBwZWckcmVwb3J0ZWRQb3MpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlZyRjb21wdXRlUG9zRGV0YWlscyhwb3MpIHtcbiAgICAgIGZ1bmN0aW9uIGFkdmFuY2UoZGV0YWlscywgc3RhcnRQb3MsIGVuZFBvcykge1xuICAgICAgICB2YXIgcCwgY2g7XG5cbiAgICAgICAgZm9yIChwID0gc3RhcnRQb3M7IHAgPCBlbmRQb3M7IHArKykge1xuICAgICAgICAgIGNoID0gaW5wdXQuY2hhckF0KHApO1xuICAgICAgICAgIGlmIChjaCA9PT0gXCJcXG5cIikge1xuICAgICAgICAgICAgaWYgKCFkZXRhaWxzLnNlZW5DUikgeyBkZXRhaWxzLmxpbmUrKzsgfVxuICAgICAgICAgICAgZGV0YWlscy5jb2x1bW4gPSAxO1xuICAgICAgICAgICAgZGV0YWlscy5zZWVuQ1IgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSBcIlxcclwiIHx8IGNoID09PSBcIlxcdTIwMjhcIiB8fCBjaCA9PT0gXCJcXHUyMDI5XCIpIHtcbiAgICAgICAgICAgIGRldGFpbHMubGluZSsrO1xuICAgICAgICAgICAgZGV0YWlscy5jb2x1bW4gPSAxO1xuICAgICAgICAgICAgZGV0YWlscy5zZWVuQ1IgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZXRhaWxzLmNvbHVtbisrO1xuICAgICAgICAgICAgZGV0YWlscy5zZWVuQ1IgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHBlZyRjYWNoZWRQb3MgIT09IHBvcykge1xuICAgICAgICBpZiAocGVnJGNhY2hlZFBvcyA+IHBvcykge1xuICAgICAgICAgIHBlZyRjYWNoZWRQb3MgPSAwO1xuICAgICAgICAgIHBlZyRjYWNoZWRQb3NEZXRhaWxzID0geyBsaW5lOiAxLCBjb2x1bW46IDEsIHNlZW5DUjogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBhZHZhbmNlKHBlZyRjYWNoZWRQb3NEZXRhaWxzLCBwZWckY2FjaGVkUG9zLCBwb3MpO1xuICAgICAgICBwZWckY2FjaGVkUG9zID0gcG9zO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGVnJGNhY2hlZFBvc0RldGFpbHM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJGZhaWwoZXhwZWN0ZWQpIHtcbiAgICAgIGlmIChwZWckY3VyclBvcyA8IHBlZyRtYXhGYWlsUG9zKSB7IHJldHVybjsgfVxuXG4gICAgICBpZiAocGVnJGN1cnJQb3MgPiBwZWckbWF4RmFpbFBvcykge1xuICAgICAgICBwZWckbWF4RmFpbFBvcyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBwZWckbWF4RmFpbEV4cGVjdGVkID0gW107XG4gICAgICB9XG5cbiAgICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQucHVzaChleHBlY3RlZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJGJ1aWxkRXhjZXB0aW9uKG1lc3NhZ2UsIGV4cGVjdGVkLCBwb3MpIHtcbiAgICAgIGZ1bmN0aW9uIGNsZWFudXBFeHBlY3RlZChleHBlY3RlZCkge1xuICAgICAgICB2YXIgaSA9IDE7XG5cbiAgICAgICAgZXhwZWN0ZWQuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgaWYgKGEuZGVzY3JpcHRpb24gPCBiLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgfSBlbHNlIGlmIChhLmRlc2NyaXB0aW9uID4gYi5kZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgd2hpbGUgKGkgPCBleHBlY3RlZC5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAoZXhwZWN0ZWRbaSAtIDFdID09PSBleHBlY3RlZFtpXSkge1xuICAgICAgICAgICAgZXhwZWN0ZWQuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGJ1aWxkTWVzc2FnZShleHBlY3RlZCwgZm91bmQpIHtcbiAgICAgICAgZnVuY3Rpb24gc3RyaW5nRXNjYXBlKHMpIHtcbiAgICAgICAgICBmdW5jdGlvbiBoZXgoY2gpIHsgcmV0dXJuIGNoLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7IH1cblxuICAgICAgICAgIHJldHVybiBzXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxcXC9nLCAgICdcXFxcXFxcXCcpXG4gICAgICAgICAgICAucmVwbGFjZSgvXCIvZywgICAgJ1xcXFxcIicpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFx4MDgvZywgJ1xcXFxiJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHQvZywgICAnXFxcXHQnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCAgICdcXFxcbicpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxmL2csICAgJ1xcXFxmJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHIvZywgICAnXFxcXHInKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1tcXHgwMC1cXHgwN1xceDBCXFx4MEVcXHgwRl0vZywgZnVuY3Rpb24oY2gpIHsgcmV0dXJuICdcXFxceDAnICsgaGV4KGNoKTsgfSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bXFx4MTAtXFx4MUZcXHg4MC1cXHhGRl0vZywgICAgZnVuY3Rpb24oY2gpIHsgcmV0dXJuICdcXFxceCcgICsgaGV4KGNoKTsgfSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC9bXFx1MDE4MC1cXHUwRkZGXS9nLCAgICAgICAgIGZ1bmN0aW9uKGNoKSB7IHJldHVybiAnXFxcXHUwJyArIGhleChjaCk7IH0pXG4gICAgICAgICAgICAucmVwbGFjZSgvW1xcdTEwODAtXFx1RkZGRl0vZywgICAgICAgICBmdW5jdGlvbihjaCkgeyByZXR1cm4gJ1xcXFx1JyAgKyBoZXgoY2gpOyB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBleHBlY3RlZERlc2NzID0gbmV3IEFycmF5KGV4cGVjdGVkLmxlbmd0aCksXG4gICAgICAgICAgICBleHBlY3RlZERlc2MsIGZvdW5kRGVzYywgaTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZXhwZWN0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBleHBlY3RlZERlc2NzW2ldID0gZXhwZWN0ZWRbaV0uZGVzY3JpcHRpb247XG4gICAgICAgIH1cblxuICAgICAgICBleHBlY3RlZERlc2MgPSBleHBlY3RlZC5sZW5ndGggPiAxXG4gICAgICAgICAgPyBleHBlY3RlZERlc2NzLnNsaWNlKDAsIC0xKS5qb2luKFwiLCBcIilcbiAgICAgICAgICAgICAgKyBcIiBvciBcIlxuICAgICAgICAgICAgICArIGV4cGVjdGVkRGVzY3NbZXhwZWN0ZWQubGVuZ3RoIC0gMV1cbiAgICAgICAgICA6IGV4cGVjdGVkRGVzY3NbMF07XG5cbiAgICAgICAgZm91bmREZXNjID0gZm91bmQgPyBcIlxcXCJcIiArIHN0cmluZ0VzY2FwZShmb3VuZCkgKyBcIlxcXCJcIiA6IFwiZW5kIG9mIGlucHV0XCI7XG5cbiAgICAgICAgcmV0dXJuIFwiRXhwZWN0ZWQgXCIgKyBleHBlY3RlZERlc2MgKyBcIiBidXQgXCIgKyBmb3VuZERlc2MgKyBcIiBmb3VuZC5cIjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvc0RldGFpbHMgPSBwZWckY29tcHV0ZVBvc0RldGFpbHMocG9zKSxcbiAgICAgICAgICBmb3VuZCAgICAgID0gcG9zIDwgaW5wdXQubGVuZ3RoID8gaW5wdXQuY2hhckF0KHBvcykgOiBudWxsO1xuXG4gICAgICBpZiAoZXhwZWN0ZWQgIT09IG51bGwpIHtcbiAgICAgICAgY2xlYW51cEV4cGVjdGVkKGV4cGVjdGVkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBTeW50YXhFcnJvcihcbiAgICAgICAgbWVzc2FnZSAhPT0gbnVsbCA/IG1lc3NhZ2UgOiBidWlsZE1lc3NhZ2UoZXhwZWN0ZWQsIGZvdW5kKSxcbiAgICAgICAgZXhwZWN0ZWQsXG4gICAgICAgIGZvdW5kLFxuICAgICAgICBwb3MsXG4gICAgICAgIHBvc0RldGFpbHMubGluZSxcbiAgICAgICAgcG9zRGV0YWlscy5jb2x1bW5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJGRlY29kZShzKSB7XG4gICAgICB2YXIgYmMgPSBuZXcgQXJyYXkocy5sZW5ndGgpLCBpO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBiY1tpXSA9IHMuY2hhckNvZGVBdChpKSAtIDMyO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGVnJHBhcnNlUnVsZShpbmRleCkge1xuICAgICAgdmFyIGJjICAgID0gcGVnJGJ5dGVjb2RlW2luZGV4XSxcbiAgICAgICAgICBpcCAgICA9IDAsXG4gICAgICAgICAgaXBzICAgPSBbXSxcbiAgICAgICAgICBlbmQgICA9IGJjLmxlbmd0aCxcbiAgICAgICAgICBlbmRzICA9IFtdLFxuICAgICAgICAgIHN0YWNrID0gW10sXG4gICAgICAgICAgcGFyYW1zLCBpO1xuXG4gICAgICBmdW5jdGlvbiBwcm90ZWN0KG9iamVjdCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShvYmplY3QpID09PSBcIltvYmplY3QgQXJyYXldXCIgPyBbXSA6IG9iamVjdDtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgd2hpbGUgKGlwIDwgZW5kKSB7XG4gICAgICAgICAgc3dpdGNoIChiY1tpcF0pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgc3RhY2sucHVzaChwcm90ZWN0KHBlZyRjb25zdHNbYmNbaXAgKyAxXV0pKTtcbiAgICAgICAgICAgICAgaXAgKz0gMjtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgc3RhY2sucHVzaChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICAgIGlwKys7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICBpcCsrO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICBpcCsrO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBzdGFjay5sZW5ndGggLT0gYmNbaXAgKyAxXTtcbiAgICAgICAgICAgICAgaXAgKz0gMjtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgc3RhY2suc3BsaWNlKC0yLCAxKTtcbiAgICAgICAgICAgICAgaXArKztcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgc3RhY2tbc3RhY2subGVuZ3RoIC0gMl0ucHVzaChzdGFjay5wb3AoKSk7XG4gICAgICAgICAgICAgIGlwKys7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgIHN0YWNrLnB1c2goc3RhY2suc3BsaWNlKHN0YWNrLmxlbmd0aCAtIGJjW2lwICsgMV0sIGJjW2lwICsgMV0pKTtcbiAgICAgICAgICAgICAgaXAgKz0gMjtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgIHN0YWNrLnB1c2goaW5wdXQuc3Vic3RyaW5nKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLCBwZWckY3VyclBvcykpO1xuICAgICAgICAgICAgICBpcCsrO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICBlbmRzLnB1c2goZW5kKTtcbiAgICAgICAgICAgICAgaXBzLnB1c2goaXAgKyAzICsgYmNbaXAgKyAxXSArIGJjW2lwICsgMl0pO1xuXG4gICAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgICAgIGVuZCA9IGlwICsgMyArIGJjW2lwICsgMV07XG4gICAgICAgICAgICAgICAgaXAgKz0gMztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDMgKyBiY1tpcCArIDFdICsgYmNbaXAgKyAyXTtcbiAgICAgICAgICAgICAgICBpcCArPSAzICsgYmNbaXAgKyAxXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICBlbmRzLnB1c2goZW5kKTtcbiAgICAgICAgICAgICAgaXBzLnB1c2goaXAgKyAzICsgYmNbaXAgKyAxXSArIGJjW2lwICsgMl0pO1xuXG4gICAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGVuZCA9IGlwICsgMyArIGJjW2lwICsgMV07XG4gICAgICAgICAgICAgICAgaXAgKz0gMztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDMgKyBiY1tpcCArIDFdICsgYmNbaXAgKyAyXTtcbiAgICAgICAgICAgICAgICBpcCArPSAzICsgYmNbaXAgKyAxXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICBlbmRzLnB1c2goZW5kKTtcbiAgICAgICAgICAgICAgaXBzLnB1c2goaXAgKyAzICsgYmNbaXAgKyAxXSArIGJjW2lwICsgMl0pO1xuXG4gICAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGVuZCA9IGlwICsgMyArIGJjW2lwICsgMV07XG4gICAgICAgICAgICAgICAgaXAgKz0gMztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDMgKyBiY1tpcCArIDFdICsgYmNbaXAgKyAyXTtcbiAgICAgICAgICAgICAgICBpcCArPSAzICsgYmNbaXAgKyAxXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBlbmRzLnB1c2goZW5kKTtcbiAgICAgICAgICAgICAgICBpcHMucHVzaChpcCk7XG5cbiAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDIgKyBiY1tpcCArIDFdO1xuICAgICAgICAgICAgICAgIGlwICs9IDI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXAgKz0gMiArIGJjW2lwICsgMV07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgZW5kcy5wdXNoKGVuZCk7XG4gICAgICAgICAgICAgIGlwcy5wdXNoKGlwICsgMyArIGJjW2lwICsgMV0gKyBiY1tpcCArIDJdKTtcblxuICAgICAgICAgICAgICBpZiAoaW5wdXQubGVuZ3RoID4gcGVnJGN1cnJQb3MpIHtcbiAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDMgKyBiY1tpcCArIDFdO1xuICAgICAgICAgICAgICAgIGlwICs9IDM7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZW5kID0gaXAgKyAzICsgYmNbaXAgKyAxXSArIGJjW2lwICsgMl07XG4gICAgICAgICAgICAgICAgaXAgKz0gMyArIGJjW2lwICsgMV07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgZW5kcy5wdXNoKGVuZCk7XG4gICAgICAgICAgICAgIGlwcy5wdXNoKGlwICsgNCArIGJjW2lwICsgMl0gKyBiY1tpcCArIDNdKTtcblxuICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCBwZWckY29uc3RzW2JjW2lwICsgMV1dLmxlbmd0aCkgPT09IHBlZyRjb25zdHNbYmNbaXAgKyAxXV0pIHtcbiAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDQgKyBiY1tpcCArIDJdO1xuICAgICAgICAgICAgICAgIGlwICs9IDQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZW5kID0gaXAgKyA0ICsgYmNbaXAgKyAyXSArIGJjW2lwICsgM107XG4gICAgICAgICAgICAgICAgaXAgKz0gNCArIGJjW2lwICsgMl07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgZW5kcy5wdXNoKGVuZCk7XG4gICAgICAgICAgICAgIGlwcy5wdXNoKGlwICsgNCArIGJjW2lwICsgMl0gKyBiY1tpcCArIDNdKTtcblxuICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCBwZWckY29uc3RzW2JjW2lwICsgMV1dLmxlbmd0aCkudG9Mb3dlckNhc2UoKSA9PT0gcGVnJGNvbnN0c1tiY1tpcCArIDFdXSkge1xuICAgICAgICAgICAgICAgIGVuZCA9IGlwICsgNCArIGJjW2lwICsgMl07XG4gICAgICAgICAgICAgICAgaXAgKz0gNDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDQgKyBiY1tpcCArIDJdICsgYmNbaXAgKyAzXTtcbiAgICAgICAgICAgICAgICBpcCArPSA0ICsgYmNbaXAgKyAyXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICBlbmRzLnB1c2goZW5kKTtcbiAgICAgICAgICAgICAgaXBzLnB1c2goaXAgKyA0ICsgYmNbaXAgKyAyXSArIGJjW2lwICsgM10pO1xuXG4gICAgICAgICAgICAgIGlmIChwZWckY29uc3RzW2JjW2lwICsgMV1dLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgICAgICBlbmQgPSBpcCArIDQgKyBiY1tpcCArIDJdO1xuICAgICAgICAgICAgICAgIGlwICs9IDQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZW5kID0gaXAgKyA0ICsgYmNbaXAgKyAyXSArIGJjW2lwICsgM107XG4gICAgICAgICAgICAgICAgaXAgKz0gNCArIGJjW2lwICsgMl07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgc3RhY2sucHVzaChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIGJjW2lwICsgMV0pKTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gYmNbaXAgKyAxXTtcbiAgICAgICAgICAgICAgaXAgKz0gMjtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICAgIHN0YWNrLnB1c2gocGVnJGNvbnN0c1tiY1tpcCArIDFdXSk7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IHBlZyRjb25zdHNbYmNbaXAgKyAxXV0ubGVuZ3RoO1xuICAgICAgICAgICAgICBpcCArPSAyO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgICAgc3RhY2sucHVzaChwZWckRkFJTEVEKTtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHBlZyRmYWlsKHBlZyRjb25zdHNbYmNbaXAgKyAxXV0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlwICs9IDI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgICAgICBwZWckcmVwb3J0ZWRQb3MgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxIC0gYmNbaXAgKyAxXV07XG4gICAgICAgICAgICAgIGlwICs9IDI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgICAgICBwZWckcmVwb3J0ZWRQb3MgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgICAgaXArKztcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICAgIHBhcmFtcyA9IGJjLnNsaWNlKGlwICsgNCwgaXAgKyA0ICsgYmNbaXAgKyAzXSk7XG4gICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBiY1tpcCArIDNdOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwYXJhbXNbaV0gPSBzdGFja1tzdGFjay5sZW5ndGggLSAxIC0gcGFyYW1zW2ldXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHN0YWNrLnNwbGljZShcbiAgICAgICAgICAgICAgICBzdGFjay5sZW5ndGggLSBiY1tpcCArIDJdLFxuICAgICAgICAgICAgICAgIGJjW2lwICsgMl0sXG4gICAgICAgICAgICAgICAgcGVnJGNvbnN0c1tiY1tpcCArIDFdXS5hcHBseShudWxsLCBwYXJhbXMpXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgaXAgKz0gNCArIGJjW2lwICsgM107XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgICAgICBzdGFjay5wdXNoKHBlZyRwYXJzZVJ1bGUoYmNbaXAgKyAxXSkpO1xuICAgICAgICAgICAgICBpcCArPSAyO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICAgICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgICAgICAgICAgIGlwKys7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgICAgICBwZWckc2lsZW50RmFpbHMtLTtcbiAgICAgICAgICAgICAgaXArKztcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgb3Bjb2RlOiBcIiArIGJjW2lwXSArIFwiLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW5kcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZW5kID0gZW5kcy5wb3AoKTtcbiAgICAgICAgICBpcCA9IGlwcy5wb3AoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RhY2tbMF07XG4gICAgfVxuXG5cbiAgICAgIG9wdGlvbnMuZGF0YSA9IHt9OyAvLyBPYmplY3QgdG8gd2hpY2ggaGVhZGVyIGF0dHJpYnV0ZXMgd2lsbCBiZSBhc3NpZ25lZCBkdXJpbmcgcGFyc2luZ1xuXG4gICAgICBmdW5jdGlvbiBsaXN0IChmaXJzdCwgcmVzdCkge1xuICAgICAgICByZXR1cm4gW2ZpcnN0XS5jb25jYXQocmVzdCk7XG4gICAgICB9XG5cblxuICAgIHBlZyRyZXN1bHQgPSBwZWckcGFyc2VSdWxlKHBlZyRzdGFydFJ1bGVJbmRleCk7XG5cbiAgICBpZiAocGVnJHJlc3VsdCAhPT0gcGVnJEZBSUxFRCAmJiBwZWckY3VyclBvcyA9PT0gaW5wdXQubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gcGVnJHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBlZyRyZXN1bHQgIT09IHBlZyRGQUlMRUQgJiYgcGVnJGN1cnJQb3MgPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgcGVnJGZhaWwoeyB0eXBlOiBcImVuZFwiLCBkZXNjcmlwdGlvbjogXCJlbmQgb2YgaW5wdXRcIiB9KTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgcGVnJGJ1aWxkRXhjZXB0aW9uKG51bGwsIHBlZyRtYXhGYWlsRXhwZWN0ZWQsIHBlZyRtYXhGYWlsUG9zKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFN5bnRheEVycm9yOiBTeW50YXhFcnJvcixcbiAgICBwYXJzZTogICAgICAgcGFyc2VcbiAgfTtcbn0pKCk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvQHR3aWxpby9zaXAuanMvc3JjL0dyYW1tYXIvZGlzdC9HcmFtbWFyLmpzXG4vLyBtb2R1bGUgaWQgPSAzNzRcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///374\n");

/***/ }),
/* 375 */
/*!************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/v2/localparticipant.js ***!
  \************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ParticipantSignaling = __webpack_require__(/*! ../participant */ 228);\nvar LocalTrackPublicationV2 = __webpack_require__(/*! ./localtrackpublication */ 376);\n\n/**\n * @extends ParticipantSignaling\n * @property {number} revision\n * @emits LocalParticipantV2#updated\n */\n\nvar LocalParticipantV2 = function (_ParticipantSignaling) {\n  _inherits(LocalParticipantV2, _ParticipantSignaling);\n\n  /**\n   * Construct a {@link LocalParticipantV2}.\n   * @param {EncodingParametersImpl} encodingParameters\n   * @param {object} [options]\n   */\n  function LocalParticipantV2(encodingParameters, options) {\n    _classCallCheck(this, LocalParticipantV2);\n\n    options = Object.assign({\n      LocalTrackPublicationV2: LocalTrackPublicationV2\n    }, options);\n\n    var _this = _possibleConstructorReturn(this, (LocalParticipantV2.__proto__ || Object.getPrototypeOf(LocalParticipantV2)).call(this));\n\n    Object.defineProperties(_this, {\n      _encodingParameters: {\n        value: encodingParameters\n      },\n      _removeListeners: {\n        value: new Map()\n      },\n      _LocalTrackPublicationV2: {\n        value: options.LocalTrackPublicationV2\n      },\n      _publishedRevision: {\n        writable: true,\n        value: 0\n      },\n      _revision: {\n        writable: true,\n        value: 1\n      },\n      revision: {\n        enumerable: true,\n        get: function get() {\n          return this._revision;\n        }\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * Set the {@link EncodingParameters}.\n   * @param {?EncodingParameters} encodingParameters\n   * @returns {this}\n   */\n\n\n  _createClass(LocalParticipantV2, [{\n    key: 'setParameters',\n    value: function setParameters(encodingParameters) {\n      this._encodingParameters.update(encodingParameters);\n      return this;\n    }\n\n    /**\n     * Update the {@link LocalParticipantV2} with the new state.\n     * @param {Published} published\n     * @returns {this}\n     */\n\n  }, {\n    key: 'update',\n    value: function update(published) {\n      if (this._publishedRevision >= published.revision) {\n        return this;\n      }\n\n      this._publishedRevision = published.revision;\n\n      published.tracks.forEach(function (publicationState) {\n        var localTrackPublicationV2 = this.tracks.get(publicationState.id);\n        if (localTrackPublicationV2) {\n          localTrackPublicationV2.update(publicationState);\n        }\n      }, this);\n\n      return this;\n    }\n\n    /**\n     * Add a {@link LocalTrackPublicationV2} for the given {@link DataTrackSender}\n     * or {@link MediaTrackSender} to the {@link LocalParticipantV2}.\n     * @param {DataTrackSender|MediaTrackSender} trackSender\n     * @param {string} name\n     * @returns {this}\n     */\n\n  }, {\n    key: 'addTrack',\n    value: function addTrack(trackSender, name) {\n      var _this2 = this;\n\n      var publication = new this._LocalTrackPublicationV2(trackSender, name);\n      _get(LocalParticipantV2.prototype.__proto__ || Object.getPrototypeOf(LocalParticipantV2.prototype), 'addTrack', this).call(this, publication);\n\n      var sid = publication.sid;\n\n\n      var updated = function updated() {\n        // NOTE(mmalavalli): The LocalParticipantV2's state is only published if\n        // the \"updated\" event is emitted due to LocalTrackPublicationV2's\n        // .isEnabled being toggled. We do not publish if it is fired due to the\n        // LocalTrackPublicationV2's .sid being set.\n        if (sid === publication.sid) {\n          _this2.didUpdate();\n          return;\n        }\n        sid = publication.sid;\n      };\n\n      publication.on('updated', updated);\n\n      this._removeListener(publication);\n      this._removeListeners.set(publication, function () {\n        return publication.removeListener('updated', updated);\n      });\n\n      this.didUpdate();\n\n      return this;\n    }\n\n    /**\n     * @private\n     * @param {LocalTrackPublicationV2} publication\n     * @returns {void}\n     */\n\n  }, {\n    key: '_removeListener',\n    value: function _removeListener(publication) {\n      var removeListener = this._removeListeners.get(publication);\n      if (removeListener) {\n        removeListener();\n      }\n    }\n\n    /**\n     * Get the current state of the {@link LocalParticipantV2}.\n     * @returns {object}\n     */\n\n  }, {\n    key: 'getState',\n    value: function getState() {\n      return {\n        revision: this.revision,\n        tracks: Array.from(this.tracks.values()).map(function (track) {\n          return track.getState();\n        })\n      };\n    }\n\n    /**\n     * Increment the revision for the {@link LocalParticipantV2}.\n     * @private\n     * @returns {void}\n     */\n\n  }, {\n    key: 'didUpdate',\n    value: function didUpdate() {\n      this._revision++;\n      this.emit('updated');\n    }\n\n    /**\n     * Remove the {@link LocalTrackPublicationV2} for the given {@link DataTrackSender}\n     * or {@link MediaTrackSender} from the {@link LocalParticipantV2}.\n     * @param {DataTrackSender|MediaTrackSender} trackSender\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'removeTrack',\n    value: function removeTrack(trackSender) {\n      var publication = this.tracks.get(trackSender.id);\n      if (!publication) {\n        return false;\n      }\n      var didDelete = _get(LocalParticipantV2.prototype.__proto__ || Object.getPrototypeOf(LocalParticipantV2.prototype), 'removeTrack', this).call(this, publication);\n      if (didDelete) {\n        this._removeListener(publication);\n        this.didUpdate();\n      }\n      return didDelete;\n    }\n  }]);\n\n  return LocalParticipantV2;\n}(ParticipantSignaling);\n\n/**\n * @interface Published\n * @property {number} revision\n * @property {Array<PublishedTrack>} tracks\n */\n\n/**\n * @typedef {CreatedTrack|ReadyTrack|FailedTrack} PublishedTrack\n */\n\n/**\n * @interface CreatedTrack\n * @property {Track.ID} id\n * @property {string} state - \"created\"\n */\n\n/**\n * @interface ReadyTrack\n * @property {Track.ID} id\n * @property {Track.SID} sid\n * @property {string} state - \"ready\"\n */\n\n/**\n * @interface FailedTrack\n * @property {Track.ID} id\n * @property {TrackError} error\n * @property {string} state - \"failed\"\n */\n\n/**\n * @interface TrackError\n * @property {number} code\n * @property {string} message\n */\n\n/**\n * @event LocalParticipantV2#updated\n */\n\nmodule.exports = LocalParticipantV2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvbG9jYWxwYXJ0aWNpcGFudC5qcz81NmY4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixxREFBcUQsa0RBQWtELDhEQUE4RCwwQkFBMEIsNENBQTRDLHVCQUF1QixrQkFBa0IsRUFBRSxPQUFPLHdDQUF3QyxFQUFFLEVBQUUsNEJBQTRCLG1CQUFtQixFQUFFLE9BQU8sdUJBQXVCLDRCQUE0QixrQkFBa0IsRUFBRSw4QkFBOEIsRUFBRTs7QUFFeGUsaURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZSwyQkFBMkIsbUJBQU8sQ0FBQyx5QkFBZ0I7QUFDbkQsOEJBQThCLG1CQUFPLENBQUMsa0NBQXlCOztBQUUvRDtBQUNBO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQix5QkFBeUI7QUFDM0MsYUFBYSx1QkFBdUI7QUFDcEMsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLHlCQUF5QjtBQUN2QyxhQUFhLG9CQUFvQjtBQUNqQyxlQUFlO0FBQ2Y7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQix5QkFBeUI7QUFDNUMsZUFBZSxVQUFVO0FBQ3pCLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBOztBQUVBO0FBQ0EsY0FBYyw4QkFBOEIsZ0JBQWdCO0FBQzVELFdBQVcsdUJBQXVCLFNBQVMseUJBQXlCO0FBQ3BFLGVBQWUsaUNBQWlDO0FBQ2hELGVBQWUsT0FBTztBQUN0QixpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSx3QkFBd0I7QUFDdkMsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFDQUFxQyx5QkFBeUI7QUFDOUQsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBLHVDQUF1Qyx5QkFBeUI7QUFDaEU7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsOEJBQThCLGdCQUFnQjtBQUNqRSxXQUFXLHVCQUF1QixXQUFXLHlCQUF5QjtBQUN0RSxlQUFlLGlDQUFpQztBQUNoRCxpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLHNCQUFzQjtBQUNwQzs7QUFFQTtBQUNBLGFBQWEsb0NBQW9DO0FBQ2pEOztBQUVBO0FBQ0E7QUFDQSxjQUFjLFNBQVM7QUFDdkIsY0FBYyxPQUFPO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQSxjQUFjLFNBQVM7QUFDdkIsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCLGNBQWMsV0FBVztBQUN6QixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLE9BQU87QUFDckI7O0FBRUE7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjM3NS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IHJldHVybiBnZXQocGFyZW50LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9O1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBQYXJ0aWNpcGFudFNpZ25hbGluZyA9IHJlcXVpcmUoJy4uL3BhcnRpY2lwYW50Jyk7XG52YXIgTG9jYWxUcmFja1B1YmxpY2F0aW9uVjIgPSByZXF1aXJlKCcuL2xvY2FsdHJhY2twdWJsaWNhdGlvbicpO1xuXG4vKipcbiAqIEBleHRlbmRzIFBhcnRpY2lwYW50U2lnbmFsaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmV2aXNpb25cbiAqIEBlbWl0cyBMb2NhbFBhcnRpY2lwYW50VjIjdXBkYXRlZFxuICovXG5cbnZhciBMb2NhbFBhcnRpY2lwYW50VjIgPSBmdW5jdGlvbiAoX1BhcnRpY2lwYW50U2lnbmFsaW5nKSB7XG4gIF9pbmhlcml0cyhMb2NhbFBhcnRpY2lwYW50VjIsIF9QYXJ0aWNpcGFudFNpZ25hbGluZyk7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBMb2NhbFBhcnRpY2lwYW50VjJ9LlxuICAgKiBAcGFyYW0ge0VuY29kaW5nUGFyYW1ldGVyc0ltcGx9IGVuY29kaW5nUGFyYW1ldGVyc1xuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAqL1xuICBmdW5jdGlvbiBMb2NhbFBhcnRpY2lwYW50VjIoZW5jb2RpbmdQYXJhbWV0ZXJzLCBvcHRpb25zKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvY2FsUGFydGljaXBhbnRWMik7XG5cbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBMb2NhbFRyYWNrUHVibGljYXRpb25WMjogTG9jYWxUcmFja1B1YmxpY2F0aW9uVjJcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMb2NhbFBhcnRpY2lwYW50VjIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMb2NhbFBhcnRpY2lwYW50VjIpKS5jYWxsKHRoaXMpKTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBfZW5jb2RpbmdQYXJhbWV0ZXJzOiB7XG4gICAgICAgIHZhbHVlOiBlbmNvZGluZ1BhcmFtZXRlcnNcbiAgICAgIH0sXG4gICAgICBfcmVtb3ZlTGlzdGVuZXJzOiB7XG4gICAgICAgIHZhbHVlOiBuZXcgTWFwKClcbiAgICAgIH0sXG4gICAgICBfTG9jYWxUcmFja1B1YmxpY2F0aW9uVjI6IHtcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMuTG9jYWxUcmFja1B1YmxpY2F0aW9uVjJcbiAgICAgIH0sXG4gICAgICBfcHVibGlzaGVkUmV2aXNpb246IHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiAwXG4gICAgICB9LFxuICAgICAgX3JldmlzaW9uOiB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogMVxuICAgICAgfSxcbiAgICAgIHJldmlzaW9uOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9yZXZpc2lvbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHtAbGluayBFbmNvZGluZ1BhcmFtZXRlcnN9LlxuICAgKiBAcGFyYW0gez9FbmNvZGluZ1BhcmFtZXRlcnN9IGVuY29kaW5nUGFyYW1ldGVyc1xuICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoTG9jYWxQYXJ0aWNpcGFudFYyLCBbe1xuICAgIGtleTogJ3NldFBhcmFtZXRlcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQYXJhbWV0ZXJzKGVuY29kaW5nUGFyYW1ldGVycykge1xuICAgICAgdGhpcy5fZW5jb2RpbmdQYXJhbWV0ZXJzLnVwZGF0ZShlbmNvZGluZ1BhcmFtZXRlcnMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudFYyfSB3aXRoIHRoZSBuZXcgc3RhdGUuXG4gICAgICogQHBhcmFtIHtQdWJsaXNoZWR9IHB1Ymxpc2hlZFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd1cGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUocHVibGlzaGVkKSB7XG4gICAgICBpZiAodGhpcy5fcHVibGlzaGVkUmV2aXNpb24gPj0gcHVibGlzaGVkLnJldmlzaW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9wdWJsaXNoZWRSZXZpc2lvbiA9IHB1Ymxpc2hlZC5yZXZpc2lvbjtcblxuICAgICAgcHVibGlzaGVkLnRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChwdWJsaWNhdGlvblN0YXRlKSB7XG4gICAgICAgIHZhciBsb2NhbFRyYWNrUHVibGljYXRpb25WMiA9IHRoaXMudHJhY2tzLmdldChwdWJsaWNhdGlvblN0YXRlLmlkKTtcbiAgICAgICAgaWYgKGxvY2FsVHJhY2tQdWJsaWNhdGlvblYyKSB7XG4gICAgICAgICAgbG9jYWxUcmFja1B1YmxpY2F0aW9uVjIudXBkYXRlKHB1YmxpY2F0aW9uU3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEge0BsaW5rIExvY2FsVHJhY2tQdWJsaWNhdGlvblYyfSBmb3IgdGhlIGdpdmVuIHtAbGluayBEYXRhVHJhY2tTZW5kZXJ9XG4gICAgICogb3Ige0BsaW5rIE1lZGlhVHJhY2tTZW5kZXJ9IHRvIHRoZSB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudFYyfS5cbiAgICAgKiBAcGFyYW0ge0RhdGFUcmFja1NlbmRlcnxNZWRpYVRyYWNrU2VuZGVyfSB0cmFja1NlbmRlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2FkZFRyYWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkVHJhY2sodHJhY2tTZW5kZXIsIG5hbWUpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgcHVibGljYXRpb24gPSBuZXcgdGhpcy5fTG9jYWxUcmFja1B1YmxpY2F0aW9uVjIodHJhY2tTZW5kZXIsIG5hbWUpO1xuICAgICAgX2dldChMb2NhbFBhcnRpY2lwYW50VjIucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTG9jYWxQYXJ0aWNpcGFudFYyLnByb3RvdHlwZSksICdhZGRUcmFjaycsIHRoaXMpLmNhbGwodGhpcywgcHVibGljYXRpb24pO1xuXG4gICAgICB2YXIgc2lkID0gcHVibGljYXRpb24uc2lkO1xuXG5cbiAgICAgIHZhciB1cGRhdGVkID0gZnVuY3Rpb24gdXBkYXRlZCgpIHtcbiAgICAgICAgLy8gTk9URShtbWFsYXZhbGxpKTogVGhlIExvY2FsUGFydGljaXBhbnRWMidzIHN0YXRlIGlzIG9ubHkgcHVibGlzaGVkIGlmXG4gICAgICAgIC8vIHRoZSBcInVwZGF0ZWRcIiBldmVudCBpcyBlbWl0dGVkIGR1ZSB0byBMb2NhbFRyYWNrUHVibGljYXRpb25WMidzXG4gICAgICAgIC8vIC5pc0VuYWJsZWQgYmVpbmcgdG9nZ2xlZC4gV2UgZG8gbm90IHB1Ymxpc2ggaWYgaXQgaXMgZmlyZWQgZHVlIHRvIHRoZVxuICAgICAgICAvLyBMb2NhbFRyYWNrUHVibGljYXRpb25WMidzIC5zaWQgYmVpbmcgc2V0LlxuICAgICAgICBpZiAoc2lkID09PSBwdWJsaWNhdGlvbi5zaWQpIHtcbiAgICAgICAgICBfdGhpczIuZGlkVXBkYXRlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNpZCA9IHB1YmxpY2F0aW9uLnNpZDtcbiAgICAgIH07XG5cbiAgICAgIHB1YmxpY2F0aW9uLm9uKCd1cGRhdGVkJywgdXBkYXRlZCk7XG5cbiAgICAgIHRoaXMuX3JlbW92ZUxpc3RlbmVyKHB1YmxpY2F0aW9uKTtcbiAgICAgIHRoaXMuX3JlbW92ZUxpc3RlbmVycy5zZXQocHVibGljYXRpb24sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHB1YmxpY2F0aW9uLnJlbW92ZUxpc3RlbmVyKCd1cGRhdGVkJywgdXBkYXRlZCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5kaWRVcGRhdGUoKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0xvY2FsVHJhY2tQdWJsaWNhdGlvblYyfSBwdWJsaWNhdGlvblxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfcmVtb3ZlTGlzdGVuZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlTGlzdGVuZXIocHVibGljYXRpb24pIHtcbiAgICAgIHZhciByZW1vdmVMaXN0ZW5lciA9IHRoaXMuX3JlbW92ZUxpc3RlbmVycy5nZXQocHVibGljYXRpb24pO1xuICAgICAgaWYgKHJlbW92ZUxpc3RlbmVyKSB7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVyKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSB7QGxpbmsgTG9jYWxQYXJ0aWNpcGFudFYyfS5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRTdGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmV2aXNpb246IHRoaXMucmV2aXNpb24sXG4gICAgICAgIHRyYWNrczogQXJyYXkuZnJvbSh0aGlzLnRyYWNrcy52YWx1ZXMoKSkubWFwKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICAgIHJldHVybiB0cmFjay5nZXRTdGF0ZSgpO1xuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmNyZW1lbnQgdGhlIHJldmlzaW9uIGZvciB0aGUge0BsaW5rIExvY2FsUGFydGljaXBhbnRWMn0uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlkVXBkYXRlKCkge1xuICAgICAgdGhpcy5fcmV2aXNpb24rKztcbiAgICAgIHRoaXMuZW1pdCgndXBkYXRlZCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUge0BsaW5rIExvY2FsVHJhY2tQdWJsaWNhdGlvblYyfSBmb3IgdGhlIGdpdmVuIHtAbGluayBEYXRhVHJhY2tTZW5kZXJ9XG4gICAgICogb3Ige0BsaW5rIE1lZGlhVHJhY2tTZW5kZXJ9IGZyb20gdGhlIHtAbGluayBMb2NhbFBhcnRpY2lwYW50VjJ9LlxuICAgICAqIEBwYXJhbSB7RGF0YVRyYWNrU2VuZGVyfE1lZGlhVHJhY2tTZW5kZXJ9IHRyYWNrU2VuZGVyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3JlbW92ZVRyYWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlVHJhY2sodHJhY2tTZW5kZXIpIHtcbiAgICAgIHZhciBwdWJsaWNhdGlvbiA9IHRoaXMudHJhY2tzLmdldCh0cmFja1NlbmRlci5pZCk7XG4gICAgICBpZiAoIXB1YmxpY2F0aW9uKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBkaWREZWxldGUgPSBfZ2V0KExvY2FsUGFydGljaXBhbnRWMi5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMb2NhbFBhcnRpY2lwYW50VjIucHJvdG90eXBlKSwgJ3JlbW92ZVRyYWNrJywgdGhpcykuY2FsbCh0aGlzLCBwdWJsaWNhdGlvbik7XG4gICAgICBpZiAoZGlkRGVsZXRlKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUxpc3RlbmVyKHB1YmxpY2F0aW9uKTtcbiAgICAgICAgdGhpcy5kaWRVcGRhdGUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkaWREZWxldGU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExvY2FsUGFydGljaXBhbnRWMjtcbn0oUGFydGljaXBhbnRTaWduYWxpbmcpO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgUHVibGlzaGVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmV2aXNpb25cbiAqIEBwcm9wZXJ0eSB7QXJyYXk8UHVibGlzaGVkVHJhY2s+fSB0cmFja3NcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtDcmVhdGVkVHJhY2t8UmVhZHlUcmFja3xGYWlsZWRUcmFja30gUHVibGlzaGVkVHJhY2tcbiAqL1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgQ3JlYXRlZFRyYWNrXG4gKiBAcHJvcGVydHkge1RyYWNrLklEfSBpZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHN0YXRlIC0gXCJjcmVhdGVkXCJcbiAqL1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgUmVhZHlUcmFja1xuICogQHByb3BlcnR5IHtUcmFjay5JRH0gaWRcbiAqIEBwcm9wZXJ0eSB7VHJhY2suU0lEfSBzaWRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdGF0ZSAtIFwicmVhZHlcIlxuICovXG5cbi8qKlxuICogQGludGVyZmFjZSBGYWlsZWRUcmFja1xuICogQHByb3BlcnR5IHtUcmFjay5JRH0gaWRcbiAqIEBwcm9wZXJ0eSB7VHJhY2tFcnJvcn0gZXJyb3JcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdGF0ZSAtIFwiZmFpbGVkXCJcbiAqL1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgVHJhY2tFcnJvclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGNvZGVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlXG4gKi9cblxuLyoqXG4gKiBAZXZlbnQgTG9jYWxQYXJ0aWNpcGFudFYyI3VwZGF0ZWRcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IExvY2FsUGFydGljaXBhbnRWMjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy90d2lsaW8tdmlkZW8vZXM1L3NpZ25hbGluZy92Mi9sb2NhbHBhcnRpY2lwYW50LmpzXG4vLyBtb2R1bGUgaWQgPSAzNzVcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///375\n");

/***/ }),
/* 376 */
/*!*****************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/v2/localtrackpublication.js ***!
  \*****************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LocalTrackPublicationSignaling = __webpack_require__(/*! ../localtrackpublication */ 377);\nvar createTwilioError = __webpack_require__(/*! ../../util/twilio-video-errors */ 209).createTwilioError;\n\n/**\n * @extends LocalTrackPublicationSignaling\n */\n\nvar LocalTrackPublicationV2 = function (_LocalTrackPublicatio) {\n  _inherits(LocalTrackPublicationV2, _LocalTrackPublicatio);\n\n  /**\n   * Construct a {@link LocalTrackPublicationV2}.\n   * @param {DataTrackSender|MediaTrackSender} trackSender\n   * @param {string} name\n   */\n  function LocalTrackPublicationV2(trackSender, name) {\n    _classCallCheck(this, LocalTrackPublicationV2);\n\n    return _possibleConstructorReturn(this, (LocalTrackPublicationV2.__proto__ || Object.getPrototypeOf(LocalTrackPublicationV2)).call(this, trackSender, name));\n  }\n\n  /**\n   * Get the {@link LocalTrackPublicationV2#Representation} of a given {@link TrackSignaling}.\n   * @returns {LocalTrackPublicationV2#Representation} - without the SID\n   */\n\n\n  _createClass(LocalTrackPublicationV2, [{\n    key: 'getState',\n    value: function getState() {\n      return {\n        enabled: this.isEnabled,\n        id: this.id,\n        kind: this.kind,\n        name: this.name\n      };\n    }\n\n    /**\n     * Compare the {@link LocalTrackPublicationV2} to a {@link LocalTrackPublicationV2#Representation} of itself\n     * and perform any updates necessary.\n     * @param {PublishedTrack} track\n     * @returns {this}\n     * @fires TrackSignaling#updated\n     */\n\n  }, {\n    key: 'update',\n    value: function update(track) {\n      switch (track.state) {\n        case 'ready':\n          this.setSid(track.sid);\n          break;\n        case 'failed':\n          {\n            var error = track.error;\n            this.publishFailed(createTwilioError(error.code, error.message));\n            break;\n          }\n        default:\n          // 'created'\n          break;\n      }\n      return this;\n    }\n  }]);\n\n  return LocalTrackPublicationV2;\n}(LocalTrackPublicationSignaling);\n\n/**\n * The Room Signaling Protocol (RSP) representation of a {@link LocalTrackPublicationV2}.\n * @typedef {object} LocalTrackPublicationV2#Representation\n * @property {boolean} enabled\n * @property {Track.ID} id\n * @property {Track.Kind} kind\n * @property {string} name\n * @property {Track.SID} sid\n */\n\nmodule.exports = LocalTrackPublicationV2;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvbG9jYWx0cmFja3B1YmxpY2F0aW9uLmpzP2UzYTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWUscUNBQXFDLG1CQUFPLENBQUMsbUNBQTBCO0FBQ3ZFLHdCQUF3QixtQkFBTyxDQUFDLHlDQUFnQzs7QUFFaEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsOEJBQThCO0FBQ2hELGFBQWEsaUNBQWlDO0FBQzlDLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGNBQWMsNkNBQTZDLGFBQWEscUJBQXFCO0FBQzdGLGVBQWUsdUNBQXVDO0FBQ3REOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQiw4QkFBOEIsT0FBTyw2Q0FBNkM7QUFDdEc7QUFDQSxlQUFlLGVBQWU7QUFDOUIsaUJBQWlCO0FBQ2pCO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0EsMERBQTBELDhCQUE4QjtBQUN4RixhQUFhLE9BQU87QUFDcEIsY0FBYyxRQUFRO0FBQ3RCLGNBQWMsU0FBUztBQUN2QixjQUFjLFdBQVc7QUFDekIsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsVUFBVTtBQUN4Qjs7QUFFQSIsImZpbGUiOiIzNzYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIExvY2FsVHJhY2tQdWJsaWNhdGlvblNpZ25hbGluZyA9IHJlcXVpcmUoJy4uL2xvY2FsdHJhY2twdWJsaWNhdGlvbicpO1xudmFyIGNyZWF0ZVR3aWxpb0Vycm9yID0gcmVxdWlyZSgnLi4vLi4vdXRpbC90d2lsaW8tdmlkZW8tZXJyb3JzJykuY3JlYXRlVHdpbGlvRXJyb3I7XG5cbi8qKlxuICogQGV4dGVuZHMgTG9jYWxUcmFja1B1YmxpY2F0aW9uU2lnbmFsaW5nXG4gKi9cblxudmFyIExvY2FsVHJhY2tQdWJsaWNhdGlvblYyID0gZnVuY3Rpb24gKF9Mb2NhbFRyYWNrUHVibGljYXRpbykge1xuICBfaW5oZXJpdHMoTG9jYWxUcmFja1B1YmxpY2F0aW9uVjIsIF9Mb2NhbFRyYWNrUHVibGljYXRpbyk7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIHtAbGluayBMb2NhbFRyYWNrUHVibGljYXRpb25WMn0uXG4gICAqIEBwYXJhbSB7RGF0YVRyYWNrU2VuZGVyfE1lZGlhVHJhY2tTZW5kZXJ9IHRyYWNrU2VuZGVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqL1xuICBmdW5jdGlvbiBMb2NhbFRyYWNrUHVibGljYXRpb25WMih0cmFja1NlbmRlciwgbmFtZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb2NhbFRyYWNrUHVibGljYXRpb25WMik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKExvY2FsVHJhY2tQdWJsaWNhdGlvblYyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTG9jYWxUcmFja1B1YmxpY2F0aW9uVjIpKS5jYWxsKHRoaXMsIHRyYWNrU2VuZGVyLCBuYW1lKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB7QGxpbmsgTG9jYWxUcmFja1B1YmxpY2F0aW9uVjIjUmVwcmVzZW50YXRpb259IG9mIGEgZ2l2ZW4ge0BsaW5rIFRyYWNrU2lnbmFsaW5nfS5cbiAgICogQHJldHVybnMge0xvY2FsVHJhY2tQdWJsaWNhdGlvblYyI1JlcHJlc2VudGF0aW9ufSAtIHdpdGhvdXQgdGhlIFNJRFxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhMb2NhbFRyYWNrUHVibGljYXRpb25WMiwgW3tcbiAgICBrZXk6ICdnZXRTdGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZW5hYmxlZDogdGhpcy5pc0VuYWJsZWQsXG4gICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICBraW5kOiB0aGlzLmtpbmQsXG4gICAgICAgIG5hbWU6IHRoaXMubmFtZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wYXJlIHRoZSB7QGxpbmsgTG9jYWxUcmFja1B1YmxpY2F0aW9uVjJ9IHRvIGEge0BsaW5rIExvY2FsVHJhY2tQdWJsaWNhdGlvblYyI1JlcHJlc2VudGF0aW9ufSBvZiBpdHNlbGZcbiAgICAgKiBhbmQgcGVyZm9ybSBhbnkgdXBkYXRlcyBuZWNlc3NhcnkuXG4gICAgICogQHBhcmFtIHtQdWJsaXNoZWRUcmFja30gdHJhY2tcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKiBAZmlyZXMgVHJhY2tTaWduYWxpbmcjdXBkYXRlZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd1cGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUodHJhY2spIHtcbiAgICAgIHN3aXRjaCAodHJhY2suc3RhdGUpIHtcbiAgICAgICAgY2FzZSAncmVhZHknOlxuICAgICAgICAgIHRoaXMuc2V0U2lkKHRyYWNrLnNpZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2ZhaWxlZCc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gdHJhY2suZXJyb3I7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2hGYWlsZWQoY3JlYXRlVHdpbGlvRXJyb3IoZXJyb3IuY29kZSwgZXJyb3IubWVzc2FnZSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vICdjcmVhdGVkJ1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExvY2FsVHJhY2tQdWJsaWNhdGlvblYyO1xufShMb2NhbFRyYWNrUHVibGljYXRpb25TaWduYWxpbmcpO1xuXG4vKipcbiAqIFRoZSBSb29tIFNpZ25hbGluZyBQcm90b2NvbCAoUlNQKSByZXByZXNlbnRhdGlvbiBvZiBhIHtAbGluayBMb2NhbFRyYWNrUHVibGljYXRpb25WMn0uXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBMb2NhbFRyYWNrUHVibGljYXRpb25WMiNSZXByZXNlbnRhdGlvblxuICogQHByb3BlcnR5IHtib29sZWFufSBlbmFibGVkXG4gKiBAcHJvcGVydHkge1RyYWNrLklEfSBpZFxuICogQHByb3BlcnR5IHtUcmFjay5LaW5kfSBraW5kXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbmFtZVxuICogQHByb3BlcnR5IHtUcmFjay5TSUR9IHNpZFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gTG9jYWxUcmFja1B1YmxpY2F0aW9uVjI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvdjIvbG9jYWx0cmFja3B1YmxpY2F0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAzNzZcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///376\n");

/***/ }),
/* 377 */
/*!**************************************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/localtrackpublication.js ***!
  \**************************************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TrackSignaling = __webpack_require__(/*! ./track */ 258);\n\n/**\n * A {@link LocalTrackPublication} implementation\n * @extends TrackSignaling\n * @property {?Error} error - non-null if publication failed\n * @property {Track.ID} id\n */\n\nvar LocalTrackPublicationSignaling = function (_TrackSignaling) {\n  _inherits(LocalTrackPublicationSignaling, _TrackSignaling);\n\n  /**\n   * Construct a {@link LocalTrackPublicationSignaling}.\n   * @param {DataTrackSender|MediaTrackSender} trackSender\n   * @param {string} name\n   */\n  function LocalTrackPublicationSignaling(trackSender, name) {\n    _classCallCheck(this, LocalTrackPublicationSignaling);\n\n    var enabled = trackSender.kind === 'data' ? true : trackSender.track.enabled;\n\n    var _this = _possibleConstructorReturn(this, (LocalTrackPublicationSignaling.__proto__ || Object.getPrototypeOf(LocalTrackPublicationSignaling)).call(this, name, trackSender.kind, enabled));\n\n    _this.setTrackTransceiver(trackSender);\n    Object.defineProperties(_this, {\n      _error: {\n        value: null,\n        writable: true\n      },\n      error: {\n        enumerable: true,\n        get: function get() {\n          return this._error;\n        }\n      },\n      id: {\n        enumerable: true,\n        value: trackSender.id\n      }\n    });\n    return _this;\n  }\n\n  /**\n   * Rejects the SID's deferred promise with the given Error.\n   * @param {Error} error\n   * @returns {this}\n   */\n\n\n  _createClass(LocalTrackPublicationSignaling, [{\n    key: 'publishFailed',\n    value: function publishFailed(error) {\n      if (setError(this, error)) {\n        this.emit('updated');\n      }\n      return this;\n    }\n  }, {\n    key: 'setSid',\n    value: function setSid(sid) {\n      if (this._error) {\n        return this;\n      }\n      return _get(LocalTrackPublicationSignaling.prototype.__proto__ || Object.getPrototypeOf(LocalTrackPublicationSignaling.prototype), 'setSid', this).call(this, sid);\n    }\n  }]);\n\n  return LocalTrackPublicationSignaling;\n}(TrackSignaling);\n\n/**\n * @param {LocalTrackPublication} publication\n * @param {Error} error\n * @returns {boolean} updated\n */\n\n\nfunction setError(publication, error) {\n  if (publication._sid !== null || publication._error) {\n    return false;\n  }\n  publication._error = error;\n  return true;\n}\n\nmodule.exports = LocalTrackPublicationSignaling;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvbG9jYWx0cmFja3B1YmxpY2F0aW9uLmpzPzlmMTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLHFEQUFxRCxrREFBa0QsOERBQThELDBCQUEwQiw0Q0FBNEMsdUJBQXVCLGtCQUFrQixFQUFFLE9BQU8sd0NBQXdDLEVBQUUsRUFBRSw0QkFBNEIsbUJBQW1CLEVBQUUsT0FBTyx1QkFBdUIsNEJBQTRCLGtCQUFrQixFQUFFLDhCQUE4QixFQUFFOztBQUV4ZSxpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLHFCQUFxQixtQkFBTyxDQUFDLGtCQUFTOztBQUV0QztBQUNBLE1BQU0sNEJBQTRCO0FBQ2xDO0FBQ0EsY0FBYyxPQUFPO0FBQ3JCLGNBQWMsU0FBUztBQUN2Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLHFDQUFxQztBQUN2RCxhQUFhLGlDQUFpQztBQUM5QyxhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLE1BQU07QUFDbkIsZUFBZTtBQUNmOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQSxXQUFXLHNCQUFzQjtBQUNqQyxXQUFXLE1BQU07QUFDakIsYUFBYSxRQUFRO0FBQ3JCOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsImZpbGUiOiIzNzcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTsgfSB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgVHJhY2tTaWduYWxpbmcgPSByZXF1aXJlKCcuL3RyYWNrJyk7XG5cbi8qKlxuICogQSB7QGxpbmsgTG9jYWxUcmFja1B1YmxpY2F0aW9ufSBpbXBsZW1lbnRhdGlvblxuICogQGV4dGVuZHMgVHJhY2tTaWduYWxpbmdcbiAqIEBwcm9wZXJ0eSB7P0Vycm9yfSBlcnJvciAtIG5vbi1udWxsIGlmIHB1YmxpY2F0aW9uIGZhaWxlZFxuICogQHByb3BlcnR5IHtUcmFjay5JRH0gaWRcbiAqL1xuXG52YXIgTG9jYWxUcmFja1B1YmxpY2F0aW9uU2lnbmFsaW5nID0gZnVuY3Rpb24gKF9UcmFja1NpZ25hbGluZykge1xuICBfaW5oZXJpdHMoTG9jYWxUcmFja1B1YmxpY2F0aW9uU2lnbmFsaW5nLCBfVHJhY2tTaWduYWxpbmcpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSB7QGxpbmsgTG9jYWxUcmFja1B1YmxpY2F0aW9uU2lnbmFsaW5nfS5cbiAgICogQHBhcmFtIHtEYXRhVHJhY2tTZW5kZXJ8TWVkaWFUcmFja1NlbmRlcn0gdHJhY2tTZW5kZXJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICovXG4gIGZ1bmN0aW9uIExvY2FsVHJhY2tQdWJsaWNhdGlvblNpZ25hbGluZyh0cmFja1NlbmRlciwgbmFtZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb2NhbFRyYWNrUHVibGljYXRpb25TaWduYWxpbmcpO1xuXG4gICAgdmFyIGVuYWJsZWQgPSB0cmFja1NlbmRlci5raW5kID09PSAnZGF0YScgPyB0cnVlIDogdHJhY2tTZW5kZXIudHJhY2suZW5hYmxlZDtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChMb2NhbFRyYWNrUHVibGljYXRpb25TaWduYWxpbmcuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihMb2NhbFRyYWNrUHVibGljYXRpb25TaWduYWxpbmcpKS5jYWxsKHRoaXMsIG5hbWUsIHRyYWNrU2VuZGVyLmtpbmQsIGVuYWJsZWQpKTtcblxuICAgIF90aGlzLnNldFRyYWNrVHJhbnNjZWl2ZXIodHJhY2tTZW5kZXIpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF90aGlzLCB7XG4gICAgICBfZXJyb3I6IHtcbiAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9LFxuICAgICAgZXJyb3I6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaWQ6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHRyYWNrU2VuZGVyLmlkXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlamVjdHMgdGhlIFNJRCdzIGRlZmVycmVkIHByb21pc2Ugd2l0aCB0aGUgZ2l2ZW4gRXJyb3IuXG4gICAqIEBwYXJhbSB7RXJyb3J9IGVycm9yXG4gICAqIEByZXR1cm5zIHt0aGlzfVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhMb2NhbFRyYWNrUHVibGljYXRpb25TaWduYWxpbmcsIFt7XG4gICAga2V5OiAncHVibGlzaEZhaWxlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHB1Ymxpc2hGYWlsZWQoZXJyb3IpIHtcbiAgICAgIGlmIChzZXRFcnJvcih0aGlzLCBlcnJvcikpIHtcbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGVkJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRTaWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTaWQoc2lkKSB7XG4gICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2dldChMb2NhbFRyYWNrUHVibGljYXRpb25TaWduYWxpbmcucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTG9jYWxUcmFja1B1YmxpY2F0aW9uU2lnbmFsaW5nLnByb3RvdHlwZSksICdzZXRTaWQnLCB0aGlzKS5jYWxsKHRoaXMsIHNpZCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExvY2FsVHJhY2tQdWJsaWNhdGlvblNpZ25hbGluZztcbn0oVHJhY2tTaWduYWxpbmcpO1xuXG4vKipcbiAqIEBwYXJhbSB7TG9jYWxUcmFja1B1YmxpY2F0aW9ufSBwdWJsaWNhdGlvblxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3JcbiAqIEByZXR1cm5zIHtib29sZWFufSB1cGRhdGVkXG4gKi9cblxuXG5mdW5jdGlvbiBzZXRFcnJvcihwdWJsaWNhdGlvbiwgZXJyb3IpIHtcbiAgaWYgKHB1YmxpY2F0aW9uLl9zaWQgIT09IG51bGwgfHwgcHVibGljYXRpb24uX2Vycm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHB1YmxpY2F0aW9uLl9lcnJvciA9IGVycm9yO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBMb2NhbFRyYWNrUHVibGljYXRpb25TaWduYWxpbmc7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvbG9jYWx0cmFja3B1YmxpY2F0aW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAzNzdcbi8vIG1vZHVsZSBjaHVua3MgPSAxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///377\n");

/***/ }),
/* 378 */
/*!**********************************************************!*\
  !*** ./node_modules/twilio-video/es5/signaling/index.js ***!
  \**********************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* eslint consistent-return:0 */\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ParticipantSignaling = __webpack_require__(/*! ./participant */ 228);\nvar RoomSignaling = __webpack_require__(/*! ./room */ 257);\nvar StateMachine = __webpack_require__(/*! ../statemachine */ 215);\n\n/*\nSignaling States\n----------------\n\n              +---------+\n              |         |\n              | opening |\n         +--->|         |\n         |    +---------+\n    +--------+   |   |   +------+\n    |        |<--+   +-->|      |\n    | closed |<----------| open |\n    |        |<--+   +-->|      |\n    +--------+   |   |   +------+\n              +---------+   |\n              |         |<--+\n              | closing |\n              |         |\n              +---------+\n\n*/\n\nvar states = {\n  closed: ['opening'],\n  opening: ['closed', 'open'],\n  open: ['closed', 'closing'],\n  closing: ['closed', 'open']\n};\n\n/**\n * @extends StateMachine\n * @property {string} state - one of \"closed\", \"opening\", \"open\", or \"closing\"\n */\n\nvar Signaling = function (_StateMachine) {\n  _inherits(Signaling, _StateMachine);\n\n  /**\n   * Construct {@link Signaling}.\n   */\n  function Signaling() {\n    _classCallCheck(this, Signaling);\n\n    return _possibleConstructorReturn(this, (Signaling.__proto__ || Object.getPrototypeOf(Signaling)).call(this, 'closed', states));\n  }\n\n  /**\n   * @private\n   */\n  // NOTE(mroberts): This is a dummy implementation suitable for testing.\n\n\n  _createClass(Signaling, [{\n    key: '_close',\n    value: function _close(key) {\n      this.transition('closing', key);\n      this.transition('closed', key);\n      return Promise.resolve(this);\n    }\n\n    /**\n     * @private\n     */\n    // NOTE(mroberts): This is a dummy implementation suitable for testing.\n\n  }, {\n    key: '_connect',\n    value: function _connect(localParticipant, token, iceServerSource, encodingParameters, preferredCodecs, options) {\n      localParticipant.connect('PA00000000000000000000000000000000', 'test');\n      var sid = 'RM00000000000000000000000000000000';\n      var promise = Promise.resolve(new RoomSignaling(localParticipant, sid, options));\n      promise.cancel = function cancel() {};\n      return promise;\n    }\n\n    /**\n     * @private\n     */\n    // NOTE(mroberts): This is a dummy implementation suitable for testing.\n\n  }, {\n    key: '_open',\n    value: function _open(key) {\n      this.transition('opening', key);\n      this.transition('open', key);\n      return Promise.resolve(this);\n    }\n\n    /**\n     * Close the {@link Signaling}.\n     * @returns {Promise<this>}\n     */\n\n  }, {\n    key: 'close',\n    value: function close() {\n      var _this2 = this;\n\n      return this.bracket('close', function (key) {\n        switch (_this2.state) {\n          case 'closed':\n            return _this2;\n          case 'open':\n            return _this2._close(key);\n          default:\n            throw new Error('Unexpected Signaling state \"' + _this2.state + '\"');\n        }\n      });\n    }\n\n    /**\n     * Connect to a {@link RoomSignaling}.\n     * @param {ParticipantSignaling} localParticipant\n     * @param {string} token\n     * @param {IceServerSource} iceServerSource\n     * @param {EncodingParametersImpl} encodingParameters\n     * @param {PreferredCodecs} preferredCodecs\n     * @param {object} options\n     * @returns {Promise<function(): CancelablePromise<RoomSignaling>>}\n     */\n\n  }, {\n    key: 'connect',\n    value: function connect(localParticipant, token, iceServerSource, encodingParameters, preferredCodecs, options) {\n      var self = this;\n      return this.bracket('connect', function transition(key) {\n        switch (self.state) {\n          case 'closed':\n            return self._open(key).then(transition.bind(null, key));\n          case 'open':\n            // NOTE(mroberts): We don't need to hold the lock in _connect. Instead,\n            // we just need to ensure the Signaling remains open.\n            self.releaseLockCompletely(key);\n            return self._connect(localParticipant, token, iceServerSource, encodingParameters, preferredCodecs, options);\n          default:\n            throw new Error('Unexpected Signaling state \"' + self.state + '\"');\n        }\n      });\n    }\n\n    /**\n     * Create a local {@link ParticipantSignaling}.\n     * @returns {ParticipantSignaling}\n     */\n\n  }, {\n    key: 'createLocalParticipantSignaling',\n    value: function createLocalParticipantSignaling() {\n      return new ParticipantSignaling();\n    }\n\n    /**\n     * Open the {@link Signaling}.\n     * @returns {Promise<this>}\n     */\n\n  }, {\n    key: 'open',\n    value: function open() {\n      var _this3 = this;\n\n      return this.bracket('open', function (key) {\n        switch (_this3.state) {\n          case 'closed':\n            return _this3._open(key);\n          case 'open':\n            return _this3;\n          default:\n            throw new Error('Unexpected Signaling state \"' + _this3.state + '\"');\n        }\n      });\n    }\n  }]);\n\n  return Signaling;\n}(StateMachine);\n\nmodule.exports = Signaling;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvaW5kZXguanM/ODJhZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNhOztBQUViLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlLDJCQUEyQixtQkFBTyxDQUFDLHdCQUFlO0FBQ2xELG9CQUFvQixtQkFBTyxDQUFDLGlCQUFRO0FBQ3BDLG1CQUFtQixtQkFBTyxDQUFDLDBCQUFpQjs7QUFFNUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWMsT0FBTztBQUNyQjs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEMsaUJBQWlCO0FBQ2pCOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0EscUJBQXFCLG9CQUFvQjtBQUN6QyxlQUFlLHFCQUFxQjtBQUNwQyxlQUFlLE9BQU87QUFDdEIsZUFBZSxnQkFBZ0I7QUFDL0IsZUFBZSx1QkFBdUI7QUFDdEMsZUFBZSxnQkFBZ0I7QUFDL0IsZUFBZSxPQUFPO0FBQ3RCLGlCQUFpQjtBQUNqQjs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0EsdUJBQXVCLDJCQUEyQjtBQUNsRCxpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCLGdCQUFnQjtBQUNqQyxpQkFBaUI7QUFDakI7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRCIsImZpbGUiOiIzNzguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQgY29uc2lzdGVudC1yZXR1cm46MCAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBQYXJ0aWNpcGFudFNpZ25hbGluZyA9IHJlcXVpcmUoJy4vcGFydGljaXBhbnQnKTtcbnZhciBSb29tU2lnbmFsaW5nID0gcmVxdWlyZSgnLi9yb29tJyk7XG52YXIgU3RhdGVNYWNoaW5lID0gcmVxdWlyZSgnLi4vc3RhdGVtYWNoaW5lJyk7XG5cbi8qXG5TaWduYWxpbmcgU3RhdGVzXG4tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAgICAgICAgICAgKy0tLS0tLS0tLStcbiAgICAgICAgICAgICAgfCAgICAgICAgIHxcbiAgICAgICAgICAgICAgfCBvcGVuaW5nIHxcbiAgICAgICAgICstLS0+fCAgICAgICAgIHxcbiAgICAgICAgIHwgICAgKy0tLS0tLS0tLStcbiAgICArLS0tLS0tLS0rICAgfCAgIHwgICArLS0tLS0tK1xuICAgIHwgICAgICAgIHw8LS0rICAgKy0tPnwgICAgICB8XG4gICAgfCBjbG9zZWQgfDwtLS0tLS0tLS0tfCBvcGVuIHxcbiAgICB8ICAgICAgICB8PC0tKyAgICstLT58ICAgICAgfFxuICAgICstLS0tLS0tLSsgICB8ICAgfCAgICstLS0tLS0rXG4gICAgICAgICAgICAgICstLS0tLS0tLS0rICAgfFxuICAgICAgICAgICAgICB8ICAgICAgICAgfDwtLStcbiAgICAgICAgICAgICAgfCBjbG9zaW5nIHxcbiAgICAgICAgICAgICAgfCAgICAgICAgIHxcbiAgICAgICAgICAgICAgKy0tLS0tLS0tLStcblxuKi9cblxudmFyIHN0YXRlcyA9IHtcbiAgY2xvc2VkOiBbJ29wZW5pbmcnXSxcbiAgb3BlbmluZzogWydjbG9zZWQnLCAnb3BlbiddLFxuICBvcGVuOiBbJ2Nsb3NlZCcsICdjbG9zaW5nJ10sXG4gIGNsb3Npbmc6IFsnY2xvc2VkJywgJ29wZW4nXVxufTtcblxuLyoqXG4gKiBAZXh0ZW5kcyBTdGF0ZU1hY2hpbmVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdGF0ZSAtIG9uZSBvZiBcImNsb3NlZFwiLCBcIm9wZW5pbmdcIiwgXCJvcGVuXCIsIG9yIFwiY2xvc2luZ1wiXG4gKi9cblxudmFyIFNpZ25hbGluZyA9IGZ1bmN0aW9uIChfU3RhdGVNYWNoaW5lKSB7XG4gIF9pbmhlcml0cyhTaWduYWxpbmcsIF9TdGF0ZU1hY2hpbmUpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3Qge0BsaW5rIFNpZ25hbGluZ30uXG4gICAqL1xuICBmdW5jdGlvbiBTaWduYWxpbmcoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNpZ25hbGluZyk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFNpZ25hbGluZy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNpZ25hbGluZykpLmNhbGwodGhpcywgJ2Nsb3NlZCcsIHN0YXRlcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICAvLyBOT1RFKG1yb2JlcnRzKTogVGhpcyBpcyBhIGR1bW15IGltcGxlbWVudGF0aW9uIHN1aXRhYmxlIGZvciB0ZXN0aW5nLlxuXG5cbiAgX2NyZWF0ZUNsYXNzKFNpZ25hbGluZywgW3tcbiAgICBrZXk6ICdfY2xvc2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY2xvc2Uoa2V5KSB7XG4gICAgICB0aGlzLnRyYW5zaXRpb24oJ2Nsb3NpbmcnLCBrZXkpO1xuICAgICAgdGhpcy50cmFuc2l0aW9uKCdjbG9zZWQnLCBrZXkpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIC8vIE5PVEUobXJvYmVydHMpOiBUaGlzIGlzIGEgZHVtbXkgaW1wbGVtZW50YXRpb24gc3VpdGFibGUgZm9yIHRlc3RpbmcuXG5cbiAgfSwge1xuICAgIGtleTogJ19jb25uZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2Nvbm5lY3QobG9jYWxQYXJ0aWNpcGFudCwgdG9rZW4sIGljZVNlcnZlclNvdXJjZSwgZW5jb2RpbmdQYXJhbWV0ZXJzLCBwcmVmZXJyZWRDb2RlY3MsIG9wdGlvbnMpIHtcbiAgICAgIGxvY2FsUGFydGljaXBhbnQuY29ubmVjdCgnUEEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcsICd0ZXN0Jyk7XG4gICAgICB2YXIgc2lkID0gJ1JNMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnO1xuICAgICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUobmV3IFJvb21TaWduYWxpbmcobG9jYWxQYXJ0aWNpcGFudCwgc2lkLCBvcHRpb25zKSk7XG4gICAgICBwcm9taXNlLmNhbmNlbCA9IGZ1bmN0aW9uIGNhbmNlbCgpIHt9O1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICAvLyBOT1RFKG1yb2JlcnRzKTogVGhpcyBpcyBhIGR1bW15IGltcGxlbWVudGF0aW9uIHN1aXRhYmxlIGZvciB0ZXN0aW5nLlxuXG4gIH0sIHtcbiAgICBrZXk6ICdfb3BlbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vcGVuKGtleSkge1xuICAgICAgdGhpcy50cmFuc2l0aW9uKCdvcGVuaW5nJywga2V5KTtcbiAgICAgIHRoaXMudHJhbnNpdGlvbignb3BlbicsIGtleSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb3NlIHRoZSB7QGxpbmsgU2lnbmFsaW5nfS5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx0aGlzPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY2xvc2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gdGhpcy5icmFja2V0KCdjbG9zZScsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgc3dpdGNoIChfdGhpczIuc3RhdGUpIHtcbiAgICAgICAgICBjYXNlICdjbG9zZWQnOlxuICAgICAgICAgICAgcmV0dXJuIF90aGlzMjtcbiAgICAgICAgICBjYXNlICdvcGVuJzpcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuX2Nsb3NlKGtleSk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBTaWduYWxpbmcgc3RhdGUgXCInICsgX3RoaXMyLnN0YXRlICsgJ1wiJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbm5lY3QgdG8gYSB7QGxpbmsgUm9vbVNpZ25hbGluZ30uXG4gICAgICogQHBhcmFtIHtQYXJ0aWNpcGFudFNpZ25hbGluZ30gbG9jYWxQYXJ0aWNpcGFudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0b2tlblxuICAgICAqIEBwYXJhbSB7SWNlU2VydmVyU291cmNlfSBpY2VTZXJ2ZXJTb3VyY2VcbiAgICAgKiBAcGFyYW0ge0VuY29kaW5nUGFyYW1ldGVyc0ltcGx9IGVuY29kaW5nUGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7UHJlZmVycmVkQ29kZWNzfSBwcmVmZXJyZWRDb2RlY3NcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGZ1bmN0aW9uKCk6IENhbmNlbGFibGVQcm9taXNlPFJvb21TaWduYWxpbmc+Pn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY29ubmVjdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbm5lY3QobG9jYWxQYXJ0aWNpcGFudCwgdG9rZW4sIGljZVNlcnZlclNvdXJjZSwgZW5jb2RpbmdQYXJhbWV0ZXJzLCBwcmVmZXJyZWRDb2RlY3MsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHJldHVybiB0aGlzLmJyYWNrZXQoJ2Nvbm5lY3QnLCBmdW5jdGlvbiB0cmFuc2l0aW9uKGtleSkge1xuICAgICAgICBzd2l0Y2ggKHNlbGYuc3RhdGUpIHtcbiAgICAgICAgICBjYXNlICdjbG9zZWQnOlxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX29wZW4oa2V5KS50aGVuKHRyYW5zaXRpb24uYmluZChudWxsLCBrZXkpKTtcbiAgICAgICAgICBjYXNlICdvcGVuJzpcbiAgICAgICAgICAgIC8vIE5PVEUobXJvYmVydHMpOiBXZSBkb24ndCBuZWVkIHRvIGhvbGQgdGhlIGxvY2sgaW4gX2Nvbm5lY3QuIEluc3RlYWQsXG4gICAgICAgICAgICAvLyB3ZSBqdXN0IG5lZWQgdG8gZW5zdXJlIHRoZSBTaWduYWxpbmcgcmVtYWlucyBvcGVuLlxuICAgICAgICAgICAgc2VsZi5yZWxlYXNlTG9ja0NvbXBsZXRlbHkoa2V5KTtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9jb25uZWN0KGxvY2FsUGFydGljaXBhbnQsIHRva2VuLCBpY2VTZXJ2ZXJTb3VyY2UsIGVuY29kaW5nUGFyYW1ldGVycywgcHJlZmVycmVkQ29kZWNzLCBvcHRpb25zKTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIFNpZ25hbGluZyBzdGF0ZSBcIicgKyBzZWxmLnN0YXRlICsgJ1wiJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGxvY2FsIHtAbGluayBQYXJ0aWNpcGFudFNpZ25hbGluZ30uXG4gICAgICogQHJldHVybnMge1BhcnRpY2lwYW50U2lnbmFsaW5nfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdjcmVhdGVMb2NhbFBhcnRpY2lwYW50U2lnbmFsaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlTG9jYWxQYXJ0aWNpcGFudFNpZ25hbGluZygpIHtcbiAgICAgIHJldHVybiBuZXcgUGFydGljaXBhbnRTaWduYWxpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPcGVuIHRoZSB7QGxpbmsgU2lnbmFsaW5nfS5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx0aGlzPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnb3BlbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuYnJhY2tldCgnb3BlbicsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgc3dpdGNoIChfdGhpczMuc3RhdGUpIHtcbiAgICAgICAgICBjYXNlICdjbG9zZWQnOlxuICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5fb3BlbihrZXkpO1xuICAgICAgICAgIGNhc2UgJ29wZW4nOlxuICAgICAgICAgICAgcmV0dXJuIF90aGlzMztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIFNpZ25hbGluZyBzdGF0ZSBcIicgKyBfdGhpczMuc3RhdGUgKyAnXCInKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNpZ25hbGluZztcbn0oU3RhdGVNYWNoaW5lKTtcblxubW9kdWxlLmV4cG9ydHMgPSBTaWduYWxpbmc7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS9zaWduYWxpbmcvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDM3OFxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///378\n");

/***/ }),
/* 379 */
/*!*******************************************************!*\
  !*** ./node_modules/twilio-video/es5/util/support.js ***!
  \*******************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* globals RTCPeerConnection, webkitRTCPeerConnection, mozRTCPeerConnection, navigator */\n\n\nvar guessBrowser = __webpack_require__(/*! ./ */ 206).guessBrowser;\n\n/**\n * Check whether PeerConnection API is supported.\n * @returns {boolean}\n */\nfunction isRTCPeerConnectionSupported() {\n  return typeof RTCPeerConnection !== 'undefined' || typeof webkitRTCPeerConnection !== 'undefined' || typeof mozRTCPeerConnection !== 'undefined';\n}\n\n/**\n * Check whether GetUserMedia API is supported.\n * @returns {boolean}\n */\nfunction isGetUserMediaSupported() {\n  return !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia) || !!navigator.getUserMedia || !!navigator.webkitGetUserMedia || !!navigator.mozGetUserMedia;\n}\n\n/**\n * Check if the current environment is supported by the SDK.\n * @returns {boolean}\n */\nfunction isSupported() {\n  return !!guessBrowser() && isGetUserMediaSupported() && isRTCPeerConnectionSupported();\n}\n\nmodule.exports = isSupported;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL3N1cHBvcnQuanM/NGEzZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNhOztBQUViLG1CQUFtQixtQkFBTyxDQUFDLGFBQUk7O0FBRS9CO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwiZmlsZSI6IjM3OS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbHMgUlRDUGVlckNvbm5lY3Rpb24sIHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLCBtb3pSVENQZWVyQ29ubmVjdGlvbiwgbmF2aWdhdG9yICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBndWVzc0Jyb3dzZXIgPSByZXF1aXJlKCcuLycpLmd1ZXNzQnJvd3NlcjtcblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIFBlZXJDb25uZWN0aW9uIEFQSSBpcyBzdXBwb3J0ZWQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNSVENQZWVyQ29ubmVjdGlvblN1cHBvcnRlZCgpIHtcbiAgcmV0dXJuIHR5cGVvZiBSVENQZWVyQ29ubmVjdGlvbiAhPT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uICE9PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgbW96UlRDUGVlckNvbm5lY3Rpb24gIT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgR2V0VXNlck1lZGlhIEFQSSBpcyBzdXBwb3J0ZWQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNHZXRVc2VyTWVkaWFTdXBwb3J0ZWQoKSB7XG4gIHJldHVybiAhIShuYXZpZ2F0b3IubWVkaWFEZXZpY2VzICYmIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSB8fCAhIW5hdmlnYXRvci5nZXRVc2VyTWVkaWEgfHwgISFuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhIHx8ICEhbmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgY3VycmVudCBlbnZpcm9ubWVudCBpcyBzdXBwb3J0ZWQgYnkgdGhlIFNESy5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcbiAgcmV0dXJuICEhZ3Vlc3NCcm93c2VyKCkgJiYgaXNHZXRVc2VyTWVkaWFTdXBwb3J0ZWQoKSAmJiBpc1JUQ1BlZXJDb25uZWN0aW9uU3VwcG9ydGVkKCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNTdXBwb3J0ZWQ7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdHdpbGlvLXZpZGVvL2VzNS91dGlsL3N1cHBvcnQuanNcbi8vIG1vZHVsZSBpZCA9IDM3OVxuLy8gbW9kdWxlIGNodW5rcyA9IDEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///379\n");

/***/ })
]));